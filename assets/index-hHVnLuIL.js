(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function o2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nm={exports:{}},Dc={},jm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function ck(){if(t1)return Oe;t1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function S(U,J,ve){this.props=U,this.context=J,this.refs=A,this.updater=ve||T}S.prototype.isReactComponent={},S.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=S.prototype;function j(U,J,ve){this.props=U,this.context=J,this.refs=A,this.updater=ve||T}var V=j.prototype=new D;V.constructor=j,k(V,S.prototype),V.isPureReactComponent=!0;var $=Array.isArray,H=Object.prototype.hasOwnProperty,B={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(U,J,ve){var be,je={},_e=null,Fe=null;if(J!=null)for(be in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(_e=""+J.key),J)H.call(J,be)&&!I.hasOwnProperty(be)&&(je[be]=J[be]);var De=arguments.length-2;if(De===1)je.children=ve;else if(1<De){for(var Me=Array(De),ke=0;ke<De;ke++)Me[ke]=arguments[ke+2];je.children=Me}if(U&&U.defaultProps)for(be in De=U.defaultProps,De)je[be]===void 0&&(je[be]=De[be]);return{$$typeof:t,type:U,key:_e,ref:Fe,props:je,_owner:B.current}}function N(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function O(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return J[ve]})}var q=/\/+/g;function M(U,J){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):J.toString(36)}function Ne(U,J,ve,be,je){var _e=typeof U;(_e==="undefined"||_e==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(_e){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=U,je=je(Fe),U=be===""?"."+M(Fe,0):be,$(je)?(ve="",U!=null&&(ve=U.replace(q,"$&/")+"/"),Ne(je,J,ve,"",function(ke){return ke})):je!=null&&(L(je)&&(je=N(je,ve+(!je.key||Fe&&Fe.key===je.key?"":(""+je.key).replace(q,"$&/")+"/")+U)),J.push(je)),1;if(Fe=0,be=be===""?".":be+":",$(U))for(var De=0;De<U.length;De++){_e=U[De];var Me=be+M(_e,De);Fe+=Ne(_e,J,ve,Me,je)}else if(Me=w(U),typeof Me=="function")for(U=Me.call(U),De=0;!(_e=U.next()).done;)_e=_e.value,Me=be+M(_e,De++),Fe+=Ne(_e,J,ve,Me,je);else if(_e==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Xe(U,J,ve){if(U==null)return U;var be=[],je=0;return Ne(U,be,"","",function(_e){return J.call(ve,_e,je++)}),be}function dt(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ge={current:null},se={transition:null},ce={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:B};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Xe,forEach:function(U,J,ve){Xe(U,function(){J.apply(this,arguments)},ve)},count:function(U){var J=0;return Xe(U,function(){J++}),J},toArray:function(U){return Xe(U,function(J){return J})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=S,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=j,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Oe.act=Z,Oe.cloneElement=function(U,J,ve){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=k({},U.props),je=U.key,_e=U.ref,Fe=U._owner;if(J!=null){if(J.ref!==void 0&&(_e=J.ref,Fe=B.current),J.key!==void 0&&(je=""+J.key),U.type&&U.type.defaultProps)var De=U.type.defaultProps;for(Me in J)H.call(J,Me)&&!I.hasOwnProperty(Me)&&(be[Me]=J[Me]===void 0&&De!==void 0?De[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)be.children=ve;else if(1<Me){De=Array(Me);for(var ke=0;ke<Me;ke++)De[ke]=arguments[ke+2];be.children=De}return{$$typeof:t,type:U.type,key:je,ref:_e,props:be,_owner:Fe}},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Oe.createElement=R,Oe.createFactory=function(U){var J=R.bind(null,U);return J.type=U,J},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=L,Oe.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:dt}},Oe.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},Oe.startTransition=function(U){var J=se.transition;se.transition={};try{U()}finally{se.transition=J}},Oe.unstable_act=Z,Oe.useCallback=function(U,J){return ge.current.useCallback(U,J)},Oe.useContext=function(U){return ge.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return ge.current.useDeferredValue(U)},Oe.useEffect=function(U,J){return ge.current.useEffect(U,J)},Oe.useId=function(){return ge.current.useId()},Oe.useImperativeHandle=function(U,J,ve){return ge.current.useImperativeHandle(U,J,ve)},Oe.useInsertionEffect=function(U,J){return ge.current.useInsertionEffect(U,J)},Oe.useLayoutEffect=function(U,J){return ge.current.useLayoutEffect(U,J)},Oe.useMemo=function(U,J){return ge.current.useMemo(U,J)},Oe.useReducer=function(U,J,ve){return ge.current.useReducer(U,J,ve)},Oe.useRef=function(U){return ge.current.useRef(U)},Oe.useState=function(U){return ge.current.useState(U)},Oe.useSyncExternalStore=function(U,J,ve){return ge.current.useSyncExternalStore(U,J,ve)},Oe.useTransition=function(){return ge.current.useTransition()},Oe.version="18.3.1",Oe}var n1;function ky(){return n1||(n1=1,jm.exports=ck()),jm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function uk(){if(r1)return Dc;r1=1;var t=ky(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,v={},w=null,T=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:w,ref:T,props:v,_owner:s.current}}return Dc.Fragment=n,Dc.jsx=l,Dc.jsxs=l,Dc}var s1;function dk(){return s1||(s1=1,Nm.exports=uk()),Nm.exports}var h=dk(),x=ky();const tn=o2(x);var lh={},Dm={exports:{}},Yn={},Lm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function hk(){return i1||(i1=1,(function(t){function e(se,ce){var Z=se.length;se.push(ce);e:for(;0<Z;){var U=Z-1>>>1,J=se[U];if(0<s(J,ce))se[U]=ce,se[Z]=J,Z=U;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ce=se[0],Z=se.pop();if(Z!==ce){se[0]=Z;e:for(var U=0,J=se.length,ve=J>>>1;U<ve;){var be=2*(U+1)-1,je=se[be],_e=be+1,Fe=se[_e];if(0>s(je,Z))_e<J&&0>s(Fe,je)?(se[U]=Fe,se[_e]=Z,U=_e):(se[U]=je,se[be]=Z,U=be);else if(_e<J&&0>s(Fe,Z))se[U]=Fe,se[_e]=Z,U=_e;else break e}}return ce}function s(se,ce){var Z=se.sortIndex-ce.sortIndex;return Z!==0?Z:se.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,v=null,w=3,T=!1,k=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(se){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=se)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(p)}}function $(se){if(A=!1,V(se),!k)if(n(d)!==null)k=!0,dt(H);else{var ce=n(p);ce!==null&&ge($,ce.startTime-se)}}function H(se,ce){k=!1,A&&(A=!1,D(R),R=-1),T=!0;var Z=w;try{for(V(ce),v=n(d);v!==null&&(!(v.expirationTime>ce)||se&&!O());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var J=U(v.expirationTime<=ce);ce=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),V(ce)}else r(d);v=n(d)}if(v!==null)var ve=!0;else{var be=n(p);be!==null&&ge($,be.startTime-ce),ve=!1}return ve}finally{v=null,w=Z,T=!1}}var B=!1,I=null,R=-1,N=5,L=-1;function O(){return!(t.unstable_now()-L<N)}function q(){if(I!==null){var se=t.unstable_now();L=se;var ce=!0;try{ce=I(!0,se)}finally{ce?M():(B=!1,I=null)}}else B=!1}var M;if(typeof j=="function")M=function(){j(q)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Xe=Ne.port2;Ne.port1.onmessage=q,M=function(){Xe.postMessage(null)}}else M=function(){S(q,0)};function dt(se){I=se,B||(B=!0,M())}function ge(se,ce){R=S(function(){se(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,dt(H))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var Z=w;w=ce;try{return se()}finally{w=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ce){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Z=w;w=se;try{return ce()}finally{w=Z}},t.unstable_scheduleCallback=function(se,ce,Z){var U=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?U+Z:U):Z=U,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,se={id:g++,callback:ce,priorityLevel:se,startTime:Z,expirationTime:J,sortIndex:-1},Z>U?(se.sortIndex=Z,e(p,se),n(d)===null&&se===n(p)&&(A?(D(R),R=-1):A=!0,ge($,Z-U))):(se.sortIndex=J,e(d,se),k||T||(k=!0,dt(H))),se},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(se){var ce=w;return function(){var Z=w;w=ce;try{return se.apply(this,arguments)}finally{w=Z}}}})(Mm)),Mm}var o1;function fk(){return o1||(o1=1,Lm.exports=hk()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function pk(){if(a1)return Yn;a1=1;var t=ky(),e=fk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(i){return d.call(v,i)?!0:d.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,a,c,m){if(a===null||typeof a>"u"||T(i,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,c,m,y,b,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=b,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];S[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,j);S[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,j);S[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,j);S[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function V(i,a,c,m){var y=S.hasOwnProperty(a)?S[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,y,m)&&(c=null),m||y===null?w(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,m=y.attributeNamespace,c===null?i.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?i.setAttributeNS(m,a,c):i.setAttribute(a,c))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),B=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),O=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,U;function J(i){if(U===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+i}var ve=!1;function be(i,a){if(!i||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var m=Y}Reflect.construct(i,[],a)}else{try{a.call()}catch(Y){m=Y}i.call(a.prototype)}else{try{throw Error()}catch(Y){m=Y}i()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),b=m.stack.split(`
`),C=y.length-1,F=b.length-1;1<=C&&0<=F&&y[C]!==b[F];)F--;for(;1<=C&&0<=F;C--,F--)if(y[C]!==b[F]){if(C!==1||F!==1)do if(C--,F--,0>F||y[C]!==b[F]){var z=`
`+y[C].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=C&&0<=F);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function je(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function _e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case B:return"Portal";case N:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case Ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Xe:return a=i.displayName||null,a!==null?a:_e(i.type)||"Memo";case dt:a=i._payload,i=i._init;try{return _e(i(a))}catch{}}return null}function Fe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ke(i){var a=Me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){m=""+C,b.call(this,C)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ht(i){i._valueTracker||(i._valueTracker=ke(i))}function vn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return i&&(m=Me(i)?i.checked?"true":"false":i.value),i=m,i!==c?(a.setValue(i),!0):!1}function Nn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function wn(i,a){var c=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Vr(i,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=De(a.value!=null?a.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function sr(i,a){a=a.checked,a!=null&&V(i,"checked",a,!1)}function as(i,a){sr(i,a);var c=De(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ht(i,a.type,c):a.hasOwnProperty("defaultValue")&&ht(i,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function vi(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ht(i,a,c){(a!=="number"||Nn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Je=Array.isArray;function xn(i,a,c,m){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&m&&(i[c].defaultSelected=!0)}else{for(c=""+De(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ls(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wi(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Je(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:De(c)}}function Eo(i,a){var c=De(a.value),m=De(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function cs(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function To(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?To(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var jn,us=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,c,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=jn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ds(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},So=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(i){So.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),sn[a]=sn[i]})});function hs(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||sn.hasOwnProperty(i)&&sn[i]?(""+a).trim():a+"px"}function xi(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=hs(c,a[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,y):i[c]=y}}var Bs=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $n(i,a){if(a){if(Bs[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function bi(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function _i(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fr=null,Ur=null,Ve=null;function Ut(i){if(i=wc(i)){if(typeof Fr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Ed(a),Fr(i.stateNode,i.type,a))}}function _t(i){Ur?Ve?Ve.push(i):Ve=[i]:Ur=i}function on(){if(Ur){var i=Ur,a=Ve;if(Ve=Ur=null,Ut(i),a)for(i=0;i<a.length;i++)Ut(a[i])}}function an(i,a){return i(a)}function Gt(){}var It=!1;function Br(i,a,c){if(It)return i(a,c);It=!0;try{return an(i,a,c)}finally{It=!1,(Ur!==null||Ve!==null)&&(Gt(),on())}}function at(i,a){var c=i.stateNode;if(c===null)return null;var m=Ed(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var ln=!1;if(u)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){ln=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{ln=!1}function Wn(i,a,c,m,y,b,C,F,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(re){this.onError(re)}}var Dn=!1,bn=null,Ln=!1,Kt=null,Ei={onError:function(i){Dn=!0,bn=i}};function nd(i,a,c,m,y,b,C,F,z){Dn=!1,bn=null,Wn.apply(Ei,arguments)}function Gl(i,a,c,m,y,b,C,F,z){if(nd.apply(this,arguments),Dn){if(Dn){var Y=bn;Dn=!1,bn=null}else throw Error(n(198));Ln||(Ln=!0,Kt=Y)}}function zr(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Kl(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function rd(i){if(zr(i)!==i)throw Error(n(188))}function sd(i){var a=i.alternate;if(!a){if(a=zr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,m=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return rd(y),i;if(b===m)return rd(y),a;b=b.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=b;else{for(var C=!1,F=y.child;F;){if(F===c){C=!0,c=y,m=b;break}if(F===m){C=!0,m=y,c=b;break}F=F.sibling}if(!C){for(F=b.child;F;){if(F===c){C=!0,c=b,m=y;break}if(F===m){C=!0,m=b,c=y;break}F=F.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function id(i){return i=sd(i),i!==null?Co(i):null}function Co(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Co(i);if(a!==null)return a;i=i.sibling}return null}var Ql=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,Io=e.unstable_shouldYield,zs=e.unstable_requestPaint,lt=e.unstable_now,cp=e.unstable_getCurrentPriorityLevel,ba=e.unstable_ImmediatePriority,Yl=e.unstable_UserBlockingPriority,Ro=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,_a=e.unstable_IdlePriority,Ao=null,or=null;function od(i){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Ao,i,void 0,(i.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:ko,fs=Math.log,br=Math.LN2;function ko(i){return i>>>=0,i===0?32:31-(fs(i)/br|0)|0}var ps=64,Ti=4194304;function Ye(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $s(i,a){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,b=i.pingedLanes,C=c&268435455;if(C!==0){var F=C&~y;F!==0?m=Ye(F):(b&=C,b!==0&&(m=Ye(b)))}else C=c&~y,C!==0?m=Ye(C):b!==0&&(m=Ye(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)c=31-ar(a),y=1<<c,m|=i[c],a&=~y;return m}function Po(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(i,a){for(var c=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes;0<b;){var C=31-ar(b),F=1<<C,z=y[C];z===-1?((F&c)===0||(F&m)!==0)&&(y[C]=Po(F,a)):z<=a&&(i.expiredLanes|=F),b&=~F}}function Jl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Zl(){var i=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),i}function ec(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function jo(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ar(a),i[a]=c}function up(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-ar(c),b=1<<y;a[y]=0,m[y]=-1,i[y]=-1,c&=~b}}function tc(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var m=31-ar(c),y=1<<m;y&a|i[m]&a&&(i[m]|=a),c&=~y}}var We=0;function ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var nc,Ea,rc,sc,ic,gs=!1,Ta=[],ys=null,vs=null,cn=null,Do=new Map,Ws=new Map,lr=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Si(i,a){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Do.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(a.pointerId)}}function $r(i,a,c,m,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},a!==null&&(a=wc(a),a!==null&&Ea(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function ld(i,a,c,m,y){switch(a){case"focusin":return ys=$r(ys,i,a,c,m,y),!0;case"dragenter":return vs=$r(vs,i,a,c,m,y),!0;case"mouseover":return cn=$r(cn,i,a,c,m,y),!0;case"pointerover":var b=y.pointerId;return Do.set(b,$r(Do.get(b)||null,i,a,c,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Ws.set(b,$r(Ws.get(b)||null,i,a,c,m,y)),!0}return!1}function Sa(i){var a=Oo(i.target);if(a!==null){var c=zr(a);if(c!==null){if(a=c.tag,a===13){if(a=Kl(c),a!==null){i.blockedOn=a,ic(i.priority,function(){rc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Ca(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Or=m,c.target.dispatchEvent(m),Or=null}else return a=wc(c),a!==null&&Ea(a),i.blockedOn=c,!1;a.shift()}return!0}function cd(i,a,c){nt(i)&&c.delete(a)}function dp(){gs=!1,ys!==null&&nt(ys)&&(ys=null),vs!==null&&nt(vs)&&(vs=null),cn!==null&&nt(cn)&&(cn=null),Do.forEach(cd),Ws.forEach(cd)}function Ci(i,a){i.blockedOn===a&&(i.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dp)))}function Ii(i){function a(y){return Ci(y,i)}if(0<Ta.length){Ci(Ta[0],i);for(var c=1;c<Ta.length;c++){var m=Ta[c];m.blockedOn===i&&(m.blockedOn=null)}}for(ys!==null&&Ci(ys,i),vs!==null&&Ci(vs,i),cn!==null&&Ci(cn,i),Do.forEach(a),Ws.forEach(a),c=0;c<lr.length;c++)m=lr[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<lr.length&&(c=lr[0],c.blockedOn===null);)Sa(c),c.blockedOn===null&&lr.shift()}var qs=$.ReactCurrentBatchConfig,Hs=!0;function ws(i,a,c,m){var y=We,b=qs.transition;qs.transition=null;try{We=1,oc(i,a,c,m)}finally{We=y,qs.transition=b}}function ud(i,a,c,m){var y=We,b=qs.transition;qs.transition=null;try{We=4,oc(i,a,c,m)}finally{We=y,qs.transition=b}}function oc(i,a,c,m){if(Hs){var y=Ca(i,a,c,m);if(y===null)_p(i,a,m,xs,c),Si(i,m);else if(ld(y,i,a,c,m))m.stopPropagation();else if(Si(i,m),a&4&&-1<ad.indexOf(i)){for(;y!==null;){var b=wc(y);if(b!==null&&nc(b),b=Ca(i,a,c,m),b===null&&_p(i,a,m,xs,c),b===y)break;y=b}y!==null&&m.stopPropagation()}else _p(i,a,m,null,c)}}var xs=null;function Ca(i,a,c,m){if(xs=null,i=_i(m),i=Oo(i),i!==null)if(a=zr(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Kl(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return xs=i,null}function Ia(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case ba:return 1;case Yl:return 4;case Ro:case Xl:return 16;case _a:return 536870912;default:return 16}default:return 16}}var cr=null,Ra=null,Gs=null;function dd(){if(Gs)return Gs;var i,a=Ra,c=a.length,m,y="value"in cr?cr.value:cr.textContent,b=y.length;for(i=0;i<c&&a[i]===y[i];i++);var C=c-i;for(m=1;m<=C&&a[c-m]===y[b-m];m++);return Gs=y.slice(i,1<m?1-m:void 0)}function Lo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function ac(){return!1}function _n(i){function a(c,m,y,b,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(c=i[F],this[F]=c?c(b):b[F]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bs:ac,this.isPropagationStopped=ac,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=_n(_s),Ri=Z({},_s,{view:0,detail:0}),Aa=_n(Ri),ka,Pa,ur,Vo=Z({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ur&&(ur&&i.type==="mousemove"?(ka=i.screenX-ur.screenX,Pa=i.screenY-ur.screenY):Pa=ka=0,ur=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),lc=_n(Vo),hd=Z({},Vo,{dataTransfer:0}),fd=_n(hd),Na=Z({},Ri,{relatedTarget:0}),un=_n(Na),pd=Z({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),md=_n(pd),Ai=Z({},_s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=_n(Ai),_=Z({},_s,{data:0}),E=_n(_),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=X[i])?!!a[i]:!1}function Le(){return ae}var Rt=Z({},Ri,{key:function(i){if(i.key){var a=P[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?Lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ze=_n(Rt),jt=Z({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=_n(jt),Ks=Z({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),Es=_n(Ks),Ts=Z({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),ja=_n(Ts),cc=Z({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rA=_n(cc),sA=[9,13,27,32],hp=u&&"CompositionEvent"in window,uc=null;u&&"documentMode"in document&&(uc=document.documentMode);var iA=u&&"TextEvent"in window&&!uc,Gv=u&&(!hp||uc&&8<uc&&11>=uc),Kv=" ",Qv=!1;function Yv(i,a){switch(i){case"keyup":return sA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function oA(i,a){switch(i){case"compositionend":return Xv(a);case"keypress":return a.which!==32?null:(Qv=!0,Kv);case"textInput":return i=a.data,i===Kv&&Qv?null:i;default:return null}}function aA(i,a){if(Da)return i==="compositionend"||!hp&&Yv(i,a)?(i=dd(),Gs=Ra=cr=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gv&&a.locale!=="ko"?null:a.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!lA[i.type]:a==="textarea"}function Zv(i,a,c,m){_t(m),a=xd(a,"onChange"),0<a.length&&(c=new Mo("onChange","change",null,c,m),i.push({event:c,listeners:a}))}var dc=null,hc=null;function cA(i){yw(i,0)}function gd(i){var a=Fa(i);if(vn(a))return i}function uA(i,a){if(i==="change")return a}var ew=!1;if(u){var fp;if(u){var pp="oninput"in document;if(!pp){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),pp=typeof tw.oninput=="function"}fp=pp}else fp=!1;ew=fp&&(!document.documentMode||9<document.documentMode)}function nw(){dc&&(dc.detachEvent("onpropertychange",rw),hc=dc=null)}function rw(i){if(i.propertyName==="value"&&gd(hc)){var a=[];Zv(a,hc,i,_i(i)),Br(cA,a)}}function dA(i,a,c){i==="focusin"?(nw(),dc=a,hc=c,dc.attachEvent("onpropertychange",rw)):i==="focusout"&&nw()}function hA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gd(hc)}function fA(i,a){if(i==="click")return gd(a)}function pA(i,a){if(i==="input"||i==="change")return gd(a)}function mA(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wr=typeof Object.is=="function"?Object.is:mA;function fc(i,a){if(Wr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!d.call(a,y)||!Wr(i[y],a[y]))return!1}return!0}function sw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iw(i,a){var c=sw(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=a&&m>=a)return{node:c,offset:a-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=sw(c)}}function ow(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ow(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function aw(){for(var i=window,a=Nn();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Nn(i.document)}return a}function mp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function gA(i){var a=aw(),c=i.focusedElem,m=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&ow(c.ownerDocument.documentElement,c)){if(m!==null&&mp(c)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,b=Math.min(m.start,y);m=m.end===void 0?b:Math.min(m.end,y),!i.extend&&b>m&&(y=m,m=b,b=y),y=iw(c,b);var C=iw(c,m);y&&C&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),b>m?(i.addRange(a),i.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var yA=u&&"documentMode"in document&&11>=document.documentMode,La=null,gp=null,pc=null,yp=!1;function lw(i,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;yp||La==null||La!==Nn(m)||(m=La,"selectionStart"in m&&mp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),pc&&fc(pc,m)||(pc=m,m=xd(gp,"onSelect"),0<m.length&&(a=new Mo("onSelect","select",null,a,c),i.push({event:a,listeners:m}),a.target=La)))}function yd(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Ma={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},vp={},cw={};u&&(cw=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function vd(i){if(vp[i])return vp[i];if(!Ma[i])return i;var a=Ma[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in cw)return vp[i]=a[c];return i}var uw=vd("animationend"),dw=vd("animationiteration"),hw=vd("animationstart"),fw=vd("transitionend"),pw=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(i,a){pw.set(i,a),o(a,[i])}for(var wp=0;wp<mw.length;wp++){var xp=mw[wp],vA=xp.toLowerCase(),wA=xp[0].toUpperCase()+xp.slice(1);ki(vA,"on"+wA)}ki(uw,"onAnimationEnd"),ki(dw,"onAnimationIteration"),ki(hw,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(fw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function gw(i,a,c){var m=i.type||"unknown-event";i.currentTarget=c,Gl(m,a,void 0,i),i.currentTarget=null}function yw(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],y=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var C=m.length-1;0<=C;C--){var F=m[C],z=F.instance,Y=F.currentTarget;if(F=F.listener,z!==b&&y.isPropagationStopped())break e;gw(y,F,Y),b=z}else for(C=0;C<m.length;C++){if(F=m[C],z=F.instance,Y=F.currentTarget,F=F.listener,z!==b&&y.isPropagationStopped())break e;gw(y,F,Y),b=z}}}if(Ln)throw i=Kt,Ln=!1,Kt=null,i}function ct(i,a){var c=a[Rp];c===void 0&&(c=a[Rp]=new Set);var m=i+"__bubble";c.has(m)||(vw(a,i,2,!1),c.add(m))}function bp(i,a,c){var m=0;a&&(m|=4),vw(c,i,m,a)}var wd="_reactListening"+Math.random().toString(36).slice(2);function gc(i){if(!i[wd]){i[wd]=!0,r.forEach(function(c){c!=="selectionchange"&&(xA.has(c)||bp(c,!1,i),bp(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[wd]||(a[wd]=!0,bp("selectionchange",!1,a))}}function vw(i,a,c,m){switch(Ia(a)){case 1:var y=ws;break;case 4:y=ud;break;default:y=oc}c=y.bind(null,a,c,i),y=void 0,!ln||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function _p(i,a,c,m,y){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(C===4)for(C=m.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;C=C.return}for(;F!==null;){if(C=Oo(F),C===null)return;if(z=C.tag,z===5||z===6){m=b=C;continue e}F=F.parentNode}}m=m.return}Br(function(){var Y=b,re=_i(c),ie=[];e:{var ne=pw.get(i);if(ne!==void 0){var ue=Mo,fe=i;switch(i){case"keypress":if(Lo(c)===0)break e;case"keydown":case"keyup":ue=Ze;break;case"focusin":fe="focus",ue=un;break;case"focusout":fe="blur",ue=un;break;case"beforeblur":case"afterblur":ue=un;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Es;break;case uw:case dw:case hw:ue=md;break;case fw:ue=ja;break;case"scroll":ue=Aa;break;case"wheel":ue=rA;break;case"copy":case"cut":case"paste":ue=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=dr}var pe=(a&4)!==0,At=!pe&&i==="scroll",G=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var W=Y,Q;W!==null;){Q=W;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,G!==null&&(oe=at(W,G),oe!=null&&pe.push(yc(W,oe,Q)))),At)break;W=W.return}0<pe.length&&(ne=new ue(ne,fe,null,c,re),ie.push({event:ne,listeners:pe}))}}if((a&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ne&&c!==Or&&(fe=c.relatedTarget||c.fromElement)&&(Oo(fe)||fe[Qs]))break e;if((ue||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=Y,fe=fe?Oo(fe):null,fe!==null&&(At=zr(fe),fe!==At||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Y),ue!==fe)){if(pe=lc,oe="onMouseLeave",G="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(pe=dr,oe="onPointerLeave",G="onPointerEnter",W="pointer"),At=ue==null?ne:Fa(ue),Q=fe==null?ne:Fa(fe),ne=new pe(oe,W+"leave",ue,c,re),ne.target=At,ne.relatedTarget=Q,oe=null,Oo(re)===Y&&(pe=new pe(G,W+"enter",fe,c,re),pe.target=Q,pe.relatedTarget=At,oe=pe),At=oe,ue&&fe)t:{for(pe=ue,G=fe,W=0,Q=pe;Q;Q=Va(Q))W++;for(Q=0,oe=G;oe;oe=Va(oe))Q++;for(;0<W-Q;)pe=Va(pe),W--;for(;0<Q-W;)G=Va(G),Q--;for(;W--;){if(pe===G||G!==null&&pe===G.alternate)break t;pe=Va(pe),G=Va(G)}pe=null}else pe=null;ue!==null&&ww(ie,ne,ue,pe,!1),fe!==null&&At!==null&&ww(ie,At,fe,pe,!0)}}e:{if(ne=Y?Fa(Y):window,ue=ne.nodeName&&ne.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ne.type==="file")var me=uA;else if(Jv(ne))if(ew)me=pA;else{me=hA;var Ee=dA}else(ue=ne.nodeName)&&ue.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=fA);if(me&&(me=me(i,Y))){Zv(ie,me,c,re);break e}Ee&&Ee(i,ne,Y),i==="focusout"&&(Ee=ne._wrapperState)&&Ee.controlled&&ne.type==="number"&&ht(ne,"number",ne.value)}switch(Ee=Y?Fa(Y):window,i){case"focusin":(Jv(Ee)||Ee.contentEditable==="true")&&(La=Ee,gp=Y,pc=null);break;case"focusout":pc=gp=La=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,lw(ie,c,re);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":lw(ie,c,re)}var Te;if(hp)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Da?Yv(i,c)&&(Pe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(Gv&&c.locale!=="ko"&&(Da||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Da&&(Te=dd()):(cr=re,Ra="value"in cr?cr.value:cr.textContent,Da=!0)),Ee=xd(Y,Pe),0<Ee.length&&(Pe=new E(Pe,i,null,c,re),ie.push({event:Pe,listeners:Ee}),Te?Pe.data=Te:(Te=Xv(c),Te!==null&&(Pe.data=Te)))),(Te=iA?oA(i,c):aA(i,c))&&(Y=xd(Y,"onBeforeInput"),0<Y.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:Y}),re.data=Te))}yw(ie,a)})}function yc(i,a,c){return{instance:i,listener:a,currentTarget:c}}function xd(i,a){for(var c=a+"Capture",m=[];i!==null;){var y=i,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=at(i,c),b!=null&&m.unshift(yc(i,b,y)),b=at(i,a),b!=null&&m.push(yc(i,b,y))),i=i.return}return m}function Va(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ww(i,a,c,m,y){for(var b=a._reactName,C=[];c!==null&&c!==m;){var F=c,z=F.alternate,Y=F.stateNode;if(z!==null&&z===m)break;F.tag===5&&Y!==null&&(F=Y,y?(z=at(c,b),z!=null&&C.unshift(yc(c,z,F))):y||(z=at(c,b),z!=null&&C.push(yc(c,z,F)))),c=c.return}C.length!==0&&i.push({event:a,listeners:C})}var bA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function xw(i){return(typeof i=="string"?i:""+i).replace(bA,`
`).replace(_A,"")}function bd(i,a,c){if(a=xw(a),xw(i)!==a&&c)throw Error(n(425))}function _d(){}var Ep=null,Tp=null;function Sp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,bw=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof bw<"u"?function(i){return bw.resolve(null).then(i).catch(SA)}:Cp;function SA(i){setTimeout(function(){throw i})}function Ip(i,a){var c=a,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){i.removeChild(y),Ii(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);Ii(a)}function Pi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function _w(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Oa,vc="__reactProps$"+Oa,Qs="__reactContainer$"+Oa,Rp="__reactEvents$"+Oa,CA="__reactListeners$"+Oa,IA="__reactHandles$"+Oa;function Oo(i){var a=i[Ss];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Qs]||c[Ss]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=_w(i);i!==null;){if(c=i[Ss])return c;i=_w(i)}return a}i=c,c=i.parentNode}return null}function wc(i){return i=i[Ss]||i[Qs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ed(i){return i[vc]||null}var Ap=[],Ua=-1;function Ni(i){return{current:i}}function ut(i){0>Ua||(i.current=Ap[Ua],Ap[Ua]=null,Ua--)}function ot(i,a){Ua++,Ap[Ua]=i.current,i.current=a}var ji={},En=Ni(ji),qn=Ni(!1),Fo=ji;function Ba(i,a){var c=i.type.contextTypes;if(!c)return ji;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in c)y[b]=a[b];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Hn(i){return i=i.childContextTypes,i!=null}function Td(){ut(qn),ut(En)}function Ew(i,a,c){if(En.current!==ji)throw Error(n(168));ot(En,a),ot(qn,c)}function Tw(i,a,c){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Fe(i)||"Unknown",y));return Z({},c,m)}function Sd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ji,Fo=En.current,ot(En,i),ot(qn,qn.current),!0}function Sw(i,a,c){var m=i.stateNode;if(!m)throw Error(n(169));c?(i=Tw(i,a,Fo),m.__reactInternalMemoizedMergedChildContext=i,ut(qn),ut(En),ot(En,i)):ut(qn),ot(qn,c)}var Ys=null,Cd=!1,kp=!1;function Cw(i){Ys===null?Ys=[i]:Ys.push(i)}function RA(i){Cd=!0,Cw(i)}function Di(){if(!kp&&Ys!==null){kp=!0;var i=0,a=We;try{var c=Ys;for(We=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Ys=null,Cd=!1}catch(y){throw Ys!==null&&(Ys=Ys.slice(i+1)),Ql(ba,Di),y}finally{We=a,kp=!1}}return null}var za=[],$a=0,Id=null,Rd=0,_r=[],Er=0,Uo=null,Xs=1,Js="";function Bo(i,a){za[$a++]=Rd,za[$a++]=Id,Id=i,Rd=a}function Iw(i,a,c){_r[Er++]=Xs,_r[Er++]=Js,_r[Er++]=Uo,Uo=i;var m=Xs;i=Js;var y=32-ar(m)-1;m&=~(1<<y),c+=1;var b=32-ar(a)+y;if(30<b){var C=y-y%5;b=(m&(1<<C)-1).toString(32),m>>=C,y-=C,Xs=1<<32-ar(a)+y|c<<y|m,Js=b+i}else Xs=1<<b|c<<y|m,Js=i}function Pp(i){i.return!==null&&(Bo(i,1),Iw(i,1,0))}function Np(i){for(;i===Id;)Id=za[--$a],za[$a]=null,Rd=za[--$a],za[$a]=null;for(;i===Uo;)Uo=_r[--Er],_r[Er]=null,Js=_r[--Er],_r[Er]=null,Xs=_r[--Er],_r[Er]=null}var hr=null,fr=null,ft=!1,qr=null;function Rw(i,a){var c=Ir(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Aw(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,hr=i,fr=Pi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,hr=i,fr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Uo!==null?{id:Xs,overflow:Js}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ir(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,hr=i,fr=null,!0):!1;default:return!1}}function jp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Dp(i){if(ft){var a=fr;if(a){var c=a;if(!Aw(i,a)){if(jp(i))throw Error(n(418));a=Pi(c.nextSibling);var m=hr;a&&Aw(i,a)?Rw(m,c):(i.flags=i.flags&-4097|2,ft=!1,hr=i)}}else{if(jp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ft=!1,hr=i}}}function kw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;hr=i}function Ad(i){if(i!==hr)return!1;if(!ft)return kw(i),ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Sp(i.type,i.memoizedProps)),a&&(a=fr)){if(jp(i))throw Pw(),Error(n(418));for(;a;)Rw(i,a),a=Pi(a.nextSibling)}if(kw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){fr=Pi(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}fr=null}}else fr=hr?Pi(i.stateNode.nextSibling):null;return!0}function Pw(){for(var i=fr;i;)i=Pi(i.nextSibling)}function Wa(){fr=hr=null,ft=!1}function Lp(i){qr===null?qr=[i]:qr.push(i)}var AA=$.ReactCurrentBatchConfig;function xc(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,i));var y=m,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(C){var F=y.refs;C===null?delete F[b]:F[b]=C},a._stringRef=b,a)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function kd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Nw(i){var a=i._init;return a(i._payload)}function jw(i){function a(G,W){if(i){var Q=G.deletions;Q===null?(G.deletions=[W],G.flags|=16):Q.push(W)}}function c(G,W){if(!i)return null;for(;W!==null;)a(G,W),W=W.sibling;return null}function m(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function y(G,W){return G=zi(G,W),G.index=0,G.sibling=null,G}function b(G,W,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<W?(G.flags|=2,W):Q):(G.flags|=2,W)):(G.flags|=1048576,W)}function C(G){return i&&G.alternate===null&&(G.flags|=2),G}function F(G,W,Q,oe){return W===null||W.tag!==6?(W=Cm(Q,G.mode,oe),W.return=G,W):(W=y(W,Q),W.return=G,W)}function z(G,W,Q,oe){var me=Q.type;return me===I?re(G,W,Q.props.children,oe,Q.key):W!==null&&(W.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&Nw(me)===W.type)?(oe=y(W,Q.props),oe.ref=xc(G,W,Q),oe.return=G,oe):(oe=eh(Q.type,Q.key,Q.props,null,G.mode,oe),oe.ref=xc(G,W,Q),oe.return=G,oe)}function Y(G,W,Q,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=Im(Q,G.mode,oe),W.return=G,W):(W=y(W,Q.children||[]),W.return=G,W)}function re(G,W,Q,oe,me){return W===null||W.tag!==7?(W=Qo(Q,G.mode,oe,me),W.return=G,W):(W=y(W,Q),W.return=G,W)}function ie(G,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Cm(""+W,G.mode,Q),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return Q=eh(W.type,W.key,W.props,null,G.mode,Q),Q.ref=xc(G,null,W),Q.return=G,Q;case B:return W=Im(W,G.mode,Q),W.return=G,W;case dt:var oe=W._init;return ie(G,oe(W._payload),Q)}if(Je(W)||ce(W))return W=Qo(W,G.mode,Q,null),W.return=G,W;kd(G,W)}return null}function ne(G,W,Q,oe){var me=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return me!==null?null:F(G,W,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===me?z(G,W,Q,oe):null;case B:return Q.key===me?Y(G,W,Q,oe):null;case dt:return me=Q._init,ne(G,W,me(Q._payload),oe)}if(Je(Q)||ce(Q))return me!==null?null:re(G,W,Q,oe,null);kd(G,Q)}return null}function ue(G,W,Q,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return G=G.get(Q)||null,F(W,G,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case H:return G=G.get(oe.key===null?Q:oe.key)||null,z(W,G,oe,me);case B:return G=G.get(oe.key===null?Q:oe.key)||null,Y(W,G,oe,me);case dt:var Ee=oe._init;return ue(G,W,Q,Ee(oe._payload),me)}if(Je(oe)||ce(oe))return G=G.get(Q)||null,re(W,G,oe,me,null);kd(W,oe)}return null}function fe(G,W,Q,oe){for(var me=null,Ee=null,Te=W,Pe=W=0,Xt=null;Te!==null&&Pe<Q.length;Pe++){Te.index>Pe?(Xt=Te,Te=null):Xt=Te.sibling;var Qe=ne(G,Te,Q[Pe],oe);if(Qe===null){Te===null&&(Te=Xt);break}i&&Te&&Qe.alternate===null&&a(G,Te),W=b(Qe,W,Pe),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe,Te=Xt}if(Pe===Q.length)return c(G,Te),ft&&Bo(G,Pe),me;if(Te===null){for(;Pe<Q.length;Pe++)Te=ie(G,Q[Pe],oe),Te!==null&&(W=b(Te,W,Pe),Ee===null?me=Te:Ee.sibling=Te,Ee=Te);return ft&&Bo(G,Pe),me}for(Te=m(G,Te);Pe<Q.length;Pe++)Xt=ue(Te,G,Pe,Q[Pe],oe),Xt!==null&&(i&&Xt.alternate!==null&&Te.delete(Xt.key===null?Pe:Xt.key),W=b(Xt,W,Pe),Ee===null?me=Xt:Ee.sibling=Xt,Ee=Xt);return i&&Te.forEach(function($i){return a(G,$i)}),ft&&Bo(G,Pe),me}function pe(G,W,Q,oe){var me=ce(Q);if(typeof me!="function")throw Error(n(150));if(Q=me.call(Q),Q==null)throw Error(n(151));for(var Ee=me=null,Te=W,Pe=W=0,Xt=null,Qe=Q.next();Te!==null&&!Qe.done;Pe++,Qe=Q.next()){Te.index>Pe?(Xt=Te,Te=null):Xt=Te.sibling;var $i=ne(G,Te,Qe.value,oe);if($i===null){Te===null&&(Te=Xt);break}i&&Te&&$i.alternate===null&&a(G,Te),W=b($i,W,Pe),Ee===null?me=$i:Ee.sibling=$i,Ee=$i,Te=Xt}if(Qe.done)return c(G,Te),ft&&Bo(G,Pe),me;if(Te===null){for(;!Qe.done;Pe++,Qe=Q.next())Qe=ie(G,Qe.value,oe),Qe!==null&&(W=b(Qe,W,Pe),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe);return ft&&Bo(G,Pe),me}for(Te=m(G,Te);!Qe.done;Pe++,Qe=Q.next())Qe=ue(Te,G,Pe,Qe.value,oe),Qe!==null&&(i&&Qe.alternate!==null&&Te.delete(Qe.key===null?Pe:Qe.key),W=b(Qe,W,Pe),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe);return i&&Te.forEach(function(lk){return a(G,lk)}),ft&&Bo(G,Pe),me}function At(G,W,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var me=Q.key,Ee=W;Ee!==null;){if(Ee.key===me){if(me=Q.type,me===I){if(Ee.tag===7){c(G,Ee.sibling),W=y(Ee,Q.props.children),W.return=G,G=W;break e}}else if(Ee.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&Nw(me)===Ee.type){c(G,Ee.sibling),W=y(Ee,Q.props),W.ref=xc(G,Ee,Q),W.return=G,G=W;break e}c(G,Ee);break}else a(G,Ee);Ee=Ee.sibling}Q.type===I?(W=Qo(Q.props.children,G.mode,oe,Q.key),W.return=G,G=W):(oe=eh(Q.type,Q.key,Q.props,null,G.mode,oe),oe.ref=xc(G,W,Q),oe.return=G,G=oe)}return C(G);case B:e:{for(Ee=Q.key;W!==null;){if(W.key===Ee)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){c(G,W.sibling),W=y(W,Q.children||[]),W.return=G,G=W;break e}else{c(G,W);break}else a(G,W);W=W.sibling}W=Im(Q,G.mode,oe),W.return=G,G=W}return C(G);case dt:return Ee=Q._init,At(G,W,Ee(Q._payload),oe)}if(Je(Q))return fe(G,W,Q,oe);if(ce(Q))return pe(G,W,Q,oe);kd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(c(G,W.sibling),W=y(W,Q),W.return=G,G=W):(c(G,W),W=Cm(Q,G.mode,oe),W.return=G,G=W),C(G)):c(G,W)}return At}var qa=jw(!0),Dw=jw(!1),Pd=Ni(null),Nd=null,Ha=null,Mp=null;function Vp(){Mp=Ha=Nd=null}function Op(i){var a=Pd.current;ut(Pd),i._currentValue=a}function Fp(i,a,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===c)break;i=i.return}}function Ga(i,a){Nd=i,Mp=Ha=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Gn=!0),i.firstContext=null)}function Tr(i){var a=i._currentValue;if(Mp!==i)if(i={context:i,memoizedValue:a,next:null},Ha===null){if(Nd===null)throw Error(n(308));Ha=i,Nd.dependencies={lanes:0,firstContext:i}}else Ha=Ha.next=i;return a}var zo=null;function Up(i){zo===null?zo=[i]:zo.push(i)}function Lw(i,a,c,m){var y=a.interleaved;return y===null?(c.next=c,Up(a)):(c.next=y.next,y.next=c),a.interleaved=c,Zs(i,m)}function Zs(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Li=!1;function Bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ei(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Mi(i,a,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ke&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Zs(i,c)}return y=m.interleaved,y===null?(a.next=a,Up(m)):(a.next=y.next,y.next=a),m.interleaved=a,Zs(i,c)}function jd(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,tc(i,c)}}function Vw(i,a){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?y=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Dd(i,a,c,m){var y=i.updateQueue;Li=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Y=z.next;z.next=null,C===null?b=Y:C.next=Y,C=z;var re=i.alternate;re!==null&&(re=re.updateQueue,F=re.lastBaseUpdate,F!==C&&(F===null?re.firstBaseUpdate=Y:F.next=Y,re.lastBaseUpdate=z))}if(b!==null){var ie=y.baseState;C=0,re=Y=z=null,F=b;do{var ne=F.lane,ue=F.eventTime;if((m&ne)===ne){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var fe=i,pe=F;switch(ne=a,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ue,ie,ne);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ne=typeof fe=="function"?fe.call(ue,ie,ne):fe,ne==null)break e;ie=Z({},ie,ne);break e;case 2:Li=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[F]:ne.push(F))}else ue={eventTime:ue,lane:ne,tag:F.tag,payload:F.payload,callback:F.callback,next:null},re===null?(Y=re=ue,z=ie):re=re.next=ue,C|=ne;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ne=F,F=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(z=ie),y.baseState=z,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,a=y.shared.interleaved,a!==null){y=a;do C|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);qo|=C,i.lanes=C,i.memoizedState=ie}}function Ow(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var bc={},Cs=Ni(bc),_c=Ni(bc),Ec=Ni(bc);function $o(i){if(i===bc)throw Error(n(174));return i}function zp(i,a){switch(ot(Ec,a),ot(_c,i),ot(Cs,bc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ir(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ir(a,i)}ut(Cs),ot(Cs,a)}function Ka(){ut(Cs),ut(_c),ut(Ec)}function Fw(i){$o(Ec.current);var a=$o(Cs.current),c=ir(a,i.type);a!==c&&(ot(_c,i),ot(Cs,c))}function $p(i){_c.current===i&&(ut(Cs),ut(_c))}var gt=Ni(0);function Ld(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wp=[];function qp(){for(var i=0;i<Wp.length;i++)Wp[i]._workInProgressVersionPrimary=null;Wp.length=0}var Md=$.ReactCurrentDispatcher,Hp=$.ReactCurrentBatchConfig,Wo=0,yt=null,zt=null,Qt=null,Vd=!1,Tc=!1,Sc=0,kA=0;function Tn(){throw Error(n(321))}function Gp(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Wr(i[c],a[c]))return!1;return!0}function Kp(i,a,c,m,y,b){if(Wo=b,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Md.current=i===null||i.memoizedState===null?DA:LA,i=c(m,y),Tc){b=0;do{if(Tc=!1,Sc=0,25<=b)throw Error(n(301));b+=1,Qt=zt=null,a.updateQueue=null,Md.current=MA,i=c(m,y)}while(Tc)}if(Md.current=Ud,a=zt!==null&&zt.next!==null,Wo=0,Qt=zt=yt=null,Vd=!1,a)throw Error(n(300));return i}function Qp(){var i=Sc!==0;return Sc=0,i}function Is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?yt.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function Sr(){if(zt===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=zt.next;var a=Qt===null?yt.memoizedState:Qt.next;if(a!==null)Qt=a,zt=i;else{if(i===null)throw Error(n(310));zt=i,i={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Qt===null?yt.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Cc(i,a){return typeof a=="function"?a(i):a}function Yp(i){var a=Sr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=zt,y=m.baseQueue,b=c.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}m.baseQueue=y=b,c.pending=null}if(y!==null){b=y.next,m=m.baseState;var F=C=null,z=null,Y=b;do{var re=Y.lane;if((Wo&re)===re)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:i(m,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(F=z=ie,C=m):z=z.next=ie,yt.lanes|=re,qo|=re}Y=Y.next}while(Y!==null&&Y!==b);z===null?C=m:z.next=F,Wr(m,a.memoizedState)||(Gn=!0),a.memoizedState=m,a.baseState=C,a.baseQueue=z,c.lastRenderedState=m}if(i=c.interleaved,i!==null){y=i;do b=y.lane,yt.lanes|=b,qo|=b,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Xp(i){var a=Sr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do b=i(b,C.action),C=C.next;while(C!==y);Wr(b,a.memoizedState)||(Gn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,m]}function Uw(){}function Bw(i,a){var c=yt,m=Sr(),y=a(),b=!Wr(m.memoizedState,y);if(b&&(m.memoizedState=y,Gn=!0),m=m.queue,Jp(Ww.bind(null,c,m,i),[i]),m.getSnapshot!==a||b||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Ic(9,$w.bind(null,c,m,y,a),void 0,null),Yt===null)throw Error(n(349));(Wo&30)!==0||zw(c,a,y)}return y}function zw(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function $w(i,a,c,m){a.value=c,a.getSnapshot=m,qw(a)&&Hw(i)}function Ww(i,a,c){return c(function(){qw(a)&&Hw(i)})}function qw(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Wr(i,c)}catch{return!0}}function Hw(i){var a=Zs(i,1);a!==null&&Qr(a,i,1,-1)}function Gw(i){var a=Is();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:i},a.queue=i,i=i.dispatch=jA.bind(null,yt,i),[a.memoizedState,i]}function Ic(i,a,c,m){return i={tag:i,create:a,destroy:c,deps:m,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,a.lastEffect=i)),i}function Kw(){return Sr().memoizedState}function Od(i,a,c,m){var y=Is();yt.flags|=i,y.memoizedState=Ic(1|a,c,void 0,m===void 0?null:m)}function Fd(i,a,c,m){var y=Sr();m=m===void 0?null:m;var b=void 0;if(zt!==null){var C=zt.memoizedState;if(b=C.destroy,m!==null&&Gp(m,C.deps)){y.memoizedState=Ic(a,c,b,m);return}}yt.flags|=i,y.memoizedState=Ic(1|a,c,b,m)}function Qw(i,a){return Od(8390656,8,i,a)}function Jp(i,a){return Fd(2048,8,i,a)}function Yw(i,a){return Fd(4,2,i,a)}function Xw(i,a){return Fd(4,4,i,a)}function Jw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Zw(i,a,c){return c=c!=null?c.concat([i]):null,Fd(4,4,Jw.bind(null,a,i),c)}function Zp(){}function ex(i,a){var c=Sr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Gp(a,m[1])?m[0]:(c.memoizedState=[i,a],i)}function tx(i,a){var c=Sr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Gp(a,m[1])?m[0]:(i=i(),c.memoizedState=[i,a],i)}function nx(i,a,c){return(Wo&21)===0?(i.baseState&&(i.baseState=!1,Gn=!0),i.memoizedState=c):(Wr(c,a)||(c=Zl(),yt.lanes|=c,qo|=c,i.baseState=!0),a)}function PA(i,a){var c=We;We=c!==0&&4>c?c:4,i(!0);var m=Hp.transition;Hp.transition={};try{i(!1),a()}finally{We=c,Hp.transition=m}}function rx(){return Sr().memoizedState}function NA(i,a,c){var m=Ui(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},sx(i))ix(a,c);else if(c=Lw(i,a,c,m),c!==null){var y=Vn();Qr(c,i,m,y),ox(c,a,m)}}function jA(i,a,c){var m=Ui(i),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(sx(i))ix(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,F=b(C,c);if(y.hasEagerState=!0,y.eagerState=F,Wr(F,C)){var z=a.interleaved;z===null?(y.next=y,Up(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=Lw(i,a,y,m),c!==null&&(y=Vn(),Qr(c,i,m,y),ox(c,a,m))}}function sx(i){var a=i.alternate;return i===yt||a!==null&&a===yt}function ix(i,a){Tc=Vd=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function ox(i,a,c){if((c&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,tc(i,c)}}var Ud={readContext:Tr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},DA={readContext:Tr,useCallback:function(i,a){return Is().memoizedState=[i,a===void 0?null:a],i},useContext:Tr,useEffect:Qw,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Od(4194308,4,Jw.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Od(4194308,4,i,a)},useInsertionEffect:function(i,a){return Od(4,2,i,a)},useMemo:function(i,a){var c=Is();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var m=Is();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=NA.bind(null,yt,i),[m.memoizedState,i]},useRef:function(i){var a=Is();return i={current:i},a.memoizedState=i},useState:Gw,useDebugValue:Zp,useDeferredValue:function(i){return Is().memoizedState=i},useTransition:function(){var i=Gw(!1),a=i[0];return i=PA.bind(null,i[1]),Is().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var m=yt,y=Is();if(ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Yt===null)throw Error(n(349));(Wo&30)!==0||zw(m,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,Qw(Ww.bind(null,m,b,i),[i]),m.flags|=2048,Ic(9,$w.bind(null,m,b,c,a),void 0,null),c},useId:function(){var i=Is(),a=Yt.identifierPrefix;if(ft){var c=Js,m=Xs;c=(m&~(1<<32-ar(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Sc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=kA++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},LA={readContext:Tr,useCallback:ex,useContext:Tr,useEffect:Jp,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:tx,useReducer:Yp,useRef:Kw,useState:function(){return Yp(Cc)},useDebugValue:Zp,useDeferredValue:function(i){var a=Sr();return nx(a,zt.memoizedState,i)},useTransition:function(){var i=Yp(Cc)[0],a=Sr().memoizedState;return[i,a]},useMutableSource:Uw,useSyncExternalStore:Bw,useId:rx,unstable_isNewReconciler:!1},MA={readContext:Tr,useCallback:ex,useContext:Tr,useEffect:Jp,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:tx,useReducer:Xp,useRef:Kw,useState:function(){return Xp(Cc)},useDebugValue:Zp,useDeferredValue:function(i){var a=Sr();return zt===null?a.memoizedState=i:nx(a,zt.memoizedState,i)},useTransition:function(){var i=Xp(Cc)[0],a=Sr().memoizedState;return[i,a]},useMutableSource:Uw,useSyncExternalStore:Bw,useId:rx,unstable_isNewReconciler:!1};function Hr(i,a){if(i&&i.defaultProps){a=Z({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function em(i,a,c,m){a=i.memoizedState,c=c(m,a),c=c==null?a:Z({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Bd={isMounted:function(i){return(i=i._reactInternals)?zr(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var m=Vn(),y=Ui(i),b=ei(m,y);b.payload=a,c!=null&&(b.callback=c),a=Mi(i,b,y),a!==null&&(Qr(a,i,y,m),jd(a,i,y))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var m=Vn(),y=Ui(i),b=ei(m,y);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Mi(i,b,y),a!==null&&(Qr(a,i,y,m),jd(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Vn(),m=Ui(i),y=ei(c,m);y.tag=2,a!=null&&(y.callback=a),a=Mi(i,y,m),a!==null&&(Qr(a,i,m,c),jd(a,i,m))}};function ax(i,a,c,m,y,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,C):a.prototype&&a.prototype.isPureReactComponent?!fc(c,m)||!fc(y,b):!0}function lx(i,a,c){var m=!1,y=ji,b=a.contextType;return typeof b=="object"&&b!==null?b=Tr(b):(y=Hn(a)?Fo:En.current,m=a.contextTypes,b=(m=m!=null)?Ba(i,y):ji),a=new a(c,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=b),a}function cx(i,a,c,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==i&&Bd.enqueueReplaceState(a,a.state,null)}function tm(i,a,c,m){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Bp(i);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Tr(b):(b=Hn(a)?Fo:En.current,y.context=Ba(i,b)),y.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(em(i,a,b,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Bd.enqueueReplaceState(y,y.state,null),Dd(i,c,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Qa(i,a){try{var c="",m=a;do c+=je(m),m=m.return;while(m);var y=c}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:y,digest:null}}function nm(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function rm(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var VA=typeof WeakMap=="function"?WeakMap:Map;function ux(i,a,c){c=ei(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){Kd||(Kd=!0,vm=m),rm(i,a)},c}function dx(i,a,c){c=ei(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;c.payload=function(){return m(y)},c.callback=function(){rm(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){rm(i,a),typeof m!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function hx(i,a,c){var m=i.pingCache;if(m===null){m=i.pingCache=new VA;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(c)||(y.add(c),i=XA.bind(null,i,a,c),a.then(i,i))}function fx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function px(i,a,c,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ei(-1,1),a.tag=2,Mi(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var OA=$.ReactCurrentOwner,Gn=!1;function Mn(i,a,c,m){a.child=i===null?Dw(a,null,c,m):qa(a,i.child,c,m)}function mx(i,a,c,m,y){c=c.render;var b=a.ref;return Ga(a,y),m=Kp(i,a,c,m,b,y),c=Qp(),i!==null&&!Gn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(ft&&c&&Pp(a),a.flags|=1,Mn(i,a,m,y),a.child)}function gx(i,a,c,m,y){if(i===null){var b=c.type;return typeof b=="function"&&!Sm(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=b,yx(i,a,b,m,y)):(i=eh(c.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,(i.lanes&y)===0){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:fc,c(C,m)&&i.ref===a.ref)return ti(i,a,y)}return a.flags|=1,i=zi(b,m),i.ref=a.ref,i.return=a,a.child=i}function yx(i,a,c,m,y){if(i!==null){var b=i.memoizedProps;if(fc(b,m)&&i.ref===a.ref)if(Gn=!1,a.pendingProps=m=b,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Gn=!0);else return a.lanes=i.lanes,ti(i,a,y)}return sm(i,a,c,m,y)}function vx(i,a,c){var m=a.pendingProps,y=m.children,b=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Xa,pr),pr|=c;else{if((c&1073741824)===0)return i=b!==null?b.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ot(Xa,pr),pr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:c,ot(Xa,pr),pr|=m}else b!==null?(m=b.baseLanes|c,a.memoizedState=null):m=c,ot(Xa,pr),pr|=m;return Mn(i,a,y,c),a.child}function wx(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function sm(i,a,c,m,y){var b=Hn(c)?Fo:En.current;return b=Ba(a,b),Ga(a,y),c=Kp(i,a,c,m,b,y),m=Qp(),i!==null&&!Gn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(ft&&m&&Pp(a),a.flags|=1,Mn(i,a,c,y),a.child)}function xx(i,a,c,m,y){if(Hn(c)){var b=!0;Sd(a)}else b=!1;if(Ga(a,y),a.stateNode===null)$d(i,a),lx(a,c,m),tm(a,c,m,y),m=!0;else if(i===null){var C=a.stateNode,F=a.memoizedProps;C.props=F;var z=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Tr(Y):(Y=Hn(c)?Fo:En.current,Y=Ba(a,Y));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof C.getSnapshotBeforeUpdate=="function";ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==m||z!==Y)&&cx(a,C,m,Y),Li=!1;var ne=a.memoizedState;C.state=ne,Dd(a,m,C,y),z=a.memoizedState,F!==m||ne!==z||qn.current||Li?(typeof re=="function"&&(em(a,c,re,m),z=a.memoizedState),(F=Li||ax(a,c,F,m,ne,z,Y))?(ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=z),C.props=m,C.state=z,C.context=Y,m=F):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,Mw(i,a),F=a.memoizedProps,Y=a.type===a.elementType?F:Hr(a.type,F),C.props=Y,ie=a.pendingProps,ne=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=Tr(z):(z=Hn(c)?Fo:En.current,z=Ba(a,z));var ue=c.getDerivedStateFromProps;(re=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==ie||ne!==z)&&cx(a,C,m,z),Li=!1,ne=a.memoizedState,C.state=ne,Dd(a,m,C,y);var fe=a.memoizedState;F!==ie||ne!==fe||qn.current||Li?(typeof ue=="function"&&(em(a,c,ue,m),fe=a.memoizedState),(Y=Li||ax(a,c,Y,m,ne,fe,z)||!1)?(re||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,fe,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,fe,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=fe),C.props=m,C.state=fe,C.context=z,m=Y):(typeof C.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),m=!1)}return im(i,a,c,m,b,y)}function im(i,a,c,m,y,b){wx(i,a);var C=(a.flags&128)!==0;if(!m&&!C)return y&&Sw(a,c,!1),ti(i,a,b);m=a.stateNode,OA.current=a;var F=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&C?(a.child=qa(a,i.child,null,b),a.child=qa(a,null,F,b)):Mn(i,a,F,b),a.memoizedState=m.state,y&&Sw(a,c,!0),a.child}function bx(i){var a=i.stateNode;a.pendingContext?Ew(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Ew(i,a.context,!1),zp(i,a.containerInfo)}function _x(i,a,c,m,y){return Wa(),Lp(y),a.flags|=256,Mn(i,a,c,m),a.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ex(i,a,c){var m=a.pendingProps,y=gt.current,b=!1,C=(a.flags&128)!==0,F;if((F=C)||(F=i!==null&&i.memoizedState===null?!1:(y&2)!==0),F?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),ot(gt,y&1),i===null)return Dp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=m.children,i=m.fallback,b?(m=a.mode,b=a.child,C={mode:"hidden",children:C},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=C):b=th(C,m,0,null),i=Qo(i,m,c,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=am(c),a.memoizedState=om,i):lm(a,C));if(y=i.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return FA(i,a,C,m,F,y,c);if(b){b=m.fallback,C=a.mode,y=i.child,F=y.sibling;var z={mode:"hidden",children:m.children};return(C&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=z,a.deletions=null):(m=zi(y,z),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?b=zi(F,b):(b=Qo(b,C,c,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,C=i.child.memoizedState,C=C===null?am(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},b.memoizedState=C,b.childLanes=i.childLanes&~c,a.memoizedState=om,m}return b=i.child,i=b.sibling,m=zi(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=m,a.memoizedState=null,m}function lm(i,a){return a=th({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function zd(i,a,c,m){return m!==null&&Lp(m),qa(a,i.child,null,c),i=lm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function FA(i,a,c,m,y,b,C){if(c)return a.flags&256?(a.flags&=-257,m=nm(Error(n(422))),zd(i,a,C,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=m.fallback,y=a.mode,m=th({mode:"visible",children:m.children},y,0,null),b=Qo(b,y,C,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&qa(a,i.child,null,C),a.child.memoizedState=am(C),a.memoizedState=om,b);if((a.mode&1)===0)return zd(i,a,C,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,b=Error(n(419)),m=nm(b,m,void 0),zd(i,a,C,m)}if(F=(C&i.childLanes)!==0,Gn||F){if(m=Yt,m!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|C))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Zs(i,y),Qr(m,i,y,-1))}return Tm(),m=nm(Error(n(421))),zd(i,a,C,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=JA.bind(null,i),y._reactRetry=a,null):(i=b.treeContext,fr=Pi(y.nextSibling),hr=a,ft=!0,qr=null,i!==null&&(_r[Er++]=Xs,_r[Er++]=Js,_r[Er++]=Uo,Xs=i.id,Js=i.overflow,Uo=a),a=lm(a,m.children),a.flags|=4096,a)}function Tx(i,a,c){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Fp(i.return,a,c)}function cm(i,a,c,m,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=c,b.tailMode=y)}function Sx(i,a,c){var m=a.pendingProps,y=m.revealOrder,b=m.tail;if(Mn(i,a,m.children,c),m=gt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tx(i,c,a);else if(i.tag===19)Tx(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(ot(gt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&Ld(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),cm(a,!1,y,c,b);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Ld(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}cm(a,!0,c,null,b);break;case"together":cm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $d(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ti(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),qo|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=zi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=zi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function UA(i,a,c){switch(a.tag){case 3:bx(a),Wa();break;case 5:Fw(a);break;case 1:Hn(a.type)&&Sd(a);break;case 4:zp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ot(Pd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ot(gt,gt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Ex(i,a,c):(ot(gt,gt.current&1),i=ti(i,a,c),i!==null?i.sibling:null);ot(gt,gt.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(i.flags&128)!==0){if(m)return Sx(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(gt,gt.current),m)break;return null;case 22:case 23:return a.lanes=0,vx(i,a,c)}return ti(i,a,c)}var Cx,um,Ix,Rx;Cx=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},um=function(){},Ix=function(i,a,c,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,$o(Cs.current);var b=null;switch(c){case"input":y=wn(i,y),m=wn(i,m),b=[];break;case"select":y=Z({},y,{value:void 0}),m=Z({},m,{value:void 0}),b=[];break;case"textarea":y=ls(i,y),m=ls(i,m),b=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=_d)}$n(c,m);var C;c=null;for(Y in y)if(!m.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var F=y[Y];for(C in F)F.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in m){var z=m[Y];if(F=y?.[Y],m.hasOwnProperty(Y)&&z!==F&&(z!=null||F!=null))if(Y==="style")if(F){for(C in F)!F.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&F[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(b||(b=[]),b.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(b=b||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&ct("scroll",i),b||F===z||(b=[])):(b=b||[]).push(Y,z))}c&&(b=b||[]).push("style",c);var Y=b;(a.updateQueue=Y)&&(a.flags|=4)}},Rx=function(i,a,c,m){c!==m&&(a.flags|=4)};function Rc(i,a){if(!ft)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Sn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=c,a}function BA(i,a,c){var m=a.pendingProps;switch(Np(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(a),null;case 1:return Hn(a.type)&&Td(),Sn(a),null;case 3:return m=a.stateNode,Ka(),ut(qn),ut(En),qp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ad(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qr!==null&&(bm(qr),qr=null))),um(i,a),Sn(a),null;case 5:$p(a);var y=$o(Ec.current);if(c=a.type,i!==null&&a.stateNode!=null)Ix(i,a,c,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Sn(a),null}if(i=$o(Cs.current),Ad(a)){m=a.stateNode,c=a.type;var b=a.memoizedProps;switch(m[Ss]=a,m[vc]=b,i=(a.mode&1)!==0,c){case"dialog":ct("cancel",m),ct("close",m);break;case"iframe":case"object":case"embed":ct("load",m);break;case"video":case"audio":for(y=0;y<mc.length;y++)ct(mc[y],m);break;case"source":ct("error",m);break;case"img":case"image":case"link":ct("error",m),ct("load",m);break;case"details":ct("toggle",m);break;case"input":Vr(m,b),ct("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},ct("invalid",m);break;case"textarea":wi(m,b),ct("invalid",m)}$n(c,b),y=null;for(var C in b)if(b.hasOwnProperty(C)){var F=b[C];C==="children"?typeof F=="string"?m.textContent!==F&&(b.suppressHydrationWarning!==!0&&bd(m.textContent,F,i),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(b.suppressHydrationWarning!==!0&&bd(m.textContent,F,i),y=["children",""+F]):s.hasOwnProperty(C)&&F!=null&&C==="onScroll"&&ct("scroll",m)}switch(c){case"input":Ht(m),vi(m,b,!0);break;case"textarea":Ht(m),cs(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=_d)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=To(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=C.createElement(c,{is:m.is}):(i=C.createElement(c),c==="select"&&(C=i,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):i=C.createElementNS(i,c),i[Ss]=a,i[vc]=m,Cx(i,a,!1,!1),a.stateNode=i;e:{switch(C=bi(c,m),c){case"dialog":ct("cancel",i),ct("close",i),y=m;break;case"iframe":case"object":case"embed":ct("load",i),y=m;break;case"video":case"audio":for(y=0;y<mc.length;y++)ct(mc[y],i);y=m;break;case"source":ct("error",i),y=m;break;case"img":case"image":case"link":ct("error",i),ct("load",i),y=m;break;case"details":ct("toggle",i),y=m;break;case"input":Vr(i,m),y=wn(i,m),ct("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=Z({},m,{value:void 0}),ct("invalid",i);break;case"textarea":wi(i,m),y=ls(i,m),ct("invalid",i);break;default:y=m}$n(c,y),F=y;for(b in F)if(F.hasOwnProperty(b)){var z=F[b];b==="style"?xi(i,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&us(i,z)):b==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&ds(i,z):typeof z=="number"&&ds(i,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?z!=null&&b==="onScroll"&&ct("scroll",i):z!=null&&V(i,b,z,C))}switch(c){case"input":Ht(i),vi(i,m,!1);break;case"textarea":Ht(i),cs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+De(m.value));break;case"select":i.multiple=!!m.multiple,b=m.value,b!=null?xn(i,!!m.multiple,b,!1):m.defaultValue!=null&&xn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=_d)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Sn(a),null;case 6:if(i&&a.stateNode!=null)Rx(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=$o(Ec.current),$o(Cs.current),Ad(a)){if(m=a.stateNode,c=a.memoizedProps,m[Ss]=a,(b=m.nodeValue!==c)&&(i=hr,i!==null))switch(i.tag){case 3:bd(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bd(m.nodeValue,c,(i.mode&1)!==0)}b&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Ss]=a,a.stateNode=m}return Sn(a),null;case 13:if(ut(gt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&fr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Pw(),Wa(),a.flags|=98560,b=!1;else if(b=Ad(a),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ss]=a}else Wa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sn(a),b=!1}else qr!==null&&(bm(qr),qr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(gt.current&1)!==0?$t===0&&($t=3):Tm())),a.updateQueue!==null&&(a.flags|=4),Sn(a),null);case 4:return Ka(),um(i,a),i===null&&gc(a.stateNode.containerInfo),Sn(a),null;case 10:return Op(a.type._context),Sn(a),null;case 17:return Hn(a.type)&&Td(),Sn(a),null;case 19:if(ut(gt),b=a.memoizedState,b===null)return Sn(a),null;if(m=(a.flags&128)!==0,C=b.rendering,C===null)if(m)Rc(b,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(C=Ld(i),C!==null){for(a.flags|=128,Rc(b,!1),m=C.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)b=c,i=m,b.flags&=14680066,C=b.alternate,C===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=C.childLanes,b.lanes=C.lanes,b.child=C.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=C.memoizedProps,b.memoizedState=C.memoizedState,b.updateQueue=C.updateQueue,b.type=C.type,i=C.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return ot(gt,gt.current&1|2),a.child}i=i.sibling}b.tail!==null&&lt()>Ja&&(a.flags|=128,m=!0,Rc(b,!1),a.lanes=4194304)}else{if(!m)if(i=Ld(C),i!==null){if(a.flags|=128,m=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Rc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!ft)return Sn(a),null}else 2*lt()-b.renderingStartTime>Ja&&c!==1073741824&&(a.flags|=128,m=!0,Rc(b,!1),a.lanes=4194304);b.isBackwards?(C.sibling=a.child,a.child=C):(c=b.last,c!==null?c.sibling=C:a.child=C,b.last=C)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=lt(),a.sibling=null,c=gt.current,ot(gt,m?c&1|2:c&1),a):(Sn(a),null);case 22:case 23:return Em(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(pr&1073741824)!==0&&(Sn(a),a.subtreeFlags&6&&(a.flags|=8192)):Sn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function zA(i,a){switch(Np(a),a.tag){case 1:return Hn(a.type)&&Td(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ka(),ut(qn),ut(En),qp(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return $p(a),null;case 13:if(ut(gt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Wa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ut(gt),null;case 4:return Ka(),null;case 10:return Op(a.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Wd=!1,Cn=!1,$A=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ya(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){Et(i,a,m)}else c.current=null}function dm(i,a,c){try{c()}catch(m){Et(i,a,m)}}var Ax=!1;function WA(i,a){if(Ep=Hs,i=aw(),mp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,F=-1,z=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var ue;ie!==c||y!==0&&ie.nodeType!==3||(F=C+y),ie!==b||m!==0&&ie.nodeType!==3||(z=C+m),ie.nodeType===3&&(C+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ne=ie,ie=ue;for(;;){if(ie===i)break t;if(ne===c&&++Y===y&&(F=C),ne===b&&++re===m&&(z=C),(ue=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ue}c=F===-1||z===-1?null:{start:F,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tp={focusedElem:i,selectionRange:c},Hs=!1,he=a;he!==null;)if(a=he,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,he=i;else for(;he!==null;){a=he;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,At=fe.memoizedState,G=a.stateNode,W=G.getSnapshotBeforeUpdate(a.elementType===a.type?pe:Hr(a.type,pe),At);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){Et(a,a.return,oe)}if(i=a.sibling,i!==null){i.return=a.return,he=i;break}he=a.return}return fe=Ax,Ax=!1,fe}function Ac(i,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var b=y.destroy;y.destroy=void 0,b!==void 0&&dm(a,c,b)}y=y.next}while(y!==m)}}function qd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function hm(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function kx(i){var a=i.alternate;a!==null&&(i.alternate=null,kx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ss],delete a[vc],delete a[Rp],delete a[CA],delete a[IA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Px(i){return i.tag===5||i.tag===3||i.tag===4}function Nx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Px(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=_d));else if(m!==4&&(i=i.child,i!==null))for(fm(i,a,c),i=i.sibling;i!==null;)fm(i,a,c),i=i.sibling}function pm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(pm(i,a,c),i=i.sibling;i!==null;)pm(i,a,c),i=i.sibling}var dn=null,Gr=!1;function Vi(i,a,c){for(c=c.child;c!==null;)jx(i,a,c),c=c.sibling}function jx(i,a,c){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Ao,c)}catch{}switch(c.tag){case 5:Cn||Ya(c,a);case 6:var m=dn,y=Gr;dn=null,Vi(i,a,c),dn=m,Gr=y,dn!==null&&(Gr?(i=dn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):dn.removeChild(c.stateNode));break;case 18:dn!==null&&(Gr?(i=dn,c=c.stateNode,i.nodeType===8?Ip(i.parentNode,c):i.nodeType===1&&Ip(i,c),Ii(i)):Ip(dn,c.stateNode));break;case 4:m=dn,y=Gr,dn=c.stateNode.containerInfo,Gr=!0,Vi(i,a,c),dn=m,Gr=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var b=y,C=b.destroy;b=b.tag,C!==void 0&&((b&2)!==0||(b&4)!==0)&&dm(c,a,C),y=y.next}while(y!==m)}Vi(i,a,c);break;case 1:if(!Cn&&(Ya(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(F){Et(c,a,F)}Vi(i,a,c);break;case 21:Vi(i,a,c);break;case 22:c.mode&1?(Cn=(m=Cn)||c.memoizedState!==null,Vi(i,a,c),Cn=m):Vi(i,a,c);break;default:Vi(i,a,c)}}function Dx(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new $A),a.forEach(function(m){var y=ZA.bind(null,i,m);c.has(m)||(c.add(m),m.then(y,y))})}}function Kr(i,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var b=i,C=a,F=C;e:for(;F!==null;){switch(F.tag){case 5:dn=F.stateNode,Gr=!1;break e;case 3:dn=F.stateNode.containerInfo,Gr=!0;break e;case 4:dn=F.stateNode.containerInfo,Gr=!0;break e}F=F.return}if(dn===null)throw Error(n(160));jx(b,C,y),dn=null,Gr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Y){Et(y,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Lx(a,i),a=a.sibling}function Lx(i,a){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(a,i),Rs(i),m&4){try{Ac(3,i,i.return),qd(3,i)}catch(pe){Et(i,i.return,pe)}try{Ac(5,i,i.return)}catch(pe){Et(i,i.return,pe)}}break;case 1:Kr(a,i),Rs(i),m&512&&c!==null&&Ya(c,c.return);break;case 5:if(Kr(a,i),Rs(i),m&512&&c!==null&&Ya(c,c.return),i.flags&32){var y=i.stateNode;try{ds(y,"")}catch(pe){Et(i,i.return,pe)}}if(m&4&&(y=i.stateNode,y!=null)){var b=i.memoizedProps,C=c!==null?c.memoizedProps:b,F=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{F==="input"&&b.type==="radio"&&b.name!=null&&sr(y,b),bi(F,C);var Y=bi(F,b);for(C=0;C<z.length;C+=2){var re=z[C],ie=z[C+1];re==="style"?xi(y,ie):re==="dangerouslySetInnerHTML"?us(y,ie):re==="children"?ds(y,ie):V(y,re,ie,Y)}switch(F){case"input":as(y,b);break;case"textarea":Eo(y,b);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var ue=b.value;ue!=null?xn(y,!!b.multiple,ue,!1):ne!==!!b.multiple&&(b.defaultValue!=null?xn(y,!!b.multiple,b.defaultValue,!0):xn(y,!!b.multiple,b.multiple?[]:"",!1))}y[vc]=b}catch(pe){Et(i,i.return,pe)}}break;case 6:if(Kr(a,i),Rs(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,b=i.memoizedProps;try{y.nodeValue=b}catch(pe){Et(i,i.return,pe)}}break;case 3:if(Kr(a,i),Rs(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ii(a.containerInfo)}catch(pe){Et(i,i.return,pe)}break;case 4:Kr(a,i),Rs(i);break;case 13:Kr(a,i),Rs(i),y=i.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(ym=lt())),m&4&&Dx(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(Cn=(Y=Cn)||re,Kr(a,i),Cn=Y):Kr(a,i),Rs(i),m&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ne=he,ue=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ac(4,ne,ne.return);break;case 1:Ya(ne,ne.return);var fe=ne.stateNode;if(typeof fe.componentWillUnmount=="function"){m=ne,c=ne.return;try{a=m,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(pe){Et(m,c,pe)}}break;case 5:Ya(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ox(ie);continue}}ue!==null?(ue.return=ne,he=ue):Ox(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,Y?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(F=ie.stateNode,z=ie.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=hs("display",C))}catch(pe){Et(i,i.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(pe){Et(i,i.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Kr(a,i),Rs(i),m&4&&Dx(i);break;case 21:break;default:Kr(a,i),Rs(i)}}function Rs(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Px(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ds(y,""),m.flags&=-33);var b=Nx(i);pm(i,b,y);break;case 3:case 4:var C=m.stateNode.containerInfo,F=Nx(i);fm(i,F,C);break;default:throw Error(n(161))}}catch(z){Et(i,i.return,z)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function qA(i,a,c){he=i,Mx(i)}function Mx(i,a,c){for(var m=(i.mode&1)!==0;he!==null;){var y=he,b=y.child;if(y.tag===22&&m){var C=y.memoizedState!==null||Wd;if(!C){var F=y.alternate,z=F!==null&&F.memoizedState!==null||Cn;F=Wd;var Y=Cn;if(Wd=C,(Cn=z)&&!Y)for(he=y;he!==null;)C=he,z=C.child,C.tag===22&&C.memoizedState!==null?Fx(y):z!==null?(z.return=C,he=z):Fx(y);for(;b!==null;)he=b,Mx(b),b=b.sibling;he=y,Wd=F,Cn=Y}Vx(i)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,he=b):Vx(i)}}function Vx(i){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||qd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Cn)if(c===null)m.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Hr(a.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Ow(a,b,m);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Ow(a,C,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Ii(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cn||a.flags&512&&hm(a)}catch(ne){Et(a,a.return,ne)}}if(a===i){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function Ox(i){for(;he!==null;){var a=he;if(a===i){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function Fx(i){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{qd(4,a)}catch(z){Et(a,c,z)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(z){Et(a,y,z)}}var b=a.return;try{hm(a)}catch(z){Et(a,b,z)}break;case 5:var C=a.return;try{hm(a)}catch(z){Et(a,C,z)}}}catch(z){Et(a,a.return,z)}if(a===i){he=null;break}var F=a.sibling;if(F!==null){F.return=a.return,he=F;break}he=a.return}}var HA=Math.ceil,Hd=$.ReactCurrentDispatcher,mm=$.ReactCurrentOwner,Cr=$.ReactCurrentBatchConfig,Ke=0,Yt=null,Dt=null,hn=0,pr=0,Xa=Ni(0),$t=0,kc=null,qo=0,Gd=0,gm=0,Pc=null,Kn=null,ym=0,Ja=1/0,ni=null,Kd=!1,vm=null,Oi=null,Qd=!1,Fi=null,Yd=0,Nc=0,wm=null,Xd=-1,Jd=0;function Vn(){return(Ke&6)!==0?lt():Xd!==-1?Xd:Xd=lt()}function Ui(i){return(i.mode&1)===0?1:(Ke&2)!==0&&hn!==0?hn&-hn:AA.transition!==null?(Jd===0&&(Jd=Zl()),Jd):(i=We,i!==0||(i=window.event,i=i===void 0?16:Ia(i.type)),i)}function Qr(i,a,c,m){if(50<Nc)throw Nc=0,wm=null,Error(n(185));jo(i,c,m),((Ke&2)===0||i!==Yt)&&(i===Yt&&((Ke&2)===0&&(Gd|=c),$t===4&&Bi(i,hn)),Qn(i,m),c===1&&Ke===0&&(a.mode&1)===0&&(Ja=lt()+500,Cd&&Di()))}function Qn(i,a){var c=i.callbackNode;No(i,a);var m=$s(i,i===Yt?hn:0);if(m===0)c!==null&&xa(c),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(c!=null&&xa(c),a===1)i.tag===0?RA(Bx.bind(null,i)):Cw(Bx.bind(null,i)),TA(function(){(Ke&6)===0&&Di()}),c=null;else{switch(ms(m)){case 1:c=ba;break;case 4:c=Yl;break;case 16:c=Ro;break;case 536870912:c=_a;break;default:c=Ro}c=Qx(c,Ux.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Ux(i,a){if(Xd=-1,Jd=0,(Ke&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Za()&&i.callbackNode!==c)return null;var m=$s(i,i===Yt?hn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Zd(i,m);else{a=m;var y=Ke;Ke|=2;var b=$x();(Yt!==i||hn!==a)&&(ni=null,Ja=lt()+500,Go(i,a));do try{QA();break}catch(F){zx(i,F)}while(!0);Vp(),Hd.current=b,Ke=y,Dt!==null?a=0:(Yt=null,hn=0,a=$t)}if(a!==0){if(a===2&&(y=Jl(i),y!==0&&(m=y,a=xm(i,y))),a===1)throw c=kc,Go(i,0),Bi(i,m),Qn(i,lt()),c;if(a===6)Bi(i,m);else{if(y=i.current.alternate,(m&30)===0&&!GA(y)&&(a=Zd(i,m),a===2&&(b=Jl(i),b!==0&&(m=b,a=xm(i,b))),a===1))throw c=kc,Go(i,0),Bi(i,m),Qn(i,lt()),c;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Ko(i,Kn,ni);break;case 3:if(Bi(i,m),(m&130023424)===m&&(a=ym+500-lt(),10<a)){if($s(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Vn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Cp(Ko.bind(null,i,Kn,ni),a);break}Ko(i,Kn,ni);break;case 4:if(Bi(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var C=31-ar(m);b=1<<C,C=a[C],C>y&&(y=C),m&=~b}if(m=y,m=lt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*HA(m/1960))-m,10<m){i.timeoutHandle=Cp(Ko.bind(null,i,Kn,ni),m);break}Ko(i,Kn,ni);break;case 5:Ko(i,Kn,ni);break;default:throw Error(n(329))}}}return Qn(i,lt()),i.callbackNode===c?Ux.bind(null,i):null}function xm(i,a){var c=Pc;return i.current.memoizedState.isDehydrated&&(Go(i,a).flags|=256),i=Zd(i,a),i!==2&&(a=Kn,Kn=c,a!==null&&bm(a)),i}function bm(i){Kn===null?Kn=i:Kn.push.apply(Kn,i)}function GA(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],b=y.getSnapshot;y=y.value;try{if(!Wr(b(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(i,a){for(a&=~gm,a&=~Gd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-ar(a),m=1<<c;i[c]=-1,a&=~m}}function Bx(i){if((Ke&6)!==0)throw Error(n(327));Za();var a=$s(i,0);if((a&1)===0)return Qn(i,lt()),null;var c=Zd(i,a);if(i.tag!==0&&c===2){var m=Jl(i);m!==0&&(a=m,c=xm(i,m))}if(c===1)throw c=kc,Go(i,0),Bi(i,a),Qn(i,lt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ko(i,Kn,ni),Qn(i,lt()),null}function _m(i,a){var c=Ke;Ke|=1;try{return i(a)}finally{Ke=c,Ke===0&&(Ja=lt()+500,Cd&&Di())}}function Ho(i){Fi!==null&&Fi.tag===0&&(Ke&6)===0&&Za();var a=Ke;Ke|=1;var c=Cr.transition,m=We;try{if(Cr.transition=null,We=1,i)return i()}finally{We=m,Cr.transition=c,Ke=a,(Ke&6)===0&&Di()}}function Em(){pr=Xa.current,ut(Xa)}function Go(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,EA(c)),Dt!==null)for(c=Dt.return;c!==null;){var m=c;switch(Np(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Td();break;case 3:Ka(),ut(qn),ut(En),qp();break;case 5:$p(m);break;case 4:Ka();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:Op(m.type._context);break;case 22:case 23:Em()}c=c.return}if(Yt=i,Dt=i=zi(i.current,null),hn=pr=a,$t=0,kc=null,gm=Gd=qo=0,Kn=Pc=null,zo!==null){for(a=0;a<zo.length;a++)if(c=zo[a],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,b=c.pending;if(b!==null){var C=b.next;b.next=y,m.next=C}c.pending=m}zo=null}return i}function zx(i,a){do{var c=Dt;try{if(Vp(),Md.current=Ud,Vd){for(var m=yt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Vd=!1}if(Wo=0,Qt=zt=yt=null,Tc=!1,Sc=0,mm.current=null,c===null||c.return===null){$t=1,kc=a,Dt=null;break}e:{var b=i,C=c.return,F=c,z=a;if(a=hn,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,re=F,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=fx(C);if(ue!==null){ue.flags&=-257,px(ue,C,F,b,a),ue.mode&1&&hx(b,Y,a),a=ue,z=Y;var fe=a.updateQueue;if(fe===null){var pe=new Set;pe.add(z),a.updateQueue=pe}else fe.add(z);break e}else{if((a&1)===0){hx(b,Y,a),Tm();break e}z=Error(n(426))}}else if(ft&&F.mode&1){var At=fx(C);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),px(At,C,F,b,a),Lp(Qa(z,F));break e}}b=z=Qa(z,F),$t!==4&&($t=2),Pc===null?Pc=[b]:Pc.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var G=ux(b,z,a);Vw(b,G);break e;case 1:F=z;var W=b.type,Q=b.stateNode;if((b.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Oi===null||!Oi.has(Q)))){b.flags|=65536,a&=-a,b.lanes|=a;var oe=dx(b,F,a);Vw(b,oe);break e}}b=b.return}while(b!==null)}qx(c)}catch(me){a=me,Dt===c&&c!==null&&(Dt=c=c.return);continue}break}while(!0)}function $x(){var i=Hd.current;return Hd.current=Ud,i===null?Ud:i}function Tm(){($t===0||$t===3||$t===2)&&($t=4),Yt===null||(qo&268435455)===0&&(Gd&268435455)===0||Bi(Yt,hn)}function Zd(i,a){var c=Ke;Ke|=2;var m=$x();(Yt!==i||hn!==a)&&(ni=null,Go(i,a));do try{KA();break}catch(y){zx(i,y)}while(!0);if(Vp(),Ke=c,Hd.current=m,Dt!==null)throw Error(n(261));return Yt=null,hn=0,$t}function KA(){for(;Dt!==null;)Wx(Dt)}function QA(){for(;Dt!==null&&!Io();)Wx(Dt)}function Wx(i){var a=Kx(i.alternate,i,pr);i.memoizedProps=i.pendingProps,a===null?qx(i):Dt=a,mm.current=null}function qx(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=BA(c,a,pr),c!==null){Dt=c;return}}else{if(c=zA(c,a),c!==null){c.flags&=32767,Dt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Dt=null;return}}if(a=a.sibling,a!==null){Dt=a;return}Dt=a=i}while(a!==null);$t===0&&($t=5)}function Ko(i,a,c){var m=We,y=Cr.transition;try{Cr.transition=null,We=1,YA(i,a,c,m)}finally{Cr.transition=y,We=m}return null}function YA(i,a,c,m){do Za();while(Fi!==null);if((Ke&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var b=c.lanes|c.childLanes;if(up(i,b),i===Yt&&(Dt=Yt=null,hn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Qd||(Qd=!0,Qx(Ro,function(){return Za(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=Cr.transition,Cr.transition=null;var C=We;We=1;var F=Ke;Ke|=4,mm.current=null,WA(i,c),Lx(c,i),gA(Tp),Hs=!!Ep,Tp=Ep=null,i.current=c,qA(c),zs(),Ke=F,We=C,Cr.transition=b}else i.current=c;if(Qd&&(Qd=!1,Fi=i,Yd=y),b=i.pendingLanes,b===0&&(Oi=null),od(c.stateNode),Qn(i,lt()),a!==null)for(m=i.onRecoverableError,c=0;c<a.length;c++)y=a[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(Kd)throw Kd=!1,i=vm,vm=null,i;return(Yd&1)!==0&&i.tag!==0&&Za(),b=i.pendingLanes,(b&1)!==0?i===wm?Nc++:(Nc=0,wm=i):Nc=0,Di(),null}function Za(){if(Fi!==null){var i=ms(Yd),a=Cr.transition,c=We;try{if(Cr.transition=null,We=16>i?16:i,Fi===null)var m=!1;else{if(i=Fi,Fi=null,Yd=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,he=i.current;he!==null;){var b=he,C=b.child;if((he.flags&16)!==0){var F=b.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Y=F[z];for(he=Y;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:Ac(8,re,b)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ne=re.sibling,ue=re.return;if(kx(re),re===Y){he=null;break}if(ne!==null){ne.return=ue,he=ne;break}he=ue}}}var fe=b.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var At=pe.sibling;pe.sibling=null,pe=At}while(pe!==null)}}he=b}}if((b.subtreeFlags&2064)!==0&&C!==null)C.return=b,he=C;else e:for(;he!==null;){if(b=he,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Ac(9,b,b.return)}var G=b.sibling;if(G!==null){G.return=b.return,he=G;break e}he=b.return}}var W=i.current;for(he=W;he!==null;){C=he;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,he=Q;else e:for(C=W;he!==null;){if(F=he,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:qd(9,F)}}catch(me){Et(F,F.return,me)}if(F===C){he=null;break e}var oe=F.sibling;if(oe!==null){oe.return=F.return,he=oe;break e}he=F.return}}if(Ke=y,Di(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Ao,i)}catch{}m=!0}return m}finally{We=c,Cr.transition=a}}return!1}function Hx(i,a,c){a=Qa(c,a),a=ux(i,a,1),i=Mi(i,a,1),a=Vn(),i!==null&&(jo(i,1,a),Qn(i,a))}function Et(i,a,c){if(i.tag===3)Hx(i,i,c);else for(;a!==null;){if(a.tag===3){Hx(a,i,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oi===null||!Oi.has(m))){i=Qa(c,i),i=dx(a,i,1),a=Mi(a,i,1),i=Vn(),a!==null&&(jo(a,1,i),Qn(a,i));break}}a=a.return}}function XA(i,a,c){var m=i.pingCache;m!==null&&m.delete(a),a=Vn(),i.pingedLanes|=i.suspendedLanes&c,Yt===i&&(hn&c)===c&&($t===4||$t===3&&(hn&130023424)===hn&&500>lt()-ym?Go(i,0):gm|=c),Qn(i,a)}function Gx(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var c=Vn();i=Zs(i,a),i!==null&&(jo(i,a,c),Qn(i,c))}function JA(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Gx(i,c)}function ZA(i,a){var c=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Gx(i,c)}var Kx;Kx=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||qn.current)Gn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return Gn=!1,UA(i,a,c);Gn=(i.flags&131072)!==0}else Gn=!1,ft&&(a.flags&1048576)!==0&&Iw(a,Rd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;$d(i,a),i=a.pendingProps;var y=Ba(a,En.current);Ga(a,c),y=Kp(null,a,m,i,y,c);var b=Qp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Hn(m)?(b=!0,Sd(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Bp(a),y.updater=Bd,a.stateNode=y,y._reactInternals=a,tm(a,m,i,c),a=im(null,a,m,!0,b,c)):(a.tag=0,ft&&b&&Pp(a),Mn(null,a,y,c),a=a.child),a;case 16:m=a.elementType;e:{switch($d(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=tk(m),i=Hr(m,i),y){case 0:a=sm(null,a,m,i,c);break e;case 1:a=xx(null,a,m,i,c);break e;case 11:a=mx(null,a,m,i,c);break e;case 14:a=gx(null,a,m,Hr(m.type,i),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),sm(i,a,m,y,c);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),xx(i,a,m,y,c);case 3:e:{if(bx(a),i===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,y=b.element,Mw(i,a),Dd(a,m,null,c);var C=a.memoizedState;if(m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=Qa(Error(n(423)),a),a=_x(i,a,m,c,y);break e}else if(m!==y){y=Qa(Error(n(424)),a),a=_x(i,a,m,c,y);break e}else for(fr=Pi(a.stateNode.containerInfo.firstChild),hr=a,ft=!0,qr=null,c=Dw(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wa(),m===y){a=ti(i,a,c);break e}Mn(i,a,m,c)}a=a.child}return a;case 5:return Fw(a),i===null&&Dp(a),m=a.type,y=a.pendingProps,b=i!==null?i.memoizedProps:null,C=y.children,Sp(m,y)?C=null:b!==null&&Sp(m,b)&&(a.flags|=32),wx(i,a),Mn(i,a,C,c),a.child;case 6:return i===null&&Dp(a),null;case 13:return Ex(i,a,c);case 4:return zp(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=qa(a,null,m,c):Mn(i,a,m,c),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),mx(i,a,m,y,c);case 7:return Mn(i,a,a.pendingProps,c),a.child;case 8:return Mn(i,a,a.pendingProps.children,c),a.child;case 12:return Mn(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,b=a.memoizedProps,C=y.value,ot(Pd,m._currentValue),m._currentValue=C,b!==null)if(Wr(b.value,C)){if(b.children===y.children&&!qn.current){a=ti(i,a,c);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var F=b.dependencies;if(F!==null){C=b.child;for(var z=F.firstContext;z!==null;){if(z.context===m){if(b.tag===1){z=ei(-1,c&-c),z.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?z.next=z:(z.next=re.next,re.next=z),Y.pending=z}}b.lanes|=c,z=b.alternate,z!==null&&(z.lanes|=c),Fp(b.return,c,a),F.lanes|=c;break}z=z.next}}else if(b.tag===10)C=b.type===a.type?null:b.child;else if(b.tag===18){if(C=b.return,C===null)throw Error(n(341));C.lanes|=c,F=C.alternate,F!==null&&(F.lanes|=c),Fp(C,c,a),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===a){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}Mn(i,a,y.children,c),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ga(a,c),y=Tr(y),m=m(y),a.flags|=1,Mn(i,a,m,c),a.child;case 14:return m=a.type,y=Hr(m,a.pendingProps),y=Hr(m.type,y),gx(i,a,m,y,c);case 15:return yx(i,a,a.type,a.pendingProps,c);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),$d(i,a),a.tag=1,Hn(m)?(i=!0,Sd(a)):i=!1,Ga(a,c),lx(a,m,y),tm(a,m,y,c),im(null,a,m,!0,i,c);case 19:return Sx(i,a,c);case 22:return vx(i,a,c)}throw Error(n(156,a.tag))};function Qx(i,a){return Ql(i,a)}function ek(i,a,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,c,m){return new ek(i,a,c,m)}function Sm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tk(i){if(typeof i=="function")return Sm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===Xe)return 14}return 2}function zi(i,a){var c=i.alternate;return c===null?(c=Ir(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function eh(i,a,c,m,y,b){var C=2;if(m=i,typeof i=="function")Sm(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case I:return Qo(c.children,y,b,a);case R:C=8,y|=8;break;case N:return i=Ir(12,c,a,y|2),i.elementType=N,i.lanes=b,i;case M:return i=Ir(13,c,a,y),i.elementType=M,i.lanes=b,i;case Ne:return i=Ir(19,c,a,y),i.elementType=Ne,i.lanes=b,i;case ge:return th(c,y,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:C=10;break e;case O:C=9;break e;case q:C=11;break e;case Xe:C=14;break e;case dt:C=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Ir(C,c,a,y),a.elementType=i,a.type=m,a.lanes=b,a}function Qo(i,a,c,m){return i=Ir(7,i,m,a),i.lanes=c,i}function th(i,a,c,m){return i=Ir(22,i,m,a),i.elementType=ge,i.lanes=c,i.stateNode={isHidden:!1},i}function Cm(i,a,c){return i=Ir(6,i,null,a),i.lanes=c,i}function Im(i,a,c){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function nk(i,a,c,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Rm(i,a,c,m,y,b,C,F,z){return i=new nk(i,a,c,F,z),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Ir(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(b),i}function rk(i,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:i,containerInfo:a,implementation:c}}function Yx(i){if(!i)return ji;i=i._reactInternals;e:{if(zr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Hn(c))return Tw(i,c,a)}return a}function Xx(i,a,c,m,y,b,C,F,z){return i=Rm(c,m,!0,i,y,b,C,F,z),i.context=Yx(null),c=i.current,m=Vn(),y=Ui(c),b=ei(m,y),b.callback=a??null,Mi(c,b,y),i.current.lanes=y,jo(i,y,m),Qn(i,m),i}function nh(i,a,c,m){var y=a.current,b=Vn(),C=Ui(y);return c=Yx(c),a.context===null?a.context=c:a.pendingContext=c,a=ei(b,C),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Mi(y,a,C),i!==null&&(Qr(i,y,C,b),jd(i,y,C)),C}function rh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Jx(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Am(i,a){Jx(i,a),(i=i.alternate)&&Jx(i,a)}function sk(){return null}var Zx=typeof reportError=="function"?reportError:function(i){console.error(i)};function km(i){this._internalRoot=i}sh.prototype.render=km.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));nh(i,a,null,null)},sh.prototype.unmount=km.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ho(function(){nh(null,i,null,null)}),a[Qs]=null}};function sh(i){this._internalRoot=i}sh.prototype.unstable_scheduleHydration=function(i){if(i){var a=sc();i={blockedOn:null,target:i,priority:a};for(var c=0;c<lr.length&&a!==0&&a<lr[c].priority;c++);lr.splice(c,0,i),c===0&&Sa(i)}};function Pm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ih(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function e1(){}function ik(i,a,c,m,y){if(y){if(typeof m=="function"){var b=m;m=function(){var Y=rh(C);b.call(Y)}}var C=Xx(a,m,i,0,null,!1,!1,"",e1);return i._reactRootContainer=C,i[Qs]=C.current,gc(i.nodeType===8?i.parentNode:i),Ho(),C}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var Y=rh(z);F.call(Y)}}var z=Rm(i,0,!1,null,null,!1,!1,"",e1);return i._reactRootContainer=z,i[Qs]=z.current,gc(i.nodeType===8?i.parentNode:i),Ho(function(){nh(a,z,c,m)}),z}function oh(i,a,c,m,y){var b=c._reactRootContainer;if(b){var C=b;if(typeof y=="function"){var F=y;y=function(){var z=rh(C);F.call(z)}}nh(a,C,i,y)}else C=ik(c,a,i,y,m);return rh(C)}nc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ye(a.pendingLanes);c!==0&&(tc(a,c|1),Qn(a,lt()),(Ke&6)===0&&(Ja=lt()+500,Di()))}break;case 13:Ho(function(){var m=Zs(i,1);if(m!==null){var y=Vn();Qr(m,i,1,y)}}),Am(i,1)}},Ea=function(i){if(i.tag===13){var a=Zs(i,134217728);if(a!==null){var c=Vn();Qr(a,i,134217728,c)}Am(i,134217728)}},rc=function(i){if(i.tag===13){var a=Ui(i),c=Zs(i,a);if(c!==null){var m=Vn();Qr(c,i,a,m)}Am(i,a)}},sc=function(){return We},ic=function(i,a){var c=We;try{return We=i,a()}finally{We=c}},Fr=function(i,a,c){switch(a){case"input":if(as(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==i&&m.form===i.form){var y=Ed(m);if(!y)throw Error(n(90));vn(m),as(m,y)}}}break;case"textarea":Eo(i,c);break;case"select":a=c.value,a!=null&&xn(i,!!c.multiple,a,!1)}},an=_m,Gt=Ho;var ok={usingClientEntryPoint:!1,Events:[wc,Fa,Ed,_t,on,_m]},jc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=id(i),i===null?null:i.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ao=ah.inject(ak),or=ah}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok,Yn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(a))throw Error(n(200));return rk(i,a,null,c)},Yn.createRoot=function(i,a){if(!Pm(i))throw Error(n(299));var c=!1,m="",y=Zx;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Rm(i,1,!1,null,null,c,!1,m,y),i[Qs]=a.current,gc(i.nodeType===8?i.parentNode:i),new km(a)},Yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=id(a),i=i===null?null:i.stateNode,i},Yn.flushSync=function(i){return Ho(i)},Yn.hydrate=function(i,a,c){if(!ih(a))throw Error(n(200));return oh(null,i,a,!0,c)},Yn.hydrateRoot=function(i,a,c){if(!Pm(i))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,b="",C=Zx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=Xx(a,null,i,1,c??null,y,!1,b,C),i[Qs]=a.current,gc(i),m)for(i=0;i<m.length;i++)c=m[i],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new sh(a)},Yn.render=function(i,a,c){if(!ih(a))throw Error(n(200));return oh(null,i,a,!1,c)},Yn.unmountComponentAtNode=function(i){if(!ih(i))throw Error(n(40));return i._reactRootContainer?(Ho(function(){oh(null,null,i,!1,function(){i._reactRootContainer=null,i[Qs]=null})}),!0):!1},Yn.unstable_batchedUpdates=_m,Yn.unstable_renderSubtreeIntoContainer=function(i,a,c,m){if(!ih(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return oh(i,a,c,!1,m)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var l1;function a2(){if(l1)return Dm.exports;l1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dm.exports=pk(),Dm.exports}var c1;function mk(){if(c1)return lh;c1=1;var t=a2();return lh.createRoot=t.createRoot,lh.hydrateRoot=t.hydrateRoot,lh}var gk=mk();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u1="popstate";function yk(t={}){function e(s,o){let{pathname:l="/",search:u="",hash:d=""}=ma(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sg("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof o=="string"?o:cu(o))}function r(s,o){xr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return wk(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vk(){return Math.random().toString(36).substring(2,10)}function d1(t,e){return{usr:t.state,key:t.key,idx:e}}function Sg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||vk()}}function cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wk(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let S=g(),D=S==null?null:S-p;p=S,d&&d({action:u,location:A.location,delta:D})}function w(S,D){u="PUSH";let j=Sg(A.location,S,D);n&&n(j,S),p=g()+1;let V=d1(j,p),$=A.createHref(j);try{l.pushState(V,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign($)}o&&d&&d({action:u,location:A.location,delta:1})}function T(S,D){u="REPLACE";let j=Sg(A.location,S,D);n&&n(j,S),p=g();let V=d1(j,p),$=A.createHref(j);l.replaceState(V,"",$),o&&d&&d({action:u,location:A.location,delta:0})}function k(S){return xk(S)}let A={get action(){return u},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u1,v),d=S,()=>{s.removeEventListener(u1,v),d=null}},createHref(S){return e(s,S)},createURL:k,encodeLocation(S){let D=k(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(S){return l.go(S)}};return A}function xk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l2(t,e,n="/"){return bk(t,e,n,!1)}function bk(t,e,n,r){let s=typeof e=="string"?ma(e):e,o=li(s.pathname||"/",n);if(o==null)return null;let l=c2(t);_k(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=jk(o);u=Pk(l[d],p,r)}return u}function c2(t,e=[],n=[],r="",s=!1){let o=(l,u,d=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;mt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=oi([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),c2(l.children,e,w,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:Ak(v,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of u2(l.path))o(l,u,!0,d)}),e}function u2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=u2(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function _k(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ek=/^:[\w-]+$/,Tk=3,Sk=2,Ck=1,Ik=10,Rk=-2,h1=t=>t==="*";function Ak(t,e){let n=t.split("/"),r=n.length;return n.some(h1)&&(r+=Rk),e&&(r+=Sk),n.filter(s=>!h1(s)).reduce((s,o)=>s+(Ek.test(o)?Tk:o===""?Ck:Ik),r)}function kk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Pk(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=$h({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=$h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:oi([o,v.pathname]),pathnameBase:Vk(oi([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=oi([o,v.pathnameBase]))}return l}function $h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let k=u[w]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const T=u[w];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function Nk(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dk(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:Lk(n,e):e,search:Ok(r),hash:Fk(s)}}function Lk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Py(t){let e=Mk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,r=!1){let s;typeof t=="string"?s=ma(t):(s={...t},mt(!s.pathname||!s.pathname.includes("?"),Vm("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Vm("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Vm("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}u=v>=0?e[v]:"/"}let d=Dk(s,u),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),Vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var d2=["POST","PUT","PATCH","DELETE"];new Set(d2);var Bk=["GET",...d2];new Set(Bk);var Al=x.createContext(null);Al.displayName="DataRouter";var Ef=x.createContext(null);Ef.displayName="DataRouterState";x.createContext(!1);var h2=x.createContext({isTransitioning:!1});h2.displayName="ViewTransition";var zk=x.createContext(new Map);zk.displayName="Fetchers";var $k=x.createContext(null);$k.displayName="Await";var is=x.createContext(null);is.displayName="Navigation";var Nu=x.createContext(null);Nu.displayName="Location";var os=x.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var jy=x.createContext(null);jy.displayName="RouteError";function Wk(t,{relative:e}={}){mt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(is),{hash:s,pathname:o,search:l}=ju(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:oi([n,o])),r.createHref({pathname:u,search:l,hash:s})}function kl(){return x.useContext(Nu)!=null}function Lr(){return mt(kl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Nu).location}var f2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p2(t){x.useContext(is).static||x.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=x.useContext(os);return t?rP():qk()}function qk(){mt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Al),{basename:e,navigator:n}=x.useContext(is),{matches:r}=x.useContext(os),{pathname:s}=Lr(),o=JSON.stringify(Py(r)),l=x.useRef(!1);return p2(()=>{l.current=!0}),x.useCallback((d,p={})=>{if(xr(l.current,f2),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Ny(d,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:oi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}x.createContext(null);function Dy(){let{matches:t}=x.useContext(os),e=t[t.length-1];return e?e.params:{}}function ju(t,{relative:e}={}){let{matches:n}=x.useContext(os),{pathname:r}=Lr(),s=JSON.stringify(Py(n));return x.useMemo(()=>Ny(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Hk(t,e){return m2(t,e)}function m2(t,e,n,r,s){mt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(is),{matches:l}=x.useContext(os),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";g2(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Lr(),T;if(e){let j=typeof e=="string"?ma(e):e;mt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=w;let k=T.pathname||"/",A=k;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=l2(t,{pathname:A});xr(v||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),xr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Xk(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&D?x.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function Gk(){let t=nP(),e=Uk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,l)}var Kk=x.createElement(Gk,null),Qk=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(os.Provider,{value:this.props.routeContext},x.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yk({routeContext:t,match:e,children:n}){let r=x.useContext(Al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(os.Provider,{value:t},n)}function Xk(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:w}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let w,T=!1,k=null,A=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||Kk,u&&(d<0&&v===0?(g2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):d===v&&(T=!0,A=g.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,v+1)),D=()=>{let j;return w?j=k:T?j=A:g.route.Component?j=x.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,x.createElement(Yk,{match:g,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(Qk,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):D()},null)}function Ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jk(t){let e=x.useContext(Al);return mt(e,Ly(t)),e}function Zk(t){let e=x.useContext(Ef);return mt(e,Ly(t)),e}function eP(t){let e=x.useContext(os);return mt(e,Ly(t)),e}function My(t){let e=eP(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tP(){return My("useRouteId")}function nP(){let t=x.useContext(jy),e=Zk("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function rP(){let{router:t}=Jk("useNavigate"),e=My("useNavigate"),n=x.useRef(!1);return p2(()=>{n.current=!0}),x.useCallback(async(s,o={})=>{xr(n.current,f2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var f1={};function g2(t,e,n){!e&&!f1[t]&&(f1[t]=!0,xr(!1,n))}x.memo(sP);function sP({routes:t,future:e,state:n,unstable_onError:r}){return m2(t,void 0,n,r,e)}function iP({to:t,replace:e,state:n,relative:r}){mt(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(is);xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(os),{pathname:l}=Lr(),u=nr(),d=Ny(t,Py(o),l,r==="path"),p=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function Fn(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){mt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=ma(n));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,T=x.useMemo(()=>{let k=li(d,l);return k==null?null:{location:{pathname:k,search:p,hash:g,state:v,key:w},navigationType:r}},[l,d,p,g,v,w,r]);return xr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:x.createElement(is.Provider,{value:u},x.createElement(Nu.Provider,{children:e,value:T}))}function aP({children:t,location:e}){return Hk(Cg(t),e)}function Cg(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let o=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Cg(r.props.children,o));return}mt(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cg(r.props.children,o)),n.push(l)}),n}var Ch="get",Ih="application/x-www-form-urlencoded";function Tf(t){return t!=null&&typeof t.tagName=="string"}function lP(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function cP(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function uP(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function dP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hP(t,e){return t.button===0&&(!e||e==="_self")&&!dP(t)}function Ig(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function fP(t,e){let n=Ig(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var ch=null;function pP(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var mP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(t){return t!=null&&!mP.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):t}function gP(t,e){let n,r,s,o,l;if(cP(t)){let u=t.getAttribute("action");r=u?li(u,e):null,n=t.getAttribute("method")||Ch,s=Om(t.getAttribute("enctype"))||Ih,o=new FormData(t)}else if(lP(t)||uP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?li(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ch,s=Om(t.getAttribute("formenctype"))||Om(u.getAttribute("enctype"))||Ih,o=new FormData(u,t),!pP()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,s=Ih,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xP(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await vP(o,n);return l.links?l.links():[]}return[]}));return TP(r.flat(1).filter(wP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function p1(t,e,n,r,s,o){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,u=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bP(t,e,{includeHydrateFallback:n}={}){return _P(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function _P(t){return[...new Set(t)]}function EP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(EP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function y2(){let t=x.useContext(Al);return Vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SP(){let t=x.useContext(Ef);return Vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Oy=x.createContext(void 0);Oy.displayName="FrameworkContext";function v2(){let t=x.useContext(Oy);return Vy(t,"You must render this element inside a <HydratedRouter> element"),t}function CP(t,e){let n=x.useContext(Oy),[r,s]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=D=>{D.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),x.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Lc(u,T),onBlur:Lc(d,k),onMouseEnter:Lc(p,T),onMouseLeave:Lc(g,k),onTouchStart:Lc(v,T)}]:[!1,w,{}]}function Lc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IP({page:t,...e}){let{router:n}=y2(),r=x.useMemo(()=>l2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(AP,{page:t,matches:r,...e}):null}function RP(t){let{manifest:e,routeModules:n}=v2(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return xP(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function AP({page:t,matches:e,...n}){let r=Lr(),{manifest:s,routeModules:o}=v2(),{basename:l}=y2(),{loaderData:u,matches:d}=SP(),p=x.useMemo(()=>p1(t,e,d,s,r,"data"),[t,e,d,s,r]),g=x.useMemo(()=>p1(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,A=!1;if(e.forEach(D=>{let j=s.routes[D.route.id];!j||!j.hasLoader||(!p.some(V=>V.route.id===D.route.id)&&D.route.id in u&&o[D.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:k.add(D.route.id))}),k.size===0)return[];let S=yP(t,l,"data");return A&&k.size>0&&S.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[l,u,r,s,p,e,t,o]),w=x.useMemo(()=>bP(g,s),[g,s]),T=RP(g);return x.createElement(x.Fragment,null,v.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),T.map(({key:k,link:A})=>x.createElement("link",{key:k,nonce:n.nonce,...A})))}function kP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w2&&(window.__reactRouterVersion="7.9.4")}catch{}function PP({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=yk({window:n,v5Compat:!0}));let s=r.current,[o,l]=x.useState({action:s.action,location:s.location}),u=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(oP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var x2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:v,...w},T){let{basename:k}=x.useContext(is),A=typeof p=="string"&&x2.test(p),S,D=!1;if(typeof p=="string"&&A&&(S=p,w2))try{let N=new URL(window.location.href),L=p.startsWith("//")?new URL(N.protocol+p):new URL(p),O=li(L.pathname,k);L.origin===N.origin&&O!=null?p=O+L.search+L.hash:D=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Wk(p,{relative:s}),[V,$,H]=CP(r,w),B=LP(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function I(N){e&&e(N),N.defaultPrevented||B(N)}let R=x.createElement("a",{...w,...H,href:S||j,onClick:D||o?e:I,ref:kP(T,$),target:d,"data-discover":!A&&n==="render"?"true":void 0});return V&&!A?x.createElement(x.Fragment,null,R,x.createElement(IP,{page:j})):R});Mt.displayName="Link";var NP=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...p},g){let v=ju(l,{relative:p.relative}),w=Lr(),T=x.useContext(Ef),{navigator:k,basename:A}=x.useContext(is),S=T!=null&&UP(v)&&u===!0,D=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,j=w.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(j=j.toLowerCase(),V=V?V.toLowerCase():null,D=D.toLowerCase()),V&&A&&(V=li(V,A)||V);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=j===D||!s&&j.startsWith(D)&&j.charAt($)==="/",B=V!=null&&(V===D||!s&&V.startsWith(D)&&V.charAt(D.length)==="/"),I={isActive:H,isPending:B,isTransitioning:S},R=H?e:void 0,N;typeof r=="function"?N=r(I):N=[r,H?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(I):o;return x.createElement(Mt,{...p,"aria-current":R,className:N,ref:g,style:L,to:l,viewTransition:u},typeof d=="function"?d(I):d)});NP.displayName="NavLink";var jP=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=Ch,action:u,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,...w},T)=>{let k=OP(),A=FP(u,{relative:p}),S=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&x2.test(u),j=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,H=$?.getAttribute("formmethod")||l;k($||V.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:T,method:S,action:A,onSubmit:r?d:j,...w,"data-discover":!D&&t==="render"?"true":void 0})});jP.displayName="Form";function DP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(t){let e=x.useContext(Al);return mt(e,DP(t)),e}function LP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=nr(),d=Lr(),p=ju(t,{relative:o});return x.useCallback(g=>{if(hP(g,e)){g.preventDefault();let v=n!==void 0?n:cu(d)===cu(p);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,p,n,r,e,t,s,o,l])}function T$(t){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(Ig(t)),n=x.useRef(!1),r=Lr(),s=x.useMemo(()=>fP(r.search,n.current?null:e.current),[r.search]),o=nr(),l=x.useCallback((u,d)=>{const p=Ig(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,o("?"+p,d)},[o,s]);return[s,l]}var MP=0,VP=()=>`__${String(++MP)}__`;function OP(){let{router:t}=b2("useSubmit"),{basename:e}=x.useContext(is),n=tP();return x.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:d,body:p}=gP(r,e);if(s.navigate===!1){let g=s.fetcherKey||VP();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function FP(t,{relative:e}={}){let{basename:n}=x.useContext(is),r=x.useContext(os);mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ju(t||".",{relative:e})},l=Lr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:oi([n,o.pathname])),cu(o)}function UP(t,{relative:e}={}){let n=x.useContext(h2);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b2("useViewTransitionState"),s=ju(t,{relative:e});if(!n.isTransitioning)return!1;let o=li(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $h(s.pathname,l)!=null||$h(s.pathname,o)!=null}var Fc=a2();const BP="modulepreload",zP=function(t){return"/"+t},m1={},Fy=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(p=>{if(p=zP(p),p in m1)return;m1[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":BP,g||(w.as="script"),w.crossOrigin="",w.href=p,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((T,k)=>{w.addEventListener("load",T),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},$P=()=>{};var g1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},E2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|p>>6,T=p&63;d||(T=64,l||(w=64)),r.push(n[g],n[v],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||p==null||v==null)throw new qP;const w=o<<2|u>>4;if(r.push(w),p!==64){const T=u<<4&240|p>>2;if(r.push(T),v!==64){const k=p<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(t){const e=_2(t);return E2.encodeByteArray(e,!0)},Wh=function(t){return HP(t).replace(/\./g,"")},T2=function(t){try{return E2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>GP().__FIREBASE_DEFAULTS__,QP=()=>{if(typeof process>"u"||typeof g1>"u")return;const t=g1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T2(t[1]);return e&&JSON.parse(e)},Sf=()=>{try{return $P()||KP()||QP()||YP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S2=t=>Sf()?.emulatorHosts?.[t],C2=t=>{const e=S2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},I2=()=>Sf()?.config,R2=t=>Sf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(l)),""].join(".")}const Gc={};function JP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function ZP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y1=!1;function By(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Gc[t]===e||Gc[t]||y1)return;Gc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=JP().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{y1=!0,l()},w}function g(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=ZP(r),T=n("text"),k=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const V=w.element;u(V),g(S,A);const $=p();d(j,D),V.append(j,k,S,$),document.body.appendChild(V)}o?(k.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function tN(){const t=Sf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P2(){try{return typeof indexedDB=="object"}catch{return!1}}function N2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function oN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aN,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?lN(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Mr(s,u,r)}}function lN(t,e){return t.replace(cN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cN=/\{\$([^}]+)}/g;function uN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(v1(o)&&v1(l)){if(!ci(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dN(t,e){const n=new hN(t,e);return n.subscribe.bind(n)}class hN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fm),s.error===void 0&&(s.error=Fm),s.complete===void 0&&(s.complete=Fm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3,mN=2,gN=14400*1e3,yN=.5;function w1(t,e=pN,n=mN){const r=e*Math.pow(n,t),s=Math.round(yN*r*(Math.random()-.5)*2);return Math.min(gN,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xN(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(t){return t===Xo?void 0:t}function xN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const _N={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},EN=Be.INFO,TN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cf{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=SN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const CN=(t,e)=>e.some(n=>t instanceof n);let x1,b1;function IN(){return x1||(x1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,Rg=new WeakMap,D2=new WeakMap,Um=new WeakMap,zy=new WeakMap;function AN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(eo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,t)}).catch(()=>{}),zy.set(e,t),e}function kN(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Rg.set(t,e)}let Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PN(t){Ag=t(Ag)}function NN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bm(this),e,...n);return D2.set(r,e.sort?e.sort():[e]),eo(r)}:RN().includes(t)?function(...e){return t.apply(Bm(this),e),eo(j2.get(this))}:function(...e){return eo(t.apply(Bm(this),e))}}function jN(t){return typeof t=="function"?NN(t):(t instanceof IDBTransaction&&kN(t),CN(t,IN())?new Proxy(t,Ag):t)}function eo(t){if(t instanceof IDBRequest)return AN(t);if(Um.has(t))return Um.get(t);const e=jN(t);return e!==t&&(Um.set(t,e),zy.set(e,t)),e}const Bm=t=>zy.get(t);function L2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=eo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(eo(l.result),d.oldVersion,d.newVersion,eo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const DN=["get","getKey","getAll","getAllKeys","count"],LN=["put","add","delete","clear"],zm=new Map;function _1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DN.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&d.done]))[0]};return zm.set(e,o),o}PN(t=>({...t,get:(e,n,r)=>_1(e,n)||t.get(e,n,r),has:(e,n)=>!!_1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VN(t){return t.getComponent()?.type==="VERSION"}const kg="@firebase/app",E1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Cf("@firebase/app"),ON="@firebase/app-compat",FN="@firebase/analytics-compat",UN="@firebase/analytics",BN="@firebase/app-check-compat",zN="@firebase/app-check",$N="@firebase/auth",WN="@firebase/auth-compat",qN="@firebase/database",HN="@firebase/data-connect",GN="@firebase/database-compat",KN="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",XN="@firebase/installations-compat",JN="@firebase/messaging",ZN="@firebase/messaging-compat",e5="@firebase/performance",t5="@firebase/performance-compat",n5="@firebase/remote-config",r5="@firebase/remote-config-compat",s5="@firebase/storage",i5="@firebase/storage-compat",o5="@firebase/firestore",a5="@firebase/ai",l5="@firebase/firestore-compat",c5="firebase",u5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",d5={[kg]:"fire-core",[ON]:"fire-core-compat",[UN]:"fire-analytics",[FN]:"fire-analytics-compat",[zN]:"fire-app-check",[BN]:"fire-app-check-compat",[$N]:"fire-auth",[WN]:"fire-auth-compat",[qN]:"fire-rtdb",[HN]:"fire-data-connect",[GN]:"fire-rtdb-compat",[KN]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[XN]:"fire-iid-compat",[JN]:"fire-fcm",[ZN]:"fire-fcm-compat",[e5]:"fire-perf",[t5]:"fire-perf-compat",[n5]:"fire-rc",[r5]:"fire-rc-compat",[s5]:"fire-gcs",[i5]:"fire-gcs-compat",[o5]:"fire-fst",[l5]:"fire-fst-compat",[a5]:"fire-vertex","fire-js":"fire-js",[c5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,h5=new Map,Ng=new Map;function T1(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(Ng.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(const n of qh.values())T1(n,t);for(const n of h5.values())T1(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new ga("app","Firebase",f5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=u5;function M2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(n||(n=I2()),!n)throw to.create("no-options");const o=qh.get(s);if(o){if(ci(n,o.options)&&ci(r,o.config))return o;throw to.create("duplicate-app",{appName:s})}const l=new bN(s);for(const d of Ng.values())l.addComponent(d);const u=new p5(n,r,l);return qh.set(s,u),u}function If(t=Pg){const e=qh.get(t);if(!e&&t===Pg&&I2())return M2();if(!e)throw to.create("no-app",{appName:t});return e}function er(t,e,n){let r=d5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(l.join(" "));return}es(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firebase-heartbeat-database",g5=1,uu="firebase-heartbeat-store";let $m=null;function V2(){return $m||($m=L2(m5,g5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),$m}async function y5(t){try{const n=(await V2()).transaction(uu),r=await n.objectStore(uu).get(O2(t));return await n.done,r}catch(e){if(e instanceof Mr)ui.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});ui.warn(n.message)}}}async function S1(t,e){try{const r=(await V2()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,O2(t)),await r.done}catch(n){if(n instanceof Mr)ui.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n?.message});ui.warn(r.message)}}}function O2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=1024,w5=30;class x5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>w5){const s=E5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C1(),{heartbeatsToSend:n,unsentEntries:r}=b5(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function C1(){return new Date().toISOString().substring(0,10)}function b5(t,e=v5){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),I1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P2()?N2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I1(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function E5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){es(new jr("platform-logger",e=>new MN(e),"PRIVATE")),es(new jr("heartbeat",e=>new x5(e),"PRIVATE")),er(kg,E1,t),er(kg,E1,"esm2020"),er("fire-js","")}T5("");var S5="firebase",C5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(S5,C5,"app");const F2="@firebase/installations",$y="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=1e4,B2=`w:${$y}`,z2="FIS_v2",I5="https://firebaseinstallations.googleapis.com/v1",R5=3600*1e3,A5="installations",k5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ga(A5,k5,P5);function $2(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2({projectId:t}){return`${I5}/projects/${t}/installations`}function q2(t){return{token:t.token,requestStatus:2,expiresIn:j5(t.expiresIn),creationTime:Date.now()}}async function H2(t,e){const r=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function G2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N5(t,{refreshToken:e}){const n=G2(t);return n.append("Authorization",D5(e)),n}async function K2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j5(t){return Number(t.replace("s","000"))}function D5(t){return`${z2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=W2(t),s=G2(t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:z2,appId:t.appId,sdkVersion:B2},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await K2(()=>fetch(r,u));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:q2(p.authToken)}}else throw await H2("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=/^[cdef][\w-]{21}$/,jg="";function O5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=F5(t);return V5.test(n)?n:jg}catch{return jg}}function F5(t){return M5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Map;function X2(t,e){const n=Rf(t);J2(n,e),U5(n,e)}function J2(t,e){const n=Y2.get(t);if(n)for(const r of n)r(e)}function U5(t,e){const n=B5();n&&n.postMessage({key:t,fid:e}),z5()}let Zo=null;function B5(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=t=>{J2(t.data.key,t.data.fid)}),Zo}function z5(){Y2.size===0&&Zo&&(Zo.close(),Zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="firebase-installations-database",W5=1,ca="firebase-installations-store";let Wm=null;function Wy(){return Wm||(Wm=L2($5,W5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),Wm}async function Hh(t,e){const n=Rf(t),s=(await Wy()).transaction(ca,"readwrite"),o=s.objectStore(ca),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&X2(t,e.fid),e}async function Z2(t){const e=Rf(t),r=(await Wy()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function Af(t,e){const n=Rf(t),s=(await Wy()).transaction(ca,"readwrite"),o=s.objectStore(ca),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&X2(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(t){let e;const n=await Af(t.appConfig,r=>{const s=q5(r),o=H5(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===jg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function q5(t){const e=t||{fid:O5(),registrationStatus:0};return eT(e)}function H5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=G5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:K5(t)}:{installationEntry:e}}async function G5(t,e){try{const n=await L5(t,e);return Hh(t.appConfig,n)}catch(n){throw $2(n)&&n.customData.serverCode===409?await Z2(t.appConfig):await Hh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function K5(t){let e=await R1(t.appConfig);for(;e.registrationStatus===1;)await Q2(100),e=await R1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qy(t);return r||n}return e}function R1(t){return Af(t,e=>{if(!e)throw la.create("installation-not-found");return eT(e)})}function eT(t){return Q5(t)?{fid:t.fid,registrationStatus:0}:t}function Q5(t){return t.registrationStatus===1&&t.registrationTime+U2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5({appConfig:t,heartbeatServiceProvider:e},n){const r=X5(t,n),s=N5(t,n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:B2,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await K2(()=>fetch(r,u));if(d.ok){const p=await d.json();return q2(p)}else throw await H2("Generate Auth Token",d)}function X5(t,{fid:e}){return`${W2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hy(t,e=!1){let n;const r=await Af(t.appConfig,o=>{if(!tT(o))throw la.create("not-registered");const l=o.authToken;if(!e&&e4(l))return o;if(l.requestStatus===1)return n=J5(t,e),o;{if(!navigator.onLine)throw la.create("app-offline");const u=n4(o);return n=Z5(t,u),u}});return n?await n:r.authToken}async function J5(t,e){let n=await A1(t.appConfig);for(;n.authToken.requestStatus===1;)await Q2(100),n=await A1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Hy(t,e):r}function A1(t){return Af(t,e=>{if(!tT(e))throw la.create("not-registered");const n=e.authToken;return r4(n)?{...e,authToken:{requestStatus:0}}:e})}async function Z5(t,e){try{const n=await Y5(t,e),r={...e,authToken:n};return await Hh(t.appConfig,r),n}catch(n){if($2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Z2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hh(t.appConfig,r)}throw n}}function tT(t){return t!==void 0&&t.registrationStatus===2}function e4(t){return t.requestStatus===2&&!t4(t)}function t4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+R5}function n4(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function r4(t){return t.requestStatus===1&&t.requestTime+U2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t){const e=t,{installationEntry:n,registrationPromise:r}=await qy(e);return r?r.catch(console.error):Hy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e=!1){const n=t;return await o4(n),(await Hy(n,e)).token}async function o4(t){const{registrationPromise:e}=await qy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){if(!t||!t.options)throw qm("App Configuration");if(!t.name)throw qm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qm(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="installations",l4="installations-internal",c4=t=>{const e=t.getProvider("app").getImmediate(),n=a4(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},u4=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,nT).getImmediate();return{getId:()=>s4(n),getToken:s=>i4(n,s)}};function d4(){es(new jr(nT,c4,"PUBLIC")),es(new jr(l4,u4,"PRIVATE"))}d4();er(F2,$y);er(F2,$y,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="analytics",h4="firebase_id",f4="origin",p4=60*1e3,m4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vr=new ga("analytics","Analytics",g4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){if(!t.startsWith(Gy)){const e=vr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function rT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function v4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function w4(t,e){const n=v4("firebase-js-sdk-policy",{createScriptURL:y4}),r=document.createElement("script"),s=`${Gy}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function x4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function b4(t,e,n,r,s,o){const l=r[s];try{if(l)await e[l];else{const d=(await rT(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(u){zn.error(u)}t("config",s,o)}async function _4(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await rT(n);for(const d of l){const p=u.find(v=>v.measurementId===d),g=p&&e[p.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){zn.error(o)}}function E4(t,e,n,r){async function s(o,...l){try{if(o==="event"){const[u,d]=l;await _4(t,e,n,u,d)}else if(o==="config"){const[u,d]=l;await b4(t,e,n,r,u,d)}else if(o==="consent"){const[u,d]=l;t("consent",u,d)}else if(o==="get"){const[u,d,p]=l;t("get",u,d,p)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){zn.error(u)}}return s}function T4(t,e,n,r,s){let o=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=E4(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function S4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=30,I4=1e3;class R4{constructor(e={},n=I4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sT=new R4;function A4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function k4(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:A4(n)},s=m4.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();u.error?.message&&(l=u.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function P4(t,e=sT,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw vr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw vr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new D4;return setTimeout(async()=>{u.abort()},p4),iT({appId:r,apiKey:s,measurementId:o},l,u,e)}async function iT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=sT){const{appId:o,measurementId:l}=t;try{await N4(r,e)}catch(u){if(l)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:l};throw u}try{const u=await k4(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!j4(d)){if(s.deleteThrottleMetadata(o),l)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:l};throw u}const p=Number(d?.customData?.httpStatus)===503?w1(n,s.intervalMillis,C4):w1(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(o,g),zn.debug(`Calling attemptFetch again in ${p} millis`),iT(t,g,r,s)}}function N4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j4(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class D4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function L4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,l={...r,send_to:o};t("event",n,l)}}async function M4(t,e,n,r){if(r&&r.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(){if(P2())try{await N2()}catch(t){return zn.warn(vr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return zn.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O4(t,e,n,r,s,o,l){const u=P4(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>zn.error(w)),e.push(u);const d=V4().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([u,d]);S4(o)||w4(o,p.measurementId),s("js",new Date);const v=l?.config??{};return v[f4]="firebase",v.update=!0,g!=null&&(v[h4]=g),s("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.app=e}_delete(){return delete cl[this.app.options.appId],Promise.resolve()}}let cl={},k1=[];const P1={};let Hm="dataLayer",U4="gtag",N1,Ky,j1=!1;function B4(){const t=[];if(k2()&&t.push("This is a browser extension environment."),oN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}function z4(t,e,n){B4();const r=t.options.appId;if(!r)throw vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vr.create("no-api-key");if(cl[r]!=null)throw vr.create("already-exists",{id:r});if(!j1){x4(Hm);const{wrappedGtag:o,gtagCore:l}=T4(cl,k1,P1,Hm,U4);Ky=o,N1=l,j1=!0}return cl[r]=O4(t,k1,P1,e,N1,Hm,n),new F4(t)}function $4(t=If()){t=tt(t);const e=mo(t,Gh);return e.isInitialized()?e.getImmediate():W4(t)}function W4(t,e={}){const n=mo(t,Gh);if(n.isInitialized()){const s=n.getImmediate();if(ci(e,n.getOptions()))return s;throw vr.create("already-initialized")}return n.initialize({options:e})}function q4(t,e,n){t=tt(t),M4(Ky,cl[t.app.options.appId],e,n).catch(r=>zn.error(r))}function H4(t,e,n,r){t=tt(t),L4(Ky,cl[t.app.options.appId],e,n,r).catch(s=>zn.error(s))}const D1="@firebase/analytics",L1="0.10.19";function G4(){es(new jr(Gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return z4(r,s,n)},"PUBLIC")),es(new jr("analytics-internal",t,"PRIVATE")),er(D1,L1),er(D1,L1,"esm2020");function t(e){try{const n=e.getProvider(Gh).getImmediate();return{logEvent:(r,s,o)=>H4(n,r,s,o),setUserProperties:(r,s)=>q4(n,r,s)}}catch(n){throw vr.create("interop-component-reg-failed",{reason:n})}}}G4();function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K4=oT,aT=new ga("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Cf("@firebase/auth");function Q4(t,...e){Kh.logLevel<=Be.WARN&&Kh.warn(`Auth (${ya}): ${t}`,...e)}function Rh(t,...e){Kh.logLevel<=Be.ERROR&&Kh.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Yy(t,...e)}function Jr(t,...e){return Yy(t,...e)}function Qy(t,e,n){const r={...K4(),[e]:n};return new ga("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Qy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),Qy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function Ie(t,e,...n){if(!t)throw Yy(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function di(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){return typeof self<"u"&&self.location?.href||""}function X4(){return M1()==="http:"||M1()==="https:"}function M1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||k2()||"connection"in navigator)?navigator.onLine:!0}function Z4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=eN()||rN()}get(){return J4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nj=new Lu(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yo(t,e,n,r,s={}){return cT(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Du({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return nN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(p.credentials="include"),lT.fetch()(await uT(t,t.config.apiHost,n,u),p)})}async function cT(t,e,n){t._canInitEmulator=!1;const r={...ej,...e};try{const s=new sj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw uh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw uh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Qy(t,g,p);Dr(t,g)}}catch(s){if(s instanceof Mr)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function Mu(t,e,n,r,s={}){const o=await yo(t,e,n,r,s);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function uT(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Xy(t.config,s):`${t.config.apiScheme}://${s}`;return tj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),nj.get())})}}function uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function V1(t){return t!==void 0&&t.enterprise!==void 0}class ij{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oj(t,e){return yo(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function Qh(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(t,e=!1){const n=tt(t),r=await n.getIdToken(e),s=Jy(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Kc(Gm(s.auth_time)),issuedAtTime:Kc(Gm(s.iat)),expirationTime:Kc(Gm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Gm(t){return Number(t)*1e3}function Jy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=T2(n);return s?JSON.parse(s):(Rh("Failed to decode base64 JWT payload"),null)}catch(s){return Rh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function O1(t){const e=Jy(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&cj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){const e=t.auth,n=await t.getIdToken(),r=await du(t,Qh(e,{idToken:n}));Ie(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?dT(s.providerUserInfo):[],l=hj(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Lg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function dj(t){const e=tt(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){const n=await cT(t,{},async()=>{const r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await uT(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&po(t.emulatorConfig.host)&&(d.credentials="include"),lT.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pj(t,e){return yo(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await fj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new ul;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ie(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lj(this,e)}reload(){return dj(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await du(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:k,stsTokenManager:A}=n;Ie(v&&A,e,"internal-error");const S=ul.fromJSON(this.name,A);Ie(typeof v=="string",e,"internal-error"),Wi(r,e.name),Wi(s,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof T=="boolean",e,"internal-error"),Wi(o,e.name),Wi(l,e.name),Wi(u,e.name),Wi(d,e.name),Wi(p,e.name),Wi(g,e.name);const D=new Xr({uid:v,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:S,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(D.providerData=k.map(j=>({...j}))),d&&(D._redirectEventId=d),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ul;s.updateFromServerResponse(n);const o=new Xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?dT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new ul;u.updateFromIdToken(r);const d=new Xr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Lg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;function ii(t){di(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hT.type="NONE";const U1=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ah("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(ii(U1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||ii(U1);const l=Ah(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const w=await Qh(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Xr._fromGetAccountInfoResponse(e,w,g)}else v=Xr._fromJSON(e,g);p!==o&&(u=v),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new dl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new dl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(wT(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fT(t=Pn()){return/firefox\//i.test(t)}function pT(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(t=Pn()){return/crios\//i.test(t)}function gT(t=Pn()){return/iemobile/i.test(t)}function yT(t=Pn()){return/android/i.test(t)}function vT(t=Pn()){return/blackberry/i.test(t)}function wT(t=Pn()){return/webos/i.test(t)}function Zy(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mj(t=Pn()){return Zy(t)&&!!window.navigator?.standalone}function gj(){return sN()&&document.documentMode===10}function xT(t=Pn()){return Zy(t)||yT(t)||wT(t)||vT(t)||/windows phone/i.test(t)||gT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e=[]){let n;switch(t){case"Browser":n=B1(Pn());break;case"Worker":n=`${B1(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e={}){return yo(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=6;class xj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z1(this),this.idTokenSubscription=new z1(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ai(this));const n=e?tt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),n=new xj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vo(t){return tt(t)}class z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _j(t){kf=t}function _T(t){return kf.loadJS(t)}function Ej(){return kf.recaptchaEnterpriseScript}function Tj(){return kf.gapiScript}function Sj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Cj{constructor(){this.enterprise=new Ij}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ij{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Rj="recaptcha-enterprise",ET="NO_RECAPTCHA";class Aj{constructor(e){this.type=Rj,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{oj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new ij(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;V1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(ET)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&V1(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Ej();d.length!==0&&(d+=u),_T(d).then(()=>{s(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function $1(t,e,n,r=!1,s=!1){const o=new Aj(t);let l;if(s)l=ET;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Mg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t,e){const n=mo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ci(o,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function Pj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nj(t,e,n){const r=vo(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=TT(e),{host:l,port:u}=jj(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(ci(p,r.config.emulator)&&ci(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,po(l)?(Uy(`${o}//${l}${d}`),By("Auth",!0)):Dj()}function TT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jj(t){const e=TT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:W1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:W1(l)}}}function W1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function Lj(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){return Mu(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function Oj(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends e0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,n,"signInWithPassword",Mj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,r,"signUpPassword",Lj);case"emailLink":return Oj(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return Mu(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="http://localhost";class ua extends e0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new ua(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:Fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(t){const e=Uc(Bc(t)).link,n=e?Uc(Bc(e)).deep_link_id:null,r=Uc(Bc(t)).deep_link_id;return(r?Uc(Bc(r)).link:null)||r||n||e||t}class t0{constructor(e){const n=Uc(Bc(e)),r=n.apiKey??null,s=n.oobCode??null,o=Uj(n.mode??null);Ie(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Bj(e);try{return new t0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t0.parseLink(n);return Ie(r,"argument-error"),hu._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends n0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Vu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Vu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Vu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){return Mu(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Xr._fromIdTokenResponse(e,r,s),l=q1(r);return new da({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=q1(r);return new da({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xh(e,n,r,s)}}function ST(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(t,o,e,r):o})}async function $j(t,e,n=!1){const r=await du(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const o=await du(t,ST(r,s,e,t),n);Ie(o.idToken,r,"internal-error");const l=Jy(o.idToken);Ie(l,r,"internal-error");const{sub:u}=l;return Ie(t.uid===u,r,"user-mismatch"),da._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e,n=!1){if(Jn(t.app))return Promise.reject(ai(t));const r="signIn",s=await ST(t,r,e),o=await da._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function qj(t,e){return CT(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RT(t,e,n){if(Jn(t.app))return Promise.reject(ai(t));const r=vo(t),l=await Mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&IT(t),d}),u=await da._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function AT(t,e,n){return Jn(t.app)?Promise.reject(ai(t)):qj(tt(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IT(t),r})}function Hj(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function Gj(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function Nl(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function Kj(t){return tt(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1e3,Yj=10;class PT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);gj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Yj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const Xj=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NT.type="SESSION";const jT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,o)),d=await Jj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=r0("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function eD(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function tD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){return navigator?.serviceWorker?.controller||null}function rD(){return DT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",sD=1,Zh="firebaseLocalStorage",MT="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nf(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function iD(){const t=indexedDB.deleteDatabase(LT);return new Ou(t).toPromise()}function Vg(){const t=indexedDB.open(LT,sD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:MT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await iD(),e(await Vg()))})})}async function H1(t,e,n){const r=Nf(t,!0).put({[MT]:e,value:n});return new Ou(r).toPromise()}async function oD(t,e){const n=Nf(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function G1(t,e){const n=Nf(t,!0).delete(e);return new Ou(n).toPromise()}const aD=800,lD=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new Zj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await H1(e,Jh,"1"),await G1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Nf(s,!1).getAll();return new Ou(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const cD=VT;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t,e){return e?ii(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends e0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uD(t){return CT(t.auth,new s0(t),t.bypassAuthState)}function dD(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Wj(n,new s0(t),t.bypassAuthState)}async function hD(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),$j(n,new s0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uD;case"linkViaPopup":case"linkViaRedirect":return hD;case"reauthViaPopup":case"reauthViaRedirect":return dD;default:Dr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Lu(2e3,1e4);async function UT(t,e,n){if(Jn(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=vo(t);Y4(t,e,n0);const s=OT(r,n);return new ea(r,"signInViaPopup",e,s).executeNotNull()}class ea extends FT{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fD.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="pendingRedirect",kh=new Map;class mD extends FT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(t,e){const n=wD(e),r=vD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yD(t,e){kh.set(t._key(),e)}function vD(t){return ii(t._redirectPersistence)}function wD(t){return Ah(pD,t.config.apiKey,t.name)}async function xD(t,e,n=!1){if(Jn(t.app))return Promise.reject(ai(t));const r=vo(t),s=OT(r,e),l=await new mD(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=600*1e3;class _D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ED(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bD&&this.cachedEventUids.clear(),this.cachedEventUids.has(K1(e))}saveEventToCache(e){this.cachedEventUids.add(K1(e)),this.lastProcessedEventTime=Date.now()}}function K1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ED(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CD=/^https?/;async function ID(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TD(t);for(const n of e)try{if(RD(n))return}catch{}Dr(t,"unauthorized-domain")}function RD(t){const e=Dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!CD.test(n))return!1;if(SD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Lu(3e4,6e4);function Q1(){const t=Ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kD(t){return new Promise((e,n)=>{function r(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),n(Jr(t,"network-request-failed"))},timeout:AD.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const s=Sj("iframefcb");return Ps()[s]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},_T(`${Tj()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function PD(t){return Ph=Ph||kD(t),Ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Lu(5e3,15e3),jD="__/auth/iframe",DD="emulator/auth/iframe",LD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VD(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,DD):`https://${t.config.authDomain}/${jD}`,r={apiKey:e.apiKey,appName:t.name,v:ya},s=MD.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Du(r).slice(1)}`}async function OD(t){const e=await PD(t),n=Ps().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:VD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LD,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Jr(t,"network-request-failed"),u=Ps().setTimeout(()=>{o(l)},ND.get());function d(){Ps().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UD=500,BD=600,zD="_blank",$D="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(t,e,n,r=UD,s=BD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...FD,width:r.toString(),height:s.toString(),top:o,left:l},p=Pn().toLowerCase();n&&(u=mT(p)?zD:n),fT(p)&&(e=e||$D,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,k])=>`${w}${T}=${k},`,"");if(mj(p)&&u!=="_self")return qD(e||"",u),new Y1(null);const v=window.open(e||"",u,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new Y1(v)}function qD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="__/auth/handler",GD="emulator/auth/handler",KD=encodeURIComponent("fac");async function X1(t,e,n,r,s,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:s};if(e instanceof n0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",uN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Vu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),p=d?`#${KD}=${encodeURIComponent(d)}`:"";return`${QD(t)}?${Du(u).slice(1)}${p}`}function QD({config:t}){return t.emulator?Xy(t,GD):`https://${t.authDomain}/${HD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class YD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=xD,this._overrideRedirectResult=yD}async _openPopup(e,n,r,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await X1(e,n,r,Dg(),s);return WD(e,o,r0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await X1(e,n,r,Dg(),s);return eD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OD(e),r=new _D(e);return n.register("authEvent",s=>(Ie(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},s=>{const o=s?.[0]?.[Km];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ID(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||pT()||Zy()}}const XD=YD;var J1="@firebase/auth",Z1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e3(t){es(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(t)},p=new bj(r,s,o,d);return Pj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),es(new jr("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new JD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(J1,Z1,ZD(t)),er(J1,Z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=300,n3=R2("authIdTokenMaxAge")||t3;let eb=null;const r3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n3)return;const s=n?.token;eb!==s&&(eb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function s3(t=If()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kj(t,{popupRedirectResolver:XD,persistence:[cD,Xj,jT]}),r=R2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=r3(o.toString());Gj(n,l,()=>l(n.currentUser)),Hj(n,u=>l(u))}}const s=S2("auth");return s&&Nj(n,`http://${s}`),n}function i3(){return document.getElementsByTagName("head")?.[0]??document}_j({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Jr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",i3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e3("Browser");var tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,zT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(L,O,q){for(var M=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)M[Ne-2]=arguments[Ne];return R.prototype[O].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,N){N||(N=0);const L=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)L[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)L[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],O=I.g[2];let q=I.g[3],M;M=R+(q^N&(O^q))+L[0]+3614090360&4294967295,R=N+(M<<7&4294967295|M>>>25),M=q+(O^R&(N^O))+L[1]+3905402710&4294967295,q=R+(M<<12&4294967295|M>>>20),M=O+(N^q&(R^N))+L[2]+606105819&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(R^O&(q^R))+L[3]+3250441966&4294967295,N=O+(M<<22&4294967295|M>>>10),M=R+(q^N&(O^q))+L[4]+4118548399&4294967295,R=N+(M<<7&4294967295|M>>>25),M=q+(O^R&(N^O))+L[5]+1200080426&4294967295,q=R+(M<<12&4294967295|M>>>20),M=O+(N^q&(R^N))+L[6]+2821735955&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(R^O&(q^R))+L[7]+4249261313&4294967295,N=O+(M<<22&4294967295|M>>>10),M=R+(q^N&(O^q))+L[8]+1770035416&4294967295,R=N+(M<<7&4294967295|M>>>25),M=q+(O^R&(N^O))+L[9]+2336552879&4294967295,q=R+(M<<12&4294967295|M>>>20),M=O+(N^q&(R^N))+L[10]+4294925233&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(R^O&(q^R))+L[11]+2304563134&4294967295,N=O+(M<<22&4294967295|M>>>10),M=R+(q^N&(O^q))+L[12]+1804603682&4294967295,R=N+(M<<7&4294967295|M>>>25),M=q+(O^R&(N^O))+L[13]+4254626195&4294967295,q=R+(M<<12&4294967295|M>>>20),M=O+(N^q&(R^N))+L[14]+2792965006&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(R^O&(q^R))+L[15]+1236535329&4294967295,N=O+(M<<22&4294967295|M>>>10),M=R+(O^q&(N^O))+L[1]+4129170786&4294967295,R=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(R^N))+L[6]+3225465664&4294967295,q=R+(M<<9&4294967295|M>>>23),M=O+(R^N&(q^R))+L[11]+643717713&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^R&(O^q))+L[0]+3921069994&4294967295,N=O+(M<<20&4294967295|M>>>12),M=R+(O^q&(N^O))+L[5]+3593408605&4294967295,R=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(R^N))+L[10]+38016083&4294967295,q=R+(M<<9&4294967295|M>>>23),M=O+(R^N&(q^R))+L[15]+3634488961&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^R&(O^q))+L[4]+3889429448&4294967295,N=O+(M<<20&4294967295|M>>>12),M=R+(O^q&(N^O))+L[9]+568446438&4294967295,R=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(R^N))+L[14]+3275163606&4294967295,q=R+(M<<9&4294967295|M>>>23),M=O+(R^N&(q^R))+L[3]+4107603335&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^R&(O^q))+L[8]+1163531501&4294967295,N=O+(M<<20&4294967295|M>>>12),M=R+(O^q&(N^O))+L[13]+2850285829&4294967295,R=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(R^N))+L[2]+4243563512&4294967295,q=R+(M<<9&4294967295|M>>>23),M=O+(R^N&(q^R))+L[7]+1735328473&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^R&(O^q))+L[12]+2368359562&4294967295,N=O+(M<<20&4294967295|M>>>12),M=R+(N^O^q)+L[5]+4294588738&4294967295,R=N+(M<<4&4294967295|M>>>28),M=q+(R^N^O)+L[8]+2272392833&4294967295,q=R+(M<<11&4294967295|M>>>21),M=O+(q^R^N)+L[11]+1839030562&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^R)+L[14]+4259657740&4294967295,N=O+(M<<23&4294967295|M>>>9),M=R+(N^O^q)+L[1]+2763975236&4294967295,R=N+(M<<4&4294967295|M>>>28),M=q+(R^N^O)+L[4]+1272893353&4294967295,q=R+(M<<11&4294967295|M>>>21),M=O+(q^R^N)+L[7]+4139469664&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^R)+L[10]+3200236656&4294967295,N=O+(M<<23&4294967295|M>>>9),M=R+(N^O^q)+L[13]+681279174&4294967295,R=N+(M<<4&4294967295|M>>>28),M=q+(R^N^O)+L[0]+3936430074&4294967295,q=R+(M<<11&4294967295|M>>>21),M=O+(q^R^N)+L[3]+3572445317&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^R)+L[6]+76029189&4294967295,N=O+(M<<23&4294967295|M>>>9),M=R+(N^O^q)+L[9]+3654602809&4294967295,R=N+(M<<4&4294967295|M>>>28),M=q+(R^N^O)+L[12]+3873151461&4294967295,q=R+(M<<11&4294967295|M>>>21),M=O+(q^R^N)+L[15]+530742520&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^R)+L[2]+3299628645&4294967295,N=O+(M<<23&4294967295|M>>>9),M=R+(O^(N|~q))+L[0]+4096336452&4294967295,R=N+(M<<6&4294967295|M>>>26),M=q+(N^(R|~O))+L[7]+1126891415&4294967295,q=R+(M<<10&4294967295|M>>>22),M=O+(R^(q|~N))+L[14]+2878612391&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~R))+L[5]+4237533241&4294967295,N=O+(M<<21&4294967295|M>>>11),M=R+(O^(N|~q))+L[12]+1700485571&4294967295,R=N+(M<<6&4294967295|M>>>26),M=q+(N^(R|~O))+L[3]+2399980690&4294967295,q=R+(M<<10&4294967295|M>>>22),M=O+(R^(q|~N))+L[10]+4293915773&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~R))+L[1]+2240044497&4294967295,N=O+(M<<21&4294967295|M>>>11),M=R+(O^(N|~q))+L[8]+1873313359&4294967295,R=N+(M<<6&4294967295|M>>>26),M=q+(N^(R|~O))+L[15]+4264355552&4294967295,q=R+(M<<10&4294967295|M>>>22),M=O+(R^(q|~N))+L[6]+2734768916&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~R))+L[13]+1309151649&4294967295,N=O+(M<<21&4294967295|M>>>11),M=R+(O^(N|~q))+L[4]+4149444226&4294967295,R=N+(M<<6&4294967295|M>>>26),M=q+(N^(R|~O))+L[11]+3174756917&4294967295,q=R+(M<<10&4294967295|M>>>22),M=O+(R^(q|~N))+L[2]+718787259&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+q&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,L=this.C;let O=this.h,q=0;for(;q<R;){if(O==0)for(;q<=N;)s(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<R;)if(L[O++]=I.charCodeAt(q++),O==this.blockSize){s(this,L),O=0;break}}else for(;q<R;)if(L[O++]=I[q++],O==this.blockSize){s(this,L),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)I[R++]=this.g[N]>>>L&255;return I};function o(I,R){var N=u;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function l(I,R){this.h=R;const N=[];let L=!0;for(let O=I.length-1;O>=0;O--){const q=I[O]|0;L&&q==R||(N[O]=q,L=!1)}this.g=N}var u={};function d(I){return-128<=I&&I<128?o(I,function(R){return new l([R|0],R<0?-1:0)}):new l([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return S(p(-I));const R=[];let N=1;for(let L=0;I>=N;L++)R[L]=I/N|0,N*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return S(g(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(R,8));let L=v;for(let q=0;q<I.length;q+=8){var O=Math.min(8,I.length-q);const M=parseInt(I.substring(q,q+O),R);O<8?(O=p(Math.pow(R,O)),L=L.j(O).add(p(M))):(L=L.j(N),L=L.add(p(M)))}return L}var v=d(0),w=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-S(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(A(this))return"-"+S(this).toString(I);const R=p(Math.pow(I,6));var N=this;let L="";for(;;){const O=$(N,R).g;N=D(N,O.j(R));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,k(N))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=D(this,I),A(I)?-1:k(I)?0:1};function S(I){const R=I.g.length,N=[];for(let L=0;L<R;L++)N[L]=~I.g[L];return new l(N,~I.h).add(w)}t.abs=function(){return A(this)?S(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let L=0;for(let O=0;O<=R;O++){let q=L+(this.i(O)&65535)+(I.i(O)&65535),M=(q>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);L=M>>>16,q&=65535,M&=65535,N[O]=M<<16|q}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(I,R){return I.add(S(R))}t.j=function(I){if(k(this)||k(I))return v;if(A(this))return A(I)?S(this).j(S(I)):S(S(this).j(I));if(A(I))return S(this.j(S(I)));if(this.l(T)<0&&I.l(T)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var L=0;L<2*R;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<I.g.length;O++){const q=this.i(L)>>>16,M=this.i(L)&65535,Ne=I.i(O)>>>16,Xe=I.i(O)&65535;N[2*L+2*O]+=M*Xe,j(N,2*L+2*O),N[2*L+2*O+1]+=q*Xe,j(N,2*L+2*O+1),N[2*L+2*O+1]+=M*Ne,j(N,2*L+2*O+1),N[2*L+2*O+2]+=q*Ne,j(N,2*L+2*O+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new l(N,0)};function j(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function V(I,R){this.g=I,this.h=R}function $(I,R){if(k(R))throw Error("division by zero");if(k(I))return new V(v,v);if(A(I))return R=$(S(I),R),new V(S(R.g),S(R.h));if(A(R))return R=$(I,S(R)),new V(S(R.g),R.h);if(I.g.length>30){if(A(I)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=R;L.l(I)<=0;)N=H(N),L=H(L);var O=B(N,1),q=B(L,1);for(L=B(L,2),N=B(N,2);!k(L);){var M=q.add(L);M.l(I)<=0&&(O=O.add(N),q=M),L=B(L,1),N=B(N,1)}return R=D(I,O.j(R)),new V(O,R)}for(O=v;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=p(N),M=q.j(R);A(M)||M.l(I)>0;)N-=L,q=p(N),M=q.j(R);k(q)&&(q=w),O=O.add(q),I=D(I,M)}return new V(O,I)}t.B=function(I){return $(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)&I.i(L);return new l(N,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)|I.i(L);return new l(N,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)^I.i(L);return new l(N,this.h^I.h)};function H(I){const R=I.g.length+1,N=[];for(let L=0;L<R;L++)N[L]=I.i(L)<<1|I.i(L-1)>>>31;return new l(N,I.h)}function B(I,R){const N=R>>5;R%=32;const L=I.g.length-N,O=[];for(let q=0;q<L;q++)O[q]=R>0?I.i(q+N)>>>R|I.i(q+N+1)<<32-R:I.i(q+N);return new l(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,no=l}).apply(typeof tb<"u"?tb:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,zc,WT,Nh,Og,qT,HT,GT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var E=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var K=f[P];if(!(K in E))break e;E=E[K]}f=f[f.length-1],P=E[f],_=_(P),_!=P&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var E=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&E.push([P,_[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(P,K,X){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return _.prototype[K].apply(P,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const _=f.length;if(_>0){const E=Array(_);for(let P=0;P<_;P++)E[P]=f[P];return E}return[]}function k(f,_){for(let P=1;P<arguments.length;P++){const K=arguments[P];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=f.length||0;const X=K.length||0;f.length=E+X;for(let ae=0;ae<X;ae++)f[E+ae]=K[ae]}else f.push(K)}}class A{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(f){l.setTimeout(()=>{throw f},0)}function D(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const P=V.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var V=new A(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,B=!1,I=new j,R=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(N)}};function N(){for(var f;f=D();){try{f.h.call(f.g)}catch(E){S(E)}var _=V;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}B=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ne(f,_){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Ne,O),Ne.prototype.init=function(f,_){const E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),dt=0;function ge(f,_,E,P,K){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=K,this.key=++dt,this.da=this.fa=!1}function se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,_,E){for(const P in f)_.call(E,f[P],P,f)}function Z(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function U(f){const _={};for(const E in f)_[E]=f[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(f,_){let E,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(E in P)f[E]=P[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,_,E,P,K){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const ae=_e(f,_,P,K);return ae>-1?(_=f[ae],E||(_.fa=!1)):(_=new ge(_,this.src,X,!!P,K),_.fa=E,f.push(_)),_};function je(f,_){const E=_.type;if(E in f.g){var P=f.g[E],K=Array.prototype.indexOf.call(P,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(P,K,1),X&&(se(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function _e(f,_,E,P){for(let K=0;K<f.length;++K){const X=f[K];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==P)return K}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),De={};function Me(f,_,E,P,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Me(f,_[X],E,P,K);return null}return E=vi(E),f&&f[Xe]?f.J(_,E,u(P)?!!P.capture:!1,K):ke(f,_,E,!1,P,K)}function ke(f,_,E,P,K,X){if(!_)throw Error("Invalid event type");const ae=u(K)?!!K.capture:!!K;let Le=sr(f);if(Le||(f[Fe]=Le=new be(f)),E=Le.add(_,E,P,ae,X),E.proxy)return E;if(P=Ht(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)q||(K=ae),K===void 0&&(K=!1),f.addEventListener(_.toString(),P,K);else if(f.attachEvent)f.attachEvent(wn(_.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ht(){function f(E){return _.call(f.src,f.listener,E)}const _=Vr;return f}function vn(f,_,E,P,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)vn(f,_[X],E,P,K);else P=u(P)?!!P.capture:!!P,E=vi(E),f&&f[Xe]?(f=f.i,X=String(_).toString(),X in f.g&&(_=f.g[X],E=_e(_,E,P,K),E>-1&&(se(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[X],f.h--)))):f&&(f=sr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=_e(_,E,P,K)),(E=f>-1?_[f]:null)&&Nn(E))}function Nn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xe])je(_.i,f);else{var E=f.type,P=f.proxy;_.removeEventListener?_.removeEventListener(E,P,f.capture):_.detachEvent?_.detachEvent(wn(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=sr(_))?(je(E,f),E.h==0&&(E.src=null,_[Fe]=null)):se(f)}}}function wn(f){return f in De?De[f]:De[f]="on"+f}function Vr(f,_){if(f.da)f=!0;else{_=new Ne(_,this);const E=f.listener,P=f.ha||f.src;f.fa&&Nn(f),f=E.call(P,_)}return f}function sr(f){return f=f[Fe],f instanceof be?f:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function vi(f){return typeof f=="function"?f:(f[as]||(f[as]=function(_){return f.handleEvent(_)}),f[as])}function ht(){L.call(this),this.i=new be(this),this.M=this,this.G=null}v(ht,L),ht.prototype[Xe]=!0,ht.prototype.removeEventListener=function(f,_,E,P){vn(this,f,_,E,P)};function Je(f,_){var E,P=f.G;if(P)for(E=[];P;P=P.G)E.push(P);if(f=f.M,P=_.type||_,typeof _=="string")_=new O(_,f);else if(_ instanceof O)_.target=_.target||f;else{var K=_;_=new O(P,f),ve(_,K)}K=!0;let X,ae;if(E)for(ae=E.length-1;ae>=0;ae--)X=_.g=E[ae],K=xn(X,P,!0,_)&&K;if(X=_.g=f,K=xn(X,P,!0,_)&&K,K=xn(X,P,!1,_)&&K,E)for(ae=0;ae<E.length;ae++)X=_.g=E[ae],K=xn(X,P,!1,_)&&K}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let P=0;P<E.length;P++)se(E[P]);delete f.g[_],f.h--}}this.G=null},ht.prototype.J=function(f,_,E,P){return this.i.add(String(f),_,!1,E,P)},ht.prototype.K=function(f,_,E,P){return this.i.add(String(f),_,!0,E,P)};function xn(f,_,E,P){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const ae=_[X];if(ae&&!ae.da&&ae.capture==E){const Le=ae.listener,Rt=ae.ha||ae.src;ae.fa&&je(f.i,ae),K=Le.call(Rt,P)!==!1&&K}}return K&&!P.defaultPrevented}function ls(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(f,_||0)}function wi(f){f.g=ls(()=>{f.g=null,f.i&&(f.i=!1,wi(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Eo extends L{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(f){L.call(this),this.h=f,this.g={}}v(cs,L);var To=[];function ir(f){ce(f.g,function(_,E){this.g.hasOwnProperty(E)&&Nn(_)},f),f.g={}}cs.prototype.N=function(){cs.Z.N.call(this),ir(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=l.JSON.stringify,us=l.JSON.parse,ds=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function sn(){}function So(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){O.call(this,"d")}v(xi,O);function Bs(){O.call(this,"c")}v(Bs,O);var $n={},bi=null;function Or(){return bi=bi||new ht}$n.Ia="serverreachability";function _i(f){O.call(this,$n.Ia,f)}v(_i,O);function Fr(f){const _=Or();Je(_,new _i(_))}$n.STAT_EVENT="statevent";function Ur(f,_){O.call(this,$n.STAT_EVENT,f),this.stat=_}v(Ur,O);function Ve(f){const _=Or();Je(_,new Ur(_,f))}$n.Ja="timingevent";function Ut(f,_){O.call(this,$n.Ja,f),this.size=_}v(Ut,O);function _t(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function on(){this.g=!0}on.prototype.ua=function(){this.g=!1};function an(f,_,E,P,K,X){f.info(function(){if(f.g)if(X){var ae="",Le=X.split("&");for(let Ze=0;Ze<Le.length;Ze++){var Rt=Le[Ze].split("=");if(Rt.length>1){const jt=Rt[0];Rt=Rt[1];const dr=jt.split("_");ae=dr.length>=2&&dr[1]=="type"?ae+(jt+"="+Rt+"&"):ae+(jt+"=redacted&")}}}else ae=null;else ae=X;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+_+`
`+E+`
`+ae})}function Gt(f,_,E,P,K,X,ae){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+_+`
`+E+`
`+X+" "+ae})}function It(f,_,E,P){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+at(f,E)+(P?" "+P:"")})}function Br(f,_){f.info(function(){return"TIMEOUT: "+_})}on.prototype.info=function(){};function at(f,_){if(!f.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var E=X[f];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var K=P[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ae=1;ae<P.length;ae++)P[ae]=""}}}}return jn(X)}catch{return _}}var ln={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wn;function Dn(){}v(Dn,sn),Dn.prototype.g=function(){return new XMLHttpRequest},Wn=new Dn;function bn(f){return encodeURIComponent(String(f))}function Ln(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Kt(f,_,E,P){this.j=f,this.i=_,this.l=E,this.S=P||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var nd={},Gl={};function zr(f,_,E){f.M=1,f.A=$s(br(_)),f.u=E,f.R=!0,Kl(f,null)}function Kl(f,_){f.F=Date.now(),Co(f),f.B=br(f.A);var E=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),sc(E.i,"t",P),f.C=0,E=f.j.L,f.h=new Ei,f.g=hd(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Eo(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,P=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(To[0]=K.toString()),K=To);for(let X=0;X<K.length;X++){const ae=Me(E,K[X],P||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fr(),an(f.i,f.v,f.B,f.l,f.S,f.u)}Kt.prototype.ba=function(f){f=f.target;const _=this.O;_&&ws(f)==3?_.j():this.Y(f)},Kt.prototype.Y=function(f){try{if(f==this.g)e:{const Le=ws(this.g),Rt=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||ud(this.g)))){this.K||Le!=4||Rt==7||(Rt==8||Ze<=0?Fr(3):Fr(2)),xa(this);var _=this.g.ca();this.X=_;var E=rd(this);if(this.o=_==200,Gt(this.i,this.v,this.B,this.l,this.S,Le,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(P)){var X=P;break t}}X=null}if(f=X)It(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,f);else{this.o=!1,this.m=3,Ve(12),zs(this),Io(this);break e}}if(this.R){f=!0;let jt;for(;!this.K&&this.C<E.length;)if(jt=id(this,E),jt==Gl){Le==4&&(this.m=4,Ve(14),f=!1),It(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==nd){this.m=4,Ve(15),It(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else It(this.i,this.l,jt,null),lt(this,jt);if(sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)It(this.i,this.l,E,"[Invalid Chunked Response]"),zs(this),Io(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Mo(ae),ae.P=!0,Ve(11))}}else It(this.i,this.l,E,null),lt(this,E);Le==4&&zs(this),this.o&&!this.K&&(Le==4?ka(this.j,this):(this.o=!1,Co(this)))}else oc(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),zs(this),Io(this)}}}catch{}finally{}};function rd(f){if(!sd(f))return f.g.la();const _=ud(f.g);if(_==="")return"";let E="";const P=_.length,K=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return zs(f),Io(f),"";f.h.i=new l.TextDecoder}for(let X=0;X<P;X++)f.h.h=!0,E+=f.h.i.decode(_[X],{stream:!(K&&X==P-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function sd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function id(f,_){var E=f.C,P=_.indexOf(`
`,E);return P==-1?Gl:(E=Number(_.substring(E,P)),isNaN(E)?nd:(P+=1,P+E>_.length?Gl:(_=_.slice(P,P+E),f.C=P+E,_)))}Kt.prototype.cancel=function(){this.K=!0,zs(this)};function Co(f){f.T=Date.now()+f.H,Ql(f,f.H)}function Ql(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=_t(p(f.aa,f),_)}function xa(f){f.D&&(l.clearTimeout(f.D),f.D=null)}Kt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Fr(),Ve(17)),zs(this),this.m=2,Io(this)):Ql(this,this.T-f)};function Io(f){f.j.I==0||f.K||ka(f.j,f)}function zs(f){xa(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,ir(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function lt(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Xl(E.h,f))){if(!f.L&&Xl(E.h,f)&&E.I==3){try{var P=E.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Aa(E),cr(E);else break e;_s(E),Ve(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_t(p(E.Va,E),6e3));Ro(E.h)<=1&&E.ta&&(E.ta=void 0)}else ur(E,11)}else if((f.L||E.g==f)&&Aa(E),!M(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const jt=Ze[0];if(!(jt<=E.K))if(E.K=jt,Ze=Ze[1],E.I==2)if(Ze[0]=="c"){E.M=Ze[1],E.ba=Ze[2];const dr=Ze[3];dr!=null&&(E.ka=dr,E.j.info("VER="+E.ka));const Ks=Ze[4];Ks!=null&&(E.za=Ks,E.j.info("SVER="+E.za));const Es=Ze[5];Es!=null&&typeof Es=="number"&&Es>0&&(P=1.5*Es,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ts=f.g;if(Ts){const ja=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var X=P.h;X.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_a(X,X.h),X.h=null))}if(P.G){const cc=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;cc&&(P.wa=cc,Ye(P.J,P.G,cc))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var ae=f;if(P.na=lc(P,P.L?P.ba:null,P.W),ae.L){Ao(P.h,ae);var Le=ae,Rt=P.O;Rt&&(Le.H=Rt),Le.D&&(xa(Le),Co(Le)),P.g=ae}else _n(P);E.i.length>0&&Gs(E)}else Ze[0]!="stop"&&Ze[0]!="close"||ur(E,7);else E.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ur(E,7):Ia(E):Ze[0]!="noop"&&E.l&&E.l.qa(Ze),E.A=0)}}Fr(4)}catch{}}var cp=class{constructor(f,_){this.g=f,this.map=_}};function ba(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ro(f){return f.h?1:f.g?f.g.size:0}function Xl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function _a(f,_){f.g?f.g.add(_):f.h=_}function Ao(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ba.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function or(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return T(f.i)}var od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const P=f[E].indexOf("=");let K,X=null;P>=0?(K=f[E].substring(0,P),X=f[E].substring(P+1)):K=f[E],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function fs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof fs?(this.l=f.l,ko(this,f.j),this.o=f.o,this.g=f.g,ps(this,f.u),this.h=f.h,Ti(this,ic(f.i)),this.m=f.m):f&&(_=String(f).match(od))?(this.l=!1,ko(this,_[1]||"",!0),this.o=Po(_[2]||""),this.g=Po(_[3]||"",!0),ps(this,_[4]),this.h=Po(_[5]||"",!0),Ti(this,_[6]||"",!0),this.m=Po(_[7]||"")):(this.l=!1,this.i=new We(null,this.l))}fs.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(No(_,Zl,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(No(_,Zl,!0),"@"),f.push(bn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(No(E,E.charAt(0)=="/"?jo:ec,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",No(E,tc)),f.join("")},fs.prototype.resolve=function(f){const _=br(this);let E=!!f.j;E?ko(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var P=f.h;if(E)ps(_,f.u);else if(E=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var K=_.h.lastIndexOf("/");K!=-1&&(P=_.h.slice(0,K+1)+P)}if(K=P,K==".."||K==".")P="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){P=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ae=0;ae<K.length;){const Le=K[ae++];Le=="."?P&&ae==K.length&&X.push(""):Le==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),P&&ae==K.length&&X.push("")):(X.push(Le),P=!0)}P=X.join("/")}else P=K}return E?_.h=P:E=f.i.toString()!=="",E?Ti(_,ic(f.i)):E=!!f.m,E&&(_.m=f.m),_};function br(f){return new fs(f)}function ko(f,_,E){f.j=E?Po(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ps(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ti(f,_,E){_ instanceof We?(f.i=_,Ta(f.i,f.l)):(E||(_=No(_,up)),f.i=new We(_,f.l))}function Ye(f,_,E){f.i.set(_,E)}function $s(f){return Ye(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Po(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function No(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Jl),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Jl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zl=/[#\/\?@]/g,ec=/[#\?:]/g,jo=/[#\?]/g,up=/[#\?@]/g,tc=/#/g;function We(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function ms(f){f.g||(f.g=new Map,f.h=0,f.i&&ar(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=We.prototype,t.add=function(f,_){ms(this),this.i=null,f=gs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function nc(f,_){ms(f),_=gs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ea(f,_){return ms(f),_=gs(f,_),f.g.has(_)}t.forEach=function(f,_){ms(this),this.g.forEach(function(E,P){E.forEach(function(K){f.call(_,K,P,this)},this)},this)};function rc(f,_){ms(f);let E=[];if(typeof _=="string")Ea(f,_)&&(E=E.concat(f.g.get(gs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return ms(this),this.i=null,f=gs(this,f),Ea(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=rc(this,f),f.length>0?String(f[0]):_):_};function sc(f,_,E){nc(f,_),E.length>0&&(f.i=null,f.g.set(gs(f,_),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var E=_[P];const K=bn(E);E=rc(this,E);for(let X=0;X<E.length;X++){let ae=K;E[X]!==""&&(ae+="="+bn(E[X])),f.push(ae)}}return this.i=f.join("&")};function ic(f){const _=new We;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function gs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ta(f,_){_&&!f.j&&(ms(f),f.i=null,f.g.forEach(function(E,P){const K=P.toLowerCase();P!=K&&(nc(this,P),sc(this,K,E))},f)),f.j=_}function ys(f,_){const E=new on;if(l.Image){const P=new Image;P.onload=g(cn,E,"TestLoadImage: loaded",!0,_,P),P.onerror=g(cn,E,"TestLoadImage: error",!1,_,P),P.onabort=g(cn,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=g(cn,E,"TestLoadImage: timeout",!1,_,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else _(!1)}function vs(f,_){const E=new on,P=new AbortController,K=setTimeout(()=>{P.abort(),cn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:P.signal}).then(X=>{clearTimeout(K),X.ok?cn(E,"TestPingServer: ok",!0,_):cn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),cn(E,"TestPingServer: error",!1,_)})}function cn(f,_,E,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(E)}catch{}}function Do(){this.g=new ds}function Ws(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ws,sn),Ws.prototype.g=function(){return new lr(this.i,this.h)};function lr(f,_){ht.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(lr,ht),t=lr.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,$r(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ad(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ad(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Si(this):$r(this),this.readyState==3&&ad(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Si(this))},t.Na=function(f){this.g&&(this.response=f,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(f){f.readyState=4,f.l=null,f.j=null,f.B=null,$r(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ld(f){let _="";return ce(f,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function Sa(f,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=ld(E),typeof f=="string"?E!=null&&bn(E):Ye(f,_,E))}function nt(f){ht.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,ht);var cd=/^https?$/i,dp=["POST","PUT"];t=nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){Ci(this,X);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)E.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())E.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(dp,_,void 0)>=0)||P||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of E)this.g.setRequestHeader(X,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Ci(this,X)}};function Ci(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ii(f),Hs(f)}function Ii(f){f.A||(f.A=!0,Je(f,"complete"),Je(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Je(this,"complete"),Je(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},t.Xa=function(){qs(this)};function qs(f){if(f.h&&typeof o<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(Je(f,"readystatechange"),ws(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=X===0){let ae=String(f.D).match(od)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),P=!cd.test(ae?ae.toLowerCase():"")}E=P}if(E)Je(f,"complete"),Je(f,"success");else{f.o=6;try{var K=ws(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Ii(f)}}finally{Hs(f)}}}}function Hs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Je(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),us(_)}};function ud(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(f){const _={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(M(f[P]))continue;var E=Ln(f[P]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[K]||[];_[K]=X,X.push(E)}Z(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ca(f){this.za=0,this.i=[],this.j=new on,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ba(f&&f.concurrentRequestLimit),this.Ba=new Do,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ca.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,P){Ve(0),this.W=f,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=lc(this,null,this.W),Gs(this)};function Ia(f){if(Ra(f),f.I==3){var _=f.V++,E=br(f.J);if(Ye(E,"SID",f.M),Ye(E,"RID",_),Ye(E,"TYPE","terminate"),bs(f,E),_=new Kt(f,f.j,_),_.M=2,_.A=$s(br(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=hd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Co(_)}Vo(f)}function cr(f){f.g&&(Mo(f),f.g.cancel(),f.g=null)}function Ra(f){cr(f),f.v&&(l.clearTimeout(f.v),f.v=null),Aa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Gs(f){if(!Yl(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||R(),B||(H(),B=!0),I.add(_,f),f.D=0}}function dd(f,_){return Ro(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=_t(p(f.Ea,f,_),Pa(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new Kt(this,this.j,f);let X=this.o;if(this.U&&(X?(X=U(X),ve(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ac(this,K,_),E=br(this.J),Ye(E,"RID",f),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),bs(this,E),X&&(this.R?_="headers="+bn(ld(X))+"&"+_:this.u&&Sa(E,this.u,X)),_a(this.h,K),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",_),Ye(E,"SID","null"),K.U=!0,zr(K,E,null)):zr(K,E,_),this.I=2}}else this.I==3&&(f?Lo(this,f):this.i.length==0||Yl(this.h)||Lo(this))};function Lo(f,_){var E;_?E=_.l:E=f.V++;const P=br(f.J);Ye(P,"SID",f.M),Ye(P,"RID",E),Ye(P,"AID",f.K),bs(f,P),f.u&&f.o&&Sa(P,f.u,f.o),E=new Kt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ac(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),_a(f.h,E),zr(E,P,_)}function bs(f,_){f.H&&ce(f.H,function(E,P){Ye(_,P,E)}),f.l&&ce({},function(E,P){Ye(_,P,E)})}function ac(f,_,E){E=Math.min(f.i.length,E);const P=f.l?p(f.l.Ka,f.l,f):null;e:{var K=f.i;let Le=-1;for(;;){const Rt=["count="+E];Le==-1?E>0?(Le=K[0].g,Rt.push("ofs="+Le)):Le=0:Rt.push("ofs="+Le);let Ze=!0;for(let jt=0;jt<E;jt++){var X=K[jt].g;const dr=K[jt].map;if(X-=Le,X<0)Le=Math.max(0,K[jt].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var ae=dr instanceof Map?dr:Object.entries(dr);for(const[Ks,Es]of ae){let Ts=Es;u(Es)&&(Ts=jn(Es)),Rt.push(X+Ks+"="+encodeURIComponent(Ts))}}catch(Ks){throw Rt.push(X+"type="+encodeURIComponent("_badmap")),Ks}}catch{P&&P(dr)}}if(Ze){ae=Rt.join("&");break e}}ae=void 0}return f=f.i.splice(0,E),_.G=f,ae}function _n(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||R(),B||(H(),B=!0),I.add(_,f),f.A=0}}function _s(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=_t(p(f.Da,f),Pa(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=_t(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),cr(this),Ri(this))};function Mo(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Ri(f){f.g=new Kt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=br(f.na);Ye(_,"RID","rpc"),Ye(_,"SID",f.M),Ye(_,"AID",f.K),Ye(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ye(_,"TO",f.ia),Ye(_,"TYPE","xmlhttp"),bs(f,_),f.u&&f.o&&Sa(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=$s(br(_)),E.u=null,E.R=!0,Kl(E,f)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),_s(this),Ve(19))};function Aa(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ka(f,_){var E=null;if(f.g==_){Aa(f),Mo(f),f.g=null;var P=2}else if(Xl(f.h,_))E=_.G,Ao(f.h,_),P=1;else return;if(f.I!=0){if(_.o)if(P==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=f.D;P=Or(),Je(P,new Ut(P,E)),Gs(f)}else _n(f);else if(K=_.m,K==3||K==0&&_.X>0||!(P==1&&dd(f,_)||P==2&&_s(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),K){case 1:ur(f,5);break;case 4:ur(f,10);break;case 3:ur(f,6);break;default:ur(f,2)}}}function Pa(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function ur(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),P=f.Ua;const K=!P;P=new fs(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ko(P,"https"),$s(P),K?ys(P.toString(),E):vs(P.toString(),E)}else Ve(2);f.I=0,f.l&&f.l.pa(_),Vo(f),Ra(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Vo(f){if(f.I=0,f.ja=[],f.l){const _=or(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ja,_),k(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function lc(f,_,E){var P=E instanceof fs?br(E):new fs(E);if(P.g!="")_&&(P.g=_+"."+P.g),ps(P,P.u);else{var K=l.location;P=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new fs(null);P&&ko(X,P),_&&(X.g=_),K&&ps(X,K),E&&(X.h=E),P=X}return E=f.G,_=f.wa,E&&_&&Ye(P,E,_),Ye(P,"VER",f.ka),bs(f,P),P}function hd(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new nt(new Ws({ab:E})):new nt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fd(){}t=fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Na(){}Na.prototype.g=function(f,_){return new un(f,_)};function un(f,_){ht.call(this),this.g=new Ca(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!M(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ai(this)}v(un,ht),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ia(this.g)},un.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=jn(f),f=E);_.i.push(new cp(_.Ya++,f)),_.I==3&&Gs(_)},un.prototype.N=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,un.Z.N.call(this)};function pd(f){xi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(pd,xi);function md(){Bs.call(this),this.status=1}v(md,Bs);function Ai(f){this.g=f}v(Ai,fd),Ai.prototype.ra=function(){Je(this.g,"a")},Ai.prototype.qa=function(f){Je(this.g,new pd(f))},Ai.prototype.pa=function(f){Je(this.g,new md)},Ai.prototype.oa=function(){Je(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,GT=function(){return new Na},HT=function(){return Or()},qT=$n,Og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,Nh=ln,Bt.COMPLETE="complete",WT=Bt,So.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",ht.prototype.listen=ht.prototype.J,zc=So,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,$T=nt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const nb="@firebase/firestore",rb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Cf("@firebase/firestore");function el(){return ha.logLevel}function de(t,...e){if(ha.logLevel<=Be.DEBUG){const n=e.map(i0);ha.debug(`Firestore (${jl}): ${t}`,...n)}}function hi(t,...e){if(ha.logLevel<=Be.ERROR){const n=e.map(i0);ha.error(`Firestore (${jl}): ${t}`,...n)}}function vl(t,...e){if(ha.logLevel<=Be.WARN){const n=e.map(i0);ha.warn(`Firestore (${jl}): ${t}`,...n)}}function i0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KT(t,r,n)}function KT(t,e,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function He(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KT(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class a3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class l3{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=h3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Qm(s)===Qm(o)?ze(s,o):Qm(s)?1:-1}return ze(t.length,e.length)}const f3=55296,p3=57343;function Qm(t){const e=t.charCodeAt(0);return e>=f3&&e<=p3}function wl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=As.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ze(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),s=As.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class et extends As{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const m3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends As{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return m3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ib}static keyField(){return new mn([ib])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g3(t,e,n,r){if(e===!0&&r===!0)throw new le(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ob(t){if(!ye.isDocumentKey(t))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ab(t){if(ye.isDocumentKey(t))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y3(t,e){if(e<=0)throw new le(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fu(t,e){if(!XT(t))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-62135596800,cb=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cb);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lb)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ft("string",rt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function v3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new io(s,ye.empty(),e)}function w3(t){return new io(t.readTime,t.key,fu)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(Ce.min(),ye.empty(),fu)}static max(){return new io(Ce.max(),ye.empty(),fu)}}function x3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==b3)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(d=>r(d)))})),l=!0,o===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((g=>{l[p]=g,++u,u===o&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function E3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=-1;function Uu(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function T3(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function S3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ub(e)),e=C3(t.get(n),e);return ub(e)}function C3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case JT:n+="";break;default:n+=o}}return n}function ub(t){return t+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I3(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function ZT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hb(this.data.getIterator())}getIteratorFrom(e){return new hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new qt(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eS("Invalid base64 string: "+o):o}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=R3.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="server_timestamp",nS="__type__",rS="__previous_value__",sS="__local_write_time__";function l0(t){return(t?.mapValue?.fields||{})[nS]?.stringValue===tS}function Lf(t){const e=t.mapValue.fields[rS];return l0(e)?Lf(e):e}function pu(t){const e=oo(t.mapValue.fields[sS].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,s,o,l,u,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const tf="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="__type__",k3="__max__",fh={mapValue:{}},oS="__vector__",nf="value";function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l0(t)?4:N3(t)?9007199254740991:P3(t)?10:11:xe(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=oo(s.timestampValue),u=oo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return ao(s.bytesValue).isEqual(ao(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Pt(s.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Pt(s.integerValue)===Pt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Pt(s.doubleValue),u=Pt(o.doubleValue);return l===u?ef(l)===ef(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(db(l)!==db(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Vs(l[d],u[d])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function gu(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Pt(o.integerValue||o.doubleValue),d=Pt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(pu(t),pu(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ao(o),d=ao(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const g=ze(u[p],d[p]);if(g!==0)return g}return ze(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=ze(Pt(o.latitude),Pt(l.latitude));return u!==0?u:ze(Pt(o.longitude),Pt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pb(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},p=u[nf]?.arrayValue,g=d[nf]?.arrayValue,v=ze(p?.values?.length||0,g?.values?.length||0);return v!==0?v:pb(p,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===fh.mapValue&&l===fh.mapValue)return 0;if(o===fh.mapValue)return 1;if(l===fh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=Fg(d[v],g[v]);if(w!==0)return w;const T=xl(u[d[v]],p[g[v]]);if(T!==0)return T}return ze(d.length,g.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=oo(t),r=oo(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function pb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=xl(n[s],r[s]);if(o)return o}return ze(n.length,r.length)}function bl(t){return Ug(t)}function Ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ao(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Ug(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Ug(n.fields[l])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function jh(t){switch(lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(t);return e?16+jh(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+jh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return wo(r.fields,((o,l)=>{s+=o.length+jh(l)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function mb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function c0(t){return!!t&&"arrayValue"in t}function gb(t){return!!t&&"nullValue"in t}function yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dh(t){return!!t&&"mapValue"in t}function P3(t){return(t?.mapValue?.fields||{})[iS]?.stringValue===oS}function Qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return{...t}}function N3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Qc(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wo(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Un(Qc(this.value))}}function aS(t){const e=[];return wo(t.fields,((n,r)=>{const s=new mn([n]);if(Dh(r)){const o=aS(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,Ce.min(),Ce.min(),Ce.min(),Un.empty(),0)}static newFoundDocument(e,n,r,s){return new nn(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new nn(e,2,n,Ce.min(),Ce.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ce.min(),Ce.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function vb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=xl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function j3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class Ot extends lS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new L3(e,n,r):n==="array-contains"?new O3(e,r):n==="in"?new F3(e,r):n==="not-in"?new U3(e,r):n==="array-contains-any"?new B3(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M3(e,r):new V3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return cS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cS(t){return t.op==="and"}function uS(t){return D3(t)&&cS(t)}function D3(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function zg(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+bl(t.value);if(uS(t))return t.filters.map((e=>zg(e))).join(",");{const e=t.filters.map((n=>zg(n))).join(",");return`${t.op}(${e})`}}function dS(t,e){return t instanceof Ot?(function(r,s){return s instanceof Ot&&r.op===s.op&&r.field.isEqual(s.field)&&Vs(r.value,s.value)})(t,e):t instanceof ts?(function(r,s){return s instanceof ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&dS(l,s.filters[u])),!0):!1})(t,e):void xe(19439)}function hS(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${bl(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"})(t):"Filter"}class L3 extends Ot{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class M3 extends Ot{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V3 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fS(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class O3 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c0(n)&&gu(n.arrayValue,this.value)}}class F3 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class U3 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class B3 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function xb(t,e=null,n=[],r=[],s=null,o=null,l=null){return new z3(t,e,n,r,s,o,l)}function u0(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bl(r))).join(",")),e.Te=n}return e.Te}function d0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wb(t.startAt,e.startAt)&&wb(t.endAt,e.endAt)}function $g(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $3(t,e,n,r,s,o,l,u){return new Ml(t,e,n,r,s,o,l,u)}function Mf(t){return new Ml(t)}function bb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pS(t){return t.collectionGroup!==null}function Yc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new qt(mn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new yu(o,r))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new yu(mn.keyField(),r))}return e.Ie}function Ns(t){const e=Ae(t);return e.Ee||(e.Ee=mS(e,Yc(t))),e.Ee}function W3(t){const e=Ae(t);return e.de||(e.de=mS(e,t.explicitOrderBy)),e.de}function mS(t,e){if(t.limitType==="F")return xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new yu(s.field,o)}));const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wg(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sf(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vf(t,e){return d0(Ns(t),Ns(e))&&t.limitType===e.limitType}function gS(t){return`${u0(Ns(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>hS(s))).join(", ")}]`),Uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>bl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>bl(s))).join(",")),`Target(${r})`})(Ns(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Yc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const p=vb(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,Yc(r),s)||r.endAt&&!(function(l,u,d){const p=vb(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,Yc(r),s))})(t,e)}function q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yS(t){return(e,n)=>{let r=!1;for(const s of Yc(t)){const o=H3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function H3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?xl(d,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new bt(ye.comparator);function fi(){return G3}const vS=new bt(ye.comparator);function $c(...t){let e=vS;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=vS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ta(){return Xc()}function xS(){return Xc()}function Xc(){return new va((t=>t.toString()),((t,e)=>t.isEqual(e)))}const K3=new bt(ye.comparator),Q3=new qt(ye.comparator);function $e(...t){let e=Q3;for(const n of t)e=e.add(n);return e}const Y3=new qt(ze);function X3(){return Y3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function bS(t){return{integerValue:""+t}}function _S(t,e){return T3(e)?bS(e):h0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function J3(t,e,n){return t instanceof vu?(function(s,o){const l={fields:{[nS]:{stringValue:tS},[sS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&l0(o)&&(o=Lf(o)),o&&(l.fields[rS]=o),{mapValue:l}})(n,e):t instanceof _l?TS(t,e):t instanceof wu?SS(t,e):(function(s,o){const l=ES(s,o),u=_b(l)+_b(s.Ae);return Bg(l)&&Bg(s.Ae)?bS(u):h0(s.serializer,u)})(t,e)}function Z3(t,e,n){return t instanceof _l?TS(t,e):t instanceof wu?SS(t,e):n}function ES(t,e){return t instanceof xu?(function(r){return Bg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class vu extends Ff{}class _l extends Ff{constructor(e){super(),this.elements=e}}function TS(t,e){const n=CS(e);for(const r of t.elements)n.some((s=>Vs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class wu extends Ff{constructor(e){super(),this.elements=e}}function SS(t,e){let n=CS(e);for(const r of t.elements)n=n.filter((s=>!Vs(s,r)));return{arrayValue:{values:n}}}class xu extends Ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _b(t){return Pt(t.integerValue||t.doubleValue)}function CS(t){return c0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.field=e,this.transform=n}}function e6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof _l&&s instanceof _l||r instanceof wu&&s instanceof wu?wl(r.elements,s.elements,Vs):r instanceof xu&&s instanceof xu?Vs(r.Ae,s.Ae):r instanceof vu&&s instanceof vu})(t.transform,e.transform)}class t6{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uf{}function IS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bf(t.key,gn.none()):new Bu(t.key,t.data,gn.none());{const n=t.data,r=Un.empty();let s=new qt(mn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new xo(t.key,r,new gr(s.toArray()),gn.none())}}function n6(t,e,n){t instanceof Bu?(function(s,o,l){const u=s.value.clone(),d=Tb(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof xo?(function(s,o,l){if(!Lh(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Tb(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(RS(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Jc(t,e,n,r){return t instanceof Bu?(function(o,l,u,d){if(!Lh(o.precondition,l))return u;const p=o.value.clone(),g=Sb(o.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof xo?(function(o,l,u,d){if(!Lh(o.precondition,l))return u;const p=Sb(o.fieldTransforms,d,l),g=l.data;return g.setAll(RS(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,l,u){return Lh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function r6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=ES(r.transform,s||null);o!=null&&(n===null&&(n=Un.empty()),n.set(r.field,o))}return n||null}function Eb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wl(r,s,((o,l)=>e6(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends Uf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends Uf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tb(t,e,n){const r=new Map;He(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,Z3(l,u,n[s]))}return r}function Sb(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,J3(o,l,e))}return r}class Bf extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AS extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&n6(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xS();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const d=IS(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,r)=>Eb(n,r)))&&wl(this.baseMutations,e.baseMutations,((n,r)=>Eb(n,r)))}}class p0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return K3})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new p0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ge;function kS(t){switch(t){case ee.OK:return xe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function PS(t){if(t===void 0)return hi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Lt.OK:return ee.OK;case Lt.CANCELLED:return ee.CANCELLED;case Lt.UNKNOWN:return ee.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ee.INTERNAL;case Lt.UNAVAILABLE:return ee.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ee.NOT_FOUND;case Lt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Lt.ABORTED:return ee.ABORTED;case Lt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Lt.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:t})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new no([4294967295,4294967295],0);function Cb(t){const e=l6().encode(t),n=new zT;return n.update(e),new Uint8Array(n.digest())}function Ib(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([n,r],0),new no([s,o],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=no.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(no.fromNumber(r)));return s.compare(c6)===1&&(s=new no([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Cb(e),[r,s]=Ib(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new m0(o,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Cb(e),[r,s]=Ib(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zf(Ce.min(),s,new bt(ze),fi(),$e())}}class zu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class NS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Rb{constructor(){this.ve=0,this.Fe=Ab(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:o})}})),new zu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ab()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class u6{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new bt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if($g(o))if(r===0){const l=new ye(o.path);this.et(n,l,nn.newNoDocument(l,Ce.min()))}else He(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=ao(r).toUint8Array()}catch(d){if(d instanceof eS)return vl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new m0(l,s,o)}catch(d){return vl(d instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&$g(u.target)){const d=new ye(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,nn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=$e();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new zf(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new bt(ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new bt(ye.comparator)}function Ab(){return new bt(ye.comparator)}const d6={asc:"ASCENDING",desc:"DESCENDING"},h6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f6={and:"AND",or:"OR"};class p6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(t,e){return t.useProto3Json||Uu(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m6(t,e){return of(t,e.toTimestamp())}function wr(t){return He(!!t,49232),Ce.fromTimestamp((function(n){const r=oo(n);return new rt(r.seconds,r.nanos)})(t))}function g0(t,e){return Hg(t,e).canonicalString()}function Hg(t,e){const n=(function(s){return new et(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function LS(t){const e=et.fromString(t);return He(zS(e),10190,{key:e.toString()}),e}function af(t,e){return g0(t.databaseId,e.path)}function Zc(t,e){const n=LS(e);if(n.get(1)!==t.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(VS(n))}function MS(t,e){return g0(t.databaseId,e)}function g6(t){const e=LS(t);return e.length===4?et.emptyPath():VS(e)}function Gg(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VS(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kb(t,e,n){return{name:af(t,e),fields:n.value.mapValue.fields}}function y6(t,e){return"found"in e?(function(r,s){He(!!s.found,43571),s.found.name,s.found.updateTime;const o=Zc(r,s.found.name),l=wr(s.found.updateTime),u=s.found.createTime?wr(s.found.createTime):Ce.min(),d=new Un({mapValue:{fields:s.found.fields}});return nn.newFoundDocument(o,l,u,d)})(t,e):"missing"in e?(function(r,s){He(!!s.missing,3894),He(!!s.readTime,22933);const o=Zc(r,s.missing),l=wr(s.readTime);return nn.newNoDocument(o,l)})(t,e):xe(7234,{result:e})}function v6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string",58123),yn.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),yn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?ee.UNKNOWN:PS(p.code);return new le(g,p.message||"")})(l);n=new jS(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zc(t,r.document.name),o=wr(r.document.updateTime),l=r.document.createTime?wr(r.document.createTime):Ce.min(),u=new Un({mapValue:{fields:r.document.fields}}),d=nn.newFoundDocument(s,o,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Mh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zc(t,r.document),o=r.readTime?wr(r.readTime):Ce.min(),l=nn.newNoDocument(s,o),u=r.removedTargetIds||[];n=new Mh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zc(t,r.document),o=r.removedTargetIds||[];n=new Mh([],o,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new a6(s,o),u=r.targetId;n=new NS(u,l)}}return n}function OS(t,e){let n;if(e instanceof Bu)n={update:kb(t,e.key,e.value)};else if(e instanceof Bf)n={delete:af(t,e.key)};else if(e instanceof xo)n={update:kb(t,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof AS))return xe(16599,{Vt:e.type});n={verify:af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _l)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:m6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(t,e.precondition)),n}function w6(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?wr(s.updateTime):wr(o);return l.isEqual(Ce.min())&&(l=wr(o)),new t6(l,s.transformResults||[])})(n,e)))):[]}function x6(t,e){return{documents:[MS(t,e.path)]}}function FS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MS(t,s);const o=(function(p){if(p.length!==0)return BS(ts.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Xi(w.field),direction:T6(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=qg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function b6(t,e,n,r){const{ft:s,parent:o}=FS(t,e),l={},u=[];let d=0;return n.forEach((p=>{const g="aggregate_"+d++;l[g]=p.alias,p.aggregateType==="count"?u.push({alias:g,count:{}}):p.aggregateType==="avg"?u.push({alias:g,avg:{field:Xi(p.fieldPath)}}):p.aggregateType==="sum"&&u.push({alias:g,sum:{field:Xi(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:o}}function _6(t){let e=g6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const w=US(v);return w instanceof ts&&uS(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((w=>(function(k){return new yu(nl(k.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Uu(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,T=v.values||[];return new rf(T,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,T=v.values||[];return new rf(T,w)})(n.endAt)),$3(e,s,l,o,u,"F",d,p)}function E6(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function US(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=nl(n.unaryFilter.field);return Ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nl(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(n.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(nl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((r=>US(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function T6(t){return d6[t]}function S6(t){return h6[t]}function C6(t){return f6[t]}function Xi(t){return{fieldPath:t.canonicalString()}}function nl(t){return mn.fromServerFormat(t.fieldPath)}function BS(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(yb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NAN"}};if(gb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NAN"}};if(gb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(n.field),op:S6(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const r=n.getFilters().map((s=>BS(s)));return r.length===1?r[0]:{compositeFilter:{op:C6(n.op),filters:r}}})(t):xe(54877,{filter:t})}function I6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,o=Ce.min(),l=Ce.min(),u=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.yt=e}}function A6(t){const e=_6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Cn=new P6}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(io.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class P6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(et.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn($S,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LruGarbageCollector",N6=1048576;function jb([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class j6{constructor(e){this.Ir=e,this.buffer=new qt(jb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?de(Nb,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.Vr(3e5)}))}}class L6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Df.ce);const r=new j6(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Pb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,u,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),el()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function M6(t,e){return new L6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Jc(r.mutation,s,gr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=$c();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let o=fi();const l=Xc(),u=(function(){return Xc()})();return n.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof xo)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Jc(g.mutation,p,g.mutation.getFieldMask(),rt.now())):l.set(p.key,gr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>u.set(p,new O6(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Xc();let s=new bt(((l,u)=>l-u)),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||gr.empty();g=u.applyToLocalView(p,g),r.set(d,g);const v=(s.get(u.batchId)||$e()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,g=d.value,v=xS();g.forEach((w=>{if(!o.has(w)){const T=IS(n.get(w),r.get(w));T!==null&&v.set(w,T),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):te.resolve(ta());let u=fu,d=o;return l.next((p=>te.forEach(p,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,$e()))).next((g=>({batchId:u,changes:wS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let s=$c();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=$c();return this.indexManager.getCollectionParents(e,o).next((u=>te.forEach(u,(d=>{const p=(function(v,w){return new Ml(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,w)=>{l=l.insert(v,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,nn.newInvalidDocument(g)))}));let u=$c();return l.forEach(((d,p)=>{const g=o.get(d);g!==void 0&&Jc(g.mutation,p,gr.empty(),rt.now()),Of(n,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:A6(s.bundledQuery),readTime:wr(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.overlays=new bt(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ta();return te.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=ta(),o=n.length+1,l=new ye(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new bt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=ta(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=ta(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new i6(n,r));let o=this.qr.get(n);o===void 0&&(o=$e(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Qr=new qt(Zt.$r),this.Ur=new qt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new et([])),r=new Zt(n,e),s=new Zt(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new et([])),r=new Zt(n,e),s=new Zt(n,e+1);let o=$e();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new s6(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Zt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?a0:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(ze);return n.forEach((s=>{const o=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const l=new Zt(new ye(o),0);let u=new qt(ze);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(d.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const o=new Zt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Zt(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.ri=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():nn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fi();const l=n.path,u=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||x3(w3(g),r)<=0||(s.has(g.key)||Of(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new q6(this)}getSize(e){return te.resolve(this.size)}}class q6 extends V6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.persistence=e,this.si=new va((n=>u0(n)),d0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new y0,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(o).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new z6,this.referenceDelegate=e(this),this.Pi=new H6(this),this.indexManager=new k6,this.remoteDocumentCache=(function(s){return new W6(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new R6(n),this.Ii=new U6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new G6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class G6 extends _3{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.Ri=new y0,this.Vi=null}static mi(e){return new v0(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ye.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new va((r=>S3(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=M6(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,Ce.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new w0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iN()?8:E3(Pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new K6;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(el()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(el()<=Be.DEBUG&&de("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(el()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):te.resolve())}ys(e,n){if(bb(n))return te.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=sf(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=$e(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,u);return this.Cs(n,p,l,d.readTime)?this.ys(e,sf(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,s){return bb(n)||s.isEqual(Ce.min())?te.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?te.resolve(null):(el()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tl(n)),this.vs(e,l,n,v3(s,fu)).next((u=>u)))}))}Ds(e,n){let r=new qt(yS(e));return n.forEach(((s,o)=>{Of(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return el()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,io.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LocalStore",Y6=3e8;class X6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new bt(ze),this.xs=new va((o=>u0(o)),d0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function J6(t,e,n,r){return new X6(t,e,n,r)}async function qS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let d=$e();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function Z6(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,g){const v=p.batch,w=v.keys();let T=te.resolve();return w.forEach((k=>{T=T.next((()=>g.getEntry(d,k))).next((A=>{const S=p.docVersions.get(k);He(S!==null,48541),A.version.compareTo(S)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=$e();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function HS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eL(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;u.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(yn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(A,S,D){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Y6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,T,g)&&u.push(n.Pi.updateTargetData(o,T))}));let d=fi(),p=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(tL(o,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(Ce.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=s,o)))}function tL(t,e,n){let r=$e(),s=$e();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=fi();return n.forEach(((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(x0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function nL(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=a0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rL(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Kg(t,e,n){const r=Ae(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ll(l))throw l;de(x0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Db(t,e,n){const r=Ae(t);let s=Ce.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const v=Ae(d),w=v.xs.get(g);return w!==void 0?te.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,g)})(r,l,Ns(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?o:$e()))).next((u=>(sL(r,q3(e),u),{documents:u,Qs:o})))))}function sL(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class Lb{constructor(){this.activeTargetIds=X3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iL{constructor(){this.Mo=new Lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="ConnectivityMonitor";class Vb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Qg(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===tf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=Qg(),u=this.zo(e,n.toUriEncodedString());de(Ym,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:p}=new URL(u),g=po(p);return this.Jo(e,u,d,r,g).then((v=>(de(Ym,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw vl(Ym,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=aL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class uL extends lL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Qg();return new Promise(((u,d)=>{const p=new $T;p.setWithCredentials(!0),p.listenOnce(WT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const v=p.getResponseJson();de(In,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Nh.TIMEOUT:de(In,`RPC '${e}' ${l} timed out`),d(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const w=p.getStatus();if(de(In,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T?.error;if(k&&k.status&&k.message){const A=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(j)>=0?j:ee.UNKNOWN})(k.status);d(new le(A,k.message))}else d(new le(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(In,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(In,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Qg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GT(),u=HT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");de(In,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let w=!1,T=!1;const k=new cL({Yo:S=>{T?de(In,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(w||(de(In,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),de(In,`RPC '${e}' stream ${s} sending:`,S),v.send(S))},Zo:()=>v.close()}),A=(S,D,j)=>{S.listen(D,(V=>{try{j(V)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(v,zc.EventType.OPEN,(()=>{T||(de(In,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),A(v,zc.EventType.CLOSE,(()=>{T||(T=!0,de(In,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(v))})),A(v,zc.EventType.ERROR,(S=>{T||(T=!0,vl(In,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),k.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),A(v,zc.EventType.MESSAGE,(S=>{if(!T){const D=S.data[0];He(!!D,16349);const j=D,V=j?.error||j[0]?.error;if(V){de(In,`RPC '${e}' stream ${s} received error:`,V);const $=V.status;let H=(function(R){const N=Lt[R];if(N!==void 0)return PS(N)})($),B=V.message;H===void 0&&(H=ee.INTERNAL,B="Unknown error status: "+$+" with message "+V.message),T=!0,k.a_(new le(H,B)),v.close()}else de(In,`RPC '${e}' stream ${s} received:`,D),k.u_(D)}})),A(u,qT.STAT_EVENT,(S=>{S.stat===Og.PROXY?de(In,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Og.NOPROXY&&de(In,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new p6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="PersistentStream";class GS{constructor(e,n,r,s,o,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new le(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(Ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dL extends GS{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=v6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?wr(l.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gg(this.serializer),n.addTarget=(function(o,l){let u;const d=l.target;if(u=$g(d)?{documents:x6(o,d)}:{query:FS(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=DS(o,l.resumeToken);const p=qg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=of(o,l.snapshotVersion.toTimestamp());const p=qg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=E6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gg(this.serializer),n.removeTarget=e,this.q_(n)}}class hL extends GS{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=w6(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>OS(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{}class pL extends fL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Hg(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(ee.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Hg(n,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class gL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wa(this)&&(de(fa,"Restarting streams for network reachability change."),await(async function(d){const p=Ae(d);p.Ea.add(4),await $u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Ra=new mL(r,s)}}async function Wf(t){if(wa(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function KS(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),S0(n)?T0(n):Vl(n).O_()&&E0(n,e))}function _0(t,e){const n=Ae(t),r=Vl(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():wa(n)&&n.Ra.set("Unknown"))}function E0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).Y_(e)}function QS(t,e){t.Va.Ue(e),Vl(t).Z_(e)}function T0(t){t.Va=new u6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.Ra.ua()}function S0(t){return wa(t)&&!Vl(t).x_()&&t.Ia.size>0}function wa(t){return Ae(t).Ea.size===0}function YS(t){t.Va=void 0}async function yL(t){t.Ra.set("Online")}async function vL(t){t.Ia.forEach(((e,n)=>{E0(t,e)}))}async function wL(t,e){YS(t),S0(t)?(t.Ra.ha(e),T0(t)):t.Ra.set("Unknown")}async function xL(t,e,n){if(t.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){de(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof Mh?t.Va.Ze(e):e instanceof NS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await HS(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(yn.EMPTY_BYTE_STRING,g.snapshotVersion)),QS(o,d);const v=new Zi(g.target,d,p,g.sequenceNumber);E0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){de(fa,"Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>HS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wf(t)}))}function XS(t,e){return e().catch((n=>cf(t,n,e)))}async function qf(t){const e=Ae(t),n=co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:a0;for(;bL(e);)try{const s=await nL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_L(e,s)}catch(s){await cf(e,s)}JS(e)&&ZS(e)}function bL(t){return wa(t)&&t.Ta.length<10}function _L(t,e){t.Ta.push(e);const n=co(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return wa(t)&&!co(t).x_()&&t.Ta.length>0}function ZS(t){co(t).start()}async function EL(t){co(t).ra()}async function TL(t){const e=co(t);for(const n of t.Ta)e.ea(n.mutations)}async function SL(t,e,n){const r=t.Ta.shift(),s=p0.from(r,e,n);await XS(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qf(t)}async function CL(t,e){e&&co(t).X_&&await(async function(r,s){if((function(l){return kS(l)&&l!==ee.ABORTED})(s.code)){const o=r.Ta.shift();co(r).B_(),await XS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await qf(r)}})(t,e),JS(t)&&ZS(t)}async function Fb(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),de(fa,"RemoteStore received new credentials");const r=wa(n);n.Ea.add(3),await $u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wf(n)}async function IL(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Wf(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function Vl(t){return t.ma||(t.ma=(function(n,r,s){const o=Ae(n);return o.sa(),new dL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:yL.bind(null,t),t_:vL.bind(null,t),r_:wL.bind(null,t),H_:xL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),S0(t)?T0(t):t.Ra.set("Unknown")):(await t.ma.stop(),YS(t))}))),t.ma}function co(t){return t.fa||(t.fa=(function(n,r,s){const o=Ae(n);return o.sa(),new hL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EL.bind(null,t),r_:CL.bind(null,t),ta:TL.bind(null,t),na:SL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qf(t)):(await t.fa.stop(),t.Ta.length>0&&(de(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new C0(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Ll(t))return new le(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.ga=new bt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tl{constructor(e,n,r,s,o,l,u,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Tl(e,n,fl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AL{constructor(){this.queries=Bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ae(n),o=s.queries;s.queries=Bb(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function Bb(){return new va((t=>gS(t)),Vf)}async function R0(t,e){const n=Ae(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new RL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=I0(l,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&k0(n)}async function A0(t,e){const n=Ae(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kL(t,e){const n=Ae(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&k0(n)}function PL(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function k0(t){t.Ca.forEach((e=>{e.next()}))}var Yg,zb;(zb=Yg||(Yg={})).Ma="default",zb.Cache="cache";class P0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.key=e}}class tC{constructor(e){this.key=e}}class NL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=yS(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ub,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),T=Of(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;w&&T?w.data.isEqual(T.data)?k!==A&&(r.track({type:3,doc:T}),S=!0):this.su(w,T)||(r.track({type:2,doc:T}),S=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(u=!0)):!w&&T?(r.track({type:0,doc:T}),S=!0):w&&!T&&(r.track({type:1,doc:w}),S=!0,(d||p)&&(u=!0)),S&&(T?(l=l.add(T),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,k){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return A(T)-A(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Tl(this.query,e.tu,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N0="SyncEngine";class jL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DL{constructor(e){this.key=e,this.hu=!1}}class LL{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new va((u=>gS(u)),Vf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ye.comparator),this.Au=new Map,this.Ru=new y0,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ML(t,e,n=!0){const r=aC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await nC(r,e,n,!0),s}async function VL(t,e){const n=aC(t);await nC(n,e,!0,!1)}async function nC(t,e,n,r){const s=await rL(t.localStore,Ns(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await OL(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,s),u}async function OL(t,e,n,r,s){t.pu=(v,w,T)=>(async function(A,S,D,j){let V=S.view.ru(D);V.Cs&&(V=await Db(A.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,V))));const $=j&&j.targetChanges.get(S.targetId),H=j&&j.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(V,A.isPrimaryClient,$,H);return Wb(A,S.targetId,B.au),B.snapshot})(t,v,w,T);const o=await Db(t.localStore,e,!0),l=new NL(e,o.Qs),u=l.ru(o.documents),d=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,d);Wb(t,n,p.au);const g=new jL(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function FL(t,e,n){const r=Ae(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Vf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Kg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_0(r.remoteStore,s.targetId),Xg(r,s.targetId)})).catch(Dl)):(Xg(r,s.targetId),await Kg(r.localStore,s.targetId,!0))}async function UL(t,e){const n=Ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_0(n.remoteStore,r.targetId))}async function BL(t,e,n){const r=KL(t);try{const s=await(function(l,u){const d=Ae(l),p=rt.now(),g=u.reduce(((T,k)=>T.add(k.key)),$e());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let k=fi(),A=$e();return d.Ns.getEntries(T,g).next((S=>{k=S,k.forEach(((D,j)=>{j.isValidDocument()||(A=A.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,k))).next((S=>{v=S;const D=[];for(const j of u){const V=r6(j,v.get(j.key).overlayedDocument);V!=null&&D.push(new xo(j.key,V,aS(V.value.mapValue),gn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,D,u)})).next((S=>{w=S;const D=S.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(T,S.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:wS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new bt(ze)),p=p.insert(u,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await Wu(r,s.changes),await qf(r.remoteStore)}catch(s){const o=I0(s,"Failed to persist write");n.reject(o)}}async function rC(t,e){const n=Ae(t);try{const r=await eL(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?He(l.hu,14607):s.removedDocuments.size>0&&(He(l.hu,42227),l.hu=!1))})),await Wu(n,r,e)}catch(r){await Dl(r)}}function $b(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ae(l);d.onlineState=u;let p=!1;d.queries.forEach(((g,v)=>{for(const w of v.Sa)w.va(u)&&(p=!0)})),p&&k0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zL(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new bt(ye.comparator);l=l.insert(o,nn.newNoDocument(o,Ce.min()));const u=$e().add(o),d=new zf(Ce.min(),new Map,new bt(ze),l,u);await rC(r,d),r.du=r.du.remove(o),r.Au.delete(e),j0(r)}else await Kg(r.localStore,e,!1).then((()=>Xg(r,e,n))).catch(Dl)}async function $L(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await Z6(n.localStore,e);iC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,s)}catch(s){await Dl(s)}}async function WL(t,e,n){const r=Ae(t);try{const s=await(function(l,u){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,u).next((v=>(He(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);iC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,s)}catch(s){await Dl(s)}}function sC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iC(t,e,n){const r=Ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oC(t,r)}))}function oC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),j0(t))}function Wb(t,e,n){for(const r of n)r instanceof eC?(t.Ru.addReference(r.key,e),qL(t,r)):r instanceof tC?(de(N0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oC(t,r.key)):xe(19791,{wu:r})}function qL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(N0,"New document in limbo: "+n),t.Eu.add(r),j0(t))}function j0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(et.fromString(e)),r=t.fu.next();t.Au.set(r,new DL(n)),t.du=t.du.insert(n,r),KS(t.remoteStore,new Zi(Ns(Mf(n.path)),r,"TargetPurposeLimboResolution",Df.ce))}}async function Wu(t,e,n){const r=Ae(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=w0.As(d.targetId,p);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=Ae(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(w=>te.forEach(w.Es,(T=>g.persistence.referenceDelegate.addReference(v,w.targetId,T))).next((()=>te.forEach(w.ds,(T=>g.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))))))}catch(v){if(!Ll(v))throw v;de(x0,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const T=g.Ms.get(w),k=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(w,A)}}})(r.localStore,o))}async function HL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){de(N0,"User change. New user:",e.toKey());const r=await qS(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new le(ee.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.Ls)}}function GL(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function aC(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zL.bind(null,e),e.Pu.H_=kL.bind(null,e.eventManager),e.Pu.yu=PL.bind(null,e.eventManager),e}function KL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$L.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WL.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return J6(this.persistence,new Q6,e.initialUser,this.serializer)}Cu(e){return new WS(v0.mi,this.serializer)}Du(e){return new iL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class QL extends uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new WS((r=>lf.mi(r,n)),this.serializer)}}class Jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$b(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HL.bind(null,this.syncEngine),await IL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AL})()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=(function(o){return new uL(o)})(e.databaseInfo);return(function(o,l,u,d){return new pL(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,u){return new gL(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>$b(this.syncEngine,n,0)),(function(){return Vb.v()?new Vb:new oL})())}createSyncEngine(e,n){return(function(s,o,l,u,d,p,g){const v=new LL(s,o,l,u,d,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);de(fa,"RemoteStore shutting down."),r.Ea.add(5),await $u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,o){const l=Ae(s),u={documents:o.map((v=>af(l.serializer,v)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,et.emptyPath(),u,o.length),p=new Map;d.forEach((v=>{const w=y6(l.serializer,v);p.set(w.key.toString(),w)}));const g=[];return o.forEach((v=>{const w=p.get(v.toString());He(!!w,55234,{key:v}),g.push(w)})),g})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=ye.fromPath(r);this.mutations.push(new AS(s,this.precondition(s)))})),await(async function(r,s){const o=Ae(r),l={writes:s.map((u=>OS(o.serializer,u)))};await o.Go("Commit",o.serializer.databaseId,et.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Gu:e.constructor.name});n=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ce.min())?gn.exists(!1):gn.updateTime(n):gn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ce.min()))throw new le(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,s,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new b0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new YL(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Uu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!kS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class JL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{de(uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),de(uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await qS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZL(t);de(uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Fb(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Fb(e.remoteStore,s))),t._onlineComponents=e}async function ZL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(uo,"Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new uf)}}else de(uo,"Using default OfflineComponentProvider"),await Jm(t,new QL(void 0));return t._offlineComponents}async function L0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(uo,"Using user provided OnlineComponentProvider"),await qb(t,t._uninitializedComponentsProvider._online)):(de(uo,"Using default OnlineComponentProvider"),await qb(t,new Jg))),t._onlineComponents}function eM(t){return L0(t).then((e=>e.syncEngine))}function lC(t){return L0(t).then((e=>e.datastore))}async function df(t){const e=await L0(t),n=e.eventManager;return n.onListen=ML.bind(null,e.syncEngine),n.onUnlisten=FL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UL.bind(null,e.syncEngine),n}function tM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const g=new D0({next:w=>{g.Nu(),l.enqueueAndForget((()=>A0(o,v)));const T=w.docs.has(u);!T&&w.fromCache?p.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?p.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new P0(Mf(u.path),g,{includeMetadataChanges:!0,qa:!0});return R0(o,v)})(await df(t),t.asyncQueue,e,n,r))),r.promise}function nM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const g=new D0({next:w=>{g.Nu(),l.enqueueAndForget((()=>A0(o,v))),w.fromCache&&d.source==="server"?p.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new P0(u,g,{includeMetadataChanges:!0,qa:!0});return R0(o,v)})(await df(t),t.asyncQueue,e,n,r))),r.promise}function rM(t,e,n){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await lC(t);r.resolve((async function(l,u,d){const p=Ae(l),{request:g,gt:v,parent:w}=b6(p.serializer,W3(u),d);p.connection.$o||delete g.parent;const T=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,g,1)).filter((A=>!!A.result));He(T.length===1,64727);const k=T[0].result?.aggregateFields;return Object.keys(k).reduce(((A,S)=>(A[v[S]]=k[S],A)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firestore.googleapis.com",Gb=!0;class Kb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uC,this.ssl=Gb}else this.host=e.host,this.ssl=e.ssl??Gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N6)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o3;switch(r.type){case"firstParty":return new u3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Hb.get(n);r&&(de("ComponentProvider","Removing Datastore"),Hb.delete(n),r.terminate())})(this),Promise.resolve()}}function sM(t,e,n,r={}){t=kn(t,Hf);const s=po(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Uy(`https://${u}`),By("Firestore",!0)),o.host!==uC&&o.host!==u&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:s,emulatorOptions:r};if(!ci(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Rn.MOCK_USER;else{p=A2(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rn(v)}t._authCredentials=new a3(new QT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fu(n,wt._jsonSchema))return new wt(e,r||null,new ye(et.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ft("string",wt._jsonSchemaVersion),referencePath:Ft("string")};class ro extends gi{constructor(e,n,r){super(e,n,Mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ye(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function st(t,e,...n){if(t=tt(t),YT("collection","path",e),t instanceof Hf){const r=et.fromString(e,...n);return ab(r),new ro(t,null,r)}{if(!(t instanceof wt||t instanceof ro))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return ab(r),new ro(t.firestore,null,r)}}function it(t,e,...n){if(t=tt(t),arguments.length===1&&(e=o0.newId()),YT("doc","path",e),t instanceof Hf){const r=et.fromString(e,...n);return ob(r),new wt(t,null,new ye(r))}{if(!(t instanceof wt||t instanceof ro))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return ob(r),new wt(t.firestore,t instanceof ro?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="AsyncQueue";class Yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b0(this,"async_queue_retry"),this._c=()=>{const r=Xm();r&&de(Qb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;de(Qb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",Xb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=C0.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:Xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Xb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ns extends Hf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Yb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function iM(t,e){const n=typeof t=="object"?t:If(),r=typeof t=="string"?t:tf,s=mo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=C2("firestore");o&&sM(s,...o)}return s}function Ol(t){if(t._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oM(t),t._firestoreClient}function oM(t){const e=t._freezeSettings(),n=(function(s,o,l,u){return new A3(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class lM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(yn.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mr(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Ft("string",mr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Ft("string",js._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Ft("string",Ds._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^__.*__$/;class uM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class dC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Gf{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hC(this.Ac)&&cM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}Cc(e,n,r,s=!1){return new Gf({Ac:e,methodName:n,Dc:r,path:mn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hu(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new dM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M0(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);U0("Data must be an object, but it was:",l,r);const u=mC(r,l);let d,p;if(o.merge)d=new gr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=Zg(e,v,n);if(!l.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yC(g,w)||g.push(w)}d=new gr(g),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new uM(new Un(u),d,p)}class Kf extends Fl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function hM(t,e,n){return new Gf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class V0 extends Fl{_toFieldTransform(e){return new f0(e.path,new vu)}isEqual(e){return e instanceof V0}}class O0 extends Fl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=hM(this,e,!0),r=this.vc.map((o=>Ul(o,n))),s=new _l(r);return new f0(e.path,s)}isEqual(e){return e instanceof O0&&ci(this.vc,e.vc)}}class F0 extends Fl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xu(e.serializer,_S(e.serializer,this.Fc));return new f0(e.path,n)}isEqual(e){return e instanceof F0&&this.Fc===e.Fc}}function fC(t,e,n,r){const s=t.Cc(1,e,n);U0("Data must be an object, but it was:",s,r);const o=[],l=Un.empty();wo(r,((d,p)=>{const g=B0(e,d,n);p=tt(p);const v=s.yc(g);if(p instanceof Kf)o.push(g);else{const w=Ul(p,v);w!=null&&(o.push(g),l.set(g,w))}}));const u=new gr(o);return new dC(l,u,s.fieldTransforms)}function pC(t,e,n,r,s,o){const l=t.Cc(1,e,n),u=[Zg(e,r,n)],d=[s];if(o.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(Zg(e,o[w])),d.push(o[w+1]);const p=[],g=Un.empty();for(let w=u.length-1;w>=0;--w)if(!yC(p,u[w])){const T=u[w];let k=d[w];k=tt(k);const A=l.yc(T);if(k instanceof Kf)p.push(T);else{const S=Ul(k,A);S!=null&&(p.push(T),g.set(T,S))}}const v=new gr(p);return new dC(g,v,l.fieldTransforms)}function fM(t,e,n,r=!1){return Ul(n,t.Cc(r?4:3,e))}function Ul(t,e){if(gC(t=tt(t)))return U0("Unsupported field value:",e,t),mC(t,e);if(t instanceof Fl)return(function(r,s){if(!hC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const u of r){let d=Ul(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _S(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:of(s.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(s.serializer,o)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:DS(s.serializer,r._byteString)};if(r instanceof wt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ds)return(function(l,u){return{mapValue:{fields:{[iS]:{stringValue:oS},[nf]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return h0(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${jf(r)}`)})(t,e)}function mC(t,e){const n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,((r,s)=>{const o=Ul(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function gC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof js||t instanceof mr||t instanceof wt||t instanceof Fl||t instanceof Ds)}function U0(t,e,n){if(!gC(n)||!XT(n)){const r=jf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Zg(t,e,n){if((e=tt(e))instanceof qu)return e._internalPath;if(typeof e=="string")return B0(t,e);throw hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const pM=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(pM)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hf(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new le(ee.INVALID_ARGUMENT,u+t+d)}function yC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mM extends ff{data(){return super.data()}}function Qf(t,e){return typeof e=="string"?B0(t,e):e instanceof qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z0{}class $0 extends z0{}function Nt(t,e,...n){let r=[];e instanceof z0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof W0)).length,u=o.filter((d=>d instanceof Yf)).length;if(l>1||l>0&&u>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Yf extends $0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yf(e,n,r)}_apply(e){const n=this._parse(e);return wC(e._query,n),new gi(e.firestore,e.converter,Wg(e._query,n))}_parse(e){const n=Hu(e.firestore);return(function(o,l,u,d,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){e_(v,g);const k=[];for(const A of v)k.push(Zb(d,o,A));w={arrayValue:{values:k}}}else w=Zb(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||e_(v,g),w=fM(u,l,v,g==="in"||g==="not-in");return Ot.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xt(t,e,n){const r=e,s=Qf("where",t);return Yf._create(s,r,n)}class W0 extends z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new W0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)wC(l,d),l=Wg(l,d)})(e._query,n),new gi(e.firestore,e.converter,Wg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q0 extends $0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new q0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(o,l)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ml(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function bo(t,e="asc"){const n=e,r=Qf("orderBy",t);return q0._create(r,n)}class H0 extends $0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new H0(e,n,r)}_apply(e){return new gi(e.firestore,e.converter,sf(e._query,this._limit,this._limitType))}}function G0(t){return y3("limit",t),H0._create("limit",t,"F")}function Zb(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!ye.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mb(t,new ye(r))}if(n instanceof wt)return mb(t,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function e_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wC(t,e){const n=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xC{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new js(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=oo(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);He(zS(r),9688,{name:e});const s=new mu(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return s.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gM extends xC{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function yM(){return new aM("count")}class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends ff{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Ft("string",so._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Vh extends so{data(e={}){return super.data(e)}}class sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new rl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new rl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:vM(u.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=o0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){t=kn(t,wt);const e=kn(t.firestore,ns);return tM(Ol(e),t._key).then((n=>_C(e,t,n)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Ft("string",sa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Gu extends xC{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function tr(t){t=kn(t,gi);const e=kn(t.firestore,ns),n=Ol(e),r=new Gu(e);return vC(t._query),nM(n,t._query).then((s=>new sa(e,r,t,s)))}function Xf(t,e,n){t=kn(t,wt);const r=kn(t.firestore,ns),s=K0(t.converter,e,n);return Jf(r,[M0(Hu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gn.none())])}function Us(t,e,n,...r){t=kn(t,wt);const s=kn(t.firestore,ns),o=Hu(s);let l;return l=typeof(e=tt(e))=="string"||e instanceof qu?pC(o,"updateDoc",t._key,e,n,r):fC(o,"updateDoc",t._key,e),Jf(s,[l.toMutation(t._key,gn.exists(!0))])}function bC(t){return Jf(kn(t.firestore,ns),[new Bf(t._key,gn.none())])}function yi(t,e){const n=kn(t.firestore,ns),r=it(t),s=K0(t.converter,e);return Jf(n,[M0(Hu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then((()=>r))}function Sl(t,...e){t=tt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jb(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jb(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,l,u;if(t instanceof wt)l=kn(t.firestore,ns),u=Mf(t._key.path),o={next:d=>{e[r]&&e[r](_C(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=kn(t,gi);l=kn(d.firestore,ns),u=d._query;const p=new Gu(l);o={next:g=>{e[r]&&e[r](new sa(l,p,d,g))},error:e[r+1],complete:e[r+2]},vC(t._query)}return(function(p,g,v,w){const T=new D0(w),k=new P0(g,T,v);return p.asyncQueue.enqueueAndForget((async()=>R0(await df(p),k))),()=>{T.Nu(),p.asyncQueue.enqueueAndForget((async()=>A0(await df(p),k)))}})(Ol(l),u,s,o)}function Jf(t,e){return(function(r,s){const o=new Zr;return r.asyncQueue.enqueueAndForget((async()=>BL(await eM(r),s,o))),o.promise})(Ol(t),e)}function _C(t,e,n){const r=n.docs.get(e._key),s=new Gu(t);return new so(t,s,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}function t_(t){return wM(t,{count:yM()})}function wM(t,e){const n=kn(t.firestore,ns),r=Ol(n),s=I3(e,((o,l)=>new o6(l,o.aggregateType,o._internalFieldPath)));return rM(r,t._query,s).then((o=>(function(u,d,p){const g=new Gu(u);return new lM(d,g,p)})(n,t,o)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={maxAttempts:5};function qc(t,e){if((t=tt(t)).firestore!==e)throw new le(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Hu(e)}get(e){const n=qc(e,this._firestore),r=new gM(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return xe(24041);const o=s[0];if(o.isFoundDocument())return new ff(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new ff(this._firestore,r,n._key,null,n.converter);throw xe(18433,{doc:o})}))}set(e,n,r){const s=qc(e,this._firestore),o=K0(s.converter,n,r),l=M0(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const o=qc(e,this._firestore);let l;return l=typeof(n=tt(n))=="string"||n instanceof qu?pC(this._dataReader,"Transaction.update",o._key,n,r,s):fC(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,l),this}delete(e){const n=qc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends bM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=qc(e,this._firestore),r=new Gu(this._firestore);return super.get(e).then((s=>new so(this._firestore,r,n._key,s._document,new rl(!1,!1),n.converter)))}}function EM(t,e,n){t=kn(t,ns);const r={...xM,...n};return(function(o){if(o.maxAttempts<1)throw new le(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,l,u){const d=new Zr;return o.asyncQueue.enqueueAndForget((async()=>{const p=await lC(o);new XL(o.asyncQueue,p,u,l,d).ju()})),d.promise})(Ol(t),(s=>e(new _M(t,s))),r)}function rn(){return new V0("serverTimestamp")}function TM(...t){return new O0("arrayUnion",t)}function EC(t){return new F0("increment",t)}(function(e,n=!0){(function(s){jl=s})(ya),es(new jr("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new ns(new l3(r.getProvider("auth-internal")),new d3(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,g)})(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),er(nb,rb,e),er(nb,rb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebasestorage.googleapis.com",SC="storageBucket",SM=120*1e3,CM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Mr{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function Zm(t){return"storage/"+t}function Q0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(St.UNKNOWN,t)}function IM(t){return new Ct(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RM(t){return new Ct(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(St.UNAUTHENTICATED,t)}function kM(){return new Ct(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PM(t){return new Ct(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NM(){return new Ct(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jM(){return new Ct(St.CANCELED,"User canceled the upload/download.")}function DM(t){return new Ct(St.INVALID_URL,"Invalid URL '"+t+"'.")}function LM(t){return new Ct(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MM(){return new Ct(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SC+"' property when initializing the app?")}function VM(){return new Ct(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OM(){return new Ct(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FM(t){return new Ct(St.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ey(t){return new Ct(St.INVALID_ARGUMENT,t)}function CC(){return new Ct(St.APP_DELETED,"The Firebase app was deleted.")}function UM(t){return new Ct(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(t,e){return new Ct(St.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mc(t){throw new Ct(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw LM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),k={bucket:1,path:3},A=n===TC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",D=new RegExp(`^https?://${A}/${s}/${S}`,"i"),V=[{regex:u,indices:d,postModify:o},{regex:T,indices:k,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<V.length;$++){const H=V[$],B=H.regex.exec(e);if(B){const I=B[H.indices.bucket];let R=B[H.indices.path];R||(R=""),r=new yr(I,R),H.postModify(r);break}}if(r==null)throw DM(e);return r}}class BM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let p=!1;function g(...S){p||(p=!0,e.apply(null,S))}function v(S){s=setTimeout(()=>{s=null,t(T,d())},S)}function w(){o&&clearTimeout(o)}function T(S,...D){if(p){w();return}if(S){w(),g.call(null,S,...D);return}if(d()||l){w(),g.call(null,S,...D);return}r<64&&(r*=2);let V;u===1?(u=2,V=0):V=(r+Math.random())*1e3,v(V)}let k=!1;function A(S){k||(k=!0,w(),!p&&(s!==null?(S||(u=2),clearTimeout(s),v(0)):S||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},n),A}function $M(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return t!==void 0}function qM(t){return typeof t=="object"&&!Array.isArray(t)}function Y0(t){return typeof t=="string"||t instanceof String}function n_(t){return X0()&&t instanceof Blob}function X0(){return typeof Blob<"u"}function r_(t,e,n,r){if(r<e)throw ey(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ey(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function IC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,s,o,l,u,d,p,g,v,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,A)=>{this.resolve_=k,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===ia.NO_ERROR,d=o.getStatus();if(!u||HM(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ia.ABORT;r(!1,new gh(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new gh(p,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());WM(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=Q0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?CC():jM();l(d)}else{const d=NM();l(d)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=zM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$M(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JM(t,e,n,r,s,o,l=!0,u=!1){const d=IC(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return YM(g,e),KM(g,n),QM(g,o),XM(g,r),new GM(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eV(...t){const e=ZM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(X0())return new Blob(t);throw new Ct(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(typeof atob>"u")throw FM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eg{constructor(e,n){this.data=e,this.contentType=n||null}}function rV(t,e){switch(t){case ks.RAW:return new eg(RC(e));case ks.BASE64:case ks.BASE64URL:return new eg(AC(t,e));case ks.DATA_URL:return new eg(iV(e),oV(e))}throw Q0()}function RC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sV(t){let e;try{e=decodeURIComponent(t)}catch{throw eu(ks.DATA_URL,"Malformed data URL.")}return RC(e)}function AC(t,e){switch(t){case ks.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw eu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw eu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nV(e)}catch(s){throw s.message.includes("polyfill")?s:eu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iV(t){const e=new kC(t);return e.base64?AC(ks.BASE64,e.rest):sV(e.rest)}function oV(t){return new kC(t).contentType}function aV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,s="";n_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(n_(this.data_)){const r=this.data_,s=tV(r,e,n);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(X0()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(eV.apply(null,n))}else{const n=e.map(l=>Y0(l)?rV(ks.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[o++]=l[u]}),new Ji(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){let e;try{e=JSON.parse(t)}catch{return null}return qM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){return e}class On{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||uV}}let yh=null;function dV(t){return!Y0(t)||t.length<2?t:NC(t)}function jC(){if(yh)return yh;const t=[];t.push(new On("bucket")),t.push(new On("generation")),t.push(new On("metageneration")),t.push(new On("name","fullPath",!0));function e(o,l){return dV(l)}const n=new On("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new On("size");return s.xform=r,t.push(s),t.push(new On("timeCreated")),t.push(new On("updated")),t.push(new On("md5Hash",null,!0)),t.push(new On("cacheControl",null,!0)),t.push(new On("contentDisposition",null,!0)),t.push(new On("contentEncoding",null,!0)),t.push(new On("contentLanguage",null,!0)),t.push(new On("contentType",null,!0)),t.push(new On("metadata","customMetadata",!0)),yh=t,yh}function hV(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new yr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fV(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return hV(r,t),r}function DC(t,e,n){const r=PC(e);return r===null?null:fV(t,r,n)}function pV(t,e,n,r){const s=PC(e);if(s===null||!Y0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const g=t.bucket,v=t.fullPath,w="/b/"+l(g)+"/o/"+l(v),T=J0(w,n,r),k=IC({alt:"media",token:p});return T+k})[0]}function mV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class LC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){if(!t)throw Q0()}function gV(t,e){function n(r,s){const o=DC(t,s,e);return MC(o!==null),o}return n}function yV(t,e){function n(r,s){const o=DC(t,s,e);return MC(o!==null),pV(o,s,t.host,t._protocol)}return n}function VC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=kM():s=AM():n.getStatus()===402?s=RM(t.bucket):n.getStatus()===403?s=PM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function vV(t){const e=VC(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=IM(t.path)),o.serverResponse=s.serverResponse,o}return n}function wV(t,e,n){const r=e.fullServerUrl(),s=J0(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new LC(s,o,yV(t,n),l);return u.errorHandler=vV(e),u}function xV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function bV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xV(null,e)),r}function _V(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let V="";for(let $=0;$<2;$++)V=V+Math.random().toString().slice(2);return V}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const p=bV(e,r,s),g=mV(p,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",T=Ji.getBlob(v,r,w);if(T===null)throw VM();const k={name:p.fullPath},A=J0(o,t.host,t._protocol),S="POST",D=t.maxUploadRetryTime,j=new LC(A,S,gV(t,n),D);return j.urlParams=k,j.headers=l,j.body=T.uploadData(),j.errorHandler=VC(e),j}class EV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Mc("cannot .send() more than once");if(po(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TV extends EV{initXhr(){this.xhr_.responseType="text"}}function OC(){return new TV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NC(this._location.path)}get storage(){return this._service}get parent(){const e=lV(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UM(e)}}function SV(t,e,n){t._throwIfRoot("uploadBytes");const r=_V(t.storage,t._location,jC(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,OC).then(s=>({metadata:s,ref:t}))}function CV(t){t._throwIfRoot("getDownloadURL");const e=wV(t.storage,t._location,jC());return t.storage.makeRequestWithTokens(e,OC).then(n=>{if(n===null)throw OM();return n})}function IV(t,e){const n=cV(t._location.path,e),r=new yr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return/^[A-Za-z]+:\/\//.test(t)}function AV(t,e){return new pa(t,e)}function FC(t,e){if(t instanceof Z0){const n=t;if(n._bucket==null)throw MM();const r=new pa(n,n._bucket);return e!=null?FC(r,e):r}else return e!==void 0?IV(t,e):t}function kV(t,e){if(e&&RV(e)){if(t instanceof Z0)return AV(t,e);throw ey("To use ref(service, url), the first argument must be a Storage instance.")}else return FC(t,e)}function s_(t,e){const n=e?.[SC];return n==null?null:yr.makeFromBucketSpec(n,t)}function PV(t,e,n,r={}){t.host=`${e}:${n}`;const s=po(e);s&&(Uy(`https://${t.host}/b`),By("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:A2(o,t.app.options.projectId))}class Z0{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=TC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SM,this._maxUploadRetryTime=CM,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=s_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=s_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new BM(CC());{const l=JM(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const i_="@firebase/storage",o_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="storage";function NV(t,e,n){return t=tt(t),SV(t,e,n)}function jV(t){return t=tt(t),CV(t)}function DV(t,e){return t=tt(t),kV(t,e)}function LV(t=If(),e){t=tt(t);const r=mo(t,UC).getImmediate({identifier:e}),s=C2("storage");return s&&MV(r,...s),r}function MV(t,e,n,r={}){PV(t,e,n,r)}function VV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Z0(n,r,s,e,ya)}function OV(){es(new jr(UC,VV,"PUBLIC").setMultipleInstances(!0)),er(i_,o_,""),er(i_,o_,"esm2020")}OV();const FV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Zf=M2(FV);$4(Zf);const Ue=s3(Zf),we=iM(Zf),UV=LV(Zf),BC=new ri,ev=x.createContext({});function tv(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const nv=typeof window<"u",zC=nv?x.useLayoutEffect:x.useEffect,ep=x.createContext(null);function rv(t,e){t.indexOf(e)===-1&&t.push(e)}function sv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pi=(t,e,n)=>n>e?e:n<t?t:n;let iv=()=>{};const mi={},$C=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function WC(t){return typeof t=="object"&&t!==null}const qC=t=>/^0[^.\s]+$/u.test(t);function ov(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nr=t=>t,BV=(t,e)=>n=>e(t(n)),Ku=(...t)=>t.reduce(BV),bu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class av{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>sv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,Pr=t=>t/1e3;function HC(t,e){return e?t*(1e3/e):0}const GC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zV=1e-7,$V=12;function WV(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=GC(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>zV&&++u<$V);return l}function Qu(t,e,n,r){if(t===e&&n===r)return Nr;const s=o=>WV(o,0,1,t,n);return o=>o===0||o===1?o:GC(s(o),e,r)}const KC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QC=t=>e=>1-t(1-e),YC=Qu(.33,1.53,.69,.99),lv=QC(YC),XC=KC(lv),JC=t=>(t*=2)<1?.5*lv(t):.5*(2-Math.pow(2,-10*(t-1))),cv=t=>1-Math.sin(Math.acos(t)),ZC=QC(cv),eI=KC(cv),qV=Qu(.42,0,1,1),HV=Qu(0,0,.58,1),tI=Qu(.42,0,.58,1),GV=t=>Array.isArray(t)&&typeof t[0]!="number",nI=t=>Array.isArray(t)&&typeof t[0]=="number",KV={linear:Nr,easeIn:qV,easeInOut:tI,easeOut:HV,circIn:cv,circInOut:eI,circOut:ZC,backIn:lv,backInOut:XC,backOut:YC,anticipate:JC},QV=t=>typeof t=="string",a_=t=>{if(nI(t)){iv(t.length===4);const[e,n,r,s]=t;return Qu(e,n,r,s)}else if(QV(t))return KV[t];return t},vh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YV(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(p.schedule(g),t()),g(u)}const p={schedule:(g,v=!1,w=!1)=>{const k=w&&s?n:r;return v&&l.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,p.process(g))}};return p}const XV=40;function rI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=vh.reduce((V,$)=>(V[$]=YV(o),V),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:T,postRender:k}=l,A=()=>{const V=mi.useManualTiming?s.timestamp:performance.now();n=!1,mi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(V-s.timestamp,XV),1)),s.timestamp=V,s.isProcessing=!0,u.process(s),d.process(s),p.process(s),g.process(s),v.process(s),w.process(s),T.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},S=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:vh.reduce((V,$)=>{const H=l[$];return V[$]=(B,I=!1,R=!1)=>(n||S(),H.schedule(B,I,R)),V},{}),cancel:V=>{for(let $=0;$<vh.length;$++)l[vh[$]].cancel(V)},state:s,steps:l}}const{schedule:pt,cancel:ho,state:fn,steps:tg}=rI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nr,!0);let Oh;function JV(){Oh=void 0}const Zn={now:()=>(Oh===void 0&&Zn.set(fn.isProcessing||mi.useManualTiming?fn.timestamp:performance.now()),Oh),set:t=>{Oh=t,queueMicrotask(JV)}},sI=t=>e=>typeof e=="string"&&e.startsWith(t),uv=sI("--"),ZV=sI("var(--"),dv=t=>ZV(t)?eO.test(t.split("/*")[0].trim()):!1,eO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_u={...Bl,transform:t=>pi(0,1,t)},wh={...Bl,default:1},tu=t=>Math.round(t*1e5)/1e5,hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tO(t){return t==null}const nO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(t,e)=>n=>!!(typeof n=="string"&&nO.test(n)&&n.startsWith(t)||e&&!tO(n)&&Object.prototype.hasOwnProperty.call(n,e)),iI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(hv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},rO=t=>pi(0,255,t),ng={...Bl,transform:t=>Math.round(rO(t))},na={test:fv("rgb","red"),parse:iI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+tu(_u.transform(r))+")"};function sO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ty={test:fv("#"),parse:sO,transform:na.transform},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=Yu("deg"),Ms=Yu("%"),Re=Yu("px"),iO=Yu("vh"),oO=Yu("vw"),l_={...Ms,parse:t=>Ms.parse(t)/100,transform:t=>Ms.transform(t*100)},sl={test:fv("hsl","hue"),parse:iI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ms.transform(tu(e))+", "+Ms.transform(tu(n))+", "+tu(_u.transform(r))+")"},Vt={test:t=>na.test(t)||ty.test(t)||sl.test(t),parse:t=>na.test(t)?na.parse(t):sl.test(t)?sl.parse(t):ty.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?na.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},aO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lO(t){return isNaN(t)&&typeof t=="string"&&(t.match(hv)?.length||0)+(t.match(aO)?.length||0)>0}const oI="number",aI="color",cO="var",uO="var(",c_="${}",dO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(dO,d=>(Vt.test(d)?(r.color.push(o),s.push(aI),n.push(Vt.parse(d))):d.startsWith(uO)?(r.var.push(o),s.push(cO),n.push(d)):(r.number.push(o),s.push(oI),n.push(parseFloat(d))),++o,c_)).split(c_);return{values:n,split:u,indexes:r,types:s}}function lI(t){return Eu(t).values}function cI(t){const{split:e,types:n}=Eu(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===oI?o+=tu(s[l]):u===aI?o+=Vt.transform(s[l]):o+=s[l]}return o}}const hO=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function fO(t){const e=lI(t);return cI(t)(e.map(hO))}const fo={test:lO,parse:lI,createTransformer:cI,getAnimatableNone:fO};function rg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=rg(d,u,t+1/3),o=rg(d,u,t),l=rg(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function pf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,sg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},mO=[ty,na,sl],gO=t=>mO.find(e=>e.test(t));function u_(t){const e=gO(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=pO(n)),n}const d_=(t,e)=>{const n=u_(t),r=u_(e);if(!n||!r)return pf(t,e);const s={...n};return o=>(s.red=sg(n.red,r.red,o),s.green=sg(n.green,r.green,o),s.blue=sg(n.blue,r.blue,o),s.alpha=vt(n.alpha,r.alpha,o),na.transform(s))},ny=new Set(["none","hidden"]);function yO(t,e){return ny.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vO(t,e){return n=>vt(t,e,n)}function pv(t){return typeof t=="number"?vO:typeof t=="string"?dv(t)?pf:Vt.test(t)?d_:bO:Array.isArray(t)?uI:typeof t=="object"?Vt.test(t)?d_:wO:pf}function uI(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>pv(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function wO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=pv(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function xO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const bO=(t,e)=>{const n=fo.createTransformer(e),r=Eu(t),s=Eu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ny.has(t)&&!s.values.length||ny.has(e)&&!r.values.length?yO(t,e):Ku(uI(xO(r,s),s.values),n):pf(t,e)};function dI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):pv(t)(t,e)}const _O=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pt.update(e,n),stop:()=>ho(e),now:()=>fn.isProcessing?fn.timestamp:Zn.now()}},hI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mf=2e4;function mv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mf;)e+=n,r=t.next(e);return e>=mf?1/0:e}function EO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(mv(r),mf);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Pr(s)}}const TO=5;function fI(t,e,n){const r=Math.max(e-TO,0);return HC(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ig=.001;function SO({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let s,o,l=1-e;l=pi(Tt.minDamping,Tt.maxDamping,l),t=pi(Tt.minDuration,Tt.maxDuration,Pr(t)),l<1?(s=p=>{const g=p*l,v=g*t,w=g-n,T=ry(p,l),k=Math.exp(-v);return ig-w/T*k},o=p=>{const v=p*l*t,w=v*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-v),A=ry(Math.pow(p,2),l);return(-s(p)+ig>0?-1:1)*((w-T)*k)/A}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-ig+g*v},o=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const u=5/t,d=IO(s,o,u);if(t=Ls(t),isNaN(d))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const CO=12;function IO(t,e,n){let r=n;for(let s=1;s<CO;s++)r=r-t(r)/e(r);return r}function ry(t,e){return t*Math.sqrt(1-e*e)}const RO=["duration","bounce"],AO=["stiffness","damping","mass"];function h_(t,e){return e.some(n=>t[n]!==void 0)}function kO(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!h_(t,AO)&&h_(t,RO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Tt.mass,stiffness:s,damping:o}}else{const n=SO(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function gf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:T}=kO({...n,velocity:-Pr(n.velocity||0)}),k=w||0,A=p/(2*Math.sqrt(d*g)),S=l-o,D=Pr(Math.sqrt(d/g)),j=Math.abs(S)<5;r||(r=j?Tt.restSpeed.granular:Tt.restSpeed.default),s||(s=j?Tt.restDelta.granular:Tt.restDelta.default);let V;if(A<1){const H=ry(D,A);V=B=>{const I=Math.exp(-A*D*B);return l-I*((k+A*D*S)/H*Math.sin(H*B)+S*Math.cos(H*B))}}else if(A===1)V=H=>l-Math.exp(-D*H)*(S+(k+D*S)*H);else{const H=D*Math.sqrt(A*A-1);V=B=>{const I=Math.exp(-A*D*B),R=Math.min(H*B,300);return l-I*((k+A*D*S)*Math.sinh(R)+H*S*Math.cosh(R))/H}}const $={calculatedDuration:T&&v||null,next:H=>{const B=V(H);if(T)u.done=H>=v;else{let I=H===0?k:0;A<1&&(I=H===0?Ls(k):fI(V,H,B));const R=Math.abs(I)<=r,N=Math.abs(l-B)<=s;u.done=R&&N}return u.value=u.done?l:B,u},toString:()=>{const H=Math.min(mv($),mf),B=hI(I=>$.next(H*I).value,H,30);return H+"ms "+B},toTransition:()=>{}};return $}gf.applyToOptions=t=>{const e=EO(t,100,gf);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function sy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},T=R=>u!==void 0&&R<u||d!==void 0&&R>d,k=R=>u===void 0?d:d===void 0||Math.abs(u-R)<Math.abs(d-R)?u:d;let A=n*e;const S=v+A,D=l===void 0?S:l(S);D!==S&&(A=D-v);const j=R=>-A*Math.exp(-R/r),V=R=>D+j(R),$=R=>{const N=j(R),L=V(R);w.done=Math.abs(N)<=p,w.value=w.done?D:L};let H,B;const I=R=>{T(w.value)&&(H=R,B=gf({keyframes:[w.value,k(w.value)],velocity:fI(V,R,w.value),damping:s,stiffness:o,restDelta:p,restSpeed:g}))};return I(0),{calculatedDuration:null,next:R=>{let N=!1;return!B&&H===void 0&&(N=!0,$(R),I(R)),H!==void 0&&R>=H?B.next(R-H):(!N&&$(R),w)}}}function PO(t,e,n){const r=[],s=n||mi.mix||dI,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Nr:e;u=Ku(d,u)}r.push(u)}return r}function NO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(iv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=PO(e,r,s),d=u.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=bu(t[v],t[v+1],g);return u[v](w)};return n?g=>p(pi(t[0],t[o-1],g)):p}function jO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=bu(0,e,r);t.push(vt(n,1,s))}}function DO(t){const e=[0];return jO(e,t.length-1),e}function LO(t,e){return t.map(n=>n*e)}function MO(t,e){return t.map(()=>e||tI).splice(0,t.length-1)}function nu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=GV(r)?r.map(a_):a_(r),o={done:!1,value:e[0]},l=LO(n&&n.length===e.length?n:DO(e),t),u=NO(l,e,{ease:Array.isArray(s)?s:MO(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const VO=t=>t!==null;function gv(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(VO),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const OO={decay:sy,inertia:sy,tween:nu,keyframes:nu,spring:gf};function pI(t){typeof t.type=="string"&&(t.type=OO[t.type])}class yv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const FO=t=>t/100;class vv extends yv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pI(e);const{type:n=nu,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||nu;d!==nu&&typeof u[0]!="number"&&(this.mixKeyframes=Ku(FO,dI(u[0],u[1])),u=[0,100]);const p=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=mv(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:T,type:k,onUpdate:A,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let V=this.currentTime,$=r;if(v){const R=Math.min(this.currentTime,s)/u;let N=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(w==="reverse"?(L=1-L,T&&(L-=T/u)):w==="mirror"&&($=l)),V=pi(0,1,L)*u}const H=j?{done:!1,value:g[0]}:$.next(V);o&&(H.value=o(H.value));let{done:B}=H;!j&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&k!==sy&&(H.value=gv(g,this.options,S,this.speed)),A&&A(H.value),I&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=_O,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ra=t=>t*180/Math.PI,iy=t=>{const e=ra(Math.atan2(t[1],t[0]));return oy(e)},BO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>ra(Math.atan(t[1])),skewY:t=>ra(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oy=t=>(t=t%360,t<0&&(t+=360),t),f_=iy,p_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),m_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p_,scaleY:m_,scale:t=>(p_(t)+m_(t))/2,rotateX:t=>oy(ra(Math.atan2(t[6],t[5]))),rotateY:t=>oy(ra(Math.atan2(-t[2],t[0]))),rotateZ:f_,rotate:f_,skewX:t=>ra(Math.atan(t[4])),skewY:t=>ra(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ay(t){return t.includes("scale")?1:0}function ly(t,e){if(!t||t==="none")return ay(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=zO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=BO,s=u}if(!s)return ay(e);const o=r[e],l=s[1].split(",").map(WO);return typeof o=="function"?o(l):l[o]}const $O=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ly(n,e)};function WO(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(zl),g_=t=>t===Bl||t===Re,qO=new Set(["x","y","z"]),HO=zl.filter(t=>!qO.has(t));function GO(t){const e=[];return HO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ly(e,"x"),y:(t,{transform:e})=>ly(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const aa=new Set;let cy=!1,uy=!1,dy=!1;function mI(){if(uy){const t=Array.from(aa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=GO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uy=!1,cy=!1,aa.forEach(t=>t.complete(dy)),aa.clear()}function gI(){aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uy=!0)})}function KO(){dy=!0,gI(),mI(),dy=!1}class wv{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),cy||(cy=!0,pt.read(gI),pt.resolveKeyframes(mI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}UO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QO=t=>t.startsWith("--");function YO(t,e,n){QO(e)?t.style.setProperty(e,n):t.style[e]=n}const XO=ov(()=>window.ScrollTimeline!==void 0),JO={};function ZO(t,e){const n=ov(t);return()=>JO[e]??n()}const yI=ZO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,y_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function vI(t,e){if(t)return typeof t=="function"?yI()?hI(t,e):"ease-out":nI(t)?Hc(t):Array.isArray(t)?t.map(n=>vI(n,e)||y_.easeOut):y_[t]}function eF(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const v=vI(u,s);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function wI(t){return typeof t=="function"&&"applyToOptions"in t}function tF({type:t,...e}){return wI(t)&&yI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nF extends yv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,iv(typeof e.type!="string");const p=tF(e);this.animation=eF(n,r,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=gv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):YO(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&XO()?(this.animation.timeline=e,Nr):n(this)}}const xI={anticipate:JC,backInOut:XC,circInOut:eI};function rF(t){return t in xI}function sF(t){typeof t.ease=="string"&&rF(t.ease)&&(t.ease=xI[t.ease])}const v_=10;class iF extends nF{constructor(e){sF(e),pI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new vv({...l,autoplay:!1}),d=Ls(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-v_).value,u.sample(d).value,v_),u.stop()}}const w_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function oF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=w_(s,e),u=w_(o,e);return!l||!u?!1:oF(t)||(n==="spring"||wI(n))&&r}function hy(t){t.duration=0,t.type="keyframes"}const lF=new Set(["opacity","clipPath","filter","transform"]),cF=ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return cF()&&n&&lF.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const dF=40;class hF extends yv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zn.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:p,element:g,...v},T=g?.KeyframeResolver||wv;this.keyframeResolver=new T(u,(k,A,S)=>this.onKeyframesResolved(k,A,w,!S),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Zn.now(),aF(e,o,l,u)||((mi.instantAnimations||!d)&&g?.(gv(e,r,n)),e[0]=e[e.length-1],hy(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>dF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&uF(w)?new iF({...w,element:w.motionValue.owner.current}):new vv(w);T.finished.then(()=>this.notifyFinished()).catch(Nr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const fF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pF(t){const e=fF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function bI(t,e,n=1){const[r,s]=pF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return $C(l)?parseFloat(l):l}return dv(s)?bI(s,e,n+1):s}function xv(t,e){return t?.[e]??t?.default??t}const _I=new Set(["width","height","top","left","right","bottom",...zl]),mF={test:t=>t==="auto",parse:t=>t},EI=t=>e=>e.test(t),TI=[Bl,Re,Ms,Hi,oO,iO,mF],x_=t=>TI.find(EI(t));function gF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qC(t):!0}const yF=new Set(["brightness","contrast","saturate","opacity"]);function vF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hv)||[];if(!r)return t;const s=n.replace(r,"");let o=yF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const wF=/\b([a-z-]*)\(.*?\)/gu,fy={...fo,getAnimatableNone:t=>{const e=t.match(wF);return e?e.map(vF).join(" "):t}},b_={...Bl,transform:Math.round},xF={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:Hi,skewX:Hi,skewY:Hi,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:_u,originX:l_,originY:l_,originZ:Re},bv={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...xF,zIndex:b_,fillOpacity:_u,strokeOpacity:_u,numOctaves:b_},bF={...bv,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:fy,WebkitFilter:fy},SI=t=>bF[t];function CI(t,e){let n=SI(t);return n!==fy&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _F=new Set(["auto","none","0"]);function EF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!_F.has(o)&&Eu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=CI(n,s)}class TF extends wv{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),dv(p))){const g=bI(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!_I.has(r)||e.length!==2)return;const[s,o]=e,l=x_(s),u=x_(o);if(l!==u)if(g_(l)&&g_(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else oa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||gF(e[s]))&&r.push(s);r.length&&EF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function SF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const II=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RI(t){return WC(t)&&"offsetHeight"in t}const __=30,CF=t=>!isNaN(parseFloat(t));class IF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Zn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new av);const r=this.events[e].add(n);return e==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>__)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,__);return HC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,e){return new IF(t,e)}const{schedule:_v}=rI(queueMicrotask,!1),Yr={x:!1,y:!1};function AI(){return Yr.x||Yr.y}function RF(t){return t==="x"||t==="y"?Yr[t]?null:(Yr[t]=!0,()=>{Yr[t]=!1}):Yr.x||Yr.y?null:(Yr.x=Yr.y=!0,()=>{Yr.x=Yr.y=!1})}function kI(t,e){const n=SF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function E_(t){return!(t.pointerType==="touch"||AI())}function AF(t,e,n={}){const[r,s,o]=kI(t,n),l=u=>{if(!E_(u))return;const{target:d}=u,p=e(d,u);if(typeof p!="function"||!d)return;const g=v=>{E_(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const PI=(t,e)=>e?t===e?!0:PI(t,e.parentElement):!1,Ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PF(t){return kF.has(t.tagName)||t.tabIndex!==-1}const Fh=new WeakSet;function T_(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=T_(()=>{if(Fh.has(n))return;og(n,"down");const s=T_(()=>{og(n,"up")}),o=()=>og(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function S_(t){return Ev(t)&&!AI()}function jF(t,e,n={}){const[r,s,o]=kI(t,n),l=u=>{const d=u.currentTarget;if(!S_(u))return;Fh.add(d);const p=e(d,u),g=(T,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Fh.has(d)&&Fh.delete(d),S_(T)&&typeof p=="function"&&p(T,{success:k})},v=T=>{g(T,d===window||d===document||n.useGlobalTarget||PI(d,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),RI(u)&&(u.addEventListener("focus",p=>NF(p,s)),!PF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function NI(t){return WC(t)&&"ownerSVGElement"in t}function DF(t){return NI(t)&&t.tagName==="svg"}const An=t=>!!(t&&t.getVelocity),LF=[...TI,Vt,fo],MF=t=>LF.find(EI(t)),Tv=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function C_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VF(...t){return e=>{let n=!1;const r=t.map(s=>{const o=C_(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():C_(t[s],null)}}}}function OF(...t){return x.useCallback(VF(...t),t)}class FF extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=RI(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UF({children:t,isPresent:e,anchorX:n,root:r}){const s=x.useId(),o=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Tv),d=OF(o,t?.ref);return x.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:w,right:T}=l.current;if(e||!o.current||!p||!g)return;const k=n==="left"?`left: ${w}`:`right: ${T}`;o.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const S=r??document.head;return S.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{S.contains(A)&&S.removeChild(A)}},[e]),h.jsx(FF,{isPresent:e,childRef:o,sizeRef:l,children:x.cloneElement(t,{ref:d})})}const BF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const p=tv(zF),g=x.useId();let v=!0,w=x.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{p.set(T,!0);for(const k of p.values())if(!k)return;r&&r()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[n,p,r]);return o&&v&&(w={...w}),x.useMemo(()=>{p.forEach((T,k)=>p.set(k,!1))},[n]),x.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(UF,{isPresent:n,anchorX:u,root:d,children:t})),h.jsx(ep.Provider,{value:w,children:t})};function zF(){return new Map}function jI(t=!0){const e=x.useContext(ep);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=x.useId();x.useEffect(()=>{if(t)return s(o)},[t]);const l=x.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const xh=t=>t.key||"";function I_(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Os=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[p,g]=jI(l),v=x.useMemo(()=>I_(t),[t]),w=l&&!p?[]:v.map(xh),T=x.useRef(!0),k=x.useRef(v),A=tv(()=>new Map),[S,D]=x.useState(v),[j,V]=x.useState(v);zC(()=>{T.current=!1,k.current=v;for(let B=0;B<j.length;B++){const I=xh(j[B]);w.includes(I)?A.delete(I):A.get(I)!==!0&&A.set(I,!1)}},[j,w.length,w.join("-")]);const $=[];if(v!==S){let B=[...v];for(let I=0;I<j.length;I++){const R=j[I],N=xh(R);w.includes(N)||(B.splice(I,0,R),$.push(R))}return o==="wait"&&$.length&&(B=$),V(I_(B)),D(v),null}const{forceRender:H}=x.useContext(ev);return h.jsx(h.Fragment,{children:j.map(B=>{const I=xh(B),R=l&&!p?!1:v===j||w.includes(I),N=()=>{if(A.has(I))A.set(I,!0);else return;let L=!0;A.forEach(O=>{O||(L=!1)}),L&&(H?.(),V(k.current),l&&g?.(),r&&r())};return h.jsx(BF,{isPresent:R,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:R?void 0:N,anchorX:u,children:B},I)})})},DI=x.createContext({strict:!1}),R_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const t in R_)Il[t]={isEnabled:e=>R_[t].some(n=>!!e[n])};function $F(t){for(const e in t)Il[e]={...Il[e],...t[e]}}const WF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WF.has(t)}let LI=t=>!yf(t);function qF(t){typeof t=="function"&&(LI=e=>e.startsWith("on")?!yf(e):t(e))}try{qF(require("@emotion/is-prop-valid").default)}catch{}function HF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(LI(s)||n===!0&&yf(s)||!e&&!yf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const tp=x.createContext({});function np(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tu(t){return typeof t=="string"||Array.isArray(t)}const Sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cv=["initial",...Sv];function rp(t){return np(t.animate)||Cv.some(e=>Tu(t[e]))}function MI(t){return!!(rp(t)||t.variants)}function GF(t,e){if(rp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function KF(t){const{initial:e,animate:n}=GF(t,x.useContext(tp));return x.useMemo(()=>({initial:e,animate:n}),[A_(e),A_(n)])}function A_(t){return Array.isArray(t)?t.join(" "):t}const Su={};function QF(t){for(const e in t)Su[e]=t[e],uv(e)&&(Su[e].isCSSVariable=!0)}function VI(t,{layout:e,layoutId:n}){return $l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Su[t]||t==="opacity")}const YF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XF=zl.length;function JF(t,e,n){let r="",s=!0;for(let o=0;o<XF;o++){const l=zl[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const p=II(u,bv[l]);if(!d){s=!1;const g=YF[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Iv(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const p=e[d];if($l.has(d)){l=!0;continue}else if(uv(d)){s[d]=p;continue}else{const g=II(p,bv[d]);d.startsWith("origin")?(u=!0,o[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=JF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:g=0}=o;r.transformOrigin=`${d} ${p} ${g}`}}const Rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OI(t,e,n){for(const r in e)!An(e[r])&&!VI(r,n)&&(t[r]=e[r])}function ZF({transformTemplate:t},e){return x.useMemo(()=>{const n=Rv();return Iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function e7(t,e){const n=t.style||{},r={};return OI(r,n,t),Object.assign(r,ZF(t,e)),r}function t7(t,e){const n={},r=e7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const n7={offset:"stroke-dashoffset",array:"stroke-dasharray"},r7={offset:"strokeDashoffset",array:"strokeDasharray"};function s7(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?n7:r7;t[o.offset]=Re.transform(-r);const l=Re.transform(e),u=Re.transform(n);t[o.array]=`${l} ${u}`}function FI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,p,g){if(Iv(t,u,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&s7(v,s,o,l,!1)}const UI=()=>({...Rv(),attrs:{}}),BI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function i7(t,e,n,r){const s=x.useMemo(()=>{const o=UI();return FI(o,e,BI(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};OI(o,t.style,t),s.style={...o,...s.style}}return s}const o7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Av(t){return typeof t!="string"||t.includes("-")?!1:!!(o7.indexOf(t)>-1||/[A-Z]/u.test(t))}function a7(t,e,n,{latestValues:r},s,o=!1){const u=(Av(t)?i7:t7)(e,r,s,t),d=HF(e,typeof t=="string",o),p=t!==x.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=x.useMemo(()=>An(g)?g.get():g,[g]);return x.createElement(t,{...p,children:v})}function k_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kv(t,e,n,r){if(typeof e=="function"){const[s,o]=k_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=k_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Uh(t){return An(t)?t.get():t}function l7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:c7(n,r,s,t),renderState:e()}}function c7(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=Uh(o[w]);let{initial:l,animate:u}=t;const d=rp(t),p=MI(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!np(v)){const w=Array.isArray(v)?v:[v];for(let T=0;T<w.length;T++){const k=kv(t,w[T]);if(k){const{transitionEnd:A,transition:S,...D}=k;for(const j in D){let V=D[j];if(Array.isArray(V)){const $=g?V.length-1:0;V=V[$]}V!==null&&(s[j]=V)}for(const j in A)s[j]=A[j]}}}return s}const zI=t=>(e,n)=>{const r=x.useContext(tp),s=x.useContext(ep),o=()=>l7(t,e,r,s);return n?o():tv(o)};function Pv(t,e,n){const{style:r}=t,s={};for(const o in r)(An(r[o])||e.style&&An(e.style[o])||VI(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const u7=zI({scrapeMotionValuesFromProps:Pv,createRenderState:Rv});function $I(t,e,n){const r=Pv(t,e,n);for(const s in t)if(An(t[s])||An(e[s])){const o=zl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const d7=zI({scrapeMotionValuesFromProps:$I,createRenderState:UI}),h7=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function f7(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):il(n)&&(n.current=r))},[e])}const Nv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p7="framerAppearId",WI="data-"+Nv(p7),qI=x.createContext({});function m7(t,e,n,r,s){const{visualElement:o}=x.useContext(tp),l=x.useContext(DI),u=x.useContext(ep),d=x.useContext(Tv).reducedMotion,p=x.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,v=x.useContext(qI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&g7(p.current,n,s,v);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const T=n[WI],k=x.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return zC(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),k.current=!1),g.enteringChildren=void 0)}),g}function g7(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:HI(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&il(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function HI(t){if(t)return t.options.allowProjection!==!1?t.projection:HI(t.parent)}function ag(t,{forwardMotionProps:e=!1}={},n,r){n&&$F(n);const s=Av(t)?d7:u7;function o(u,d){let p;const g={...x.useContext(Tv),...u,layoutId:y7(u)},{isStatic:v}=g,w=KF(u),T=s(u,v);if(!v&&nv){v7();const k=w7(g);p=k.MeasureLayout,w.visualElement=m7(t,T,g,r,k.ProjectionNode)}return h.jsxs(tp.Provider,{value:w,children:[p&&w.visualElement?h.jsx(p,{visualElement:w.visualElement,...g}):null,a7(t,u,f7(T,w.visualElement,d),T,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(o);return l[h7]=t,l}function y7({layoutId:t}){const e=x.useContext(ev).id;return e&&t!==void 0?e+"-"+t:t}function v7(t,e){x.useContext(DI).strict}function w7(t){const{drag:e,layout:n}=Il;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function x7(t,e){if(typeof Proxy>"u")return ag;const n=new Map,r=(o,l)=>ag(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,ag(l,void 0,t,e)),n.get(l))})}function GI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function b7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lg(t){return t===void 0||t===1}function py({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function Jo(t){return py(t)||KI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KI(t){return P_(t.x)||P_(t.y)}function P_(t){return t&&t!=="0%"}function vf(t,e,n){const r=t-n,s=e*r;return n+s}function N_(t,e,n,r,s){return s!==void 0&&(t=vf(t,s,r)),vf(t,n,r)+e}function my(t,e=0,n=1,r,s){t.min=N_(t.min,e,n,r,s),t.max=N_(t.max,e,n,r,s)}function QI(t,{x:e,y:n}){my(t.x,e.translate,e.scale,e.originPoint),my(t.y,n.translate,n.scale,n.originPoint)}const j_=.999999999999,D_=1.0000000000001;function E7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&al(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,QI(t,l)),r&&Jo(o.latestValues)&&al(t,o.latestValues))}e.x<D_&&e.x>j_&&(e.x=1),e.y<D_&&e.y>j_&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function L_(t,e,n,r,s=.5){const o=vt(t.min,t.max,s);my(t,e,n,o,r)}function al(t,e){L_(t.x,e.x,e.scaleX,e.scale,e.originX),L_(t.y,e.y,e.scaleY,e.scale,e.originY)}function YI(t,e){return GI(_7(t.getBoundingClientRect(),e))}function T7(t,e,n){const r=YI(t,n),{scroll:s}=e;return s&&(ol(r.x,s.offset.x),ol(r.y,s.offset.y)),r}const M_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:M_(),y:M_()}),V_=()=>({min:0,max:0}),kt=()=>({x:V_(),y:V_()}),gy={current:null},XI={current:!1};function S7(){if(XI.current=!0,!!nv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gy.current=t.matches;t.addEventListener("change",e),e()}else gy.current=!1}const C7=new WeakMap;function I7(t,e,n){for(const r in e){const s=e[r],o=n[r];if(An(s))t.addValue(r,s);else if(An(o))t.addValue(r,Cl(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Cl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const O_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Zn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,pt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=rp(n),this.isVariantNode=MI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const T=v[w];d[w]!==void 0&&An(T)&&T.set(d[w])}}mount(e){this.current=e,C7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XI.current||S7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$l.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Il){const n=Il[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<O_.length;r++){const s=O_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=I7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($C(r)||qC(r))?r=parseFloat(r):!MF(r)&&fo.test(n)&&(r=CI(e,n)),this.setBaseTarget(e,An(r)?r.get():r)),An(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=kv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!An(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_v.render(this.render)}}class JI extends R7{constructor(){super(...arguments),this.KeyframeResolver=TF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZI(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function A7(t){return window.getComputedStyle(t)}class k7 extends JI{constructor(){super(...arguments),this.type="html",this.renderInstance=ZI}readValueFromInstance(e,n){if($l.has(n))return this.projection?.isProjecting?ay(n):$O(e,n);{const r=A7(e),s=(uv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YI(e,n)}build(e,n,r){Iv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Pv(e,n,r)}}const eR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P7(t,e,n,r){ZI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(eR.has(s)?s:Nv(s),e.attrs[s])}class N7 extends JI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($l.has(n)){const r=SI(n);return r&&r.default||0}return n=eR.has(n)?n:Nv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $I(e,n,r)}build(e,n,r){FI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){P7(e,n,r,s)}mount(e){this.isSVGTag=BI(e.tagName),super.mount(e)}}const j7=(t,e)=>Av(t)?new N7(e):new k7(e,{allowProjection:t!==x.Fragment});function pl(t,e,n){const r=t.getProps();return kv(r,e,n!==void 0?n:r.custom,t)}const yy=t=>Array.isArray(t);function D7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cl(n))}function L7(t){return yy(t)?t[t.length-1]||0:t}function M7(t,e){const n=pl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=L7(o[l]);D7(t,l,u)}}function V7(t){return!!(An(t)&&t.add)}function vy(t,e){const n=t.getValue("willChange");if(V7(n))return n.add(e);if(!n&&mi.WillChange){const r=new mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function tR(t){return t.props[WI]}const O7=t=>t!==null;function F7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(O7),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const U7={type:"spring",stiffness:500,damping:25,restSpeed:10},B7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z7={type:"keyframes",duration:.8},$7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W7=(t,{keyframes:e})=>e.length>2?z7:$l.has(t)?t.startsWith("scale")?B7(e[1]):U7:$7;function q7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const jv=(t,e,n,r={},s,o)=>l=>{const u=xv(r,t)||{},d=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ls(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};q7(u)||Object.assign(g,W7(t,g)),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(hy(g),g.delay===0&&(v=!0)),(mi.instantAnimations||mi.skipAnimations)&&(v=!0,hy(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const w=F7(g.keyframes,u);if(w!==void 0){pt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new vv(g):new hF(g)};function H7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),w=u[g];if(w===void 0||p&&H7(p,g))continue;const T={delay:n,...xv(o||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const D=tR(t);if(D){const j=window.MotionHandoffAnimation(D,g,pt);j!==null&&(T.startTime=j,A=!0)}}vy(t,g),v.start(jv(g,v,w,t.shouldReduceMotion&&_I.has(g)?{type:!1}:T,t,A));const S=v.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{pt.update(()=>{l&&M7(t,l)})}),d}function rR(t,e,n,r=0,s=1){const o=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:u-o*r}function wy(t,e,n={}){const r=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(nR(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return G7(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,p]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function G7(t,e,n=0,r=0,s=0,o=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(wy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+rR(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function K7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>wy(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=wy(t,e,n);else{const s=typeof e=="function"?pl(t,e,n.custom):e;r=Promise.all(nR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function sR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Q7=Cv.length;function iR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q7;n++){const r=Cv[n],s=t.props[r];(Tu(s)||s===!1)&&(e[r]=s)}return e}const Y7=[...Sv].reverse(),X7=Sv.length;function J7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>K7(t,n,r)))}function Z7(t){let e=J7(t),n=F_(),r=!0;const s=d=>(p,g)=>{const v=pl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:T,...k}=v;p={...p,...k,...T}}return p};function o(d){e=d(t)}function l(d){const{props:p}=t,g=iR(t.parent)||{},v=[],w=new Set;let T={},k=1/0;for(let S=0;S<X7;S++){const D=Y7[S],j=n[D],V=p[D]!==void 0?p[D]:g[D],$=Tu(V),H=D===d?j.isActive:null;H===!1&&(k=S);let B=V===g[D]&&V!==p[D]&&$;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),j.protectedKeys={...T},!j.isActive&&H===null||!V&&!j.prevProp||np(V)||typeof V=="boolean")continue;const I=e9(j.prevProp,V);let R=I||D===d&&j.isActive&&!B&&$||S>k&&$,N=!1;const L=Array.isArray(V)?V:[V];let O=L.reduce(s(D),{});H===!1&&(O={});const{prevResolvedValues:q={}}=j,M={...q,...O},Ne=ge=>{R=!0,w.has(ge)&&(N=!0,w.delete(ge)),j.needsAnimating[ge]=!0;const se=t.getValue(ge);se&&(se.liveStyle=!1)};for(const ge in M){const se=O[ge],ce=q[ge];if(T.hasOwnProperty(ge))continue;let Z=!1;yy(se)&&yy(ce)?Z=!sR(se,ce):Z=se!==ce,Z?se!=null?Ne(ge):w.add(ge):se!==void 0&&w.has(ge)?Ne(ge):j.protectedKeys[ge]=!0}j.prevProp=V,j.prevResolvedValues=O,j.isActive&&(T={...T,...O}),r&&t.blockInitialAnimation&&(R=!1);const Xe=B&&I;R&&(!Xe||N)&&v.push(...L.map(ge=>{const se={type:D};if(typeof ge=="string"&&r&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,Z=pl(ce,ge);if(ce.enteringChildren&&Z){const{delayChildren:U}=Z.transition||{};se.delay=rR(ce.enteringChildren,t,U)}}return{animation:ge,options:se}}))}if(w.size){const S={};if(typeof p.initial!="boolean"){const D=pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(S.transition=D.transition)}w.forEach(D=>{const j=t.getBaseTarget(D),V=t.getValue(D);V&&(V.liveStyle=!0),S[D]=j??null}),v.push({animation:S})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=F_()}}}function e9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sR(e,t):!1}function Yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F_(){return{animate:Yo(!0),whileInView:Yo(),whileHover:Yo(),whileTap:Yo(),whileDrag:Yo(),whileFocus:Yo(),exit:Yo()}}class _o{constructor(e){this.isMounted=!1,this.node=e}update(){}}class t9 extends _o{constructor(e){super(e),e.animationState||(e.animationState=Z7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();np(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let n9=0;class r9 extends _o{constructor(){super(...arguments),this.id=n9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s9={animation:{Feature:t9},exit:{Feature:r9}};function Cu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xu(t){return{point:{x:t.pageX,y:t.pageY}}}const i9=t=>e=>Ev(e)&&t(e,Xu(e));function ru(t,e,n,r){return Cu(t,e,i9(n),r)}const oR=1e-4,o9=1-oR,a9=1+oR,aR=.01,l9=0-aR,c9=0+aR;function Bn(t){return t.max-t.min}function u9(t,e,n){return Math.abs(t-e)<=n}function U_(t,e,n,r=.5){t.origin=r,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o9&&t.scale<=a9||isNaN(t.scale))&&(t.scale=1),(t.translate>=l9&&t.translate<=c9||isNaN(t.translate))&&(t.translate=0)}function su(t,e,n,r){U_(t.x,e.x,n.x,r?r.originX:void 0),U_(t.y,e.y,n.y,r?r.originY:void 0)}function B_(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function d9(t,e,n){B_(t.x,e.x,n.x),B_(t.y,e.y,n.y)}function z_(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function iu(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function Ar(t){return[t("x"),t("y")]}const lR=({current:t})=>t?t.ownerDocument.defaultView:null,$_=(t,e)=>Math.abs(t-e);function h9(t,e){const n=$_(t.x,e.x),r=$_(t.y,e.y);return Math.sqrt(n**2+r**2)}class cR{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ug(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,k=h9(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!k)return;const{point:A}=w,{timestamp:S}=fn;this.history.push({...A,timestamp:S});const{onStart:D,onMove:j}=this.handlers;T||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=cg(T,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:k,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=ug(w.type==="pointercancel"?this.lastMoveEventInfo:cg(T,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,D),A&&A(w,D)},!Ev(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Xu(e),d=cg(u,this.transformPagePoint),{point:p}=d,{timestamp:g}=fn;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,ug(d,this.history)),this.removeListeners=Ku(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function cg(t,e){return e?{point:e(t.point)}:t}function W_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ug({point:t},e){return{point:t,delta:W_(t,uR(e)),offset:W_(t,f9(e)),velocity:p9(e,.1)}}function f9(t){return t[0]}function uR(t){return t[t.length-1]}function p9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=uR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const o=Pr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function m9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?vt(n,t,r.max):Math.min(t,n)),t}function q_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function g9(t,{top:e,left:n,bottom:r,right:s}){return{x:q_(t.x,n,s),y:q_(t.y,e,r)}}function H_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function y9(t,e){return{x:H_(t.x,e.x),y:H_(t.y,e.y)}}function v9(t,e){let n=.5;const r=Bn(t),s=Bn(e);return s>r?n=bu(e.min,e.max-r,t.min):r>s&&(n=bu(t.min,t.max-s,e.min)),pi(0,1,n)}function w9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xy=.35;function x9(t=xy){return t===!1?t=0:t===!0&&(t=xy),{x:G_(t,"left","right"),y:G_(t,"top","bottom")}}function G_(t,e,n){return{min:K_(t,e),max:K_(t,n)}}function K_(t,e){return typeof t=="number"?t:t[e]||0}const b9=new WeakMap;class _9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xu(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:k,onDragStart:A}=this.getProps();if(T&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RF(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(D=>{let j=this.getAxisMotionValue(D).get()||0;if(Ms.test(j)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[D];$&&(j=Bn($)*(parseFloat(j)/100))}}this.originPoint[D]=j}),A&&pt.postRender(()=>A(v,w)),vy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:T,dragDirectionLock:k,onDirectionLock:A,onDrag:S}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:D}=w;if(k&&this.currentDirection===null){this.currentDirection=E9(D),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),S&&S(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ar(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new cR(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:lR(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&pt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!bh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=m9(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=g9(r.layoutBox,e):this.constraints=!1,this.elastic=x9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ar(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=w9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=T7(r,s.root,this.visualElement.getTransformPagePoint());let l=y9(s.layout.layoutBox,o);if(n){const u=n(b7(l));this.hasMutatedConstraints=!!u,u&&(l=GI(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Ar(g=>{if(!bh(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const w=s?200:1e6,T=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vy(this.visualElement,e),r.start(jv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!bh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-vt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=v9({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(l=>{if(!bh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(vt(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;b9.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();il(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pt.read(r);const l=Cu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ar(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=xy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function E9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class T9 extends _o{constructor(e){super(e),this.removeGroupControls=Nr,this.removeListeners=Nr,this.controls=new _9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q_=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class S9 extends _o{constructor(){super(...arguments),this.removePointerDownListener=Nr}onPointerDown(e){this.session=new cR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Q_(e),onStart:Q_(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&pt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=Y_(t,e.target.x),r=Y_(t,e.target.y);return`${n}% ${r}%`}},C9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=fo.parse(t);if(s.length>5)return r;const o=fo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const p=vt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),o(s)}};let dg=!1;class I9 extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;QF(R9),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),dg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,dg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||pt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_v.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;dg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dR(t){const[e,n]=jI(),r=x.useContext(ev);return h.jsx(I9,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(qI),isPresent:e,safeToRemove:n})}const R9={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:C9};function A9(t,e,n){const r=An(t)?t:Cl(t);return r.start(jv("",r,e,n)),r.animation}const k9=(t,e)=>t.depth-e.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){sv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k9),this.isDirty=!1,this.children.forEach(e)}}function N9(t,e){const n=Zn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ho(r),t(o-e))};return pt.setup(r,!0),()=>ho(r)}const hR=["TopLeft","TopRight","BottomLeft","BottomRight"],j9=hR.length,X_=t=>typeof t=="string"?parseFloat(t):t,J_=t=>typeof t=="number"||Re.test(t);function D9(t,e,n,r,s,o){s?(t.opacity=vt(0,n.opacity??1,L9(r)),t.opacityExit=vt(e.opacity??1,0,M9(r))):o&&(t.opacity=vt(e.opacity??1,n.opacity??1,r));for(let l=0;l<j9;l++){const u=`border${hR[l]}Radius`;let d=Z_(e,u),p=Z_(n,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||J_(d)===J_(p)?(t[u]=Math.max(vt(X_(d),X_(p),r),0),(Ms.test(p)||Ms.test(d))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,r))}function Z_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L9=fR(0,.5,ZC),M9=fR(.5,.95,Nr);function fR(t,e,n){return r=>r<t?0:r>e?1:n(bu(t,e,r))}function eE(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){eE(t.x,e.x),eE(t.y,e.y)}function tE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nE(t,e,n,r,s){return t-=e,t=vf(t,1/n,r),s!==void 0&&(t=vf(t,1/s,r)),t}function V9(t,e=0,n=1,r=.5,s,o=t,l=t){if(Ms.test(e)&&(e=parseFloat(e),e=vt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=vt(o.min,o.max,r);t===o&&(u-=e),t.min=nE(t.min,e,n,u,s),t.max=nE(t.max,e,n,u,s)}function rE(t,e,[n,r,s],o,l){V9(t,e[n],e[r],e[s],e.scale,o,l)}const O9=["x","scaleX","originX"],F9=["y","scaleY","originY"];function sE(t,e,n,r){rE(t.x,e,O9,n?n.x:void 0,r?r.x:void 0),rE(t.y,e,F9,n?n.y:void 0,r?r.y:void 0)}function iE(t){return t.translate===0&&t.scale===1}function pR(t){return iE(t.x)&&iE(t.y)}function oE(t,e){return t.min===e.min&&t.max===e.max}function U9(t,e){return oE(t.x,e.x)&&oE(t.y,e.y)}function aE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mR(t,e){return aE(t.x,e.x)&&aE(t.y,e.y)}function lE(t){return Bn(t.x)/Bn(t.y)}function cE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class B9{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(sv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z9(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:T,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const hg=["","X","Y","Z"],$9=1e3;let W9=0;function fg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function gR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&gR(r)}function yR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=W9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G9),this.nodes.forEach(X9),this.nodes.forEach(J9),this.nodes.forEach(K9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new av),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=NI(l)&&!DF(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=N9(w,250),Bh.hasAnimatedSinceResize&&(Bh.hasAnimatedSinceResize=!1,this.nodes.forEach(hE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||r8,{onLayoutAnimationStart:A,onLayoutAnimationComplete:S}=p.getProps(),D=!this.targetLayout||!mR(this.targetLayout,T),j=!v&&w;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...xv(k,"layout"),onPlay:A,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(g,j)}else v||hE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Y9),this.nodes.forEach(q9),this.nodes.forEach(H9)):this.nodes.forEach(dE),this.clearAllSnapshots();const u=Zn.now();fn.delta=pi(0,1e3/60,u-fn.timestamp),fn.timestamp=u,fn.isProcessing=!0,tg.update.process(fn),tg.preRender.process(fn),tg.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q9),this.sharedNodes.forEach(e8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!pR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Jo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),s8(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return kt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(i8))){const{scroll:p}=this.root;p&&(ol(u.x,p.offset.x),ol(u.y,p.offset.y))}return u}removeElementScroll(l){const u=kt();if(Rr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Rr(u,l),ol(u.x,g.offset.x),ol(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=kt();Rr(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&al(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Jo(g.latestValues)&&al(d,g.latestValues)}return Jo(this.latestValues)&&al(d,this.latestValues),d}removeTransform(l){const u=kt();Rr(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Jo(p.latestValues))continue;py(p.latestValues)&&p.updateSnapshot();const g=kt(),v=p.measurePageBox();Rr(g,v),sE(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Jo(this.latestValues)&&sE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),iu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),QI(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),iu(this.relativeTargetOrigin,this.target,w.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||KI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Rr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;E7(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=kt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tE(this.prevProjectionDelta.x,this.projectionDelta.x),tE(this.prevProjectionDelta.y,this.projectionDelta.y)),su(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!cE(this.projectionDelta.x,this.prevProjectionDelta.x)||!cE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=kt(),T=d?d.source:void 0,k=this.layout?this.layout.source:void 0,A=T!==k,S=this.getStack(),D=!S||S.members.length<=1,j=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(n8));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const H=$/1e3;fE(v.x,l.x,H),fE(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(iu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t8(this.relativeTarget,this.relativeTargetOrigin,w,H),V&&U9(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=kt()),Rr(V,this.relativeTarget)),A&&(this.animationValues=g,D9(g,p,this.latestValues,H,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Bh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=A9(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:g}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&vR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||kt();const v=Bn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=Bn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Rr(u,d),al(u,g),su(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new B9),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&fg("z",l,p,this.animationValues);for(let g=0;g<hg.length;g++)fg(`rotate${hg[g]}`,l,p,this.animationValues),fg(`skew${hg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Uh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Uh(u?.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=z9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:w,y:T}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Su){if(g[k]===void 0)continue;const{correct:A,applyTo:S,isCSSVariable:D}=Su[k],j=v==="none"?g[k]:A(g[k],p);if(S){const V=S.length;for(let $=0;$<V;$++)l[S[$]]=j}else D?this.options.visualElement.renderState.vars[k]=j:l[k]=j}this.options.layoutId&&(l.pointerEvents=p===this?Uh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(uE),this.root.sharedNodes.clear()}}}function q9(t){t.updateLayout()}function H9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ar(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Bn(v);v.min=n[g].min,v.max=v.min+w}):vR(s,e.layoutBox,n)&&Ar(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Bn(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=ll();su(l,n,e.layoutBox);const u=ll();o?su(u,t.applyTransform(r,!0),e.measuredBox):su(u,n,e.layoutBox);const d=!pR(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const T=kt();iu(T,e.layoutBox,v.layoutBox);const k=kt();iu(k,n,w.layoutBox),mR(T,k)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function G9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Q9(t){t.clearSnapshot()}function uE(t){t.clearMeasurements()}function dE(t){t.isLayoutDirty=!1}function Y9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function X9(t){t.resolveTargetDelta()}function J9(t){t.calcProjection()}function Z9(t){t.resetSkewAndRotation()}function e8(t){t.removeLeadSnapshot()}function fE(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pE(t,e,n,r){t.min=vt(e.min,n.min,r),t.max=vt(e.max,n.max,r)}function t8(t,e,n,r){pE(t.x,e.x,n.x,r),pE(t.y,e.y,n.y,r)}function n8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const r8={duration:.45,ease:[.4,0,.1,1]},mE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gE=mE("applewebkit/")&&!mE("chrome/")?Math.round:Nr;function yE(t){t.min=gE(t.min),t.max=gE(t.max)}function s8(t){yE(t.x),yE(t.y)}function vR(t,e,n){return t==="position"||t==="preserve-aspect"&&!u9(lE(e),lE(n),.2)}function i8(t){return t!==t.root&&t.scroll?.wasRoot}const o8=yR({attachResizeListener:(t,e)=>Cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pg={current:void 0},wR=yR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pg.current){const t=new o8({});t.mount(window),t.setOptions({layoutScroll:!0}),pg.current=t}return pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),a8={pan:{Feature:S9},drag:{Feature:T9,ProjectionNode:wR,MeasureLayout:dR}};function vE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&pt.postRender(()=>o(e,Xu(e)))}class l8 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=AF(e,(n,r)=>(vE(this.node,r,"Start"),s=>vE(this.node,s,"End"))))}unmount(){}}class c8 extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Cu(this.node.current,"focus",()=>this.onFocus()),Cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&pt.postRender(()=>o(e,Xu(e)))}class u8 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=jF(e,(n,r)=>(wE(this.node,r,"Start"),(s,{success:o})=>wE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,mg=new WeakMap,d8=t=>{const e=by.get(t.target);e&&e(t)},h8=t=>{t.forEach(d8)};function f8({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const r=mg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(h8,{root:t,...e})),r[s]}function p8(t,e,n){const r=f8(e);return by.set(t,n),r.observe(t),()=>{by.delete(t),r.unobserve(t)}}const m8={some:0,all:1};class g8 extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:m8[s]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(d)};return p8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(y8(e,n))&&this.startObserver()}unmount(){}}function y8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v8={inView:{Feature:g8},tap:{Feature:u8},focus:{Feature:c8},hover:{Feature:l8}},w8={layout:{ProjectionNode:wR,MeasureLayout:dR}},x8={...s9,...v8,...a8,...w8},Se=x7(x8,j7),Dv=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=x.useState(n==="login"),[o,l]=x.useState(""),[u,d]=x.useState(""),[p,g]=x.useState(!1),[v,w]=x.useState(""),[T,k]=x.useState(""),A=async D=>{D.preventDefault(),g(!0),w(""),k("");try{r?(await AT(Ue,o,u),e()):(await RT(Ue,o,u),k("Account created successfully! You can now sign in."),s(!0))}catch(j){j instanceof Error?w(j.message):w("An unexpected error occurred")}finally{g(!1)}},S=async()=>{try{await UT(Ue,BC),e()}catch(D){D instanceof Error?w(D.message):w("An unexpected error occurred")}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:h.jsxs("div",{className:"p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),h.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h.jsxs("button",{type:"button",onClick:S,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),h.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[h.jsx("div",{className:"border-t border-gray-200 w-full"}),h.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:o,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",required:!0,value:u,onChange:D=>d(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&h.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&h.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),h.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})};function b8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Lv=x.forwardRef(b8);function _8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const E8=x.forwardRef(_8);function T8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const xE=x.forwardRef(T8);function S8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const bE=x.forwardRef(S8);function C8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const _y=x.forwardRef(C8);function I8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const R8=x.forwardRef(I8);function A8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const ml=x.forwardRef(A8);function k8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const xR=x.forwardRef(k8);function P8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const _E=x.forwardRef(P8);function N8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const j8=x.forwardRef(N8);function D8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const L8=x.forwardRef(D8);function M8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const V8=x.forwardRef(M8);function O8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const F8=x.forwardRef(O8);function U8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const B8=x.forwardRef(U8);function z8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $8=x.forwardRef(z8);function W8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const q8=x.forwardRef(W8);function H8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const G8=x.forwardRef(H8);function K8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const EE=x.forwardRef(K8);function Q8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const Y8=x.forwardRef(Q8);function X8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const TE=x.forwardRef(X8);function J8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const SE=x.forwardRef(J8);function Z8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Iu=x.forwardRef(Z8);function eU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const tU=x.forwardRef(eU);function nU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const rU=x.forwardRef(nU);function sU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const iU=x.forwardRef(sU);function oU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const bR=x.forwardRef(oU);function aU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const lU=x.forwardRef(aU);function cU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const _R=x.forwardRef(cU);function uU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const CE=x.forwardRef(uU);function dU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const IE=x.forwardRef(dU);function hU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fU=x.forwardRef(hU);function pU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const mU=x.forwardRef(pU);function gU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const RE=x.forwardRef(gU);function yU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const AE=x.forwardRef(yU);function vU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M7.5 5.25a3 3 0 0 1 3-3h3a3 3 0 0 1 3 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v3.033c0 1.211-.734 2.352-1.936 2.752A24.726 24.726 0 0 1 12 15.75c-2.73 0-5.357-.442-7.814-1.259-1.202-.4-1.936-1.541-1.936-2.752V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 0 1 7.5 5.455V5.25Zm7.5 0v.09a49.488 49.488 0 0 0-6 0v-.09a1.5 1.5 0 0 1 1.5-1.5h3a1.5 1.5 0 0 1 1.5 1.5Zm-3 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}),x.createElement("path",{d:"M3 18.4v-2.796a4.3 4.3 0 0 0 .713.31A26.226 26.226 0 0 0 12 17.25c2.892 0 5.68-.468 8.287-1.335.252-.084.49-.189.713-.311V18.4c0 1.452-1.047 2.728-2.523 2.923-2.12.282-4.282.427-6.477.427a49.19 49.19 0 0 1-6.477-.427C4.047 21.128 3 19.852 3 18.4Z"}))}const kE=x.forwardRef(vU);function wU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const PE=x.forwardRef(wU);function xU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),x.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const NE=x.forwardRef(xU);function bU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const jE=x.forwardRef(bU);function _U({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const EU=x.forwardRef(_U);function TU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const DE=x.forwardRef(TU),ER=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(null),[s,o]=x.useState(""),[l,u]=x.useState(0),[d,p]=x.useState(0),g=Lr(),v=nr();x.useEffect(()=>{const j=Nl(Ue,V=>{r(V)});return()=>j()},[]),x.useEffect(()=>{if(!n){u(0);return}const j=Nt(st(we,"notifications"),xt("recipientId","==",n.uid),xt("read","==",!1)),V=Sl(j,$=>{u($.size)});return()=>V()},[n]),x.useEffect(()=>{if(!n){p(0);return}const j=Nt(st(we,"conversations"),xt("participants","array-contains",n.uid)),V=Sl(j,$=>{let H=0;$.docs.forEach(B=>{const I=B.data();I.lastMessage&&I.lastMessage.senderId!==n.uid&&I.lastMessage.read===!1&&H++}),p(H)});return()=>V()},[n]);const w=async()=>{try{await Kj(Ue)}catch(j){console.error("Error signing out:",j)}},T=()=>{window.innerWidth<1024&&v("/explore")},k=[{name:"Home",path:"/",icon:TE,activeIcon:NE},{name:"Projects",path:"/projects",icon:ml,activeIcon:kE},{name:"Students",path:"/students",icon:CE,activeIcon:DE},{name:"Resources",path:"/resources",icon:_y,activeIcon:AE},{name:"Notifications",path:"/notifications",icon:bE,activeIcon:RE}],A=j=>j==="/"&&g.pathname!=="/"?!1:g.pathname.startsWith(j),S=()=>h.jsxs("div",{className:"lg:hidden fixed top-0 w-full bg-white border-b border-gray-200 z-50 h-16 px-4 flex items-center justify-between gap-3",children:[h.jsx(Mt,{to:"/",className:"shrink-0",children:h.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"})}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Iu,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:j=>o(j.target.value),onClick:T,className:"block w-full pl-9 pr-3 py-2 bg-[#edf3f8] border-transparent rounded-full text-sm transition-all focus:bg-white focus:ring-1 focus:ring-blue-100 focus:w-full border"})]}),h.jsxs("div",{className:"shrink-0 flex items-center gap-3",children:[h.jsxs(Mt,{to:"/messages",className:"relative text-gray-500",children:[h.jsx(_E,{className:"h-7 w-7"}),d>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),n?h.jsx(Mt,{to:"/profile",className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-xs overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}):h.jsx("button",{onClick:()=>e(!0),className:"text-sm font-bold text-[#0066FF]",children:"Join"})]})]}),D=()=>h.jsx("div",{className:"lg:hidden fixed bottom-0 w-full bg-white border-t border-gray-200 z-50 h-16 pb-safe flex items-center justify-around px-2",children:k.map(j=>{const V=A(j.path),$=V?j.activeIcon:j.icon;return h.jsxs(Mt,{to:j.path,className:`flex flex-col items-center justify-center w-full h-full transition-colors ${V?"text-[#0066FF]":"text-gray-500"}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx($,{className:"h-7 w-7"}),j.name==="Notifications"&&l>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:l})]}),h.jsx("span",{className:"text-[10px] font-medium mt-1",children:j.name})]},j.name)})});return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden lg:block fixed top-0 left-0 w-full h-16 bg-white border-b border-gray-200 z-50 transition-all duration-300",children:h.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md",children:[h.jsxs(Mt,{to:"/",className:"shrink-0 flex items-center gap-1",children:[h.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"}),h.jsx("span",{className:"text-xl font-black text-[#0066FF] tracking-tighter",children:"CollabX"})]}),h.jsxs("div",{className:"relative flex-1 ml-4",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Iu,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:j=>o(j.target.value),className:"block w-full pl-9 pr-3 py-1.5 bg-[#edf3f8] border-transparent rounded-md text-sm transition-all focus:bg-white focus:ring-1 focus:ring-gray-300 focus:w-full border"})]})]}),h.jsxs("div",{className:"flex items-center h-full ml-auto",children:[h.jsxs(Mt,{to:"/",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/")?h.jsx(NE,{className:"h-6 w-6"}):h.jsx(TE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Home"})]}),h.jsxs(Mt,{to:"/projects",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/projects")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/projects")?h.jsx(kE,{className:"h-6 w-6"}):h.jsx(ml,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Projects"})]}),h.jsxs(Mt,{to:"/students",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/students")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/students")?h.jsx(DE,{className:"h-6 w-6"}):h.jsx(CE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Students"})]}),h.jsxs(Mt,{to:"/resources",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/resources")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/resources")?h.jsx(AE,{className:"h-6 w-6"}):h.jsx(_y,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Resources"})]}),h.jsx("div",{className:"h-8 w-[1px] bg-gray-200 mx-2"}),h.jsxs(Mt,{to:"/messages",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[h.jsx(_E,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Messaging"}),d>0&&h.jsx("span",{className:"absolute top-2 right-6 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),h.jsxs(Mt,{to:"/notifications",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[A("/notifications")?h.jsx(RE,{className:"h-6 w-6"}):h.jsx(bE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Notifications"}),l>0&&h.jsx("span",{className:"absolute top-2 right-5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:l})]}),n?h.jsxs("div",{className:"relative group ml-4",children:[h.jsxs("button",{className:"flex flex-col items-center justify-center w-16 h-full text-gray-500 hover:text-gray-900 transition-all",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-[#0066FF] overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium flex items-center gap-0.5",children:"Me"})]}),h.jsxs("div",{className:"absolute right-0 top-16 w-64 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all py-2 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-lg font-bold text-[#0066FF] overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-sm font-bold text-gray-900",children:n.displayName||"Contributor"}),h.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:n.email})]})]}),h.jsx(Mt,{to:"/profile",className:"mt-3 block w-full text-center py-1 border border-[#0066FF] text-[#0066FF] rounded-full text-sm font-bold hover:bg-blue-50 transition-all",children:"View Profile"})]}),h.jsx("button",{onClick:w,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-100",children:"Sign Out"})]})]}):h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Log in"}),h.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Join Now"})]})]})]})}),h.jsx(S,{}),h.jsx(D,{}),h.jsx(Dv,{isOpen:t,onClose:()=>e(!1)})]})},SU=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return h.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:h.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[h.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:h.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),h.jsxs(Se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",h.jsx("br",{}),h.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),h.jsx(Se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),h.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:h.jsxs("div",{className:"relative flex items-center",children:[h.jsx("div",{className:"absolute left-4 text-gray-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),h.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[h.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),h.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),h.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>h.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},TR=async(t,e)=>{try{return(await yi(st(we,"projects"),{...e,ownerId:t,members:[t],pendingRequests:[],createdAt:rn(),updatedAt:rn()})).id}catch(n){throw console.error("Error adding project:",n),n}},CU=async(t,e)=>{try{const n=it(we,"projects",t);await Us(n,{...e,updatedAt:rn()})}catch(n){throw console.error("Error updating project:",n),n}},IU=async t=>{try{await bC(it(we,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},RU=async t=>{const e=Ue.currentUser;if(!e)throw new Error("Must be logged in to join projects");try{const n=it(we,"projects",t);await Us(n,{pendingRequests:TM(e.uid)});const s=(await rs(n)).data();s&&await yi(st(we,"notifications"),{recipientId:s.ownerId,senderId:e.uid,type:"project_request",projectId:t,projectName:s.title,read:!1,createdAt:rn()})}catch(n){throw console.error("Error requesting to join project:",n),n}},AU=async()=>{try{const t=Nt(st(we,"projects"),bo("createdAt","desc"));return(await tr(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching projects:",t),t}},kU=async t=>{try{const e=Nt(st(we,"projects"),xt("members","array-contains",t),bo("createdAt","desc"));return(await tr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching user projects:",e),[]}},SR=["fuck","fucker","fucking","fucked","fck","fuk","fuking","fuckin","fuckoff","motherfucker","motherfucking","shit","shitting","shitty","bullshit","sh1t","shiit","ass","asshole","asses","arsehole","arse","bitch","bitches","bitchy","b1tch","cunt","cunts","dick","dicks","dickhead","piss","pissed","pissing","pussy","pussies","whore","wh0re","nigger","nigga","n1gger","n1gga","faggot","fag","faggots","retard","retarded","cock","cocks","cocksucker","bastard","bastards","damn","damned","dammit","crap","crappy","slut","sluts","slutty","wanker","wankers","twat","twats","bollocks","bloody","prick","pricks","jackass","dumbass","douche","douchebag","a$$","a$$hole","b!tch","sh!t","f*ck","p*ssy"],CR=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),gl=t=>{if(!t||typeof t!="string")return{hasProfanity:!1,foundWords:[]};const e=t.toLowerCase(),n=[];for(const r of SR){const s=CR(r);new RegExp(`\\b${s}\\b`,"gi").test(e)&&n.push(r)}return{hasProfanity:n.length>0,foundWords:[...new Set(n)]}},_h=t=>{if(!t||typeof t!="string")return t;let e=t;for(const n of SR){const r=CR(n),s=new RegExp(`\\b${r}\\b`,"gi");e=e.replace(s,"*".repeat(n.length))}return e},Mv=t=>"Your content contains inappropriate language. Please remove offensive words and try again.",IR=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=x.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"}),[o,l]=x.useState(!1),[u,d]=x.useState(""),[p,g]=x.useState(!1),v=async w=>{if(w.preventDefault(),!Ue.currentUser)return;const T=gl(r.title),k=gl(r.description);if(T.hasProfanity||k.hasProfanity){d(Mv());return}l(!0),d("");try{await TR(Ue.currentUser.uid,{title:r.title,description:r.description,category:r.category,ownerName:Ue.currentUser.displayName||"Anonymous",ownerAvatar:Ue.currentUser.photoURL||"",githubUrl:r.githubUrl,liveUrl:r.liveUrl,techStack:r.tags.split(",").map(A=>A.trim()),rolesNeeded:r.rolesNeeded.split(",").map(A=>A.trim()),status:"Open",thumbnailUrl:`https://source.unsplash.com/random/800x600?tech,${r.category}`,updatedAt:null}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"})},2e3)}catch(A){console.error("Error submitting project:",A),d("Failed to submit project. Please try again.")}finally{l(!1)}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:h.jsxs("div",{className:"p-6 md:p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-5xl mb-4",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),h.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),h.jsx("input",{type:"text",required:!0,value:r.title,onChange:w=>s({...r,title:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{required:!0,value:r.description,onChange:w=>s({...r,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),h.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:w=>s({...r,githubUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),h.jsx("input",{type:"url",value:r.liveUrl,onChange:w=>s({...r,liveUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{value:r.category,onChange:w=>s({...r,category:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{children:"AI/ML"}),h.jsx("option",{children:"Web Dev"}),h.jsx("option",{children:"Mobile"}),h.jsx("option",{children:"Blockchain"}),h.jsx("option",{children:"Design"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles Needed"}),h.jsx("input",{type:"text",value:r.rolesNeeded,onChange:w=>s({...r,rolesNeeded:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Frontend, Designer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tech Stack (comma separated)"}),h.jsx("input",{type:"text",value:r.tags,onChange:w=>s({...r,tags:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, tailwind, firebase"})]}),u&&h.jsx("p",{className:"text-red-500 text-sm",children:u}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Submitting...":"Submit Project"})]})]})]})})]})})},PU=()=>{const[t,e]=x.useState("All"),[n,r]=x.useState(""),[s,o]=x.useState([]),[l,u]=x.useState(!0),[d,p]=x.useState(null),[g,v]=x.useState(!1),[w,T]=x.useState(!1),[k,A]=x.useState(""),[S,D]=x.useState(!1);x.useEffect(()=>{j();const I=Nl(Ue,R=>{p(R)});return()=>I()},[]);const j=async()=>{try{const I=st(we,"projects"),R=Nt(I,bo("created_at","desc")),L=(await tr(R)).docs.map(O=>({id:O.id,...O.data()}));o(L)}catch(I){console.error("Error fetching projects:",I)}finally{u(!1)}},V=async I=>{if(I.preventDefault(),!!k)try{await yi(st(we,"newsletter_subscribers"),{email:k,created_at:rt.now()}),D(!0),A(""),setTimeout(()=>D(!1),3e3)}catch(R){console.error("Error subscribing:",R)}},$=()=>{d?T(!0):v(!0)},H=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],B=s.filter(I=>{const R=t==="All"||I.category===t,N=I.title.toLowerCase().includes(n.toLowerCase())||I.description.toLowerCase().includes(n.toLowerCase())||I.tags.some(L=>L.toLowerCase().includes(n.toLowerCase()));return R&&N});return h.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[h.jsxs("div",{children:[h.jsx(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),h.jsx(Se.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),h.jsx(Se.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),h.jsxs(Se.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:I=>r(I.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),h.jsxs("button",{onClick:$,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsxs("div",{className:"lg:w-3/4",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:H.map(I=>h.jsx("button",{onClick:()=>e(I),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===I?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:I},I))}),l?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:B.map(I=>h.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden",children:[h.jsx("img",{src:I.image_url,alt:I.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-4 left-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:I.category})})]}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("img",{src:I.author_avatar,alt:I.author,className:"w-8 h-8 rounded-full border border-gray-100"}),h.jsx("span",{className:"text-sm font-medium text-gray-600",children:I.author}),h.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(I.created_at).toLocaleDateString()]})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:I.title}),h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:I.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:I.tags.map(R=>h.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",R]},R))}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),I.likes]}),h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),I.comments]})]}),h.jsxs("a",{href:I.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},I.id))}),!l&&B.length===0&&h.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),h.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>h.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${I}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),h.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},I))}),h.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),h.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),h.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),h.jsxs("form",{onSubmit:V,className:"relative z-10",children:[h.jsx("input",{type:"email",placeholder:"Your email",value:k,onChange:I=>A(I.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),h.jsx("button",{type:"submit",disabled:S,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:S?"Subscribed!":"Subscribe"})]})]})]})]})]}),h.jsx(Dv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(IR,{isOpen:w,onClose:()=>T(!1),onSuccess:j})]})},NU=()=>{const t=nr(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(!1),[u,d]=x.useState(!1),[p,g]=x.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});x.useEffect(()=>{v();const S=Nl(Ue,async D=>{if(D)try{const j=await rs(it(we,"users",D.uid));j.exists()&&l(j.data().role==="admin"||j.data().isAdmin===!0)}catch(j){console.error("Error checking admin status:",j),l(!1)}else l(!1)});return()=>S()},[]);const v=async()=>{try{const S=st(we,"resources"),D=Nt(S),V=(await tr(D)).docs.map($=>({id:$.id,...$.data()}));V.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(V)}catch(S){console.error("Error fetching resources:",S)}finally{s(!1)}},w=async S=>{if(S.preventDefault(),!(!p.title||!p.description))try{await yi(st(we,"resources"),p),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(D){console.error("Error adding resource:",D)}},T=async(S,D)=>{if(D.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await bC(it(we,"resources",S)),v()}catch(j){console.error("Error deleting resource:",j)}},k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},A={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return h.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"container-custom relative z-10",children:[h.jsxs(Se.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),o&&h.jsx("div",{className:"mb-8 flex justify-center",children:h.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&h.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:S=>g({...p,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsx("textarea",{placeholder:"Description",value:p.description,onChange:S=>g({...p,description:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:S=>g({...p,icon:S.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),h.jsxs("select",{value:p.color,onChange:S=>g({...p,color:S.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[h.jsx("option",{value:"badge-blue",children:"Blue"}),h.jsx("option",{value:"badge-yellow",children:"Yellow"}),h.jsx("option",{value:"badge-green",children:"Green"}),h.jsx("option",{value:"badge-purple",children:"Purple"}),h.jsx("option",{value:"badge-red",children:"Red"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx(Se.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:k,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(S=>h.jsxs(Se.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:A,whileHover:{scale:1.03},onClick:()=>t(`/resource/${S.id}`),children:[o&&h.jsx("button",{onClick:D=>T(S.id,D),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:S.icon})}),h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:S.title}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:S.description}),h.jsx("div",{className:"mt-auto text-center",children:h.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",h.jsx("span",{children:""})]})})]},S.id))})]})]})},RR=async t=>{const e=Ue.currentUser;if(!e)throw new Error("User not authenticated");const n=[e.uid,t].sort(),r=n.join("_"),s=it(we,"conversations",r);return(await rs(s)).exists()||await Xf(s,{id:r,participants:n,createdAt:rn(),updatedAt:rn(),createdBy:e.uid,isTyping:{}}),r},I$=async(t,e,n="text",r)=>{const s=Ue.currentUser;if(!s)throw new Error("User not authenticated");const o=st(we,"conversations",t,"messages"),l=it(we,"conversations",t);await yi(o,{conversationId:t,senderId:s.uid,content:e,type:n,attachments:[],createdAt:rn(),read:!1}),await Us(l,{lastMessage:{content:e,senderId:s.uid,createdAt:rn(),type:n,read:!1},updatedAt:rn()})},R$=t=>{const e=Ue.currentUser;if(!e)return()=>{};const n=Nt(st(we,"conversations"),xt("participants","array-contains",e.uid),bo("updatedAt","desc"));return Sl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));t(s)})},A$=(t,e)=>{const n=Nt(st(we,"conversations",t,"messages"),bo("createdAt","asc"),G0(100));return Sl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},k$=async(t,e)=>{const n=it(we,"conversations",t,"messages",e);await Us(n,{read:!0,readAt:rn()})},P$=(t,e)=>{const n=Nt(st(we,"notifications"),xt("recipientId","==",t),bo("createdAt","desc"),G0(20));return Sl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},N$=async t=>{try{await Us(it(we,"notifications",t),{read:!0})}catch(e){console.error("Error marking notification as read:",e)}},AR=async t=>{try{await yi(st(we,"notifications"),{...t,read:!1,createdAt:rn()})}catch(e){console.error("Error creating notification:",e)}},LE=20,kR=async(t,e)=>{const n=Ue.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=it(we,"userActivity",`${n.uid}_${r}`),o=await rs(s);if(o.exists()&&o.data().connectionRequestsSent>=LE)throw new Error(`Daily limit of ${LE} requests reached.`);const l=it(we,"blocks",`${t}_${n.uid}`);if((await rs(l)).exists())throw new Error("This user has blocked you.");const d=st(we,"connections"),p=Nt(d,xt("requesterId","==",n.uid),xt("recipientId","==",t));if(!(await tr(p)).empty)throw new Error("Connection request already exists.");await yi(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:rn(),updatedAt:rn()}),await AR({recipientId:t,senderId:n.uid,senderName:n.displayName||"User",senderAvatar:n.photoURL||void 0,type:"connection_request",message:"sent you a connection request."}),await Xf(s,{userId:n.uid,date:r,connectionRequestsSent:EC(1)},{merge:!0})},jU=async(t,e)=>{const n=it(we,"connections",t);await Us(n,{status:"accepted",updatedAt:rn()});const r=Ue.currentUser;r&&await AR({recipientId:e,senderId:r.uid,senderName:r.displayName||"User",senderAvatar:r.photoURL||void 0,type:"connection_accepted",message:"accepted your connection request."})},DU=async t=>{const e=it(we,"connections",t);await Us(e,{status:"ignored",updatedAt:rn()})},LU=async t=>{const e=Ue.currentUser;if(!e)return"none";const n=st(we,"connections"),r=Nt(n,xt("requesterId","==",e.uid),xt("recipientId","==",t)),s=await tr(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const o=Nt(n,xt("requesterId","==",t),xt("recipientId","==",e.uid)),l=await tr(o);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},MU=async()=>{const t=Ue.currentUser;if(!t)return[];const e=st(we,"connections"),n=Nt(e,xt("recipientId","==",t.uid),xt("status","==","pending"),bo("createdAt","desc"));return(await tr(n)).docs.map(s=>({id:s.id,...s.data()}))},VU=async t=>{const e=st(we,"connections"),n=Nt(e,xt("requesterId","==",t),xt("status","==","accepted")),r=Nt(e,xt("recipientId","==",t),xt("status","==","accepted")),[s,o]=await Promise.all([t_(n),t_(r)]);return s.data().count+o.data().count},PR=({student:t,onClick:e})=>{const[n,r]=x.useState("none"),[s,o]=x.useState(!1),l=Ue.currentUser,u=nr(),d=async w=>{if(w.stopPropagation(),!!l)try{const T=await RR(t.uid);u(`/messages?conversationId=${T}`)}catch(T){console.error("Error starting conversation:",T)}};x.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const T=await LU(t.uid);r(T)}catch(T){console.error("Error fetching status:",T)}})()},[t.uid,l]);const p=async w=>{if(w.stopPropagation(),!!l){o(!0);try{await kR(t.uid),r("pending")}catch(T){const k=T;console.error("Error connecting:",k),alert(k.message)}finally{o(!1)}}},g=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},v=n==="pending"||n==="connected"||t.uid===l?.uid;return h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[h.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:h.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:h.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:h.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),h.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[h.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((w,T)=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:w},T)),t.skills?.length>3&&h.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),h.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[h.jsx("button",{onClick:p,disabled:v||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:g()}),h.jsx("button",{onClick:d,className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"Message"})]})]})]})},OU=()=>{const t=nr(),[e,n]=x.useState([]);return x.useEffect(()=>{(async()=>{try{const s=st(we,"users"),o=Nt(s,G0(8)),u=(await tr(o)).docs.map(d=>{const p=d.data();return{uid:d.id,...p,name:p.name||p.full_name||"Anonymous",avatar:p.avatar||p.avatar_url||"",institution:p.institution||p.university||"University",skills:p.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),h.jsx("section",{id:"community",className:"py-24 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[h.jsxs("div",{className:"max-w-2xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),h.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?h.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>h.jsx(PR,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})};var Ey=function(t,e){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ey(t,e)};function FU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ey(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jt=function(){return Jt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jt.apply(this,arguments)};var gg,ME;function UU(){if(ME)return gg;ME=1;var t=!1,e,n,r,s,o,l,u,d,p,g,v,w,T,k,A;function S(){if(!t){t=!0;var j=navigator.userAgent,V=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),$=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(w=/\b(iPhone|iP[ao]d)/.exec(j),T=/\b(iP[ao]d)/.exec(j),g=/Android/i.exec(j),k=/FBAN\/\w+;/i.exec(j),A=/Mobile/i.exec(j),v=!!/Win64/.exec(j),V){e=V[1]?parseFloat(V[1]):V[5]?parseFloat(V[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var H=/(?:Trident\/(\d+.\d+))/.exec(j);l=H?parseFloat(H[1])+4:e,n=V[2]?parseFloat(V[2]):NaN,r=V[3]?parseFloat(V[3]):NaN,s=V[4]?parseFloat(V[4]):NaN,s?(V=/(?:Chrome\/(\d+\.\d+))/.exec(j),o=V&&V[1]?parseFloat(V[1]):NaN):o=NaN}else e=n=r=o=s=NaN;if($){if($[1]){var B=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=B?parseFloat(B[1].replace("_",".")):!0}else u=!1;d=!!$[2],p=!!$[3]}else u=d=p=!1}}var D={ie:function(){return S()||e},ieCompatibilityMode:function(){return S()||l>e},ie64:function(){return D.ie()&&v},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return D.webkit()},chrome:function(){return S()||o},windows:function(){return S()||d},osx:function(){return S()||u},linux:function(){return S()||p},iphone:function(){return S()||w},mobile:function(){return S()||w||T||g||A},nativeApp:function(){return S()||k},android:function(){return S()||g},ipad:function(){return S()||T}};return gg=D,gg}var yg,VE;function BU(){if(VE)return yg;VE=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return yg=e,yg}var vg,OE;function zU(){if(OE)return vg;OE=1;var t=BU(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var o="on"+r,l=o in document;if(!l){var u=document.createElement("div");u.setAttribute(o,"return;"),l=typeof u[o]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return vg=n,vg}var wg,FE;function $U(){if(FE)return wg;FE=1;var t=UU(),e=zU(),n=10,r=40,s=800;function o(l){var u=0,d=0,p=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),p=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||g)&&l.deltaMode&&(l.deltaMode==1?(p*=r,g*=r):(p*=s,g*=s)),p&&!u&&(u=p<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:p,pixelY:g}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},wg=o,wg}var xg,UE;function WU(){return UE||(UE=1,xg=$U()),xg}var qU=WU();const HU=o2(qU);function GU(t,e,n,r,s,o){o===void 0&&(o=0);var l=Rl(t,e,o),u=l.width,d=l.height,p=Math.min(u,n),g=Math.min(d,r);return p>g*s?{width:g*s,height:g}:{width:p,height:p/s}}function KU(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Oc(t,e,n,r,s){s===void 0&&(s=0);var o=Rl(e.width,e.height,s),l=o.width,u=o.height;return{x:BE(t.x,l,n.width,r),y:BE(t.y,u,n.height,r)}}function BE(t,e,n,r){var s=e*r/2-n/2;return sp(t,-s,s)}function zE(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function $E(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function QU(t,e,n,r,s,o,l){o===void 0&&(o=0),l===void 0&&(l=!0);var u=l?YU:XU,d=Rl(e.width,e.height,o),p=Rl(e.naturalWidth,e.naturalHeight,o),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(p.width,g.width*p.width/100)),w=Math.round(u(p.height,g.height*p.height/100)),T=p.width>=p.height*r,k=T?{width:Math.round(w*r),height:w}:{width:v,height:Math.round(v/r)},A=Jt(Jt({},k),{x:Math.round(u(p.width-k.width,g.x*p.width/100)),y:Math.round(u(p.height-k.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:A}}function YU(t,e){return Math.min(t,Math.max(0,e))}function XU(t,e){return e}function JU(t,e,n,r,s,o){var l=Rl(e.width,e.height,n),u=sp(r.width/l.width*(100/t.width),s,o),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function ZU(t,e,n){var r=KU(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function eB(t,e,n,r,s,o){n===void 0&&(n=0);var l=Rl(e.naturalWidth,e.naturalHeight,n),u=sp(ZU(t,e,r),s,o),d=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:p,zoom:u}}function WE(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function tB(t){return t*Math.PI/180}function Rl(t,e,n){var r=tB(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function sp(t,e,n){return Math.min(Math.max(t,e),n)}function Eh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var nB=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,rB=1,sB=3,iB=1,oB=(function(t){FU(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=x.createRef(),n.imageRef=x.createRef(),n.videoRef=x.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=JU(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=s.crop,l=s.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=eB(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=u.crop,l=u.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,o,l,u,d,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,w=((o=n.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=p.offsetWidth<v||p.offsetHeight<w,k=v/w,A=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":A=g>k?{width:n.containerRect.height*k,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/k};break;case"horizontal-cover":A={width:n.containerRect.width,height:n.containerRect.width/k};break;case"vertical-cover":A={width:n.containerRect.height*k,height:n.containerRect.height};break}else A={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Jt(Jt({},A),{naturalWidth:v,naturalHeight:w}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:GU(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),o=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,o,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Jt({},n.props.crop),(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s)},n.onDrag=function(r){var s=r.x,o=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||o===void 0)){var l=s-n.dragStartPosition.x,u=o-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},p=n.props.restrictPosition?Oc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),o=HU(r).pixelY,l=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var o=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(o-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,o=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(o+u.y)/d}},n.setNewZoom=function(r,s,o){var l=o===void 0?{}:o,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=sp(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),w={x:v.x*p-g.x,y:v.y*p-g.y},T=n.props.restrictPosition?Oc(w,n.mediaSize,n.state.cropSize,p,n.props.rotation):w;n.props.onCropChange(T)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Oc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return QU(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,o),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var o=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;o={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var p=n.props.restrictPosition?Oc(o,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):o;n.previousCropSize=n.state.cropSize,n.props.onCropChange(p),n.emitCropData()}},n.onKeyDown=function(r){var s,o,l=n.props,u=l.crop,d=l.onCropChange,p=l.keyboardStep,g=l.zoom,v=l.rotation,w=p;if(n.state.cropSize){r.shiftKey&&(w*=.2);var T=Jt({},u);switch(r.key){case"ArrowUp":T.y-=w,r.preventDefault();break;case"ArrowDown":T.y+=w,r.preventDefault();break;case"ArrowLeft":T.x-=w,r.preventDefault();break;case"ArrowRight":T.x+=w,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=Oc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s),d(T)}},n.onKeyUp=function(r){var s,o;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(o=(s=n.props).onInteractionEnd)===null||o===void 0||o.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=nB,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,o,l,u,d,p,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((o=n.cropSize)===null||o===void 0?void 0:o.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,o;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=d/p;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=zE(r,s),this.lastPinchRotation=$E(r,s),this.onDragStart(WE(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),o=e.getTouchPoint(n.touches[1]),l=WE(s,o);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=zE(s,o),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=$E(s,o),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},e.prototype.render=function(){var n=this,r,s=this.props,o=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,p=s.transform,g=s.crop,v=g.x,w=g.y,T=s.rotation,k=s.zoom,A=s.cropShape,S=s.showGrid,D=s.roundCropAreaPixels,j=s.style,V=j.containerStyle,$=j.cropAreaStyle,H=j.mediaStyle,B=s.classes,I=B.containerClassName,R=B.cropAreaClassName,N=B.mediaClassName,L=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(q){return n.containerRef=q},"data-testid":"container",style:V,className:Eh("reactEasyCrop_Container",I)},o?x.createElement("img",Jt({alt:"",className:Eh("reactEasyCrop_Image",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{src:o,ref:this.imageRef,style:Jt(Jt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):l&&x.createElement("video",Jt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Eh("reactEasyCrop_Video",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Jt(Jt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(O){return x.createElement("source",Jt({key:O.src},O))})),this.state.cropSize&&x.createElement("div",Jt({ref:this.cropperRef,style:Jt(Jt({},$),{width:D?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:D?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Eh("reactEasyCrop_CropArea",A==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",R)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:sB,minZoom:rB,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:iB},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(x.Component);const aB=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=x.useState(null),[o,l]=x.useState({x:0,y:0}),[u,d]=x.useState(1),[p,g]=x.useState(null),[v,w]=x.useState(!1),[T,k]=x.useState(!1),A=x.useCallback(($,H)=>{g(H)},[]),S=async $=>{if($.target.files&&$.target.files.length>0){const H=$.target.files[0],B=new FileReader;B.addEventListener("load",()=>{s(B.result),k(!0)}),B.readAsDataURL(H)}},D=$=>new Promise((H,B)=>{const I=new Image;I.addEventListener("load",()=>H(I)),I.addEventListener("error",R=>B(R)),I.setAttribute("crossOrigin","anonymous"),I.src=$}),j=async($,H)=>{const B=await D($),I=document.createElement("canvas"),R=I.getContext("2d");if(!R)throw new Error("No 2d context");return I.width=H.width,I.height=H.height,R.drawImage(B,H.x,H.y,H.width,H.height,0,0,H.width,H.height),new Promise((N,L)=>{I.toBlob(O=>{if(!O){L(new Error("Canvas is empty"));return}N(O)},"image/jpeg")})},V=async()=>{if(!(!r||!p)){w(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const $=await j(r,p);console.log("Image cropped successfully");const H=`avatars/${t}_${Date.now()}.jpg`,B=DV(UV,H);console.log("Uploading to Storage:",H);const I=await NV(B,$);console.log("Upload complete");const R=await jV(I.ref);console.log("Download URL obtained:",R),console.log("Updating Firestore..."),await Us(it(we,"users",t),{avatar:R}),console.log("Firestore updated"),n(R),k(!1),s(null)}catch($){console.error("Detailed upload error:",$),alert("Failed to save image. Please check your internet connection or try again.")}finally{w(!1)}}};return h.jsxs("div",{className:"relative group",children:[h.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[h.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),h.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"}),h.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),h.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),h.jsx(Os,{children:T&&r&&h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),h.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),h.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),h.jsx("div",{className:"relative h-96 bg-gray-900",children:h.jsx(oB,{image:r,crop:o,zoom:u,aspect:1,onCropChange:l,onCropComplete:A,onZoomChange:d})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),h.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:$=>d(Number($.target.value)),className:"flex-grow accent-[#0066FF]"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),h.jsx("button",{onClick:V,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function lB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Vv(t){return"nodeType"in t}function rr(t){var e,n;return t?Wl(t)?t:Vv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ov(t){const{Document:e}=rr(t);return t instanceof e}function Ju(t){return Wl(t)?!1:t instanceof rr(t).HTMLElement}function NR(t){return t instanceof rr(t).SVGElement}function ql(t){return t?Wl(t)?t.document:Vv(t)?Ov(t)?t:Ju(t)||NR(t)?t.ownerDocument:document:document:document}const Fs=ip?x.useLayoutEffect:x.useEffect;function Fv(t){const e=x.useRef(t);return Fs(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function cB(){const t=x.useRef(null),e=x.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ru(t,e){e===void 0&&(e=[t]);const n=x.useRef(t);return Fs(()=>{n.current!==t&&(n.current=t)},e),n}function Zu(t,e){const n=x.useRef();return x.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function wf(t){const e=Fv(t),n=x.useRef(null),r=x.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function Ty(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let bg={};function ed(t,e){return x.useMemo(()=>{if(e)return e;const n=bg[t]==null?0:bg[t]+1;return bg[t]=n,t+"-"+n},[t,e])}function jR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[d,p]of u){const g=o[d];g!=null&&(o[d]=g+t*p)}return o},{...e})}}const yl=jR(1),Au=jR(-1);function uB(t){return"clientX"in t&&"clientY"in t}function Uv(t){if(!t)return!1;const{KeyboardEvent:e}=rr(t.target);return e&&t instanceof e}function dB(t){if(!t)return!1;const{TouchEvent:e}=rr(t.target);return e&&t instanceof e}function Sy(t){if(dB(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return uB(t)?{x:t.clientX,y:t.clientY}:null}const ku=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ku.Translate.toString(t),ku.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),qE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hB(t){return t.matches(qE)?t:t.querySelector(qE)}const fB={display:"none"};function pB(t){let{id:e,value:n}=t;return tn.createElement("div",{id:e,style:fB},n)}function mB(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return tn.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function gB(){const[t,e]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const DR=x.createContext(null);function yB(t){const e=x.useContext(DR);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function vB(){const[t]=x.useState(()=>new Set),e=x.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[x.useCallback(r=>{let{type:s,event:o}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,o)})},[t]),e]}const wB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xB={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function bB(t){let{announcements:e=xB,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=wB}=t;const{announce:o,announcement:l}=gB(),u=ed("DndLiveRegion"),[d,p]=x.useState(!1);if(x.useEffect(()=>{p(!0)},[]),yB(x.useMemo(()=>({onDragStart(v){let{active:w}=v;o(e.onDragStart({active:w}))},onDragMove(v){let{active:w,over:T}=v;e.onDragMove&&o(e.onDragMove({active:w,over:T}))},onDragOver(v){let{active:w,over:T}=v;o(e.onDragOver({active:w,over:T}))},onDragEnd(v){let{active:w,over:T}=v;o(e.onDragEnd({active:w,over:T}))},onDragCancel(v){let{active:w,over:T}=v;o(e.onDragCancel({active:w,over:T}))}}),[o,e])),!d)return null;const g=tn.createElement(tn.Fragment,null,tn.createElement(pB,{id:r,value:s.draggable}),tn.createElement(mB,{id:u,announcement:l}));return n?Fc.createPortal(g,n):g}var Wt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Wt||(Wt={}));function xf(){}function HE(t,e){return x.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function _B(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ss=Object.freeze({x:0,y:0});function LR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function MR(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function EB(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function GE(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function VR(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function KE(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const TB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=KE(e,e.left,e.top),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=LR(KE(d),s);o.push({id:u,data:{droppableContainer:l,value:p}})}}return o.sort(MR)},SB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=GE(e),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=GE(d),g=s.reduce((w,T,k)=>w+LR(p[k],T),0),v=Number((g/4).toFixed(4));o.push({id:u,data:{droppableContainer:l,value:v}})}}return o.sort(MR)};function CB(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=o-n;if(r<s&&n<o){const d=e.width*e.height,p=t.width*t.height,g=l*u,v=g/(d+p-g);return Number(v.toFixed(4))}return 0}const IB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=CB(u,e);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(EB)};function RB(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function OR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ss}function AB(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const kB=AB(1);function PB(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function NB(t,e,n){const r=PB(e);if(!r)return t;const{scaleX:s,scaleY:o,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),p=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=o?t.height/o:t.height;return{width:g,height:v,top:p,right:d+g,bottom:p+v,left:d}}const jB={ignoreTransform:!1};function Hl(t,e){e===void 0&&(e=jB);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=rr(t).getComputedStyle(t);p&&(n=NB(n,p,g))}const{top:r,left:s,width:o,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:o,height:l,bottom:u,right:d}}function QE(t){return Hl(t,{ignoreTransform:!0})}function DB(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function LB(t,e){return e===void 0&&(e=rr(t).getComputedStyle(t)),e.position==="fixed"}function MB(t,e){e===void 0&&(e=rr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function op(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Ov(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ju(s)||NR(s)||n.includes(s))return n;const o=rr(t).getComputedStyle(s);return s!==t&&MB(s,o)&&n.push(s),LB(s,o)?n:r(s.parentNode)}return t?r(t):n}function FR(t){const[e]=op(t,1);return e??null}function _g(t){return!ip||!t?null:Wl(t)?t:Vv(t)?Ov(t)||t===ql(t).scrollingElement?window:Ju(t)?t:null:null}function UR(t){return Wl(t)?t.scrollX:t.scrollLeft}function BR(t){return Wl(t)?t.scrollY:t.scrollTop}function Cy(t){return{x:UR(t),y:BR(t)}}var en;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(en||(en={}));function zR(t){return!ip||!t?!1:t===document.scrollingElement}function $R(t){const e={x:0,y:0},n=zR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const VB={x:.2,y:.2};function OB(t,e,n,r,s){let{top:o,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=VB);const{isTop:p,isBottom:g,isLeft:v,isRight:w}=$R(t),T={x:0,y:0},k={x:0,y:0},A={height:e.height*s.y,width:e.width*s.x};return!p&&o<=e.top+A.height?(T.y=en.Backward,k.y=r*Math.abs((e.top+A.height-o)/A.height)):!g&&d>=e.bottom-A.height&&(T.y=en.Forward,k.y=r*Math.abs((e.bottom-A.height-d)/A.height)),!w&&u>=e.right-A.width?(T.x=en.Forward,k.x=r*Math.abs((e.right-A.width-u)/A.width)):!v&&l<=e.left+A.width&&(T.x=en.Backward,k.x=r*Math.abs((e.left+A.width-l)/A.width)),{direction:T,speed:k}}function FB(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function WR(t){return t.reduce((e,n)=>yl(e,Cy(n)),ss)}function UB(t){return t.reduce((e,n)=>e+UR(n),0)}function BB(t){return t.reduce((e,n)=>e+BR(n),0)}function zB(t,e){if(e===void 0&&(e=Hl),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);FR(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const $B=[["x",["left","right"],UB],["y",["top","bottom"],BB]];class Bv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=op(n),s=WR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,l,u]of $B)for(const d of l)Object.defineProperty(this,d,{get:()=>{const p=u(r),g=s[o]-p;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ou{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function WB(t){const{EventTarget:e}=rr(t);return t instanceof e?t:ql(t)}function Eg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var kr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(kr||(kr={}));function YE(t){t.preventDefault()}function qB(t){t.stopPropagation()}var qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(qe||(qe={}));const qR={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},HB=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case qe.Right:return{...n,x:n.x+25};case qe.Left:return{...n,x:n.x-25};case qe.Down:return{...n,y:n.y+25};case qe.Up:return{...n,y:n.y-25}}};class zv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ou(ql(n)),this.windowListeners=new ou(rr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kr.Resize,this.handleCancel),this.windowListeners.add(kr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&zB(r),n(ss)}handleKeyDown(e){if(Uv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=qR,coordinateGetter:l=HB,scrollBehavior:u="smooth"}=s,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:ss;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const w=Au(v,g),T={x:0,y:0},{scrollableAncestors:k}=r.current;for(const A of k){const S=e.code,{isTop:D,isRight:j,isLeft:V,isBottom:$,maxScroll:H,minScroll:B}=$R(A),I=FB(A),R={x:Math.min(S===qe.Right?I.right-I.width/2:I.right,Math.max(S===qe.Right?I.left:I.left+I.width/2,v.x)),y:Math.min(S===qe.Down?I.bottom-I.height/2:I.bottom,Math.max(S===qe.Down?I.top:I.top+I.height/2,v.y))},N=S===qe.Right&&!j||S===qe.Left&&!V,L=S===qe.Down&&!$||S===qe.Up&&!D;if(N&&R.x!==v.x){const O=A.scrollLeft+w.x,q=S===qe.Right&&O<=H.x||S===qe.Left&&O>=B.x;if(q&&!w.y){A.scrollTo({left:O,behavior:u});return}q?T.x=A.scrollLeft-O:T.x=S===qe.Right?A.scrollLeft-H.x:A.scrollLeft-B.x,T.x&&A.scrollBy({left:-T.x,behavior:u});break}else if(L&&R.y!==v.y){const O=A.scrollTop+w.y,q=S===qe.Down&&O<=H.y||S===qe.Up&&O>=B.y;if(q&&!w.x){A.scrollTo({top:O,behavior:u});return}q?T.y=A.scrollTop-O:T.y=S===qe.Down?A.scrollTop-H.y:A.scrollTop-B.y,T.y&&A.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,yl(Au(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}zv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=qR,onActivation:s}=e,{active:o}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function XE(t){return!!(t&&"distance"in t)}function JE(t){return!!(t&&"delay"in t)}class $v{constructor(e,n,r){var s;r===void 0&&(r=WB(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:l}=o;this.props=e,this.events=n,this.document=ql(l),this.documentListeners=new ou(this.document),this.listeners=new ou(r),this.windowListeners=new ou(rr(l)),this.initialCoordinates=(s=Sy(o))!=null?s:ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(kr.Resize,this.handleCancel),this.windowListeners.add(kr.DragStart,YE),this.windowListeners.add(kr.VisibilityChange,this.handleCancel),this.windowListeners.add(kr.ContextMenu,YE),this.documentListeners.add(kr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(JE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(XE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(kr.Click,qB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!s)return;const d=(n=Sy(e))!=null?n:ss,p=Au(s,d);if(!r&&u){if(XE(u)){if(u.tolerance!=null&&Eg(p,u.tolerance))return this.handleCancel();if(Eg(p,u.distance))return this.handleStart()}if(JE(u)&&Eg(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const GB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wv extends $v{constructor(e){const{event:n}=e,r=ql(n.target);super(e,GB,r)}}Wv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const KB={move:{name:"mousemove"},end:{name:"mouseup"}};var Iy;(function(t){t[t.RightClick=2]="RightClick"})(Iy||(Iy={}));class QB extends $v{constructor(e){super(e,KB,ql(e.event.target))}}QB.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Iy.RightClick?!1:(r?.({event:n}),!0)}}];const Tg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class YB extends $v{constructor(e){super(e,Tg)}static setup(){return window.addEventListener(Tg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Tg.move.name,e)};function e(){}}}YB.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var au;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(au||(au={}));var bf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(bf||(bf={}));function XB(t){let{acceleration:e,activator:n=au.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:l=5,order:u=bf.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:w}=t;const T=ZB({delta:v,disabled:!o}),[k,A]=cB(),S=x.useRef({x:0,y:0}),D=x.useRef({x:0,y:0}),j=x.useMemo(()=>{switch(n){case au.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case au.DraggableRect:return s}},[n,s,d]),V=x.useRef(null),$=x.useCallback(()=>{const B=V.current;if(!B)return;const I=S.current.x*D.current.x,R=S.current.y*D.current.y;B.scrollBy(I,R)},[]),H=x.useMemo(()=>u===bf.TreeOrder?[...p].reverse():p,[u,p]);x.useEffect(()=>{if(!o||!p.length||!j){A();return}for(const B of H){if(r?.(B)===!1)continue;const I=p.indexOf(B),R=g[I];if(!R)continue;const{direction:N,speed:L}=OB(B,R,j,e,w);for(const O of["x","y"])T[O][N[O]]||(L[O]=0,N[O]=0);if(L.x>0||L.y>0){A(),V.current=B,k($,l),S.current=L,D.current=N;return}}S.current={x:0,y:0},D.current={x:0,y:0},A()},[e,$,r,A,o,l,JSON.stringify(j),JSON.stringify(T),k,p,H,g,JSON.stringify(w)])}const JB={x:{[en.Backward]:!1,[en.Forward]:!1},y:{[en.Backward]:!1,[en.Forward]:!1}};function ZB(t){let{delta:e,disabled:n}=t;const r=Ty(e);return Zu(s=>{if(n||!r||!s)return JB;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[en.Backward]:s.x[en.Backward]||o.x===-1,[en.Forward]:s.x[en.Forward]||o.x===1},y:{[en.Backward]:s.y[en.Backward]||o.y===-1,[en.Forward]:s.y[en.Forward]||o.y===1}}},[n,e,r])}function ez(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Zu(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function tz(t,e){return x.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...o]},[]),[t,e])}var Pu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Pu||(Pu={}));var Ry;(function(t){t.Optimized="optimized"})(Ry||(Ry={}));const ZE=new Map;function nz(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,l]=x.useState(null),{frequency:u,measure:d,strategy:p}=s,g=x.useRef(t),v=S(),w=Ru(v),T=x.useCallback(function(D){D===void 0&&(D=[]),!w.current&&l(j=>j===null?D:j.concat(D.filter(V=>!j.includes(V))))},[w]),k=x.useRef(null),A=Zu(D=>{if(v&&!n)return ZE;if(!D||D===ZE||g.current!==t||o!=null){const j=new Map;for(let V of t){if(!V)continue;if(o&&o.length>0&&!o.includes(V.id)&&V.rect.current){j.set(V.id,V.rect.current);continue}const $=V.node.current,H=$?new Bv(d($),$):null;V.rect.current=H,H&&j.set(V.id,H)}return j}return D},[t,o,n,v,d]);return x.useEffect(()=>{g.current=t},[t]),x.useEffect(()=>{v||T()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{T(),k.current=null},u))},[u,v,T,...r]),{droppableRects:A,measureDroppableContainers:T,measuringScheduled:o!=null};function S(){switch(p){case Pu.Always:return!1;case Pu.BeforeDragging:return n;default:return!n}}}function HR(t,e){return Zu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function rz(t,e){return HR(t,e)}function sz(t){let{callback:e,disabled:n}=t;const r=Fv(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function ap(t){let{callback:e,disabled:n}=t;const r=Fv(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function iz(t){return new Bv(Hl(t),t)}function e2(t,e,n){e===void 0&&(e=iz);const[r,s]=x.useState(null);function o(){s(d=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=d??n)!=null?p:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=sz({callback(d){if(t)for(const p of d){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){o();break}}}}),u=ap({callback:o});return Fs(()=>{o(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function oz(t){const e=HR(t);return OR(t,e)}const t2=[];function az(t){const e=x.useRef(t),n=Zu(r=>t?r&&r!==t2&&t&&e.current&&t.parentNode===e.current.parentNode?r:op(t):t2,[t]);return x.useEffect(()=>{e.current=t},[t]),n}function lz(t){const[e,n]=x.useState(null),r=x.useRef(t),s=x.useCallback(o=>{const l=_g(o.target);l&&n(u=>u?(u.set(l,Cy(l)),new Map(u)):null)},[]);return x.useEffect(()=>{const o=r.current;if(t!==o){l(o);const u=t.map(d=>{const p=_g(d);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,Cy(p)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(o)};function l(u){u.forEach(d=>{const p=_g(d);p?.removeEventListener("scroll",s)})}},[s,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,l)=>yl(o,l),ss):WR(t):ss,[t,e])}function n2(t,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const r=t!==ss;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Au(t,n.current):ss}function cz(t){x.useEffect(()=>{if(!ip)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function uz(t,e){return x.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=l=>{o(l,e)},n},{}),[t,e])}function GR(t){return x.useMemo(()=>t?DB(t):null,[t])}const r2=[];function dz(t,e){e===void 0&&(e=Hl);const[n]=t,r=GR(n?rr(n):null),[s,o]=x.useState(r2);function l(){o(()=>t.length?t.map(d=>zR(d)?r:new Bv(e(d),d)):r2)}const u=ap({callback:l});return Fs(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function hz(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ju(e)?e:t}function fz(t){let{measure:e}=t;const[n,r]=x.useState(null),s=x.useCallback(p=>{for(const{target:g}of p)if(Ju(g)){r(v=>{const w=e(g);return v?{...v,width:w.width,height:w.height}:w});break}},[e]),o=ap({callback:s}),l=x.useCallback(p=>{const g=hz(p);o?.disconnect(),g&&o?.observe(g),r(g?e(g):null)},[e,o]),[u,d]=wf(l);return x.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const pz=[{sensor:Wv,options:{}},{sensor:zv,options:{}}],mz={current:{}},zh={draggable:{measure:QE},droppable:{measure:QE,strategy:Pu.WhileDragging,frequency:Ry.Optimized},dragOverlay:{measure:Hl}};class lu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const gz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zh,measureDroppableContainers:xf,windowRect:null,measuringScheduled:!1},yz={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xf,draggableNodes:new Map,over:null,measureDroppableContainers:xf},lp=x.createContext(yz),KR=x.createContext(gz);function vz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lu}}}function wz(t,e){switch(e.type){case Wt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Wt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Wt.DragEnd:case Wt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new lu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Wt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const l=new lu(t.droppable.containers);return l.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case Wt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new lu(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function xz(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=x.useContext(lp),o=Ty(r),l=Ty(n?.id);return x.useEffect(()=>{if(!e&&!r&&o&&l!=null){if(!Uv(o)||document.activeElement===o.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:p}=u;if(!d.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[d.current,p.current]){if(!g)continue;const v=hB(g);if(v){v.focus();break}}})}},[r,e,s,l,o]),null}function bz(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function _z(t){return x.useMemo(()=>({draggable:{...zh.draggable,...t?.draggable},droppable:{...zh.droppable,...t?.droppable},dragOverlay:{...zh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Ez(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=x.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Fs(()=>{if(!l&&!u||!e){o.current=!1;return}if(o.current||!r)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=OR(g,r);if(l||(v.x=0),u||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=FR(p);w&&w.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const QR=x.createContext({...ss,scaleX:1,scaleY:1});var Gi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Gi||(Gi={}));const Tz=x.memo(function(e){var n,r,s,o;let{id:l,accessibility:u,autoScroll:d=!0,children:p,sensors:g=pz,collisionDetection:v=IB,measuring:w,modifiers:T,...k}=e;const A=x.useReducer(wz,void 0,vz),[S,D]=A,[j,V]=vB(),[$,H]=x.useState(Gi.Uninitialized),B=$===Gi.Initialized,{draggable:{active:I,nodes:R,translate:N},droppable:{containers:L}}=S,O=I!=null?R.get(I):null,q=x.useRef({initial:null,translated:null}),M=x.useMemo(()=>{var Ve;return I!=null?{id:I,data:(Ve=O?.data)!=null?Ve:mz,rect:q}:null},[I,O]),Ne=x.useRef(null),[Xe,dt]=x.useState(null),[ge,se]=x.useState(null),ce=Ru(k,Object.values(k)),Z=ed("DndDescribedBy",l),U=x.useMemo(()=>L.getEnabled(),[L]),J=_z(w),{droppableRects:ve,measureDroppableContainers:be,measuringScheduled:je}=nz(U,{dragging:B,dependencies:[N.x,N.y],config:J.droppable}),_e=ez(R,I),Fe=x.useMemo(()=>ge?Sy(ge):null,[ge]),De=Ur(),Me=rz(_e,J.draggable.measure);Ez({activeNode:I!=null?R.get(I):null,config:De.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const ke=e2(_e,J.draggable.measure,Me),Ht=e2(_e?_e.parentElement:null),vn=x.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Nn=L.getNodeFor((n=vn.current.over)==null?void 0:n.id),wn=fz({measure:J.dragOverlay.measure}),Vr=(r=wn.nodeRef.current)!=null?r:_e,sr=B?(s=wn.rect)!=null?s:ke:null,as=!!(wn.nodeRef.current&&wn.rect),vi=oz(as?null:ke),ht=GR(Vr?rr(Vr):null),Je=az(B?Nn??_e:null),xn=dz(Je),ls=bz(T,{transform:{x:N.x-vi.x,y:N.y-vi.y,scaleX:1,scaleY:1},activatorEvent:ge,active:M,activeNodeRect:ke,containerNodeRect:Ht,draggingNodeRect:sr,over:vn.current.over,overlayNodeRect:wn.rect,scrollableAncestors:Je,scrollableAncestorRects:xn,windowRect:ht}),wi=Fe?yl(Fe,N):null,Eo=lz(Je),cs=n2(Eo),To=n2(Eo,[ke]),ir=yl(ls,cs),jn=sr?kB(sr,ls):null,us=M&&jn?v({active:M,collisionRect:jn,droppableRects:ve,droppableContainers:U,pointerCoordinates:wi}):null,ds=VR(us,"id"),[sn,So]=x.useState(null),hs=as?ls:yl(ls,To),xi=RB(hs,(o=sn?.rect)!=null?o:null,ke),Bs=x.useRef(null),$n=x.useCallback((Ve,Ut)=>{let{sensor:_t,options:on}=Ut;if(Ne.current==null)return;const an=R.get(Ne.current);if(!an)return;const Gt=Ve.nativeEvent,It=new _t({active:Ne.current,activeNode:an,event:Gt,options:on,context:vn,onAbort(at){if(!R.get(at))return;const{onDragAbort:Bt}=ce.current,Wn={id:at};Bt?.(Wn),j({type:"onDragAbort",event:Wn})},onPending(at,ln,Bt,Wn){if(!R.get(at))return;const{onDragPending:bn}=ce.current,Ln={id:at,constraint:ln,initialCoordinates:Bt,offset:Wn};bn?.(Ln),j({type:"onDragPending",event:Ln})},onStart(at){const ln=Ne.current;if(ln==null)return;const Bt=R.get(ln);if(!Bt)return;const{onDragStart:Wn}=ce.current,Dn={activatorEvent:Gt,active:{id:ln,data:Bt.data,rect:q}};Fc.unstable_batchedUpdates(()=>{Wn?.(Dn),H(Gi.Initializing),D({type:Wt.DragStart,initialCoordinates:at,active:ln}),j({type:"onDragStart",event:Dn}),dt(Bs.current),se(Gt)})},onMove(at){D({type:Wt.DragMove,coordinates:at})},onEnd:Br(Wt.DragEnd),onCancel:Br(Wt.DragCancel)});Bs.current=It;function Br(at){return async function(){const{active:Bt,collisions:Wn,over:Dn,scrollAdjustedTranslate:bn}=vn.current;let Ln=null;if(Bt&&bn){const{cancelDrop:Kt}=ce.current;Ln={activatorEvent:Gt,active:Bt,collisions:Wn,delta:bn,over:Dn},at===Wt.DragEnd&&typeof Kt=="function"&&await Promise.resolve(Kt(Ln))&&(at=Wt.DragCancel)}Ne.current=null,Fc.unstable_batchedUpdates(()=>{D({type:at}),H(Gi.Uninitialized),So(null),dt(null),se(null),Bs.current=null;const Kt=at===Wt.DragEnd?"onDragEnd":"onDragCancel";if(Ln){const Ei=ce.current[Kt];Ei?.(Ln),j({type:Kt,event:Ln})}})}}},[R]),bi=x.useCallback((Ve,Ut)=>(_t,on)=>{const an=_t.nativeEvent,Gt=R.get(on);if(Ne.current!==null||!Gt||an.dndKit||an.defaultPrevented)return;const It={active:Gt};Ve(_t,Ut.options,It)===!0&&(an.dndKit={capturedBy:Ut.sensor},Ne.current=on,$n(_t,Ut))},[R,$n]),Or=tz(g,bi);cz(g),Fs(()=>{ke&&$===Gi.Initializing&&H(Gi.Initialized)},[ke,$]),x.useEffect(()=>{const{onDragMove:Ve}=ce.current,{active:Ut,activatorEvent:_t,collisions:on,over:an}=vn.current;if(!Ut||!_t)return;const Gt={active:Ut,activatorEvent:_t,collisions:on,delta:{x:ir.x,y:ir.y},over:an};Fc.unstable_batchedUpdates(()=>{Ve?.(Gt),j({type:"onDragMove",event:Gt})})},[ir.x,ir.y]),x.useEffect(()=>{const{active:Ve,activatorEvent:Ut,collisions:_t,droppableContainers:on,scrollAdjustedTranslate:an}=vn.current;if(!Ve||Ne.current==null||!Ut||!an)return;const{onDragOver:Gt}=ce.current,It=on.get(ds),Br=It&&It.rect.current?{id:It.id,rect:It.rect.current,data:It.data,disabled:It.disabled}:null,at={active:Ve,activatorEvent:Ut,collisions:_t,delta:{x:an.x,y:an.y},over:Br};Fc.unstable_batchedUpdates(()=>{So(Br),Gt?.(at),j({type:"onDragOver",event:at})})},[ds]),Fs(()=>{vn.current={activatorEvent:ge,active:M,activeNode:_e,collisionRect:jn,collisions:us,droppableRects:ve,draggableNodes:R,draggingNode:Vr,draggingNodeRect:sr,droppableContainers:L,over:sn,scrollableAncestors:Je,scrollAdjustedTranslate:ir},q.current={initial:sr,translated:jn}},[M,_e,us,jn,R,Vr,sr,ve,L,sn,Je,ir]),XB({...De,delta:N,draggingRect:jn,pointerCoordinates:wi,scrollableAncestors:Je,scrollableAncestorRects:xn});const _i=x.useMemo(()=>({active:M,activeNode:_e,activeNodeRect:ke,activatorEvent:ge,collisions:us,containerNodeRect:Ht,dragOverlay:wn,draggableNodes:R,droppableContainers:L,droppableRects:ve,over:sn,measureDroppableContainers:be,scrollableAncestors:Je,scrollableAncestorRects:xn,measuringConfiguration:J,measuringScheduled:je,windowRect:ht}),[M,_e,ke,ge,us,Ht,wn,R,L,ve,sn,be,Je,xn,J,je,ht]),Fr=x.useMemo(()=>({activatorEvent:ge,activators:Or,active:M,activeNodeRect:ke,ariaDescribedById:{draggable:Z},dispatch:D,draggableNodes:R,over:sn,measureDroppableContainers:be}),[ge,Or,M,ke,D,Z,R,sn,be]);return tn.createElement(DR.Provider,{value:V},tn.createElement(lp.Provider,{value:Fr},tn.createElement(KR.Provider,{value:_i},tn.createElement(QR.Provider,{value:xi},p)),tn.createElement(xz,{disabled:u?.restoreFocus===!1})),tn.createElement(bB,{...u,hiddenTextDescribedById:Z}));function Ur(){const Ve=Xe?.autoScrollEnabled===!1,Ut=typeof d=="object"?d.enabled===!1:d===!1,_t=B&&!Ve&&!Ut;return typeof d=="object"?{...d,enabled:_t}:{enabled:_t}}}),Sz=x.createContext(null),s2="button",Cz="Draggable";function Iz(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=ed(Cz),{activators:l,activatorEvent:u,active:d,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:w}=x.useContext(lp),{role:T=s2,roleDescription:k="draggable",tabIndex:A=0}=s??{},S=d?.id===e,D=x.useContext(S?QR:Sz),[j,V]=wf(),[$,H]=wf(),B=uz(l,e),I=Ru(n);Fs(()=>(v.set(e,{id:e,key:o,node:j,activatorNode:$,data:I}),()=>{const N=v.get(e);N&&N.key===o&&v.delete(e)}),[v,e]);const R=x.useMemo(()=>({role:T,tabIndex:A,"aria-disabled":r,"aria-pressed":S&&T===s2?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[r,T,A,S,k,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:p,attributes:R,isDragging:S,listeners:r?void 0:B,node:j,over:w,setNodeRef:V,setActivatorNodeRef:H,transform:D}}function Rz(){return x.useContext(KR)}const Az="Droppable",kz={timeout:25};function Pz(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=ed(Az),{active:l,dispatch:u,over:d,measureDroppableContainers:p}=x.useContext(lp),g=x.useRef({disabled:n}),v=x.useRef(!1),w=x.useRef(null),T=x.useRef(null),{disabled:k,updateMeasurementsFor:A,timeout:S}={...kz,...s},D=Ru(A??r),j=x.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{p(Array.isArray(D.current)?D.current:[D.current]),T.current=null},S)},[S]),V=ap({callback:j,disabled:k||!l}),$=x.useCallback((R,N)=>{V&&(N&&(V.unobserve(N),v.current=!1),R&&V.observe(R))},[V]),[H,B]=wf($),I=Ru(e);return x.useEffect(()=>{!V||!H.current||(V.disconnect(),v.current=!1,V.observe(H.current))},[H,V]),x.useEffect(()=>(u({type:Wt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:H,rect:w,data:I}}),()=>u({type:Wt.UnregisterDroppable,key:o,id:r})),[r]),x.useEffect(()=>{n!==g.current.disabled&&(u({type:Wt.SetDroppableDisabled,id:r,key:o,disabled:n}),g.current.disabled=n)},[r,o,n,u]),{active:l,rect:w,isOver:d?.id===r,node:H,over:d,setNodeRef:B}}function qv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Nz(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function Th(t){return t!==null&&t>=0}function jz(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Dz(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const YR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=qv(e,r,n),l=e[s],u=o[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Sh={scaleX:1,scaleY:1},Lz=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:l}=t;const u=(e=o[n])!=null?e:r;if(!u)return null;if(s===n){const p=o[l];return p?{x:0,y:n<l?p.top+p.height-(u.top+u.height):p.top-u.top,...Sh}:null}const d=Mz(o,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,...Sh}:s<n&&s>=l?{x:0,y:u.height+d,...Sh}:{x:0,y:0,...Sh}};function Mz(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const XR="Sortable",JR=tn.createContext({activeIndex:-1,containerId:XR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:YR,disabled:{draggable:!1,droppable:!1}});function Vz(t){let{children:e,id:n,items:r,strategy:s=YR,disabled:o=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:p,measureDroppableContainers:g}=Rz(),v=ed(XR,n),w=u.rect!==null,T=x.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),k=l!=null,A=l?T.indexOf(l.id):-1,S=p?T.indexOf(p.id):-1,D=x.useRef(T),j=!jz(T,D.current),V=S!==-1&&A===-1||j,$=Dz(o);Fs(()=>{j&&k&&g(T)},[j,T,k,g]),x.useEffect(()=>{D.current=T},[T]);const H=x.useMemo(()=>({activeIndex:A,containerId:v,disabled:$,disableTransforms:V,items:T,overIndex:S,useDragOverlay:w,sortedRects:Nz(T,d),strategy:s}),[A,v,$.draggable,$.droppable,V,T,S,d,w,s]);return tn.createElement(JR.Provider,{value:H},e)}const Oz=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return qv(n,r,s).indexOf(e)},Fz=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:l,previousItems:u,previousContainerId:d,transition:p}=t;return!p||!r||u!==o&&s===l?!1:n?!0:l!==s&&e===d},Uz={duration:200,easing:"ease"},ZR="transform",Bz=ku.Transition.toString({property:ZR,duration:0,easing:"linear"}),zz={roleDescription:"sortable"};function $z(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,l]=x.useState(null),u=x.useRef(n);return Fs(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const p=Hl(r.current,{ignoreTransform:!0}),g={x:d.left-p.left,y:d.top-p.top,scaleX:d.width/p.width,scaleY:d.height/p.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function Wz(t){let{animateLayoutChanges:e=Fz,attributes:n,disabled:r,data:s,getNewIndex:o=Oz,id:l,strategy:u,resizeObserverConfig:d,transition:p=Uz}=t;const{items:g,containerId:v,activeIndex:w,disabled:T,disableTransforms:k,sortedRects:A,overIndex:S,useDragOverlay:D,strategy:j}=x.useContext(JR),V=qz(r,T),$=g.indexOf(l),H=x.useMemo(()=>({sortable:{containerId:v,index:$,items:g},...s}),[v,s,$,g]),B=x.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:I,node:R,isOver:N,setNodeRef:L}=Pz({id:l,data:H,disabled:V.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...d}}),{active:O,activatorEvent:q,activeNodeRect:M,attributes:Ne,setNodeRef:Xe,listeners:dt,isDragging:ge,over:se,setActivatorNodeRef:ce,transform:Z}=Iz({id:l,data:H,attributes:{...zz,...n},disabled:V.draggable}),U=lB(L,Xe),J=!!O,ve=J&&!k&&Th(w)&&Th(S),be=!D&&ge,je=be&&ve?Z:null,Fe=ve?je??(u??j)({rects:A,activeNodeRect:M,activeIndex:w,overIndex:S,index:$}):null,De=Th(w)&&Th(S)?o({id:l,items:g,activeIndex:w,overIndex:S}):$,Me=O?.id,ke=x.useRef({activeId:Me,items:g,newIndex:De,containerId:v}),Ht=g!==ke.current.items,vn=e({active:O,containerId:v,isDragging:ge,isSorting:J,id:l,index:$,items:g,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:p,wasDragging:ke.current.activeId!=null}),Nn=$z({disabled:!vn,index:$,node:R,rect:I});return x.useEffect(()=>{J&&ke.current.newIndex!==De&&(ke.current.newIndex=De),v!==ke.current.containerId&&(ke.current.containerId=v),g!==ke.current.items&&(ke.current.items=g)},[J,De,v,g]),x.useEffect(()=>{if(Me===ke.current.activeId)return;if(Me!=null&&ke.current.activeId==null){ke.current.activeId=Me;return}const Vr=setTimeout(()=>{ke.current.activeId=Me},50);return()=>clearTimeout(Vr)},[Me]),{active:O,activeIndex:w,attributes:Ne,data:H,rect:I,index:$,newIndex:De,items:g,isOver:N,isSorting:J,isDragging:ge,listeners:dt,node:R,overIndex:S,over:se,setNodeRef:U,setActivatorNodeRef:ce,setDroppableNodeRef:L,setDraggableNodeRef:Xe,transform:Nn??Fe,transition:wn()};function wn(){if(Nn||Ht&&ke.current.newIndex===$)return Bz;if(!(be&&!Uv(q)||!p)&&(J||vn))return ku.Transition.toString({...p,property:ZR})}}function qz(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function _f(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Hz=[qe.Down,qe.Right,qe.Up,qe.Left],Gz=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:l,scrollableAncestors:u}}=e;if(Hz.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const w=s.get(v.id);if(w)switch(t.code){case qe.Down:r.top<w.top&&d.push(v);break;case qe.Up:r.top>w.top&&d.push(v);break;case qe.Left:r.left>w.left&&d.push(v);break;case qe.Right:r.left<w.left&&d.push(v);break}});const p=SB({collisionRect:r,droppableRects:s,droppableContainers:d});let g=VR(p,"id");if(g===l?.id&&p.length>1&&(g=p[1].id),g!=null){const v=o.get(n.id),w=o.get(g),T=w?s.get(w.id):null,k=w?.node.current;if(k&&T&&v&&w){const S=op(k).some((B,I)=>u[I]!==B),D=eA(v,w),j=Kz(v,w),V=S||!D?{x:0,y:0}:{x:j?r.width-T.width:0,y:j?r.height-T.height:0},$={x:T.left,y:T.top};return V.x&&V.y?$:Au($,V)}}}};function eA(t,e){return!_f(t)||!_f(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Kz(t,e){return!_f(t)||!_f(e)||!eA(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Qz=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:o,setNodeRef:l,transform:u,transition:d,isDragging:p}=Wz({id:t}),g={transform:ku.Transform.toString(u),transition:d,zIndex:p?50:"auto"};return h.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${p?"shadow-lg ring-2 ring-blue-100":""}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n&&h.jsx("button",{...s,...o,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),h.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&h.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},Yz=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],Xz=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=x.useState(""),[o,l]=x.useState(!1),u=_B(HE(Wv),HE(zv,{coordinateGetter:Gz})),d=w=>{const{active:T,over:k}=w;if(k&&T.id!==k.id){const A=t.indexOf(T.id),S=t.indexOf(k.id);n(qv(t,A,S))}},p=w=>{const T=w.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=w=>{n(t.filter(T=>T!==w))},v=Yz.filter(w=>w.toLowerCase().includes(r.toLowerCase())&&!t.includes(w));return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:r,onChange:w=>{s(w.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:w=>{w.key==="Enter"&&p(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),o&&r&&v.length>0&&h.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(w=>h.jsx("button",{onClick:()=>p(w),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:w},w))})]}),h.jsx(Tz,{sensors:u,collisionDetection:TB,onDragEnd:d,children:h.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.jsx(Vz,{items:t,strategy:Lz,children:t.map(w=>h.jsx(Qz,{id:w,skill:w,isOwnProfile:e,onRemove:g},w))})})}),t.length===0&&h.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:h.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},Jz=({onActionComplete:t})=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(null),u=async()=>{s(!0);try{const g=await MU(),v=await Promise.all(g.map(async w=>{const T=await rs(it(we,"users",w.requesterId));if(T.exists()){const k=T.data();return{...w,requesterName:k.name,requesterAvatar:k.avatar}}return w}));n(v)}catch(g){console.error("Error loading incoming requests:",g)}finally{s(!1)}};x.useEffect(()=>{u()},[]);const d=async(g,v)=>{l(g);try{await jU(g,v),n(w=>w.filter(T=>T.id!==g)),t()}catch(w){console.error(w)}finally{l(null)}},p=async g=>{l(g);try{await DU(g),n(v=>v.filter(w=>w.id!==g)),t()}catch(v){console.error("Error ignoring request:",v)}};return r||e.length===0?null:h.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",h.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),h.jsx("div",{className:"space-y-4",children:e.map(g=>h.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[h.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:h.jsx("img",{src:g.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${g.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-grow text-center md:text-left",children:[h.jsx("h4",{className:"font-bold text-gray-900",children:g.requesterName||"Anonymous Student"}),g.note&&h.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',g.note,'"']})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>p(g.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),h.jsx("button",{onClick:()=>d(g.id,g.requesterId),disabled:o===g.id,className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 disabled:opacity-50",children:"                          Accept"})]})]},g.id))})]})},Hv=async t=>{try{const e=it(we,"users",t),n=await rs(e);return n.exists()?{uid:t,...n.data()}:null}catch(e){return console.error("Error fetching profile:",e),null}},Zz=async t=>{try{const e=it(we,"users",t);await Us(e,{"stats.profileViews":EC(1)})}catch(e){console.error("Error incrementing profile views:",e)}},tA=async(t,e)=>{try{const n=it(we,"users",t);await Xf(n,{...e,lastActive:rn()},{merge:!0})}catch(n){throw console.error("Error updating profile:",n),n}},e$=Object.freeze(Object.defineProperty({__proto__:null,getUserProfile:Hv,incrementProfileViews:Zz,updateProfile:tA},Symbol.toStringTag,{value:"Module"})),t$=({isOpen:t,onClose:e,userId:n,onSuccess:r})=>{const[s,o]=x.useState({name:"",headline:"",bio:"",college:"",skills:[]}),[l,u]=x.useState(""),[d,p]=x.useState(!0),[g,v]=x.useState(!1),[w,T]=x.useState("");x.useEffect(()=>{t&&n&&k()},[t,n]);const k=async()=>{p(!0);const S=await Hv(n);S&&(o(S),u(S.skills.join(", "))),p(!1)},A=async S=>{S.preventDefault();const D=gl(s.name||""),j=gl(s.headline||""),V=gl(s.bio||"");if(D.hasProfanity||j.hasProfanity||V.hasProfanity){T(Mv());return}T(""),v(!0);try{const $={...s,skills:l.split(",").map(H=>H.trim()).filter(Boolean)};await tA(n,$),r&&r(),e()}catch($){console.error("Failed to update profile:",$)}finally{v(!1)}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Se.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(fU,{className:"h-6 w-6 text-gray-500"})})]}),d?h.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading profile..."}):h.jsxs("form",{onSubmit:A,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:w}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:s.name,onChange:S=>{o({...s,name:S.target.value}),w&&T("")},className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Headline"}),h.jsx("input",{type:"text",value:s.headline,onChange:S=>o({...s,headline:S.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"e.g. Full Stack Developer | Student at MIT"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"College / Institution"}),h.jsx("input",{type:"text",value:s.college,onChange:S=>o({...s,college:S.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Skills (comma separated)"}),h.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"React, Python, UI Design"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Bio"}),h.jsx("textarea",{value:s.bio,onChange:S=>o({...s,bio:S.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none resize-none",rows:4,placeholder:"Tell us about yourself..."})]}),h.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-500 font-bold hover:bg-gray-50 rounded-full transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:g,className:"px-8 py-2 bg-[#0066FF] text-white font-bold rounded-full hover:bg-blue-600 shadow-lg shadow-blue-500/20 disabled:opacity-50 transition-all",children:g?"Saving...":"Save Profile"})]})]})]})]})})},i2=()=>{const t=nr(),{userId:e}=Dy(),[n,r]=x.useState(!0),[s,o]=x.useState(null),[l,u]=x.useState(!1),[d,p]=x.useState(!1),[g,v]=x.useState(0),[w,T]=x.useState("none"),[k,A]=x.useState(!1),[S,D]=x.useState([]),[j,V]=x.useState(!1),[$,H]=x.useState(null),[B,I]=x.useState(""),[R,N]=x.useState(!1),[L,O]=x.useState(!1),[q,M]=x.useState(""),Ne=async()=>{try{const Z=Ue.currentUser,U=e||Z?.uid;if(!U){t("/login");return}u(U===Z?.uid);const J=await Hv(U);if(J){if(o(J),Z&&U!==Z.uid){const{incrementProfileViews:je}=await Fy(async()=>{const{incrementProfileViews:Ht}=await Promise.resolve().then(()=>e$);return{incrementProfileViews:Ht}},[]);je(U);const _e=st(we,"connections"),Fe=Nt(_e,xt("requesterId","==",Z.uid),xt("recipientId","==",U)),De=Nt(_e,xt("requesterId","==",U),xt("recipientId","==",Z.uid)),[Me,ke]=await Promise.all([tr(Fe),tr(De)]);if(Me.empty){if(!ke.empty){const Ht=ke.docs[0].data().status;T(Ht==="accepted"?"connected":"received")}}else{const Ht=Me.docs[0].data().status;T(Ht==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const ve=await kU(U);D(ve);const be=await VU(U);v(be)}catch(Z){console.error("Error fetching user data:",Z)}finally{r(!1)}};x.useEffect(()=>{Ne()},[t,e]);const Xe=async()=>{const Z=e||s?.uid;if(!(!Ue.currentUser||!Z)){if(!L){O(!0);return}A(!0);try{await kR(Z,q),T("pending"),O(!1),M("")}catch(U){const J=U;console.error("Error sending connection request:",J),alert(J.message)}finally{A(!1)}}},dt=async Z=>{if(Z.preventDefault(),!Ue.currentUser||!$)return;const U=B.split(",").map(J=>J.trim()).filter(Boolean);if(U.length===0){alert("Please add at least one technology to the Tech Stack.");return}N(!0);try{$.id?await CU($.id,{...$,techStack:U}):await TR(Ue.currentUser.uid,{title:$.title||"",description:$.description||"",techStack:U,rolesNeeded:[],category:"Development",ownerName:s?.name||"Anonymous",ownerAvatar:s?.avatar||"",githubUrl:$.githubUrl,liveUrl:$.liveUrl,status:"Open",thumbnailUrl:"",updatedAt:null}),Ne(),V(!1),H(null)}catch(J){console.error("Error saving project:",J),alert("Failed to save project.")}finally{N(!1)}},ge=async Z=>{if(window.confirm("Are you sure you want to delete this project?"))try{await IU(Z),D(U=>U.filter(J=>J.id!==Z))}catch(U){console.error("Error deleting project:",U),alert("Failed to delete project.")}},se=async Z=>{if(!(!Ue.currentUser||!s))try{const U=it(we,"users",s.uid||Ue.currentUser.uid);await Us(U,{skills:Z}),o(J=>J?{...J,skills:Z}:null)}catch(U){console.error("Error updating skills:",U),alert("Failed to update skills.")}},ce=async()=>{if(s?.uid)try{const Z=await RR(s.uid);t(`/messages?conversationId=${Z}`)}catch(Z){console.error("Error starting conversation:",Z)}};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),h.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?h.jsxs("div",{className:"min-h-screen bg-[#F4F6F8] pb-20",children:[h.jsxs("div",{className:"relative h-32 md:h-48 w-full overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})]}),h.jsxs("div",{className:"container mx-auto px-4 -mt-16 md:-mt-24 relative z-10 max-w-6xl",children:[l&&h.jsx(Jz,{onActionComplete:Ne}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[h.jsx("div",{className:"lg:w-80 flex-shrink-0",children:h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsxs("div",{className:"p-6 text-center border-b border-gray-100",children:[h.jsx("div",{className:"relative inline-block mb-4",children:l?h.jsx(aB,{userId:Ue.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:Z=>o(U=>U?{...U,avatar:Z}:null)}):h.jsx("div",{className:"w-28 h-28 rounded-full border-4 border-white shadow-lg overflow-hidden bg-white mx-auto",children:h.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})}),h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx("h1",{className:"text-xl font-bold text-[#0f172a]",children:s.name}),s.isAdmin&&h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[9px] font-bold uppercase rounded",children:"Admin"})]}),h.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-2",children:s.role}),h.jsx("p",{className:"text-gray-500 text-xs mb-3",children:s.college||s.institution||"Student"}),h.jsxs("div",{className:"flex items-center justify-center gap-1 text-[#0066FF] font-semibold text-sm",children:[h.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),g," connections"]})]}),h.jsx("div",{className:"p-4 space-y-3",children:l?h.jsx("button",{onClick:()=>p(!0),className:"w-full py-3 bg-[#0066FF] text-white rounded-xl font-semibold text-sm hover:bg-blue-700 transition-all shadow-sm",children:"Edit Profile"}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:Xe,disabled:w!=="none"||k,className:`w-full py-3 rounded-xl font-semibold text-sm transition-all ${w==="none"?"bg-[#0066FF] text-white hover:bg-blue-700":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:k?"...":w==="pending"?"Pending":w==="connected"?"Connected":w==="received"?"Accept Request":"Connect"}),h.jsx("button",{onClick:ce,className:"w-full py-3 border-2 border-gray-200 text-[#0f172a] rounded-xl font-semibold text-sm hover:bg-gray-50 transition-all",children:"Message"})]})}),(s.socials?.github||s.socials?.linkedin)&&h.jsxs("div",{className:"px-4 pb-4",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Social Links"}),h.jsxs("div",{className:"space-y-2",children:[s.socials?.github&&h.jsxs("a",{href:s.socials.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"GitHub"})]}),s.socials?.linkedin&&h.jsxs("a",{href:s.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 text-[#0066FF]",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),h.jsx("span",{className:"text-sm font-medium text-[#0066FF]",children:"LinkedIn"})]})]})]}),h.jsx("div",{className:"px-4 pb-6",children:h.jsx(Xz,{skills:s.skills||[],isOwnProfile:l,onUpdate:se})})]})}),h.jsxs("div",{className:"flex-1 space-y-6",children:[h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"w-1 h-5 bg-[#0066FF] rounded-full"}),"About"]}),h.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] flex items-center gap-2",children:[h.jsx("span",{className:"w-1 h-5 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),l&&h.jsx("button",{onClick:()=>{H({title:"",description:"",techStack:[],githubUrl:"",liveUrl:""}),I(""),V(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-semibold rounded-lg hover:bg-blue-100 transition-all",children:"+ Add Project"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.length>0?S.map(Z=>h.jsxs("div",{className:"p-5 rounded-xl border border-gray-100 hover:border-[#0066FF]/30 hover:shadow-sm transition-all flex flex-col h-full relative group",children:[l&&h.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:U=>{U.stopPropagation(),H(Z),I(Z.techStack?.join(", ")||""),V(!0)},className:"p-1.5 bg-white rounded-md shadow-sm border border-gray-100 text-gray-400 hover:text-blue-600 text-xs",children:"Edit"}),h.jsx("button",{onClick:U=>{U.stopPropagation(),ge(Z.id)},className:"p-1.5 bg-white rounded-md shadow-sm border border-gray-100 text-gray-400 hover:text-red-600 text-xs",children:"Del"})]}),h.jsx("h4",{className:"font-semibold text-[#0f172a] group-hover:text-[#0066FF] mb-2",children:Z.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2 flex-grow",children:Z.description}),h.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-auto",children:[Z.techStack?.slice(0,4).map(U=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-500 rounded text-[10px] font-medium border border-gray-100",children:U},U)),Z.techStack&&Z.techStack.length>4&&h.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[10px] font-medium",children:["+",Z.techStack.length-4]})]})]},Z.id)):h.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:h.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."})})})]})]})]})]}),h.jsx(Os,{children:j&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-2xl p-6 overflow-hidden",children:[h.jsx("h3",{className:"text-xl font-bold mb-5",children:$?.id?"Edit Project":"Add Project"}),h.jsxs("form",{onSubmit:dt,className:"space-y-4",children:[h.jsx("input",{required:!0,placeholder:"Project Title",value:$?.title||"",onChange:Z=>H(U=>({...U,title:Z.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] text-sm"}),h.jsx("textarea",{required:!0,rows:3,placeholder:"Description",value:$?.description||"",onChange:Z=>H(U=>({...U,description:Z.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] resize-none text-sm"}),h.jsx("input",{required:!0,placeholder:"Tech Stack (comma separated)",value:B,onChange:Z=>I(Z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] text-sm"}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 py-3 font-semibold text-gray-400 hover:text-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:R,className:"flex-[2] py-3 bg-[#0066FF] text-white font-semibold rounded-xl shadow-sm disabled:opacity-50",children:"Save Project"})]})]})]})]})}),h.jsx(Os,{children:L&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-white rounded-2xl p-6",children:[h.jsx("h3",{className:"text-xl font-bold mb-4",children:"Send Connection Request"}),h.jsx("textarea",{rows:3,placeholder:"Add a personalized note (optional)",value:q,onChange:Z=>M(Z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] mb-4 text-sm"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>O(!1),className:"flex-1 font-semibold text-gray-400 hover:text-gray-600",children:"Cancel"}),h.jsx("button",{onClick:Xe,disabled:k,className:"flex-[2] py-3 bg-[#0066FF] text-white font-semibold rounded-xl disabled:opacity-50",children:"Send"})]})]})]})}),s&&h.jsx(t$,{isOpen:d,onClose:()=>p(!1),userId:s.uid,onSuccess:Ne})]}):null},n$=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=x.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=o=>{const{name:l,value:u,type:d,checked:p}=o.target;n(g=>({...g,[l]:d==="checkbox"?p:u}))},s=o=>{o.preventDefault(),console.log("Form submitted:",e)};return h.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[h.jsx(Mt,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-900",children:"Executive Education"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-400",children:t.title})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4 mb-4",children:h.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:h.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),h.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),h.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),h.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(F8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),h.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(xR,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Lv,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),h.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[h.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((o,l)=>h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:o.value}),h.jsx("p",{className:"text-gray-600 font-medium",children:o.label}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:o.source})]},l))]})]}),h.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),h.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),h.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((o,l)=>h.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[h.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:o.title}),h.jsx(V8,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),h.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"sticky top-24",children:h.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),h.jsxs("form",{onSubmit:s,className:"space-y-4",children:[h.jsx("div",{children:h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsxs("div",{className:"space-y-3 pt-2",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(o=>({...o,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(o=>({...o,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),h.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},Ay={java:{id:"java",name:"Java",icon:"",description:"Robust, object-oriented programming language used for enterprise applications and Android development.",about:"Java is a high-level, class-based, object-oriented programming language that is designed to have as few implementation dependencies as possible. It is a general-purpose programming language intended to let application developers write once, run anywhere (WORA).",uses:["Enterprise Software","Android Mobile Apps","Backend Web Development","Big Data Technologies"],features:["Object-Oriented","Platform Independent","Secure","Multi-threaded"],careerScope:"High demand in large corporations, banking sectors, and Android app development firms.",whoShouldLearn:"Anyone interested in building large-scale backend systems or Android applications.",youtubeCourses:[{id:"1",title:"Java Full Course 2024",channel:"CodeWithHarry",duration:"12h 30m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"},{id:"2",title:"Java for Beginners",channel:"Telusko",duration:"15h 45m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},python:{id:"python",name:"Python",icon:"",description:"High-level, versatile language known for its readability and extensive libraries in AI and data science.",about:"Python is an interpreted, high-level and general-purpose programming language. Its design philosophy emphasizes code readability with its notable use of significant whitespace.",uses:["Data Science","Machine Learning","Artificial Intelligence","Web Development (Django/Flask)","Automation Scripts"],features:["Simple Syntax","Interpreted Language","Extensive Standard Library","Dynamically Typed"],careerScope:"Explosive growth due to AI/ML revolution; widely used in startups and researchers.",whoShouldLearn:"Beginners, future data scientists, and AI engineers.",youtubeCourses:[{id:"1",title:"Python for Beginners",channel:"Programming with Mosh",duration:"6h 14m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"},{id:"2",title:"100 Days of Python Code",channel:"Angela Yu",duration:"60h+",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},cpp:{id:"cpp",name:"C++",icon:"",description:"Powerful, performance-oriented language ideal for systems programming and competitive coding.",about:'C++ is a general-purpose programming language created by Bjarne Stroustrup as an extension of the C programming language, or "C with Classes".',uses:["Systems Programming","Game Development","Financial Systems","Competitive Programming"],features:["High Performance","Low-level Memory Manipulation","Multi-paradigm Support","Large Library Support"],careerScope:"Crucial for performance-critical industries like gaming, fintech, and OS development.",whoShouldLearn:"Students interested in low-level systems, game engines, or competitive programming.",youtubeCourses:[{id:"1",title:"C++ Tutorial for Beginners",channel:"FreeCodeCamp",duration:"31h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},javascript:{id:"javascript",name:"JavaScript",icon:"",description:"The language of the web, essential for frontend and backend development with Node.js.",about:"JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.",uses:["Web Frontend","Backend with Node.js","Mobile Apps (React Native)","Game Development"],features:["Lightweight","Asynchronous","Prototypal Inheritance","Event-Driven"],careerScope:"Universal demand; essential for every full-stack developer.",whoShouldLearn:"Aspiring web developers and software engineers.",youtubeCourses:[{id:"1",title:"JavaScript Mastery",channel:"Clever Programmer",duration:"10h 25m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},typescript:{id:"typescript",name:"TypeScript",icon:"",description:"Superset of JavaScript that adds static types, improving developer productivity and code quality.",about:"TypeScript is a strongly typed programming language that builds on JavaScript, giving you better tooling at any scale.",uses:["Large Scale Web Apps","Strictly Typed Projects","Frontend Frameworks (React/Angular)"],features:["Static Typing","IDE Support","Object-Oriented Features","Readable Code"],careerScope:"Increasingly preferred by top tech companies for web development over plain JS.",whoShouldLearn:"JavaScript developers looking to build more reliable and scalable applications.",youtubeCourses:[{id:"1",title:"TypeScript Full Course",channel:"Web Dev Simplified",duration:"2h 15m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},golang:{id:"golang",name:"Go",icon:"",description:"Statically typed language by Google, built for modern cloud infrastructure and concurrency.",about:"Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.",uses:["Cloud Native Development","Cloud Computing","Microservices","DevOps Tools"],features:["Concurrency Support","Fast Compilation","Simple Syntax","Garbage Collected"],careerScope:"Excellent scope in infrastructure-heavy companies and modern backend development.",whoShouldLearn:"Backend engineers and developers interested in cloud infrastructure.",youtubeCourses:[{id:"1",title:"Go / Golang Tutorial",channel:"CodeAcademy",duration:"4h 30m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},rust:{id:"rust",name:"Rust",icon:"",description:"Memory-safe systems programming language that provides high performance without a garbage collector.",about:"Rust is a multi-paradigm, general-purpose programming language designed for performance and safety, especially safe concurrency.",uses:["Systems Infrastructure","WebAssembly","Cryptocurrency Platforms","Embedded Systems"],features:["Memory Safety","Concurrency without Races","Zero-cost Abstractions","Efficient C Integration"],careerScope:"Highly paid niche; rapidly growing in popularity for safety-critical systems.",whoShouldLearn:"Systems programmers and anyone interested in high-performance, safe software.",youtubeCourses:[{id:"1",title:"Rust Programming Course",channel:"No Boilerplate",duration:"5h 10m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},swift:{id:"swift",name:"Swift",icon:"",description:"Powerful and intuitive programming language for iOS, iPadOS, macOS, tvOS, and watchOS.",about:"Swift is a robust and intuitive programming language created by Apple for building apps for iOS, Mac, Apple TV, and Apple Watch.",uses:["iOS App Development","macOS Applications","Server-side with Vapor"],features:["Safe","Fast","Expressive","Modern Syntax"],careerScope:"Strong demand in companies building high-quality Apple ecosystem products.",whoShouldLearn:"Aspiring mobile developers focused on the Apple ecosystem.",youtubeCourses:[{id:"1",title:"SwiftUI for Beginners",channel:"Design+Code",duration:"8h 20m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},kotlin:{id:"kotlin",name:"Kotlin",icon:"",description:"Modern, concise language fully interoperable with Java, and used for Android development.",about:"Kotlin is a cross-platform, statically typed, general-purpose programming language with type inference.",uses:["Android Mobile Apps","Backend Web Development","Multiplatform Mobile Development"],features:["Concise Code","Null Safety","Java Interoperability","Coroutines"],careerScope:"Standard for modern Android development; growing adoption in backend.",whoShouldLearn:"Android developers and Java developers looking for a modern alternative.",youtubeCourses:[{id:"1",title:"Kotlin Full Course",channel:"SmartHerd",duration:"12h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},php:{id:"php",name:"PHP",icon:"",description:"Server-side scripting language primarily used for web development and creating dynamic websites.",about:"PHP is a popular general-purpose scripting language that is especially suited to web development.",uses:["Server-side Web Apps","CMS (WordPress/Drupal)","E-commerce Platforms"],features:["Open Source","Easy Database Integration","Large Ecosystem","Flexible"],careerScope:"Powers a massive portion of the web; steady demand in web agencies.",whoShouldLearn:"Aspiring web developers and CMS enthusiasts.",youtubeCourses:[{id:"1",title:"PHP for Beginners",channel:"Dani Krossing",duration:"7h 45m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},ruby:{id:"ruby",name:"Ruby",icon:"",description:"Dynamic, open source programming language with a focus on simplicity and productivity.",about:"Ruby is a dynamic, interpreted, reflective, object-oriented, general-purpose programming language.",uses:["Web Development (Ruby on Rails)","Prototyping","Static Site Generators"],features:["Elegant Syntax","Object-Oriented","Highly Productive","Developer Friendly"],careerScope:"Strong niche in startups and companies valuing rapid development speed.",whoShouldLearn:"Developers who value code elegance and developer happiness.",youtubeCourses:[{id:"1",title:"Ruby Programming Course",channel:"Giraffe Academy",duration:"4h 15m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},sql:{id:"sql",name:"SQL",icon:"",description:"Standard language for accessing and manipulating databases, essential for any data-related role.",about:"SQL (Structured Query Language) is a domain-specific language used in programming and designed for managing data held in a relational database management system.",uses:["Database Management","Data Analysis","Backend Development"],features:["Declarative","Standard-driven","Powerful Querying","Set-based Logic"],careerScope:"Essential for every backend developer, data analyst, and database administrator.",whoShouldLearn:"Anyone working with data or building web backends.",youtubeCourses:[{id:"1",title:"SQL Full Course for Beginners",channel:"Alex The Analyst",duration:"4h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"}},r$=()=>{const{resourceId:t}=Dy(),e=nr(),n=()=>t==="programming-languages"?Object.values(Ay).map(u=>({id:u.id,title:u.name,type:"PDF",url:`/resource/programming-languages/${u.id}`,description:u.description})):t==="roadmaps-merged"?[{id:"rm-1",title:"Frontend Developer Roadmap",type:"Link",url:"https://roadmap.sh/frontend",description:"Step-by-step path to becoming a frontend engineer."},{id:"rm-2",title:"Backend Developer Roadmap",type:"Link",url:"https://roadmap.sh/backend",description:"Server-side technologies and architecture path."},{id:"rm-3",title:"DevOps Roadmap",type:"Link",url:"https://roadmap.sh/devops",description:"Infrastructure and automation learning path."},{id:"rm-4",title:"AI/ML Roadmap",type:"Link",url:"https://roadmap.sh/ai-data-scientist",description:"Data science and artificial intelligence path."}]:t==="cybersecurity"?[{id:"cs-1",title:"Ethical Hacking",type:"Video",url:"#",description:"Learn the fundamentals of penetration testing and ethical hacking."},{id:"cs-2",title:"Web Security",type:"Video",url:"#",description:"Secure web applications against common vulnerabilities like XSS and SQLi."},{id:"cs-3",title:"Network Security",type:"Video",url:"#",description:"Protect network infrastructure and data from unauthorized access."},{id:"cs-4",title:"OSINT",type:"Video",url:"#",description:"Open Source Intelligence gathering techniques and tools."},{id:"cs-5",title:"Cloud Security",type:"Video",url:"#",description:"Securing cloud environments and native applications."}]:t==="data-ai"?[{id:"da-1",title:"Data Structures & Algorithms",type:"Video",url:"#",description:"Core computer science concepts for efficient problem solving."},{id:"da-2",title:"Machine Learning",type:"Video",url:"#",description:"Supervised, unsupervised, and reinforcement learning algorithms."},{id:"da-3",title:"Deep Learning",type:"Video",url:"#",description:"Neural networks, computer vision, and NLP foundations."},{id:"da-4",title:"Data Science",type:"Video",url:"#",description:"Data analysis, visualization, and statistical modeling."},{id:"da-5",title:"MLOps",type:"Video",url:"#",description:"Deploying, monitoring, and maintaining ML models in production."}]:t==="web-app-dev"?[{id:"wd-1",title:"Frontend Development",type:"Video",url:"#",description:"Building responsive and interactive user interfaces."},{id:"wd-2",title:"Backend Development",type:"Video",url:"#",description:"Server-side logic, databases, and API development."},{id:"wd-3",title:"Full Stack Development",type:"Video",url:"#",description:"Mastering both client and server-side technologies."},{id:"wd-4",title:"Mobile App Development",type:"Video",url:"#",description:"Creating native and cross-platform mobile applications."}]:t==="cloud-devops"?[{id:"cd-1",title:"AWS, Azure, GCP",type:"Video",url:"#",description:"Mastering major public cloud platforms and services."},{id:"cd-2",title:"Docker & Kubernetes",type:"Video",url:"#",description:"Containerization and orchestration for scalable applications."},{id:"cd-3",title:"CI/CD Pipelines",type:"Video",url:"#",description:"Automating software delivery and deployment workflows."},{id:"cd-4",title:"Linux & SysAdmin",type:"Video",url:"#",description:"Essential Linux skills for server management and operations."}]:t==="career-prep"?[{id:"cp-1",title:"Interview Preparation",type:"Link",url:"#",description:"Technical and behavioral interview guides and tips."},{id:"cp-2",title:"Resume Building",type:"Link",url:"#",description:"Crafting effective resumes and cover letters."},{id:"cp-3",title:"System Design",type:"Link",url:"#",description:"Designing scalable and reliable software systems."},{id:"cp-4",title:"Internship Preparation",type:"Link",url:"#",description:"Guide to landing and succeeding in internships."}]:t==="competitive-prep"?[{id:"cmp-1",title:"Placement Aptitude",type:"Link",url:"#",description:"Quantitative, logical reasoning, and verbal ability practice."},{id:"cmp-2",title:"Coding Practice",type:"Link",url:"#",description:"Platform links and problem sets for coding interviews."},{id:"cmp-3",title:"CS Fundamentals",type:"Link",url:"#",description:"OS, DBMS, Networks, and OOPS core concepts."}]:[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"programming-languages":return"Programming Languages";case"roadmaps-merged":return"Learning Roadmaps";case"cybersecurity":return"Cybersecurity";case"data-ai":return"Data & AI";case"web-app-dev":return"Web & App Development";case"cloud-devops":return"Cloud & DevOps";case"career-prep":return"Career Preparation";case"competitive-prep":return"Competitive & Exam Prep";case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),o=r(t||"");return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(ER,{}),h.jsx("main",{className:"pt-32 pb-20 px-6",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs(Se.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:o}),h.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>h.jsxs(Se.div,{onClick:()=>e(l.url),className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300 group cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide ${t==="programming-languages"?"bg-blue-50 text-blue-600":l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:t==="programming-languages"?"Full Course":l.type}),h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:t==="programming-languages"?Ay[l.id]?.icon||"":l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:l.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed line-clamp-2",children:l.description}),h.jsxs("div",{className:"inline-flex items-center text-[#0066FF] font-bold group-hover:translate-x-1 transition-transform text-sm",children:["Access Resource ",h.jsx("span",{className:"ml-1",children:""})]})]},l.id))})]})})]})},s$=()=>{const t=nr(),[e,n]=x.useState(!0),[r,s]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(!1),[p,g]=x.useState(""),[v,w]=x.useState(""),T=async()=>{try{const S=(await UT(Ue,BC)).user,D=it(we,"users",S.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}catch(A){A instanceof Error?g(A.message):g("An unexpected error occurred")}},k=async A=>{A.preventDefault(),d(!0),g(""),w("");try{if(e){const S=await AT(Ue,r,o),D=it(we,"users",S.user.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}else await RT(Ue,r,o),t("/onboarding")}catch(S){S instanceof Error?g(S.message):g("An unexpected error occurred")}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),h.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),h.jsxs(Se.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[h.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),h.jsx("span",{children:"Continue with Google"})]}),h.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[h.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),h.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),h.jsx("input",{type:"email",required:!0,value:r,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),h.jsx("input",{type:"password",required:!0,value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),h.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),h.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),h.jsxs(Os,{children:[p&&h.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),v&&h.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),h.jsx(Se.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),h.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:h.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},i$=()=>{const t=nr(),[e,n]=x.useState(!1),[r,s]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(""),[p,g]=x.useState(""),[v,w]=x.useState(""),[T,k]=x.useState([]),[A,S]=x.useState(""),[D,j]=x.useState("");tn.useEffect(()=>{(async()=>{const I=Ue.currentUser;if(I){const R=it(we,"users",I.uid),N=await rs(R);if(N.exists()){const L=N.data();s(L.name||""),l(L.role||""),d(L.institution||""),g(L.bio||""),k(L.skills||[]),S(L.socials?.github||""),j(L.socials?.linkedin||"")}}})()},[]);const V=B=>{B.key==="Enter"&&v.trim()&&(B.preventDefault(),T.length<5&&!T.includes(v.trim())&&(k([...T,v.trim()]),w("")))},$=B=>{k(T.filter(I=>I!==B))},H=async B=>{B.preventDefault(),n(!0);try{const I=Ue.currentUser;if(!I)throw new Error("No user logged in");await Xf(it(we,"users",I.uid),{name:r,role:o,institution:u,bio:p,skills:T,socials:{github:A,linkedin:D},stats:{projects:0,stars:0,followers:0,following:0},avatar:I.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:I.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(I){console.error("Error saving profile:",I),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return h.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:h.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),h.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),h.jsxs("form",{onSubmit:H,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),h.jsx("input",{type:"text",required:!0,value:r,onChange:B=>s(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),h.jsx("input",{type:"text",required:!0,value:o,onChange:B=>l(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),h.jsx("input",{type:"text",required:!0,value:u,onChange:B=>d(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),h.jsx("textarea",{required:!0,value:p,onChange:B=>g(B.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(B=>h.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[B,h.jsx("button",{type:"button",onClick:()=>$(B),className:"hover:text-red-500",children:""})]},B))}),h.jsx("input",{type:"text",value:v,onChange:B=>w(B.target.value),onKeyDown:V,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),h.jsx("input",{type:"text",value:A,onChange:B=>S(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),h.jsx("input",{type:"text",value:D,onChange:B=>j(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},o$=()=>{const{languageId:t}=Dy(),e=nr(),n=t?Ay[t]:null;return x.useEffect(()=>{window.scrollTo(0,0)},[]),n?h.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx(Se.button,{onClick:()=>e("/resource/programming-languages"),className:"mb-8 px-4 py-2 rounded-lg bg-white hover:bg-gray-100 border border-gray-200 text-gray-600 transition-all flex items-center gap-2 text-sm font-medium shadow-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:" Back to Languages"}),h.jsxs(Se.div,{className:"bg-white rounded-3xl p-8 mb-8 border border-gray-100 shadow-sm relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform duration-300",children:n.icon}),h.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:n.name}),h.jsx("p",{className:"text-lg text-gray-600 leading-relaxed max-w-3xl",children:n.description})]}),h.jsx("div",{className:"absolute top-1/2 right-[-20px] -translate-y-1/2 text-[180px] opacity-[0.03] select-none pointer-events-none",children:n.icon})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[h.jsx(IE,{className:"h-6 w-6 text-[#FF0000]"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Best Free Full Courses"})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.youtubeCourses.map(r=>h.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow group flex flex-col",children:[h.jsxs("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:h.jsx(iU,{className:"h-12 w-12 text-white drop-shadow-lg"})}),h.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-[10px] font-bold rounded",children:r.duration}),h.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:h.jsx(IE,{className:"h-8 w-8"})})]}),h.jsxs("div",{className:"p-4 flex-1",children:[h.jsx("h3",{className:"font-bold text-gray-900 mb-1 line-clamp-2 leading-snug",children:r.title}),h.jsx("p",{className:"text-xs text-gray-500 mb-4 font-medium",children:r.channel}),h.jsxs("a",{href:r.url,className:"mt-auto inline-flex items-center gap-2 text-sm font-bold text-[#0066FF] hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors w-fit",children:["Start Learning ",h.jsx(xE,{className:"h-3 w-3"})]})]})]},r.id))})]}),h.jsxs("section",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm space-y-10",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(SE,{className:"h-6 w-6 text-[#0066FF]"}),h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["About ",n.name]})]}),h.jsx("p",{className:"text-gray-600 leading-relaxed italic border-l-4 border-blue-50 pl-4",children:n.about})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Main Uses"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.uses.map((r,s)=>h.jsx("span",{className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl border border-blue-100",children:r},s))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Key Features"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.features.map((r,s)=>h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[h.jsx(L8,{className:"h-5 w-5 text-green-500 shrink-0"}),h.jsx("span",{className:"text-sm font-bold text-gray-800",children:r})]},s))})]}),"sections"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-[#0066FF] to-blue-700 rounded-3xl p-6 text-white shadow-xl shadow-blue-500/20",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:h.jsx(B8,{className:"h-6 w-6 text-white"})}),h.jsx("h2",{className:"text-xl font-bold",children:"Language Notes"})]}),h.jsxs("p",{className:"text-blue-50 text-sm mb-6 leading-relaxed",children:["Access comprehensive study notes, cheat sheets, and interview questions for ",n.name,"."]}),h.jsxs("a",{href:n.notesLink,className:"w-full flex items-center justify-center gap-2 py-3 bg-white text-[#0066FF] rounded-2xl font-bold text-sm hover:bg-blue-50 transition-colors shadow-lg",children:["Get Drive Notes ",h.jsx(xE,{className:"h-4 w-4"})]})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"flex items-center gap-2 text-md font-bold text-gray-900 mb-4",children:[h.jsx(Lv,{className:"h-5 w-5 text-orange-500"}),"Career Scope"]}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-semibold",children:n.careerScope})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"flex items-center gap-2 text-md font-bold text-gray-900 mb-4",children:[h.jsx(SE,{className:"h-5 w-5 text-indigo-500"}),"Who should learn?"]}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-semibold",children:n.whoShouldLearn})]})]})]})]})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Language not found"}),h.jsx("button",{onClick:()=>e("/resource/programming-languages"),className:"text-[#0066FF] font-bold hover:underline",children:"Return to Languages"})]})})},a$=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsx("div",{className:"flex-grow",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"University (All)"}),h.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),h.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"Role (All)"}),h.jsx("option",{value:"Frontend",children:"Frontend"}),h.jsx("option",{value:"Backend",children:"Backend"}),h.jsx("option",{value:"Fullstack",children:"Fullstack"}),h.jsx("option",{value:"Designer",children:"Designer"}),h.jsx("option",{value:"Researcher",children:"Researcher"})]}),h.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"recent",children:"Recently Active"}),h.jsx("option",{value:"connections",children:"Most Connections"}),h.jsx("option",{value:"university",children:"Same University"})]})]})]})}),l$=()=>{const[t,e]=x.useState(null);return x.useEffect(()=>{const n=Nl(Ue,r=>{e(r)});return()=>n()},[]),t?h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-8 text-center border-b border-gray-100",children:[h.jsx(Mt,{to:"/profile",children:h.jsx("div",{className:"w-17 h-17 rounded-full border-2 border-white bg-blue-100 mx-auto flex items-center justify-center text-[#0066FF] font-bold text-2xl overflow-hidden hover:opacity-90 transition-opacity",children:t.email?.[0].toUpperCase()})}),h.jsxs("div",{className:"mt-4",children:[h.jsx(Mt,{to:"/profile",className:"font-bold text-gray-900 hover:underline",children:t.displayName||t.email?.split("@")[0]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:t.role||"Student & Aspiring Developer at CollabX"})]})]}),h.jsxs("div",{className:"py-3",children:[h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Profile viewers"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.profileViews||0})]})}),h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Project views"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.projectViews||0})]})})]}),h.jsxs(Mt,{to:"/saved",className:"px-4 py-3 border-t border-gray-100 flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[h.jsx(R8,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-xs font-bold text-gray-800",children:"My Items"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm sticky top-20",children:[h.jsxs("div",{className:"p-3",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Recent"})}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs(Mt,{to:"/projects",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(ml,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Popular Projects"})]}),h.jsxs(Mt,{to:"/students",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(_R,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Student Network"})]})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Groups"})}),h.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-between font-bold text-[#0066FF] hover:underline cursor-pointer",children:[h.jsx("span",{className:"text-xs",children:"Events"}),h.jsx(bR,{className:"h-4 w-4 text-gray-600 hover:bg-gray-100 rounded p-0.5"})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Followed Hashtags"})})]}),h.jsx("div",{className:"border-t border-gray-100 p-3 text-center hover:bg-gray-100 cursor-pointer transition-colors",children:h.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Discover more"})})]})]}):h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-7 text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-blue-50 mx-auto flex items-center justify-center text-blue-500 font-bold text-xl",children:"?"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"font-bold text-gray-900",children:"Welcome to CollabX!"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sign in to start collaborating"})]}),h.jsx("button",{className:"w-full mt-4 py-2 border-2 border-[#0066FF] text-[#0066FF] rounded-full text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})},nA=()=>{const t=[{name:"Sarah Chen",role:"Full Stack Developer",college:"Stanford University"},{name:"Alex Rivera",role:"UI/UX Designer",college:"MIT"},{name:"James Wilson",role:"ML Engineer",college:"IIT Bombay"}],e=[{title:"Project: Decentralized Voting",views:"1.2k",time:"12h ago"},{title:"Resource: Mastering React 19",views:"3.4k",time:"1d ago"},{title:"Roadmap: AI/ML 2024",views:"5k",time:"2d ago"}];return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Add to your feed"}),h.jsx(jE,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]}),h.jsx("div",{className:"flex flex-col gap-4",children:t.map((n,r)=>h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 shrink-0 flex items-center justify-center text-[#0066FF] font-bold text-xs uppercase",children:n.name[0]}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[h.jsx("span",{className:"font-bold text-sm text-gray-900 truncate hover:text-[#0066FF] hover:underline cursor-pointer",children:n.name}),h.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[n.role," at ",n.college]}),h.jsxs("button",{className:"mt-1.5 flex items-center justify-center gap-1 px-3 py-1 border border-gray-500 text-gray-600 rounded-full text-sm font-bold hover:bg-gray-50 hover:border-gray-800 transition-colors w-24",children:[h.jsx(EU,{className:"h-4 w-4"}),h.jsx("span",{children:"Follow"})]})]})]},r))}),h.jsx("div",{className:"mt-4 pt-2 border-t border-gray-50",children:h.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[h.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"View all recommendations"}),h.jsx(mU,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm sticky top-20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"CollabX Trending"}),h.jsx(jE,{className:"h-4 w-4 text-gray-400"})]}),h.jsx("div",{className:"flex flex-col gap-3",children:e.map((n,r)=>h.jsxs("div",{className:"group cursor-pointer",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-800 group-hover:text-[#0066FF]",children:n.title}),h.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500 mt-0.5",children:[h.jsxs("span",{children:[n.views," readers"]}),h.jsx("span",{children:""}),h.jsx("span",{children:n.time})]})]},r))}),h.jsxs("div",{className:"mt-4 text-[11px] text-gray-400 flex flex-wrap justify-center gap-x-3 gap-y-1",children:[h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"About"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Accessibility"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Help Center"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Privacy & Terms"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Ad Choices"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Advertising"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Business Services"})]}),h.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded bg-[#0066FF] flex items-center justify-center text-white text-[8px] font-bold",children:"X"}),h.jsx("span",{className:"text-xs text-gray-500",children:"CollabX Corporation  2024"})]})]})]})},td=({children:t})=>h.jsx("div",{className:"main-content pt-16 pb-24 lg:pt-20 lg:pb-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(l$,{})}),h.jsx("div",{className:"col-span-1 lg:col-span-6",children:t}),h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(nA,{})})]})}),c$=()=>{const t=nr(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(""),[u,d]=x.useState({institution:"",role:""}),[p,g]=x.useState("recent"),[v,w]=x.useState(null);x.useEffect(()=>{(async()=>{try{const S=Ue.currentUser;if(S){const V=it(we,"users",S.uid),$=await rs(V);$.exists()&&w($.data())}const D=await tr(st(we,"users")),j=[];D.forEach(V=>{const $=V.data();V.id!==S?.uid&&j.push({...$,uid:V.id})}),n(j)}catch(S){console.error("Error fetching students:",S)}finally{s(!1)}})()},[]);const T=x.useMemo(()=>e.filter(A=>{const S=o.toLowerCase(),D=A.name.toLowerCase().includes(S)||A.role.toLowerCase().includes(S)||A.headline&&A.headline.toLowerCase().includes(S)||A.skills?.some($=>$.toLowerCase().includes(S)),j=!u.institution||A.college===u.institution||A.institution===u.institution,V=!u.role||A.role.toLowerCase().includes(u.role.toLowerCase());return D&&j&&V}).sort((A,S)=>{if(p==="connections")return(S.stats?.connections||0)-(A.stats?.connections||0);if(p==="university"&&(v?.college||v?.institution)){const D=v?.college||v?.institution,j=A.college===D||A.institution===D?1:0;return(S.college===D||S.institution===D?1:0)-j}return 0}),[e,o,u,p,v]),k=()=>h.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm p-4 h-[320px] animate-pulse",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),h.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return h.jsx(td,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(_R,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Network Discovery"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Connect with ambitious students from top universities and build your community."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm lg:sticky lg:top-24 z-10",children:h.jsx(a$,{onSearchChange:l,onFilterChange:(A,S)=>d(D=>({...D,[A]:S})),onSortChange:g})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:6}).map((A,S)=>h.jsx(k,{},S)):h.jsx(Os,{children:T.length>0?T.map(A=>h.jsx(PR,{student:A,onClick:()=>t(`/profile/${A.uid}`)},A.uid)):h.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Iu,{className:"w-8 h-8 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search query."})]})})})]})})},u$=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,o]=x.useState(""),[l,u]=x.useState("idle"),d=async p=>{p.preventDefault(),u("submitting");try{await yi(st(we,"feedback"),{name:t,email:n,message:s,created_at:rt.now()}),u("success"),e(""),r(""),o(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return h.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:h.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),h.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),h.jsx("textarea",{id:"message",value:s,onChange:p=>o(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),h.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&h.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&h.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},qi=({children:t})=>{const[e,n]=x.useState(!0),[r,s]=x.useState(!1);return x.useEffect(()=>{const o=Nl(Ue,l=>{s(!!l),n(!1)});return()=>o()},[]),e?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?h.jsx(h.Fragment,{children:t}):h.jsx(iP,{to:"/login"})},d$=()=>{const{pathname:t,hash:e}=Lr();return x.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},h$=async t=>{try{return(await yi(st(we,"posts"),{...t,likesCount:0,commentsCount:0,repostsCount:0,createdAt:rn()})).id}catch(e){throw console.error("Error creating post:",e),e}},f$=t=>{const e=Nt(st(we,"posts"),bo("createdAt","desc"));return Sl(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));t(r)})},p$=async(t,e)=>{const n=it(we,"posts",t),r=`${e}_${t}`,s=it(we,"likes",r);try{await EM(we,async o=>{const l=await o.get(s),u=await o.get(n);if(!u.exists())throw new Error("Post does not exist!");const d=u.data().likesCount||0;l.exists()?(o.delete(s),o.update(n,{likesCount:Math.max(0,d-1)})):(o.set(s,{postId:t,userId:e,createdAt:rn()}),o.update(n,{likesCount:d+1}))})}catch(o){throw console.error("Error toggling like:",o),o}},m$=async t=>{try{const e=Nt(st(we,"likes"),xt("userId","==",t));return(await tr(e)).docs.map(r=>r.data().postId)}catch(e){return console.error("Error fetching user likes:",e),[]}},g$=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(""),[s,o]=x.useState(!1),[l,u]=x.useState(""),[d,p]=x.useState(new Set),[g,v]=x.useState({}),w=Ue.currentUser;x.useEffect(()=>{const S=f$(D=>{e(D)});return w&&m$(w.uid).then(D=>{p(new Set(D))}),()=>S()},[w]);const T=async S=>{if(S.preventDefault(),!w||!n.trim()||s)return;const D=gl(n);if(D.hasProfanity){u(Mv(D.foundWords));return}u(""),o(!0);try{await h$({userId:w.uid,authorName:w.displayName||"Anonymous User",authorAvatar:w.photoURL||"",authorRole:"Student",content:n,type:"post",tags:n.match(/#\w+/g)||[]}),r("")}catch(j){console.error("Failed to create post:",j)}finally{o(!1)}},k=async S=>{if(!w||g[S])return;const D=d.has(S),j=[...t],V=new Set(d);p($=>{const H=new Set($);return D?H.delete(S):H.add(S),H}),e($=>$.map(H=>{if(H.id===S){const B=H.likesCount||0;return{...H,likesCount:D?Math.max(0,B-1):B+1}}return H})),v($=>({...$,[S]:!0}));try{await p$(S,w.uid)}catch($){console.error("Failed to toggle like:",$),e(j),p(V)}finally{v($=>({...$,[S]:!1}))}},A=S=>{if(!S)return"Just now";const D=S.toDate?S.toDate():new Date(S),V=Math.floor((new Date().getTime()-D.getTime())/1e3);return V<60?`${V}s ago`:V<3600?`${Math.floor(V/60)}m ago`:V<86400?`${Math.floor(V/3600)}h ago`:`${Math.floor(V/86400)}d ago`};return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg shrink-0 overflow-hidden",children:w?.photoURL?h.jsx("img",{src:w.photoURL,alt:"Me",className:"w-full h-full object-cover"}):w?.displayName?.[0]||w?.email?.[0]||"U"}),h.jsxs("form",{onSubmit:T,className:"flex-1",children:[l&&h.jsx("div",{className:"mb-2 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:l}),h.jsx("textarea",{value:n,onChange:S=>{r(S.target.value),l&&u("")},placeholder:"Start a project or share an update...",className:"w-full text-left px-4 py-3 border border-gray-200 rounded-2xl text-gray-800 hover:bg-gray-50 transition-colors text-sm font-medium resize-none focus:outline-none focus:ring-1 focus:ring-blue-100",rows:2}),n.trim()&&h.jsx("div",{className:"flex justify-end mt-2",children:h.jsx("button",{type:"submit",disabled:s,className:"bg-[#0066FF] text-white px-4 py-1.5 rounded-full text-sm font-bold disabled:opacity-50 hover:bg-blue-600 transition-colors",children:s?"Posting...":"Post"})})]})]}),h.jsxs("div",{className:"flex justify-between mt-3 px-2 border-t border-gray-50 pt-2",children:[h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx(rU,{className:"h-5 w-5 text-blue-400"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Media"})]}),h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx(xR,{className:"h-5 w-5 text-yellow-500"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Event"})]}),h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx($8,{className:"h-5 w-5 text-orange-400"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Write article"})]})]})]}),t.map(S=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 py-3 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between px-4 mb-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg overflow-hidden shrink-0",children:S.authorAvatar?h.jsx("img",{src:S.authorAvatar,alt:_h(S.authorName),className:"w-full h-full object-cover"}):_h(S.authorName)[0]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"text-sm font-bold text-gray-900 flex items-center gap-1 hover:text-[#0066FF] hover:underline cursor-pointer",children:[_h(S.authorName),h.jsx("span",{className:"text-xs font-normal text-gray-400",children:" 1st"})]}),h.jsx("span",{className:"text-[11px] text-gray-500 truncate w-48 sm:w-80",children:S.authorRole||"Student"}),h.jsxs("span",{className:"text-[11px] text-gray-400 flex items-center gap-1",children:[A(S.createdAt),"  ",h.jsx(EE,{className:"h-3 w-3"})]})]})]}),h.jsx("button",{className:"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8 flex items-center justify-center transition-colors",children:h.jsx(q8,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"px-4 mb-3",children:[h.jsx("p",{className:"text-sm text-gray-800 leading-normal whitespace-pre-wrap",children:_h(S.content)}),S.tags&&S.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:S.tags.map(D=>h.jsx("span",{className:"text-sm font-bold text-[#0066FF] hover:underline cursor-pointer",children:D},D))})]}),S.imageUrl&&h.jsx("div",{className:"mb-3",children:h.jsx("img",{src:S.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[512px] object-cover"})}),h.jsxs("div",{className:"px-4 flex justify-between items-center pb-2 border-b border-gray-50",children:[h.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 hover:text-[#0066FF] cursor-pointer",children:[h.jsx("div",{className:"flex -space-x-1",children:h.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-white ${d.has(S.id)?"bg-[#0066FF]":"bg-gray-400"}`,children:h.jsx(PE,{className:"h-2.5 w-2.5"})})}),h.jsx("span",{className:d.has(S.id)?"text-[#0066FF] font-bold":"",children:S.likesCount||0})]}),h.jsxs("div",{className:"flex gap-2 text-[11px] text-gray-500",children:[h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[S.commentsCount||0," comments"]}),h.jsx("span",{children:""}),h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[S.repostsCount||0," shares"]})]})]}),h.jsxs("div",{className:"flex px-2 pt-1",children:[h.jsxs("button",{onClick:()=>k(S.id),disabled:g[S.id],className:`flex_1 flex items-center justify-center gap-2 py-2.5 rounded transition-colors group ${d.has(S.id)?"text-[#0066FF] bg-blue-50/50":"text-gray-500 hover:bg-gray-100"}`,children:[d.has(S.id)?h.jsx(PE,{className:`h-5 w-5 ${g[S.id]?"animate-pulse":"group-hover:scale-110"}`}):h.jsx(Y8,{className:`h-5 w-5 ${g[S.id]?"animate-pulse":"group-hover:scale-110"}`}),h.jsx("span",{className:"text-sm font-bold",children:d.has(S.id)?"Liked":"Like"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(j8,{className:"h-5 w-5 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Comment"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(lU,{className:"h-5 w-5 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Repost"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(tU,{className:"h-5 w-5 -rotate-45 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Send"})]})]})]},S.id)),t.length===0&&h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500",children:[h.jsx(EE,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),h.jsx("p",{children:"No posts yet. Be the first to share something!"})]})]})},y$=()=>{const[t,e]=x.useState("All"),[n,r]=x.useState(""),[s,o]=x.useState([]),[l,u]=x.useState(!0),[d,p]=x.useState(null),[g,v]=x.useState(!1),[w,T]=x.useState(!1),[k,A]=x.useState(null);x.useEffect(()=>{S();const B=Nl(Ue,I=>{p(I)});return()=>B()},[]);const S=async()=>{u(!0);const B=await AU();o(B),u(!1)},D=async B=>{if(!d){v(!0);return}A(B);try{await RU(B),await S()}catch(I){console.error("Failed to join project:",I)}finally{A(null)}},j=()=>{d?T(!0):v(!0)},V=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],$=s.filter(B=>{const I=t==="All"||B.category===t,R=B.title.toLowerCase().includes(n.toLowerCase())||B.description.toLowerCase().includes(n.toLowerCase())||B.techStack?.some(N=>N.toLowerCase().includes(n.toLowerCase()));return I&&R}),H=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm animate-pulse",children:[h.jsx("div",{className:"h-40 bg-gray-100"}),h.jsxs("div",{className:"p-4",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-4"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"})]})]})]});return h.jsxs(td,{children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(ml,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Collaboration Projects"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Find projects to join and talented students to collaborate with."})]})]}),h.jsxs("button",{onClick:j,className:"bg-[#0066FF] text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[h.jsx(bR,{className:"h-5 w-5"}),"Post Project"]})]})}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm lg:sticky lg:top-24 z-10 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Iu,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search by title, description, or stack...",value:n,onChange:B=>r(B.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white focus:border-transparent transition-all"})]}),h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[h.jsxs("div",{className:"flex items-center gap-1.5 mr-2 shrink-0 text-gray-500",children:[h.jsx(G8,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filters:"})]}),V.map(B=>h.jsx("button",{onClick:()=>e(B),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${t===B?"bg-[#0066FF] border-[#0066FF] text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:B},B))]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l?Array.from({length:4}).map((B,I)=>h.jsx(H,{},I)):h.jsx(Os,{children:$.length>0?$.map(B=>h.jsxs(Se.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer",children:[h.jsxs("div",{className:"h-40 overflow-hidden relative",children:[h.jsx("img",{src:B.thumbnailUrl||`https://source.unsplash.com/random/800x600?tech,${B.category}`,alt:B.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-3 left-3",children:h.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-md text-[10px] font-bold text-[#0f172a] uppercase border border-white shadow-sm",children:B.category})})]}),h.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-[10px] overflow-hidden shrink-0",children:B.ownerAvatar?h.jsx("img",{src:B.ownerAvatar,alt:B.ownerName,className:"w-full h-full object-cover"}):B.ownerName[0]}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:B.ownerName})]}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:B.title}),h.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-4 h-8",children:B.description}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-4 h-6 overflow-hidden",children:B.techStack?.map(I=>h.jsxs("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2 py-0.5 rounded",children:["#",I]},I))}),h.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(ml,{className:"h-4 w-4"}),h.jsxs("span",{className:"text-[11px] font-medium",children:[B.members?.length||0," members"]})]}),h.jsx("button",{onClick:I=>{I.stopPropagation(),!B.members?.includes(d?.uid||"")&&(B.pendingRequests?.includes(d?.uid||"")||D(B.id))},disabled:k===B.id||B.members?.includes(d?.uid||"")||B.pendingRequests?.includes(d?.uid||""),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${B.members?.includes(d?.uid||"")?"bg-green-50 text-green-600 border border-green-100 cursor-default":B.pendingRequests?.includes(d?.uid||"")?"bg-yellow-50 text-yellow-600 border border-yellow-100 cursor-default":"bg-[#0066FF] text-white hover:bg-blue-600"}`,children:B.members?.includes(d?.uid||"")?"Joined":B.pendingRequests?.includes(d?.uid||"")?"Pending":k===B.id?"Joining...":"Join"})]})]})]},B.id)):h.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(ml,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Be the first to post a project in this category!"})]})})})]}),h.jsx(Dv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(IR,{isOpen:w,onClose:()=>T(!1),onSuccess:S})]})},v$=()=>{const t=nr(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState("");x.useEffect(()=>{u()},[]);const u=async()=>{try{const g=st(we,"resources"),v=Nt(g),T=(await tr(v)).docs.map(k=>({id:k.id,...k.data()}));if(T.length===0)n([{id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"},{id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"},{id:"cybersecurity",title:"Cybersecurity",description:"Ethical Hacking, Web Security, Network Security, OSINT, Cloud Security.",icon:"",color:"badge-red"},{id:"data-ai",title:"Data & AI",description:"DSA, Machine Learning, Deep Learning, Data Science, MLOps.",icon:"",color:"badge-blue"},{id:"web-app-dev",title:"Web & App Development",description:"Frontend, Backend, Full Stack, Mobile App Development.",icon:"",color:"badge-purple"},{id:"cloud-devops",title:"Cloud & DevOps",description:"AWS, Azure, GCP, Docker, Kubernetes, CI/CD, Linux.",icon:"",color:"badge-blue"},{id:"career-prep",title:"Career Preparation",description:"Interview Prep, Resume Building, System Design, Internship Prep.",icon:"",color:"badge-yellow"},{id:"competitive-prep",title:"Competitive & Exam Prep",description:"Placement Aptitude, Coding Practice, CS Fundamentals.",icon:"",color:"badge-green"},{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]);else{const k=[{id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"},{id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"},{id:"cybersecurity",title:"Cybersecurity",description:"Ethical Hacking, Web Security, Network Security, OSINT, Cloud Security.",icon:"",color:"badge-red"},{id:"data-ai",title:"Data & AI",description:"DSA, Machine Learning, Deep Learning, Data Science, MLOps.",icon:"",color:"badge-blue"},{id:"web-app-dev",title:"Web & App Development",description:"Frontend, Backend, Full Stack, Mobile App Development.",icon:"",color:"badge-purple"},{id:"cloud-devops",title:"Cloud & DevOps",description:"AWS, Azure, GCP, Docker, Kubernetes, CI/CD, Linux.",icon:"",color:"badge-blue"},{id:"career-prep",title:"Career Preparation",description:"Interview Prep, Resume Building, System Design, Internship Prep.",icon:"",color:"badge-yellow"},{id:"competitive-prep",title:"Competitive & Exam Prep",description:"Placement Aptitude, Coding Practice, CS Fundamentals.",icon:"",color:"badge-green"}];let A=[...T];k.forEach(S=>{A.some(D=>D.id===S.id)||A.unshift(S)}),n(A)}}catch(g){console.error("Error fetching resources:",g)}finally{s(!1)}},d=e.filter(g=>g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())),p=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mb-4"}),h.jsx("div",{className:"h-5 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3"})]});return h.jsx(td,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(_y,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Resources"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Curated study materials and exam preparation guides to help you excel."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm lg:sticky lg:top-24 z-10",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Iu,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search resources, exams, or topics...",value:o,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?Array.from({length:3}).map((g,v)=>h.jsx(p,{},v)):h.jsx(Os,{children:d.length>0?d.map(g=>h.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/resource/${g.id}`),className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all cursor-pointer group flex items-start gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-xl flex items-center justify-center text-3xl shrink-0 group-hover:scale-110 transition-transform",children:g.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors",children:g.title}),h.jsx(E8,{className:"h-4 w-4 text-gray-300 group-hover:text-[#0066FF] group-hover:translate-x-1 transition-all"})]}),h.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed mb-3",children:g.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Study Guide"}),h.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Free Access"})]})]})]},g.id)):h.jsxs("div",{className:"py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(Lv,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No resources found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try different keywords or check back later."})]})})})]})})},w$=()=>h.jsxs("div",{className:"pb-20 pt-4 px-4 min-h-screen",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Explore"}),h.jsx("div",{className:"max-w-xl mx-auto",children:h.jsx(nA,{})})]}),x$=tn.lazy(()=>Fy(()=>import("./Messages-FV5mh7pP.js"),[])),b$=tn.lazy(()=>Fy(()=>import("./Notifications-D5SOU7X3.js"),[])),_$=()=>{const t=Lr();return tn.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const o=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:o,behavior:"smooth"})}},100)}},[t.hash]),t.hash?h.jsxs("main",{className:"bg-white min-h-screen",children:[h.jsx(SU,{}),h.jsx("div",{id:"projects",children:h.jsx(PU,{})}),h.jsx("div",{id:"resources",children:h.jsx(NU,{})}),h.jsx(OU,{}),h.jsx(u$,{})]}):h.jsx(td,{children:h.jsx(g$,{})})},E$=()=>h.jsxs("div",{className:"min-h-screen bg-[#f3f2ef] text-[#0f172a] font-sans",children:[h.jsx(d$,{}),h.jsx(ER,{}),h.jsxs(aP,{children:[h.jsx(Fn,{path:"/",element:h.jsx(_$,{})}),h.jsx(Fn,{path:"/profile",element:h.jsx(qi,{children:h.jsx(i2,{})})}),h.jsx(Fn,{path:"/profile/:userId",element:h.jsx(qi,{children:h.jsx(i2,{})})}),h.jsx(Fn,{path:"/students",element:h.jsx(qi,{children:h.jsx(c$,{})})}),h.jsx(Fn,{path:"/projects",element:h.jsx(qi,{children:h.jsx(y$,{})})}),h.jsx(Fn,{path:"/resources",element:h.jsx(qi,{children:h.jsx(v$,{})})}),h.jsx(Fn,{path:"/explore",element:h.jsx(td,{children:h.jsx(w$,{})})}),h.jsx(Fn,{path:"/onboarding",element:h.jsx(qi,{children:h.jsx(i$,{})})}),h.jsx(Fn,{path:"/messages",element:h.jsx(qi,{children:h.jsx(x$,{})})}),h.jsx(Fn,{path:"/notifications",element:h.jsx(qi,{children:h.jsx(b$,{})})}),h.jsx(Fn,{path:"/roadmap/:roadmapId",element:h.jsx(n$,{})}),h.jsx(Fn,{path:"/resource/:resourceId",element:h.jsx(r$,{})}),h.jsx(Fn,{path:"/resource/programming-languages/:languageId",element:h.jsx(o$,{})}),h.jsx(Fn,{path:"/login",element:h.jsx(s$,{})})]})]});gk.createRoot(document.getElementById("root")).render(h.jsx(x.StrictMode,{children:h.jsx(PP,{children:h.jsx(E$,{})})}));export{tU as F,Ue as a,A$ as b,nr as c,P$ as d,N$ as e,L8 as f,Hv as g,j8 as h,ml as i,h as j,R$ as l,k$ as m,x as r,I$ as s,T$ as u};
