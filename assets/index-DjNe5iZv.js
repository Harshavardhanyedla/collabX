(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ME(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},Nc={},Rm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function MA(){if(Wx)return Oe;Wx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function S(U,J,we){this.props=U,this.context=J,this.refs=N,this.updater=we||T}S.prototype.isReactComponent={},S.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=S.prototype;function j(U,J,we){this.props=U,this.context=J,this.refs=N,this.updater=we||T}var F=j.prototype=new D;F.constructor=j,A(F,S.prototype),F.isPureReactComponent=!0;var $=Array.isArray,H=Object.prototype.hasOwnProperty,B={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(U,J,we){var _e,Pe={},Te=null,Ue=null;if(J!=null)for(_e in J.ref!==void 0&&(Ue=J.ref),J.key!==void 0&&(Te=""+J.key),J)H.call(J,_e)&&!I.hasOwnProperty(_e)&&(Pe[_e]=J[_e]);var je=arguments.length-2;if(je===1)Pe.children=we;else if(1<je){for(var Me=Array(je),Ie=0;Ie<je;Ie++)Me[Ie]=arguments[Ie+2];Pe.children=Me}if(U&&U.defaultProps)for(_e in je=U.defaultProps,je)Pe[_e]===void 0&&(Pe[_e]=je[_e]);return{$$typeof:t,type:U,key:Te,ref:Ue,props:Pe,_owner:B.current}}function P(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(we){return J[we]})}var q=/\/+/g;function M(U,J){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):J.toString(36)}function ke(U,J,we,_e,Pe){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(Te){case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=U,Pe=Pe(Ue),U=_e===""?"."+M(Ue,0):_e,$(Pe)?(we="",U!=null&&(we=U.replace(q,"$&/")+"/"),ke(Pe,J,we,"",function(Ie){return Ie})):Pe!=null&&(L(Pe)&&(Pe=P(Pe,we+(!Pe.key||Ue&&Ue.key===Pe.key?"":(""+Pe.key).replace(q,"$&/")+"/")+U)),J.push(Pe)),1;if(Ue=0,_e=_e===""?".":_e+":",$(U))for(var je=0;je<U.length;je++){Te=U[je];var Me=_e+M(Te,je);Ue+=ke(Te,J,we,Me,Pe)}else if(Me=w(U),typeof Me=="function")for(U=Me.call(U),je=0;!(Te=U.next()).done;)Te=Te.value,Me=_e+M(Te,je++),Ue+=ke(Te,J,we,Me,Pe);else if(Te==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Je(U,J,we){if(U==null)return U;var _e=[],Pe=0;return ke(U,_e,"","",function(Te){return J.call(we,Te,Pe++)}),_e}function dt(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(we){(U._status===0||U._status===-1)&&(U._status=1,U._result=we)},function(we){(U._status===0||U._status===-1)&&(U._status=2,U._result=we)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ge={current:null},se={transition:null},le={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:B};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Je,forEach:function(U,J,we){Je(U,function(){J.apply(this,arguments)},we)},count:function(U){var J=0;return Je(U,function(){J++}),J},toArray:function(U){return Je(U,function(J){return J})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=S,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=j,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Oe.act=Z,Oe.cloneElement=function(U,J,we){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var _e=A({},U.props),Pe=U.key,Te=U.ref,Ue=U._owner;if(J!=null){if(J.ref!==void 0&&(Te=J.ref,Ue=B.current),J.key!==void 0&&(Pe=""+J.key),U.type&&U.type.defaultProps)var je=U.type.defaultProps;for(Me in J)H.call(J,Me)&&!I.hasOwnProperty(Me)&&(_e[Me]=J[Me]===void 0&&je!==void 0?je[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)_e.children=we;else if(1<Me){je=Array(Me);for(var Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie+2];_e.children=je}return{$$typeof:t,type:U.type,key:Pe,ref:Te,props:_e,_owner:Ue}},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Oe.createElement=R,Oe.createFactory=function(U){var J=R.bind(null,U);return J.type=U,J},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=L,Oe.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:dt}},Oe.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},Oe.startTransition=function(U){var J=se.transition;se.transition={};try{U()}finally{se.transition=J}},Oe.unstable_act=Z,Oe.useCallback=function(U,J){return ge.current.useCallback(U,J)},Oe.useContext=function(U){return ge.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return ge.current.useDeferredValue(U)},Oe.useEffect=function(U,J){return ge.current.useEffect(U,J)},Oe.useId=function(){return ge.current.useId()},Oe.useImperativeHandle=function(U,J,we){return ge.current.useImperativeHandle(U,J,we)},Oe.useInsertionEffect=function(U,J){return ge.current.useInsertionEffect(U,J)},Oe.useLayoutEffect=function(U,J){return ge.current.useLayoutEffect(U,J)},Oe.useMemo=function(U,J){return ge.current.useMemo(U,J)},Oe.useReducer=function(U,J,we){return ge.current.useReducer(U,J,we)},Oe.useRef=function(U){return ge.current.useRef(U)},Oe.useState=function(U){return ge.current.useState(U)},Oe.useSyncExternalStore=function(U,J,we){return ge.current.useSyncExternalStore(U,J,we)},Oe.useTransition=function(){return ge.current.useTransition()},Oe.version="18.3.1",Oe}var qx;function Cy(){return qx||(qx=1,Rm.exports=MA()),Rm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function VA(){if(Hx)return Nc;Hx=1;var t=Cy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,v={},w=null,T=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:w,ref:T,props:v,_owner:s.current}}return Nc.Fragment=n,Nc.jsx=l,Nc.jsxs=l,Nc}var Gx;function OA(){return Gx||(Gx=1,Im.exports=VA()),Im.exports}var h=OA(),b=Cy();const Zt=ME(b);var th={},Am={exports:{}},Hn={},Nm={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function FA(){return Kx||(Kx=1,(function(t){function e(se,le){var Z=se.length;se.push(le);e:for(;0<Z;){var U=Z-1>>>1,J=se[U];if(0<s(J,le))se[U]=le,se[Z]=J,Z=U;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var le=se[0],Z=se.pop();if(Z!==le){se[0]=Z;e:for(var U=0,J=se.length,we=J>>>1;U<we;){var _e=2*(U+1)-1,Pe=se[_e],Te=_e+1,Ue=se[Te];if(0>s(Pe,Z))Te<J&&0>s(Ue,Pe)?(se[U]=Ue,se[Te]=Z,U=Te):(se[U]=Pe,se[_e]=Z,U=_e);else if(Te<J&&0>s(Ue,Z))se[U]=Ue,se[Te]=Z,U=Te;else break e}}return le}function s(se,le){var Z=se.sortIndex-le.sortIndex;return Z!==0?Z:se.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,v=null,w=3,T=!1,A=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=se)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function $(se){if(N=!1,F(se),!A)if(n(d)!==null)A=!0,dt(H);else{var le=n(p);le!==null&&ge($,le.startTime-se)}}function H(se,le){A=!1,N&&(N=!1,D(R),R=-1),T=!0;var Z=w;try{for(F(le),v=n(d);v!==null&&(!(v.expirationTime>le)||se&&!V());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var J=U(v.expirationTime<=le);le=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),F(le)}else r(d);v=n(d)}if(v!==null)var we=!0;else{var _e=n(p);_e!==null&&ge($,_e.startTime-le),we=!1}return we}finally{v=null,w=Z,T=!1}}var B=!1,I=null,R=-1,P=5,L=-1;function V(){return!(t.unstable_now()-L<P)}function q(){if(I!==null){var se=t.unstable_now();L=se;var le=!0;try{le=I(!0,se)}finally{le?M():(B=!1,I=null)}}else B=!1}var M;if(typeof j=="function")M=function(){j(q)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Je=ke.port2;ke.port1.onmessage=q,M=function(){Je.postMessage(null)}}else M=function(){S(q,0)};function dt(se){I=se,B||(B=!0,M())}function ge(se,le){R=S(function(){se(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){A||T||(A=!0,dt(H))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var Z=w;w=le;try{return se()}finally{w=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Z=w;w=se;try{return le()}finally{w=Z}},t.unstable_scheduleCallback=function(se,le,Z){var U=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?U+Z:U):Z=U,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,se={id:g++,callback:le,priorityLevel:se,startTime:Z,expirationTime:J,sortIndex:-1},Z>U?(se.sortIndex=Z,e(p,se),n(d)===null&&se===n(p)&&(N?(D(R),R=-1):N=!0,ge($,Z-U))):(se.sortIndex=J,e(d,se),A||T||(A=!0,dt(H))),se},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(se){var le=w;return function(){var Z=w;w=le;try{return se.apply(this,arguments)}finally{w=Z}}}})(km)),km}var Qx;function UA(){return Qx||(Qx=1,Nm.exports=FA()),Nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function BA(){if(Yx)return Hn;Yx=1;var t=Cy(),e=UA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(i){return d.call(v,i)?!0:d.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,o,c,m){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,c,m){if(o===null||typeof o>"u"||T(i,o,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,c,m,y,x,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,j);S[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,j);S[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,j);S[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,m){var y=S.hasOwnProperty(o)?S[o]:null;(y!==null?y.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,c,y,m)&&(c=null),m||y===null?w(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,m=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?i.setAttributeNS(m,o,c):i.setAttribute(o,c))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),B=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,U;function J(i){if(U===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var we=!1;function _e(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var m=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){m=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){m=Y}i()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=m.stack.split(`
`),C=y.length-1,O=x.length-1;1<=C&&0<=O&&y[C]!==x[O];)O--;for(;1<=C&&0<=O;C--,O--)if(y[C]!==x[O]){if(C!==1||O!==1)do if(C--,O--,0>O||y[C]!==x[O]){var z=`
`+y[C].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=C&&0<=O);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function Pe(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function Te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case B:return"Portal";case P:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case ke:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case q:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Je:return o=i.displayName||null,o!==null?o:Te(i.type)||"Memo";case dt:o=i._payload,i=i._init;try{return Te(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ie(i){var o=Me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){m=""+C,x.call(this,C)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function gr(i){i._valueTracker||(i._valueTracker=Ie(i))}function pn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return i&&(m=Me(i)?i.checked?"true":"false":i.value),i=m,i!==c?(o.setValue(i),!0):!1}function An(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function mn(i,o){var c=o.checked;return Z({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Vr(i,o){var c=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;c=je(o.value!=null?o.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function tr(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function as(i,o){tr(i,o);var c=je(o.value),m=o.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ht(i,o.type,c):o.hasOwnProperty("defaultValue")&&ht(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function xi(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ht(i,o,c){(o!=="number"||An(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ze=Array.isArray;function gn(i,o,c,m){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&m&&(i[c].defaultSelected=!0)}else{for(c=""+je(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ls(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function _i(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Ze(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:je(c)}}function bo(i,o){var c=je(o.value),m=je(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function cs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Eo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Eo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nn,us=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,m,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,m,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ds(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},To=["Webkit","ms","Moz","O"];Object.keys(tn).forEach(function(i){To.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),tn[o]=tn[i]})});function hs(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||tn.hasOwnProperty(i)&&tn[i]?(""+o).trim():o+"px"}function bi(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=hs(c,o[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,y):i[c]=y}}var $s=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(i,o){if(o){if($s[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ei(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function Ti(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fr=null,Ur=null,Ve=null;function Ft(i){if(i=mc(i)){if(typeof Fr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=gd(o),Fr(i.stateNode,i.type,o))}}function bt(i){Ur?Ve?Ve.push(i):Ve=[i]:Ur=i}function nn(){if(Ur){var i=Ur,o=Ve;if(Ve=Ur=null,Ft(i),o)for(i=0;i<o.length;i++)Ft(o[i])}}function rn(i,o){return i(o)}function qt(){}var Rt=!1;function Br(i,o,c){if(Rt)return i(o,c);Rt=!0;try{return rn(i,o,c)}finally{Rt=!1,(Ur!==null||Ve!==null)&&(qt(),nn())}}function at(i,o){var c=i.stateNode;if(c===null)return null;var m=gd(c);if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var sn=!1;if(u)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){sn=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{sn=!1}function Un(i,o,c,m,y,x,C,O,z){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(re){this.onError(re)}}var kn=!1,yn=null,Pn=!1,Ht=null,Si={onError:function(i){kn=!0,yn=i}};function Qu(i,o,c,m,y,x,C,O,z){kn=!1,yn=null,Un.apply(Si,arguments)}function $l(i,o,c,m,y,x,C,O,z){if(Qu.apply(this,arguments),kn){if(kn){var Y=yn;kn=!1,yn=null}else throw Error(n(198));Pn||(Pn=!0,Ht=Y)}}function zr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Wl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Yu(i){if(zr(i)!==i)throw Error(n(188))}function Xu(i){var o=i.alternate;if(!o){if(o=zr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,m=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return Yu(y),i;if(x===m)return Yu(y),o;x=x.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=x;else{for(var C=!1,O=y.child;O;){if(O===c){C=!0,c=y,m=x;break}if(O===m){C=!0,m=y,c=x;break}O=O.sibling}if(!C){for(O=x.child;O;){if(O===c){C=!0,c=x,m=y;break}if(O===m){C=!0,m=x,c=y;break}O=O.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Ju(i){return i=Xu(i),i!==null?So(i):null}function So(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=So(i);if(o!==null)return o;i=i.sibling}return null}var ql=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,Co=e.unstable_shouldYield,Ws=e.unstable_requestPaint,lt=e.unstable_now,sp=e.unstable_getCurrentPriorityLevel,ba=e.unstable_ImmediatePriority,Hl=e.unstable_UserBlockingPriority,Io=e.unstable_NormalPriority,Gl=e.unstable_LowPriority,Ea=e.unstable_IdlePriority,Ro=null,rr=null;function Zu(i){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ro,i,void 0,(i.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Ao,fs=Math.log,yr=Math.LN2;function Ao(i){return i>>>=0,i===0?32:31-(fs(i)/yr|0)|0}var ps=64,Ci=4194304;function Qe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function qs(i,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,x=i.pingedLanes,C=c&268435455;if(C!==0){var O=C&~y;O!==0?m=Qe(O):(x&=C,x!==0&&(m=Qe(x)))}else C=c&~y,C!==0?m=Qe(C):x!==0&&(m=Qe(x));if(m===0)return 0;if(o!==0&&o!==m&&(o&y)===0&&(y=m&-m,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((m&4)!==0&&(m|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)c=31-sr(o),y=1<<c,m|=i[c],o&=~y;return m}function No(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(i,o){for(var c=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes;0<x;){var C=31-sr(x),O=1<<C,z=y[C];z===-1?((O&c)===0||(O&m)!==0)&&(y[C]=No(O,o)):z<=o&&(i.expiredLanes|=O),x&=~O}}function Kl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ql(){var i=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),i}function Yl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Po(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-sr(o),i[o]=c}function ip(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-sr(c),x=1<<y;o[y]=0,m[y]=-1,i[y]=-1,c&=~x}}function Xl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var m=31-sr(c),y=1<<m;y&o|i[m]&o&&(i[m]|=o),c&=~y}}var We=0;function ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Jl,Ta,Zl,ec,tc,gs=!1,Sa=[],ys=null,vs=null,on=null,jo=new Map,Hs=new Map,ir=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(i,o){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":jo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(o.pointerId)}}function $r(i,o,c,m,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},o!==null&&(o=mc(o),o!==null&&Ta(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function td(i,o,c,m,y){switch(o){case"focusin":return ys=$r(ys,i,o,c,m,y),!0;case"dragenter":return vs=$r(vs,i,o,c,m,y),!0;case"mouseover":return on=$r(on,i,o,c,m,y),!0;case"pointerover":var x=y.pointerId;return jo.set(x,$r(jo.get(x)||null,i,o,c,m,y)),!0;case"gotpointercapture":return x=y.pointerId,Hs.set(x,$r(Hs.get(x)||null,i,o,c,m,y)),!0}return!1}function Ca(i){var o=Vo(i.target);if(o!==null){var c=zr(o);if(c!==null){if(o=c.tag,o===13){if(o=Wl(c),o!==null){i.blockedOn=o,tc(i.priority,function(){Zl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Ia(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Or=m,c.target.dispatchEvent(m),Or=null}else return o=mc(c),o!==null&&Ta(o),i.blockedOn=c,!1;o.shift()}return!0}function nd(i,o,c){rt(i)&&c.delete(o)}function op(){gs=!1,ys!==null&&rt(ys)&&(ys=null),vs!==null&&rt(vs)&&(vs=null),on!==null&&rt(on)&&(on=null),jo.forEach(nd),Hs.forEach(nd)}function Ri(i,o){i.blockedOn===o&&(i.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,op)))}function Ai(i){function o(y){return Ri(y,i)}if(0<Sa.length){Ri(Sa[0],i);for(var c=1;c<Sa.length;c++){var m=Sa[c];m.blockedOn===i&&(m.blockedOn=null)}}for(ys!==null&&Ri(ys,i),vs!==null&&Ri(vs,i),on!==null&&Ri(on,i),jo.forEach(o),Hs.forEach(o),c=0;c<ir.length;c++)m=ir[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<ir.length&&(c=ir[0],c.blockedOn===null);)Ca(c),c.blockedOn===null&&ir.shift()}var Gs=$.ReactCurrentBatchConfig,Ks=!0;function ws(i,o,c,m){var y=We,x=Gs.transition;Gs.transition=null;try{We=1,nc(i,o,c,m)}finally{We=y,Gs.transition=x}}function rd(i,o,c,m){var y=We,x=Gs.transition;Gs.transition=null;try{We=4,nc(i,o,c,m)}finally{We=y,Gs.transition=x}}function nc(i,o,c,m){if(Ks){var y=Ia(i,o,c,m);if(y===null)yp(i,o,m,xs,c),Ii(i,m);else if(td(y,i,o,c,m))m.stopPropagation();else if(Ii(i,m),o&4&&-1<ed.indexOf(i)){for(;y!==null;){var x=mc(y);if(x!==null&&Jl(x),x=Ia(i,o,c,m),x===null&&yp(i,o,m,xs,c),x===y)break;y=x}y!==null&&m.stopPropagation()}else yp(i,o,m,null,c)}}var xs=null;function Ia(i,o,c,m){if(xs=null,i=Ti(m),i=Vo(i),i!==null)if(o=zr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Wl(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return xs=i,null}function Ra(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case ba:return 1;case Hl:return 4;case Io:case Gl:return 16;case Ea:return 536870912;default:return 16}default:return 16}}var or=null,Aa=null,Qs=null;function sd(){if(Qs)return Qs;var i,o=Aa,c=o.length,m,y="value"in or?or.value:or.textContent,x=y.length;for(i=0;i<c&&o[i]===y[i];i++);var C=c-i;for(m=1;m<=C&&o[c-m]===y[x-m];m++);return Qs=y.slice(i,1<m?1-m:void 0)}function Do(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _s(){return!0}function rc(){return!1}function vn(i){function o(c,m,y,x,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_s:rc,this.isPropagationStopped=rc,this}return Z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),o}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=vn(bs),Ni=Z({},bs,{view:0,detail:0}),Na=vn(Ni),ka,Pa,ar,Mo=Z({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ar&&(ar&&i.type==="mousemove"?(ka=i.screenX-ar.screenX,Pa=i.screenY-ar.screenY):Pa=ka=0,ar=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),sc=vn(Mo),id=Z({},Mo,{dataTransfer:0}),od=vn(id),ja=Z({},Ni,{relatedTarget:0}),an=vn(ja),ad=Z({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),ld=vn(ad),ki=Z({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=vn(ki),_=Z({},bs,{data:0}),E=vn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=X[i])?!!o[i]:!1}function Le(){return ae}var At=Z({},Ni,{key:function(i){if(i.key){var o=k[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Do(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?Do(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Do(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),et=vn(At),jt=Z({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=vn(jt),Ys=Z({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),Es=vn(Ys),Ts=Z({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=vn(Ts),ic=Z({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),NR=vn(ic),kR=[9,13,27,32],ap=u&&"CompositionEvent"in window,oc=null;u&&"documentMode"in document&&(oc=document.documentMode);var PR=u&&"TextEvent"in window&&!oc,Mv=u&&(!ap||oc&&8<oc&&11>=oc),Vv=" ",Ov=!1;function Fv(i,o){switch(i){case"keyup":return kR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var La=!1;function jR(i,o){switch(i){case"compositionend":return Uv(o);case"keypress":return o.which!==32?null:(Ov=!0,Vv);case"textInput":return i=o.data,i===Vv&&Ov?null:i;default:return null}}function DR(i,o){if(La)return i==="compositionend"||!ap&&Fv(i,o)?(i=sd(),Qs=Aa=or=null,La=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mv&&o.locale!=="ko"?null:o.data;default:return null}}var LR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!LR[i.type]:o==="textarea"}function zv(i,o,c,m){bt(m),o=fd(o,"onChange"),0<o.length&&(c=new Lo("onChange","change",null,c,m),i.push({event:c,listeners:o}))}var ac=null,lc=null;function MR(i){ow(i,0)}function cd(i){var o=Ua(i);if(pn(o))return i}function VR(i,o){if(i==="change")return o}var $v=!1;if(u){var lp;if(u){var cp="oninput"in document;if(!cp){var Wv=document.createElement("div");Wv.setAttribute("oninput","return;"),cp=typeof Wv.oninput=="function"}lp=cp}else lp=!1;$v=lp&&(!document.documentMode||9<document.documentMode)}function qv(){ac&&(ac.detachEvent("onpropertychange",Hv),lc=ac=null)}function Hv(i){if(i.propertyName==="value"&&cd(lc)){var o=[];zv(o,lc,i,Ti(i)),Br(MR,o)}}function OR(i,o,c){i==="focusin"?(qv(),ac=o,lc=c,ac.attachEvent("onpropertychange",Hv)):i==="focusout"&&qv()}function FR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cd(lc)}function UR(i,o){if(i==="click")return cd(o)}function BR(i,o){if(i==="input"||i==="change")return cd(o)}function zR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wr=typeof Object.is=="function"?Object.is:zR;function cc(i,o){if(Wr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!d.call(o,y)||!Wr(i[y],o[y]))return!1}return!0}function Gv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Kv(i,o){var c=Gv(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=o&&m>=o)return{node:c,offset:o-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Gv(c)}}function Qv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Qv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Yv(){for(var i=window,o=An();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=An(i.document)}return o}function up(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function $R(i){var o=Yv(),c=i.focusedElem,m=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Qv(c.ownerDocument.documentElement,c)){if(m!==null&&up(c)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,x=Math.min(m.start,y);m=m.end===void 0?x:Math.min(m.end,y),!i.extend&&x>m&&(y=m,m=x,x=y),y=Kv(c,x);var C=Kv(c,m);y&&C&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),x>m?(i.addRange(o),i.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var WR=u&&"documentMode"in document&&11>=document.documentMode,Ma=null,dp=null,uc=null,hp=!1;function Xv(i,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hp||Ma==null||Ma!==An(m)||(m=Ma,"selectionStart"in m&&up(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),uc&&cc(uc,m)||(uc=m,m=fd(dp,"onSelect"),0<m.length&&(o=new Lo("onSelect","select",null,o,c),i.push({event:o,listeners:m}),o.target=Ma)))}function ud(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Va={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionend:ud("Transition","TransitionEnd")},fp={},Jv={};u&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function dd(i){if(fp[i])return fp[i];if(!Va[i])return i;var o=Va[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Jv)return fp[i]=o[c];return i}var Zv=dd("animationend"),ew=dd("animationiteration"),tw=dd("animationstart"),nw=dd("transitionend"),rw=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(i,o){rw.set(i,o),a(o,[i])}for(var pp=0;pp<sw.length;pp++){var mp=sw[pp],qR=mp.toLowerCase(),HR=mp[0].toUpperCase()+mp.slice(1);Pi(qR,"on"+HR)}Pi(Zv,"onAnimationEnd"),Pi(ew,"onAnimationIteration"),Pi(tw,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(nw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function iw(i,o,c){var m=i.type||"unknown-event";i.currentTarget=c,$l(m,o,void 0,i),i.currentTarget=null}function ow(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],y=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var C=m.length-1;0<=C;C--){var O=m[C],z=O.instance,Y=O.currentTarget;if(O=O.listener,z!==x&&y.isPropagationStopped())break e;iw(y,O,Y),x=z}else for(C=0;C<m.length;C++){if(O=m[C],z=O.instance,Y=O.currentTarget,O=O.listener,z!==x&&y.isPropagationStopped())break e;iw(y,O,Y),x=z}}}if(Pn)throw i=Ht,Pn=!1,Ht=null,i}function ct(i,o){var c=o[Ep];c===void 0&&(c=o[Ep]=new Set);var m=i+"__bubble";c.has(m)||(aw(o,i,2,!1),c.add(m))}function gp(i,o,c){var m=0;o&&(m|=4),aw(c,i,m,o)}var hd="_reactListening"+Math.random().toString(36).slice(2);function hc(i){if(!i[hd]){i[hd]=!0,r.forEach(function(c){c!=="selectionchange"&&(GR.has(c)||gp(c,!1,i),gp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hd]||(o[hd]=!0,gp("selectionchange",!1,o))}}function aw(i,o,c,m){switch(Ra(o)){case 1:var y=ws;break;case 4:y=rd;break;default:y=nc}c=y.bind(null,o,c,i),y=void 0,!sn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function yp(i,o,c,m,y){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(C===4)for(C=m.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;C=C.return}for(;O!==null;){if(C=Vo(O),C===null)return;if(z=C.tag,z===5||z===6){m=x=C;continue e}O=O.parentNode}}m=m.return}Br(function(){var Y=x,re=Ti(c),ie=[];e:{var ne=rw.get(i);if(ne!==void 0){var ue=Lo,fe=i;switch(i){case"keypress":if(Do(c)===0)break e;case"keydown":case"keyup":ue=et;break;case"focusin":fe="focus",ue=an;break;case"focusout":fe="blur",ue=an;break;case"beforeblur":case"afterblur":ue=an;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Es;break;case Zv:case ew:case tw:ue=ld;break;case nw:ue=Da;break;case"scroll":ue=Na;break;case"wheel":ue=NR;break;case"copy":case"cut":case"paste":ue=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=lr}var pe=(o&4)!==0,Nt=!pe&&i==="scroll",G=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var W=Y,Q;W!==null;){Q=W;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,G!==null&&(oe=at(W,G),oe!=null&&pe.push(fc(W,oe,Q)))),Nt)break;W=W.return}0<pe.length&&(ne=new ue(ne,fe,null,c,re),ie.push({event:ne,listeners:pe}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ne&&c!==Or&&(fe=c.relatedTarget||c.fromElement)&&(Vo(fe)||fe[Xs]))break e;if((ue||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=Y,fe=fe?Vo(fe):null,fe!==null&&(Nt=zr(fe),fe!==Nt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Y),ue!==fe)){if(pe=sc,oe="onMouseLeave",G="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(pe=lr,oe="onPointerLeave",G="onPointerEnter",W="pointer"),Nt=ue==null?ne:Ua(ue),Q=fe==null?ne:Ua(fe),ne=new pe(oe,W+"leave",ue,c,re),ne.target=Nt,ne.relatedTarget=Q,oe=null,Vo(re)===Y&&(pe=new pe(G,W+"enter",fe,c,re),pe.target=Q,pe.relatedTarget=Nt,oe=pe),Nt=oe,ue&&fe)t:{for(pe=ue,G=fe,W=0,Q=pe;Q;Q=Oa(Q))W++;for(Q=0,oe=G;oe;oe=Oa(oe))Q++;for(;0<W-Q;)pe=Oa(pe),W--;for(;0<Q-W;)G=Oa(G),Q--;for(;W--;){if(pe===G||G!==null&&pe===G.alternate)break t;pe=Oa(pe),G=Oa(G)}pe=null}else pe=null;ue!==null&&lw(ie,ne,ue,pe,!1),fe!==null&&Nt!==null&&lw(ie,Nt,fe,pe,!0)}}e:{if(ne=Y?Ua(Y):window,ue=ne.nodeName&&ne.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ne.type==="file")var me=VR;else if(Bv(ne))if($v)me=BR;else{me=FR;var be=OR}else(ue=ne.nodeName)&&ue.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=UR);if(me&&(me=me(i,Y))){zv(ie,me,c,re);break e}be&&be(i,ne,Y),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&ht(ne,"number",ne.value)}switch(be=Y?Ua(Y):window,i){case"focusin":(Bv(be)||be.contentEditable==="true")&&(Ma=be,dp=Y,uc=null);break;case"focusout":uc=dp=Ma=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Xv(ie,c,re);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":Xv(ie,c,re)}var Ee;if(ap)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else La?Fv(i,c)&&(Ae="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ae="onCompositionStart");Ae&&(Mv&&c.locale!=="ko"&&(La||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&La&&(Ee=sd()):(or=re,Aa="value"in or?or.value:or.textContent,La=!0)),be=fd(Y,Ae),0<be.length&&(Ae=new E(Ae,i,null,c,re),ie.push({event:Ae,listeners:be}),Ee?Ae.data=Ee:(Ee=Uv(c),Ee!==null&&(Ae.data=Ee)))),(Ee=PR?jR(i,c):DR(i,c))&&(Y=fd(Y,"onBeforeInput"),0<Y.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:Y}),re.data=Ee))}ow(ie,o)})}function fc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function fd(i,o){for(var c=o+"Capture",m=[];i!==null;){var y=i,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=at(i,c),x!=null&&m.unshift(fc(i,x,y)),x=at(i,o),x!=null&&m.push(fc(i,x,y))),i=i.return}return m}function Oa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function lw(i,o,c,m,y){for(var x=o._reactName,C=[];c!==null&&c!==m;){var O=c,z=O.alternate,Y=O.stateNode;if(z!==null&&z===m)break;O.tag===5&&Y!==null&&(O=Y,y?(z=at(c,x),z!=null&&C.unshift(fc(c,z,O))):y||(z=at(c,x),z!=null&&C.push(fc(c,z,O)))),c=c.return}C.length!==0&&i.push({event:o,listeners:C})}var KR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function cw(i){return(typeof i=="string"?i:""+i).replace(KR,`
`).replace(QR,"")}function pd(i,o,c){if(o=cw(o),cw(i)!==o&&c)throw Error(n(425))}function md(){}var vp=null,wp=null;function xp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,YR=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,XR=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(i){return uw.resolve(null).then(i).catch(JR)}:_p;function JR(i){setTimeout(function(){throw i})}function bp(i,o){var c=o,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){i.removeChild(y),Ai(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);Ai(o)}function ji(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function dw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Fa,pc="__reactProps$"+Fa,Xs="__reactContainer$"+Fa,Ep="__reactEvents$"+Fa,ZR="__reactListeners$"+Fa,eA="__reactHandles$"+Fa;function Vo(i){var o=i[Ss];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Xs]||c[Ss]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=dw(i);i!==null;){if(c=i[Ss])return c;i=dw(i)}return o}i=c,c=i.parentNode}return null}function mc(i){return i=i[Ss]||i[Xs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ua(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function gd(i){return i[pc]||null}var Tp=[],Ba=-1;function Di(i){return{current:i}}function ut(i){0>Ba||(i.current=Tp[Ba],Tp[Ba]=null,Ba--)}function st(i,o){Ba++,Tp[Ba]=i.current,i.current=o}var Li={},wn=Di(Li),Bn=Di(!1),Oo=Li;function za(i,o){var c=i.type.contextTypes;if(!c)return Li;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function zn(i){return i=i.childContextTypes,i!=null}function yd(){ut(Bn),ut(wn)}function hw(i,o,c){if(wn.current!==Li)throw Error(n(168));st(wn,o),st(Bn,c)}function fw(i,o,c){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in o))throw Error(n(108,Ue(i)||"Unknown",y));return Z({},c,m)}function vd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Li,Oo=wn.current,st(wn,i),st(Bn,Bn.current),!0}function pw(i,o,c){var m=i.stateNode;if(!m)throw Error(n(169));c?(i=fw(i,o,Oo),m.__reactInternalMemoizedMergedChildContext=i,ut(Bn),ut(wn),st(wn,i)):ut(Bn),st(Bn,c)}var Js=null,wd=!1,Sp=!1;function mw(i){Js===null?Js=[i]:Js.push(i)}function tA(i){wd=!0,mw(i)}function Mi(){if(!Sp&&Js!==null){Sp=!0;var i=0,o=We;try{var c=Js;for(We=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Js=null,wd=!1}catch(y){throw Js!==null&&(Js=Js.slice(i+1)),ql(ba,Mi),y}finally{We=o,Sp=!1}}return null}var $a=[],Wa=0,xd=null,_d=0,vr=[],wr=0,Fo=null,Zs=1,ei="";function Uo(i,o){$a[Wa++]=_d,$a[Wa++]=xd,xd=i,_d=o}function gw(i,o,c){vr[wr++]=Zs,vr[wr++]=ei,vr[wr++]=Fo,Fo=i;var m=Zs;i=ei;var y=32-sr(m)-1;m&=~(1<<y),c+=1;var x=32-sr(o)+y;if(30<x){var C=y-y%5;x=(m&(1<<C)-1).toString(32),m>>=C,y-=C,Zs=1<<32-sr(o)+y|c<<y|m,ei=x+i}else Zs=1<<x|c<<y|m,ei=i}function Cp(i){i.return!==null&&(Uo(i,1),gw(i,1,0))}function Ip(i){for(;i===xd;)xd=$a[--Wa],$a[Wa]=null,_d=$a[--Wa],$a[Wa]=null;for(;i===Fo;)Fo=vr[--wr],vr[wr]=null,ei=vr[--wr],vr[wr]=null,Zs=vr[--wr],vr[wr]=null}var cr=null,ur=null,ft=!1,qr=null;function yw(i,o){var c=Er(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function vw(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,cr=i,ur=ji(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,cr=i,ur=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Fo!==null?{id:Zs,overflow:ei}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Er(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,cr=i,ur=null,!0):!1;default:return!1}}function Rp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ap(i){if(ft){var o=ur;if(o){var c=o;if(!vw(i,o)){if(Rp(i))throw Error(n(418));o=ji(c.nextSibling);var m=cr;o&&vw(i,o)?yw(m,c):(i.flags=i.flags&-4097|2,ft=!1,cr=i)}}else{if(Rp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ft=!1,cr=i}}}function ww(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cr=i}function bd(i){if(i!==cr)return!1;if(!ft)return ww(i),ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!xp(i.type,i.memoizedProps)),o&&(o=ur)){if(Rp(i))throw xw(),Error(n(418));for(;o;)yw(i,o),o=ji(o.nextSibling)}if(ww(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){ur=ji(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}ur=null}}else ur=cr?ji(i.stateNode.nextSibling):null;return!0}function xw(){for(var i=ur;i;)i=ji(i.nextSibling)}function qa(){ur=cr=null,ft=!1}function Np(i){qr===null?qr=[i]:qr.push(i)}var nA=$.ReactCurrentBatchConfig;function gc(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,i));var y=m,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(C){var O=y.refs;C===null?delete O[x]:O[x]=C},o._stringRef=x,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function Ed(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function _w(i){var o=i._init;return o(i._payload)}function bw(i){function o(G,W){if(i){var Q=G.deletions;Q===null?(G.deletions=[W],G.flags|=16):Q.push(W)}}function c(G,W){if(!i)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function m(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function y(G,W){return G=Wi(G,W),G.index=0,G.sibling=null,G}function x(G,W,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<W?(G.flags|=2,W):Q):(G.flags|=2,W)):(G.flags|=1048576,W)}function C(G){return i&&G.alternate===null&&(G.flags|=2),G}function O(G,W,Q,oe){return W===null||W.tag!==6?(W=_m(Q,G.mode,oe),W.return=G,W):(W=y(W,Q),W.return=G,W)}function z(G,W,Q,oe){var me=Q.type;return me===I?re(G,W,Q.props.children,oe,Q.key):W!==null&&(W.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&_w(me)===W.type)?(oe=y(W,Q.props),oe.ref=gc(G,W,Q),oe.return=G,oe):(oe=Gd(Q.type,Q.key,Q.props,null,G.mode,oe),oe.ref=gc(G,W,Q),oe.return=G,oe)}function Y(G,W,Q,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=bm(Q,G.mode,oe),W.return=G,W):(W=y(W,Q.children||[]),W.return=G,W)}function re(G,W,Q,oe,me){return W===null||W.tag!==7?(W=Ko(Q,G.mode,oe,me),W.return=G,W):(W=y(W,Q),W.return=G,W)}function ie(G,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=_m(""+W,G.mode,Q),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return Q=Gd(W.type,W.key,W.props,null,G.mode,Q),Q.ref=gc(G,null,W),Q.return=G,Q;case B:return W=bm(W,G.mode,Q),W.return=G,W;case dt:var oe=W._init;return ie(G,oe(W._payload),Q)}if(Ze(W)||le(W))return W=Ko(W,G.mode,Q,null),W.return=G,W;Ed(G,W)}return null}function ne(G,W,Q,oe){var me=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return me!==null?null:O(G,W,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===me?z(G,W,Q,oe):null;case B:return Q.key===me?Y(G,W,Q,oe):null;case dt:return me=Q._init,ne(G,W,me(Q._payload),oe)}if(Ze(Q)||le(Q))return me!==null?null:re(G,W,Q,oe,null);Ed(G,Q)}return null}function ue(G,W,Q,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return G=G.get(Q)||null,O(W,G,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case H:return G=G.get(oe.key===null?Q:oe.key)||null,z(W,G,oe,me);case B:return G=G.get(oe.key===null?Q:oe.key)||null,Y(W,G,oe,me);case dt:var be=oe._init;return ue(G,W,Q,be(oe._payload),me)}if(Ze(oe)||le(oe))return G=G.get(Q)||null,re(W,G,oe,me,null);Ed(W,oe)}return null}function fe(G,W,Q,oe){for(var me=null,be=null,Ee=W,Ae=W=0,Qt=null;Ee!==null&&Ae<Q.length;Ae++){Ee.index>Ae?(Qt=Ee,Ee=null):Qt=Ee.sibling;var Ke=ne(G,Ee,Q[Ae],oe);if(Ke===null){Ee===null&&(Ee=Qt);break}i&&Ee&&Ke.alternate===null&&o(G,Ee),W=x(Ke,W,Ae),be===null?me=Ke:be.sibling=Ke,be=Ke,Ee=Qt}if(Ae===Q.length)return c(G,Ee),ft&&Uo(G,Ae),me;if(Ee===null){for(;Ae<Q.length;Ae++)Ee=ie(G,Q[Ae],oe),Ee!==null&&(W=x(Ee,W,Ae),be===null?me=Ee:be.sibling=Ee,be=Ee);return ft&&Uo(G,Ae),me}for(Ee=m(G,Ee);Ae<Q.length;Ae++)Qt=ue(Ee,G,Ae,Q[Ae],oe),Qt!==null&&(i&&Qt.alternate!==null&&Ee.delete(Qt.key===null?Ae:Qt.key),W=x(Qt,W,Ae),be===null?me=Qt:be.sibling=Qt,be=Qt);return i&&Ee.forEach(function(qi){return o(G,qi)}),ft&&Uo(G,Ae),me}function pe(G,W,Q,oe){var me=le(Q);if(typeof me!="function")throw Error(n(150));if(Q=me.call(Q),Q==null)throw Error(n(151));for(var be=me=null,Ee=W,Ae=W=0,Qt=null,Ke=Q.next();Ee!==null&&!Ke.done;Ae++,Ke=Q.next()){Ee.index>Ae?(Qt=Ee,Ee=null):Qt=Ee.sibling;var qi=ne(G,Ee,Ke.value,oe);if(qi===null){Ee===null&&(Ee=Qt);break}i&&Ee&&qi.alternate===null&&o(G,Ee),W=x(qi,W,Ae),be===null?me=qi:be.sibling=qi,be=qi,Ee=Qt}if(Ke.done)return c(G,Ee),ft&&Uo(G,Ae),me;if(Ee===null){for(;!Ke.done;Ae++,Ke=Q.next())Ke=ie(G,Ke.value,oe),Ke!==null&&(W=x(Ke,W,Ae),be===null?me=Ke:be.sibling=Ke,be=Ke);return ft&&Uo(G,Ae),me}for(Ee=m(G,Ee);!Ke.done;Ae++,Ke=Q.next())Ke=ue(Ee,G,Ae,Ke.value,oe),Ke!==null&&(i&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ae:Ke.key),W=x(Ke,W,Ae),be===null?me=Ke:be.sibling=Ke,be=Ke);return i&&Ee.forEach(function(LA){return o(G,LA)}),ft&&Uo(G,Ae),me}function Nt(G,W,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var me=Q.key,be=W;be!==null;){if(be.key===me){if(me=Q.type,me===I){if(be.tag===7){c(G,be.sibling),W=y(be,Q.props.children),W.return=G,G=W;break e}}else if(be.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&_w(me)===be.type){c(G,be.sibling),W=y(be,Q.props),W.ref=gc(G,be,Q),W.return=G,G=W;break e}c(G,be);break}else o(G,be);be=be.sibling}Q.type===I?(W=Ko(Q.props.children,G.mode,oe,Q.key),W.return=G,G=W):(oe=Gd(Q.type,Q.key,Q.props,null,G.mode,oe),oe.ref=gc(G,W,Q),oe.return=G,G=oe)}return C(G);case B:e:{for(be=Q.key;W!==null;){if(W.key===be)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){c(G,W.sibling),W=y(W,Q.children||[]),W.return=G,G=W;break e}else{c(G,W);break}else o(G,W);W=W.sibling}W=bm(Q,G.mode,oe),W.return=G,G=W}return C(G);case dt:return be=Q._init,Nt(G,W,be(Q._payload),oe)}if(Ze(Q))return fe(G,W,Q,oe);if(le(Q))return pe(G,W,Q,oe);Ed(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(c(G,W.sibling),W=y(W,Q),W.return=G,G=W):(c(G,W),W=_m(Q,G.mode,oe),W.return=G,G=W),C(G)):c(G,W)}return Nt}var Ha=bw(!0),Ew=bw(!1),Td=Di(null),Sd=null,Ga=null,kp=null;function Pp(){kp=Ga=Sd=null}function jp(i){var o=Td.current;ut(Td),i._currentValue=o}function Dp(i,o,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===c)break;i=i.return}}function Ka(i,o){Sd=i,kp=Ga=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&($n=!0),i.firstContext=null)}function xr(i){var o=i._currentValue;if(kp!==i)if(i={context:i,memoizedValue:o,next:null},Ga===null){if(Sd===null)throw Error(n(308));Ga=i,Sd.dependencies={lanes:0,firstContext:i}}else Ga=Ga.next=i;return o}var Bo=null;function Lp(i){Bo===null?Bo=[i]:Bo.push(i)}function Tw(i,o,c,m){var y=o.interleaved;return y===null?(c.next=c,Lp(o)):(c.next=y.next,y.next=c),o.interleaved=c,ti(i,m)}function ti(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Vi=!1;function Mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sw(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ni(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Oi(i,o,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ge&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,ti(i,c)}return y=m.interleaved,y===null?(o.next=o,Lp(m)):(o.next=y.next,y.next=o),m.interleaved=o,ti(i,c)}function Cd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Xl(i,c)}}function Cw(i,o){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Id(i,o,c,m){var y=i.updateQueue;Vi=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var z=O,Y=z.next;z.next=null,C===null?x=Y:C.next=Y,C=z;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==C&&(O===null?re.firstBaseUpdate=Y:O.next=Y,re.lastBaseUpdate=z))}if(x!==null){var ie=y.baseState;C=0,re=Y=z=null,O=x;do{var ne=O.lane,ue=O.eventTime;if((m&ne)===ne){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var fe=i,pe=O;switch(ne=o,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ue,ie,ne);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ne=typeof fe=="function"?fe.call(ue,ie,ne):fe,ne==null)break e;ie=Z({},ie,ne);break e;case 2:Vi=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[O]:ne.push(O))}else ue={eventTime:ue,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(Y=re=ue,z=ie):re=re.next=ue,C|=ne;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(z=ie),y.baseState=z,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,o=y.shared.interleaved,o!==null){y=o;do C|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);Wo|=C,i.lanes=C,i.memoizedState=ie}}function Iw(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var yc={},Cs=Di(yc),vc=Di(yc),wc=Di(yc);function zo(i){if(i===yc)throw Error(n(174));return i}function Vp(i,o){switch(st(wc,o),st(vc,i),st(Cs,yc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:nr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=nr(o,i)}ut(Cs),st(Cs,o)}function Qa(){ut(Cs),ut(vc),ut(wc)}function Rw(i){zo(wc.current);var o=zo(Cs.current),c=nr(o,i.type);o!==c&&(st(vc,i),st(Cs,c))}function Op(i){vc.current===i&&(ut(Cs),ut(vc))}var yt=Di(0);function Rd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fp=[];function Up(){for(var i=0;i<Fp.length;i++)Fp[i]._workInProgressVersionPrimary=null;Fp.length=0}var Ad=$.ReactCurrentDispatcher,Bp=$.ReactCurrentBatchConfig,$o=0,vt=null,Bt=null,Gt=null,Nd=!1,xc=!1,_c=0,rA=0;function xn(){throw Error(n(321))}function zp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Wr(i[c],o[c]))return!1;return!0}function $p(i,o,c,m,y,x){if($o=x,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ad.current=i===null||i.memoizedState===null?aA:lA,i=c(m,y),xc){x=0;do{if(xc=!1,_c=0,25<=x)throw Error(n(301));x+=1,Gt=Bt=null,o.updateQueue=null,Ad.current=cA,i=c(m,y)}while(xc)}if(Ad.current=jd,o=Bt!==null&&Bt.next!==null,$o=0,Gt=Bt=vt=null,Nd=!1,o)throw Error(n(300));return i}function Wp(){var i=_c!==0;return _c=0,i}function Is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?vt.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function _r(){if(Bt===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var o=Gt===null?vt.memoizedState:Gt.next;if(o!==null)Gt=o,Bt=i;else{if(i===null)throw Error(n(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?vt.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function bc(i,o){return typeof o=="function"?o(i):o}function qp(i){var o=_r(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=Bt,y=m.baseQueue,x=c.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}m.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,m=m.baseState;var O=C=null,z=null,Y=x;do{var re=Y.lane;if(($o&re)===re)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:i(m,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(O=z=ie,C=m):z=z.next=ie,vt.lanes|=re,Wo|=re}Y=Y.next}while(Y!==null&&Y!==x);z===null?C=m:z.next=O,Wr(m,o.memoizedState)||($n=!0),o.memoizedState=m,o.baseState=C,o.baseQueue=z,c.lastRenderedState=m}if(i=c.interleaved,i!==null){y=i;do x=y.lane,vt.lanes|=x,Wo|=x,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Hp(i){var o=_r(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=i(x,C.action),C=C.next;while(C!==y);Wr(x,o.memoizedState)||($n=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,m]}function Aw(){}function Nw(i,o){var c=vt,m=_r(),y=o(),x=!Wr(m.memoizedState,y);if(x&&(m.memoizedState=y,$n=!0),m=m.queue,Gp(jw.bind(null,c,m,i),[i]),m.getSnapshot!==o||x||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,Ec(9,Pw.bind(null,c,m,y,o),void 0,null),Kt===null)throw Error(n(349));($o&30)!==0||kw(c,o,y)}return y}function kw(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Pw(i,o,c,m){o.value=c,o.getSnapshot=m,Dw(o)&&Lw(i)}function jw(i,o,c){return c(function(){Dw(o)&&Lw(i)})}function Dw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Wr(i,c)}catch{return!0}}function Lw(i){var o=ti(i,1);o!==null&&Qr(o,i,1,-1)}function Mw(i){var o=Is();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:i},o.queue=i,i=i.dispatch=oA.bind(null,vt,i),[o.memoizedState,i]}function Ec(i,o,c,m){return i={tag:i,create:o,destroy:c,deps:m,next:null},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,o.lastEffect=i)),i}function Vw(){return _r().memoizedState}function kd(i,o,c,m){var y=Is();vt.flags|=i,y.memoizedState=Ec(1|o,c,void 0,m===void 0?null:m)}function Pd(i,o,c,m){var y=_r();m=m===void 0?null:m;var x=void 0;if(Bt!==null){var C=Bt.memoizedState;if(x=C.destroy,m!==null&&zp(m,C.deps)){y.memoizedState=Ec(o,c,x,m);return}}vt.flags|=i,y.memoizedState=Ec(1|o,c,x,m)}function Ow(i,o){return kd(8390656,8,i,o)}function Gp(i,o){return Pd(2048,8,i,o)}function Fw(i,o){return Pd(4,2,i,o)}function Uw(i,o){return Pd(4,4,i,o)}function Bw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zw(i,o,c){return c=c!=null?c.concat([i]):null,Pd(4,4,Bw.bind(null,o,i),c)}function Kp(){}function $w(i,o){var c=_r();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&zp(o,m[1])?m[0]:(c.memoizedState=[i,o],i)}function Ww(i,o){var c=_r();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&zp(o,m[1])?m[0]:(i=i(),c.memoizedState=[i,o],i)}function qw(i,o,c){return($o&21)===0?(i.baseState&&(i.baseState=!1,$n=!0),i.memoizedState=c):(Wr(c,o)||(c=Ql(),vt.lanes|=c,Wo|=c,i.baseState=!0),o)}function sA(i,o){var c=We;We=c!==0&&4>c?c:4,i(!0);var m=Bp.transition;Bp.transition={};try{i(!1),o()}finally{We=c,Bp.transition=m}}function Hw(){return _r().memoizedState}function iA(i,o,c){var m=zi(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Gw(i))Kw(o,c);else if(c=Tw(i,o,c,m),c!==null){var y=Dn();Qr(c,i,m,y),Qw(c,o,m)}}function oA(i,o,c){var m=zi(i),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Gw(i))Kw(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,O=x(C,c);if(y.hasEagerState=!0,y.eagerState=O,Wr(O,C)){var z=o.interleaved;z===null?(y.next=y,Lp(o)):(y.next=z.next,z.next=y),o.interleaved=y;return}}catch{}finally{}c=Tw(i,o,y,m),c!==null&&(y=Dn(),Qr(c,i,m,y),Qw(c,o,m))}}function Gw(i){var o=i.alternate;return i===vt||o!==null&&o===vt}function Kw(i,o){xc=Nd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Qw(i,o,c){if((c&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Xl(i,c)}}var jd={readContext:xr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},aA={readContext:xr,useCallback:function(i,o){return Is().memoizedState=[i,o===void 0?null:o],i},useContext:xr,useEffect:Ow,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,kd(4194308,4,Bw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return kd(4194308,4,i,o)},useInsertionEffect:function(i,o){return kd(4,2,i,o)},useMemo:function(i,o){var c=Is();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var m=Is();return o=c!==void 0?c(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=iA.bind(null,vt,i),[m.memoizedState,i]},useRef:function(i){var o=Is();return i={current:i},o.memoizedState=i},useState:Mw,useDebugValue:Kp,useDeferredValue:function(i){return Is().memoizedState=i},useTransition:function(){var i=Mw(!1),o=i[0];return i=sA.bind(null,i[1]),Is().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var m=vt,y=Is();if(ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Kt===null)throw Error(n(349));($o&30)!==0||kw(m,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,Ow(jw.bind(null,m,x,i),[i]),m.flags|=2048,Ec(9,Pw.bind(null,m,x,c,o),void 0,null),c},useId:function(){var i=Is(),o=Kt.identifierPrefix;if(ft){var c=ei,m=Zs;c=(m&~(1<<32-sr(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=_c++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=rA++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},lA={readContext:xr,useCallback:$w,useContext:xr,useEffect:Gp,useImperativeHandle:zw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:Ww,useReducer:qp,useRef:Vw,useState:function(){return qp(bc)},useDebugValue:Kp,useDeferredValue:function(i){var o=_r();return qw(o,Bt.memoizedState,i)},useTransition:function(){var i=qp(bc)[0],o=_r().memoizedState;return[i,o]},useMutableSource:Aw,useSyncExternalStore:Nw,useId:Hw,unstable_isNewReconciler:!1},cA={readContext:xr,useCallback:$w,useContext:xr,useEffect:Gp,useImperativeHandle:zw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:Ww,useReducer:Hp,useRef:Vw,useState:function(){return Hp(bc)},useDebugValue:Kp,useDeferredValue:function(i){var o=_r();return Bt===null?o.memoizedState=i:qw(o,Bt.memoizedState,i)},useTransition:function(){var i=Hp(bc)[0],o=_r().memoizedState;return[i,o]},useMutableSource:Aw,useSyncExternalStore:Nw,useId:Hw,unstable_isNewReconciler:!1};function Hr(i,o){if(i&&i.defaultProps){o=Z({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Qp(i,o,c,m){o=i.memoizedState,c=c(m,o),c=c==null?o:Z({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Dd={isMounted:function(i){return(i=i._reactInternals)?zr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var m=Dn(),y=zi(i),x=ni(m,y);x.payload=o,c!=null&&(x.callback=c),o=Oi(i,x,y),o!==null&&(Qr(o,i,y,m),Cd(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var m=Dn(),y=zi(i),x=ni(m,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Oi(i,x,y),o!==null&&(Qr(o,i,y,m),Cd(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Dn(),m=zi(i),y=ni(c,m);y.tag=2,o!=null&&(y.callback=o),o=Oi(i,y,m),o!==null&&(Qr(o,i,m,c),Cd(o,i,m))}};function Yw(i,o,c,m,y,x,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,C):o.prototype&&o.prototype.isPureReactComponent?!cc(c,m)||!cc(y,x):!0}function Xw(i,o,c){var m=!1,y=Li,x=o.contextType;return typeof x=="object"&&x!==null?x=xr(x):(y=zn(o)?Oo:wn.current,m=o.contextTypes,x=(m=m!=null)?za(i,y):Li),o=new o(c,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dd,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=x),o}function Jw(i,o,c,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==i&&Dd.enqueueReplaceState(o,o.state,null)}function Yp(i,o,c,m){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Mp(i);var x=o.contextType;typeof x=="object"&&x!==null?y.context=xr(x):(x=zn(o)?Oo:wn.current,y.context=za(i,x)),y.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Qp(i,o,x,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Dd.enqueueReplaceState(y,y.state,null),Id(i,c,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Ya(i,o){try{var c="",m=o;do c+=Pe(m),m=m.return;while(m);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:y,digest:null}}function Xp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Jp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var uA=typeof WeakMap=="function"?WeakMap:Map;function Zw(i,o,c){c=ni(-1,c),c.tag=3,c.payload={element:null};var m=o.value;return c.callback=function(){Bd||(Bd=!0,fm=m),Jp(i,o)},c}function ex(i,o,c){c=ni(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=o.value;c.payload=function(){return m(y)},c.callback=function(){Jp(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Jp(i,o),typeof m!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function tx(i,o,c){var m=i.pingCache;if(m===null){m=i.pingCache=new uA;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(y.add(c),i=TA.bind(null,i,o,c),o.then(i,i))}function nx(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function rx(i,o,c,m,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ni(-1,1),o.tag=2,Oi(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var dA=$.ReactCurrentOwner,$n=!1;function jn(i,o,c,m){o.child=i===null?Ew(o,null,c,m):Ha(o,i.child,c,m)}function sx(i,o,c,m,y){c=c.render;var x=o.ref;return Ka(o,y),m=$p(i,o,c,m,x,y),c=Wp(),i!==null&&!$n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,ri(i,o,y)):(ft&&c&&Cp(o),o.flags|=1,jn(i,o,m,y),o.child)}function ix(i,o,c,m,y){if(i===null){var x=c.type;return typeof x=="function"&&!xm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,ox(i,o,x,m,y)):(i=Gd(c.type,null,m,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&y)===0){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:cc,c(C,m)&&i.ref===o.ref)return ri(i,o,y)}return o.flags|=1,i=Wi(x,m),i.ref=o.ref,i.return=o,o.child=i}function ox(i,o,c,m,y){if(i!==null){var x=i.memoizedProps;if(cc(x,m)&&i.ref===o.ref)if($n=!1,o.pendingProps=m=x,(i.lanes&y)!==0)(i.flags&131072)!==0&&($n=!0);else return o.lanes=i.lanes,ri(i,o,y)}return Zp(i,o,c,m,y)}function ax(i,o,c){var m=o.pendingProps,y=m.children,x=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ja,dr),dr|=c;else{if((c&1073741824)===0)return i=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,st(Ja,dr),dr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:c,st(Ja,dr),dr|=m}else x!==null?(m=x.baseLanes|c,o.memoizedState=null):m=c,st(Ja,dr),dr|=m;return jn(i,o,y,c),o.child}function lx(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Zp(i,o,c,m,y){var x=zn(c)?Oo:wn.current;return x=za(o,x),Ka(o,y),c=$p(i,o,c,m,x,y),m=Wp(),i!==null&&!$n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,ri(i,o,y)):(ft&&m&&Cp(o),o.flags|=1,jn(i,o,c,y),o.child)}function cx(i,o,c,m,y){if(zn(c)){var x=!0;vd(o)}else x=!1;if(Ka(o,y),o.stateNode===null)Md(i,o),Xw(o,c,m),Yp(o,c,m,y),m=!0;else if(i===null){var C=o.stateNode,O=o.memoizedProps;C.props=O;var z=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=xr(Y):(Y=zn(c)?Oo:wn.current,Y=za(o,Y));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof C.getSnapshotBeforeUpdate=="function";ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==m||z!==Y)&&Jw(o,C,m,Y),Vi=!1;var ne=o.memoizedState;C.state=ne,Id(o,m,C,y),z=o.memoizedState,O!==m||ne!==z||Bn.current||Vi?(typeof re=="function"&&(Qp(o,c,re,m),z=o.memoizedState),(O=Vi||Yw(o,c,O,m,ne,z,Y))?(ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=z),C.props=m,C.state=z,C.context=Y,m=O):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{C=o.stateNode,Sw(i,o),O=o.memoizedProps,Y=o.type===o.elementType?O:Hr(o.type,O),C.props=Y,ie=o.pendingProps,ne=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=xr(z):(z=zn(c)?Oo:wn.current,z=za(o,z));var ue=c.getDerivedStateFromProps;(re=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ie||ne!==z)&&Jw(o,C,m,z),Vi=!1,ne=o.memoizedState,C.state=ne,Id(o,m,C,y);var fe=o.memoizedState;O!==ie||ne!==fe||Bn.current||Vi?(typeof ue=="function"&&(Qp(o,c,ue,m),fe=o.memoizedState),(Y=Vi||Yw(o,c,Y,m,ne,fe,z)||!1)?(re||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,fe,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,fe,z)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=fe),C.props=m,C.state=fe,C.context=z,m=Y):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),m=!1)}return em(i,o,c,m,x,y)}function em(i,o,c,m,y,x){lx(i,o);var C=(o.flags&128)!==0;if(!m&&!C)return y&&pw(o,c,!1),ri(i,o,x);m=o.stateNode,dA.current=o;var O=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&C?(o.child=Ha(o,i.child,null,x),o.child=Ha(o,null,O,x)):jn(i,o,O,x),o.memoizedState=m.state,y&&pw(o,c,!0),o.child}function ux(i){var o=i.stateNode;o.pendingContext?hw(i,o.pendingContext,o.pendingContext!==o.context):o.context&&hw(i,o.context,!1),Vp(i,o.containerInfo)}function dx(i,o,c,m,y){return qa(),Np(y),o.flags|=256,jn(i,o,c,m),o.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(i){return{baseLanes:i,cachePool:null,transitions:null}}function hx(i,o,c){var m=o.pendingProps,y=yt.current,x=!1,C=(o.flags&128)!==0,O;if((O=C)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),st(yt,y&1),i===null)return Ap(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=m.children,i=m.fallback,x?(m=o.mode,x=o.child,C={mode:"hidden",children:C},(m&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=C):x=Kd(C,m,0,null),i=Ko(i,m,c,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=nm(c),o.memoizedState=tm,i):rm(o,C));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return hA(i,o,C,m,O,y,c);if(x){x=m.fallback,C=o.mode,y=i.child,O=y.sibling;var z={mode:"hidden",children:m.children};return(C&1)===0&&o.child!==y?(m=o.child,m.childLanes=0,m.pendingProps=z,o.deletions=null):(m=Wi(y,z),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?x=Wi(O,x):(x=Ko(x,C,c,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,C=i.child.memoizedState,C=C===null?nm(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},x.memoizedState=C,x.childLanes=i.childLanes&~c,o.memoizedState=tm,m}return x=i.child,i=x.sibling,m=Wi(x,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=c),m.return=o,m.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=m,o.memoizedState=null,m}function rm(i,o){return o=Kd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ld(i,o,c,m){return m!==null&&Np(m),Ha(o,i.child,null,c),i=rm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function hA(i,o,c,m,y,x,C){if(c)return o.flags&256?(o.flags&=-257,m=Xp(Error(n(422))),Ld(i,o,C,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=m.fallback,y=o.mode,m=Kd({mode:"visible",children:m.children},y,0,null),x=Ko(x,y,C,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,(o.mode&1)!==0&&Ha(o,i.child,null,C),o.child.memoizedState=nm(C),o.memoizedState=tm,x);if((o.mode&1)===0)return Ld(i,o,C,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,x=Error(n(419)),m=Xp(x,m,void 0),Ld(i,o,C,m)}if(O=(C&i.childLanes)!==0,$n||O){if(m=Kt,m!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|C))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ti(i,y),Qr(m,i,y,-1))}return wm(),m=Xp(Error(n(421))),Ld(i,o,C,m)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=SA.bind(null,i),y._reactRetry=o,null):(i=x.treeContext,ur=ji(y.nextSibling),cr=o,ft=!0,qr=null,i!==null&&(vr[wr++]=Zs,vr[wr++]=ei,vr[wr++]=Fo,Zs=i.id,ei=i.overflow,Fo=o),o=rm(o,m.children),o.flags|=4096,o)}function fx(i,o,c){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Dp(i.return,o,c)}function sm(i,o,c,m,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=c,x.tailMode=y)}function px(i,o,c){var m=o.pendingProps,y=m.revealOrder,x=m.tail;if(jn(i,o,m.children,c),m=yt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fx(i,c,o);else if(i.tag===19)fx(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(st(yt,m),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Rd(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),sm(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Rd(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}sm(o,!0,c,null,x);break;case"together":sm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Md(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ri(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Wo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Wi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Wi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function fA(i,o,c){switch(o.tag){case 3:ux(o),qa();break;case 5:Rw(o);break;case 1:zn(o.type)&&vd(o);break;case 4:Vp(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,y=o.memoizedProps.value;st(Td,m._currentValue),m._currentValue=y;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(st(yt,yt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?hx(i,o,c):(st(yt,yt.current&1),i=ri(i,o,c),i!==null?i.sibling:null);st(yt,yt.current&1);break;case 19:if(m=(c&o.childLanes)!==0,(i.flags&128)!==0){if(m)return px(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),st(yt,yt.current),m)break;return null;case 22:case 23:return o.lanes=0,ax(i,o,c)}return ri(i,o,c)}var mx,im,gx,yx;mx=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},im=function(){},gx=function(i,o,c,m){var y=i.memoizedProps;if(y!==m){i=o.stateNode,zo(Cs.current);var x=null;switch(c){case"input":y=mn(i,y),m=mn(i,m),x=[];break;case"select":y=Z({},y,{value:void 0}),m=Z({},m,{value:void 0}),x=[];break;case"textarea":y=ls(i,y),m=ls(i,m),x=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=md)}Fn(c,m);var C;c=null;for(Y in y)if(!m.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var O=y[Y];for(C in O)O.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in m){var z=m[Y];if(O=y?.[Y],m.hasOwnProperty(Y)&&z!==O&&(z!=null||O!=null))if(Y==="style")if(O){for(C in O)!O.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&O[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(x||(x=[]),x.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(x=x||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(x=x||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&ct("scroll",i),x||O===z||(x=[])):(x=x||[]).push(Y,z))}c&&(x=x||[]).push("style",c);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},yx=function(i,o,c,m){c!==m&&(o.flags|=4)};function Tc(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function _n(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=c,o}function pA(i,o,c){var m=o.pendingProps;switch(Ip(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(o),null;case 1:return zn(o.type)&&yd(),_n(o),null;case 3:return m=o.stateNode,Qa(),ut(Bn),ut(wn),Up(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(bd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qr!==null&&(gm(qr),qr=null))),im(i,o),_n(o),null;case 5:Op(o);var y=zo(wc.current);if(c=o.type,i!==null&&o.stateNode!=null)gx(i,o,c,m,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return _n(o),null}if(i=zo(Cs.current),bd(o)){m=o.stateNode,c=o.type;var x=o.memoizedProps;switch(m[Ss]=o,m[pc]=x,i=(o.mode&1)!==0,c){case"dialog":ct("cancel",m),ct("close",m);break;case"iframe":case"object":case"embed":ct("load",m);break;case"video":case"audio":for(y=0;y<dc.length;y++)ct(dc[y],m);break;case"source":ct("error",m);break;case"img":case"image":case"link":ct("error",m),ct("load",m);break;case"details":ct("toggle",m);break;case"input":Vr(m,x),ct("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},ct("invalid",m);break;case"textarea":_i(m,x),ct("invalid",m)}Fn(c,x),y=null;for(var C in x)if(x.hasOwnProperty(C)){var O=x[C];C==="children"?typeof O=="string"?m.textContent!==O&&(x.suppressHydrationWarning!==!0&&pd(m.textContent,O,i),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&pd(m.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&ct("scroll",m)}switch(c){case"input":gr(m),xi(m,x,!0);break;case"textarea":gr(m),cs(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=md)}m=y,o.updateQueue=m,m!==null&&(o.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Eo(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=C.createElement(c,{is:m.is}):(i=C.createElement(c),c==="select"&&(C=i,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):i=C.createElementNS(i,c),i[Ss]=o,i[pc]=m,mx(i,o,!1,!1),o.stateNode=i;e:{switch(C=Ei(c,m),c){case"dialog":ct("cancel",i),ct("close",i),y=m;break;case"iframe":case"object":case"embed":ct("load",i),y=m;break;case"video":case"audio":for(y=0;y<dc.length;y++)ct(dc[y],i);y=m;break;case"source":ct("error",i),y=m;break;case"img":case"image":case"link":ct("error",i),ct("load",i),y=m;break;case"details":ct("toggle",i),y=m;break;case"input":Vr(i,m),y=mn(i,m),ct("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=Z({},m,{value:void 0}),ct("invalid",i);break;case"textarea":_i(i,m),y=ls(i,m),ct("invalid",i);break;default:y=m}Fn(c,y),O=y;for(x in O)if(O.hasOwnProperty(x)){var z=O[x];x==="style"?bi(i,z):x==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&us(i,z)):x==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&ds(i,z):typeof z=="number"&&ds(i,""+z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?z!=null&&x==="onScroll"&&ct("scroll",i):z!=null&&F(i,x,z,C))}switch(c){case"input":gr(i),xi(i,m,!1);break;case"textarea":gr(i),cs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+je(m.value));break;case"select":i.multiple=!!m.multiple,x=m.value,x!=null?gn(i,!!m.multiple,x,!1):m.defaultValue!=null&&gn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=md)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return _n(o),null;case 6:if(i&&o.stateNode!=null)yx(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(c=zo(wc.current),zo(Cs.current),bd(o)){if(m=o.stateNode,c=o.memoizedProps,m[Ss]=o,(x=m.nodeValue!==c)&&(i=cr,i!==null))switch(i.tag){case 3:pd(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&pd(m.nodeValue,c,(i.mode&1)!==0)}x&&(o.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Ss]=o,o.stateNode=m}return _n(o),null;case 13:if(ut(yt),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&ur!==null&&(o.mode&1)!==0&&(o.flags&128)===0)xw(),qa(),o.flags|=98560,x=!1;else if(x=bd(o),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ss]=o}else qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_n(o),x=!1}else qr!==null&&(gm(qr),qr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(yt.current&1)!==0?zt===0&&(zt=3):wm())),o.updateQueue!==null&&(o.flags|=4),_n(o),null);case 4:return Qa(),im(i,o),i===null&&hc(o.stateNode.containerInfo),_n(o),null;case 10:return jp(o.type._context),_n(o),null;case 17:return zn(o.type)&&yd(),_n(o),null;case 19:if(ut(yt),x=o.memoizedState,x===null)return _n(o),null;if(m=(o.flags&128)!==0,C=x.rendering,C===null)if(m)Tc(x,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(C=Rd(i),C!==null){for(o.flags|=128,Tc(x,!1),m=C.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=c,c=o.child;c!==null;)x=c,i=m,x.flags&=14680066,C=x.alternate,C===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=C.childLanes,x.lanes=C.lanes,x.child=C.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=C.memoizedProps,x.memoizedState=C.memoizedState,x.updateQueue=C.updateQueue,x.type=C.type,i=C.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return st(yt,yt.current&1|2),o.child}i=i.sibling}x.tail!==null&&lt()>Za&&(o.flags|=128,m=!0,Tc(x,!1),o.lanes=4194304)}else{if(!m)if(i=Rd(C),i!==null){if(o.flags|=128,m=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Tc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!ft)return _n(o),null}else 2*lt()-x.renderingStartTime>Za&&c!==1073741824&&(o.flags|=128,m=!0,Tc(x,!1),o.lanes=4194304);x.isBackwards?(C.sibling=o.child,o.child=C):(c=x.last,c!==null?c.sibling=C:o.child=C,x.last=C)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=lt(),o.sibling=null,c=yt.current,st(yt,m?c&1|2:c&1),o):(_n(o),null);case 22:case 23:return vm(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(dr&1073741824)!==0&&(_n(o),o.subtreeFlags&6&&(o.flags|=8192)):_n(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function mA(i,o){switch(Ip(o),o.tag){case 1:return zn(o.type)&&yd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qa(),ut(Bn),ut(wn),Up(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Op(o),null;case 13:if(ut(yt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));qa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ut(yt),null;case 4:return Qa(),null;case 10:return jp(o.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Vd=!1,bn=!1,gA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Xa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){Et(i,o,m)}else c.current=null}function om(i,o,c){try{c()}catch(m){Et(i,o,m)}}var vx=!1;function yA(i,o){if(vp=Ks,i=Yv(),up(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,O=-1,z=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var ue;ie!==c||y!==0&&ie.nodeType!==3||(O=C+y),ie!==x||m!==0&&ie.nodeType!==3||(z=C+m),ie.nodeType===3&&(C+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ne=ie,ie=ue;for(;;){if(ie===i)break t;if(ne===c&&++Y===y&&(O=C),ne===x&&++re===m&&(z=C),(ue=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ue}c=O===-1||z===-1?null:{start:O,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(wp={focusedElem:i,selectionRange:c},Ks=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Nt=fe.memoizedState,G=o.stateNode,W=G.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Hr(o.type,pe),Nt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){Et(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=vx,vx=!1,fe}function Sc(i,o,c){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var x=y.destroy;y.destroy=void 0,x!==void 0&&om(o,c,x)}y=y.next}while(y!==m)}}function Od(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==o)}}function am(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function wx(i){var o=i.alternate;o!==null&&(i.alternate=null,wx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ss],delete o[pc],delete o[Ep],delete o[ZR],delete o[eA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function xx(i){return i.tag===5||i.tag===3||i.tag===4}function _x(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lm(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=md));else if(m!==4&&(i=i.child,i!==null))for(lm(i,o,c),i=i.sibling;i!==null;)lm(i,o,c),i=i.sibling}function cm(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(cm(i,o,c),i=i.sibling;i!==null;)cm(i,o,c),i=i.sibling}var ln=null,Gr=!1;function Fi(i,o,c){for(c=c.child;c!==null;)bx(i,o,c),c=c.sibling}function bx(i,o,c){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ro,c)}catch{}switch(c.tag){case 5:bn||Xa(c,o);case 6:var m=ln,y=Gr;ln=null,Fi(i,o,c),ln=m,Gr=y,ln!==null&&(Gr?(i=ln,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):ln.removeChild(c.stateNode));break;case 18:ln!==null&&(Gr?(i=ln,c=c.stateNode,i.nodeType===8?bp(i.parentNode,c):i.nodeType===1&&bp(i,c),Ai(i)):bp(ln,c.stateNode));break;case 4:m=ln,y=Gr,ln=c.stateNode.containerInfo,Gr=!0,Fi(i,o,c),ln=m,Gr=y;break;case 0:case 11:case 14:case 15:if(!bn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var x=y,C=x.destroy;x=x.tag,C!==void 0&&((x&2)!==0||(x&4)!==0)&&om(c,o,C),y=y.next}while(y!==m)}Fi(i,o,c);break;case 1:if(!bn&&(Xa(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(O){Et(c,o,O)}Fi(i,o,c);break;case 21:Fi(i,o,c);break;case 22:c.mode&1?(bn=(m=bn)||c.memoizedState!==null,Fi(i,o,c),bn=m):Fi(i,o,c);break;default:Fi(i,o,c)}}function Ex(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new gA),o.forEach(function(m){var y=CA.bind(null,i,m);c.has(m)||(c.add(m),m.then(y,y))})}}function Kr(i,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var x=i,C=o,O=C;e:for(;O!==null;){switch(O.tag){case 5:ln=O.stateNode,Gr=!1;break e;case 3:ln=O.stateNode.containerInfo,Gr=!0;break e;case 4:ln=O.stateNode.containerInfo,Gr=!0;break e}O=O.return}if(ln===null)throw Error(n(160));bx(x,C,y),ln=null,Gr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Y){Et(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Tx(o,i),o=o.sibling}function Tx(i,o){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(o,i),Rs(i),m&4){try{Sc(3,i,i.return),Od(3,i)}catch(pe){Et(i,i.return,pe)}try{Sc(5,i,i.return)}catch(pe){Et(i,i.return,pe)}}break;case 1:Kr(o,i),Rs(i),m&512&&c!==null&&Xa(c,c.return);break;case 5:if(Kr(o,i),Rs(i),m&512&&c!==null&&Xa(c,c.return),i.flags&32){var y=i.stateNode;try{ds(y,"")}catch(pe){Et(i,i.return,pe)}}if(m&4&&(y=i.stateNode,y!=null)){var x=i.memoizedProps,C=c!==null?c.memoizedProps:x,O=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&tr(y,x),Ei(O,C);var Y=Ei(O,x);for(C=0;C<z.length;C+=2){var re=z[C],ie=z[C+1];re==="style"?bi(y,ie):re==="dangerouslySetInnerHTML"?us(y,ie):re==="children"?ds(y,ie):F(y,re,ie,Y)}switch(O){case"input":as(y,x);break;case"textarea":bo(y,x);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?gn(y,!!x.multiple,ue,!1):ne!==!!x.multiple&&(x.defaultValue!=null?gn(y,!!x.multiple,x.defaultValue,!0):gn(y,!!x.multiple,x.multiple?[]:"",!1))}y[pc]=x}catch(pe){Et(i,i.return,pe)}}break;case 6:if(Kr(o,i),Rs(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,x=i.memoizedProps;try{y.nodeValue=x}catch(pe){Et(i,i.return,pe)}}break;case 3:if(Kr(o,i),Rs(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ai(o.containerInfo)}catch(pe){Et(i,i.return,pe)}break;case 4:Kr(o,i),Rs(i);break;case 13:Kr(o,i),Rs(i),y=i.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(hm=lt())),m&4&&Ex(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(bn=(Y=bn)||re,Kr(o,i),bn=Y):Kr(o,i),Rs(i),m&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ne=he,ue=ne.child,ne.tag){case 0:case 11:case 14:case 15:Sc(4,ne,ne.return);break;case 1:Xa(ne,ne.return);var fe=ne.stateNode;if(typeof fe.componentWillUnmount=="function"){m=ne,c=ne.return;try{o=m,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){Et(m,c,pe)}}break;case 5:Xa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ix(ie);continue}}ue!==null?(ue.return=ne,he=ue):Ix(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=ie.stateNode,z=ie.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=hs("display",C))}catch(pe){Et(i,i.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(pe){Et(i,i.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Kr(o,i),Rs(i),m&4&&Ex(i);break;case 21:break;default:Kr(o,i),Rs(i)}}function Rs(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(xx(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ds(y,""),m.flags&=-33);var x=_x(i);cm(i,x,y);break;case 3:case 4:var C=m.stateNode.containerInfo,O=_x(i);lm(i,O,C);break;default:throw Error(n(161))}}catch(z){Et(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function vA(i,o,c){he=i,Sx(i)}function Sx(i,o,c){for(var m=(i.mode&1)!==0;he!==null;){var y=he,x=y.child;if(y.tag===22&&m){var C=y.memoizedState!==null||Vd;if(!C){var O=y.alternate,z=O!==null&&O.memoizedState!==null||bn;O=Vd;var Y=bn;if(Vd=C,(bn=z)&&!Y)for(he=y;he!==null;)C=he,z=C.child,C.tag===22&&C.memoizedState!==null?Rx(y):z!==null?(z.return=C,he=z):Rx(y);for(;x!==null;)he=x,Sx(x),x=x.sibling;he=y,Vd=O,bn=Y}Cx(i)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,he=x):Cx(i)}}function Cx(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:bn||Od(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!bn)if(c===null)m.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:Hr(o.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&Iw(o,x,m);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Iw(o,C,c)}break;case 5:var O=o.stateNode;if(c===null&&o.flags&4){c=O;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Ai(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bn||o.flags&512&&am(o)}catch(ne){Et(o,o.return,ne)}}if(o===i){he=null;break}if(c=o.sibling,c!==null){c.return=o.return,he=c;break}he=o.return}}function Ix(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var c=o.sibling;if(c!==null){c.return=o.return,he=c;break}he=o.return}}function Rx(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Od(4,o)}catch(z){Et(o,c,z)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var y=o.return;try{m.componentDidMount()}catch(z){Et(o,y,z)}}var x=o.return;try{am(o)}catch(z){Et(o,x,z)}break;case 5:var C=o.return;try{am(o)}catch(z){Et(o,C,z)}}}catch(z){Et(o,o.return,z)}if(o===i){he=null;break}var O=o.sibling;if(O!==null){O.return=o.return,he=O;break}he=o.return}}var wA=Math.ceil,Fd=$.ReactCurrentDispatcher,um=$.ReactCurrentOwner,br=$.ReactCurrentBatchConfig,Ge=0,Kt=null,Dt=null,cn=0,dr=0,Ja=Di(0),zt=0,Cc=null,Wo=0,Ud=0,dm=0,Ic=null,Wn=null,hm=0,Za=1/0,si=null,Bd=!1,fm=null,Ui=null,zd=!1,Bi=null,$d=0,Rc=0,pm=null,Wd=-1,qd=0;function Dn(){return(Ge&6)!==0?lt():Wd!==-1?Wd:Wd=lt()}function zi(i){return(i.mode&1)===0?1:(Ge&2)!==0&&cn!==0?cn&-cn:nA.transition!==null?(qd===0&&(qd=Ql()),qd):(i=We,i!==0||(i=window.event,i=i===void 0?16:Ra(i.type)),i)}function Qr(i,o,c,m){if(50<Rc)throw Rc=0,pm=null,Error(n(185));Po(i,c,m),((Ge&2)===0||i!==Kt)&&(i===Kt&&((Ge&2)===0&&(Ud|=c),zt===4&&$i(i,cn)),qn(i,m),c===1&&Ge===0&&(o.mode&1)===0&&(Za=lt()+500,wd&&Mi()))}function qn(i,o){var c=i.callbackNode;ko(i,o);var m=qs(i,i===Kt?cn:0);if(m===0)c!==null&&_a(c),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(c!=null&&_a(c),o===1)i.tag===0?tA(Nx.bind(null,i)):mw(Nx.bind(null,i)),XR(function(){(Ge&6)===0&&Mi()}),c=null;else{switch(ms(m)){case 1:c=ba;break;case 4:c=Hl;break;case 16:c=Io;break;case 536870912:c=Ea;break;default:c=Io}c=Ox(c,Ax.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Ax(i,o){if(Wd=-1,qd=0,(Ge&6)!==0)throw Error(n(327));var c=i.callbackNode;if(el()&&i.callbackNode!==c)return null;var m=qs(i,i===Kt?cn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=Hd(i,m);else{o=m;var y=Ge;Ge|=2;var x=Px();(Kt!==i||cn!==o)&&(si=null,Za=lt()+500,Ho(i,o));do try{bA();break}catch(O){kx(i,O)}while(!0);Pp(),Fd.current=x,Ge=y,Dt!==null?o=0:(Kt=null,cn=0,o=zt)}if(o!==0){if(o===2&&(y=Kl(i),y!==0&&(m=y,o=mm(i,y))),o===1)throw c=Cc,Ho(i,0),$i(i,m),qn(i,lt()),c;if(o===6)$i(i,m);else{if(y=i.current.alternate,(m&30)===0&&!xA(y)&&(o=Hd(i,m),o===2&&(x=Kl(i),x!==0&&(m=x,o=mm(i,x))),o===1))throw c=Cc,Ho(i,0),$i(i,m),qn(i,lt()),c;switch(i.finishedWork=y,i.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:Go(i,Wn,si);break;case 3:if($i(i,m),(m&130023424)===m&&(o=hm+500-lt(),10<o)){if(qs(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Dn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=_p(Go.bind(null,i,Wn,si),o);break}Go(i,Wn,si);break;case 4:if($i(i,m),(m&4194240)===m)break;for(o=i.eventTimes,y=-1;0<m;){var C=31-sr(m);x=1<<C,C=o[C],C>y&&(y=C),m&=~x}if(m=y,m=lt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*wA(m/1960))-m,10<m){i.timeoutHandle=_p(Go.bind(null,i,Wn,si),m);break}Go(i,Wn,si);break;case 5:Go(i,Wn,si);break;default:throw Error(n(329))}}}return qn(i,lt()),i.callbackNode===c?Ax.bind(null,i):null}function mm(i,o){var c=Ic;return i.current.memoizedState.isDehydrated&&(Ho(i,o).flags|=256),i=Hd(i,o),i!==2&&(o=Wn,Wn=c,o!==null&&gm(o)),i}function gm(i){Wn===null?Wn=i:Wn.push.apply(Wn,i)}function xA(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],x=y.getSnapshot;y=y.value;try{if(!Wr(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $i(i,o){for(o&=~dm,o&=~Ud,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-sr(o),m=1<<c;i[c]=-1,o&=~m}}function Nx(i){if((Ge&6)!==0)throw Error(n(327));el();var o=qs(i,0);if((o&1)===0)return qn(i,lt()),null;var c=Hd(i,o);if(i.tag!==0&&c===2){var m=Kl(i);m!==0&&(o=m,c=mm(i,m))}if(c===1)throw c=Cc,Ho(i,0),$i(i,o),qn(i,lt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Go(i,Wn,si),qn(i,lt()),null}function ym(i,o){var c=Ge;Ge|=1;try{return i(o)}finally{Ge=c,Ge===0&&(Za=lt()+500,wd&&Mi())}}function qo(i){Bi!==null&&Bi.tag===0&&(Ge&6)===0&&el();var o=Ge;Ge|=1;var c=br.transition,m=We;try{if(br.transition=null,We=1,i)return i()}finally{We=m,br.transition=c,Ge=o,(Ge&6)===0&&Mi()}}function vm(){dr=Ja.current,ut(Ja)}function Ho(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,YR(c)),Dt!==null)for(c=Dt.return;c!==null;){var m=c;switch(Ip(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&yd();break;case 3:Qa(),ut(Bn),ut(wn),Up();break;case 5:Op(m);break;case 4:Qa();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:jp(m.type._context);break;case 22:case 23:vm()}c=c.return}if(Kt=i,Dt=i=Wi(i.current,null),cn=dr=o,zt=0,Cc=null,dm=Ud=Wo=0,Wn=Ic=null,Bo!==null){for(o=0;o<Bo.length;o++)if(c=Bo[o],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,x=c.pending;if(x!==null){var C=x.next;x.next=y,m.next=C}c.pending=m}Bo=null}return i}function kx(i,o){do{var c=Dt;try{if(Pp(),Ad.current=jd,Nd){for(var m=vt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Nd=!1}if($o=0,Gt=Bt=vt=null,xc=!1,_c=0,um.current=null,c===null||c.return===null){zt=1,Cc=o,Dt=null;break}e:{var x=i,C=c.return,O=c,z=o;if(o=cn,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=nx(C);if(ue!==null){ue.flags&=-257,rx(ue,C,O,x,o),ue.mode&1&&tx(x,Y,o),o=ue,z=Y;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(z),o.updateQueue=pe}else fe.add(z);break e}else{if((o&1)===0){tx(x,Y,o),wm();break e}z=Error(n(426))}}else if(ft&&O.mode&1){var Nt=nx(C);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),rx(Nt,C,O,x,o),Np(Ya(z,O));break e}}x=z=Ya(z,O),zt!==4&&(zt=2),Ic===null?Ic=[x]:Ic.push(x),x=C;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var G=Zw(x,z,o);Cw(x,G);break e;case 1:O=z;var W=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ui===null||!Ui.has(Q)))){x.flags|=65536,o&=-o,x.lanes|=o;var oe=ex(x,O,o);Cw(x,oe);break e}}x=x.return}while(x!==null)}Dx(c)}catch(me){o=me,Dt===c&&c!==null&&(Dt=c=c.return);continue}break}while(!0)}function Px(){var i=Fd.current;return Fd.current=jd,i===null?jd:i}function wm(){(zt===0||zt===3||zt===2)&&(zt=4),Kt===null||(Wo&268435455)===0&&(Ud&268435455)===0||$i(Kt,cn)}function Hd(i,o){var c=Ge;Ge|=2;var m=Px();(Kt!==i||cn!==o)&&(si=null,Ho(i,o));do try{_A();break}catch(y){kx(i,y)}while(!0);if(Pp(),Ge=c,Fd.current=m,Dt!==null)throw Error(n(261));return Kt=null,cn=0,zt}function _A(){for(;Dt!==null;)jx(Dt)}function bA(){for(;Dt!==null&&!Co();)jx(Dt)}function jx(i){var o=Vx(i.alternate,i,dr);i.memoizedProps=i.pendingProps,o===null?Dx(i):Dt=o,um.current=null}function Dx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=pA(c,o,dr),c!==null){Dt=c;return}}else{if(c=mA(c,o),c!==null){c.flags&=32767,Dt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zt=6,Dt=null;return}}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=i}while(o!==null);zt===0&&(zt=5)}function Go(i,o,c){var m=We,y=br.transition;try{br.transition=null,We=1,EA(i,o,c,m)}finally{br.transition=y,We=m}return null}function EA(i,o,c,m){do el();while(Bi!==null);if((Ge&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=c.lanes|c.childLanes;if(ip(i,x),i===Kt&&(Dt=Kt=null,cn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||zd||(zd=!0,Ox(Io,function(){return el(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=br.transition,br.transition=null;var C=We;We=1;var O=Ge;Ge|=4,um.current=null,yA(i,c),Tx(c,i),$R(wp),Ks=!!vp,wp=vp=null,i.current=c,vA(c),Ws(),Ge=O,We=C,br.transition=x}else i.current=c;if(zd&&(zd=!1,Bi=i,$d=y),x=i.pendingLanes,x===0&&(Ui=null),Zu(c.stateNode),qn(i,lt()),o!==null)for(m=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(Bd)throw Bd=!1,i=fm,fm=null,i;return($d&1)!==0&&i.tag!==0&&el(),x=i.pendingLanes,(x&1)!==0?i===pm?Rc++:(Rc=0,pm=i):Rc=0,Mi(),null}function el(){if(Bi!==null){var i=ms($d),o=br.transition,c=We;try{if(br.transition=null,We=16>i?16:i,Bi===null)var m=!1;else{if(i=Bi,Bi=null,$d=0,(Ge&6)!==0)throw Error(n(331));var y=Ge;for(Ge|=4,he=i.current;he!==null;){var x=he,C=x.child;if((he.flags&16)!==0){var O=x.deletions;if(O!==null){for(var z=0;z<O.length;z++){var Y=O[z];for(he=Y;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:Sc(8,re,x)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ne=re.sibling,ue=re.return;if(wx(re),re===Y){he=null;break}if(ne!==null){ne.return=ue,he=ne;break}he=ue}}}var fe=x.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Nt=pe.sibling;pe.sibling=null,pe=Nt}while(pe!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&C!==null)C.return=x,he=C;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Sc(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,he=G;break e}he=x.return}}var W=i.current;for(he=W;he!==null;){C=he;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,he=Q;else e:for(C=W;he!==null;){if(O=he,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Od(9,O)}}catch(me){Et(O,O.return,me)}if(O===C){he=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,he=oe;break e}he=O.return}}if(Ge=y,Mi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ro,i)}catch{}m=!0}return m}finally{We=c,br.transition=o}}return!1}function Lx(i,o,c){o=Ya(c,o),o=Zw(i,o,1),i=Oi(i,o,1),o=Dn(),i!==null&&(Po(i,1,o),qn(i,o))}function Et(i,o,c){if(i.tag===3)Lx(i,i,c);else for(;o!==null;){if(o.tag===3){Lx(o,i,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ui===null||!Ui.has(m))){i=Ya(c,i),i=ex(o,i,1),o=Oi(o,i,1),i=Dn(),o!==null&&(Po(o,1,i),qn(o,i));break}}o=o.return}}function TA(i,o,c){var m=i.pingCache;m!==null&&m.delete(o),o=Dn(),i.pingedLanes|=i.suspendedLanes&c,Kt===i&&(cn&c)===c&&(zt===4||zt===3&&(cn&130023424)===cn&&500>lt()-hm?Ho(i,0):dm|=c),qn(i,o)}function Mx(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ci,Ci<<=1,(Ci&130023424)===0&&(Ci=4194304)));var c=Dn();i=ti(i,o),i!==null&&(Po(i,o,c),qn(i,c))}function SA(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Mx(i,c)}function CA(i,o){var c=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),Mx(i,c)}var Vx;Vx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Bn.current)$n=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return $n=!1,fA(i,o,c);$n=(i.flags&131072)!==0}else $n=!1,ft&&(o.flags&1048576)!==0&&gw(o,_d,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Md(i,o),i=o.pendingProps;var y=za(o,wn.current);Ka(o,c),y=$p(null,o,m,i,y,c);var x=Wp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,zn(m)?(x=!0,vd(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Mp(o),y.updater=Dd,o.stateNode=y,y._reactInternals=o,Yp(o,m,i,c),o=em(null,o,m,!0,x,c)):(o.tag=0,ft&&x&&Cp(o),jn(null,o,y,c),o=o.child),o;case 16:m=o.elementType;e:{switch(Md(i,o),i=o.pendingProps,y=m._init,m=y(m._payload),o.type=m,y=o.tag=RA(m),i=Hr(m,i),y){case 0:o=Zp(null,o,m,i,c);break e;case 1:o=cx(null,o,m,i,c);break e;case 11:o=sx(null,o,m,i,c);break e;case 14:o=ix(null,o,m,Hr(m.type,i),c);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Hr(m,y),Zp(i,o,m,y,c);case 1:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Hr(m,y),cx(i,o,m,y,c);case 3:e:{if(ux(o),i===null)throw Error(n(387));m=o.pendingProps,x=o.memoizedState,y=x.element,Sw(i,o),Id(o,m,null,c);var C=o.memoizedState;if(m=C.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Ya(Error(n(423)),o),o=dx(i,o,m,c,y);break e}else if(m!==y){y=Ya(Error(n(424)),o),o=dx(i,o,m,c,y);break e}else for(ur=ji(o.stateNode.containerInfo.firstChild),cr=o,ft=!0,qr=null,c=Ew(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qa(),m===y){o=ri(i,o,c);break e}jn(i,o,m,c)}o=o.child}return o;case 5:return Rw(o),i===null&&Ap(o),m=o.type,y=o.pendingProps,x=i!==null?i.memoizedProps:null,C=y.children,xp(m,y)?C=null:x!==null&&xp(m,x)&&(o.flags|=32),lx(i,o),jn(i,o,C,c),o.child;case 6:return i===null&&Ap(o),null;case 13:return hx(i,o,c);case 4:return Vp(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ha(o,null,m,c):jn(i,o,m,c),o.child;case 11:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Hr(m,y),sx(i,o,m,y,c);case 7:return jn(i,o,o.pendingProps,c),o.child;case 8:return jn(i,o,o.pendingProps.children,c),o.child;case 12:return jn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(m=o.type._context,y=o.pendingProps,x=o.memoizedProps,C=y.value,st(Td,m._currentValue),m._currentValue=C,x!==null)if(Wr(x.value,C)){if(x.children===y.children&&!Bn.current){o=ri(i,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var O=x.dependencies;if(O!==null){C=x.child;for(var z=O.firstContext;z!==null;){if(z.context===m){if(x.tag===1){z=ni(-1,c&-c),z.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?z.next=z:(z.next=re.next,re.next=z),Y.pending=z}}x.lanes|=c,z=x.alternate,z!==null&&(z.lanes|=c),Dp(x.return,c,o),O.lanes|=c;break}z=z.next}}else if(x.tag===10)C=x.type===o.type?null:x.child;else if(x.tag===18){if(C=x.return,C===null)throw Error(n(341));C.lanes|=c,O=C.alternate,O!==null&&(O.lanes|=c),Dp(C,c,o),C=x.sibling}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===o){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}jn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,m=o.pendingProps.children,Ka(o,c),y=xr(y),m=m(y),o.flags|=1,jn(i,o,m,c),o.child;case 14:return m=o.type,y=Hr(m,o.pendingProps),y=Hr(m.type,y),ix(i,o,m,y,c);case 15:return ox(i,o,o.type,o.pendingProps,c);case 17:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Hr(m,y),Md(i,o),o.tag=1,zn(m)?(i=!0,vd(o)):i=!1,Ka(o,c),Xw(o,m,y),Yp(o,m,y,c),em(null,o,m,!0,i,c);case 19:return px(i,o,c);case 22:return ax(i,o,c)}throw Error(n(156,o.tag))};function Ox(i,o){return ql(i,o)}function IA(i,o,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,o,c,m){return new IA(i,o,c,m)}function xm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function RA(i){if(typeof i=="function")return xm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===Je)return 14}return 2}function Wi(i,o){var c=i.alternate;return c===null?(c=Er(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Gd(i,o,c,m,y,x){var C=2;if(m=i,typeof i=="function")xm(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case I:return Ko(c.children,y,x,o);case R:C=8,y|=8;break;case P:return i=Er(12,c,o,y|2),i.elementType=P,i.lanes=x,i;case M:return i=Er(13,c,o,y),i.elementType=M,i.lanes=x,i;case ke:return i=Er(19,c,o,y),i.elementType=ke,i.lanes=x,i;case ge:return Kd(c,y,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:C=10;break e;case V:C=9;break e;case q:C=11;break e;case Je:C=14;break e;case dt:C=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Er(C,c,o,y),o.elementType=i,o.type=m,o.lanes=x,o}function Ko(i,o,c,m){return i=Er(7,i,m,o),i.lanes=c,i}function Kd(i,o,c,m){return i=Er(22,i,m,o),i.elementType=ge,i.lanes=c,i.stateNode={isHidden:!1},i}function _m(i,o,c){return i=Er(6,i,null,o),i.lanes=c,i}function bm(i,o,c){return o=Er(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function AA(i,o,c,m,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Em(i,o,c,m,y,x,C,O,z){return i=new AA(i,o,c,O,z),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Er(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(x),i}function NA(i,o,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:i,containerInfo:o,implementation:c}}function Fx(i){if(!i)return Li;i=i._reactInternals;e:{if(zr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(zn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(zn(c))return fw(i,c,o)}return o}function Ux(i,o,c,m,y,x,C,O,z){return i=Em(c,m,!0,i,y,x,C,O,z),i.context=Fx(null),c=i.current,m=Dn(),y=zi(c),x=ni(m,y),x.callback=o??null,Oi(c,x,y),i.current.lanes=y,Po(i,y,m),qn(i,m),i}function Qd(i,o,c,m){var y=o.current,x=Dn(),C=zi(y);return c=Fx(c),o.context===null?o.context=c:o.pendingContext=c,o=ni(x,C),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Oi(y,o,C),i!==null&&(Qr(i,y,C,x),Cd(i,y,C)),C}function Yd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Bx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Tm(i,o){Bx(i,o),(i=i.alternate)&&Bx(i,o)}function kA(){return null}var zx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sm(i){this._internalRoot=i}Xd.prototype.render=Sm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Qd(i,o,null,null)},Xd.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qo(function(){Qd(null,i,null,null)}),o[Xs]=null}};function Xd(i){this._internalRoot=i}Xd.prototype.unstable_scheduleHydration=function(i){if(i){var o=ec();i={blockedOn:null,target:i,priority:o};for(var c=0;c<ir.length&&o!==0&&o<ir[c].priority;c++);ir.splice(c,0,i),c===0&&Ca(i)}};function Cm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Jd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $x(){}function PA(i,o,c,m,y){if(y){if(typeof m=="function"){var x=m;m=function(){var Y=Yd(C);x.call(Y)}}var C=Ux(o,m,i,0,null,!1,!1,"",$x);return i._reactRootContainer=C,i[Xs]=C.current,hc(i.nodeType===8?i.parentNode:i),qo(),C}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var Y=Yd(z);O.call(Y)}}var z=Em(i,0,!1,null,null,!1,!1,"",$x);return i._reactRootContainer=z,i[Xs]=z.current,hc(i.nodeType===8?i.parentNode:i),qo(function(){Qd(o,z,c,m)}),z}function Zd(i,o,c,m,y){var x=c._reactRootContainer;if(x){var C=x;if(typeof y=="function"){var O=y;y=function(){var z=Yd(C);O.call(z)}}Qd(o,C,i,y)}else C=PA(c,o,i,y,m);return Yd(C)}Jl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Qe(o.pendingLanes);c!==0&&(Xl(o,c|1),qn(o,lt()),(Ge&6)===0&&(Za=lt()+500,Mi()))}break;case 13:qo(function(){var m=ti(i,1);if(m!==null){var y=Dn();Qr(m,i,1,y)}}),Tm(i,1)}},Ta=function(i){if(i.tag===13){var o=ti(i,134217728);if(o!==null){var c=Dn();Qr(o,i,134217728,c)}Tm(i,134217728)}},Zl=function(i){if(i.tag===13){var o=zi(i),c=ti(i,o);if(c!==null){var m=Dn();Qr(c,i,o,m)}Tm(i,o)}},ec=function(){return We},tc=function(i,o){var c=We;try{return We=i,o()}finally{We=c}},Fr=function(i,o,c){switch(o){case"input":if(as(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==i&&m.form===i.form){var y=gd(m);if(!y)throw Error(n(90));pn(m),as(m,y)}}}break;case"textarea":bo(i,c);break;case"select":o=c.value,o!=null&&gn(i,!!c.multiple,o,!1)}},rn=ym,qt=qo;var jA={usingClientEntryPoint:!1,Events:[mc,Ua,gd,bt,nn,ym]},Ac={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DA={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ju(i),i===null?null:i.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Ro=eh.inject(DA),rr=eh}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA,Hn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(o))throw Error(n(200));return NA(i,o,null,c)},Hn.createRoot=function(i,o){if(!Cm(i))throw Error(n(299));var c=!1,m="",y=zx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Em(i,1,!1,null,null,c,!1,m,y),i[Xs]=o.current,hc(i.nodeType===8?i.parentNode:i),new Sm(o)},Hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ju(o),i=i===null?null:i.stateNode,i},Hn.flushSync=function(i){return qo(i)},Hn.hydrate=function(i,o,c){if(!Jd(o))throw Error(n(200));return Zd(null,i,o,!0,c)},Hn.hydrateRoot=function(i,o,c){if(!Cm(i))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,x="",C=zx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=Ux(o,null,i,1,c??null,y,!1,x,C),i[Xs]=o.current,hc(i),m)for(i=0;i<m.length;i++)c=m[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Xd(o)},Hn.render=function(i,o,c){if(!Jd(o))throw Error(n(200));return Zd(null,i,o,!1,c)},Hn.unmountComponentAtNode=function(i){if(!Jd(i))throw Error(n(40));return i._reactRootContainer?(qo(function(){Zd(null,null,i,!1,function(){i._reactRootContainer=null,i[Xs]=null})}),!0):!1},Hn.unstable_batchedUpdates=ym,Hn.unstable_renderSubtreeIntoContainer=function(i,o,c,m){if(!Jd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Zd(i,o,c,!1,m)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var Xx;function VE(){if(Xx)return Am.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Am.exports=BA(),Am.exports}var Jx;function zA(){if(Jx)return th;Jx=1;var t=VE();return th.createRoot=t.createRoot,th.hydrateRoot=t.hydrateRoot,th}var $A=zA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zx="popstate";function WA(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:d=""}=ma(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_g("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof a=="string"?a:iu(a))}function r(s,a){mr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HA(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qA(){return Math.random().toString(36).substring(2,10)}function e1(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||qA()}}function iu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let S=g(),D=S==null?null:S-p;p=S,d&&d({action:u,location:N.location,delta:D})}function w(S,D){u="PUSH";let j=_g(N.location,S,D);n&&n(j,S),p=g()+1;let F=e1(j,p),$=N.createHref(j);try{l.pushState(F,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign($)}a&&d&&d({action:u,location:N.location,delta:1})}function T(S,D){u="REPLACE";let j=_g(N.location,S,D);n&&n(j,S),p=g();let F=e1(j,p),$=N.createHref(j);l.replaceState(F,"",$),a&&d&&d({action:u,location:N.location,delta:0})}function A(S){return GA(S)}let N={get action(){return u},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Zx,v),d=S,()=>{s.removeEventListener(Zx,v),d=null}},createHref(S){return e(s,S)},createURL:A,encodeLocation(S){let D=A(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(S){return l.go(S)}};return N}function GA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:iu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OE(t,e,n="/"){return KA(t,e,n,!1)}function KA(t,e,n,r){let s=typeof e=="string"?ma(e):e,a=di(s.pathname||"/",n);if(a==null)return null;let l=FE(t);QA(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=oN(a);u=sN(l[d],p,r)}return u}function FE(t,e=[],n=[],r="",s=!1){let a=(l,u,d=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;gt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ci([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),FE(l.children,e,w,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:nN(v,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of UE(l.path))a(l,u,!0,d)}),e}function UE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=UE(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function QA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YA=/^:[\w-]+$/,XA=3,JA=2,ZA=1,eN=10,tN=-2,t1=t=>t==="*";function nN(t,e){let n=t.split("/"),r=n.length;return n.some(t1)&&(r+=tN),e&&(r+=JA),n.filter(s=>!t1(s)).reduce((s,a)=>s+(YA.test(a)?XA:a===""?ZA:eN),r)}function rN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sN(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Mh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Mh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ci([a,v.pathname]),pathnameBase:uN(ci([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=ci([a,v.pathnameBase]))}return l}function Mh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let A=u[w]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const T=u[w];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function iN(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aN(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:lN(n,e):e,search:dN(r),hash:hN(s)}}function lN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iy(t){let e=cN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ry(t,e,n,r=!1){let s;typeof t=="string"?s=ma(t):(s={...t},gt(!s.pathname||!s.pathname.includes("?"),Pm("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Pm("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Pm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}u=v>=0?e[v]:"/"}let d=aN(s,u),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ci=t=>t.join("/").replace(/\/\/+/g,"/"),uN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var pN=["GET",...BE];new Set(pN);var Il=b.createContext(null);Il.displayName="DataRouter";var pf=b.createContext(null);pf.displayName="DataRouterState";b.createContext(!1);var zE=b.createContext({isTransitioning:!1});zE.displayName="ViewTransition";var mN=b.createContext(new Map);mN.displayName="Fetchers";var gN=b.createContext(null);gN.displayName="Await";var ss=b.createContext(null);ss.displayName="Navigation";var Iu=b.createContext(null);Iu.displayName="Location";var is=b.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var Ay=b.createContext(null);Ay.displayName="RouteError";function yN(t,{relative:e}={}){gt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(ss),{hash:s,pathname:a,search:l}=Ru(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:ci([n,a])),r.createHref({pathname:u,search:l,hash:s})}function Rl(){return b.useContext(Iu)!=null}function Lr(){return gt(Rl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Iu).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(t){b.useContext(ss).static||b.useLayoutEffect(t)}function Zn(){let{isDataRoute:t}=b.useContext(is);return t?NN():vN()}function vN(){gt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Il),{basename:e,navigator:n}=b.useContext(ss),{matches:r}=b.useContext(is),{pathname:s}=Lr(),a=JSON.stringify(Iy(r)),l=b.useRef(!1);return WE(()=>{l.current=!0}),b.useCallback((d,p={})=>{if(mr(l.current,$E),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Ry(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ci([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}b.createContext(null);function qE(){let{matches:t}=b.useContext(is),e=t[t.length-1];return e?e.params:{}}function Ru(t,{relative:e}={}){let{matches:n}=b.useContext(is),{pathname:r}=Lr(),s=JSON.stringify(Iy(n));return b.useMemo(()=>Ry(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function wN(t,e){return HE(t,e)}function HE(t,e,n,r,s){gt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(ss),{matches:l}=b.useContext(is),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";GE(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Lr(),T;if(e){let j=typeof e=="string"?ma(e):e;gt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=w;let A=T.pathname||"/",N=A;if(g!=="/"){let j=g.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=OE(t,{pathname:N});mr(v||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),mr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=TN(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ci([g,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:ci([g,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&D?b.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function xN(){let t=AN(),e=fN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var _N=b.createElement(xN,null),bN=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(is.Provider,{value:this.props.routeContext},b.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EN({routeContext:t,match:e,children:n}){let r=b.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(is.Provider,{value:t},n)}function TN(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:w}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let w,T=!1,A=null,N=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||_N,u&&(d<0&&v===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):d===v&&(T=!0,N=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),D=()=>{let j;return w?j=A:T?j=N:g.route.Component?j=b.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,b.createElement(EN,{match:g,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(bN,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):D()},null)}function Ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SN(t){let e=b.useContext(Il);return gt(e,Ny(t)),e}function CN(t){let e=b.useContext(pf);return gt(e,Ny(t)),e}function IN(t){let e=b.useContext(is);return gt(e,Ny(t)),e}function ky(t){let e=IN(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RN(){return ky("useRouteId")}function AN(){let t=b.useContext(Ay),e=CN("useRouteError"),n=ky("useRouteError");return t!==void 0?t:e.errors?.[n]}function NN(){let{router:t}=SN("useNavigate"),e=ky("useNavigate"),n=b.useRef(!1);return WE(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{mr(n.current,$E),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var n1={};function GE(t,e,n){!e&&!n1[t]&&(n1[t]=!0,mr(!1,n))}b.memo(kN);function kN({routes:t,future:e,state:n,unstable_onError:r}){return HE(t,void 0,n,r,e)}function PN({to:t,replace:e,state:n,relative:r}){gt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(ss);mr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(is),{pathname:l}=Lr(),u=Zn(),d=Ry(t,Iy(a),l,r==="path"),p=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function Gn(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){gt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ma(n));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,T=b.useMemo(()=>{let A=di(d,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:w},navigationType:r}},[l,d,p,g,v,w,r]);return mr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(ss.Provider,{value:u},b.createElement(Iu.Provider,{children:e,value:T}))}function DN({children:t,location:e}){return wN(bg(t),e)}function bg(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,bg(r.props.children,a));return}gt(r.type===Gn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bg(r.props.children,a)),n.push(l)}),n}var vh="get",wh="application/x-www-form-urlencoded";function mf(t){return t!=null&&typeof t.tagName=="string"}function LN(t){return mf(t)&&t.tagName.toLowerCase()==="button"}function MN(t){return mf(t)&&t.tagName.toLowerCase()==="form"}function VN(t){return mf(t)&&t.tagName.toLowerCase()==="input"}function ON(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FN(t,e){return t.button===0&&(!e||e==="_self")&&!ON(t)}function Eg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function UN(t,e){let n=Eg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var nh=null;function BN(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var zN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(t){return t!=null&&!zN.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function $N(t,e){let n,r,s,a,l;if(MN(t)){let u=t.getAttribute("action");r=u?di(u,e):null,n=t.getAttribute("method")||vh,s=jm(t.getAttribute("enctype"))||wh,a=new FormData(t)}else if(LN(t)||VN(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?di(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||vh,s=jm(t.getAttribute("formenctype"))||jm(u.getAttribute("enctype"))||wh,a=new FormData(u,t),!BN()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,v)}}else{if(mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,r=null,s=wh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GN(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await qN(a,n);return l.links?l.links():[]}return[]}));return XN(r.flat(1).filter(HN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function r1(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,u=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):a==="data"?e.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KN(t,e,{includeHydrateFallback:n}={}){return QN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function QN(t){return[...new Set(t)]}function YN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function XN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(YN(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function KE(){let t=b.useContext(Il);return Py(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JN(){let t=b.useContext(pf);return Py(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jy=b.createContext(void 0);jy.displayName="FrameworkContext";function QE(){let t=b.useContext(jy);return Py(t,"You must render this element inside a <HydratedRouter> element"),t}function ZN(t,e){let n=b.useContext(jy),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=D=>{D.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let T=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:kc(u,T),onBlur:kc(d,A),onMouseEnter:kc(p,T),onMouseLeave:kc(g,A),onTouchStart:kc(v,T)}]:[!1,w,{}]}function kc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ek({page:t,...e}){let{router:n}=KE(),r=b.useMemo(()=>OE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(nk,{page:t,matches:r,...e}):null}function tk(t){let{manifest:e,routeModules:n}=QE(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return GN(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function nk({page:t,matches:e,...n}){let r=Lr(),{manifest:s,routeModules:a}=QE(),{basename:l}=KE(),{loaderData:u,matches:d}=JN(),p=b.useMemo(()=>r1(t,e,d,s,r,"data"),[t,e,d,s,r]),g=b.useMemo(()=>r1(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,N=!1;if(e.forEach(D=>{let j=s.routes[D.route.id];!j||!j.hasLoader||(!p.some(F=>F.route.id===D.route.id)&&D.route.id in u&&a[D.route.id]?.shouldRevalidate||j.hasClientLoader?N=!0:A.add(D.route.id))}),A.size===0)return[];let S=WN(t,l,"data");return N&&A.size>0&&S.searchParams.set("_routes",e.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[l,u,r,s,p,e,t,a]),w=b.useMemo(()=>KN(g,s),[g,s]),T=tk(g);return b.createElement(b.Fragment,null,v.map(A=>b.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),w.map(A=>b.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:N})=>b.createElement("link",{key:A,nonce:n.nonce,...N})))}function rk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YE&&(window.__reactRouterVersion="7.9.4")}catch{}function sk({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=WA({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),u=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>s.listen(u),[s,u]),b.createElement(jN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:v,...w},T){let{basename:A}=b.useContext(ss),N=typeof p=="string"&&XE.test(p),S,D=!1;if(typeof p=="string"&&N&&(S=p,YE))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=di(L.pathname,A);L.origin===P.origin&&V!=null?p=V+L.search+L.hash:D=!0}catch{mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=yN(p,{relative:s}),[F,$,H]=ZN(r,w),B=lk(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function I(P){e&&e(P),P.defaultPrevented||B(P)}let R=b.createElement("a",{...w,...H,href:S||j,onClick:D||a?e:I,ref:rk(T,$),target:d,"data-discover":!N&&n==="render"?"true":void 0});return F&&!N?b.createElement(b.Fragment,null,R,b.createElement(ek,{page:j})):R});Ir.displayName="Link";var ik=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...p},g){let v=Ru(l,{relative:p.relative}),w=Lr(),T=b.useContext(pf),{navigator:A,basename:N}=b.useContext(ss),S=T!=null&&fk(v)&&u===!0,D=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,j=w.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(j=j.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&N&&(F=di(F,N)||F);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=j===D||!s&&j.startsWith(D)&&j.charAt($)==="/",B=F!=null&&(F===D||!s&&F.startsWith(D)&&F.charAt(D.length)==="/"),I={isActive:H,isPending:B,isTransitioning:S},R=H?e:void 0,P;typeof r=="function"?P=r(I):P=[r,H?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(I):a;return b.createElement(Ir,{...p,"aria-current":R,className:P,ref:g,style:L,to:l,viewTransition:u},typeof d=="function"?d(I):d)});ik.displayName="NavLink";var ok=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=vh,action:u,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,...w},T)=>{let A=dk(),N=hk(u,{relative:p}),S=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&XE.test(u),j=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,H=$?.getAttribute("formmethod")||l;A($||F.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:T,method:S,action:N,onSubmit:r?d:j,...w,"data-discover":!D&&t==="render"?"true":void 0})});ok.displayName="Form";function ak(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let e=b.useContext(Il);return gt(e,ak(t)),e}function lk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Zn(),d=Lr(),p=Ru(t,{relative:a});return b.useCallback(g=>{if(FN(g,e)){g.preventDefault();let v=n!==void 0?n:iu(d)===iu(p);u(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,p,n,r,e,t,s,a,l])}function Kz(t){mr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(Eg(t)),n=b.useRef(!1),r=Lr(),s=b.useMemo(()=>UN(r.search,n.current?null:e.current),[r.search]),a=Zn(),l=b.useCallback((u,d)=>{const p=Eg(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,a("?"+p,d)},[a,s]);return[s,l]}var ck=0,uk=()=>`__${String(++ck)}__`;function dk(){let{router:t}=JE("useSubmit"),{basename:e}=b.useContext(ss),n=RN();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:p}=$N(r,e);if(s.navigate===!1){let g=s.fetcherKey||uk();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function hk(t,{relative:e}={}){let{basename:n}=b.useContext(ss),r=b.useContext(is);gt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ru(t||".",{relative:e})},l=Lr();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ci([n,a.pathname])),iu(a)}function fk(t,{relative:e}={}){let n=b.useContext(zE);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JE("useViewTransitionState"),s=Ru(t,{relative:e});if(!n.isTransitioning)return!1;let a=di(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(s.pathname,l)!=null||Mh(s.pathname,a)!=null}var Lc=VE();const pk="modulepreload",mk=function(t){return"/"+t},s1={},ZE=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(p=>{if(p=mk(p),p in s1)return;s1[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":pk,g||(w.as="script"),w.crossOrigin="",w.href=p,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((T,A)=>{w.addEventListener("load",T),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},gk=()=>{};var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},t2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let w=(u&15)<<2|p>>6,T=p&63;d||(T=64,l||(w=64)),r.push(n[g],n[v],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||p==null||v==null)throw new vk;const w=a<<2|u>>4;if(r.push(w),p!==64){const T=u<<4&240|p>>2;if(r.push(T),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wk=function(t){const e=e2(t);return t2.encodeByteArray(e,!0)},Vh=function(t){return wk(t).replace(/\./g,"")},n2=function(t){try{return t2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=()=>xk().__FIREBASE_DEFAULTS__,bk=()=>{if(typeof process>"u"||typeof i1>"u")return;const t=i1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ek=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n2(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return gk()||_k()||bk()||Ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r2=t=>gf()?.emulatorHosts?.[t],s2=t=>{const e=r2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i2=()=>gf()?.config,o2=t=>gf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vh(JSON.stringify(n)),Vh(JSON.stringify(l)),""].join(".")}const $c={};function Sk(){const t={prod:[],emulator:[]};for(const e of Object.keys($c))$c[e]?t.emulator.push(e):t.prod.push(e);return t}function Ck(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let o1=!1;function Ly(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||$c[t]===e||$c[t]||o1)return;$c[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=Sk().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{o1=!0,l()},w}function g(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=Ck(r),T=n("text"),A=document.getElementById(T)||document.createElement("span"),N=n("learnmore"),S=document.getElementById(N)||document.createElement("a"),D=n("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;u(F),g(S,N);const $=p();d(j,D),F.append(j,A,S,$),document.body.appendChild(F)}a?(A.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ik(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function Rk(){const t=gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kk(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pk(){return!Rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function u2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function jk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Lk(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Mr(s,u,r)}}function Lk(t,e){return t.replace(Mk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Mk=/\{\$([^}]+)}/g;function Vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(a1(a)&&a1(l)){if(!hi(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function a1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ok(t,e){const n=new Fk(t,e);return n.subscribe.bind(n)}class Fk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dm),s.error===void 0&&(s.error=Dm),s.complete===void 0&&(s.complete=Dm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1e3,zk=2,$k=14400*1e3,Wk=.5;function l1(t,e=Bk,n=zk){const r=e*Math.pow(n,t),s=Math.round(Wk*r*(Math.random()-.5)*2);return Math.min($k,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class Pr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gk(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hk(t){return t===Yo?void 0:t}function Gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const Qk={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Yk=Be.INFO,Xk={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Jk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Xk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=Yk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Zk=(t,e)=>e.some(n=>t instanceof n);let c1,u1;function eP(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tP(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,Tg=new WeakMap,h2=new WeakMap,Lm=new WeakMap,My=new WeakMap;function nP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(to(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&d2.set(n,t)}).catch(()=>{}),My.set(e,t),e}function rP(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Tg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sP(t){Sg=t(Sg)}function iP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mm(this),e,...n);return h2.set(r,e.sort?e.sort():[e]),to(r)}:tP().includes(t)?function(...e){return t.apply(Mm(this),e),to(d2.get(this))}:function(...e){return to(t.apply(Mm(this),e))}}function oP(t){return typeof t=="function"?iP(t):(t instanceof IDBTransaction&&rP(t),Zk(t,eP())?new Proxy(t,Sg):t)}function to(t){if(t instanceof IDBRequest)return nP(t);if(Lm.has(t))return Lm.get(t);const e=oP(t);return e!==t&&(Lm.set(t,e),My.set(e,t)),e}const Mm=t=>My.get(t);function f2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=to(l);return r&&l.addEventListener("upgradeneeded",d=>{r(to(l.result),d.oldVersion,d.newVersion,to(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const aP=["get","getKey","getAll","getAllKeys","count"],lP=["put","add","delete","clear"],Vm=new Map;function d1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aP.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&d.done]))[0]};return Vm.set(e,a),a}sP(t=>({...t,get:(e,n,r)=>d1(e,n)||t.get(e,n,r),has:(e,n)=>!!d1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uP(t){return t.getComponent()?.type==="VERSION"}const Cg="@firebase/app",h1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new yf("@firebase/app"),dP="@firebase/app-compat",hP="@firebase/analytics-compat",fP="@firebase/analytics",pP="@firebase/app-check-compat",mP="@firebase/app-check",gP="@firebase/auth",yP="@firebase/auth-compat",vP="@firebase/database",wP="@firebase/data-connect",xP="@firebase/database-compat",_P="@firebase/functions",bP="@firebase/functions-compat",EP="@firebase/installations",TP="@firebase/installations-compat",SP="@firebase/messaging",CP="@firebase/messaging-compat",IP="@firebase/performance",RP="@firebase/performance-compat",AP="@firebase/remote-config",NP="@firebase/remote-config-compat",kP="@firebase/storage",PP="@firebase/storage-compat",jP="@firebase/firestore",DP="@firebase/ai",LP="@firebase/firestore-compat",MP="firebase",VP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",OP={[Cg]:"fire-core",[dP]:"fire-core-compat",[fP]:"fire-analytics",[hP]:"fire-analytics-compat",[mP]:"fire-app-check",[pP]:"fire-app-check-compat",[gP]:"fire-auth",[yP]:"fire-auth-compat",[vP]:"fire-rtdb",[wP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[_P]:"fire-fn",[bP]:"fire-fn-compat",[EP]:"fire-iid",[TP]:"fire-iid-compat",[SP]:"fire-fcm",[CP]:"fire-fcm-compat",[IP]:"fire-perf",[RP]:"fire-perf-compat",[AP]:"fire-rc",[NP]:"fire-rc-compat",[kP]:"fire-gcs",[PP]:"fire-gcs-compat",[jP]:"fire-fst",[LP]:"fire-fst-compat",[DP]:"fire-vertex","fire-js":"fire-js",[MP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,FP=new Map,Rg=new Map;function f1(t,e){try{t.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zr(t){const e=t.name;if(Rg.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of Oh.values())f1(n,t);for(const n of FP.values())f1(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new ga("app","Firebase",UP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=VP;function p2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ig,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw no.create("bad-app-name",{appName:String(s)});if(n||(n=i2()),!n)throw no.create("no-options");const a=Oh.get(s);if(a){if(hi(n,a.options)&&hi(r,a.config))return a;throw no.create("duplicate-app",{appName:s})}const l=new Kk(s);for(const d of Rg.values())l.addComponent(d);const u=new BP(n,r,l);return Oh.set(s,u),u}function vf(t=Ig){const e=Oh.get(t);if(!e&&t===Ig&&i2())return p2();if(!e)throw no.create("no-app",{appName:t});return e}function Jn(t,e,n){let r=OP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(l.join(" "));return}Zr(new Pr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="firebase-heartbeat-database",$P=1,ou="firebase-heartbeat-store";let Om=null;function m2(){return Om||(Om=f2(zP,$P,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw no.create("idb-open",{originalErrorMessage:t.message})})),Om}async function WP(t){try{const n=(await m2()).transaction(ou),r=await n.objectStore(ou).get(g2(t));return await n.done,r}catch(e){if(e instanceof Mr)fi.warn(e.message);else{const n=no.create("idb-get",{originalErrorMessage:e?.message});fi.warn(n.message)}}}async function p1(t,e){try{const r=(await m2()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,g2(t)),await r.done}catch(n){if(n instanceof Mr)fi.warn(n.message);else{const r=no.create("idb-set",{originalErrorMessage:n?.message});fi.warn(r.message)}}}function g2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=1024,HP=30;class GP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HP){const s=YP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m1(),{heartbeatsToSend:n,unsentEntries:r}=KP(this._heartbeatsCache.heartbeats),s=Vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return fi.warn(e),""}}}function m1(){return new Date().toISOString().substring(0,10)}function KP(t,e=qP){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),g1(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),g1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?u2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g1(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}function YP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){Zr(new Pr("platform-logger",e=>new cP(e),"PRIVATE")),Zr(new Pr("heartbeat",e=>new GP(e),"PRIVATE")),Jn(Cg,h1,t),Jn(Cg,h1,"esm2020"),Jn("fire-js","")}XP("");var JP="firebase",ZP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(JP,ZP,"app");const y2="@firebase/installations",Vy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e4,w2=`w:${Vy}`,x2="FIS_v2",e5="https://firebaseinstallations.googleapis.com/v1",t5=3600*1e3,n5="installations",r5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ga(n5,r5,s5);function _2(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2({projectId:t}){return`${e5}/projects/${t}/installations`}function E2(t){return{token:t.token,requestStatus:2,expiresIn:o5(t.expiresIn),creationTime:Date.now()}}async function T2(t,e){const r=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function S2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function i5(t,{refreshToken:e}){const n=S2(t);return n.append("Authorization",a5(e)),n}async function C2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function o5(t){return Number(t.replace("s","000"))}function a5(t){return`${x2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=b2(t),s=S2(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:x2,appId:t.appId,sdkVersion:w2},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await C2(()=>fetch(r,u));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:E2(p.authToken)}}else throw await T2("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=/^[cdef][\w-]{21}$/,Ag="";function d5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=h5(t);return u5.test(n)?n:Ag}catch{return Ag}}function h5(t){return c5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map;function A2(t,e){const n=wf(t);N2(n,e),f5(n,e)}function N2(t,e){const n=R2.get(t);if(n)for(const r of n)r(e)}function f5(t,e){const n=p5();n&&n.postMessage({key:t,fid:e}),m5()}let Jo=null;function p5(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=t=>{N2(t.data.key,t.data.fid)}),Jo}function m5(){R2.size===0&&Jo&&(Jo.close(),Jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="firebase-installations-database",y5=1,ca="firebase-installations-store";let Fm=null;function Oy(){return Fm||(Fm=f2(g5,y5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),Fm}async function Fh(t,e){const n=wf(t),s=(await Oy()).transaction(ca,"readwrite"),a=s.objectStore(ca),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&A2(t,e.fid),e}async function k2(t){const e=wf(t),r=(await Oy()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function xf(t,e){const n=wf(t),s=(await Oy()).transaction(ca,"readwrite"),a=s.objectStore(ca),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&A2(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){let e;const n=await xf(t.appConfig,r=>{const s=v5(r),a=w5(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Ag?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function v5(t){const e=t||{fid:d5(),registrationStatus:0};return P2(e)}function w5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=x5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_5(t)}:{installationEntry:e}}async function x5(t,e){try{const n=await l5(t,e);return Fh(t.appConfig,n)}catch(n){throw _2(n)&&n.customData.serverCode===409?await k2(t.appConfig):await Fh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _5(t){let e=await y1(t.appConfig);for(;e.registrationStatus===1;)await I2(100),e=await y1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fy(t);return r||n}return e}function y1(t){return xf(t,e=>{if(!e)throw la.create("installation-not-found");return P2(e)})}function P2(t){return b5(t)?{fid:t.fid,registrationStatus:0}:t}function b5(t){return t.registrationStatus===1&&t.registrationTime+v2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5({appConfig:t,heartbeatServiceProvider:e},n){const r=T5(t,n),s=i5(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:w2,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await C2(()=>fetch(r,u));if(d.ok){const p=await d.json();return E2(p)}else throw await T2("Generate Auth Token",d)}function T5(t,{fid:e}){return`${b2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e=!1){let n;const r=await xf(t.appConfig,a=>{if(!j2(a))throw la.create("not-registered");const l=a.authToken;if(!e&&I5(l))return a;if(l.requestStatus===1)return n=S5(t,e),a;{if(!navigator.onLine)throw la.create("app-offline");const u=A5(a);return n=C5(t,u),u}});return n?await n:r.authToken}async function S5(t,e){let n=await v1(t.appConfig);for(;n.authToken.requestStatus===1;)await I2(100),n=await v1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uy(t,e):r}function v1(t){return xf(t,e=>{if(!j2(e))throw la.create("not-registered");const n=e.authToken;return N5(n)?{...e,authToken:{requestStatus:0}}:e})}async function C5(t,e){try{const n=await E5(t,e),r={...e,authToken:n};return await Fh(t.appConfig,r),n}catch(n){if(_2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Fh(t.appConfig,r)}throw n}}function j2(t){return t!==void 0&&t.registrationStatus===2}function I5(t){return t.requestStatus===2&&!R5(t)}function R5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+t5}function A5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function N5(t){return t.requestStatus===1&&t.requestTime+v2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fy(e);return r?r.catch(console.error):Uy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e=!1){const n=t;return await j5(n),(await Uy(n,e)).token}async function j5(t){const{registrationPromise:e}=await Fy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){if(!t||!t.options)throw Um("App Configuration");if(!t.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Um(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Um(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="installations",L5="installations-internal",M5=t=>{const e=t.getProvider("app").getImmediate(),n=D5(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},V5=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,D2).getImmediate();return{getId:()=>k5(n),getToken:s=>P5(n,s)}};function O5(){Zr(new Pr(D2,M5,"PUBLIC")),Zr(new Pr(L5,V5,"PRIVATE"))}O5();Jn(y2,Vy);Jn(y2,Vy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="analytics",F5="firebase_id",U5="origin",B5=60*1e3,z5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",By="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new ga("analytics","Analytics",$5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){if(!t.startsWith(By)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return Vn.warn(e.message),""}return t}function L2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function q5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function H5(t,e){const n=q5("firebase-js-sdk-policy",{createScriptURL:W5}),r=document.createElement("script"),s=`${By}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function G5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function K5(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await L2(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(u){Vn.error(u)}t("config",s,a)}async function Q5(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await L2(n);for(const d of l){const p=u.find(v=>v.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Vn.error(a)}}function Y5(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[u,d]=l;await Q5(t,e,n,u,d)}else if(a==="config"){const[u,d]=l;await K5(t,e,n,r,u,d)}else if(a==="consent"){const[u,d]=l;t("consent",u,d)}else if(a==="get"){const[u,d,p]=l;t("get",u,d,p)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Vn.error(u)}}return s}function X5(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=Y5(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function J5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(By)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=30,e4=1e3;class t4{constructor(e={},n=e4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const M2=new t4;function n4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function r4(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:n4(n)},s=z5.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function s4(t,e=M2,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw pr.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw pr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new a4;return setTimeout(async()=>{u.abort()},B5),V2({appId:r,apiKey:s,measurementId:a},l,u,e)}async function V2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=M2){const{appId:a,measurementId:l}=t;try{await i4(r,e)}catch(u){if(l)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await r4(t);return s.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!o4(d)){if(s.deleteThrottleMetadata(a),l)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw u}const p=Number(d?.customData?.httpStatus)===503?l1(n,s.intervalMillis,Z5):l1(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(a,g),Vn.debug(`Calling attemptFetch again in ${p} millis`),V2(t,g,r,s)}}function i4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function o4(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class a4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function l4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function c4(t,e,n,r){if(r&&r.global){const s={};for(const a of Object.keys(n))s[`user_properties.${a}`]=n[a];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(){if(c2())try{await u2()}catch(t){return Vn.warn(pr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Vn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function d4(t,e,n,r,s,a,l){const u=s4(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Vn.error(w)),e.push(u);const d=u4().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([u,d]);J5(a)||H5(a,p.measurementId),s("js",new Date);const v=l?.config??{};return v[U5]="firebase",v.update=!0,g!=null&&(v[F5]=g),s("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.app=e}_delete(){return delete cl[this.app.options.appId],Promise.resolve()}}let cl={},w1=[];const x1={};let Bm="dataLayer",f4="gtag",_1,zy,b1=!1;function p4(){const t=[];if(l2()&&t.push("This is a browser extension environment."),jk()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});Vn.warn(n.message)}}function m4(t,e,n){p4();const r=t.options.appId;if(!r)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(cl[r]!=null)throw pr.create("already-exists",{id:r});if(!b1){G5(Bm);const{wrappedGtag:a,gtagCore:l}=X5(cl,w1,x1,Bm,f4);zy=a,_1=l,b1=!0}return cl[r]=d4(t,w1,x1,e,_1,Bm,n),new h4(t)}function g4(t=vf()){t=ot(t);const e=mo(t,Uh);return e.isInitialized()?e.getImmediate():y4(t)}function y4(t,e={}){const n=mo(t,Uh);if(n.isInitialized()){const s=n.getImmediate();if(hi(e,n.getOptions()))return s;throw pr.create("already-initialized")}return n.initialize({options:e})}function v4(t,e,n){t=ot(t),c4(zy,cl[t.app.options.appId],e,n).catch(r=>Vn.error(r))}function w4(t,e,n,r){t=ot(t),l4(zy,cl[t.app.options.appId],e,n,r).catch(s=>Vn.error(s))}const E1="@firebase/analytics",T1="0.10.19";function x4(){Zr(new Pr(Uh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return m4(r,s,n)},"PUBLIC")),Zr(new Pr("analytics-internal",t,"PRIVATE")),Jn(E1,T1),Jn(E1,T1,"esm2020");function t(e){try{const n=e.getProvider(Uh).getImmediate();return{logEvent:(r,s,a)=>w4(n,r,s,a),setUserProperties:(r,s)=>v4(n,r,s)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}x4();function O2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _4=O2,F2=new ga("auth","Firebase",O2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new yf("@firebase/auth");function b4(t,...e){Bh.logLevel<=Be.WARN&&Bh.warn(`Auth (${ya}): ${t}`,...e)}function xh(t,...e){Bh.logLevel<=Be.ERROR&&Bh.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Wy(t,...e)}function Jr(t,...e){return Wy(t,...e)}function $y(t,e,n){const r={..._4(),[e]:n};return new ga("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return $y(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),$y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F2.create(t,...e)}function Se(t,e,...n){if(!t)throw Wy(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function pi(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof self<"u"&&self.location?.href||""}function T4(){return S1()==="http:"||S1()==="https:"}function S1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||l2()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ik()||Nk()}get(){return S4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A4=new Nu(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yo(t,e,n,r,s={}){return B2(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Au({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...a};return Ak()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(p.credentials="include"),U2.fetch()(await z2(t,t.config.apiHost,n,u),p)})}async function B2(t,e,n){t._canInitEmulator=!1;const r={...I4,...e};try{const s=new k4(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw rh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw rh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $y(t,g,p);jr(t,g)}}catch(s){if(s instanceof Mr)throw s;jr(t,"network-request-failed",{message:String(s)})}}async function ku(t,e,n,r,s={}){const a=await yo(t,e,n,r,s);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function z2(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?qy(t.config,s):`${t.config.apiScheme}://${s}`;return R4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function N4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),A4.get())})}}function rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function C1(t){return t!==void 0&&t.enterprise!==void 0}class P4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j4(t,e){return yo(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function zh(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=ot(t),r=await n.getIdToken(e),s=Hy(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Wc(zm(s.auth_time)),issuedAtTime:Wc(zm(s.iat)),expirationTime:Wc(zm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zm(t){return Number(t)*1e3}function Hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=n2(n);return s?JSON.parse(s):(xh("Failed to decode base64 JWT payload"),null)}catch(s){return xh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function I1(t){const e=Hy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&M4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){const e=t.auth,n=await t.getIdToken(),r=await au(t,zh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?$2(s.providerUserInfo):[],l=F4(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function O4(t){const e=ot(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){const n=await B2(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await z2(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&po(t.emulatorConfig.host)&&(d.credentials="include"),U2.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B4(t,e){return yo(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=I1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await U4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ul;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return O4(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await au(this,D4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:A,stsTokenManager:N}=n;Se(v&&N,e,"internal-error");const S=ul.fromJSON(this.name,N);Se(typeof v=="string",e,"internal-error"),Hi(r,e.name),Hi(s,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),Hi(a,e.name),Hi(l,e.name),Hi(u,e.name),Hi(d,e.name),Hi(p,e.name),Hi(g,e.name);const D=new Xr({uid:v,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:p,lastLoginAt:g});return A&&Array.isArray(A)&&(D.providerData=A.map(j=>({...j}))),d&&(D._redirectEventId=d),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ul;s.updateFromServerResponse(n);const a=new Xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $h(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?$2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new ul;u.updateFromIdToken(r);const d=new Xr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;function li(t){pi(t instanceof Function,"Expected a class definition");let e=R1.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W2.type="NONE";const A1=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,a),this.fullPersistenceKey=_h("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(li(A1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||li(A1);const l=_h(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const w=await zh(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Xr._fromGetAccountInfoResponse(e,w,g)}else v=Xr._fromJSON(e,g);p!==a&&(u=v),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new dl(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new dl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y2(e))return"Blackberry";if(X2(e))return"Webos";if(H2(e))return"Safari";if((e.includes("chrome/")||G2(e))&&!e.includes("edge/"))return"Chrome";if(Q2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function q2(t=In()){return/firefox\//i.test(t)}function H2(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G2(t=In()){return/crios\//i.test(t)}function K2(t=In()){return/iemobile/i.test(t)}function Q2(t=In()){return/android/i.test(t)}function Y2(t=In()){return/blackberry/i.test(t)}function X2(t=In()){return/webos/i.test(t)}function Gy(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z4(t=In()){return Gy(t)&&!!window.navigator?.standalone}function $4(){return kk()&&document.documentMode===10}function J2(t=In()){return Gy(t)||Q2(t)||X2(t)||Y2(t)||/windows phone/i.test(t)||K2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e=[]){let n;switch(t){case"Browser":n=N1(In());break;case"Worker":n=`${N1(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e={}){return yo(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=6;class G4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??H4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k1(this),this.idTokenSubscription=new k1(this),this.beforeStateQueue=new W4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ui(this));const n=e?ot(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q4(this),n=new G4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&b4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vo(t){return ot(t)}class k1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ok(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q4(t){_f=t}function eT(t){return _f.loadJS(t)}function Y4(){return _f.recaptchaEnterpriseScript}function X4(){return _f.gapiScript}function J4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Z4{constructor(){this.enterprise=new ej}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ej{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tj="recaptcha-enterprise",tT="NO_RECAPTCHA";class nj{constructor(e){this.type=tj,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{j4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new P4(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function s(a,l,u){const d=window.grecaptcha;C1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(tT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&C1(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Y4();d.length!==0&&(d+=u),eT(d).then(()=>{s(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function P1(t,e,n,r=!1,s=!1){const a=new nj(t);let l;if(s)l=tT;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Pg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await P1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await P1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){const n=mo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(hi(a,e??{}))return s;jr(s,"already-initialized")}return n.initialize({options:e})}function sj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ij(t,e,n){const r=vo(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=nT(e),{host:l,port:u}=oj(e),d=u===null?"":`:${u}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(hi(p,r.config.emulator)&&hi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,po(l)?(Dy(`${a}//${l}${d}`),Ly("Auth",!0)):aj()}function nT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oj(t){const e=nT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:j1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:j1(l)}}}function j1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function lj(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return ku(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function dj(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Ky{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,n,"signInWithPassword",cj);case"emailLink":return uj(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,r,"signUpPassword",lj);case"emailLink":return dj(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return ku(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="http://localhost";class ua extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ua(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:hj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pj(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,r=Mc(Vc(t)).deep_link_id;return(r?Mc(Vc(r)).link:null)||r||n||e||t}class Qy{constructor(e){const n=Mc(Vc(e)),r=n.apiKey??null,s=n.oobCode??null,a=fj(n.mode??null);Se(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pj(e);try{return new Qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qy.parseLink(n);return Se(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Pu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Pu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Pu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return ku(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Xr._fromIdTokenResponse(e,r,s),l=D1(r);return new da({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=D1(r);return new da({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wh(e,n,r,s)}}function rT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,a,e,r):a})}async function gj(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(ui(r));const s="reauthenticate";try{const a=await au(t,rT(r,s,e,t),n);Se(a.idToken,r,"internal-error");const l=Hy(a.idToken);Se(l,r,"internal-error");const{sub:u}=l;return Se(t.uid===u,r,"user-mismatch"),da._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t,e,n=!1){if(Qn(t.app))return Promise.reject(ui(t));const r="signIn",s=await rT(t,r,e),a=await da._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function vj(t,e){return sT(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oT(t,e,n){if(Qn(t.app))return Promise.reject(ui(t));const r=vo(t),l=await Pg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&iT(t),d}),u=await da._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function aT(t,e,n){return Qn(t.app)?Promise.reject(ui(t)):vj(ot(t),Al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iT(t),r})}function wj(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function xj(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function va(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}function _j(t){return ot(t).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1e3,Ej=10;class cT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);$4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ej):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cT.type="LOCAL";const Tj=cT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const dT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,a)),d=await Sj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const p=Xy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function Ij(t){ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function Rj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Aj(){return navigator?.serviceWorker?.controller||null}function Nj(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",kj=1,Hh="firebaseLocalStorage",pT="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function Pj(){const t=indexedDB.deleteDatabase(fT);return new ju(t).toPromise()}function jg(){const t=indexedDB.open(fT,kj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:pT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await Pj(),e(await jg()))})})}async function L1(t,e,n){const r=Ef(t,!0).put({[pT]:e,value:n});return new ju(r).toPromise()}async function jj(t,e){const n=Ef(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function M1(t,e){const n=Ef(t,!0).delete(e);return new ju(n).toPromise()}const Dj=800,Lj=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(Nj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Cj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Aj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await L1(e,qh,"1"),await M1(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ef(s,!1).getAll();return new ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const Mj=mT;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e){return e?li(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vj(t){return sT(t.auth,new Jy(t),t.bypassAuthState)}function Oj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),yj(n,new Jy(t),t.bypassAuthState)}async function Fj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),gj(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vj;case"linkViaPopup":case"linkViaRedirect":return Fj;case"reauthViaPopup":case"reauthViaRedirect":return Oj;default:jr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Nu(2e3,1e4);async function vT(t,e,n){if(Qn(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=vo(t);E4(t,e,Yy);const s=gT(r,n);return new Zo(r,"signInViaPopup",e,s).executeNotNull()}class Zo extends yT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uj.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="pendingRedirect",bh=new Map;class zj extends yT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await $j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $j(t,e){const n=Hj(e),r=qj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Wj(t,e){bh.set(t._key(),e)}function qj(t){return li(t._redirectPersistence)}function Hj(t){return _h(Bj,t.config.apiKey,t.name)}async function Gj(t,e,n=!1){if(Qn(t.app))return Promise.reject(ui(t));const r=vo(t),s=gT(r,e),l=await new zj(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=600*1e3;class Qj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(V1(e))}saveEventToCache(e){this.cachedEventUids.add(V1(e)),this.lastProcessedEventTime=Date.now()}}function V1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Yj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zj=/^https?/;async function eD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xj(t);for(const n of e)try{if(tD(n))return}catch{}jr(t,"unauthorized-domain")}function tD(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Zj.test(n))return!1;if(Jj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Nu(3e4,6e4);function O1(){const t=ks().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rD(t){return new Promise((e,n)=>{function r(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),n(Jr(t,"network-request-failed"))},timeout:nD.get()})}if(ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ks().gapi?.load)r();else{const s=J4("iframefcb");return ks()[s]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},eT(`${X4()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function sD(t){return Eh=Eh||rD(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Nu(5e3,15e3),oD="__/auth/iframe",aD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uD(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qy(e,aD):`https://${t.config.authDomain}/${oD}`,r={apiKey:e.apiKey,appName:t.name,v:ya},s=cD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Au(r).slice(1)}`}async function dD(t){const e=await sD(t),n=ks().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:uD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Jr(t,"network-request-failed"),u=ks().setTimeout(()=>{a(l)},iD.get());function d(){ks().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fD=500,pD=600,mD="_blank",gD="http://localhost";class F1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(t,e,n,r=fD,s=pD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...hD,width:r.toString(),height:s.toString(),top:a,left:l},p=In().toLowerCase();n&&(u=G2(p)?mD:n),q2(p)&&(e=e||gD,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,A])=>`${w}${T}=${A},`,"");if(z4(p)&&u!=="_self")return vD(e||"",u),new F1(null);const v=window.open(e||"",u,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new F1(v)}function vD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__/auth/handler",xD="emulator/auth/handler",_D=encodeURIComponent("fac");async function U1(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:s};if(e instanceof Yy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Vk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Pu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),p=d?`#${_D}=${encodeURIComponent(d)}`:"";return`${bD(t)}?${Au(u).slice(1)}${p}`}function bD({config:t}){return t.emulator?qy(t,xD):`https://${t.authDomain}/${wD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=Gj,this._overrideRedirectResult=Wj}async _openPopup(e,n,r,s){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await U1(e,n,r,Ng(),s);return yD(e,a,Xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await U1(e,n,r,Ng(),s);return Ij(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(pi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dD(e),r=new Qj(e);return n.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},s=>{const a=s?.[0]?.[$m];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J2()||H2()||Gy()}}const TD=ED;var B1="@firebase/auth",z1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ID(t){Zr(new Pr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z2(t)},p=new K4(r,s,a,d);return sj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new Pr("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new SD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(B1,z1,CD(t)),Jn(B1,z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=300,AD=o2("authIdTokenMaxAge")||RD;let $1=null;const ND=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AD)return;const s=n?.token;$1!==s&&($1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kD(t=vf()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rj(t,{popupRedirectResolver:TD,persistence:[Mj,Tj,dT]}),r=o2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=ND(a.toString());xj(n,l,()=>l(n.currentUser)),wj(n,u=>l(u))}}const s=r2("auth");return s&&ij(n,`http://${s}`),n}function PD(){return document.getElementsByTagName("head")?.[0]??document}Q4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Jr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",PD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ID("Browser");var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,xT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function P(){}P.prototype=R.prototype,I.F=R.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(L,V,q){for(var M=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)M[ke-2]=arguments[ke];return R.prototype[V].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,P){P||(P=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(V=0;V<16;++V)L[V]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=I.g[0],P=I.g[1],V=I.g[2];let q=I.g[3],M;M=R+(q^P&(V^q))+L[0]+3614090360&4294967295,R=P+(M<<7&4294967295|M>>>25),M=q+(V^R&(P^V))+L[1]+3905402710&4294967295,q=R+(M<<12&4294967295|M>>>20),M=V+(P^q&(R^P))+L[2]+606105819&4294967295,V=q+(M<<17&4294967295|M>>>15),M=P+(R^V&(q^R))+L[3]+3250441966&4294967295,P=V+(M<<22&4294967295|M>>>10),M=R+(q^P&(V^q))+L[4]+4118548399&4294967295,R=P+(M<<7&4294967295|M>>>25),M=q+(V^R&(P^V))+L[5]+1200080426&4294967295,q=R+(M<<12&4294967295|M>>>20),M=V+(P^q&(R^P))+L[6]+2821735955&4294967295,V=q+(M<<17&4294967295|M>>>15),M=P+(R^V&(q^R))+L[7]+4249261313&4294967295,P=V+(M<<22&4294967295|M>>>10),M=R+(q^P&(V^q))+L[8]+1770035416&4294967295,R=P+(M<<7&4294967295|M>>>25),M=q+(V^R&(P^V))+L[9]+2336552879&4294967295,q=R+(M<<12&4294967295|M>>>20),M=V+(P^q&(R^P))+L[10]+4294925233&4294967295,V=q+(M<<17&4294967295|M>>>15),M=P+(R^V&(q^R))+L[11]+2304563134&4294967295,P=V+(M<<22&4294967295|M>>>10),M=R+(q^P&(V^q))+L[12]+1804603682&4294967295,R=P+(M<<7&4294967295|M>>>25),M=q+(V^R&(P^V))+L[13]+4254626195&4294967295,q=R+(M<<12&4294967295|M>>>20),M=V+(P^q&(R^P))+L[14]+2792965006&4294967295,V=q+(M<<17&4294967295|M>>>15),M=P+(R^V&(q^R))+L[15]+1236535329&4294967295,P=V+(M<<22&4294967295|M>>>10),M=R+(V^q&(P^V))+L[1]+4129170786&4294967295,R=P+(M<<5&4294967295|M>>>27),M=q+(P^V&(R^P))+L[6]+3225465664&4294967295,q=R+(M<<9&4294967295|M>>>23),M=V+(R^P&(q^R))+L[11]+643717713&4294967295,V=q+(M<<14&4294967295|M>>>18),M=P+(q^R&(V^q))+L[0]+3921069994&4294967295,P=V+(M<<20&4294967295|M>>>12),M=R+(V^q&(P^V))+L[5]+3593408605&4294967295,R=P+(M<<5&4294967295|M>>>27),M=q+(P^V&(R^P))+L[10]+38016083&4294967295,q=R+(M<<9&4294967295|M>>>23),M=V+(R^P&(q^R))+L[15]+3634488961&4294967295,V=q+(M<<14&4294967295|M>>>18),M=P+(q^R&(V^q))+L[4]+3889429448&4294967295,P=V+(M<<20&4294967295|M>>>12),M=R+(V^q&(P^V))+L[9]+568446438&4294967295,R=P+(M<<5&4294967295|M>>>27),M=q+(P^V&(R^P))+L[14]+3275163606&4294967295,q=R+(M<<9&4294967295|M>>>23),M=V+(R^P&(q^R))+L[3]+4107603335&4294967295,V=q+(M<<14&4294967295|M>>>18),M=P+(q^R&(V^q))+L[8]+1163531501&4294967295,P=V+(M<<20&4294967295|M>>>12),M=R+(V^q&(P^V))+L[13]+2850285829&4294967295,R=P+(M<<5&4294967295|M>>>27),M=q+(P^V&(R^P))+L[2]+4243563512&4294967295,q=R+(M<<9&4294967295|M>>>23),M=V+(R^P&(q^R))+L[7]+1735328473&4294967295,V=q+(M<<14&4294967295|M>>>18),M=P+(q^R&(V^q))+L[12]+2368359562&4294967295,P=V+(M<<20&4294967295|M>>>12),M=R+(P^V^q)+L[5]+4294588738&4294967295,R=P+(M<<4&4294967295|M>>>28),M=q+(R^P^V)+L[8]+2272392833&4294967295,q=R+(M<<11&4294967295|M>>>21),M=V+(q^R^P)+L[11]+1839030562&4294967295,V=q+(M<<16&4294967295|M>>>16),M=P+(V^q^R)+L[14]+4259657740&4294967295,P=V+(M<<23&4294967295|M>>>9),M=R+(P^V^q)+L[1]+2763975236&4294967295,R=P+(M<<4&4294967295|M>>>28),M=q+(R^P^V)+L[4]+1272893353&4294967295,q=R+(M<<11&4294967295|M>>>21),M=V+(q^R^P)+L[7]+4139469664&4294967295,V=q+(M<<16&4294967295|M>>>16),M=P+(V^q^R)+L[10]+3200236656&4294967295,P=V+(M<<23&4294967295|M>>>9),M=R+(P^V^q)+L[13]+681279174&4294967295,R=P+(M<<4&4294967295|M>>>28),M=q+(R^P^V)+L[0]+3936430074&4294967295,q=R+(M<<11&4294967295|M>>>21),M=V+(q^R^P)+L[3]+3572445317&4294967295,V=q+(M<<16&4294967295|M>>>16),M=P+(V^q^R)+L[6]+76029189&4294967295,P=V+(M<<23&4294967295|M>>>9),M=R+(P^V^q)+L[9]+3654602809&4294967295,R=P+(M<<4&4294967295|M>>>28),M=q+(R^P^V)+L[12]+3873151461&4294967295,q=R+(M<<11&4294967295|M>>>21),M=V+(q^R^P)+L[15]+530742520&4294967295,V=q+(M<<16&4294967295|M>>>16),M=P+(V^q^R)+L[2]+3299628645&4294967295,P=V+(M<<23&4294967295|M>>>9),M=R+(V^(P|~q))+L[0]+4096336452&4294967295,R=P+(M<<6&4294967295|M>>>26),M=q+(P^(R|~V))+L[7]+1126891415&4294967295,q=R+(M<<10&4294967295|M>>>22),M=V+(R^(q|~P))+L[14]+2878612391&4294967295,V=q+(M<<15&4294967295|M>>>17),M=P+(q^(V|~R))+L[5]+4237533241&4294967295,P=V+(M<<21&4294967295|M>>>11),M=R+(V^(P|~q))+L[12]+1700485571&4294967295,R=P+(M<<6&4294967295|M>>>26),M=q+(P^(R|~V))+L[3]+2399980690&4294967295,q=R+(M<<10&4294967295|M>>>22),M=V+(R^(q|~P))+L[10]+4293915773&4294967295,V=q+(M<<15&4294967295|M>>>17),M=P+(q^(V|~R))+L[1]+2240044497&4294967295,P=V+(M<<21&4294967295|M>>>11),M=R+(V^(P|~q))+L[8]+1873313359&4294967295,R=P+(M<<6&4294967295|M>>>26),M=q+(P^(R|~V))+L[15]+4264355552&4294967295,q=R+(M<<10&4294967295|M>>>22),M=V+(R^(q|~P))+L[6]+2734768916&4294967295,V=q+(M<<15&4294967295|M>>>17),M=P+(q^(V|~R))+L[13]+1309151649&4294967295,P=V+(M<<21&4294967295|M>>>11),M=R+(V^(P|~q))+L[4]+4149444226&4294967295,R=P+(M<<6&4294967295|M>>>26),M=q+(P^(R|~V))+L[11]+3174756917&4294967295,q=R+(M<<10&4294967295|M>>>22),M=V+(R^(q|~P))+L[2]+718787259&4294967295,V=q+(M<<15&4294967295|M>>>17),M=P+(q^(V|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+q&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const P=R-this.blockSize,L=this.C;let V=this.h,q=0;for(;q<R;){if(V==0)for(;q<=P;)s(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<R;)if(L[V++]=I.charCodeAt(q++),V==this.blockSize){s(this,L),V=0;break}}else for(;q<R;)if(L[V++]=I[q++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,P=0;P<4;++P)for(let L=0;L<32;L+=8)I[R++]=this.g[P]>>>L&255;return I};function a(I,R){var P=u;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=R(I)}function l(I,R){this.h=R;const P=[];let L=!0;for(let V=I.length-1;V>=0;V--){const q=I[V]|0;L&&q==R||(P[V]=q,L=!1)}this.g=P}var u={};function d(I){return-128<=I&&I<128?a(I,function(R){return new l([R|0],R<0?-1:0)}):new l([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return S(p(-I));const R=[];let P=1;for(let L=0;I>=P;L++)R[L]=I/P|0,P*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return S(g(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(R,8));let L=v;for(let q=0;q<I.length;q+=8){var V=Math.min(8,I.length-q);const M=parseInt(I.substring(q,q+V),R);V<8?(V=p(Math.pow(R,V)),L=L.j(V).add(p(M))):(L=L.j(P),L=L.add(p(M)))}return L}var v=d(0),w=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(N(this))return-S(this).m();let I=0,R=1;for(let P=0;P<this.g.length;P++){const L=this.i(P);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(N(this))return"-"+S(this).toString(I);const R=p(Math.pow(I,6));var P=this;let L="";for(;;){const V=$(P,R).g;P=D(P,V.j(R));let q=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=V,A(P))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=D(this,I),N(I)?-1:A(I)?0:1};function S(I){const R=I.g.length,P=[];for(let L=0;L<R;L++)P[L]=~I.g[L];return new l(P,~I.h).add(w)}t.abs=function(){return N(this)?S(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),P=[];let L=0;for(let V=0;V<=R;V++){let q=L+(this.i(V)&65535)+(I.i(V)&65535),M=(q>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=M>>>16,q&=65535,M&=65535,P[V]=M<<16|q}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(I,R){return I.add(S(R))}t.j=function(I){if(A(this)||A(I))return v;if(N(this))return N(I)?S(this).j(S(I)):S(S(this).j(I));if(N(I))return S(this.j(S(I)));if(this.l(T)<0&&I.l(T)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,P=[];for(var L=0;L<2*R;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const q=this.i(L)>>>16,M=this.i(L)&65535,ke=I.i(V)>>>16,Je=I.i(V)&65535;P[2*L+2*V]+=M*Je,j(P,2*L+2*V),P[2*L+2*V+1]+=q*Je,j(P,2*L+2*V+1),P[2*L+2*V+1]+=M*ke,j(P,2*L+2*V+1),P[2*L+2*V+2]+=q*ke,j(P,2*L+2*V+2)}for(I=0;I<R;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=R;I<2*R;I++)P[I]=0;return new l(P,0)};function j(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function F(I,R){this.g=I,this.h=R}function $(I,R){if(A(R))throw Error("division by zero");if(A(I))return new F(v,v);if(N(I))return R=$(S(I),R),new F(S(R.g),S(R.h));if(N(R))return R=$(I,S(R)),new F(S(R.g),R.h);if(I.g.length>30){if(N(I)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var P=w,L=R;L.l(I)<=0;)P=H(P),L=H(L);var V=B(P,1),q=B(L,1);for(L=B(L,2),P=B(P,2);!A(L);){var M=q.add(L);M.l(I)<=0&&(V=V.add(P),q=M),L=B(L,1),P=B(P,1)}return R=D(I,V.j(R)),new F(V,R)}for(V=v;I.l(R)>=0;){for(P=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=p(P),M=q.j(R);N(M)||M.l(I)>0;)P-=L,q=p(P),M=q.j(R);A(q)&&(q=w),V=V.add(q),I=D(I,M)}return new F(V,I)}t.B=function(I){return $(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),P=[];for(let L=0;L<R;L++)P[L]=this.i(L)&I.i(L);return new l(P,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),P=[];for(let L=0;L<R;L++)P[L]=this.i(L)|I.i(L);return new l(P,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),P=[];for(let L=0;L<R;L++)P[L]=this.i(L)^I.i(L);return new l(P,this.h^I.h)};function H(I){const R=I.g.length+1,P=[];for(let L=0;L<R;L++)P[L]=I.i(L)<<1|I.i(L-1)>>>31;return new l(P,I.h)}function B(I,R){const P=R>>5;R%=32;const L=I.g.length-P,V=[];for(let q=0;q<L;q++)V[q]=R>0?I.i(q+P)>>>R|I.i(q+P+1)<<32-R:I.i(q+P);return new l(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ro=l}).apply(typeof W1<"u"?W1:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Oc,bT,Th,Dg,ET,TT,ST;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var E=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var K=f[k];if(!(K in E))break e;E=E[K]}f=f[f.length-1],k=E[f],_=_(k),_!=k&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var E=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&E.push([k,_[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(k,K,X){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return _.prototype[K].apply(k,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const _=f.length;if(_>0){const E=Array(_);for(let k=0;k<_;k++)E[k]=f[k];return E}return[]}function A(f,_){for(let k=1;k<arguments.length;k++){const K=arguments[k];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=f.length||0;const X=K.length||0;f.length=E+X;for(let ae=0;ae<X;ae++)f[E+ae]=K[ae]}else f.push(K)}}class N{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(f){l.setTimeout(()=>{throw f},0)}function D(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const k=F.get();k.set(_,E),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new N(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,B=!1,I=new j,R=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(P)}};function P(){for(var f;f=D();){try{f.h.call(f.g)}catch(E){S(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}B=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function ke(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ke,V),ke.prototype.init=function(f,_){const E=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),dt=0;function ge(f,_,E,k,K){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!k,this.ha=K,this.key=++dt,this.da=this.fa=!1}function se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function le(f,_,E){for(const k in f)_.call(E,f[k],k,f)}function Z(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function U(f){const _={};for(const E in f)_[E]=f[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(f,_){let E,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(E in k)f[E]=k[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(k,E)&&(f[E]=k[E])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,_,E,k,K){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const ae=Te(f,_,k,K);return ae>-1?(_=f[ae],E||(_.fa=!1)):(_=new ge(_,this.src,X,!!k,K),_.fa=E,f.push(_)),_};function Pe(f,_){const E=_.type;if(E in f.g){var k=f.g[E],K=Array.prototype.indexOf.call(k,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(k,K,1),X&&(se(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Te(f,_,E,k){for(let K=0;K<f.length;++K){const X=f[K];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==k)return K}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),je={};function Me(f,_,E,k,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Me(f,_[X],E,k,K);return null}return E=xi(E),f&&f[Je]?f.J(_,E,u(k)?!!k.capture:!1,K):Ie(f,_,E,!1,k,K)}function Ie(f,_,E,k,K,X){if(!_)throw Error("Invalid event type");const ae=u(K)?!!K.capture:!!K;let Le=tr(f);if(Le||(f[Ue]=Le=new _e(f)),E=Le.add(_,E,k,ae,X),E.proxy)return E;if(k=gr(),E.proxy=k,k.src=f,k.listener=E,f.addEventListener)q||(K=ae),K===void 0&&(K=!1),f.addEventListener(_.toString(),k,K);else if(f.attachEvent)f.attachEvent(mn(_.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gr(){function f(E){return _.call(f.src,f.listener,E)}const _=Vr;return f}function pn(f,_,E,k,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)pn(f,_[X],E,k,K);else k=u(k)?!!k.capture:!!k,E=xi(E),f&&f[Je]?(f=f.i,X=String(_).toString(),X in f.g&&(_=f.g[X],E=Te(_,E,k,K),E>-1&&(se(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[X],f.h--)))):f&&(f=tr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Te(_,E,k,K)),(E=f>-1?_[f]:null)&&An(E))}function An(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Je])Pe(_.i,f);else{var E=f.type,k=f.proxy;_.removeEventListener?_.removeEventListener(E,k,f.capture):_.detachEvent?_.detachEvent(mn(E),k):_.addListener&&_.removeListener&&_.removeListener(k),(E=tr(_))?(Pe(E,f),E.h==0&&(E.src=null,_[Ue]=null)):se(f)}}}function mn(f){return f in je?je[f]:je[f]="on"+f}function Vr(f,_){if(f.da)f=!0;else{_=new ke(_,this);const E=f.listener,k=f.ha||f.src;f.fa&&An(f),f=E.call(k,_)}return f}function tr(f){return f=f[Ue],f instanceof _e?f:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function xi(f){return typeof f=="function"?f:(f[as]||(f[as]=function(_){return f.handleEvent(_)}),f[as])}function ht(){L.call(this),this.i=new _e(this),this.M=this,this.G=null}v(ht,L),ht.prototype[Je]=!0,ht.prototype.removeEventListener=function(f,_,E,k){pn(this,f,_,E,k)};function Ze(f,_){var E,k=f.G;if(k)for(E=[];k;k=k.G)E.push(k);if(f=f.M,k=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var K=_;_=new V(k,f),we(_,K)}K=!0;let X,ae;if(E)for(ae=E.length-1;ae>=0;ae--)X=_.g=E[ae],K=gn(X,k,!0,_)&&K;if(X=_.g=f,K=gn(X,k,!0,_)&&K,K=gn(X,k,!1,_)&&K,E)for(ae=0;ae<E.length;ae++)X=_.g=E[ae],K=gn(X,k,!1,_)&&K}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let k=0;k<E.length;k++)se(E[k]);delete f.g[_],f.h--}}this.G=null},ht.prototype.J=function(f,_,E,k){return this.i.add(String(f),_,!1,E,k)},ht.prototype.K=function(f,_,E,k){return this.i.add(String(f),_,!0,E,k)};function gn(f,_,E,k){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const ae=_[X];if(ae&&!ae.da&&ae.capture==E){const Le=ae.listener,At=ae.ha||ae.src;ae.fa&&Pe(f.i,ae),K=Le.call(At,k)!==!1&&K}}return K&&!k.defaultPrevented}function ls(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(f,_||0)}function _i(f){f.g=ls(()=>{f.g=null,f.i&&(f.i=!1,_i(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class bo extends L{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(f){L.call(this),this.h=f,this.g={}}v(cs,L);var Eo=[];function nr(f){le(f.g,function(_,E){this.g.hasOwnProperty(E)&&An(_)},f),f.g={}}cs.prototype.N=function(){cs.Z.N.call(this),nr(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=l.JSON.stringify,us=l.JSON.parse,ds=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function tn(){}function To(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bi(){V.call(this,"d")}v(bi,V);function $s(){V.call(this,"c")}v($s,V);var Fn={},Ei=null;function Or(){return Ei=Ei||new ht}Fn.Ia="serverreachability";function Ti(f){V.call(this,Fn.Ia,f)}v(Ti,V);function Fr(f){const _=Or();Ze(_,new Ti(_))}Fn.STAT_EVENT="statevent";function Ur(f,_){V.call(this,Fn.STAT_EVENT,f),this.stat=_}v(Ur,V);function Ve(f){const _=Or();Ze(_,new Ur(_,f))}Fn.Ja="timingevent";function Ft(f,_){V.call(this,Fn.Ja,f),this.size=_}v(Ft,V);function bt(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function nn(){this.g=!0}nn.prototype.ua=function(){this.g=!1};function rn(f,_,E,k,K,X){f.info(function(){if(f.g)if(X){var ae="",Le=X.split("&");for(let et=0;et<Le.length;et++){var At=Le[et].split("=");if(At.length>1){const jt=At[0];At=At[1];const lr=jt.split("_");ae=lr.length>=2&&lr[1]=="type"?ae+(jt+"="+At+"&"):ae+(jt+"=redacted&")}}}else ae=null;else ae=X;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+_+`
`+E+`
`+ae})}function qt(f,_,E,k,K,X,ae){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+_+`
`+E+`
`+X+" "+ae})}function Rt(f,_,E,k){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+at(f,E)+(k?" "+k:"")})}function Br(f,_){f.info(function(){return"TIMEOUT: "+_})}nn.prototype.info=function(){};function at(f,_){if(!f.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var E=X[f];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var K=k[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ae=1;ae<k.length;ae++)k[ae]=""}}}}return Nn(X)}catch{return _}}var sn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Un;function kn(){}v(kn,tn),kn.prototype.g=function(){return new XMLHttpRequest},Un=new kn;function yn(f){return encodeURIComponent(String(f))}function Pn(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ht(f,_,E,k){this.j=f,this.i=_,this.l=E,this.S=k||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var Qu={},$l={};function zr(f,_,E){f.M=1,f.A=qs(yr(_)),f.u=E,f.R=!0,Wl(f,null)}function Wl(f,_){f.F=Date.now(),So(f),f.B=yr(f.A);var E=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),ec(E.i,"t",k),f.C=0,E=f.j.L,f.h=new Si,f.g=id(f.j,E?_:null,!f.u),f.P>0&&(f.O=new bo(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,k=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(Eo[0]=K.toString()),K=Eo);for(let X=0;X<K.length;X++){const ae=Me(E,K[X],k||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fr(),rn(f.i,f.v,f.B,f.l,f.S,f.u)}Ht.prototype.ba=function(f){f=f.target;const _=this.O;_&&ws(f)==3?_.j():this.Y(f)},Ht.prototype.Y=function(f){try{if(f==this.g)e:{const Le=ws(this.g),At=this.g.ya(),et=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||rd(this.g)))){this.K||Le!=4||At==7||(At==8||et<=0?Fr(3):Fr(2)),_a(this);var _=this.g.ca();this.X=_;var E=Yu(this);if(this.o=_==200,qt(this.i,this.v,this.B,this.l,this.S,Le,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,K=this.g;if((k=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(k)){var X=k;break t}}X=null}if(f=X)Rt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,f);else{this.o=!1,this.m=3,Ve(12),Ws(this),Co(this);break e}}if(this.R){f=!0;let jt;for(;!this.K&&this.C<E.length;)if(jt=Ju(this,E),jt==$l){Le==4&&(this.m=4,Ve(14),f=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Qu){this.m=4,Ve(15),Rt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Rt(this.i,this.l,jt,null),lt(this,jt);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Rt(this.i,this.l,E,"[Invalid Chunked Response]"),Ws(this),Co(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Lo(ae),ae.P=!0,Ve(11))}}else Rt(this.i,this.l,E,null),lt(this,E);Le==4&&Ws(this),this.o&&!this.K&&(Le==4?ka(this.j,this):(this.o=!1,So(this)))}else nc(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Ws(this),Co(this)}}}catch{}finally{}};function Yu(f){if(!Xu(f))return f.g.la();const _=rd(f.g);if(_==="")return"";let E="";const k=_.length,K=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ws(f),Co(f),"";f.h.i=new l.TextDecoder}for(let X=0;X<k;X++)f.h.h=!0,E+=f.h.i.decode(_[X],{stream:!(K&&X==k-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Xu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ju(f,_){var E=f.C,k=_.indexOf(`
`,E);return k==-1?$l:(E=Number(_.substring(E,k)),isNaN(E)?Qu:(k+=1,k+E>_.length?$l:(_=_.slice(k,k+E),f.C=k+E,_)))}Ht.prototype.cancel=function(){this.K=!0,Ws(this)};function So(f){f.T=Date.now()+f.H,ql(f,f.H)}function ql(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=bt(p(f.aa,f),_)}function _a(f){f.D&&(l.clearTimeout(f.D),f.D=null)}Ht.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Fr(),Ve(17)),Ws(this),this.m=2,Co(this)):ql(this,this.T-f)};function Co(f){f.j.I==0||f.K||ka(f.j,f)}function Ws(f){_a(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,nr(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function lt(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Gl(E.h,f))){if(!f.L&&Gl(E.h,f)&&E.I==3){try{var k=E.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Na(E),or(E);else break e;bs(E),Ve(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bt(p(E.Va,E),6e3));Io(E.h)<=1&&E.ta&&(E.ta=void 0)}else ar(E,11)}else if((f.L||E.g==f)&&Na(E),!M(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let et=K[_];const jt=et[0];if(!(jt<=E.K))if(E.K=jt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const lr=et[3];lr!=null&&(E.ka=lr,E.j.info("VER="+E.ka));const Ys=et[4];Ys!=null&&(E.za=Ys,E.j.info("SVER="+E.za));const Es=et[5];Es!=null&&typeof Es=="number"&&Es>0&&(k=1.5*Es,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Ts=f.g;if(Ts){const Da=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var X=k.h;X.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ea(X,X.h),X.h=null))}if(k.G){const ic=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;ic&&(k.wa=ic,Qe(k.J,k.G,ic))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var ae=f;if(k.na=sc(k,k.L?k.ba:null,k.W),ae.L){Ro(k.h,ae);var Le=ae,At=k.O;At&&(Le.H=At),Le.D&&(_a(Le),So(Le)),k.g=ae}else vn(k);E.i.length>0&&Qs(E)}else et[0]!="stop"&&et[0]!="close"||ar(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ar(E,7):Ra(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}Fr(4)}catch{}}var sp=class{constructor(f,_){this.g=f,this.map=_}};function ba(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Io(f){return f.h?1:f.g?f.g.size:0}function Gl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ea(f,_){f.g?f.g.add(_):f.h=_}function Ro(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ba.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return T(f.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const k=f[E].indexOf("=");let K,X=null;k>=0?(K=f[E].substring(0,k),X=f[E].substring(k+1)):K=f[E],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function fs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof fs?(this.l=f.l,Ao(this,f.j),this.o=f.o,this.g=f.g,ps(this,f.u),this.h=f.h,Ci(this,tc(f.i)),this.m=f.m):f&&(_=String(f).match(Zu))?(this.l=!1,Ao(this,_[1]||"",!0),this.o=No(_[2]||""),this.g=No(_[3]||"",!0),ps(this,_[4]),this.h=No(_[5]||"",!0),Ci(this,_[6]||"",!0),this.m=No(_[7]||"")):(this.l=!1,this.i=new We(null,this.l))}fs.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ko(_,Ql,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ko(_,Ql,!0),"@"),f.push(yn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ko(E,E.charAt(0)=="/"?Po:Yl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ko(E,Xl)),f.join("")},fs.prototype.resolve=function(f){const _=yr(this);let E=!!f.j;E?Ao(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var k=f.h;if(E)ps(_,f.u);else if(E=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var K=_.h.lastIndexOf("/");K!=-1&&(k=_.h.slice(0,K+1)+k)}if(K=k,K==".."||K==".")k="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){k=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ae=0;ae<K.length;){const Le=K[ae++];Le=="."?k&&ae==K.length&&X.push(""):Le==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),k&&ae==K.length&&X.push("")):(X.push(Le),k=!0)}k=X.join("/")}else k=K}return E?_.h=k:E=f.i.toString()!=="",E?Ci(_,tc(f.i)):E=!!f.m,E&&(_.m=f.m),_};function yr(f){return new fs(f)}function Ao(f,_,E){f.j=E?No(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ps(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ci(f,_,E){_ instanceof We?(f.i=_,Sa(f.i,f.l)):(E||(_=ko(_,ip)),f.i=new We(_,f.l))}function Qe(f,_,E){f.i.set(_,E)}function qs(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function No(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ko(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Kl),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ql=/[#\/\?@]/g,Yl=/[#\?:]/g,Po=/[#\?]/g,ip=/[#\?@]/g,Xl=/#/g;function We(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function ms(f){f.g||(f.g=new Map,f.h=0,f.i&&sr(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=We.prototype,t.add=function(f,_){ms(this),this.i=null,f=gs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Jl(f,_){ms(f),_=gs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ta(f,_){return ms(f),_=gs(f,_),f.g.has(_)}t.forEach=function(f,_){ms(this),this.g.forEach(function(E,k){E.forEach(function(K){f.call(_,K,k,this)},this)},this)};function Zl(f,_){ms(f);let E=[];if(typeof _=="string")Ta(f,_)&&(E=E.concat(f.g.get(gs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return ms(this),this.i=null,f=gs(this,f),Ta(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Zl(this,f),f.length>0?String(f[0]):_):_};function ec(f,_,E){Jl(f,_),E.length>0&&(f.i=null,f.g.set(gs(f,_),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var E=_[k];const K=yn(E);E=Zl(this,E);for(let X=0;X<E.length;X++){let ae=K;E[X]!==""&&(ae+="="+yn(E[X])),f.push(ae)}}return this.i=f.join("&")};function tc(f){const _=new We;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function gs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Sa(f,_){_&&!f.j&&(ms(f),f.i=null,f.g.forEach(function(E,k){const K=k.toLowerCase();k!=K&&(Jl(this,k),ec(this,K,E))},f)),f.j=_}function ys(f,_){const E=new nn;if(l.Image){const k=new Image;k.onload=g(on,E,"TestLoadImage: loaded",!0,_,k),k.onerror=g(on,E,"TestLoadImage: error",!1,_,k),k.onabort=g(on,E,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(on,E,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else _(!1)}function vs(f,_){const E=new nn,k=new AbortController,K=setTimeout(()=>{k.abort(),on(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:k.signal}).then(X=>{clearTimeout(K),X.ok?on(E,"TestPingServer: ok",!0,_):on(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),on(E,"TestPingServer: error",!1,_)})}function on(f,_,E,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(E)}catch{}}function jo(){this.g=new ds}function Hs(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Hs,tn),Hs.prototype.g=function(){return new ir(this.i,this.h)};function ir(f,_){ht.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ir,ht),t=ir.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,$r(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ed(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ed(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ii(this):$r(this),this.readyState==3&&ed(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Ii(this))},t.Na=function(f){this.g&&(this.response=f,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(f){f.readyState=4,f.l=null,f.j=null,f.B=null,$r(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function td(f){let _="";return le(f,function(E,k){_+=k,_+=":",_+=E,_+=`\r
`}),_}function Ca(f,_,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=td(E),typeof f=="string"?E!=null&&yn(E):Qe(f,_,E))}function rt(f){ht.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(rt,ht);var nd=/^https?$/i,op=["POST","PUT"];t=rt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Un.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){Ri(this,X);return}if(f=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)E.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())E.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(op,_,void 0)>=0)||k||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of E)this.g.setRequestHeader(X,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Ri(this,X)}};function Ri(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ai(f),Ks(f)}function Ai(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},t.Xa=function(){Gs(this)};function Gs(f){if(f.h&&typeof a<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),ws(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var k;if(k=X===0){let ae=String(f.D).match(Zu)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),k=!nd.test(ae?ae.toLowerCase():"")}E=k}if(E)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var K=ws(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Ai(f)}}finally{Ks(f)}}}}function Ks(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Ze(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),us(_)}};function rd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function nc(f){const _={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(M(f[k]))continue;var E=Pn(f[k]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[K]||[];_[K]=X,X.push(E)}Z(_,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ia(f){this.za=0,this.i=[],this.j=new nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ba(f&&f.concurrentRequestLimit),this.Ba=new jo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ia.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,k){Ve(0),this.W=f,this.H=_||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=sc(this,null,this.W),Qs(this)};function Ra(f){if(Aa(f),f.I==3){var _=f.V++,E=yr(f.J);if(Qe(E,"SID",f.M),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),_s(f,E),_=new Ht(f,f.j,_),_.M=2,_.A=qs(yr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=id(_.j,null),_.g.ea(_.A)),_.F=Date.now(),So(_)}Mo(f)}function or(f){f.g&&(Lo(f),f.g.cancel(),f.g=null)}function Aa(f){or(f),f.v&&(l.clearTimeout(f.v),f.v=null),Na(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Qs(f){if(!Hl(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||R(),B||(H(),B=!0),I.add(_,f),f.D=0}}function sd(f,_){return Io(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=bt(p(f.Ea,f,_),Pa(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new Ht(this,this.j,f);let X=this.o;if(this.U&&(X?(X=U(X),we(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=rc(this,K,_),E=yr(this.J),Qe(E,"RID",f),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),_s(this,E),X&&(this.R?_="headers="+yn(td(X))+"&"+_:this.u&&Ca(E,this.u,X)),Ea(this.h,K),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",_),Qe(E,"SID","null"),K.U=!0,zr(K,E,null)):zr(K,E,_),this.I=2}}else this.I==3&&(f?Do(this,f):this.i.length==0||Hl(this.h)||Do(this))};function Do(f,_){var E;_?E=_.l:E=f.V++;const k=yr(f.J);Qe(k,"SID",f.M),Qe(k,"RID",E),Qe(k,"AID",f.K),_s(f,k),f.u&&f.o&&Ca(k,f.u,f.o),E=new Ht(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=rc(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ea(f.h,E),zr(E,k,_)}function _s(f,_){f.H&&le(f.H,function(E,k){Qe(_,k,E)}),f.l&&le({},function(E,k){Qe(_,k,E)})}function rc(f,_,E){E=Math.min(f.i.length,E);const k=f.l?p(f.l.Ka,f.l,f):null;e:{var K=f.i;let Le=-1;for(;;){const At=["count="+E];Le==-1?E>0?(Le=K[0].g,At.push("ofs="+Le)):Le=0:At.push("ofs="+Le);let et=!0;for(let jt=0;jt<E;jt++){var X=K[jt].g;const lr=K[jt].map;if(X-=Le,X<0)Le=Math.max(0,K[jt].g-100),et=!1;else try{X="req"+X+"_"||"";try{var ae=lr instanceof Map?lr:Object.entries(lr);for(const[Ys,Es]of ae){let Ts=Es;u(Es)&&(Ts=Nn(Es)),At.push(X+Ys+"="+encodeURIComponent(Ts))}}catch(Ys){throw At.push(X+"type="+encodeURIComponent("_badmap")),Ys}}catch{k&&k(lr)}}if(et){ae=At.join("&");break e}}ae=void 0}return f=f.i.splice(0,E),_.G=f,ae}function vn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||R(),B||(H(),B=!0),I.add(_,f),f.A=0}}function bs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=bt(p(f.Da,f),Pa(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ni(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=bt(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),or(this),Ni(this))};function Lo(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Ni(f){f.g=new Ht(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=yr(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),_s(f,_),f.u&&f.o&&Ca(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=qs(yr(_)),E.u=null,E.R=!0,Wl(E,f)}t.Va=function(){this.C!=null&&(this.C=null,or(this),bs(this),Ve(19))};function Na(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ka(f,_){var E=null;if(f.g==_){Na(f),Lo(f),f.g=null;var k=2}else if(Gl(f.h,_))E=_.G,Ro(f.h,_),k=1;else return;if(f.I!=0){if(_.o)if(k==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=f.D;k=Or(),Ze(k,new Ft(k,E)),Qs(f)}else vn(f);else if(K=_.m,K==3||K==0&&_.X>0||!(k==1&&sd(f,_)||k==2&&bs(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),K){case 1:ar(f,5);break;case 4:ar(f,10);break;case 3:ar(f,6);break;default:ar(f,2)}}}function Pa(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function ar(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),k=f.Ua;const K=!k;k=new fs(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ao(k,"https"),qs(k),K?ys(k.toString(),E):vs(k.toString(),E)}else Ve(2);f.I=0,f.l&&f.l.pa(_),Mo(f),Aa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Mo(f){if(f.I=0,f.ja=[],f.l){const _=rr(f.h);(_.length!=0||f.i.length!=0)&&(A(f.ja,_),A(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function sc(f,_,E){var k=E instanceof fs?yr(E):new fs(E);if(k.g!="")_&&(k.g=_+"."+k.g),ps(k,k.u);else{var K=l.location;k=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new fs(null);k&&Ao(X,k),_&&(X.g=_),K&&ps(X,K),E&&(X.h=E),k=X}return E=f.G,_=f.wa,E&&_&&Qe(k,E,_),Qe(k,"VER",f.ka),_s(f,k),k}function id(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new rt(new Hs({ab:E})):new rt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function od(){}t=od.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ja(){}ja.prototype.g=function(f,_){return new an(f,_)};function an(f,_){ht.call(this),this.g=new Ia(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!M(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ki(this)}v(an,ht),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ra(this.g)},an.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Nn(f),f=E);_.i.push(new sp(_.Ya++,f)),_.I==3&&Qs(_)},an.prototype.N=function(){this.g.l=null,delete this.j,Ra(this.g),delete this.g,an.Z.N.call(this)};function ad(f){bi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(ad,bi);function ld(){$s.call(this),this.status=1}v(ld,$s);function ki(f){this.g=f}v(ki,od),ki.prototype.ra=function(){Ze(this.g,"a")},ki.prototype.qa=function(f){Ze(this.g,new ad(f))},ki.prototype.pa=function(f){Ze(this.g,new ld)},ki.prototype.oa=function(){Ze(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ST=function(){return new ja},TT=function(){return Or()},ET=Fn,Dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,Th=sn,Ut.COMPLETE="complete",bT=Ut,To.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Oc=To,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,_T=rt}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const q1="@firebase/firestore",H1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new yf("@firebase/firestore");function tl(){return ha.logLevel}function de(t,...e){if(ha.logLevel<=Be.DEBUG){const n=e.map(Zy);ha.debug(`Firestore (${Nl}): ${t}`,...n)}}function mi(t,...e){if(ha.logLevel<=Be.ERROR){const n=e.map(Zy);ha.error(`Firestore (${Nl}): ${t}`,...n)}}function gl(t,...e){if(ha.logLevel<=Be.WARN){const n=e.map(Zy);ha.warn(`Firestore (${Nl}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CT(t,r,n)}function CT(t,e,n){let r=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CT(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LD{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class MD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new MD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=FD(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Lg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Wm(s)===Wm(a)?ze(s,a):Wm(s)?1:-1}return ze(t.length,e.length)}const UD=55296,BD=57343;function Wm(t){const e=t.charCodeAt(0);return e>=UD&&e<=BD}function yl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=As.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),s=As.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(n)):Lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class it extends As{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const zD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends As{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return zD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K1}static keyField(){return new hn([K1])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $D(t,e,n,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q1(t){if(!ve.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y1(t){if(ve.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function WD(t,e){if(e<=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!AT(t))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=-62135596800,J1=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*J1);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X1)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J1}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Ot("string",tt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new tt(0,0))}static max(){return new De(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function qD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new io(s,ve.empty(),e)}function HD(t){return new io(t.readTime,t.key,cu)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(De.min(),ve.empty(),cu)}static max(){return new io(De.max(),ve.empty(),cu)}}function GD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==KD)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(d=>r(d)))})),l=!0,a===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next((g=>{l[p]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function YD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-1;function Cf(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function XD(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="";function JD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z1(e)),e=ZD(t.get(n),e);return Z1(e)}function ZD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case NT:n+="";break;default:n+=a}}return n}function Z1(t){return t+NT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e6(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function kT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=a??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new Wt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const t6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=t6.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",DT="__type__",LT="__previous_value__",MT="__local_write_time__";function n0(t){return(t?.mapValue?.fields||{})[DT]?.stringValue===jT}function If(t){const e=t.mapValue.fields[LT];return n0(e)?If(e):e}function uu(t){const e=oo(t.mapValue.fields[MT].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,s,a,l,u,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const Kh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__type__",r6="__max__",oh={mapValue:{}},OT="__vector__",Qh="value";function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n0(t)?4:i6(t)?9007199254740991:s6(t)?10:11:Ce(28295,{value:t})}function Fs(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=oo(s.timestampValue),u=oo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return ao(s.bytesValue).isEqual(ao(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Pt(s.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Pt(s.integerValue)===Pt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Pt(s.doubleValue),u=Pt(a.doubleValue);return l===u?Gh(l)===Gh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(e_(l)!==e_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Fs(l[d],u[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function hu(t,e){return(t.values||[]).find((n=>Fs(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Pt(a.integerValue||a.doubleValue),d=Pt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(uu(t),uu(e));case 5:return Lg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=ao(a),d=ao(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const g=ze(u[p],d[p]);if(g!==0)return g}return ze(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=ze(Pt(a.latitude),Pt(l.latitude));return u!==0?u:ze(Pt(a.longitude),Pt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return r_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},p=u[Qh]?.arrayValue,g=d[Qh]?.arrayValue,v=ze(p?.values?.length||0,g?.values?.length||0);return v!==0?v:r_(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===oh.mapValue&&l===oh.mapValue)return 0;if(a===oh.mapValue)return 1;if(l===oh.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=Lg(d[v],g[v]);if(w!==0)return w;const T=vl(u[d[v]],p[g[v]]);if(T!==0)return T}return ze(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=oo(t),r=oo(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function r_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=vl(n[s],r[s]);if(a)return a}return ze(n.length,r.length)}function wl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ao(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Mg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Mg(n.fields[l])}`;return s+"}"})(t.mapValue):Ce(61005,{value:t})}function Sh(t){switch(lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(t);return e?16+Sh(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Sh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return wo(r.fields,((a,l)=>{s+=a.length+Sh(l)})),s})(t.mapValue);default:throw Ce(13486,{value:t})}}function s_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function r0(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ch(t){return!!t&&"mapValue"in t}function s6(t){return(t?.mapValue?.fields||{})[VT]?.stringValue===OT}function qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return{...t}}function i6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=hn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=qc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wo(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Yn(qc(this.value))}}function FT(t){const e=[];return wo(t.fields,((n,r)=>{const s=new hn([n]);if(Ch(r)){const a=FT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Sn(e,0,De.min(),De.min(),De.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Sn(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Sn(e,2,n,De.min(),De.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,De.min(),De.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=vl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function o6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class Vt extends UT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l6(e,n,r):n==="array-contains"?new d6(e,r):n==="in"?new h6(e,r):n==="not-in"?new f6(e,r):n==="array-contains-any"?new p6(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c6(e,r):new u6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends UT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new es(e,n)}matches(e){return BT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BT(t){return t.op==="and"}function zT(t){return a6(t)&&BT(t)}function a6(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function Og(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(zT(t))return t.filters.map((e=>Og(e))).join(",");{const e=t.filters.map((n=>Og(n))).join(",");return`${t.op}(${e})`}}function $T(t,e){return t instanceof Vt?(function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Fs(r.value,s.value)})(t,e):t instanceof es?(function(r,s){return s instanceof es&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&$T(l,s.filters[u])),!0):!1})(t,e):void Ce(19439)}function WT(t){return t instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof es?(function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"})(t):"Filter"}class l6 extends Vt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class c6 extends Vt{constructor(e,n){super(e,"in",n),this.keys=qT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class u6 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=qT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qT(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class d6 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r0(n)&&hu(n.arrayValue,this.value)}}class h6 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class f6 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class p6 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function c_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new m6(t,e,n,r,s,a,l)}function s0(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Og(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function i0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function Fg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g6(t,e,n,r,s,a,l,u){return new jl(t,e,n,r,s,a,l,u)}function Rf(t){return new jl(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HT(t){return t.collectionGroup!==null}function Hc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Wt(hn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new fu(a,r))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new fu(hn.keyField(),r))}return e.Ie}function js(t){const e=Ne(t);return e.Ee||(e.Ee=GT(e,Hc(t))),e.Ee}function y6(t){const e=Ne(t);return e.de||(e.de=GT(e,t.explicitOrderBy)),e.de}function GT(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new fu(s.field,a)}));const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xh(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return i0(js(t),js(e))&&t.limitType===e.limitType}function KT(t){return`${s0(js(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>WT(s))).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>wl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>wl(s))).join(",")),`Target(${r})`})(js(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Hc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const p=a_(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,Hc(r),s)||r.endAt&&!(function(l,u,d){const p=a_(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,Hc(r),s))})(t,e)}function v6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QT(t){return(e,n)=>{let r=!1;for(const s of Hc(t)){const a=w6(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function w6(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),p=u.data.field(a);return d!==null&&p!==null?vl(d,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new xt(ve.comparator);function gi(){return x6}const YT=new xt(ve.comparator);function Fc(...t){let e=YT;for(const n of t)e=e.insert(n.key,n);return e}function XT(t){let e=YT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Gc()}function JT(){return Gc()}function Gc(){return new wa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _6=new xt(ve.comparator),b6=new Wt(ve.comparator);function $e(...t){let e=b6;for(const n of t)e=e.add(n);return e}const E6=new Wt(ze);function T6(){return E6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function ZT(t){return{integerValue:""+t}}function eS(t,e){return XD(e)?ZT(e):o0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function S6(t,e,n){return t instanceof pu?(function(s,a){const l={fields:{[DT]:{stringValue:jT},[MT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&n0(a)&&(a=If(a)),a&&(l.fields[LT]=a),{mapValue:l}})(n,e):t instanceof xl?nS(t,e):t instanceof mu?rS(t,e):(function(s,a){const l=tS(s,a),u=d_(l)+d_(s.Ae);return Vg(l)&&Vg(s.Ae)?ZT(u):o0(s.serializer,u)})(t,e)}function C6(t,e,n){return t instanceof xl?nS(t,e):t instanceof mu?rS(t,e):n}function tS(t,e){return t instanceof gu?(function(r){return Vg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class pu extends kf{}class xl extends kf{constructor(e){super(),this.elements=e}}function nS(t,e){const n=sS(e);for(const r of t.elements)n.some((s=>Fs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class mu extends kf{constructor(e){super(),this.elements=e}}function rS(t,e){let n=sS(e);for(const r of t.elements)n=n.filter((s=>!Fs(s,r)));return{arrayValue:{values:n}}}class gu extends kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d_(t){return Pt(t.integerValue||t.doubleValue)}function sS(t){return r0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.field=e,this.transform=n}}function I6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof xl&&s instanceof xl||r instanceof mu&&s instanceof mu?yl(r.elements,s.elements,Fs):r instanceof gu&&s instanceof gu?Fs(r.Ae,s.Ae):r instanceof pu&&s instanceof pu})(t.transform,e.transform)}class R6{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function iS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new l0(t.key,Nr.none()):new Lu(t.key,t.data,Nr.none());{const n=t.data,r=Yn.empty();let s=new Wt(hn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new xo(t.key,r,new hr(s.toArray()),Nr.none())}}function A6(t,e,n){t instanceof Lu?(function(s,a,l){const u=s.value.clone(),d=f_(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof xo?(function(s,a,l){if(!Ih(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=f_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(oS(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,r){return t instanceof Lu?(function(a,l,u,d){if(!Ih(a.precondition,l))return u;const p=a.value.clone(),g=p_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof xo?(function(a,l,u,d){if(!Ih(a.precondition,l))return u;const p=p_(a.fieldTransforms,d,l),g=l.data;return g.setAll(oS(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return Ih(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function N6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=tS(r.transform,s||null);a!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,a))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yl(r,s,((a,l)=>I6(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends Pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends Pf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function f_(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,C6(l,u,n[s]))}return r}function p_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,S6(a,l,e))}return r}class l0 extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k6 extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&A6(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JT();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const d=iS(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,r)=>h_(n,r)))&&yl(this.baseMutations,e.baseMutations,((n,r)=>h_(n,r)))}}class c0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return _6})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new c0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,He;function M6(t){switch(t){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function aS(t){if(t===void 0)return mi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Lt.OK:return ee.OK;case Lt.CANCELLED:return ee.CANCELLED;case Lt.UNKNOWN:return ee.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ee.INTERNAL;case Lt.UNAVAILABLE:return ee.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ee.NOT_FOUND;case Lt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Lt.ABORTED:return ee.ABORTED;case Lt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Lt.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:t})}}(He=Lt||(Lt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new ro([4294967295,4294967295],0);function m_(t){const e=V6().encode(t),n=new xT;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ro([n,r],0),new ro([s,a],0)]}class u0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ro.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ro.fromNumber(r)));return s.compare(O6)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=m_(e),[r,s]=g_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new u0(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=m_(e),[r,s]=g_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(De.min(),s,new xt(ze),gi(),$e())}}class Mu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class lS{constructor(e,n){this.targetId=e,this.Ce=n}}class cS{constructor(e,n,r=fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class y_{constructor(){this.ve=0,this.Fe=v_(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:a})}})),new Mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=v_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F6{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.Je=ah(),this.He=ah(),this.Ye=new xt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Fg(a))if(r===0){const l=new ve(a.path);this.et(n,l,Sn.newNoDocument(l,De.min()))}else Ye(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=ao(r).toUint8Array()}catch(d){if(d instanceof PT)return gl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new u0(l,s,a)}catch(d){return gl(d instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Fg(u.target)){const d=new ve(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Sn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=$e();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new jf(e,n,this.Ye,this.je,r);return this.je=gi(),this.Je=ah(),this.He=ah(),this.Ye=new xt(ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new y_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new xt(ve.comparator)}function v_(){return new xt(ve.comparator)}const U6={asc:"ASCENDING",desc:"DESCENDING"},B6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z6={and:"AND",or:"OR"};class $6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W6(t,e){return Jh(t,e.toTimestamp())}function Ds(t){return Ye(!!t,49232),De.fromTimestamp((function(n){const r=oo(n);return new tt(r.seconds,r.nanos)})(t))}function d0(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(s){return new it(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dS(t){const e=it.fromString(t);return Ye(yS(e),10190,{key:e.toString()}),e}function $g(t,e){return d0(t.databaseId,e.path)}function qm(t,e){const n=dS(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(fS(n))}function hS(t,e){return d0(t.databaseId,e)}function q6(t){const e=dS(t);return e.length===4?it.emptyPath():fS(e)}function Wg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fS(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function w_(t,e,n){return{name:$g(t,e),fields:n.value.mapValue.fields}}function H6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Ye(g===void 0||typeof g=="string",58123),fn.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),fn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?ee.UNKNOWN:aS(p.code);return new ce(g,p.message||"")})(l);n=new cS(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qm(t,r.document.name),a=Ds(r.document.updateTime),l=r.document.createTime?Ds(r.document.createTime):De.min(),u=new Yn({mapValue:{fields:r.document.fields}}),d=Sn.newFoundDocument(s,a,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Rh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qm(t,r.document),a=r.readTime?Ds(r.readTime):De.min(),l=Sn.newNoDocument(s,a),u=r.removedTargetIds||[];n=new Rh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qm(t,r.document),a=r.removedTargetIds||[];n=new Rh([],a,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new L6(s,a),u=r.targetId;n=new lS(u,l)}}return n}function G6(t,e){let n;if(e instanceof Lu)n={update:w_(t,e.key,e.value)};else if(e instanceof l0)n={delete:$g(t,e.key)};else if(e instanceof xo)n={update:w_(t,e.key,e.data),updateMask:n3(e.fieldMask)};else{if(!(e instanceof k6))return Ce(16599,{Vt:e.type});n={verify:$g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof pu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof xl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof mu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:W6(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function K6(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Ds(s.updateTime):Ds(a);return l.isEqual(De.min())&&(l=Ds(a)),new R6(l,s.transformResults||[])})(n,e)))):[]}function Q6(t,e){return{documents:[hS(t,e.path)]}}function pS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hS(t,s);const a=(function(p){if(p.length!==0)return gS(es.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Ji(w.field),direction:Z6(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Bg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function Y6(t,e,n,r){const{ft:s,parent:a}=pS(t,e),l={},u=[];let d=0;return n.forEach((p=>{const g="aggregate_"+d++;l[g]=p.alias,p.aggregateType==="count"?u.push({alias:g,count:{}}):p.aggregateType==="avg"?u.push({alias:g,avg:{field:Ji(p.fieldPath)}}):p.aggregateType==="sum"&&u.push({alias:g,sum:{field:Ji(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:a}}function X6(t){let e=q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const w=mS(v);return w instanceof es&&zT(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((w=>(function(A){return new fu(rl(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Cf(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,T=v.values||[];return new Yh(T,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,T=v.values||[];return new Yh(T,w)})(n.endAt)),g6(e,s,l,a,u,"F",d,p)}function J6(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rl(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rl(n.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rl(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vt.create(rl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return es.create(n.compositeFilter.filters.map((r=>mS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Z6(t){return U6[t]}function e3(t){return B6[t]}function t3(t){return z6[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function rl(t){return hn.fromServerFormat(t.fieldPath)}function gS(t){return t instanceof Vt?(function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:e3(n.op),value:n.value}}})(t):t instanceof es?(function(n){const r=n.getFilters().map((s=>gS(s)));return r.length===1?r[0]:{compositeFilter:{op:t3(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function n3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,s,a=De.min(),l=De.min(),u=fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.yt=e}}function s3(t){const e=X6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.Cn=new o3}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(io.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class o3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(it.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(vS,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",a3=1048576;function b_([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class l3{constructor(e){this.Ir=e,this.buffer=new Wt(b_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?de(__,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)}))}}class u3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Sf.ce);const r=new l3(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(x_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,u,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),tl()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function d3(t,e){return new u3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Kc(r.mutation,s,hr.empty(),tt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=Fc();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=gi();const l=Gc(),u=(function(){return Gc()})();return n.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof xo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Kc(g.mutation,p,g.mutation.getFieldMask(),tt.now())):l.set(p.key,hr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>u.set(p,new f3(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Gc();let s=new xt(((l,u)=>l-u)),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||hr.empty();g=u.applyToLocalView(p,g),r.set(d,g);const v=(s.get(u.batchId)||$e()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,g=d.value,v=JT();g.forEach((w=>{if(!a.has(w)){const T=iS(n.get(w),r.get(w));T!==null&&v.set(w,T),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):te.resolve(ea());let u=cu,d=a;return l.next((p=>te.forEach(p,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,$e()))).next((g=>({batchId:u,changes:XT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let s=Fc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Fc();return this.indexManager.getCollectionParents(e,a).next((u=>te.forEach(u,(d=>{const p=(function(v,w){return new jl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,w)=>{l=l.insert(v,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Sn.newInvalidDocument(g)))}));let u=Fc();return l.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&Kc(g.mutation,p,hr.empty(),tt.now()),Nf(n,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ds(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:s3(s.bundledQuery),readTime:Ds(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.overlays=new xt(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return te.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=ea(),a=n.length+1,l=new ve(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new xt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ea(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=ea(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new j6(n,r));let a=this.qr.get(n);a===void 0&&(a=$e(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.Qr=new Wt(Xt.$r),this.Ur=new Wt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new it([])),r=new Xt(n,e),s=new Xt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new it([])),r=new Xt(n,e),s=new Xt(n,e+1);let a=$e();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new P6(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Xt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?t0:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ze);return n.forEach((s=>{const a=new Xt(s,0),l=new Xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Xt(new ve(a),0);let u=new Wt(ze);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(d.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const a=new Xt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.ri=e,this.docs=(function(){return new xt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Sn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=gi();const l=n.path,u=new ve(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||GD(HD(g),r)<=0||(s.has(g.key)||Nf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new x3(this)}getSize(e){return te.resolve(this.size)}}class x3 extends h3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.persistence=e,this.si=new wa((n=>s0(n)),i0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new h0,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new y3,this.referenceDelegate=e(this),this.Pi=new _3(this),this.indexManager=new i3,this.remoteDocumentCache=(function(s){return new w3(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new r3(n),this.Ii=new m3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new b3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class b3 extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ri=new h0,this.Vi=null}static mi(e){return new f0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.pi=new wa((r=>JD(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=d3(this,n)}static mi(e,n){return new Zh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,De.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new p0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Pk()?8:YD(In())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new E3;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(tl()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(tl()<=Be.DEBUG&&de("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(tl()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):te.resolve())}ys(e,n){if(u_(n))return te.resolve(null);let r=js(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Xh(n,null,"F"),r=js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=$e(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,u);return this.Cs(n,p,l,d.readTime)?this.ys(e,Xh(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,s){return u_(n)||s.isEqual(De.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?te.resolve(null):(tl()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nl(n)),this.vs(e,l,n,qD(s,cu)).next((u=>u)))}))}Ds(e,n){let r=new Wt(QT(e));return n.forEach(((s,a)=>{Nf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return tl()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,io.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LocalStore",S3=3e8;class C3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new xt(ze),this.xs=new wa((a=>s0(a)),i0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function I3(t,e,n,r){return new C3(t,e,n,r)}async function xS(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=$e();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function R3(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,g){const v=p.batch,w=v.keys();let T=te.resolve();return w.forEach((A=>{T=T.next((()=>g.getEntry(d,A))).next((N=>{const S=p.docVersions.get(A);Ye(S!==null,48541),N.version.compareTo(S)<0&&(v.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=$e();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function _S(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A3(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(N,S,D){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=S3?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,T,g)&&u.push(n.Pi.updateTargetData(a,T))}));let d=gi(),p=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(N3(a,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(De.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(n.Ms=s,a)))}function N3(t,e,n){let r=$e(),s=$e();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=gi();return n.forEach(((u,d)=>{const p=a.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(m0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function k3(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=t0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function P3(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new eo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function qg(t,e,n){const r=Ne(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Pl(l))throw l;de(m0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function E_(t,e,n){const r=Ne(t);let s=De.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const v=Ne(d),w=v.xs.get(g);return w!==void 0?te.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,g)})(r,l,js(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:De.min(),n?a:$e()))).next((u=>(j3(r,v6(e),u),{documents:u,Qs:a})))))}function j3(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class T_{constructor(){this.activeTargetIds=T6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D3{constructor(){this.Mo=new T_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(S_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Hg(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",M3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Hg(),u=this.zo(e,n.toUriEncodedString());de(Hm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:p}=new URL(u),g=po(p);return this.Jo(e,u,d,r,g).then((v=>(de(Hm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw gl(Hm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=M3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class F3 extends V3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Hg();return new Promise(((u,d)=>{const p=new _T;p.setWithCredentials(!0),p.listenOnce(bT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Th.NO_ERROR:const v=p.getResponseJson();de(En,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Th.TIMEOUT:de(En,`RPC '${e}' ${l} timed out`),d(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const w=p.getStatus();if(de(En,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T?.error;if(A&&A.status&&A.message){const N=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(j)>=0?j:ee.UNKNOWN})(A.status);d(new ce(N,A.message))}else d(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(En,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(En,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Hg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ST(),u=TT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");de(En,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let w=!1,T=!1;const A=new O3({Yo:S=>{T?de(En,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(w||(de(En,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),de(En,`RPC '${e}' stream ${s} sending:`,S),v.send(S))},Zo:()=>v.close()}),N=(S,D,j)=>{S.listen(D,(F=>{try{j(F)}catch($){setTimeout((()=>{throw $}),0)}}))};return N(v,Oc.EventType.OPEN,(()=>{T||(de(En,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),N(v,Oc.EventType.CLOSE,(()=>{T||(T=!0,de(En,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(v))})),N(v,Oc.EventType.ERROR,(S=>{T||(T=!0,gl(En,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),N(v,Oc.EventType.MESSAGE,(S=>{if(!T){const D=S.data[0];Ye(!!D,16349);const j=D,F=j?.error||j[0]?.error;if(F){de(En,`RPC '${e}' stream ${s} received error:`,F);const $=F.status;let H=(function(R){const P=Lt[R];if(P!==void 0)return aS(P)})($),B=F.message;H===void 0&&(H=ee.INTERNAL,B="Unknown error status: "+$+" with message "+F.message),T=!0,A.a_(new ce(H,B)),v.close()}else de(En,`RPC '${e}' stream ${s} received:`,D),A.u_(D)}})),N(u,ET.STAT_EVENT,(S=>{S.stat===Dg.PROXY?de(En,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Dg.NOPROXY&&de(En,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new $6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class ES{constructor(e,n,r,s,a,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U3 extends ES{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H6(this.serializer,e),r=(function(a){if(!("targetChange"in a))return De.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Ds(l.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Wg(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=Fg(d)?{documents:Q6(a,d)}:{query:pS(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uS(a,l.resumeToken);const p=Bg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(De.min())>0){u.readTime=Jh(a,l.snapshotVersion.toTimestamp());const p=Bg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=J6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.q_(n)}}class B3 extends ES{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K6(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>G6(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class $3 extends z3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,zg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(ee.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,zg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class W3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class q3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{xa(this)&&(de(fa,"Restarting streams for network reachability change."),await(async function(d){const p=Ne(d);p.Ea.add(4),await Vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Lf(p)})(this))}))})),this.Ra=new W3(r,s)}}async function Lf(t){if(xa(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function TS(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w0(n)?v0(n):Dl(n).O_()&&y0(n,e))}function g0(t,e){const n=Ne(t),r=Dl(n);n.Ia.delete(e),r.O_()&&SS(n,e),n.Ia.size===0&&(r.O_()?r.L_():xa(n)&&n.Ra.set("Unknown"))}function y0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).Y_(e)}function SS(t,e){t.Va.Ue(e),Dl(t).Z_(e)}function v0(t){t.Va=new F6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.Ra.ua()}function w0(t){return xa(t)&&!Dl(t).x_()&&t.Ia.size>0}function xa(t){return Ne(t).Ea.size===0}function CS(t){t.Va=void 0}async function H3(t){t.Ra.set("Online")}async function G3(t){t.Ia.forEach(((e,n)=>{y0(t,e)}))}async function K3(t,e){CS(t),w0(t)?(t.Ra.ha(e),v0(t)):t.Ra.set("Unknown")}async function Q3(t,e,n){if(t.Ra.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){de(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(t,r)}else if(e instanceof Rh?t.Va.Ze(e):e instanceof lS?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await _S(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(fn.EMPTY_BYTE_STRING,g.snapshotVersion)),SS(a,d);const v=new eo(g.target,d,p,g.sequenceNumber);y0(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){de(fa,"Failed to raise snapshot:",r),await ef(t,r)}}async function ef(t,e,n){if(!Pl(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lf(t)}))}function IS(t,e){return e().catch((n=>ef(t,n,e)))}async function Mf(t){const e=Ne(t),n=co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t0;for(;Y3(e);)try{const s=await k3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,X3(e,s)}catch(s){await ef(e,s)}RS(e)&&AS(e)}function Y3(t){return xa(t)&&t.Ta.length<10}function X3(t,e){t.Ta.push(e);const n=co(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RS(t){return xa(t)&&!co(t).x_()&&t.Ta.length>0}function AS(t){co(t).start()}async function J3(t){co(t).ra()}async function Z3(t){const e=co(t);for(const n of t.Ta)e.ea(n.mutations)}async function eL(t,e,n){const r=t.Ta.shift(),s=c0.from(r,e,n);await IS(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Mf(t)}async function tL(t,e){e&&co(t).X_&&await(async function(r,s){if((function(l){return M6(l)&&l!==ee.ABORTED})(s.code)){const a=r.Ta.shift();co(r).B_(),await IS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Mf(r)}})(t,e),RS(t)&&AS(t)}async function R_(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(fa,"RemoteStore received new credentials");const r=xa(n);n.Ea.add(3),await Vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lf(n)}async function nL(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Lf(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function Dl(t){return t.ma||(t.ma=(function(n,r,s){const a=Ne(n);return a.sa(),new U3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:H3.bind(null,t),t_:G3.bind(null,t),r_:K3.bind(null,t),H_:Q3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),w0(t)?v0(t):t.Ra.set("Unknown")):(await t.ma.stop(),CS(t))}))),t.ma}function co(t){return t.fa||(t.fa=(function(n,r,s){const a=Ne(n);return a.sa(),new B3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:J3.bind(null,t),r_:tL.bind(null,t),ta:Z3.bind(null,t),na:eL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(de(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new x0(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Pl(t))return new ce(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.ga=new xt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bl{constructor(e,n,r,s,a,l,u,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new bl(e,n,fl.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sL{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ne(n),a=s.queries;s.queries=N_(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function N_(){return new wa((t=>KT(t)),Af)}async function b0(t,e){const n=Ne(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new rL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=_0(l,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&T0(n)}async function E0(t,e){const n=Ne(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iL(t,e){const n=Ne(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&T0(n)}function oL(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function T0(t){t.Ca.forEach((e=>{e.next()}))}var Gg,k_;(k_=Gg||(Gg={})).Ma="default",k_.Cache="cache";class S0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class kS{constructor(e){this.key=e}}class aL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=QT(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new A_,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),T=Nf(this.query,v)?v:null,A=!!w&&this.mutatedKeys.has(w.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;w&&T?w.data.isEqual(T.data)?A!==N&&(r.track({type:3,doc:T}),S=!0):this.su(w,T)||(r.track({type:2,doc:T}),S=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(u=!0)):!w&&T?(r.track({type:0,doc:T}),S=!0):w&&!T&&(r.track({type:1,doc:w}),S=!0,(d||p)&&(u=!0)),S&&(T?(l=l.add(T),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,A){const N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:S})}};return N(T)-N(A)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new bl(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new kS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new NS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C0="SyncEngine";class lL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cL{constructor(e){this.key=e,this.hu=!1}}class uL{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wa((u=>KT(u)),Af),this.Iu=new Map,this.Eu=new Set,this.du=new xt(ve.comparator),this.Au=new Map,this.Ru=new h0,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dL(t,e,n=!0){const r=VS(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await PS(r,e,n,!0),s}async function hL(t,e){const n=VS(t);await PS(n,e,!0,!1)}async function PS(t,e,n,r){const s=await P3(t.localStore,js(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await fL(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&TS(t.remoteStore,s),u}async function fL(t,e,n,r,s){t.pu=(v,w,T)=>(async function(N,S,D,j){let F=S.view.ru(D);F.Cs&&(F=await E_(N.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,F))));const $=j&&j.targetChanges.get(S.targetId),H=j&&j.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(F,N.isPrimaryClient,$,H);return j_(N,S.targetId,B.au),B.snapshot})(t,v,w,T);const a=await E_(t.localStore,e,!0),l=new aL(e,a.Qs),u=l.ru(a.documents),d=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,d);j_(t,n,p.au);const g=new lL(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function pL(t,e,n){const r=Ne(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Af(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&g0(r.remoteStore,s.targetId),Kg(r,s.targetId)})).catch(kl)):(Kg(r,s.targetId),await qg(r.localStore,s.targetId,!0))}async function mL(t,e){const n=Ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g0(n.remoteStore,r.targetId))}async function gL(t,e,n){const r=EL(t);try{const s=await(function(l,u){const d=Ne(l),p=tt.now(),g=u.reduce(((T,A)=>T.add(A.key)),$e());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=gi(),N=$e();return d.Ns.getEntries(T,g).next((S=>{A=S,A.forEach(((D,j)=>{j.isValidDocument()||(N=N.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,A))).next((S=>{v=S;const D=[];for(const j of u){const F=N6(j,v.get(j.key).overlayedDocument);F!=null&&D.push(new xo(j.key,F,FT(F.value.mapValue),Nr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,D,u)})).next((S=>{w=S;const D=S.applyToLocalDocumentSet(v,N);return d.documentOverlayCache.saveOverlays(T,S.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:XT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new xt(ze)),p=p.insert(u,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await Ou(r,s.changes),await Mf(r.remoteStore)}catch(s){const a=_0(s,"Failed to persist write");n.reject(a)}}async function jS(t,e){const n=Ne(t);try{const r=await A3(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ye(l.hu,14607):s.removedDocuments.size>0&&(Ye(l.hu,42227),l.hu=!1))})),await Ou(n,r,e)}catch(r){await kl(r)}}function P_(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ne(l);d.onlineState=u;let p=!1;d.queries.forEach(((g,v)=>{for(const w of v.Sa)w.va(u)&&(p=!0)})),p&&T0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yL(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new xt(ve.comparator);l=l.insert(a,Sn.newNoDocument(a,De.min()));const u=$e().add(a),d=new jf(De.min(),new Map,new xt(ze),l,u);await jS(r,d),r.du=r.du.remove(a),r.Au.delete(e),I0(r)}else await qg(r.localStore,e,!1).then((()=>Kg(r,e,n))).catch(kl)}async function vL(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await R3(n.localStore,e);LS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(n,s)}catch(s){await kl(s)}}async function wL(t,e,n){const r=Ne(t);try{const s=await(function(l,u){const d=Ne(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,u).next((v=>(Ye(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);LS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ou(r,s)}catch(s){await kl(s)}}function DS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LS(t,e,n){const r=Ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||MS(t,r)}))}function MS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(g0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),I0(t))}function j_(t,e,n){for(const r of n)r instanceof NS?(t.Ru.addReference(r.key,e),xL(t,r)):r instanceof kS?(de(C0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||MS(t,r.key)):Ce(19791,{wu:r})}function xL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(C0,"New document in limbo: "+n),t.Eu.add(r),I0(t))}function I0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(it.fromString(e)),r=t.fu.next();t.Au.set(r,new cL(n)),t.du=t.du.insert(n,r),TS(t.remoteStore,new eo(js(Rf(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function Ou(t,e,n){const r=Ne(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=p0.As(d.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=Ne(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(w=>te.forEach(w.Es,(T=>g.persistence.referenceDelegate.addReference(v,w.targetId,T))).next((()=>te.forEach(w.ds,(T=>g.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))))))}catch(v){if(!Pl(v))throw v;de(m0,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const T=g.Ms.get(w),A=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(w,N)}}})(r.localStore,a))}async function _L(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(C0,"User change. New user:",e.toKey());const r=await xS(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new ce(ee.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(n,r.Ls)}}function bL(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function VS(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Pu.H_=iL.bind(null,e.eventManager),e.Pu.yu=oL.bind(null,e.eventManager),e}function EL(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wL.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I3(this.persistence,new T3,e.initialUser,this.serializer)}Cu(e){return new wS(f0.mi,this.serializer)}Du(e){return new D3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class TL extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new wS((r=>Zh.mi(r,n)),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sL})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=(function(a){return new F3(a)})(e.databaseInfo);return(function(a,l,u,d){return new $3(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new q3(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>P_(this.syncEngine,n,0)),(function(){return C_.v()?new C_:new L3})())}createSyncEngine(e,n){return(function(s,a,l,u,d,p,g){const v=new uL(s,a,l,u,d,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);de(fa,"RemoteStore shutting down."),r.Ea.add(5),await Vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class SL{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=e0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{de(uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),de(uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await xS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function D_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CL(t);de(uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>R_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>R_(e.remoteStore,s))),t._onlineComponents=e}async function CL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(uo,"Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new tf)}}else de(uo,"Using default OfflineComponentProvider"),await Km(t,new TL(void 0));return t._offlineComponents}async function A0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(uo,"Using user provided OnlineComponentProvider"),await D_(t,t._uninitializedComponentsProvider._online)):(de(uo,"Using default OnlineComponentProvider"),await D_(t,new Qg))),t._onlineComponents}function IL(t){return A0(t).then((e=>e.syncEngine))}function RL(t){return A0(t).then((e=>e.datastore))}async function nf(t){const e=await A0(t),n=e.eventManager;return n.onListen=dL.bind(null,e.syncEngine),n.onUnlisten=pL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mL.bind(null,e.syncEngine),n}function AL(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,p){const g=new R0({next:w=>{g.Nu(),l.enqueueAndForget((()=>E0(a,v)));const T=w.docs.has(u);!T&&w.fromCache?p.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new S0(Rf(u.path),g,{includeMetadataChanges:!0,qa:!0});return b0(a,v)})(await nf(t),t.asyncQueue,e,n,r))),r.promise}function NL(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,p){const g=new R0({next:w=>{g.Nu(),l.enqueueAndForget((()=>E0(a,v))),w.fromCache&&d.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new S0(u,g,{includeMetadataChanges:!0,qa:!0});return b0(a,v)})(await nf(t),t.asyncQueue,e,n,r))),r.promise}function kL(t,e,n){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await RL(t);r.resolve((async function(l,u,d){const p=Ne(l),{request:g,gt:v,parent:w}=Y6(p.serializer,y6(u),d);p.connection.$o||delete g.parent;const T=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,g,1)).filter((N=>!!N.result));Ye(T.length===1,64727);const A=T[0].result?.aggregateFields;return Object.keys(A).reduce(((N,S)=>(N[v[S]]=A[S],N)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firestore.googleapis.com",M_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=M_}else this.host=e.host,this.ssl=e.ssl??M_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a3)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jD;switch(r.type){case"firstParty":return new VD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=L_.get(n);r&&(de("ComponentProvider","Removing Datastore"),L_.delete(n),r.terminate())})(this),Promise.resolve()}}function PL(t,e,n,r={}){t=On(t,Vf);const s=po(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Dy(`https://${u}`),Ly("Firestore",!0)),a.host!==FS&&a.host!==u&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:s,emulatorOptions:r};if(!hi(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Tn.MOCK_USER;else{p=a2(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}t._authCredentials=new DD(new IT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Du(n,St._jsonSchema))return new St(e,r||null,new ve(it.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Ot("string",St._jsonSchemaVersion),referencePath:Ot("string")};class so extends wi{constructor(e,n,r){super(e,n,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ve(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Xe(t,e,...n){if(t=ot(t),RT("collection","path",e),t instanceof Vf){const r=it.fromString(e,...n);return Y1(r),new so(t,null,r)}{if(!(t instanceof St||t instanceof so))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Y1(r),new so(t.firestore,null,r)}}function nt(t,e,...n){if(t=ot(t),arguments.length===1&&(e=e0.newId()),RT("doc","path",e),t instanceof Vf){const r=it.fromString(e,...n);return Q1(r),new St(t,null,new ve(r))}{if(!(t instanceof St||t instanceof so))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Q1(r),new St(t.firestore,t instanceof so?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const r=Gm();r&&de(O_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;de(O_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",U_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=x0.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:U_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Us extends Vf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function jL(t,e){const n=typeof t=="object"?t:vf(),r=typeof t=="string"?t:Kh,s=mo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=s2("firestore");a&&PL(s,...a)}return s}function Fu(t){if(t._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DL(t),t._firestoreClient}function DL(t){const e=t._freezeSettings(),n=(function(s,a,l,u){return new n6(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OS(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class ML{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(fn.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:Ot("string",Rr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Ot("string",Ls._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Ot("string",Ms._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^__.*__$/;class OL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class US{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class Ff{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ff({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BS(this.Ac)&&VL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Cc(e,n,r,s=!1){return new Ff({Ac:e,methodName:n,Dc:r,path:hn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new FL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zS(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);j0("Data must be an object, but it was:",l,r);const u=$S(r,l);let d,p;if(a.merge)d=new hr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const w=Yg(e,v,n);if(!l.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);qS(g,w)||g.push(w)}d=new hr(g),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new OL(new Yn(u),d,p)}class Bf extends Ll{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}function UL(t,e,n){return new Ff({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N0 extends Ll{_toFieldTransform(e){return new a0(e.path,new pu)}isEqual(e){return e instanceof N0}}class k0 extends Ll{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=UL(this,e,!0),r=this.vc.map((a=>Ml(a,n))),s=new xl(r);return new a0(e.path,s)}isEqual(e){return e instanceof k0&&hi(this.vc,e.vc)}}class P0 extends Ll{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new gu(e.serializer,eS(e.serializer,this.Fc));return new a0(e.path,n)}isEqual(e){return e instanceof P0&&this.Fc===e.Fc}}function BL(t,e,n,r){const s=t.Cc(1,e,n);j0("Data must be an object, but it was:",s,r);const a=[],l=Yn.empty();wo(r,((d,p)=>{const g=D0(e,d,n);p=ot(p);const v=s.yc(g);if(p instanceof Bf)a.push(g);else{const w=Ml(p,v);w!=null&&(a.push(g),l.set(g,w))}}));const u=new hr(a);return new US(l,u,s.fieldTransforms)}function zL(t,e,n,r,s,a){const l=t.Cc(1,e,n),u=[Yg(e,r,n)],d=[s];if(a.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)u.push(Yg(e,a[w])),d.push(a[w+1]);const p=[],g=Yn.empty();for(let w=u.length-1;w>=0;--w)if(!qS(p,u[w])){const T=u[w];let A=d[w];A=ot(A);const N=l.yc(T);if(A instanceof Bf)p.push(T);else{const S=Ml(A,N);S!=null&&(p.push(T),g.set(T,S))}}const v=new hr(p);return new US(g,v,l.fieldTransforms)}function $L(t,e,n,r=!1){return Ml(n,t.Cc(r?4:3,e))}function Ml(t,e){if(WS(t=ot(t)))return j0("Unsupported field value:",e,t),$S(t,e);if(t instanceof Ll)return(function(r,s){if(!BS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let d=Ml(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:Jh(s.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(s.serializer,a)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:uS(s.serializer,r._byteString)};if(r instanceof St){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:d0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ms)return(function(l,u){return{mapValue:{fields:{[VT]:{stringValue:OT},[Qh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return o0(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Tf(r)}`)})(t,e)}function $S(t,e){const n={};return kT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,((r,s)=>{const a=Ml(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function WS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Ls||t instanceof Rr||t instanceof St||t instanceof Ll||t instanceof Ms)}function j0(t,e,n){if(!WS(n)||!AT(n)){const r=Tf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Yg(t,e,n){if((e=ot(e))instanceof Of)return e._internalPath;if(typeof e=="string")return D0(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const WL=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(WL)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ce(ee.INVALID_ARGUMENT,u+t+d)}function qS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qL extends HS{data(){return super.data()}}function zf(t,e){return typeof e=="string"?D0(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class M0 extends L0{}function _t(t,e,...n){let r=[];e instanceof L0&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof V0)).length,u=a.filter((d=>d instanceof $f)).length;if(l>1||l>0&&u>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class $f extends M0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $f(e,n,r)}_apply(e){const n=this._parse(e);return KS(e._query,n),new wi(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=Uf(e.firestore);return(function(a,l,u,d,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){$_(v,g);const A=[];for(const N of v)A.push(z_(d,a,N));w={arrayValue:{values:A}}}else w=z_(d,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$_(v,g),w=$L(u,l,v,g==="in"||g==="not-in");return Vt.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pt(t,e,n){const r=e,s=zf("where",t);return $f._create(s,r,n)}class V0 extends L0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)KS(l,d),l=Ug(l,d)})(e._query,n),new wi(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O0 extends M0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O0(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(a,l)})(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new jl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function zs(t,e="asc"){const n=e,r=zf("orderBy",t);return O0._create(r,n)}class F0 extends M0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new F0(e,n,r)}_apply(e){return new wi(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function U0(t){return WD("limit",t),F0._create("limit",t,"F")}function z_(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ve.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s_(t,new ve(r))}if(n instanceof St)return s_(t,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function $_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HL{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Ls(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=If(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=oo(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ye(yS(r),9688,{name:e});const s=new du(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(n)||mi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function GL(){return new LL("count")}class Bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends HS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ot("string",ra._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Ah extends ra{data(e={}){return super.data(e)}}class sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Ah(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Bc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Ah(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Bc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:KL(u.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){t=On(t,St);const e=On(t.firestore,Us);return AL(Fu(e),t._key).then((n=>YS(e,t,n)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Ot("string",sa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Wf extends HL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function Rn(t){t=On(t,wi);const e=On(t.firestore,Us),n=Fu(e),r=new Wf(e);return GS(t._query),NL(n,t._query).then((s=>new sa(e,r,t,s)))}function qf(t,e,n){t=On(t,St);const r=On(t.firestore,Us),s=QS(t.converter,e,n);return Gf(r,[zS(Uf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Nr.none())])}function ts(t,e,n,...r){t=On(t,St);const s=On(t.firestore,Us),a=Uf(s);let l;return l=typeof(e=ot(e))=="string"||e instanceof Of?zL(a,"updateDoc",t._key,e,n,r):BL(a,"updateDoc",t._key,e),Gf(s,[l.toMutation(t._key,Nr.exists(!0))])}function Hf(t){return Gf(On(t.firestore,Us),[new l0(t._key,Nr.none())])}function os(t,e){const n=On(t.firestore,Us),r=nt(t),s=QS(t.converter,e);return Gf(n,[zS(Uf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then((()=>r))}function El(t,...e){t=ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B_(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,l,u;if(t instanceof St)l=On(t.firestore,Us),u=Rf(t._key.path),a={next:d=>{e[r]&&e[r](YS(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=On(t,wi);l=On(d.firestore,Us),u=d._query;const p=new Wf(l);a={next:g=>{e[r]&&e[r](new sa(l,p,d,g))},error:e[r+1],complete:e[r+2]},GS(t._query)}return(function(p,g,v,w){const T=new R0(w),A=new S0(g,T,v);return p.asyncQueue.enqueueAndForget((async()=>b0(await nf(p),A))),()=>{T.Nu(),p.asyncQueue.enqueueAndForget((async()=>E0(await nf(p),A)))}})(Fu(l),u,s,a)}function Gf(t,e){return(function(r,s){const a=new Ps;return r.asyncQueue.enqueueAndForget((async()=>gL(await IL(r),s,a))),a.promise})(Fu(t),e)}function YS(t,e,n){const r=n.docs.get(e._key),s=new Wf(t);return new ra(t,s,e._key,r,new Bc(n.hasPendingWrites,n.fromCache),e.converter)}function W_(t){return QL(t,{count:GL()})}function QL(t,e){const n=On(t.firestore,Us),r=Fu(n),s=e6(e,((a,l)=>new D6(l,a.aggregateType,a._internalFieldPath)));return kL(r,t._query,s).then((a=>(function(u,d,p){const g=new Wf(u);return new ML(d,g,p)})(n,t,a)))}function en(){return new N0("serverTimestamp")}function YL(...t){return new k0("arrayUnion",t)}function Xg(t){return new P0("increment",t)}(function(e,n=!0){(function(s){Nl=s})(ya),Zr(new Pr("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Us(new LD(r.getProvider("auth-internal")),new OD(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(p.options.projectId,g)})(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Jn(q1,H1,e),Jn(q1,H1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebasestorage.googleapis.com",JS="storageBucket",XL=120*1e3,JL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Mr{constructor(e,n,r=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function Qm(t){return"storage/"+t}function B0(){const t="An unknown error occurred, please check the error payload for server response.";return new It(Ct.UNKNOWN,t)}function ZL(t){return new It(Ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eM(t){return new It(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Ct.UNAUTHENTICATED,t)}function nM(){return new It(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rM(t){return new It(Ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sM(){return new It(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iM(){return new It(Ct.CANCELED,"User canceled the upload/download.")}function oM(t){return new It(Ct.INVALID_URL,"Invalid URL '"+t+"'.")}function aM(t){return new It(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lM(){return new It(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JS+"' property when initializing the app?")}function cM(){return new It(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uM(){return new It(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dM(t){return new It(Ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jg(t){return new It(Ct.INVALID_ARGUMENT,t)}function ZS(){return new It(Ct.APP_DELETED,"The Firebase app was deleted.")}function hM(t){return new It(Ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qc(t,e){return new It(Ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pc(t){throw new It(Ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw aM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),A={bucket:1,path:3},N=n===XS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",D=new RegExp(`^https?://${N}/${s}/${S}`,"i"),F=[{regex:u,indices:d,postModify:a},{regex:T,indices:A,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<F.length;$++){const H=F[$],B=H.regex.exec(e);if(B){const I=B[H.indices.bucket];let R=B[H.indices.path];R||(R=""),r=new fr(I,R),H.postModify(r);break}}if(r==null)throw oM(e);return r}}class fM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function d(){return u===2}let p=!1;function g(...S){p||(p=!0,e.apply(null,S))}function v(S){s=setTimeout(()=>{s=null,t(T,d())},S)}function w(){a&&clearTimeout(a)}function T(S,...D){if(p){w();return}if(S){w(),g.call(null,S,...D);return}if(d()||l){w(),g.call(null,S,...D);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let A=!1;function N(S){A||(A=!0,w(),!p&&(s!==null?(S||(u=2),clearTimeout(s),v(0)):S||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function mM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return t!==void 0}function yM(t){return typeof t=="object"&&!Array.isArray(t)}function z0(t){return typeof t=="string"||t instanceof String}function q_(t){return $0()&&t instanceof Blob}function $0(){return typeof Blob<"u"}function H_(t,e,n,r){if(r<e)throw Jg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,s,a,l,u,d,p,g,v,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,N)=>{this.resolve_=A,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ch(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===ia.NO_ERROR,d=a.getStatus();if(!u||vM(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ia.ABORT;r(!1,new ch(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new ch(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());gM(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=B0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?ZS():iM();l(d)}else{const d=sM();l(d)}};this.canceled_?n(!1,new ch(!1,null,!0)):this.backoffId_=pM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _M(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TM(t,e,n,r,s,a,l=!0,u=!1){const d=eC(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return bM(g,e),xM(g,n),_M(g,a),EM(g,r),new wM(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CM(...t){const e=SM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($0())return new Blob(t);throw new It(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){if(typeof atob>"u")throw dM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ym{constructor(e,n){this.data=e,this.contentType=n||null}}function AM(t,e){switch(t){case Ns.RAW:return new Ym(tC(e));case Ns.BASE64:case Ns.BASE64URL:return new Ym(nC(t,e));case Ns.DATA_URL:return new Ym(kM(e),PM(e))}throw B0()}function tC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NM(t){let e;try{e=decodeURIComponent(t)}catch{throw Qc(Ns.DATA_URL,"Malformed data URL.")}return tC(e)}function nC(t,e){switch(t){case Ns.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Qc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Qc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RM(e)}catch(s){throw s.message.includes("polyfill")?s:Qc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class rC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Qc(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kM(t){const e=new rC(t);return e.base64?nC(Ns.BASE64,e.rest):NM(e.rest)}function PM(t){return new rC(t).contentType}function jM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){let r=0,s="";q_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(q_(this.data_)){const r=this.data_,s=IM(r,e,n);return s===null?null:new Zi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zi(r,!0)}}static getBlob(...e){if($0()){const n=e.map(r=>r instanceof Zi?r.data_:r);return new Zi(CM.apply(null,n))}else{const n=e.map(l=>z0(l)?AM(Ns.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new Zi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){let e;try{e=JSON.parse(t)}catch{return null}return yM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){return e}class Ln{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||MM}}let uh=null;function VM(t){return!z0(t)||t.length<2?t:iC(t)}function oC(){if(uh)return uh;const t=[];t.push(new Ln("bucket")),t.push(new Ln("generation")),t.push(new Ln("metageneration")),t.push(new Ln("name","fullPath",!0));function e(a,l){return VM(l)}const n=new Ln("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new Ln("size");return s.xform=r,t.push(s),t.push(new Ln("timeCreated")),t.push(new Ln("updated")),t.push(new Ln("md5Hash",null,!0)),t.push(new Ln("cacheControl",null,!0)),t.push(new Ln("contentDisposition",null,!0)),t.push(new Ln("contentEncoding",null,!0)),t.push(new Ln("contentLanguage",null,!0)),t.push(new Ln("contentType",null,!0)),t.push(new Ln("metadata","customMetadata",!0)),uh=t,uh}function OM(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new fr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function FM(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return OM(r,t),r}function aC(t,e,n){const r=sC(e);return r===null?null:FM(t,r,n)}function UM(t,e,n,r){const s=sC(e);if(s===null||!z0(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,v=t.fullPath,w="/b/"+l(g)+"/o/"+l(v),T=W0(w,n,r),A=eC({alt:"media",token:p});return T+A})[0]}function BM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class lC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){if(!t)throw B0()}function zM(t,e){function n(r,s){const a=aC(t,s,e);return cC(a!==null),a}return n}function $M(t,e){function n(r,s){const a=aC(t,s,e);return cC(a!==null),UM(a,s,t.host,t._protocol)}return n}function uC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=nM():s=tM():n.getStatus()===402?s=eM(t.bucket):n.getStatus()===403?s=rM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function WM(t){const e=uC(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=ZL(t.path)),a.serverResponse=s.serverResponse,a}return n}function qM(t,e,n){const r=e.fullServerUrl(),s=W0(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new lC(s,a,$M(t,n),l);return u.errorHandler=WM(e),u}function HM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function GM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=HM(null,e)),r}function KM(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let $=0;$<2;$++)F=F+Math.random().toString().slice(2);return F}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const p=GM(e,r,s),g=BM(p,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",T=Zi.getBlob(v,r,w);if(T===null)throw cM();const A={name:p.fullPath},N=W0(a,t.host,t._protocol),S="POST",D=t.maxUploadRetryTime,j=new lC(N,S,zM(t,n),D);return j.urlParams=A,j.headers=l,j.body=T.uploadData(),j.errorHandler=uC(e),j}class QM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Pc("cannot .send() more than once");if(po(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YM extends QM{initXhr(){this.xhr_.responseType="text"}}function dC(){return new YM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iC(this._location.path)}get storage(){return this._service}get parent(){const e=DM(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hM(e)}}function XM(t,e,n){t._throwIfRoot("uploadBytes");const r=KM(t.storage,t._location,oC(),new Zi(e,!0),n);return t.storage.makeRequestWithTokens(r,dC).then(s=>({metadata:s,ref:t}))}function JM(t){t._throwIfRoot("getDownloadURL");const e=qM(t.storage,t._location,oC());return t.storage.makeRequestWithTokens(e,dC).then(n=>{if(n===null)throw uM();return n})}function ZM(t,e){const n=LM(t._location.path,e),r=new fr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){return/^[A-Za-z]+:\/\//.test(t)}function tV(t,e){return new pa(t,e)}function hC(t,e){if(t instanceof q0){const n=t;if(n._bucket==null)throw lM();const r=new pa(n,n._bucket);return e!=null?hC(r,e):r}else return e!==void 0?ZM(t,e):t}function nV(t,e){if(e&&eV(e)){if(t instanceof q0)return tV(t,e);throw Jg("To use ref(service, url), the first argument must be a Storage instance.")}else return hC(t,e)}function G_(t,e){const n=e?.[JS];return n==null?null:fr.makeFromBucketSpec(n,t)}function rV(t,e,n,r={}){t.host=`${e}:${n}`;const s=po(e);s&&(Dy(`https://${t.host}/b`),Ly("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:a2(a,t.app.options.projectId))}class q0{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=XS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XL,this._maxUploadRetryTime=JL,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=G_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=G_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new fM(ZS());{const l=TM(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const K_="@firebase/storage",Q_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="storage";function sV(t,e,n){return t=ot(t),XM(t,e,n)}function iV(t){return t=ot(t),JM(t)}function oV(t,e){return t=ot(t),nV(t,e)}function aV(t=vf(),e){t=ot(t);const r=mo(t,fC).getImmediate({identifier:e}),s=s2("storage");return s&&lV(r,...s),r}function lV(t,e,n,r={}){rV(t,e,n,r)}function cV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new q0(n,r,s,e,ya)}function uV(){Zr(new Pr(fC,cV,"PUBLIC").setMultipleInstances(!0)),Jn(K_,Q_,""),Jn(K_,Q_,"esm2020")}uV();const dV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Kf=p2(dV);g4(Kf);const Fe=kD(Kf),ye=jL(Kf),hV=aV(Kf),pC=new oi,H0=b.createContext({});function G0(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const K0=typeof window<"u",mC=K0?b.useLayoutEffect:b.useEffect,Qf=b.createContext(null);function Q0(t,e){t.indexOf(e)===-1&&t.push(e)}function Y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yi=(t,e,n)=>n>e?e:n<t?t:n;let X0=()=>{};const vi={},gC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yC(t){return typeof t=="object"&&t!==null}const vC=t=>/^0[^.\s]+$/u.test(t);function J0(t){let e;return()=>(e===void 0&&(e=t()),e)}const kr=t=>t,fV=(t,e)=>n=>e(t(n)),Uu=(...t)=>t.reduce(fV),yu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Z0{constructor(){this.subscriptions=[]}add(e){return Q0(this.subscriptions,e),()=>Y0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,Ar=t=>t/1e3;function wC(t,e){return e?t*(1e3/e):0}const xC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pV=1e-7,mV=12;function gV(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=xC(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>pV&&++u<mV);return l}function Bu(t,e,n,r){if(t===e&&n===r)return kr;const s=a=>gV(a,0,1,t,n);return a=>a===0||a===1?a:xC(s(a),e,r)}const _C=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bC=t=>e=>1-t(1-e),EC=Bu(.33,1.53,.69,.99),ev=bC(EC),TC=_C(ev),SC=t=>(t*=2)<1?.5*ev(t):.5*(2-Math.pow(2,-10*(t-1))),tv=t=>1-Math.sin(Math.acos(t)),CC=bC(tv),IC=_C(tv),yV=Bu(.42,0,1,1),vV=Bu(0,0,.58,1),RC=Bu(.42,0,.58,1),wV=t=>Array.isArray(t)&&typeof t[0]!="number",AC=t=>Array.isArray(t)&&typeof t[0]=="number",xV={linear:kr,easeIn:yV,easeInOut:RC,easeOut:vV,circIn:tv,circInOut:IC,circOut:CC,backIn:ev,backInOut:TC,backOut:EC,anticipate:SC},_V=t=>typeof t=="string",Y_=t=>{if(AC(t)){X0(t.length===4);const[e,n,r,s]=t;return Bu(e,n,r,s)}else if(_V(t))return xV[t];return t},dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(p.schedule(g),t()),g(u)}const p={schedule:(g,v=!1,w=!1)=>{const A=w&&s?n:r;return v&&l.add(g),A.has(g)||A.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const EV=40;function NC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=dh.reduce((F,$)=>(F[$]=bV(a),F),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:T,postRender:A}=l,N=()=>{const F=vi.useManualTiming?s.timestamp:performance.now();n=!1,vi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,EV),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),d.process(s),p.process(s),g.process(s),v.process(s),w.process(s),T.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(N))},S=()=>{n=!0,r=!0,s.isProcessing||t(N)};return{schedule:dh.reduce((F,$)=>{const H=l[$];return F[$]=(B,I=!1,R=!1)=>(n||S(),H.schedule(B,I,R)),F},{}),cancel:F=>{for(let $=0;$<dh.length;$++)l[dh[$]].cancel(F)},state:s,steps:l}}const{schedule:mt,cancel:ho,state:un,steps:Xm}=NC(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0);let Nh;function TV(){Nh=void 0}const Xn={now:()=>(Nh===void 0&&Xn.set(un.isProcessing||vi.useManualTiming?un.timestamp:performance.now()),Nh),set:t=>{Nh=t,queueMicrotask(TV)}},kC=t=>e=>typeof e=="string"&&e.startsWith(t),nv=kC("--"),SV=kC("var(--"),rv=t=>SV(t)?CV.test(t.split("/*")[0].trim()):!1,CV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Vl,transform:t=>yi(0,1,t)},hh={...Vl,default:1},Yc=t=>Math.round(t*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IV(t){return t==null}const RV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iv=(t,e)=>n=>!!(typeof n=="string"&&RV.test(n)&&n.startsWith(t)||e&&!IV(n)&&Object.prototype.hasOwnProperty.call(n,e)),PC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(sv);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},AV=t=>yi(0,255,t),Jm={...Vl,transform:t=>Math.round(AV(t))},ta={test:iv("rgb","red"),parse:PC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jm.transform(t)+", "+Jm.transform(e)+", "+Jm.transform(n)+", "+Yc(vu.transform(r))+")"};function NV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zg={test:iv("#"),parse:NV,transform:ta.transform},zu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gi=zu("deg"),Os=zu("%"),Re=zu("px"),kV=zu("vh"),PV=zu("vw"),X_={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},sl={test:iv("hsl","hue"),parse:PC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Os.transform(Yc(e))+", "+Os.transform(Yc(n))+", "+Yc(vu.transform(r))+")"},Mt={test:t=>ta.test(t)||Zg.test(t)||sl.test(t),parse:t=>ta.test(t)?ta.parse(t):sl.test(t)?sl.parse(t):Zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ta.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Mt.parse(t);return e.alpha=0,Mt.transform(e)}},jV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DV(t){return isNaN(t)&&typeof t=="string"&&(t.match(sv)?.length||0)+(t.match(jV)?.length||0)>0}const jC="number",DC="color",LV="var",MV="var(",J_="${}",VV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(VV,d=>(Mt.test(d)?(r.color.push(a),s.push(DC),n.push(Mt.parse(d))):d.startsWith(MV)?(r.var.push(a),s.push(LV),n.push(d)):(r.number.push(a),s.push(jC),n.push(parseFloat(d))),++a,J_)).split(J_);return{values:n,split:u,indexes:r,types:s}}function LC(t){return wu(t).values}function MC(t){const{split:e,types:n}=wu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===jC?a+=Yc(s[l]):u===DC?a+=Mt.transform(s[l]):a+=s[l]}return a}}const OV=t=>typeof t=="number"?0:Mt.test(t)?Mt.getAnimatableNone(t):t;function FV(t){const e=LC(t);return MC(t)(e.map(OV))}const fo={test:DV,parse:LC,createTransformer:MC,getAnimatableNone:FV};function Zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=Zm(d,u,t+1/3),a=Zm(d,u,t),l=Zm(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sf(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,eg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},BV=[Zg,ta,sl],zV=t=>BV.find(e=>e.test(t));function Z_(t){const e=zV(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=UV(n)),n}const eb=(t,e)=>{const n=Z_(t),r=Z_(e);if(!n||!r)return sf(t,e);const s={...n};return a=>(s.red=eg(n.red,r.red,a),s.green=eg(n.green,r.green,a),s.blue=eg(n.blue,r.blue,a),s.alpha=wt(n.alpha,r.alpha,a),ta.transform(s))},ey=new Set(["none","hidden"]);function $V(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WV(t,e){return n=>wt(t,e,n)}function ov(t){return typeof t=="number"?WV:typeof t=="string"?rv(t)?sf:Mt.test(t)?eb:GV:Array.isArray(t)?VC:typeof t=="object"?Mt.test(t)?eb:qV:sf}function VC(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>ov(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function qV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ov(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function HV(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const GV=(t,e)=>{const n=fo.createTransformer(e),r=wu(t),s=wu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ey.has(t)&&!s.values.length||ey.has(e)&&!r.values.length?$V(t,e):Uu(VC(HV(r,s),s.values),n):sf(t,e)};function OC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):ov(t)(t,e)}const KV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>ho(e),now:()=>un.isProcessing?un.timestamp:Xn.now()}},FC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},of=2e4;function av(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<of;)e+=n,r=t.next(e);return e>=of?1/0:e}function QV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(av(r),of);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Ar(s)}}const YV=5;function UC(t,e,n){const r=Math.max(e-YV,0);return wC(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tg=.001;function XV({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let s,a,l=1-e;l=yi(Tt.minDamping,Tt.maxDamping,l),t=yi(Tt.minDuration,Tt.maxDuration,Ar(t)),l<1?(s=p=>{const g=p*l,v=g*t,w=g-n,T=ty(p,l),A=Math.exp(-v);return tg-w/T*A},a=p=>{const v=p*l*t,w=v*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-v),N=ty(Math.pow(p,2),l);return(-s(p)+tg>0?-1:1)*((w-T)*A)/N}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-tg+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const u=5/t,d=ZV(s,a,u);if(t=Vs(t),isNaN(d))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const JV=12;function ZV(t,e,n){let r=n;for(let s=1;s<JV;s++)r=r-t(r)/e(r);return r}function ty(t,e){return t*Math.sqrt(1-e*e)}const eO=["duration","bounce"],tO=["stiffness","damping","mass"];function tb(t,e){return e.some(n=>t[n]!==void 0)}function nO(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!tb(t,tO)&&tb(t,eO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*yi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Tt.mass,stiffness:s,damping:a}}else{const n=XV(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function af(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:T}=nO({...n,velocity:-Ar(n.velocity||0)}),A=w||0,N=p/(2*Math.sqrt(d*g)),S=l-a,D=Ar(Math.sqrt(d/g)),j=Math.abs(S)<5;r||(r=j?Tt.restSpeed.granular:Tt.restSpeed.default),s||(s=j?Tt.restDelta.granular:Tt.restDelta.default);let F;if(N<1){const H=ty(D,N);F=B=>{const I=Math.exp(-N*D*B);return l-I*((A+N*D*S)/H*Math.sin(H*B)+S*Math.cos(H*B))}}else if(N===1)F=H=>l-Math.exp(-D*H)*(S+(A+D*S)*H);else{const H=D*Math.sqrt(N*N-1);F=B=>{const I=Math.exp(-N*D*B),R=Math.min(H*B,300);return l-I*((A+N*D*S)*Math.sinh(R)+H*S*Math.cosh(R))/H}}const $={calculatedDuration:T&&v||null,next:H=>{const B=F(H);if(T)u.done=H>=v;else{let I=H===0?A:0;N<1&&(I=H===0?Vs(A):UC(F,H,B));const R=Math.abs(I)<=r,P=Math.abs(l-B)<=s;u.done=R&&P}return u.value=u.done?l:B,u},toString:()=>{const H=Math.min(av($),of),B=FC(I=>$.next(H*I).value,H,30);return H+"ms "+B},toTransition:()=>{}};return $}af.applyToOptions=t=>{const e=QV(t,100,af);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},T=R=>u!==void 0&&R<u||d!==void 0&&R>d,A=R=>u===void 0?d:d===void 0||Math.abs(u-R)<Math.abs(d-R)?u:d;let N=n*e;const S=v+N,D=l===void 0?S:l(S);D!==S&&(N=D-v);const j=R=>-N*Math.exp(-R/r),F=R=>D+j(R),$=R=>{const P=j(R),L=F(R);w.done=Math.abs(P)<=p,w.value=w.done?D:L};let H,B;const I=R=>{T(w.value)&&(H=R,B=af({keyframes:[w.value,A(w.value)],velocity:UC(F,R,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return I(0),{calculatedDuration:null,next:R=>{let P=!1;return!B&&H===void 0&&(P=!0,$(R),I(R)),H!==void 0&&R>=H?B.next(R-H):(!P&&$(R),w)}}}function rO(t,e,n){const r=[],s=n||vi.mix||OC,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||kr:e;u=Uu(d,u)}r.push(u)}return r}function sO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(X0(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=rO(e,r,s),d=u.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=yu(t[v],t[v+1],g);return u[v](w)};return n?g=>p(yi(t[0],t[a-1],g)):p}function iO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=yu(0,e,r);t.push(wt(n,1,s))}}function oO(t){const e=[0];return iO(e,t.length-1),e}function aO(t,e){return t.map(n=>n*e)}function lO(t,e){return t.map(()=>e||RC).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=wV(r)?r.map(Y_):Y_(r),a={done:!1,value:e[0]},l=aO(n&&n.length===e.length?n:oO(e),t),u=sO(l,e,{ease:Array.isArray(s)?s:lO(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const cO=t=>t!==null;function lv(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(cO),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const uO={decay:ny,inertia:ny,tween:Xc,keyframes:Xc,spring:af};function BC(t){typeof t.type=="string"&&(t.type=uO[t.type])}class cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dO=t=>t/100;class uv extends cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;BC(e);const{type:n=Xc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const d=n||Xc;d!==Xc&&typeof u[0]!="number"&&(this.mixKeyframes=Uu(dO,OC(u[0],u[1])),u=[0,100]);const p=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:T,type:A,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,$=r;if(v){const R=Math.min(this.currentTime,s)/u;let P=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(w==="reverse"?(L=1-L,T&&(L-=T/u)):w==="mirror"&&($=l)),F=yi(0,1,L)*u}const H=j?{done:!1,value:g[0]}:$.next(F);a&&(H.value=a(H.value));let{done:B}=H;!j&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&A!==ny&&(H.value=lv(g,this.options,S,this.speed)),N&&N(H.value),I&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Ar(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ar(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KV,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function hO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const na=t=>t*180/Math.PI,ry=t=>{const e=na(Math.atan2(t[1],t[0]));return sy(e)},fO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ry,rotateZ:ry,skewX:t=>na(Math.atan(t[1])),skewY:t=>na(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),nb=ry,rb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rb,scaleY:sb,scale:t=>(rb(t)+sb(t))/2,rotateX:t=>sy(na(Math.atan2(t[6],t[5]))),rotateY:t=>sy(na(Math.atan2(-t[2],t[0]))),rotateZ:nb,rotate:nb,skewX:t=>na(Math.atan(t[4])),skewY:t=>na(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iy(t){return t.includes("scale")?1:0}function oy(t,e){if(!t||t==="none")return iy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=pO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fO,s=u}if(!s)return iy(e);const a=r[e],l=s[1].split(",").map(gO);return typeof a=="function"?a(l):l[a]}const mO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oy(n,e)};function gO(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fl=new Set(Ol),ib=t=>t===Vl||t===Re,yO=new Set(["x","y","z"]),vO=Ol.filter(t=>!yO.has(t));function wO(t){const e=[];return vO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oy(e,"x"),y:(t,{transform:e})=>oy(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const aa=new Set;let ay=!1,ly=!1,cy=!1;function zC(){if(ly){const t=Array.from(aa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=wO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,ay=!1,aa.forEach(t=>t.complete(cy)),aa.clear()}function $C(){aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function xO(){cy=!0,$C(),zC(),cy=!1}class dv{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),ay||(ay=!0,mt.read($C),mt.resolveKeyframes(zC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}hO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _O=t=>t.startsWith("--");function bO(t,e,n){_O(e)?t.style.setProperty(e,n):t.style[e]=n}const EO=J0(()=>window.ScrollTimeline!==void 0),TO={};function SO(t,e){const n=J0(t);return()=>TO[e]??n()}const WC=SO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zc([0,.65,.55,1]),circOut:zc([.55,0,1,.45]),backIn:zc([.31,.01,.66,-.59]),backOut:zc([.33,1.53,.69,.99])};function qC(t,e){if(t)return typeof t=="function"?WC()?FC(t,e):"ease-out":AC(t)?zc(t):Array.isArray(t)?t.map(n=>qC(n,e)||ob.easeOut):ob[t]}function CO(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const v=qC(u,s);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function HC(t){return typeof t=="function"&&"applyToOptions"in t}function IO({type:t,...e}){return HC(t)&&WC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RO extends cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,X0(typeof e.type!="string");const p=IO(e);this.animation=CO(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=lv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):bO(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ar(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EO()?(this.animation.timeline=e,kr):n(this)}}const GC={anticipate:SC,backInOut:TC,circInOut:IC};function AO(t){return t in GC}function NO(t){typeof t.ease=="string"&&AO(t.ease)&&(t.ease=GC[t.ease])}const ab=10;class kO extends RO{constructor(e){NO(e),BC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new uv({...l,autoplay:!1}),d=Vs(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-ab).value,u.sample(d).value,ab),u.stop()}}const lb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function PO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=lb(s,e),u=lb(a,e);return!l||!u?!1:PO(t)||(n==="spring"||HC(n))&&r}function uy(t){t.duration=0,t.type="keyframes"}const DO=new Set(["opacity","clipPath","filter","transform"]),LO=J0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MO(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return LO()&&n&&DO.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const VO=40;class OO extends cv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xn.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:g,...v},T=g?.KeyframeResolver||dv;this.keyframeResolver=new T(u,(A,N,S)=>this.onKeyframesResolved(A,N,w,!S),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Xn.now(),jO(e,a,l,u)||((vi.instantAnimations||!d)&&g?.(lv(e,r,n)),e[0]=e[e.length-1],uy(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>VO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&MO(w)?new kO({...w,element:w.motionValue.owner.current}):new uv(w);T.finished.then(()=>this.notifyFinished()).catch(kr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UO(t){const e=FO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function KC(t,e,n=1){const[r,s]=UO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return gC(l)?parseFloat(l):l}return rv(s)?KC(s,e,n+1):s}function hv(t,e){return t?.[e]??t?.default??t}const QC=new Set(["width","height","top","left","right","bottom",...Ol]),BO={test:t=>t==="auto",parse:t=>t},YC=t=>e=>e.test(t),XC=[Vl,Re,Os,Gi,PV,kV,BO],cb=t=>XC.find(YC(t));function zO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vC(t):!0}const $O=new Set(["brightness","contrast","saturate","opacity"]);function WO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sv)||[];if(!r)return t;const s=n.replace(r,"");let a=$O.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const qO=/\b([a-z-]*)\(.*?\)/gu,dy={...fo,getAnimatableNone:t=>{const e=t.match(qO);return e?e.map(WO).join(" "):t}},ub={...Vl,transform:Math.round},HO={rotate:Gi,rotateX:Gi,rotateY:Gi,rotateZ:Gi,scale:hh,scaleX:hh,scaleY:hh,scaleZ:hh,skew:Gi,skewX:Gi,skewY:Gi,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:vu,originX:X_,originY:X_,originZ:Re},fv={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...HO,zIndex:ub,fillOpacity:vu,strokeOpacity:vu,numOctaves:ub},GO={...fv,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:dy,WebkitFilter:dy},JC=t=>GO[t];function ZC(t,e){let n=JC(t);return n!==dy&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KO=new Set(["auto","none","0"]);function QO(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!KO.has(a)&&wu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=ZC(n,s)}class YO extends dv{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),rv(p))){const g=KC(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!QC.has(r)||e.length!==2)return;const[s,a]=e,l=cb(s),u=cb(a);if(l!==u)if(ib(l)&&ib(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else oa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||zO(e[s]))&&r.push(s);r.length&&QO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function XO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const eI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tI(t){return yC(t)&&"offsetHeight"in t}const db=30,JO=t=>!isNaN(parseFloat(t));class ZO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Xn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>db)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,db);return wC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new ZO(t,e)}const{schedule:pv}=NC(queueMicrotask,!1),Yr={x:!1,y:!1};function nI(){return Yr.x||Yr.y}function eF(t){return t==="x"||t==="y"?Yr[t]?null:(Yr[t]=!0,()=>{Yr[t]=!1}):Yr.x||Yr.y?null:(Yr.x=Yr.y=!0,()=>{Yr.x=Yr.y=!1})}function rI(t,e){const n=XO(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function hb(t){return!(t.pointerType==="touch"||nI())}function tF(t,e,n={}){const[r,s,a]=rI(t,n),l=u=>{if(!hb(u))return;const{target:d}=u,p=e(d,u);if(typeof p!="function"||!d)return;const g=v=>{hb(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const sI=(t,e)=>e?t===e?!0:sI(t,e.parentElement):!1,mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rF(t){return nF.has(t.tagName)||t.tabIndex!==-1}const kh=new WeakSet;function fb(t){return e=>{e.key==="Enter"&&t(e)}}function ng(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fb(()=>{if(kh.has(n))return;ng(n,"down");const s=fb(()=>{ng(n,"up")}),a=()=>ng(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pb(t){return mv(t)&&!nI()}function iF(t,e,n={}){const[r,s,a]=rI(t,n),l=u=>{const d=u.currentTarget;if(!pb(u))return;kh.add(d);const p=e(d,u),g=(T,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),kh.has(d)&&kh.delete(d),pb(T)&&typeof p=="function"&&p(T,{success:A})},v=T=>{g(T,d===window||d===document||n.useGlobalTarget||sI(d,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),tI(u)&&(u.addEventListener("focus",p=>sF(p,s)),!rF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function iI(t){return yC(t)&&"ownerSVGElement"in t}function oF(t){return iI(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),aF=[...XC,Mt,fo],lF=t=>aF.find(YC(t)),gv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cF(...t){return e=>{let n=!1;const r=t.map(s=>{const a=mb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():mb(t[s],null)}}}}function uF(...t){return b.useCallback(cF(...t),t)}class dF extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=tI(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hF({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(gv),d=uF(a,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:w,right:T}=l.current;if(e||!a.current||!p||!g)return;const A=n==="left"?`left: ${w}`:`right: ${T}`;a.current.dataset.motionPopId=s;const N=document.createElement("style");u&&(N.nonce=u);const S=r??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${A}px !important;
            top: ${v}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[e]),h.jsx(dF,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:d})})}const fF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:d})=>{const p=G0(pF),g=b.useId();let v=!0,w=b.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{p.set(T,!0);for(const A of p.values())if(!A)return;r&&r()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[n,p,r]);return a&&v&&(w={...w}),b.useMemo(()=>{p.forEach((T,A)=>p.set(A,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(hF,{isPresent:n,anchorX:u,root:d,children:t})),h.jsx(Qf.Provider,{value:w,children:t})};function pF(){return new Map}function oI(t=!0){const e=b.useContext(Qf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const fh=t=>t.key||"";function gb(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const ns=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[p,g]=oI(l),v=b.useMemo(()=>gb(t),[t]),w=l&&!p?[]:v.map(fh),T=b.useRef(!0),A=b.useRef(v),N=G0(()=>new Map),[S,D]=b.useState(v),[j,F]=b.useState(v);mC(()=>{T.current=!1,A.current=v;for(let B=0;B<j.length;B++){const I=fh(j[B]);w.includes(I)?N.delete(I):N.get(I)!==!0&&N.set(I,!1)}},[j,w.length,w.join("-")]);const $=[];if(v!==S){let B=[...v];for(let I=0;I<j.length;I++){const R=j[I],P=fh(R);w.includes(P)||(B.splice(I,0,R),$.push(R))}return a==="wait"&&$.length&&(B=$),F(gb(B)),D(v),null}const{forceRender:H}=b.useContext(H0);return h.jsx(h.Fragment,{children:j.map(B=>{const I=fh(B),R=l&&!p?!1:v===j||w.includes(I),P=()=>{if(N.has(I))N.set(I,!0);else return;let L=!0;N.forEach(V=>{V||(L=!1)}),L&&(H?.(),F(A.current),l&&g?.(),r&&r())};return h.jsx(fF,{isPresent:R,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:d,onExitComplete:R?void 0:P,anchorX:u,children:B},I)})})},aI=b.createContext({strict:!1}),yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in yb)Sl[t]={isEnabled:e=>yb[t].some(n=>!!e[n])};function mF(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const gF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gF.has(t)}let lI=t=>!lf(t);function yF(t){typeof t=="function"&&(lI=e=>e.startsWith("on")?!lf(e):t(e))}try{yF(require("@emotion/is-prop-valid").default)}catch{}function vF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(lI(s)||n===!0&&lf(s)||!e&&!lf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Yf=b.createContext({});function Xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function Jf(t){return Xf(t.animate)||vv.some(e=>xu(t[e]))}function cI(t){return!!(Jf(t)||t.variants)}function wF(t,e){if(Jf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return t.inherit!==!1?e:{}}function xF(t){const{initial:e,animate:n}=wF(t,b.useContext(Yf));return b.useMemo(()=>({initial:e,animate:n}),[vb(e),vb(n)])}function vb(t){return Array.isArray(t)?t.join(" "):t}const _u={};function _F(t){for(const e in t)_u[e]=t[e],nv(e)&&(_u[e].isCSSVariable=!0)}function uI(t,{layout:e,layoutId:n}){return Fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_u[t]||t==="opacity")}const bF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EF=Ol.length;function TF(t,e,n){let r="",s=!0;for(let a=0;a<EF;a++){const l=Ol[a],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const p=eI(u,fv[l]);if(!d){s=!1;const g=bF[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function wv(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const d in e){const p=e[d];if(Fl.has(d)){l=!0;continue}else if(nv(d)){s[d]=p;continue}else{const g=eI(p,fv[d]);d.startsWith("origin")?(u=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=TF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dI(t,e,n){for(const r in e)!Cn(e[r])&&!uI(r,n)&&(t[r]=e[r])}function SF({transformTemplate:t},e){return b.useMemo(()=>{const n=xv();return wv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CF(t,e){const n=t.style||{},r={};return dI(r,n,t),Object.assign(r,SF(t,e)),r}function IF(t,e){const n={},r=CF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const RF={offset:"stroke-dashoffset",array:"stroke-dasharray"},AF={offset:"strokeDashoffset",array:"strokeDasharray"};function NF(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?RF:AF;t[a.offset]=Re.transform(-r);const l=Re.transform(e),u=Re.transform(n);t[a.array]=`${l} ${u}`}function hI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,p,g){if(wv(t,u,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&NF(v,s,a,l,!1)}const fI=()=>({...xv(),attrs:{}}),pI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kF(t,e,n,r){const s=b.useMemo(()=>{const a=fI();return hI(a,e,pI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};dI(a,t.style,t),s.style={...a,...s.style}}return s}const PF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(PF.indexOf(t)>-1||/[A-Z]/u.test(t))}function jF(t,e,n,{latestValues:r},s,a=!1){const u=(_v(t)?kF:IF)(e,r,s,t),d=vF(e,typeof t=="string",a),p=t!==b.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=b.useMemo(()=>Cn(g)?g.get():g,[g]);return b.createElement(t,{...p,children:v})}function wb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bv(t,e,n,r){if(typeof e=="function"){const[s,a]=wb(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=wb(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Ph(t){return Cn(t)?t.get():t}function DF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:LF(n,r,s,t),renderState:e()}}function LF(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=Ph(a[w]);let{initial:l,animate:u}=t;const d=Jf(t),p=cI(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Xf(v)){const w=Array.isArray(v)?v:[v];for(let T=0;T<w.length;T++){const A=bv(t,w[T]);if(A){const{transitionEnd:N,transition:S,...D}=A;for(const j in D){let F=D[j];if(Array.isArray(F)){const $=g?F.length-1:0;F=F[$]}F!==null&&(s[j]=F)}for(const j in N)s[j]=N[j]}}}return s}const mI=t=>(e,n)=>{const r=b.useContext(Yf),s=b.useContext(Qf),a=()=>DF(t,e,r,s);return n?a():G0(a)};function Ev(t,e,n){const{style:r}=t,s={};for(const a in r)(Cn(r[a])||e.style&&Cn(e.style[a])||uI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const MF=mI({scrapeMotionValuesFromProps:Ev,createRenderState:xv});function gI(t,e,n){const r=Ev(t,e,n);for(const s in t)if(Cn(t[s])||Cn(e[s])){const a=Ol.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const VF=mI({scrapeMotionValuesFromProps:gI,createRenderState:fI}),OF=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FF(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):il(n)&&(n.current=r))},[e])}const Tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UF="framerAppearId",yI="data-"+Tv(UF),vI=b.createContext({});function BF(t,e,n,r,s){const{visualElement:a}=b.useContext(Yf),l=b.useContext(aI),u=b.useContext(Qf),d=b.useContext(gv).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,v=b.useContext(vI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&zF(p.current,n,s,v);const w=b.useRef(!1);b.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const T=n[yI],A=b.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return mC(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),A.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),A.current=!1),g.enteringChildren=void 0)}),g}function zF(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wI(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&il(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function wI(t){if(t)return t.options.allowProjection!==!1?t.projection:wI(t.parent)}function rg(t,{forwardMotionProps:e=!1}={},n,r){n&&mF(n);const s=_v(t)?VF:MF;function a(u,d){let p;const g={...b.useContext(gv),...u,layoutId:$F(u)},{isStatic:v}=g,w=xF(u),T=s(u,v);if(!v&&K0){WF();const A=qF(g);p=A.MeasureLayout,w.visualElement=BF(t,T,g,r,A.ProjectionNode)}return h.jsxs(Yf.Provider,{value:w,children:[p&&w.visualElement?h.jsx(p,{visualElement:w.visualElement,...g}):null,jF(t,u,FF(T,w.visualElement,d),T,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[OF]=t,l}function $F({layoutId:t}){const e=b.useContext(H0).id;return e&&t!==void 0?e+"-"+t:t}function WF(t,e){b.useContext(aI).strict}function qF(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function HF(t,e){if(typeof Proxy>"u")return rg;const n=new Map,r=(a,l)=>rg(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,rg(l,void 0,t,e)),n.get(l))})}function xI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function GF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sg(t){return t===void 0||t===1}function hy({scale:t,scaleX:e,scaleY:n}){return!sg(t)||!sg(e)||!sg(n)}function Xo(t){return hy(t)||_I(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _I(t){return xb(t.x)||xb(t.y)}function xb(t){return t&&t!=="0%"}function cf(t,e,n){const r=t-n,s=e*r;return n+s}function _b(t,e,n,r,s){return s!==void 0&&(t=cf(t,s,r)),cf(t,n,r)+e}function fy(t,e=0,n=1,r,s){t.min=_b(t.min,e,n,r,s),t.max=_b(t.max,e,n,r,s)}function bI(t,{x:e,y:n}){fy(t.x,e.translate,e.scale,e.originPoint),fy(t.y,n.translate,n.scale,n.originPoint)}const bb=.999999999999,Eb=1.0000000000001;function QF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&al(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,bI(t,l)),r&&Xo(a.latestValues)&&al(t,a.latestValues))}e.x<Eb&&e.x>bb&&(e.x=1),e.y<Eb&&e.y>bb&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function Tb(t,e,n,r,s=.5){const a=wt(t.min,t.max,s);fy(t,e,n,a,r)}function al(t,e){Tb(t.x,e.x,e.scaleX,e.scale,e.originX),Tb(t.y,e.y,e.scaleY,e.scale,e.originY)}function EI(t,e){return xI(KF(t.getBoundingClientRect(),e))}function YF(t,e,n){const r=EI(t,n),{scroll:s}=e;return s&&(ol(r.x,s.offset.x),ol(r.y,s.offset.y)),r}const Sb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:Sb(),y:Sb()}),Cb=()=>({min:0,max:0}),kt=()=>({x:Cb(),y:Cb()}),py={current:null},TI={current:!1};function XF(){if(TI.current=!0,!!K0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>py.current=t.matches;t.addEventListener("change",e),e()}else py.current=!1}const JF=new WeakMap;function ZF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Cn(s))t.addValue(r,s);else if(Cn(a))t.addValue(r,Tl(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Tl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Xn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,mt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Jf(n),this.isVariantNode=cI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const T=v[w];d[w]!==void 0&&Cn(T)&&T.set(d[w])}}mount(e){this.current=e,JF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TI.current||XF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:py.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ib.length;r++){const s=Ib[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=ZF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gC(r)||vC(r))?r=parseFloat(r):!lF(r)&&fo.test(n)&&(r=ZC(e,n)),this.setBaseTarget(e,Cn(r)?r.get():r)),Cn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=bv(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Cn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pv.render(this.render)}}class SI extends e9{constructor(){super(...arguments),this.KeyframeResolver=YO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CI(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function t9(t){return window.getComputedStyle(t)}class n9 extends SI{constructor(){super(...arguments),this.type="html",this.renderInstance=CI}readValueFromInstance(e,n){if(Fl.has(n))return this.projection?.isProjecting?iy(n):mO(e,n);{const r=t9(e),s=(nv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EI(e,n)}build(e,n,r){wv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ev(e,n,r)}}const II=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r9(t,e,n,r){CI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(II.has(s)?s:Tv(s),e.attrs[s])}class s9 extends SI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fl.has(n)){const r=JC(n);return r&&r.default||0}return n=II.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gI(e,n,r)}build(e,n,r){hI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){r9(e,n,r,s)}mount(e){this.isSVGTag=pI(e.tagName),super.mount(e)}}const i9=(t,e)=>_v(t)?new s9(e):new n9(e,{allowProjection:t!==b.Fragment});function pl(t,e,n){const r=t.getProps();return bv(r,e,n!==void 0?n:r.custom,t)}const my=t=>Array.isArray(t);function o9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function a9(t){return my(t)?t[t.length-1]||0:t}function l9(t,e){const n=pl(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=a9(a[l]);o9(t,l,u)}}function c9(t){return!!(Cn(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(c9(n))return n.add(e);if(!n&&vi.WillChange){const r=new vi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function RI(t){return t.props[yI]}const u9=t=>t!==null;function d9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(u9),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const h9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p9={type:"keyframes",duration:.8},m9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g9=(t,{keyframes:e})=>e.length>2?p9:Fl.has(t)?t.startsWith("scale")?f9(e[1]):h9:m9;function y9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Sv=(t,e,n,r={},s,a)=>l=>{const u=hv(r,t)||{},d=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Vs(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};y9(u)||Object.assign(g,g9(t,g)),g.duration&&(g.duration=Vs(g.duration)),g.repeatDelay&&(g.repeatDelay=Vs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(uy(g),g.delay===0&&(v=!0)),(vi.instantAnimations||vi.skipAnimations)&&(v=!0,uy(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const w=d9(g.keyframes,u);if(w!==void 0){mt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new uv(g):new OO(g)};function v9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function AI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),w=u[g];if(w===void 0||p&&v9(p,g))continue;const T={delay:n,...hv(a||{},g)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===A&&!T.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const D=RI(t);if(D){const j=window.MotionHandoffAnimation(D,g,mt);j!==null&&(T.startTime=j,N=!0)}}gy(t,g),v.start(Sv(g,v,w,t.shouldReduceMotion&&QC.has(g)?{type:!1}:T,t,N));const S=v.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{mt.update(()=>{l&&l9(t,l)})}),d}function NI(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}function yy(t,e,n={}){const r=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(AI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return w9(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,p]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function w9(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(yy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+NI(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function x9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>yy(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=yy(t,e,n);else{const s=typeof e=="function"?pl(t,e,n.custom):e;r=Promise.all(AI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function kI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _9=vv.length;function PI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_9;n++){const r=vv[n],s=t.props[r];(xu(s)||s===!1)&&(e[r]=s)}return e}const b9=[...yv].reverse(),E9=yv.length;function T9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>x9(t,n,r)))}function S9(t){let e=T9(t),n=Rb(),r=!0;const s=d=>(p,g)=>{const v=pl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:T,...A}=v;p={...p,...A,...T}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=PI(t.parent)||{},v=[],w=new Set;let T={},A=1/0;for(let S=0;S<E9;S++){const D=b9[S],j=n[D],F=p[D]!==void 0?p[D]:g[D],$=xu(F),H=D===d?j.isActive:null;H===!1&&(A=S);let B=F===g[D]&&F!==p[D]&&$;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),j.protectedKeys={...T},!j.isActive&&H===null||!F&&!j.prevProp||Xf(F)||typeof F=="boolean")continue;const I=C9(j.prevProp,F);let R=I||D===d&&j.isActive&&!B&&$||S>A&&$,P=!1;const L=Array.isArray(F)?F:[F];let V=L.reduce(s(D),{});H===!1&&(V={});const{prevResolvedValues:q={}}=j,M={...q,...V},ke=ge=>{R=!0,w.has(ge)&&(P=!0,w.delete(ge)),j.needsAnimating[ge]=!0;const se=t.getValue(ge);se&&(se.liveStyle=!1)};for(const ge in M){const se=V[ge],le=q[ge];if(T.hasOwnProperty(ge))continue;let Z=!1;my(se)&&my(le)?Z=!kI(se,le):Z=se!==le,Z?se!=null?ke(ge):w.add(ge):se!==void 0&&w.has(ge)?ke(ge):j.protectedKeys[ge]=!0}j.prevProp=F,j.prevResolvedValues=V,j.isActive&&(T={...T,...V}),r&&t.blockInitialAnimation&&(R=!1);const Je=B&&I;R&&(!Je||P)&&v.push(...L.map(ge=>{const se={type:D};if(typeof ge=="string"&&r&&!Je&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,Z=pl(le,ge);if(le.enteringChildren&&Z){const{delayChildren:U}=Z.transition||{};se.delay=NI(le.enteringChildren,t,U)}}return{animation:ge,options:se}}))}if(w.size){const S={};if(typeof p.initial!="boolean"){const D=pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(S.transition=D.transition)}w.forEach(D=>{const j=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),S[D]=j??null}),v.push({animation:S})}let N=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(v):Promise.resolve()}function u(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Rb()}}}function C9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kI(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rb(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class _o{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I9 extends _o{constructor(e){super(e),e.animationState||(e.animationState=S9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let R9=0;class A9 extends _o{constructor(){super(...arguments),this.id=R9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N9={animation:{Feature:I9},exit:{Feature:A9}};function bu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $u(t){return{point:{x:t.pageX,y:t.pageY}}}const k9=t=>e=>mv(e)&&t(e,$u(e));function Jc(t,e,n,r){return bu(t,e,k9(n),r)}const jI=1e-4,P9=1-jI,j9=1+jI,DI=.01,D9=0-DI,L9=0+DI;function Mn(t){return t.max-t.min}function M9(t,e,n){return Math.abs(t-e)<=n}function Ab(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P9&&t.scale<=j9||isNaN(t.scale))&&(t.scale=1),(t.translate>=D9&&t.translate<=L9||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,r){Ab(t.x,e.x,n.x,r?r.originX:void 0),Ab(t.y,e.y,n.y,r?r.originY:void 0)}function Nb(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function V9(t,e,n){Nb(t.x,e.x,n.x),Nb(t.y,e.y,n.y)}function kb(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function eu(t,e,n){kb(t.x,e.x,n.x),kb(t.y,e.y,n.y)}function Sr(t){return[t("x"),t("y")]}const LI=({current:t})=>t?t.ownerDocument.defaultView:null,Pb=(t,e)=>Math.abs(t-e);function O9(t,e){const n=Pb(t.x,e.x),r=Pb(t.y,e.y);return Math.sqrt(n**2+r**2)}class MI{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=og(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=O9(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!A)return;const{point:N}=w,{timestamp:S}=un;this.history.push({...N,timestamp:S});const{onStart:D,onMove:j}=this.handlers;T||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ig(T,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:A,onSessionEnd:N,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=og(w.type==="pointercancel"?this.lastMoveEventInfo:ig(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,D),N&&N(w,D)},!mv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=$u(e),d=ig(u,this.transformPagePoint),{point:p}=d,{timestamp:g}=un;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,og(d,this.history)),this.removeListeners=Uu(Jc(this.contextWindow,"pointermove",this.handlePointerMove),Jc(this.contextWindow,"pointerup",this.handlePointerUp),Jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function ig(t,e){return e?{point:e(t.point)}:t}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function og({point:t},e){return{point:t,delta:jb(t,VI(e)),offset:jb(t,F9(e)),velocity:U9(e,.1)}}function F9(t){return t[0]}function VI(t){return t[t.length-1]}function U9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=VI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};const a=Ar(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function B9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function Db(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function z9(t,{top:e,left:n,bottom:r,right:s}){return{x:Db(t.x,n,s),y:Db(t.y,e,r)}}function Lb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $9(t,e){return{x:Lb(t.x,e.x),y:Lb(t.y,e.y)}}function W9(t,e){let n=.5;const r=Mn(t),s=Mn(e);return s>r?n=yu(e.min,e.max-r,t.min):r>s&&(n=yu(t.min,t.max-s,e.min)),yi(0,1,n)}function q9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function H9(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:Mb(t,"left","right"),y:Mb(t,"top","bottom")}}function Mb(t,e,n){return{min:Vb(t,e),max:Vb(t,n)}}function Vb(t,e){return typeof t=="number"?t:t[e]||0}const G9=new WeakMap;class K9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($u(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:A,onDragStart:N}=this.getProps();if(T&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eF(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sr(D=>{let j=this.getAxisMotionValue(D).get()||0;if(Os.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[D];$&&(j=Mn($)*(parseFloat(j)/100))}}this.originPoint[D]=j}),N&&mt.postRender(()=>N(v,w)),gy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:T,dragDirectionLock:A,onDirectionLock:N,onDrag:S}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:D}=w;if(A&&this.currentDirection===null){this.currentDirection=Q9(D),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),S&&S(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Sr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new MI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:LI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&mt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ph(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=B9(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=z9(r.layoutBox,e):this.constraints=!1,this.elastic=H9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=q9(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=YF(r,s.root,this.visualElement.getTransformPagePoint());let l=$9(s.layout.layoutBox,a);if(n){const u=n(GF(l));this.hasMutatedConstraints=!!u,u&&(l=xI(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Sr(g=>{if(!ph(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const w=s?200:1e6,T=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gy(this.visualElement,e),r.start(Sv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sr(n=>{const{drag:r}=this.getProps();if(!ph(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-wt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Sr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=W9({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sr(l=>{if(!ph(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(wt(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;G9.set(this.visualElement,this);const e=this.visualElement.current,n=Jc(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();il(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const l=bu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Sr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=vy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function ph(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Q9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Y9 extends _o{constructor(e){super(e),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new K9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ob=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class X9 extends _o{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(e){this.session=new MI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ob(e),onStart:Ob(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&mt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=Fb(t,e.target.x),r=Fb(t,e.target.y);return`${n}% ${r}%`}},J9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=fo.parse(t);if(s.length>5)return r;const a=fo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const p=wt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let ag=!1;class Z9 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;_F(e7),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),ag&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,ag=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||mt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;ag=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OI(t){const[e,n]=oI(),r=b.useContext(H0);return h.jsx(Z9,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(vI),isPresent:e,safeToRemove:n})}const e7={borderRadius:{...jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jc,borderTopRightRadius:jc,borderBottomLeftRadius:jc,borderBottomRightRadius:jc,boxShadow:J9};function t7(t,e,n){const r=Cn(t)?t:Tl(t);return r.start(Sv("",r,e,n)),r.animation}const n7=(t,e)=>t.depth-e.depth;class r7{constructor(){this.children=[],this.isDirty=!1}add(e){Q0(this.children,e),this.isDirty=!0}remove(e){Y0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n7),this.isDirty=!1,this.children.forEach(e)}}function s7(t,e){const n=Xn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ho(r),t(a-e))};return mt.setup(r,!0),()=>ho(r)}const FI=["TopLeft","TopRight","BottomLeft","BottomRight"],i7=FI.length,Ub=t=>typeof t=="string"?parseFloat(t):t,Bb=t=>typeof t=="number"||Re.test(t);function o7(t,e,n,r,s,a){s?(t.opacity=wt(0,n.opacity??1,a7(r)),t.opacityExit=wt(e.opacity??1,0,l7(r))):a&&(t.opacity=wt(e.opacity??1,n.opacity??1,r));for(let l=0;l<i7;l++){const u=`border${FI[l]}Radius`;let d=zb(e,u),p=zb(n,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Bb(d)===Bb(p)?(t[u]=Math.max(wt(Ub(d),Ub(p),r),0),(Os.test(p)||Os.test(d))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function zb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a7=UI(0,.5,CC),l7=UI(.5,.95,kr);function UI(t,e,n){return r=>r<t?0:r>e?1:n(yu(t,e,r))}function $b(t,e){t.min=e.min,t.max=e.max}function Tr(t,e){$b(t.x,e.x),$b(t.y,e.y)}function Wb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qb(t,e,n,r,s){return t-=e,t=cf(t,1/n,r),s!==void 0&&(t=cf(t,1/s,r)),t}function c7(t,e=0,n=1,r=.5,s,a=t,l=t){if(Os.test(e)&&(e=parseFloat(e),e=wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=wt(a.min,a.max,r);t===a&&(u-=e),t.min=qb(t.min,e,n,u,s),t.max=qb(t.max,e,n,u,s)}function Hb(t,e,[n,r,s],a,l){c7(t,e[n],e[r],e[s],e.scale,a,l)}const u7=["x","scaleX","originX"],d7=["y","scaleY","originY"];function Gb(t,e,n,r){Hb(t.x,e,u7,n?n.x:void 0,r?r.x:void 0),Hb(t.y,e,d7,n?n.y:void 0,r?r.y:void 0)}function Kb(t){return t.translate===0&&t.scale===1}function BI(t){return Kb(t.x)&&Kb(t.y)}function Qb(t,e){return t.min===e.min&&t.max===e.max}function h7(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Yb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zI(t,e){return Yb(t.x,e.x)&&Yb(t.y,e.y)}function Xb(t){return Mn(t.x)/Mn(t.y)}function Jb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f7{constructor(){this.members=[]}add(e){Q0(this.members,e),e.scheduleRender()}remove(e){if(Y0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p7(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:T,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const lg=["","X","Y","Z"],m7=1e3;let g7=0;function cg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $I(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=RI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$I(r)}function WI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=g7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w7),this.nodes.forEach(E7),this.nodes.forEach(T7),this.nodes.forEach(x7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new r7)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Z0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=iI(l)&&!oF(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=s7(w,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(tE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||A7,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=p.getProps(),D=!this.targetLayout||!zI(this.targetLayout,T),j=!v&&w;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...hv(A,"layout"),onPlay:N,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||tE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$I(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b7),this.nodes.forEach(y7),this.nodes.forEach(v7)):this.nodes.forEach(eE),this.clearAllSnapshots();const u=Xn.now();un.delta=yi(0,1e3/60,u-un.timestamp),un.timestamp=u,un.isProcessing=!0,Xm.update.process(un),Xm.preRender.process(un),Xm.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_7),this.sharedNodes.forEach(C7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!BI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Xo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),N7(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return kt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(k7))){const{scroll:p}=this.root;p&&(ol(u.x,p.offset.x),ol(u.y,p.offset.y))}return u}removeElementScroll(l){const u=kt();if(Tr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Tr(u,l),ol(u.x,g.offset.x),ol(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=kt();Tr(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&al(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xo(g.latestValues)&&al(d,g.latestValues)}return Xo(this.latestValues)&&al(d,this.latestValues),d}removeTransform(l){const u=kt();Tr(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Xo(p.latestValues))continue;hy(p.latestValues)&&p.updateSnapshot();const g=kt(),v=p.measurePageBox();Tr(g,v),Gb(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Xo(this.latestValues)&&Gb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),eu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),bI(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),eu(this.relativeTargetOrigin,this.target,w.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||_I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===un.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Tr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;QF(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=kt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wb(this.prevProjectionDelta.x,this.projectionDelta.x),Wb(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Jb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=kt(),T=d?d.source:void 0,A=this.layout?this.layout.source:void 0,N=T!==A,S=this.getStack(),D=!S||S.members.length<=1,j=!!(N&&!D&&this.options.crossfade===!0&&!this.path.some(R7));this.animationProgress=0;let F;this.mixTargetDelta=$=>{const H=$/1e3;nE(v.x,l.x,H),nE(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I7(this.relativeTarget,this.relativeTargetOrigin,w,H),F&&h7(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=kt()),Tr(F,this.relativeTarget)),N&&(this.animationValues=g,o7(g,p,this.latestValues,H,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{jh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=t7(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:g}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&qI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||kt();const v=Mn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=Mn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Tr(u,d),al(u,g),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f7),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&cg("z",l,p,this.animationValues);for(let g=0;g<lg.length;g++)cg(`rotate${lg[g]}`,l,p,this.animationValues),cg(`skew${lg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Ph(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Ph(u?.pointerEvents)||""),this.hasProjected&&!Xo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=p7(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:w,y:T}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in _u){if(g[A]===void 0)continue;const{correct:N,applyTo:S,isCSSVariable:D}=_u[A],j=v==="none"?g[A]:N(g[A],p);if(S){const F=S.length;for(let $=0;$<F;$++)l[S[$]]=j}else D?this.options.visualElement.renderState.vars[A]=j:l[A]=j}this.options.layoutId&&(l.pointerEvents=p===this?Ph(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Zb),this.root.sharedNodes.clear()}}}function y7(t){t.updateLayout()}function v7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Sr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],w=Mn(v);v.min=n[g].min,v.max=v.min+w}):qI(s,e.layoutBox,n)&&Sr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],w=Mn(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=ll();Zc(l,n,e.layoutBox);const u=ll();a?Zc(u,t.applyTransform(r,!0),e.measuredBox):Zc(u,n,e.layoutBox);const d=!BI(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const T=kt();eu(T,e.layoutBox,v.layoutBox);const A=kt();eu(A,n,w.layoutBox),zI(T,A)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function w7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function x7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _7(t){t.clearSnapshot()}function Zb(t){t.clearMeasurements()}function eE(t){t.isLayoutDirty=!1}function b7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E7(t){t.resolveTargetDelta()}function T7(t){t.calcProjection()}function S7(t){t.resetSkewAndRotation()}function C7(t){t.removeLeadSnapshot()}function nE(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rE(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function I7(t,e,n,r){rE(t.x,e.x,n.x,r),rE(t.y,e.y,n.y,r)}function R7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const A7={duration:.45,ease:[.4,0,.1,1]},sE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iE=sE("applewebkit/")&&!sE("chrome/")?Math.round:kr;function oE(t){t.min=iE(t.min),t.max=iE(t.max)}function N7(t){oE(t.x),oE(t.y)}function qI(t,e,n){return t==="position"||t==="preserve-aspect"&&!M9(Xb(e),Xb(n),.2)}function k7(t){return t!==t.root&&t.scroll?.wasRoot}const P7=WI({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},HI=WI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ug.current){const t=new P7({});t.mount(window),t.setOptions({layoutScroll:!0}),ug.current=t}return ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j7={pan:{Feature:X9},drag:{Feature:Y9,ProjectionNode:HI,MeasureLayout:OI}};function aE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&mt.postRender(()=>a(e,$u(e)))}class D7 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=tF(e,(n,r)=>(aE(this.node,r,"Start"),s=>aE(this.node,s,"End"))))}unmount(){}}class L7 extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&mt.postRender(()=>a(e,$u(e)))}class M7 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=iF(e,(n,r)=>(lE(this.node,r,"Start"),(s,{success:a})=>lE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,dg=new WeakMap,V7=t=>{const e=wy.get(t.target);e&&e(t)},O7=t=>{t.forEach(V7)};function F7({root:t,...e}){const n=t||document;dg.has(n)||dg.set(n,{});const r=dg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(O7,{root:t,...e})),r[s]}function U7(t,e,n){const r=F7(e);return wy.set(t,n),r.observe(t),()=>{wy.delete(t),r.unobserve(t)}}const B7={some:0,all:1};class z7 extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:B7[s]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(d)};return U7(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($7(e,n))&&this.startObserver()}unmount(){}}function $7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W7={inView:{Feature:z7},tap:{Feature:M7},focus:{Feature:L7},hover:{Feature:D7}},q7={layout:{ProjectionNode:HI,MeasureLayout:OI}},H7={...N9,...W7,...j7,...q7},xe=HF(H7,i9),Cv=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=b.useState(n==="login"),[a,l]=b.useState(""),[u,d]=b.useState(""),[p,g]=b.useState(!1),[v,w]=b.useState(""),[T,A]=b.useState(""),N=async D=>{D.preventDefault(),g(!0),w(""),A("");try{r?(await aT(Fe,a,u),e()):(await oT(Fe,a,u),A("Account created successfully! You can now sign in."),s(!0))}catch(j){j instanceof Error?w(j.message):w("An unexpected error occurred")}finally{g(!1)}},S=async()=>{try{await vT(Fe,pC),e()}catch(D){D instanceof Error?w(D.message):w("An unexpected error occurred")}};return h.jsx(ns,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:h.jsxs("div",{className:"p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),h.jsxs("form",{onSubmit:N,className:"space-y-4",children:[h.jsxs("button",{type:"button",onClick:S,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),h.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[h.jsx("div",{className:"border-t border-gray-200 w-full"}),h.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:a,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",required:!0,value:u,onChange:D=>d(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&h.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&h.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),h.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})};function G7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const GI=b.forwardRef(G7);function K7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Q7=b.forwardRef(K7);function Y7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const X7=b.forwardRef(Y7);function J7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Z7=b.forwardRef(J7);function e8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const KI=b.forwardRef(e8);function t8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const n8=b.forwardRef(t8);function r8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const tu=b.forwardRef(r8);function s8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const QI=b.forwardRef(s8);function i8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const o8=b.forwardRef(i8);function a8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const l8=b.forwardRef(a8);function c8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const u8=b.forwardRef(c8);function d8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const h8=b.forwardRef(d8);function f8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const p8=b.forwardRef(f8);function m8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const g8=b.forwardRef(m8);function y8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const v8=b.forwardRef(y8);function w8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const x8=b.forwardRef(w8);function _8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const b8=b.forwardRef(_8);function E8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const cE=b.forwardRef(E8);function T8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const S8=b.forwardRef(T8);function C8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const I8=b.forwardRef(C8);function R8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Wu=b.forwardRef(R8);function A8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const Dh=b.forwardRef(A8);function N8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const k8=b.forwardRef(N8);function P8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const j8=b.forwardRef(P8);function D8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const YI=b.forwardRef(D8);function L8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const M8=b.forwardRef(L8);function V8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const O8=b.forwardRef(V8);function F8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const XI=b.forwardRef(F8);function U8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const B8=b.forwardRef(U8);function z8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const JI=b.forwardRef(z8),ZI=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,a]=b.useState(null),[l,u]=b.useState(""),[d,p]=b.useState(0),[g,v]=b.useState(0),w=Lr();b.useEffect(()=>{const S=va(Fe,D=>{a(D)});return()=>S()},[]),b.useEffect(()=>{if(!s){p(0);return}const S=_t(Xe(ye,"notifications"),pt("recipientId","==",s.uid),pt("read","==",!1)),D=El(S,j=>{p(j.size)});return()=>D()},[s]),b.useEffect(()=>{if(!s){v(0);return}const S=_t(Xe(ye,"conversations"),pt("participants","array-contains",s.uid)),D=El(S,j=>{let F=0;j.docs.forEach($=>{const H=$.data();H.lastMessage&&H.lastMessage.senderId!==s.uid&&H.lastMessage.read===!1&&F++}),v(F)});return()=>D()},[s]);const T=async()=>{try{await _j(Fe)}catch(S){console.error("Error signing out:",S)}},A=[{name:"Home",path:"/",icon:I8},{name:"Projects",path:"/projects",icon:tu},{name:"Messages",path:"/messages",icon:l8},{name:"Students",path:"/students",icon:B8},{name:"Resources",path:"/resources",icon:KI},{name:"Roadmaps",path:"/roadmaps",icon:Dh}],N=S=>w.pathname===S;return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"fixed top-0 left-0 w-full h-16 bg-white border-b border-gray-200 z-50 transition-all duration-300",children:h.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md",children:[h.jsxs(Ir,{to:"/",className:"shrink-0 flex items-center gap-1",children:[h.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"}),h.jsx("span",{className:"text-xl font-black text-[#0066FF] tracking-tighter hidden sm:block",children:"CollabX"})]}),h.jsxs("div",{className:"relative flex-1 hidden md:block ml-4",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Wu,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:S=>u(S.target.value),className:"block w-full pl-9 pr-3 py-1.5 bg-[#edf3f8] border-transparent rounded-md text-sm transition-all focus:bg-white focus:ring-1 focus:ring-gray-300 focus:w-full border"})]})]}),h.jsxs("div",{className:"hidden lg:flex items-center h-full ml-auto",children:[A.map(S=>h.jsxs(Ir,{to:S.path,className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${N(S.path)?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[h.jsx(S.icon,{className:`h-6 w-6 ${N(S.path)?"text-gray-900":"text-gray-500 group-hover:text-gray-900"}`}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:S.name})]},S.name)),h.jsx("div",{className:"h-8 w-[1px] bg-gray-200 mx-2"}),h.jsxs(Ir,{to:"/messages",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[h.jsx(o8,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Messaging"}),g>0&&h.jsx("span",{className:"absolute top-2 right-6 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:g})]}),h.jsxs(Ir,{to:"/notifications",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[h.jsx(Z7,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Notifications"}),d>0&&h.jsx("span",{className:"absolute top-2 right-5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),s?h.jsxs("div",{className:"relative group ml-4",children:[h.jsxs("button",{className:"flex flex-col items-center justify-center w-16 h-full text-gray-500 hover:text-gray-900 transition-all",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium flex items-center gap-0.5",children:"Me"})]}),h.jsxs("div",{className:"absolute right-0 top-16 w-64 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all py-2 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-lg font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.displayName||"Contributor"}),h.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:s.email})]})]}),h.jsx(Ir,{to:"/profile",className:"mt-3 block w-full text-center py-1 border border-[#0066FF] text-[#0066FF] rounded-full text-sm font-bold hover:bg-blue-50 transition-all",children:"View Profile"})]}),h.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-100",children:"Sign Out"})]})]}):h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Log in"}),h.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Join Now"})]})]}),h.jsx("button",{onClick:()=>e(!t),className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:t?h.jsx(JI,{className:"h-6 w-6"}):h.jsx(X7,{className:"h-6 w-6"})})]})}),h.jsx("div",{className:`fixed inset-0 bg-white z-40 transition-transform duration-300 lg:hidden pt-16 ${t?"translate-x-0":"translate-x-full"}`,children:h.jsxs("div",{className:"p-4 space-y-4",children:[A.map(S=>h.jsxs(Ir,{to:S.path,onClick:()=>e(!1),className:"flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-900 font-medium border border-transparent hover:border-gray-100",children:[h.jsx(S.icon,{className:"h-6 w-6 text-gray-500"}),h.jsx("span",{children:S.name})]},S.name)),!s&&h.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-100",children:[h.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 border border-[#0066FF] text-[#0066FF] font-bold rounded-full",children:"Log in"}),h.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 bg-[#0066FF] text-white font-bold rounded-full",children:"Sign Up"})]})]})}),h.jsx(Cv,{isOpen:n,onClose:()=>r(!1)})]})},$8=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return h.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:h.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[h.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:h.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),h.jsxs(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",h.jsx("br",{}),h.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),h.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),h.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:h.jsxs("div",{className:"relative flex items-center",children:[h.jsx("div",{className:"absolute left-4 text-gray-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),h.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[h.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),h.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),h.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>h.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},W8=()=>{const t=Zn(),[e,n]=b.useState([]),[r,s]=b.useState(null),[a,l]=b.useState(!1),[u,d]=b.useState(!1),[p,g]=b.useState(""),[v,w]=b.useState({title:"",description:"",category:"General",link:""});b.useEffect(()=>{const j=va(Fe,async F=>{if(s(F),F)try{const $=await Dr(nt(ye,"users",F.uid));$.exists()&&l($.data().role==="admin"||$.data().isAdmin===!0)}catch($){console.error("Error checking admin status:",$),l(!1)}else l(!1)});return T(),()=>j()},[]);const T=async()=>{try{const j=Xe(ye,"roadmaps"),F=_t(j,zs("created_at","desc")),H=(await Rn(F)).docs.map(B=>({id:B.id,...B.data()}));n(H)}catch(j){console.error("Error fetching roadmaps:",j)}},A=async j=>{if(j.preventDefault(),!!r)try{await os(Xe(ye,"roadmaps"),{...v,is_official:!0,created_at:tt.now().toDate().toISOString()}),d(!1),w({title:"",description:"",category:"General",link:""}),T()}catch(F){console.error("Error adding roadmap:",F),alert("Failed to add roadmap.")}},N=async(j,F)=>{if(F.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await Hf(nt(ye,"roadmaps",j)),T()}catch($){console.error("Error deleting roadmap:",$),alert("Failed to delete roadmap.")}},S=j=>{j.link&&(j.link.startsWith("http")||j.link.startsWith("https"))?window.open(j.link,"_blank"):(t(`/roadmap/${j.id}`),window.scrollTo(0,0))},D=e.filter(j=>j.title.toLowerCase().includes(p.toLowerCase())||j.description.toLowerCase().includes(p.toLowerCase()));return h.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),h.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),h.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:p,onChange:j=>g(j.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),a&&h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsx("button",{onClick:()=>d(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:D.length===0?h.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):D.map((j,F)=>h.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},onClick:()=>S(j),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[a&&h.jsx("button",{onClick:$=>N(j.id,$),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),h.jsx("div",{className:"flex justify-between items-start mb-6",children:h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:j.title}),h.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:j.description})]},j.id))})]}),u&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),h.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),h.jsx("input",{type:"text",required:!0,value:v.title,onChange:j=>w({...v,title:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{required:!0,value:v.description,onChange:j=>w({...v,description:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),h.jsx("input",{type:"text",placeholder:"https://...",value:v.link,onChange:j=>w({...v,link:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),h.jsxs("div",{className:"flex gap-4 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},eR=async(t,e)=>{try{return(await os(Xe(ye,"projects"),{...e,ownerId:t,members:[t],pendingRequests:[],createdAt:en(),updatedAt:en()})).id}catch(n){throw console.error("Error adding project:",n),n}},q8=async(t,e)=>{try{const n=nt(ye,"projects",t);await ts(n,{...e,updatedAt:en()})}catch(n){throw console.error("Error updating project:",n),n}},H8=async t=>{try{await Hf(nt(ye,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},G8=async t=>{const e=Fe.currentUser;if(!e)throw new Error("Must be logged in to join projects");try{const n=nt(ye,"projects",t);await ts(n,{pendingRequests:YL(e.uid)});const s=(await Dr(n)).data();s&&await os(Xe(ye,"notifications"),{recipientId:s.ownerId,senderId:e.uid,type:"project_request",projectId:t,projectName:s.title,read:!1,createdAt:en()})}catch(n){throw console.error("Error requesting to join project:",n),n}},K8=async()=>{try{const t=_t(Xe(ye,"projects"),zs("createdAt","desc"));return(await Rn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching projects:",t),t}},Q8=async t=>{try{const e=_t(Xe(ye,"projects"),pt("members","array-contains",t),zs("createdAt","desc"));return(await Rn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching user projects:",e),[]}},tR=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=b.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"}),[a,l]=b.useState(!1),[u,d]=b.useState(""),[p,g]=b.useState(!1),v=async w=>{if(w.preventDefault(),!!Fe.currentUser){l(!0),d("");try{await eR(Fe.currentUser.uid,{title:r.title,description:r.description,category:r.category,ownerName:Fe.currentUser.displayName||"Anonymous",ownerAvatar:Fe.currentUser.photoURL||"",githubUrl:r.githubUrl,liveUrl:r.liveUrl,techStack:r.tags.split(",").map(T=>T.trim()),rolesNeeded:r.rolesNeeded.split(",").map(T=>T.trim()),status:"Open",thumbnailUrl:`https://source.unsplash.com/random/800x600?tech,${r.category}`,updatedAt:null}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"})},2e3)}catch(T){console.error("Error submitting project:",T),d("Failed to submit project. Please try again.")}finally{l(!1)}}};return h.jsx(ns,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:h.jsxs("div",{className:"p-6 md:p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-5xl mb-4",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),h.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),h.jsx("input",{type:"text",required:!0,value:r.title,onChange:w=>s({...r,title:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{required:!0,value:r.description,onChange:w=>s({...r,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),h.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:w=>s({...r,githubUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),h.jsx("input",{type:"url",value:r.liveUrl,onChange:w=>s({...r,liveUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{value:r.category,onChange:w=>s({...r,category:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{children:"AI/ML"}),h.jsx("option",{children:"Web Dev"}),h.jsx("option",{children:"Mobile"}),h.jsx("option",{children:"Blockchain"}),h.jsx("option",{children:"Design"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles Needed"}),h.jsx("input",{type:"text",value:r.rolesNeeded,onChange:w=>s({...r,rolesNeeded:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Frontend, Designer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tech Stack (comma separated)"}),h.jsx("input",{type:"text",value:r.tags,onChange:w=>s({...r,tags:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, tailwind, firebase"})]}),u&&h.jsx("p",{className:"text-red-500 text-sm",children:u}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},Y8=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState(!0),[d,p]=b.useState(null),[g,v]=b.useState(!1),[w,T]=b.useState(!1),[A,N]=b.useState(""),[S,D]=b.useState(!1);b.useEffect(()=>{j();const I=va(Fe,R=>{p(R)});return()=>I()},[]);const j=async()=>{try{const I=Xe(ye,"projects"),R=_t(I,zs("created_at","desc")),L=(await Rn(R)).docs.map(V=>({id:V.id,...V.data()}));a(L)}catch(I){console.error("Error fetching projects:",I)}finally{u(!1)}},F=async I=>{if(I.preventDefault(),!!A)try{await os(Xe(ye,"newsletter_subscribers"),{email:A,created_at:tt.now()}),D(!0),N(""),setTimeout(()=>D(!1),3e3)}catch(R){console.error("Error subscribing:",R)}},$=()=>{d?T(!0):v(!0)},H=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],B=s.filter(I=>{const R=t==="All"||I.category===t,P=I.title.toLowerCase().includes(n.toLowerCase())||I.description.toLowerCase().includes(n.toLowerCase())||I.tags.some(L=>L.toLowerCase().includes(n.toLowerCase()));return R&&P});return h.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[h.jsxs("div",{children:[h.jsx(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),h.jsx(xe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),h.jsx(xe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),h.jsxs(xe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:I=>r(I.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),h.jsxs("button",{onClick:$,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsxs("div",{className:"lg:w-3/4",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:H.map(I=>h.jsx("button",{onClick:()=>e(I),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===I?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:I},I))}),l?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:B.map(I=>h.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden",children:[h.jsx("img",{src:I.image_url,alt:I.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-4 left-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:I.category})})]}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("img",{src:I.author_avatar,alt:I.author,className:"w-8 h-8 rounded-full border border-gray-100"}),h.jsx("span",{className:"text-sm font-medium text-gray-600",children:I.author}),h.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(I.created_at).toLocaleDateString()]})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:I.title}),h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:I.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:I.tags.map(R=>h.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",R]},R))}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),I.likes]}),h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),I.comments]})]}),h.jsxs("a",{href:I.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},I.id))}),!l&&B.length===0&&h.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),h.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>h.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${I}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),h.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},I))}),h.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),h.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),h.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),h.jsxs("form",{onSubmit:F,className:"relative z-10",children:[h.jsx("input",{type:"email",placeholder:"Your email",value:A,onChange:I=>N(I.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),h.jsx("button",{type:"submit",disabled:S,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:S?"Subscribed!":"Subscribe"})]})]})]})]})]}),h.jsx(Cv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(tR,{isOpen:w,onClose:()=>T(!1),onSuccess:j})]})},X8=()=>{const t=Zn(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(!1),[u,d]=b.useState(!1),[p,g]=b.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});b.useEffect(()=>{v();const S=va(Fe,async D=>{if(D)try{const j=await Dr(nt(ye,"users",D.uid));j.exists()&&l(j.data().role==="admin"||j.data().isAdmin===!0)}catch(j){console.error("Error checking admin status:",j),l(!1)}else l(!1)});return()=>S()},[]);const v=async()=>{try{const S=Xe(ye,"resources"),D=_t(S),F=(await Rn(D)).docs.map($=>({id:$.id,...$.data()}));F.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(F)}catch(S){console.error("Error fetching resources:",S)}finally{s(!1)}},w=async S=>{if(S.preventDefault(),!(!p.title||!p.description))try{await os(Xe(ye,"resources"),p),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(D){console.error("Error adding resource:",D)}},T=async(S,D)=>{if(D.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await Hf(nt(ye,"resources",S)),v()}catch(j){console.error("Error deleting resource:",j)}},A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},N={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return h.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"container-custom relative z-10",children:[h.jsxs(xe.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&h.jsx("div",{className:"mb-8 flex justify-center",children:h.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&h.jsx(xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:S=>g({...p,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsx("textarea",{placeholder:"Description",value:p.description,onChange:S=>g({...p,description:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:S=>g({...p,icon:S.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),h.jsxs("select",{value:p.color,onChange:S=>g({...p,color:S.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[h.jsx("option",{value:"badge-blue",children:"Blue"}),h.jsx("option",{value:"badge-yellow",children:"Yellow"}),h.jsx("option",{value:"badge-green",children:"Green"}),h.jsx("option",{value:"badge-purple",children:"Purple"}),h.jsx("option",{value:"badge-red",children:"Red"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx(xe.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:A,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(S=>h.jsxs(xe.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:N,whileHover:{scale:1.03},onClick:()=>t(`/resource/${S.id}`),children:[a&&h.jsx("button",{onClick:D=>T(S.id,D),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:S.icon})}),h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:S.title}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:S.description}),h.jsx("div",{className:"mt-auto text-center",children:h.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",h.jsx("span",{children:""})]})})]},S.id))})]})]})},nR=async t=>{const e=Fe.currentUser;if(!e)throw new Error("User not authenticated");const n=[e.uid,t].sort(),r=n.join("_"),s=nt(ye,"conversations",r);return(await Dr(s)).exists()||await qf(s,{id:r,participants:n,createdAt:en(),updatedAt:en(),createdBy:e.uid,isTyping:{}}),r},Xz=async(t,e,n="text",r)=>{const s=Fe.currentUser;if(!s)throw new Error("User not authenticated");const a=Xe(ye,"conversations",t,"messages"),l=nt(ye,"conversations",t);await os(a,{conversationId:t,senderId:s.uid,content:e,type:n,attachments:[],createdAt:en(),read:!1}),await ts(l,{lastMessage:{content:e,senderId:s.uid,createdAt:en(),type:n,read:!1},updatedAt:en()})},Jz=t=>{const e=Fe.currentUser;if(!e)return()=>{};const n=_t(Xe(ye,"conversations"),pt("participants","array-contains",e.uid),zs("updatedAt","desc"));return El(n,r=>{const s=r.docs.map(a=>({id:a.id,...a.data()}));t(s)})},Zz=(t,e)=>{const n=_t(Xe(ye,"conversations",t,"messages"),zs("createdAt","asc"),U0(100));return El(n,r=>{const s=r.docs.map(a=>({id:a.id,...a.data()}));e(s)})},e$=async(t,e)=>{const n=nt(ye,"conversations",t,"messages",e);await ts(n,{read:!0,readAt:en()})},t$=(t,e)=>{const n=_t(Xe(ye,"notifications"),pt("recipientId","==",t),zs("createdAt","desc"),U0(20));return El(n,r=>{const s=r.docs.map(a=>({id:a.id,...a.data()}));e(s)})},n$=async t=>{try{await ts(nt(ye,"notifications",t),{read:!0})}catch(e){console.error("Error marking notification as read:",e)}},rR=async t=>{try{await os(Xe(ye,"notifications"),{...t,read:!1,createdAt:en()})}catch(e){console.error("Error creating notification:",e)}},uE=20,sR=async(t,e)=>{const n=Fe.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=nt(ye,"userActivity",`${n.uid}_${r}`),a=await Dr(s);if(a.exists()&&a.data().connectionRequestsSent>=uE)throw new Error(`Daily limit of ${uE} requests reached.`);const l=nt(ye,"blocks",`${t}_${n.uid}`);if((await Dr(l)).exists())throw new Error("This user has blocked you.");const d=Xe(ye,"connections"),p=_t(d,pt("requesterId","==",n.uid),pt("recipientId","==",t));if(!(await Rn(p)).empty)throw new Error("Connection request already exists.");await os(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:en(),updatedAt:en()}),await rR({recipientId:t,senderId:n.uid,senderName:n.displayName||"User",senderAvatar:n.photoURL||void 0,type:"connection_request",message:"sent you a connection request."}),await qf(s,{userId:n.uid,date:r,connectionRequestsSent:Xg(1)},{merge:!0})},J8=async(t,e)=>{const n=nt(ye,"connections",t);await ts(n,{status:"accepted",updatedAt:en()});const r=Fe.currentUser;r&&await rR({recipientId:e,senderId:r.uid,senderName:r.displayName||"User",senderAvatar:r.photoURL||void 0,type:"connection_accepted",message:"accepted your connection request."})},Z8=async t=>{const e=nt(ye,"connections",t);await ts(e,{status:"ignored",updatedAt:en()})},eU=async t=>{const e=Fe.currentUser;if(!e)return"none";const n=Xe(ye,"connections"),r=_t(n,pt("requesterId","==",e.uid),pt("recipientId","==",t)),s=await Rn(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const a=_t(n,pt("requesterId","==",t),pt("recipientId","==",e.uid)),l=await Rn(a);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},tU=async()=>{const t=Fe.currentUser;if(!t)return[];const e=Xe(ye,"connections"),n=_t(e,pt("recipientId","==",t.uid),pt("status","==","pending"),zs("createdAt","desc"));return(await Rn(n)).docs.map(s=>({id:s.id,...s.data()}))},nU=async t=>{const e=Xe(ye,"connections"),n=_t(e,pt("requesterId","==",t),pt("status","==","accepted")),r=_t(e,pt("recipientId","==",t),pt("status","==","accepted")),[s,a]=await Promise.all([W_(n),W_(r)]);return s.data().count+a.data().count},iR=({student:t,onClick:e})=>{const[n,r]=b.useState("none"),[s,a]=b.useState(!1),l=Fe.currentUser,u=Zn(),d=async w=>{if(w.stopPropagation(),!!l)try{const T=await nR(t.uid);u(`/messages?conversationId=${T}`)}catch(T){console.error("Error starting conversation:",T)}};b.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const T=await eU(t.uid);r(T)}catch(T){console.error("Error fetching status:",T)}})()},[t.uid,l]);const p=async w=>{if(w.stopPropagation(),!!l){a(!0);try{await sR(t.uid),r("pending")}catch(T){const A=T;console.error("Error connecting:",A),alert(A.message)}finally{a(!1)}}},g=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},v=n==="pending"||n==="connected"||t.uid===l?.uid;return h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[h.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:h.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:h.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:h.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),h.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[h.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((w,T)=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:w},T)),t.skills?.length>3&&h.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),h.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[h.jsx("button",{onClick:p,disabled:v||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:g()}),h.jsx("button",{onClick:d,className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"Message"})]})]})]})},rU=()=>{const t=Zn(),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{try{const s=Xe(ye,"users"),a=_t(s,U0(8)),u=(await Rn(a)).docs.map(d=>{const p=d.data();return{uid:d.id,...p,name:p.name||p.full_name||"Anonymous",avatar:p.avatar||p.avatar_url||"",institution:p.institution||p.university||"University",skills:p.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),h.jsx("section",{id:"community",className:"py-24 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[h.jsxs("div",{className:"max-w-2xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),h.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?h.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>h.jsx(iR,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})};var xy=function(t,e){return xy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xy(t,e)};function sU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Yt=function(){return Yt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yt.apply(this,arguments)};var hg,dE;function iU(){if(dE)return hg;dE=1;var t=!1,e,n,r,s,a,l,u,d,p,g,v,w,T,A,N;function S(){if(!t){t=!0;var j=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),$=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(w=/\b(iPhone|iP[ao]d)/.exec(j),T=/\b(iP[ao]d)/.exec(j),g=/Android/i.exec(j),A=/FBAN\/\w+;/i.exec(j),N=/Mobile/i.exec(j),v=!!/Win64/.exec(j),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var H=/(?:Trident\/(\d+.\d+))/.exec(j);l=H?parseFloat(H[1])+4:e,n=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,s=F[4]?parseFloat(F[4]):NaN,s?(F=/(?:Chrome\/(\d+\.\d+))/.exec(j),a=F&&F[1]?parseFloat(F[1]):NaN):a=NaN}else e=n=r=a=s=NaN;if($){if($[1]){var B=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=B?parseFloat(B[1].replace("_",".")):!0}else u=!1;d=!!$[2],p=!!$[3]}else u=d=p=!1}}var D={ie:function(){return S()||e},ieCompatibilityMode:function(){return S()||l>e},ie64:function(){return D.ie()&&v},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return D.webkit()},chrome:function(){return S()||a},windows:function(){return S()||d},osx:function(){return S()||u},linux:function(){return S()||p},iphone:function(){return S()||w},mobile:function(){return S()||w||T||g||N},nativeApp:function(){return S()||A},android:function(){return S()||g},ipad:function(){return S()||T}};return hg=D,hg}var fg,hE;function oU(){if(hE)return fg;hE=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return fg=e,fg}var pg,fE;function aU(){if(fE)return pg;fE=1;var t=oU(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var u=document.createElement("div");u.setAttribute(a,"return;"),l=typeof u[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return pg=n,pg}var mg,pE;function lU(){if(pE)return mg;pE=1;var t=iU(),e=aU(),n=10,r=40,s=800;function a(l){var u=0,d=0,p=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),p=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||g)&&l.deltaMode&&(l.deltaMode==1?(p*=r,g*=r):(p*=s,g*=s)),p&&!u&&(u=p<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:p,pixelY:g}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},mg=a,mg}var gg,mE;function cU(){return mE||(mE=1,gg=lU()),gg}var uU=cU();const dU=ME(uU);function hU(t,e,n,r,s,a){a===void 0&&(a=0);var l=Cl(t,e,a),u=l.width,d=l.height,p=Math.min(u,n),g=Math.min(d,r);return p>g*s?{width:g*s,height:g}:{width:p,height:p/s}}function fU(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Dc(t,e,n,r,s){s===void 0&&(s=0);var a=Cl(e.width,e.height,s),l=a.width,u=a.height;return{x:gE(t.x,l,n.width,r),y:gE(t.y,u,n.height,r)}}function gE(t,e,n,r){var s=e*r/2-n/2;return Zf(t,-s,s)}function yE(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function vE(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function pU(t,e,n,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var u=l?mU:gU,d=Cl(e.width,e.height,a),p=Cl(e.naturalWidth,e.naturalHeight,a),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(p.width,g.width*p.width/100)),w=Math.round(u(p.height,g.height*p.height/100)),T=p.width>=p.height*r,A=T?{width:Math.round(w*r),height:w}:{width:v,height:Math.round(v/r)},N=Yt(Yt({},A),{x:Math.round(u(p.width-A.width,g.x*p.width/100)),y:Math.round(u(p.height-A.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:N}}function mU(t,e){return Math.min(t,Math.max(0,e))}function gU(t,e){return e}function yU(t,e,n,r,s,a){var l=Cl(e.width,e.height,n),u=Zf(r.width/l.width*(100/t.width),s,a),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function vU(t,e,n){var r=fU(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function wU(t,e,n,r,s,a){n===void 0&&(n=0);var l=Cl(e.naturalWidth,e.naturalHeight,n),u=Zf(vU(t,e,r),s,a),d=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:p,zoom:u}}function wE(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function xU(t){return t*Math.PI/180}function Cl(t,e,n){var r=xU(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Zf(t,e,n){return Math.min(Math.max(t,e),n)}function mh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var _U=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,bU=1,EU=3,TU=1,SU=(function(t){sU(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=yU(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,l=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=wU(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=u.crop,l=u.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,a,l,u,d,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,w=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=p.offsetWidth<v||p.offsetHeight<w,A=v/w,N=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":N=g>A?{width:n.containerRect.height*A,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/A};break;case"horizontal-cover":N={width:n.containerRect.width,height:n.containerRect.width/A};break;case"vertical-cover":N={width:n.containerRect.height*A,height:n.containerRect.height};break}else N={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Yt(Yt({},N),{naturalWidth:v,naturalHeight:w}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:hU(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,a,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Yt({},n.props.crop),(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s)},n.onDrag=function(r){var s=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||a===void 0)){var l=s-n.dragStartPosition.x,u=a-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},p=n.props.restrictPosition?Dc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),a=dU(r).pixelY,l=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,a=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(a+u.y)/d}},n.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=Zf(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),w={x:v.x*p-g.x,y:v.y*p-g.y},T=n.props.restrictPosition?Dc(w,n.mediaSize,n.state.cropSize,p,n.props.rotation):w;n.props.onCropChange(T)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Dc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return pU(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var a=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;a={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var p=n.props.restrictPosition?Dc(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.previousCropSize=n.state.cropSize,n.props.onCropChange(p),n.emitCropData()}},n.onKeyDown=function(r){var s,a,l=n.props,u=l.crop,d=l.onCropChange,p=l.keyboardStep,g=l.zoom,v=l.rotation,w=p;if(n.state.cropSize){r.shiftKey&&(w*=.2);var T=Yt({},u);switch(r.key){case"ArrowUp":T.y-=w,r.preventDefault();break;case"ArrowDown":T.y+=w,r.preventDefault();break;case"ArrowLeft":T.x-=w,r.preventDefault();break;case"ArrowRight":T.x+=w,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=Dc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s),d(T)}},n.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(s=n.props).onInteractionEnd)===null||a===void 0||a.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=_U,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,a,l,u,d,p,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,g=d/p;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=yE(r,s),this.lastPinchRotation=vE(r,s),this.onDragStart(wE(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),a=e.getTouchPoint(n.touches[1]),l=wE(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=yE(s,a),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=vE(s,a),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},e.prototype.render=function(){var n=this,r,s=this.props,a=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,p=s.transform,g=s.crop,v=g.x,w=g.y,T=s.rotation,A=s.zoom,N=s.cropShape,S=s.showGrid,D=s.roundCropAreaPixels,j=s.style,F=j.containerStyle,$=j.cropAreaStyle,H=j.mediaStyle,B=s.classes,I=B.containerClassName,R=B.cropAreaClassName,P=B.mediaClassName,L=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(q){return n.containerRef=q},"data-testid":"container",style:F,className:mh("reactEasyCrop_Container",I)},a?b.createElement("img",Yt({alt:"",className:mh("reactEasyCrop_Image",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},u,{src:a,ref:this.imageRef,style:Yt(Yt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(A,")")}),onLoad:this.onMediaLoad})):l&&b.createElement("video",Yt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:mh("reactEasyCrop_Video",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Yt(Yt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(A,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(V){return b.createElement("source",Yt({key:V.src},V))})),this.state.cropSize&&b.createElement("div",Yt({ref:this.cropperRef,style:Yt(Yt({},$),{width:D?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:D?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:mh("reactEasyCrop_CropArea",N==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",R)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:EU,minZoom:bU,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:TU},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(b.Component);const CU=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=b.useState(null),[a,l]=b.useState({x:0,y:0}),[u,d]=b.useState(1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[T,A]=b.useState(!1),N=b.useCallback(($,H)=>{g(H)},[]),S=async $=>{if($.target.files&&$.target.files.length>0){const H=$.target.files[0],B=new FileReader;B.addEventListener("load",()=>{s(B.result),A(!0)}),B.readAsDataURL(H)}},D=$=>new Promise((H,B)=>{const I=new Image;I.addEventListener("load",()=>H(I)),I.addEventListener("error",R=>B(R)),I.setAttribute("crossOrigin","anonymous"),I.src=$}),j=async($,H)=>{const B=await D($),I=document.createElement("canvas"),R=I.getContext("2d");if(!R)throw new Error("No 2d context");return I.width=H.width,I.height=H.height,R.drawImage(B,H.x,H.y,H.width,H.height,0,0,H.width,H.height),new Promise((P,L)=>{I.toBlob(V=>{if(!V){L(new Error("Canvas is empty"));return}P(V)},"image/jpeg")})},F=async()=>{if(!(!r||!p)){w(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const $=await j(r,p);console.log("Image cropped successfully");const H=`avatars/${t}_${Date.now()}.jpg`,B=oV(hV,H);console.log("Uploading to Storage:",H);const I=await sV(B,$);console.log("Upload complete");const R=await iV(I.ref);console.log("Download URL obtained:",R),console.log("Updating Firestore..."),await ts(nt(ye,"users",t),{avatar:R}),console.log("Firestore updated"),n(R),A(!1),s(null)}catch($){console.error("Detailed upload error:",$),alert("Failed to save image. Please check your internet connection or try again.")}finally{w(!1)}}};return h.jsxs("div",{className:"relative group",children:[h.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[h.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),h.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"}),h.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),h.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),h.jsx(ns,{children:T&&r&&h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),h.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),h.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),h.jsx("div",{className:"relative h-96 bg-gray-900",children:h.jsx(SU,{image:r,crop:a,zoom:u,aspect:1,onCropChange:l,onCropComplete:N,onZoomChange:d})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),h.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:$=>d(Number($.target.value)),className:"flex-grow accent-[#0066FF]"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),h.jsx("button",{onClick:F,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function IU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ul(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Iv(t){return"nodeType"in t}function er(t){var e,n;return t?Ul(t)?t:Iv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Rv(t){const{Document:e}=er(t);return t instanceof e}function qu(t){return Ul(t)?!1:t instanceof er(t).HTMLElement}function oR(t){return t instanceof er(t).SVGElement}function Bl(t){return t?Ul(t)?t.document:Iv(t)?Rv(t)?t:qu(t)||oR(t)?t.ownerDocument:document:document:document}const Bs=ep?b.useLayoutEffect:b.useEffect;function Av(t){const e=b.useRef(t);return Bs(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function RU(){const t=b.useRef(null),e=b.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Eu(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Bs(()=>{n.current!==t&&(n.current=t)},e),n}function Hu(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function uf(t){const e=Av(t),n=b.useRef(null),r=b.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function _y(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let yg={};function Gu(t,e){return b.useMemo(()=>{if(e)return e;const n=yg[t]==null?0:yg[t]+1;return yg[t]=n,t+"-"+n},[t,e])}function aR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[d,p]of u){const g=a[d];g!=null&&(a[d]=g+t*p)}return a},{...e})}}const ml=aR(1),Tu=aR(-1);function AU(t){return"clientX"in t&&"clientY"in t}function Nv(t){if(!t)return!1;const{KeyboardEvent:e}=er(t.target);return e&&t instanceof e}function NU(t){if(!t)return!1;const{TouchEvent:e}=er(t.target);return e&&t instanceof e}function by(t){if(NU(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return AU(t)?{x:t.clientX,y:t.clientY}:null}const Su=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Su.Translate.toString(t),Su.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),xE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kU(t){return t.matches(xE)?t:t.querySelector(xE)}const PU={display:"none"};function jU(t){let{id:e,value:n}=t;return Zt.createElement("div",{id:e,style:PU},n)}function DU(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Zt.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function LU(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const lR=b.createContext(null);function MU(t){const e=b.useContext(lR);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function VU(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:s,event:a}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[t]),e]}const OU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},FU={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function UU(t){let{announcements:e=FU,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=OU}=t;const{announce:a,announcement:l}=LU(),u=Gu("DndLiveRegion"),[d,p]=b.useState(!1);if(b.useEffect(()=>{p(!0)},[]),MU(b.useMemo(()=>({onDragStart(v){let{active:w}=v;a(e.onDragStart({active:w}))},onDragMove(v){let{active:w,over:T}=v;e.onDragMove&&a(e.onDragMove({active:w,over:T}))},onDragOver(v){let{active:w,over:T}=v;a(e.onDragOver({active:w,over:T}))},onDragEnd(v){let{active:w,over:T}=v;a(e.onDragEnd({active:w,over:T}))},onDragCancel(v){let{active:w,over:T}=v;a(e.onDragCancel({active:w,over:T}))}}),[a,e])),!d)return null;const g=Zt.createElement(Zt.Fragment,null,Zt.createElement(jU,{id:r,value:s.draggable}),Zt.createElement(DU,{id:u,announcement:l}));return n?Lc.createPortal(g,n):g}var $t;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function df(){}function _E(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function BU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const rs=Object.freeze({x:0,y:0});function cR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function uR(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function zU(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function bE(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function dR(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function EE(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const $U=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=EE(e,e.left,e.top),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=cR(EE(d),s);a.push({id:u,data:{droppableContainer:l,value:p}})}}return a.sort(uR)},WU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=bE(e),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=bE(d),g=s.reduce((w,T,A)=>w+cR(p[A],T),0),v=Number((g/4).toFixed(4));a.push({id:u,data:{droppableContainer:l,value:v}})}}return a.sort(uR)};function qU(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=a-n;if(r<s&&n<a){const d=e.width*e.height,p=t.width*t.height,g=l*u,v=g/(d+p-g);return Number(v.toFixed(4))}return 0}const HU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=qU(u,e);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(zU)};function GU(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function hR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:rs}function KU(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const QU=KU(1);function YU(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function XU(t,e,n){const r=YU(e);if(!r)return t;const{scaleX:s,scaleY:a,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),p=t.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=a?t.height/a:t.height;return{width:g,height:v,top:p,right:d+g,bottom:p+v,left:d}}const JU={ignoreTransform:!1};function zl(t,e){e===void 0&&(e=JU);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=er(t).getComputedStyle(t);p&&(n=XU(n,p,g))}const{top:r,left:s,width:a,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:u,right:d}}function TE(t){return zl(t,{ignoreTransform:!0})}function ZU(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function eB(t,e){return e===void 0&&(e=er(t).getComputedStyle(t)),e.position==="fixed"}function tB(t,e){e===void 0&&(e=er(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?n.test(a):!1})}function tp(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Rv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!qu(s)||oR(s)||n.includes(s))return n;const a=er(t).getComputedStyle(s);return s!==t&&tB(s,a)&&n.push(s),eB(s,a)?n:r(s.parentNode)}return t?r(t):n}function fR(t){const[e]=tp(t,1);return e??null}function vg(t){return!ep||!t?null:Ul(t)?t:Iv(t)?Rv(t)||t===Bl(t).scrollingElement?window:qu(t)?t:null:null}function pR(t){return Ul(t)?t.scrollX:t.scrollLeft}function mR(t){return Ul(t)?t.scrollY:t.scrollTop}function Ey(t){return{x:pR(t),y:mR(t)}}var Jt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Jt||(Jt={}));function gR(t){return!ep||!t?!1:t===document.scrollingElement}function yR(t){const e={x:0,y:0},n=gR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const nB={x:.2,y:.2};function rB(t,e,n,r,s){let{top:a,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=nB);const{isTop:p,isBottom:g,isLeft:v,isRight:w}=yR(t),T={x:0,y:0},A={x:0,y:0},N={height:e.height*s.y,width:e.width*s.x};return!p&&a<=e.top+N.height?(T.y=Jt.Backward,A.y=r*Math.abs((e.top+N.height-a)/N.height)):!g&&d>=e.bottom-N.height&&(T.y=Jt.Forward,A.y=r*Math.abs((e.bottom-N.height-d)/N.height)),!w&&u>=e.right-N.width?(T.x=Jt.Forward,A.x=r*Math.abs((e.right-N.width-u)/N.width)):!v&&l<=e.left+N.width&&(T.x=Jt.Backward,A.x=r*Math.abs((e.left+N.width-l)/N.width)),{direction:T,speed:A}}function sB(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function vR(t){return t.reduce((e,n)=>ml(e,Ey(n)),rs)}function iB(t){return t.reduce((e,n)=>e+pR(n),0)}function oB(t){return t.reduce((e,n)=>e+mR(n),0)}function aB(t,e){if(e===void 0&&(e=zl),!t)return;const{top:n,left:r,bottom:s,right:a}=e(t);fR(t)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const lB=[["x",["left","right"],iB],["y",["top","bottom"],oB]];class kv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=tp(n),s=vR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,u]of lB)for(const d of l)Object.defineProperty(this,d,{get:()=>{const p=u(r),g=s[a]-p;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function cB(t){const{EventTarget:e}=er(t);return t instanceof e?t:Bl(t)}function wg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Cr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Cr||(Cr={}));function SE(t){t.preventDefault()}function uB(t){t.stopPropagation()}var qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(qe||(qe={}));const wR={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},dB=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case qe.Right:return{...n,x:n.x+25};case qe.Left:return{...n,x:n.x-25};case qe.Down:return{...n,y:n.y+25};case qe.Up:return{...n,y:n.y-25}}};class Pv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new nu(Bl(n)),this.windowListeners=new nu(er(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Cr.Resize,this.handleCancel),this.windowListeners.add(Cr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Cr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&aB(r),n(rs)}handleKeyDown(e){if(Nv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=wR,coordinateGetter:l=dB,scrollBehavior:u="smooth"}=s,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:rs;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const w=Tu(v,g),T={x:0,y:0},{scrollableAncestors:A}=r.current;for(const N of A){const S=e.code,{isTop:D,isRight:j,isLeft:F,isBottom:$,maxScroll:H,minScroll:B}=yR(N),I=sB(N),R={x:Math.min(S===qe.Right?I.right-I.width/2:I.right,Math.max(S===qe.Right?I.left:I.left+I.width/2,v.x)),y:Math.min(S===qe.Down?I.bottom-I.height/2:I.bottom,Math.max(S===qe.Down?I.top:I.top+I.height/2,v.y))},P=S===qe.Right&&!j||S===qe.Left&&!F,L=S===qe.Down&&!$||S===qe.Up&&!D;if(P&&R.x!==v.x){const V=N.scrollLeft+w.x,q=S===qe.Right&&V<=H.x||S===qe.Left&&V>=B.x;if(q&&!w.y){N.scrollTo({left:V,behavior:u});return}q?T.x=N.scrollLeft-V:T.x=S===qe.Right?N.scrollLeft-H.x:N.scrollLeft-B.x,T.x&&N.scrollBy({left:-T.x,behavior:u});break}else if(L&&R.y!==v.y){const V=N.scrollTop+w.y,q=S===qe.Down&&V<=H.y||S===qe.Up&&V>=B.y;if(q&&!w.x){N.scrollTo({top:V,behavior:u});return}q?T.y=N.scrollTop-V:T.y=S===qe.Down?N.scrollTop-H.y:N.scrollTop-B.y,T.y&&N.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,ml(Tu(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=wR,onActivation:s}=e,{active:a}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function CE(t){return!!(t&&"distance"in t)}function IE(t){return!!(t&&"delay"in t)}class jv{constructor(e,n,r){var s;r===void 0&&(r=cB(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:l}=a;this.props=e,this.events=n,this.document=Bl(l),this.documentListeners=new nu(this.document),this.listeners=new nu(r),this.windowListeners=new nu(er(l)),this.initialCoordinates=(s=by(a))!=null?s:rs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Cr.Resize,this.handleCancel),this.windowListeners.add(Cr.DragStart,SE),this.windowListeners.add(Cr.VisibilityChange,this.handleCancel),this.windowListeners.add(Cr.ContextMenu,SE),this.documentListeners.add(Cr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(CE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Cr.Click,uB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Cr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const d=(n=by(e))!=null?n:rs,p=Tu(s,d);if(!r&&u){if(CE(u)){if(u.tolerance!=null&&wg(p,u.tolerance))return this.handleCancel();if(wg(p,u.distance))return this.handleStart()}if(IE(u)&&wg(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Dv extends jv{constructor(e){const{event:n}=e,r=Bl(n.target);super(e,hB,r)}}Dv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const fB={move:{name:"mousemove"},end:{name:"mouseup"}};var Ty;(function(t){t[t.RightClick=2]="RightClick"})(Ty||(Ty={}));class pB extends jv{constructor(e){super(e,fB,Bl(e.event.target))}}pB.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Ty.RightClick?!1:(r?.({event:n}),!0)}}];const xg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mB extends jv{constructor(e){super(e,xg)}static setup(){return window.addEventListener(xg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(xg.move.name,e)};function e(){}}}mB.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var ru;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ru||(ru={}));var hf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(hf||(hf={}));function gB(t){let{acceleration:e,activator:n=ru.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=hf.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:w}=t;const T=vB({delta:v,disabled:!a}),[A,N]=RU(),S=b.useRef({x:0,y:0}),D=b.useRef({x:0,y:0}),j=b.useMemo(()=>{switch(n){case ru.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ru.DraggableRect:return s}},[n,s,d]),F=b.useRef(null),$=b.useCallback(()=>{const B=F.current;if(!B)return;const I=S.current.x*D.current.x,R=S.current.y*D.current.y;B.scrollBy(I,R)},[]),H=b.useMemo(()=>u===hf.TreeOrder?[...p].reverse():p,[u,p]);b.useEffect(()=>{if(!a||!p.length||!j){N();return}for(const B of H){if(r?.(B)===!1)continue;const I=p.indexOf(B),R=g[I];if(!R)continue;const{direction:P,speed:L}=rB(B,R,j,e,w);for(const V of["x","y"])T[V][P[V]]||(L[V]=0,P[V]=0);if(L.x>0||L.y>0){N(),F.current=B,A($,l),S.current=L,D.current=P;return}}S.current={x:0,y:0},D.current={x:0,y:0},N()},[e,$,r,N,a,l,JSON.stringify(j),JSON.stringify(T),A,p,H,g,JSON.stringify(w)])}const yB={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function vB(t){let{delta:e,disabled:n}=t;const r=_y(e);return Hu(s=>{if(n||!r||!s)return yB;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Jt.Backward]:s.x[Jt.Backward]||a.x===-1,[Jt.Forward]:s.x[Jt.Forward]||a.x===1},y:{[Jt.Backward]:s.y[Jt.Backward]||a.y===-1,[Jt.Forward]:s.y[Jt.Forward]||a.y===1}}},[n,e,r])}function wB(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Hu(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function xB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...a]},[]),[t,e])}var Cu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Cu||(Cu={}));var Sy;(function(t){t.Optimized="optimized"})(Sy||(Sy={}));const RE=new Map;function _B(t,e){let{dragging:n,dependencies:r,config:s}=e;const[a,l]=b.useState(null),{frequency:u,measure:d,strategy:p}=s,g=b.useRef(t),v=S(),w=Eu(v),T=b.useCallback(function(D){D===void 0&&(D=[]),!w.current&&l(j=>j===null?D:j.concat(D.filter(F=>!j.includes(F))))},[w]),A=b.useRef(null),N=Hu(D=>{if(v&&!n)return RE;if(!D||D===RE||g.current!==t||a!=null){const j=new Map;for(let F of t){if(!F)continue;if(a&&a.length>0&&!a.includes(F.id)&&F.rect.current){j.set(F.id,F.rect.current);continue}const $=F.node.current,H=$?new kv(d($),$):null;F.rect.current=H,H&&j.set(F.id,H)}return j}return D},[t,a,n,v,d]);return b.useEffect(()=>{g.current=t},[t]),b.useEffect(()=>{v||T()},[n,v]),b.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),b.useEffect(()=>{v||typeof u!="number"||A.current!==null||(A.current=setTimeout(()=>{T(),A.current=null},u))},[u,v,T,...r]),{droppableRects:N,measureDroppableContainers:T,measuringScheduled:a!=null};function S(){switch(p){case Cu.Always:return!1;case Cu.BeforeDragging:return n;default:return!n}}}function xR(t,e){return Hu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function bB(t,e){return xR(t,e)}function EB(t){let{callback:e,disabled:n}=t;const r=Av(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function np(t){let{callback:e,disabled:n}=t;const r=Av(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function TB(t){return new kv(zl(t),t)}function AE(t,e,n){e===void 0&&(e=TB);const[r,s]=b.useState(null);function a(){s(d=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=d??n)!=null?p:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=EB({callback(d){if(t)for(const p of d){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){a();break}}}}),u=np({callback:a});return Bs(()=>{a(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function SB(t){const e=xR(t);return hR(t,e)}const NE=[];function CB(t){const e=b.useRef(t),n=Hu(r=>t?r&&r!==NE&&t&&e.current&&t.parentNode===e.current.parentNode?r:tp(t):NE,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function IB(t){const[e,n]=b.useState(null),r=b.useRef(t),s=b.useCallback(a=>{const l=vg(a.target);l&&n(u=>u?(u.set(l,Ey(l)),new Map(u)):null)},[]);return b.useEffect(()=>{const a=r.current;if(t!==a){l(a);const u=t.map(d=>{const p=vg(d);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,Ey(p)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(a)};function l(u){u.forEach(d=>{const p=vg(d);p?.removeEventListener("scroll",s)})}},[s,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,l)=>ml(a,l),rs):vR(t):rs,[t,e])}function kE(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==rs;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Tu(t,n.current):rs}function RB(t){b.useEffect(()=>{if(!ep)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function AB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,e)},n},{}),[t,e])}function _R(t){return b.useMemo(()=>t?ZU(t):null,[t])}const PE=[];function NB(t,e){e===void 0&&(e=zl);const[n]=t,r=_R(n?er(n):null),[s,a]=b.useState(PE);function l(){a(()=>t.length?t.map(d=>gR(d)?r:new kv(e(d),d)):PE)}const u=np({callback:l});return Bs(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function kB(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qu(e)?e:t}function PB(t){let{measure:e}=t;const[n,r]=b.useState(null),s=b.useCallback(p=>{for(const{target:g}of p)if(qu(g)){r(v=>{const w=e(g);return v?{...v,width:w.width,height:w.height}:w});break}},[e]),a=np({callback:s}),l=b.useCallback(p=>{const g=kB(p);a?.disconnect(),g&&a?.observe(g),r(g?e(g):null)},[e,a]),[u,d]=uf(l);return b.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const jB=[{sensor:Dv,options:{}},{sensor:Pv,options:{}}],DB={current:{}},Lh={draggable:{measure:TE},droppable:{measure:TE,strategy:Cu.WhileDragging,frequency:Sy.Optimized},dragOverlay:{measure:zl}};class su extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const LB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new su,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:df},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Lh,measureDroppableContainers:df,windowRect:null,measuringScheduled:!1},MB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:df,draggableNodes:new Map,over:null,measureDroppableContainers:df},rp=b.createContext(MB),bR=b.createContext(LB);function VB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new su}}}function OB(t,e){switch(e.type){case $t.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case $t.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new su(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case $t.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new su(t.droppable.containers);return l.set(n,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case $t.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new su(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function FB(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=b.useContext(rp),a=_y(r),l=_y(n?.id);return b.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!Nv(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:p}=u;if(!d.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[d.current,p.current]){if(!g)continue;const v=kU(g);if(v){v.focus();break}}})}},[r,e,s,l,a]),null}function UB(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),n):n}function BB(t){return b.useMemo(()=>({draggable:{...Lh.draggable,...t?.draggable},droppable:{...Lh.droppable,...t?.droppable},dragOverlay:{...Lh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function zB(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const a=b.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Bs(()=>{if(!l&&!u||!e){a.current=!1;return}if(a.current||!r)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=hR(g,r);if(l||(v.x=0),u||(v.y=0),a.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=fR(p);w&&w.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const ER=b.createContext({...rs,scaleX:1,scaleY:1});var Ki;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ki||(Ki={}));const $B=b.memo(function(e){var n,r,s,a;let{id:l,accessibility:u,autoScroll:d=!0,children:p,sensors:g=jB,collisionDetection:v=HU,measuring:w,modifiers:T,...A}=e;const N=b.useReducer(OB,void 0,VB),[S,D]=N,[j,F]=VU(),[$,H]=b.useState(Ki.Uninitialized),B=$===Ki.Initialized,{draggable:{active:I,nodes:R,translate:P},droppable:{containers:L}}=S,V=I!=null?R.get(I):null,q=b.useRef({initial:null,translated:null}),M=b.useMemo(()=>{var Ve;return I!=null?{id:I,data:(Ve=V?.data)!=null?Ve:DB,rect:q}:null},[I,V]),ke=b.useRef(null),[Je,dt]=b.useState(null),[ge,se]=b.useState(null),le=Eu(A,Object.values(A)),Z=Gu("DndDescribedBy",l),U=b.useMemo(()=>L.getEnabled(),[L]),J=BB(w),{droppableRects:we,measureDroppableContainers:_e,measuringScheduled:Pe}=_B(U,{dragging:B,dependencies:[P.x,P.y],config:J.droppable}),Te=wB(R,I),Ue=b.useMemo(()=>ge?by(ge):null,[ge]),je=Ur(),Me=bB(Te,J.draggable.measure);zB({activeNode:I!=null?R.get(I):null,config:je.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const Ie=AE(Te,J.draggable.measure,Me),gr=AE(Te?Te.parentElement:null),pn=b.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:we,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),An=L.getNodeFor((n=pn.current.over)==null?void 0:n.id),mn=PB({measure:J.dragOverlay.measure}),Vr=(r=mn.nodeRef.current)!=null?r:Te,tr=B?(s=mn.rect)!=null?s:Ie:null,as=!!(mn.nodeRef.current&&mn.rect),xi=SB(as?null:Ie),ht=_R(Vr?er(Vr):null),Ze=CB(B?An??Te:null),gn=NB(Ze),ls=UB(T,{transform:{x:P.x-xi.x,y:P.y-xi.y,scaleX:1,scaleY:1},activatorEvent:ge,active:M,activeNodeRect:Ie,containerNodeRect:gr,draggingNodeRect:tr,over:pn.current.over,overlayNodeRect:mn.rect,scrollableAncestors:Ze,scrollableAncestorRects:gn,windowRect:ht}),_i=Ue?ml(Ue,P):null,bo=IB(Ze),cs=kE(bo),Eo=kE(bo,[Ie]),nr=ml(ls,cs),Nn=tr?QU(tr,ls):null,us=M&&Nn?v({active:M,collisionRect:Nn,droppableRects:we,droppableContainers:U,pointerCoordinates:_i}):null,ds=dR(us,"id"),[tn,To]=b.useState(null),hs=as?ls:ml(ls,Eo),bi=GU(hs,(a=tn?.rect)!=null?a:null,Ie),$s=b.useRef(null),Fn=b.useCallback((Ve,Ft)=>{let{sensor:bt,options:nn}=Ft;if(ke.current==null)return;const rn=R.get(ke.current);if(!rn)return;const qt=Ve.nativeEvent,Rt=new bt({active:ke.current,activeNode:rn,event:qt,options:nn,context:pn,onAbort(at){if(!R.get(at))return;const{onDragAbort:Ut}=le.current,Un={id:at};Ut?.(Un),j({type:"onDragAbort",event:Un})},onPending(at,sn,Ut,Un){if(!R.get(at))return;const{onDragPending:yn}=le.current,Pn={id:at,constraint:sn,initialCoordinates:Ut,offset:Un};yn?.(Pn),j({type:"onDragPending",event:Pn})},onStart(at){const sn=ke.current;if(sn==null)return;const Ut=R.get(sn);if(!Ut)return;const{onDragStart:Un}=le.current,kn={activatorEvent:qt,active:{id:sn,data:Ut.data,rect:q}};Lc.unstable_batchedUpdates(()=>{Un?.(kn),H(Ki.Initializing),D({type:$t.DragStart,initialCoordinates:at,active:sn}),j({type:"onDragStart",event:kn}),dt($s.current),se(qt)})},onMove(at){D({type:$t.DragMove,coordinates:at})},onEnd:Br($t.DragEnd),onCancel:Br($t.DragCancel)});$s.current=Rt;function Br(at){return async function(){const{active:Ut,collisions:Un,over:kn,scrollAdjustedTranslate:yn}=pn.current;let Pn=null;if(Ut&&yn){const{cancelDrop:Ht}=le.current;Pn={activatorEvent:qt,active:Ut,collisions:Un,delta:yn,over:kn},at===$t.DragEnd&&typeof Ht=="function"&&await Promise.resolve(Ht(Pn))&&(at=$t.DragCancel)}ke.current=null,Lc.unstable_batchedUpdates(()=>{D({type:at}),H(Ki.Uninitialized),To(null),dt(null),se(null),$s.current=null;const Ht=at===$t.DragEnd?"onDragEnd":"onDragCancel";if(Pn){const Si=le.current[Ht];Si?.(Pn),j({type:Ht,event:Pn})}})}}},[R]),Ei=b.useCallback((Ve,Ft)=>(bt,nn)=>{const rn=bt.nativeEvent,qt=R.get(nn);if(ke.current!==null||!qt||rn.dndKit||rn.defaultPrevented)return;const Rt={active:qt};Ve(bt,Ft.options,Rt)===!0&&(rn.dndKit={capturedBy:Ft.sensor},ke.current=nn,Fn(bt,Ft))},[R,Fn]),Or=xB(g,Ei);RB(g),Bs(()=>{Ie&&$===Ki.Initializing&&H(Ki.Initialized)},[Ie,$]),b.useEffect(()=>{const{onDragMove:Ve}=le.current,{active:Ft,activatorEvent:bt,collisions:nn,over:rn}=pn.current;if(!Ft||!bt)return;const qt={active:Ft,activatorEvent:bt,collisions:nn,delta:{x:nr.x,y:nr.y},over:rn};Lc.unstable_batchedUpdates(()=>{Ve?.(qt),j({type:"onDragMove",event:qt})})},[nr.x,nr.y]),b.useEffect(()=>{const{active:Ve,activatorEvent:Ft,collisions:bt,droppableContainers:nn,scrollAdjustedTranslate:rn}=pn.current;if(!Ve||ke.current==null||!Ft||!rn)return;const{onDragOver:qt}=le.current,Rt=nn.get(ds),Br=Rt&&Rt.rect.current?{id:Rt.id,rect:Rt.rect.current,data:Rt.data,disabled:Rt.disabled}:null,at={active:Ve,activatorEvent:Ft,collisions:bt,delta:{x:rn.x,y:rn.y},over:Br};Lc.unstable_batchedUpdates(()=>{To(Br),qt?.(at),j({type:"onDragOver",event:at})})},[ds]),Bs(()=>{pn.current={activatorEvent:ge,active:M,activeNode:Te,collisionRect:Nn,collisions:us,droppableRects:we,draggableNodes:R,draggingNode:Vr,draggingNodeRect:tr,droppableContainers:L,over:tn,scrollableAncestors:Ze,scrollAdjustedTranslate:nr},q.current={initial:tr,translated:Nn}},[M,Te,us,Nn,R,Vr,tr,we,L,tn,Ze,nr]),gB({...je,delta:P,draggingRect:Nn,pointerCoordinates:_i,scrollableAncestors:Ze,scrollableAncestorRects:gn});const Ti=b.useMemo(()=>({active:M,activeNode:Te,activeNodeRect:Ie,activatorEvent:ge,collisions:us,containerNodeRect:gr,dragOverlay:mn,draggableNodes:R,droppableContainers:L,droppableRects:we,over:tn,measureDroppableContainers:_e,scrollableAncestors:Ze,scrollableAncestorRects:gn,measuringConfiguration:J,measuringScheduled:Pe,windowRect:ht}),[M,Te,Ie,ge,us,gr,mn,R,L,we,tn,_e,Ze,gn,J,Pe,ht]),Fr=b.useMemo(()=>({activatorEvent:ge,activators:Or,active:M,activeNodeRect:Ie,ariaDescribedById:{draggable:Z},dispatch:D,draggableNodes:R,over:tn,measureDroppableContainers:_e}),[ge,Or,M,Ie,D,Z,R,tn,_e]);return Zt.createElement(lR.Provider,{value:F},Zt.createElement(rp.Provider,{value:Fr},Zt.createElement(bR.Provider,{value:Ti},Zt.createElement(ER.Provider,{value:bi},p)),Zt.createElement(FB,{disabled:u?.restoreFocus===!1})),Zt.createElement(UU,{...u,hiddenTextDescribedById:Z}));function Ur(){const Ve=Je?.autoScrollEnabled===!1,Ft=typeof d=="object"?d.enabled===!1:d===!1,bt=B&&!Ve&&!Ft;return typeof d=="object"?{...d,enabled:bt}:{enabled:bt}}}),WB=b.createContext(null),jE="button",qB="Draggable";function HB(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const a=Gu(qB),{activators:l,activatorEvent:u,active:d,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:w}=b.useContext(rp),{role:T=jE,roleDescription:A="draggable",tabIndex:N=0}=s??{},S=d?.id===e,D=b.useContext(S?ER:WB),[j,F]=uf(),[$,H]=uf(),B=AB(l,e),I=Eu(n);Bs(()=>(v.set(e,{id:e,key:a,node:j,activatorNode:$,data:I}),()=>{const P=v.get(e);P&&P.key===a&&v.delete(e)}),[v,e]);const R=b.useMemo(()=>({role:T,tabIndex:N,"aria-disabled":r,"aria-pressed":S&&T===jE?!0:void 0,"aria-roledescription":A,"aria-describedby":g.draggable}),[r,T,N,S,A,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:p,attributes:R,isDragging:S,listeners:r?void 0:B,node:j,over:w,setNodeRef:F,setActivatorNodeRef:H,transform:D}}function GB(){return b.useContext(bR)}const KB="Droppable",QB={timeout:25};function YB(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const a=Gu(KB),{active:l,dispatch:u,over:d,measureDroppableContainers:p}=b.useContext(rp),g=b.useRef({disabled:n}),v=b.useRef(!1),w=b.useRef(null),T=b.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:S}={...QB,...s},D=Eu(N??r),j=b.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{p(Array.isArray(D.current)?D.current:[D.current]),T.current=null},S)},[S]),F=np({callback:j,disabled:A||!l}),$=b.useCallback((R,P)=>{F&&(P&&(F.unobserve(P),v.current=!1),R&&F.observe(R))},[F]),[H,B]=uf($),I=Eu(e);return b.useEffect(()=>{!F||!H.current||(F.disconnect(),v.current=!1,F.observe(H.current))},[H,F]),b.useEffect(()=>(u({type:$t.RegisterDroppable,element:{id:r,key:a,disabled:n,node:H,rect:w,data:I}}),()=>u({type:$t.UnregisterDroppable,key:a,id:r})),[r]),b.useEffect(()=>{n!==g.current.disabled&&(u({type:$t.SetDroppableDisabled,id:r,key:a,disabled:n}),g.current.disabled=n)},[r,a,n,u]),{active:l,rect:w,isOver:d?.id===r,node:H,over:d,setNodeRef:B}}function Lv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function XB(t,e){return t.reduce((n,r,s)=>{const a=e.get(r);return a&&(n[s]=a),n},Array(t.length))}function gh(t){return t!==null&&t>=0}function JB(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ZB(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const TR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const a=Lv(e,r,n),l=e[s],u=a[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},yh={scaleX:1,scaleY:1},ez=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:l}=t;const u=(e=a[n])!=null?e:r;if(!u)return null;if(s===n){const p=a[l];return p?{x:0,y:n<l?p.top+p.height-(u.top+u.height):p.top-u.top,...yh}:null}const d=tz(a,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,...yh}:s<n&&s>=l?{x:0,y:u.height+d,...yh}:{x:0,y:0,...yh}};function tz(t,e,n){const r=t[e],s=t[e-1],a=t[e+1];return r?n<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const SR="Sortable",CR=Zt.createContext({activeIndex:-1,containerId:SR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:TR,disabled:{draggable:!1,droppable:!1}});function nz(t){let{children:e,id:n,items:r,strategy:s=TR,disabled:a=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:p,measureDroppableContainers:g}=GB(),v=Gu(SR,n),w=u.rect!==null,T=b.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),A=l!=null,N=l?T.indexOf(l.id):-1,S=p?T.indexOf(p.id):-1,D=b.useRef(T),j=!JB(T,D.current),F=S!==-1&&N===-1||j,$=ZB(a);Bs(()=>{j&&A&&g(T)},[j,T,A,g]),b.useEffect(()=>{D.current=T},[T]);const H=b.useMemo(()=>({activeIndex:N,containerId:v,disabled:$,disableTransforms:F,items:T,overIndex:S,useDragOverlay:w,sortedRects:XB(T,d),strategy:s}),[N,v,$.draggable,$.droppable,F,T,S,d,w,s]);return Zt.createElement(CR.Provider,{value:H},e)}const rz=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Lv(n,r,s).indexOf(e)},sz=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:u,previousContainerId:d,transition:p}=t;return!p||!r||u!==a&&s===l?!1:n?!0:l!==s&&e===d},iz={duration:200,easing:"ease"},IR="transform",oz=Su.Transition.toString({property:IR,duration:0,easing:"linear"}),az={roleDescription:"sortable"};function lz(t){let{disabled:e,index:n,node:r,rect:s}=t;const[a,l]=b.useState(null),u=b.useRef(n);return Bs(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const p=zl(r.current,{ignoreTransform:!0}),g={x:d.left-p.left,y:d.top-p.top,scaleX:d.width/p.width,scaleY:d.height/p.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),b.useEffect(()=>{a&&l(null)},[a]),a}function cz(t){let{animateLayoutChanges:e=sz,attributes:n,disabled:r,data:s,getNewIndex:a=rz,id:l,strategy:u,resizeObserverConfig:d,transition:p=iz}=t;const{items:g,containerId:v,activeIndex:w,disabled:T,disableTransforms:A,sortedRects:N,overIndex:S,useDragOverlay:D,strategy:j}=b.useContext(CR),F=uz(r,T),$=g.indexOf(l),H=b.useMemo(()=>({sortable:{containerId:v,index:$,items:g},...s}),[v,s,$,g]),B=b.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:I,node:R,isOver:P,setNodeRef:L}=YB({id:l,data:H,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...d}}),{active:V,activatorEvent:q,activeNodeRect:M,attributes:ke,setNodeRef:Je,listeners:dt,isDragging:ge,over:se,setActivatorNodeRef:le,transform:Z}=HB({id:l,data:H,attributes:{...az,...n},disabled:F.draggable}),U=IU(L,Je),J=!!V,we=J&&!A&&gh(w)&&gh(S),_e=!D&&ge,Pe=_e&&we?Z:null,Ue=we?Pe??(u??j)({rects:N,activeNodeRect:M,activeIndex:w,overIndex:S,index:$}):null,je=gh(w)&&gh(S)?a({id:l,items:g,activeIndex:w,overIndex:S}):$,Me=V?.id,Ie=b.useRef({activeId:Me,items:g,newIndex:je,containerId:v}),gr=g!==Ie.current.items,pn=e({active:V,containerId:v,isDragging:ge,isSorting:J,id:l,index:$,items:g,newIndex:Ie.current.newIndex,previousItems:Ie.current.items,previousContainerId:Ie.current.containerId,transition:p,wasDragging:Ie.current.activeId!=null}),An=lz({disabled:!pn,index:$,node:R,rect:I});return b.useEffect(()=>{J&&Ie.current.newIndex!==je&&(Ie.current.newIndex=je),v!==Ie.current.containerId&&(Ie.current.containerId=v),g!==Ie.current.items&&(Ie.current.items=g)},[J,je,v,g]),b.useEffect(()=>{if(Me===Ie.current.activeId)return;if(Me!=null&&Ie.current.activeId==null){Ie.current.activeId=Me;return}const Vr=setTimeout(()=>{Ie.current.activeId=Me},50);return()=>clearTimeout(Vr)},[Me]),{active:V,activeIndex:w,attributes:ke,data:H,rect:I,index:$,newIndex:je,items:g,isOver:P,isSorting:J,isDragging:ge,listeners:dt,node:R,overIndex:S,over:se,setNodeRef:U,setActivatorNodeRef:le,setDroppableNodeRef:L,setDraggableNodeRef:Je,transform:An??Ue,transition:mn()};function mn(){if(An||gr&&Ie.current.newIndex===$)return oz;if(!(_e&&!Nv(q)||!p)&&(J||pn))return Su.Transition.toString({...p,property:IR})}}function uz(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function ff(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const dz=[qe.Down,qe.Right,qe.Up,qe.Left],hz=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:u}}=e;if(dz.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];a.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const w=s.get(v.id);if(w)switch(t.code){case qe.Down:r.top<w.top&&d.push(v);break;case qe.Up:r.top>w.top&&d.push(v);break;case qe.Left:r.left>w.left&&d.push(v);break;case qe.Right:r.left<w.left&&d.push(v);break}});const p=WU({collisionRect:r,droppableRects:s,droppableContainers:d});let g=dR(p,"id");if(g===l?.id&&p.length>1&&(g=p[1].id),g!=null){const v=a.get(n.id),w=a.get(g),T=w?s.get(w.id):null,A=w?.node.current;if(A&&T&&v&&w){const S=tp(A).some((B,I)=>u[I]!==B),D=RR(v,w),j=fz(v,w),F=S||!D?{x:0,y:0}:{x:j?r.width-T.width:0,y:j?r.height-T.height:0},$={x:T.left,y:T.top};return F.x&&F.y?$:Tu($,F)}}}};function RR(t,e){return!ff(t)||!ff(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function fz(t,e){return!ff(t)||!ff(e)||!RR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const pz=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:u,transition:d,isDragging:p}=cz({id:t}),g={transform:Su.Transform.toString(u),transition:d,zIndex:p?50:"auto"};return h.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${p?"shadow-lg ring-2 ring-blue-100":""}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n&&h.jsx("button",{...s,...a,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),h.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&h.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},mz=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],gz=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=b.useState(""),[a,l]=b.useState(!1),u=BU(_E(Dv),_E(Pv,{coordinateGetter:hz})),d=w=>{const{active:T,over:A}=w;if(A&&T.id!==A.id){const N=t.indexOf(T.id),S=t.indexOf(A.id);n(Lv(t,N,S))}},p=w=>{const T=w.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=w=>{n(t.filter(T=>T!==w))},v=mz.filter(w=>w.toLowerCase().includes(r.toLowerCase())&&!t.includes(w));return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:r,onChange:w=>{s(w.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:w=>{w.key==="Enter"&&p(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),a&&r&&v.length>0&&h.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(w=>h.jsx("button",{onClick:()=>p(w),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:w},w))})]}),h.jsx($B,{sensors:u,collisionDetection:$U,onDragEnd:d,children:h.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.jsx(nz,{items:t,strategy:ez,children:t.map(w=>h.jsx(pz,{id:w,skill:w,isOwnProfile:e,onRemove:g},w))})})}),t.length===0&&h.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:h.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},yz=({onActionComplete:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(null),u=async()=>{s(!0);try{const g=await tU(),v=await Promise.all(g.map(async w=>{const T=await Dr(nt(ye,"users",w.requesterId));if(T.exists()){const A=T.data();return{...w,requesterName:A.name,requesterAvatar:A.avatar}}return w}));n(v)}catch(g){console.error("Error loading incoming requests:",g)}finally{s(!1)}};b.useEffect(()=>{u()},[]);const d=async(g,v)=>{l(g);try{await J8(g,v),n(w=>w.filter(T=>T.id!==g)),t()}catch(w){console.error(w)}finally{l(null)}},p=async g=>{l(g);try{await Z8(g),n(v=>v.filter(w=>w.id!==g)),t()}catch(v){console.error("Error ignoring request:",v)}};return r||e.length===0?null:h.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",h.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),h.jsx("div",{className:"space-y-4",children:e.map(g=>h.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[h.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:h.jsx("img",{src:g.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${g.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-grow text-center md:text-left",children:[h.jsx("h4",{className:"font-bold text-gray-900",children:g.requesterName||"Anonymous Student"}),g.note&&h.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',g.note,'"']})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>p(g.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),h.jsx("button",{onClick:()=>d(g.id,g.requesterId),disabled:a===g.id,className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 disabled:opacity-50",children:"                          Accept"})]})]},g.id))})]})},AR=async t=>{try{const e=nt(ye,"users",t),n=await Dr(e);return n.exists()?{uid:t,...n.data()}:null}catch(e){return console.error("Error fetching profile:",e),null}},vz=async(t,e)=>{try{const n=nt(ye,"users",t);await qf(n,{...e,lastActive:en()},{merge:!0})}catch(n){throw console.error("Error updating profile:",n),n}},wz=({isOpen:t,onClose:e,userId:n,onSuccess:r})=>{const[s,a]=b.useState({name:"",headline:"",bio:"",college:"",skills:[]}),[l,u]=b.useState(""),[d,p]=b.useState(!0),[g,v]=b.useState(!1);b.useEffect(()=>{t&&n&&w()},[t,n]);const w=async()=>{p(!0);const A=await AR(n);A&&(a(A),u(A.skills.join(", "))),p(!1)},T=async A=>{A.preventDefault(),v(!0);try{const N={...s,skills:l.split(",").map(S=>S.trim()).filter(Boolean)};await vz(n,N),r&&r(),e()}catch(N){console.error("Failed to update profile:",N)}finally{v(!1)}};return h.jsx(ns,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(xe.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(JI,{className:"h-6 w-6 text-gray-500"})})]}),d?h.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading profile..."}):h.jsxs("form",{onSubmit:T,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:s.name,onChange:A=>a({...s,name:A.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Headline"}),h.jsx("input",{type:"text",value:s.headline,onChange:A=>a({...s,headline:A.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"e.g. Full Stack Developer | Student at MIT"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"College / Institution"}),h.jsx("input",{type:"text",value:s.college,onChange:A=>a({...s,college:A.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Skills (comma separated)"}),h.jsx("input",{type:"text",value:l,onChange:A=>u(A.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"React, Python, UI Design"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Bio"}),h.jsx("textarea",{value:s.bio,onChange:A=>a({...s,bio:A.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none resize-none",rows:4,placeholder:"Tell us about yourself..."})]}),h.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-500 font-bold hover:bg-gray-50 rounded-full transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:g,className:"px-8 py-2 bg-[#0066FF] text-white font-bold rounded-full hover:bg-blue-600 shadow-lg shadow-blue-500/20 disabled:opacity-50 transition-all",children:g?"Saving...":"Save Profile"})]})]})]})]})})},DE=()=>{const t=Zn(),{userId:e}=qE(),[n,r]=b.useState(!0),[s,a]=b.useState(null),[l,u]=b.useState(!1),[d,p]=b.useState(!1),[g,v]=b.useState(0),[w,T]=b.useState("none"),[A,N]=b.useState(!1),[S,D]=b.useState([]),[j,F]=b.useState(!1),[$,H]=b.useState(null),[B,I]=b.useState(""),[R,P]=b.useState(!1),[L,V]=b.useState(!1),[q,M]=b.useState(""),ke=async()=>{try{const Z=Fe.currentUser,U=e||Z?.uid;if(!U){t("/login");return}u(U===Z?.uid);const J=await AR(U);if(J){if(a(J),Z&&U!==Z.uid){const Pe=Xe(ye,"connections"),Te=_t(Pe,pt("requesterId","==",Z.uid),pt("recipientId","==",U)),Ue=_t(Pe,pt("requesterId","==",U),pt("recipientId","==",Z.uid)),[je,Me]=await Promise.all([Rn(Te),Rn(Ue)]);if(je.empty){if(!Me.empty){const Ie=Me.docs[0].data().status;T(Ie==="accepted"?"connected":"received")}}else{const Ie=je.docs[0].data().status;T(Ie==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const we=await Q8(U);D(we);const _e=await nU(U);v(_e)}catch(Z){console.error("Error fetching user data:",Z)}finally{r(!1)}};b.useEffect(()=>{ke()},[t,e]);const Je=async()=>{const Z=e||s?.uid;if(!(!Fe.currentUser||!Z)){if(!L){V(!0);return}N(!0);try{await sR(Z,q),T("pending"),V(!1),M("")}catch(U){const J=U;console.error("Error sending connection request:",J),alert(J.message)}finally{N(!1)}}},dt=async Z=>{if(Z.preventDefault(),!Fe.currentUser||!$)return;const U=B.split(",").map(J=>J.trim()).filter(Boolean);if(U.length===0){alert("Please add at least one technology to the Tech Stack.");return}P(!0);try{$.id?await q8($.id,{...$,techStack:U}):await eR(Fe.currentUser.uid,{title:$.title||"",description:$.description||"",techStack:U,rolesNeeded:[],category:"Development",ownerName:s?.name||"Anonymous",ownerAvatar:s?.avatar||"",githubUrl:$.githubUrl,liveUrl:$.liveUrl,status:"Open",thumbnailUrl:"",updatedAt:null}),ke(),F(!1),H(null)}catch(J){console.error("Error saving project:",J),alert("Failed to save project.")}finally{P(!1)}},ge=async Z=>{if(window.confirm("Are you sure you want to delete this project?"))try{await H8(Z),D(U=>U.filter(J=>J.id!==Z))}catch(U){console.error("Error deleting project:",U),alert("Failed to delete project.")}},se=async Z=>{if(!(!Fe.currentUser||!s))try{const U=nt(ye,"users",s.uid||Fe.currentUser.uid);await ts(U,{skills:Z}),a(J=>J?{...J,skills:Z}:null)}catch(U){console.error("Error updating skills:",U),alert("Failed to update skills.")}},le=async()=>{if(s?.uid)try{const Z=await nR(s.uid);t(`/messages?conversationId=${Z}`)}catch(Z){console.error("Error starting conversation:",Z)}};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),h.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?h.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[h.jsxs("div",{className:"relative h-44 md:h-80 w-full overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})]}),h.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-40 relative z-10",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l&&h.jsx(yz,{onActionComplete:ke}),h.jsx(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 overflow-hidden",children:h.jsx("div",{className:"p-8 md:p-10",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-end text-center md:text-left",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#0066FF] to-[#00E0FF] rounded-full blur-md opacity-20"}),l?h.jsx(CU,{userId:Fe.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:Z=>a(U=>U?{...U,avatar:Z}:null)}):h.jsx("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:h.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight",children:s.name}),s.isAdmin&&h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[10px] font-black uppercase rounded-md border border-blue-200",children:"Admin"})]}),h.jsx("p",{className:"text-blue-600 font-semibold text-xl mb-4",children:s.role}),h.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-y-3 gap-x-6 text-sm text-gray-500 font-medium",children:[h.jsx("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-100",children:s.college||s.institution||"Student"}),h.jsxs("div",{className:"flex items-center gap-2 text-[#0066FF] font-bold text-sm bg-blue-50 px-4 py-1.5 rounded-full",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),g," connections"]})]})]}),h.jsx("div",{className:"flex gap-3 w-full md:w-auto mt-6 md:mt-0",children:l?h.jsx("button",{onClick:()=>p(!0),className:"flex-1 md:flex-none px-8 py-3 bg-[#0066FF] text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20",children:"Edit Profile"}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:Je,disabled:w!=="none"||A,className:`flex-1 md:flex-none px-8 py-3 rounded-2xl font-bold text-sm transition-all shadow-xl ${w==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:A?"...":w==="pending"?"Pending":w==="connected"?"Connected":w==="received"?"Accept Request":"Connect"}),h.jsx("button",{onClick:le,className:"flex-1 md:flex-none px-6 py-3 border-2 border-gray-100 text-[#0f172a] rounded-2xl font-bold text-sm hover:bg-gray-50",children:"Message"})]})})]})})}),h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[h.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] mb-6 flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"About"]}),h.jsx("p",{className:"text-gray-600 leading-relaxed text-lg whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-10",children:[h.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),l&&h.jsx("button",{onClick:()=>{H({title:"",description:"",techStack:[],githubUrl:"",liveUrl:""}),I(""),F(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl hover:bg-blue-100 transition-all",children:"+ Add Project"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.length>0?S.map(Z=>h.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 hover:border-[#0066FF]/30 hover:bg-[#0066FF]/0.02 transition-all flex flex-col h-full relative group",children:[l&&h.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:U=>{U.stopPropagation(),H(Z),I(Z.techStack?.join(", ")||""),F(!0)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-blue-600",children:"Edit"}),h.jsx("button",{onClick:U=>{U.stopPropagation(),ge(Z.id)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-red-600",children:"Del"})]}),h.jsx("h4",{className:"font-bold text-xl text-[#0f172a] group-hover:text-[#0066FF] mb-1",children:Z.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-3",children:Z.description}),h.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:Z.techStack?.map(U=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-[10px] font-bold border border-gray-100 uppercase",children:U},U))})]},Z.id)):h.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:h.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."})})})]})]}),h.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[h.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:[h.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-8 uppercase tracking-widest text-center",children:"Social Links"}),h.jsxs("div",{className:"space-y-4",children:[s.socials?.github&&h.jsx("a",{href:s.socials.github,target:"_blank",className:"flex items-center gap-4 p-4 rounded-2xl bg-gray-50",children:h.jsx("span",{className:"font-bold text-sm",children:"GitHub"})}),s.socials?.linkedin&&h.jsx("a",{href:s.socials.linkedin,target:"_blank",className:"flex items-center gap-4 p-4 rounded-2xl bg-blue-50 text-blue-600",children:h.jsx("span",{className:"font-bold text-sm",children:"LinkedIn"})})]})]}),h.jsx(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:h.jsx(gz,{skills:s.skills||[],isOwnProfile:l,onUpdate:se})})]})]})}),h.jsx(ns,{children:j&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>F(!1),className:"absolute inset-0 bg-black/70"}),h.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-2xl bg-white rounded-3xl p-8 overflow-hidden",children:[h.jsx("h3",{className:"text-2xl font-black mb-6",children:$?.id?"Edit Project":"Add Project"}),h.jsxs("form",{onSubmit:dt,className:"space-y-6",children:[h.jsx("input",{required:!0,placeholder:"Project Title",value:$?.title||"",onChange:Z=>H(U=>({...U,title:Z.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF]"}),h.jsx("textarea",{required:!0,rows:4,placeholder:"Description",value:$?.description||"",onChange:Z=>H(U=>({...U,description:Z.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF] resize-none"}),h.jsx("input",{required:!0,placeholder:"Tech Stack (comma separated)",value:B,onChange:Z=>I(Z.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF]"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{type:"button",onClick:()=>F(!1),className:"flex-1 py-4 font-bold text-gray-400",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:R,className:"flex-[2] py-4 bg-[#0066FF] text-white font-bold rounded-2xl shadow-lg",children:"Save Project"})]})]})]})]})}),h.jsx(ns,{children:L&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(!1),className:"absolute inset-0 bg-black/60"}),h.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-white rounded-3xl p-8",children:[h.jsx("h3",{className:"text-xl font-black mb-4",children:"Send Request"}),h.jsx("textarea",{rows:4,placeholder:"Personalized note (optional)",value:q,onChange:Z=>M(Z.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF] mb-6"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>V(!1),className:"flex-1 font-bold text-gray-400",children:"Cancel"}),h.jsx("button",{onClick:Je,disabled:A,className:"flex-[2] py-3 bg-[#0066FF] text-white font-bold rounded-2xl",children:"Send"})]})]})]})}),s&&h.jsx(wz,{isOpen:d,onClose:()=>p(!1),userId:s.uid,onSuccess:ke})]}):null},xz=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=b.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:u,type:d,checked:p}=a.target;n(g=>({...g,[l]:d==="checkbox"?p:u}))},s=a=>{a.preventDefault(),console.log("Form submitted:",e)};return h.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[h.jsx(Ir,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-900",children:"Executive Education"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-400",children:t.title})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4 mb-4",children:h.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:h.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),h.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),h.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),h.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(g8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),h.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(QI,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(GI,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),h.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[h.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),h.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),h.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),h.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),h.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>h.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[h.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),h.jsx(h8,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),h.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"sticky top-24",children:h.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),h.jsxs("form",{onSubmit:s,className:"space-y-4",children:[h.jsx("div",{children:h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsxs("div",{className:"space-y-3 pt-2",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),h.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},_z=()=>{const{resourceId:t}=qE(),e=Zn(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),a=r(t||"");return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(ZI,{}),h.jsx("main",{className:"pt-32 pb-20 px-6",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs(xe.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),h.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>h.jsxs(xe.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),h.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:d=>d.preventDefault(),children:["Access Resource ",h.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},bz=()=>{const t=Zn(),[e,n]=b.useState(!0),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(!1),[p,g]=b.useState(""),[v,w]=b.useState(""),T=async()=>{try{const S=(await vT(Fe,pC)).user,D=nt(ye,"users",S.uid);(await Dr(D)).exists()?t("/"):t("/onboarding")}catch(N){N instanceof Error?g(N.message):g("An unexpected error occurred")}},A=async N=>{N.preventDefault(),d(!0),g(""),w("");try{if(e){const S=await aT(Fe,r,a),D=nt(ye,"users",S.user.uid);(await Dr(D)).exists()?t("/"):t("/onboarding")}else await oT(Fe,r,a),t("/onboarding")}catch(S){S instanceof Error?g(S.message):g("An unexpected error occurred")}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),h.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),h.jsxs(xe.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[h.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),h.jsx("span",{children:"Continue with Google"})]}),h.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[h.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),h.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),h.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),h.jsx("input",{type:"email",required:!0,value:r,onChange:N=>s(N.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),h.jsx("input",{type:"password",required:!0,value:a,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),h.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),h.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),h.jsxs(ns,{children:[p&&h.jsx(xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),v&&h.jsx(xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),h.jsx(xe.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),h.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:h.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},Ez=()=>{const t=Zn(),[e,n]=b.useState(!1),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(""),[p,g]=b.useState(""),[v,w]=b.useState(""),[T,A]=b.useState([]),[N,S]=b.useState(""),[D,j]=b.useState("");Zt.useEffect(()=>{(async()=>{const I=Fe.currentUser;if(I){const R=nt(ye,"users",I.uid),P=await Dr(R);if(P.exists()){const L=P.data();s(L.name||""),l(L.role||""),d(L.institution||""),g(L.bio||""),A(L.skills||[]),S(L.socials?.github||""),j(L.socials?.linkedin||"")}}})()},[]);const F=B=>{B.key==="Enter"&&v.trim()&&(B.preventDefault(),T.length<5&&!T.includes(v.trim())&&(A([...T,v.trim()]),w("")))},$=B=>{A(T.filter(I=>I!==B))},H=async B=>{B.preventDefault(),n(!0);try{const I=Fe.currentUser;if(!I)throw new Error("No user logged in");await qf(nt(ye,"users",I.uid),{name:r,role:a,institution:u,bio:p,skills:T,socials:{github:N,linkedin:D},stats:{projects:0,stars:0,followers:0,following:0},avatar:I.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:I.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(I){console.error("Error saving profile:",I),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return h.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:h.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),h.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),h.jsxs("form",{onSubmit:H,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),h.jsx("input",{type:"text",required:!0,value:r,onChange:B=>s(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),h.jsx("input",{type:"text",required:!0,value:a,onChange:B=>l(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),h.jsx("input",{type:"text",required:!0,value:u,onChange:B=>d(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),h.jsx("textarea",{required:!0,value:p,onChange:B=>g(B.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(B=>h.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[B,h.jsx("button",{type:"button",onClick:()=>$(B),className:"hover:text-red-500",children:""})]},B))}),h.jsx("input",{type:"text",value:v,onChange:B=>w(B.target.value),onKeyDown:F,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),h.jsx("input",{type:"text",value:N,onChange:B=>S(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),h.jsx("input",{type:"text",value:D,onChange:B=>j(B.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},Tz=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsx("div",{className:"flex-grow",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"University (All)"}),h.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),h.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"Role (All)"}),h.jsx("option",{value:"Frontend",children:"Frontend"}),h.jsx("option",{value:"Backend",children:"Backend"}),h.jsx("option",{value:"Fullstack",children:"Fullstack"}),h.jsx("option",{value:"Designer",children:"Designer"}),h.jsx("option",{value:"Researcher",children:"Researcher"})]}),h.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"recent",children:"Recently Active"}),h.jsx("option",{value:"connections",children:"Most Connections"}),h.jsx("option",{value:"university",children:"Same University"})]})]})]})}),Sz=()=>{const[t,e]=b.useState(null);return b.useEffect(()=>{const n=va(Fe,r=>{e(r)});return()=>n()},[]),t?h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-8 text-center border-b border-gray-100",children:[h.jsx(Ir,{to:"/profile",children:h.jsx("div",{className:"w-17 h-17 rounded-full border-2 border-white bg-blue-100 mx-auto flex items-center justify-center text-[#0066FF] font-bold text-2xl overflow-hidden hover:opacity-90 transition-opacity",children:t.email?.[0].toUpperCase()})}),h.jsxs("div",{className:"mt-4",children:[h.jsx(Ir,{to:"/profile",className:"font-bold text-gray-900 hover:underline",children:t.displayName||t.email?.split("@")[0]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:"Student & Aspiring Developer at CollabX"})]})]}),h.jsxs("div",{className:"py-3",children:[h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Profile viewers"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:"42"})]})}),h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Project views"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:"156"})]})})]}),h.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 hover:bg-gray-100 cursor-pointer transition-colors group",children:[h.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Access exclusive tools"}),h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-sm"}),h.jsx("span",{className:"text-xs font-bold text-gray-800 group-hover:text-[#0066FF]",children:"Try Premium for Free"})]})]}),h.jsxs(Ir,{to:"/saved",className:"px-4 py-3 border-t border-gray-100 flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[h.jsx(n8,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-xs font-bold text-gray-800",children:"My Items"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm sticky top-20",children:[h.jsxs("div",{className:"p-3",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Recent"})}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(XI,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"React Developers Hub"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(tu,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"UI/UX Design Projects"})]})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Groups"})}),h.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-between font-bold text-[#0066FF] hover:underline cursor-pointer",children:[h.jsx("span",{className:"text-xs",children:"Events"}),h.jsx(YI,{className:"h-4 w-4 text-gray-600 hover:bg-gray-100 rounded p-0.5"})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Followed Hashtags"})})]}),h.jsx("div",{className:"border-t border-gray-100 p-3 text-center hover:bg-gray-100 cursor-pointer transition-colors",children:h.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Discover more"})})]})]}):h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-7 text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-blue-50 mx-auto flex items-center justify-center text-blue-500 font-bold text-xl",children:"?"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"font-bold text-gray-900",children:"Welcome to CollabX!"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sign in to start collaborating"})]}),h.jsx("button",{className:"w-full mt-4 py-2 border-2 border-[#0066FF] text-[#0066FF] rounded-full text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})};function Cz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Iz=b.forwardRef(Cz);function Rz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Az=b.forwardRef(Rz);function Nz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const LE=b.forwardRef(Nz);function kz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Pz=b.forwardRef(kz),jz=()=>{const t=[{name:"Sarah Chen",role:"Full Stack Developer",college:"Stanford University"},{name:"Alex Rivera",role:"UI/UX Designer",college:"MIT"},{name:"James Wilson",role:"ML Engineer",college:"IIT Bombay"}],e=[{title:"Project: Decentralized Voting",views:"1.2k",time:"12h ago"},{title:"Resource: Mastering React 19",views:"3.4k",time:"1d ago"},{title:"Roadmap: AI/ML 2024",views:"5k",time:"2d ago"}];return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Add to your feed"}),h.jsx(LE,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]}),h.jsx("div",{className:"flex flex-col gap-4",children:t.map((n,r)=>h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 shrink-0 flex items-center justify-center text-[#0066FF] font-bold text-xs uppercase",children:n.name[0]}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[h.jsx("span",{className:"font-bold text-sm text-gray-900 truncate hover:text-[#0066FF] hover:underline cursor-pointer",children:n.name}),h.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[n.role," at ",n.college]}),h.jsxs("button",{className:"mt-1.5 flex items-center justify-center gap-1 px-3 py-1 border border-gray-500 text-gray-600 rounded-full text-sm font-bold hover:bg-gray-50 hover:border-gray-800 transition-colors w-24",children:[h.jsx(Pz,{className:"h-4 w-4"}),h.jsx("span",{children:"Follow"})]})]})]},r))}),h.jsx("div",{className:"mt-4 pt-2 border-t border-gray-50",children:h.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[h.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"View all recommendations"}),h.jsx(Iz,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm sticky top-20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"CollabX Trending"}),h.jsx(LE,{className:"h-4 w-4 text-gray-400"})]}),h.jsx("div",{className:"flex flex-col gap-3",children:e.map((n,r)=>h.jsxs("div",{className:"group cursor-pointer",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-800 group-hover:text-[#0066FF]",children:n.title}),h.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500 mt-0.5",children:[h.jsxs("span",{children:[n.views," readers"]}),h.jsx("span",{children:""}),h.jsx("span",{children:n.time})]})]},r))}),h.jsxs("div",{className:"mt-4 text-[11px] text-gray-400 flex flex-wrap justify-center gap-x-3 gap-y-1",children:[h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"About"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Accessibility"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Help Center"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Privacy & Terms"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Ad Choices"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Advertising"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Business Services"})]}),h.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded bg-[#0066FF] flex items-center justify-center text-white text-[8px] font-bold",children:"X"}),h.jsx("span",{className:"text-xs text-gray-500",children:"CollabX Corporation  2024"})]})]})]})},Ku=({children:t})=>h.jsx("div",{className:"main-content",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(Sz,{})}),h.jsx("div",{className:"col-span-1 lg:col-span-6",children:t}),h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(jz,{})})]})}),Dz=()=>{const t=Zn(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(""),[u,d]=b.useState({institution:"",role:""}),[p,g]=b.useState("recent"),[v,w]=b.useState(null);b.useEffect(()=>{(async()=>{try{const S=Fe.currentUser;if(S){const F=nt(ye,"users",S.uid),$=await Dr(F);$.exists()&&w($.data())}const D=await Rn(Xe(ye,"users")),j=[];D.forEach(F=>{const $=F.data();F.id!==S?.uid&&j.push({...$,uid:F.id})}),n(j)}catch(S){console.error("Error fetching students:",S)}finally{s(!1)}})()},[]);const T=b.useMemo(()=>e.filter(N=>{const S=a.toLowerCase(),D=N.name.toLowerCase().includes(S)||N.role.toLowerCase().includes(S)||N.headline&&N.headline.toLowerCase().includes(S)||N.skills?.some($=>$.toLowerCase().includes(S)),j=!u.institution||N.college===u.institution||N.institution===u.institution,F=!u.role||N.role.toLowerCase().includes(u.role.toLowerCase());return D&&j&&F}).sort((N,S)=>{if(p==="connections")return(S.stats?.connections||0)-(N.stats?.connections||0);if(p==="university"&&(v?.college||v?.institution)){const D=v?.college||v?.institution,j=N.college===D||N.institution===D?1:0;return(S.college===D||S.institution===D?1:0)-j}return 0}),[e,a,u,p,v]),A=()=>h.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm p-4 h-[320px] animate-pulse",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),h.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return h.jsx(Ku,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(XI,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Network Discovery"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Connect with ambitious students from top universities and build your community."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:h.jsx(Tz,{onSearchChange:l,onFilterChange:(N,S)=>d(D=>({...D,[N]:S})),onSortChange:g})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:6}).map((N,S)=>h.jsx(A,{},S)):h.jsx(ns,{children:T.length>0?T.map(N=>h.jsx(iR,{student:N,onClick:()=>t(`/profile/${N.uid}`)},N.uid)):h.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Wu,{className:"w-8 h-8 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search query."})]})})})]})})},Lz=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,u]=b.useState("idle"),d=async p=>{p.preventDefault(),u("submitting");try{await os(Xe(ye,"feedback"),{name:t,email:n,message:s,created_at:tt.now()}),u("success"),e(""),r(""),a(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return h.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:h.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),h.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),h.jsx("textarea",{id:"message",value:s,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),h.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&h.jsx(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&h.jsx(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},ii=({children:t})=>{const[e,n]=b.useState(!0),[r,s]=b.useState(!1);return b.useEffect(()=>{const a=va(Fe,l=>{s(!!l),n(!1)});return()=>a()},[]),e?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?h.jsx(h.Fragment,{children:t}):h.jsx(PN,{to:"/login"})},Mz=()=>{const{pathname:t,hash:e}=Lr();return b.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},Vz=async t=>{try{return(await os(Xe(ye,"posts"),{...t,likesCount:0,commentsCount:0,repostsCount:0,createdAt:en()})).id}catch(e){throw console.error("Error creating post:",e),e}},Oz=t=>{const e=_t(Xe(ye,"posts"),zs("createdAt","desc"));return El(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));t(r)})},Fz=async(t,e)=>{try{const n=nt(ye,"posts",t),r=await Rn(_t(Xe(ye,"likes"),pt("postId","==",t),pt("userId","==",e)));r.empty?(await os(Xe(ye,"likes"),{postId:t,userId:e,createdAt:en()}),await ts(n,{likesCount:Xg(1)})):(await Hf(nt(ye,"likes",r.docs[0].id)),await ts(n,{likesCount:Xg(-1)}))}catch(n){throw console.error("Error toggling like:",n),n}},Uz=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[s,a]=b.useState(!1),l=Fe.currentUser;b.useEffect(()=>{const g=Oz(v=>{e(v)});return()=>g()},[]);const u=async g=>{if(g.preventDefault(),!(!l||!n.trim()||s)){a(!0);try{await Vz({userId:l.uid,authorName:l.displayName||"Anonymous User",authorAvatar:l.photoURL||"",authorRole:"Student",content:n,type:"post",tags:n.match(/#\w+/g)||[]}),r("")}catch(v){console.error("Failed to create post:",v)}finally{a(!1)}}},d=async g=>{if(l)try{await Fz(g,l.uid)}catch(v){console.error("Failed to toggle like:",v)}},p=g=>{if(!g)return"Just now";const v=g.toDate?g.toDate():new Date(g),T=Math.floor((new Date().getTime()-v.getTime())/1e3);return T<60?`${T}s ago`:T<3600?`${Math.floor(T/60)}m ago`:T<86400?`${Math.floor(T/3600)}h ago`:`${Math.floor(T/86400)}d ago`};return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg shrink-0 overflow-hidden",children:l?.photoURL?h.jsx("img",{src:l.photoURL,alt:"Me",className:"w-full h-full object-cover"}):l?.displayName?.[0]||l?.email?.[0]||"U"}),h.jsxs("form",{onSubmit:u,className:"flex-1",children:[h.jsx("textarea",{value:n,onChange:g=>r(g.target.value),placeholder:"Start a project or share an update...",className:"w-full text-left px-4 py-3 border border-gray-200 rounded-2xl text-gray-800 hover:bg-gray-50 transition-colors text-sm font-medium resize-none focus:outline-none focus:ring-1 focus:ring-blue-100",rows:2}),n.trim()&&h.jsx("div",{className:"flex justify-end mt-2",children:h.jsx("button",{type:"submit",disabled:s,className:"bg-[#0066FF] text-white px-4 py-1.5 rounded-full text-sm font-bold disabled:opacity-50 hover:bg-blue-600 transition-colors",children:s?"Posting...":"Post"})})]})]}),h.jsxs("div",{className:"flex justify-between mt-3 px-2 border-t border-gray-50 pt-2",children:[h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx(j8,{className:"h-5 w-5 text-blue-400"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Media"})]}),h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx(QI,{className:"h-5 w-5 text-yellow-500"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Event"})]}),h.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[h.jsx(v8,{className:"h-5 w-5 text-orange-400"}),h.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Write article"})]})]})]}),t.map(g=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 py-3 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between px-4 mb-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg overflow-hidden shrink-0",children:g.authorAvatar?h.jsx("img",{src:g.authorAvatar,alt:g.authorName,className:"w-full h-full object-cover"}):g.authorName[0]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"text-sm font-bold text-gray-900 flex items-center gap-1 hover:text-[#0066FF] hover:underline cursor-pointer",children:[g.authorName,h.jsx("span",{className:"text-xs font-normal text-gray-400",children:" 1st"})]}),h.jsx("span",{className:"text-[11px] text-gray-500 truncate w-48 sm:w-80",children:g.authorRole||"Student"}),h.jsxs("span",{className:"text-[11px] text-gray-400 flex items-center gap-1",children:[p(g.createdAt),"  ",h.jsx(cE,{className:"h-3 w-3"})]})]})]}),h.jsx("button",{className:"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8 flex items-center justify-center transition-colors",children:h.jsx(x8,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"px-4 mb-3",children:[h.jsx("p",{className:"text-sm text-gray-800 leading-normal whitespace-pre-wrap",children:g.content}),g.tags&&g.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.tags.map(v=>h.jsx("span",{className:"text-sm font-bold text-[#0066FF] hover:underline cursor-pointer",children:v},v))})]}),g.imageUrl&&h.jsx("div",{className:"mb-3",children:h.jsx("img",{src:g.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[512px] object-cover"})}),h.jsxs("div",{className:"px-4 flex justify-between items-center pb-2 border-b border-gray-50",children:[h.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 hover:text-[#0066FF] cursor-pointer",children:[h.jsx("div",{className:"flex -space-x-1",children:h.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center text-white",children:h.jsx(Az,{className:"h-2.5 w-2.5"})})}),h.jsx("span",{children:g.likesCount||0})]}),h.jsxs("div",{className:"flex gap-2 text-[11px] text-gray-500",children:[h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[g.commentsCount||0," comments"]}),h.jsx("span",{children:""}),h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[g.repostsCount||0," shares"]})]})]}),h.jsxs("div",{className:"flex px-2 pt-1",children:[h.jsxs("button",{onClick:()=>d(g.id),className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(S8,{className:"h-5 w-5 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Like"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(u8,{className:"h-5 w-5 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Comment"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(M8,{className:"h-5 w-5 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Repost"})]}),h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(k8,{className:"h-5 w-5 -rotate-45 group-hover:scale-110"}),h.jsx("span",{className:"text-sm font-bold",children:"Send"})]})]})]},g.id)),t.length===0&&h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500",children:[h.jsx(cE,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),h.jsx("p",{children:"No posts yet. Be the first to share something!"})]})]})},Bz=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState(!0),[d,p]=b.useState(null),[g,v]=b.useState(!1),[w,T]=b.useState(!1),[A,N]=b.useState(null);b.useEffect(()=>{S();const B=va(Fe,I=>{p(I)});return()=>B()},[]);const S=async()=>{u(!0);const B=await K8();a(B),u(!1)},D=async B=>{if(!d){v(!0);return}N(B);try{await G8(B),await S()}catch(I){console.error("Failed to join project:",I)}finally{N(null)}},j=()=>{d?T(!0):v(!0)},F=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],$=s.filter(B=>{const I=t==="All"||B.category===t,R=B.title.toLowerCase().includes(n.toLowerCase())||B.description.toLowerCase().includes(n.toLowerCase())||B.techStack?.some(P=>P.toLowerCase().includes(n.toLowerCase()));return I&&R}),H=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm animate-pulse",children:[h.jsx("div",{className:"h-40 bg-gray-100"}),h.jsxs("div",{className:"p-4",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-4"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"})]})]})]});return h.jsxs(Ku,{children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(tu,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Collaboration Projects"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Find projects to join and talented students to collaborate with."})]})]}),h.jsxs("button",{onClick:j,className:"bg-[#0066FF] text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[h.jsx(YI,{className:"h-5 w-5"}),"Post Project"]})]})}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Wu,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search by title, description, or stack...",value:n,onChange:B=>r(B.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white focus:border-transparent transition-all"})]}),h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[h.jsxs("div",{className:"flex items-center gap-1.5 mr-2 shrink-0 text-gray-500",children:[h.jsx(b8,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filters:"})]}),F.map(B=>h.jsx("button",{onClick:()=>e(B),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${t===B?"bg-[#0066FF] border-[#0066FF] text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:B},B))]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l?Array.from({length:4}).map((B,I)=>h.jsx(H,{},I)):h.jsx(ns,{children:$.length>0?$.map(B=>h.jsxs(xe.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer",children:[h.jsxs("div",{className:"h-40 overflow-hidden relative",children:[h.jsx("img",{src:B.thumbnailUrl||`https://source.unsplash.com/random/800x600?tech,${B.category}`,alt:B.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-3 left-3",children:h.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-md text-[10px] font-bold text-[#0f172a] uppercase border border-white shadow-sm",children:B.category})})]}),h.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-[10px] overflow-hidden shrink-0",children:B.ownerAvatar?h.jsx("img",{src:B.ownerAvatar,alt:B.ownerName,className:"w-full h-full object-cover"}):B.ownerName[0]}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:B.ownerName})]}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:B.title}),h.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-4 h-8",children:B.description}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-4 h-6 overflow-hidden",children:B.techStack?.map(I=>h.jsxs("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2 py-0.5 rounded",children:["#",I]},I))}),h.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(tu,{className:"h-4 w-4"}),h.jsxs("span",{className:"text-[11px] font-medium",children:[B.members?.length||0," members"]})]}),h.jsx("button",{onClick:I=>{I.stopPropagation(),!B.members?.includes(d?.uid||"")&&(B.pendingRequests?.includes(d?.uid||"")||D(B.id))},disabled:A===B.id||B.members?.includes(d?.uid||"")||B.pendingRequests?.includes(d?.uid||""),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${B.members?.includes(d?.uid||"")?"bg-green-50 text-green-600 border border-green-100 cursor-default":B.pendingRequests?.includes(d?.uid||"")?"bg-yellow-50 text-yellow-600 border border-yellow-100 cursor-default":"bg-[#0066FF] text-white hover:bg-blue-600"}`,children:B.members?.includes(d?.uid||"")?"Joined":B.pendingRequests?.includes(d?.uid||"")?"Pending":A===B.id?"Joining...":"Join"})]})]})]},B.id)):h.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(tu,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Be the first to post a project in this category!"})]})})})]}),h.jsx(Cv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(tR,{isOpen:w,onClose:()=>T(!1),onSuccess:S})]})},zz=()=>{const t=Zn(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{try{const g=Xe(ye,"resources"),v=_t(g),T=(await Rn(v)).docs.map(A=>({id:A.id,...A.data()}));T.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(T)}catch(g){console.error("Error fetching resources:",g)}finally{s(!1)}},d=e.filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),p=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mb-4"}),h.jsx("div",{className:"h-5 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3"})]});return h.jsx(Ku,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(KI,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Resources"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Curated study materials and exam preparation guides to help you excel."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Wu,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search resources, exams, or topics...",value:a,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?Array.from({length:3}).map((g,v)=>h.jsx(p,{},v)):h.jsx(ns,{children:d.length>0?d.map(g=>h.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/resource/${g.id}`),className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all cursor-pointer group flex items-start gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-xl flex items-center justify-center text-3xl shrink-0 group-hover:scale-110 transition-transform",children:g.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors",children:g.title}),h.jsx(Q7,{className:"h-4 w-4 text-gray-300 group-hover:text-[#0066FF] group-hover:translate-x-1 transition-all"})]}),h.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed mb-3",children:g.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Study Guide"}),h.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Free Access"})]})]})]},g.id)):h.jsxs("div",{className:"py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(GI,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No resources found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try different keywords or check back later."})]})})})]})})},$z=()=>{const t=Zn(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{try{const v=Xe(ye,"roadmaps"),w=_t(v,zs("created_at","desc")),A=(await Rn(w)).docs.map(N=>({id:N.id,...N.data()}));n(A)}catch(v){console.error("Error fetching roadmaps:",v)}finally{s(!1)}},d=e.filter(v=>v.title.toLowerCase().includes(a.toLowerCase())||v.description.toLowerCase().includes(a.toLowerCase())),p=v=>{v.link&&(v.link.startsWith("http")||v.link.startsWith("https"))?window.open(v.link,"_blank"):(t(`/roadmap/${v.id}`),window.scrollTo(0,0))},g=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 animate-pulse",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl mb-4"}),h.jsx("div",{className:"h-5 bg-gray-100 rounded w-2/3 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]});return h.jsx(Ku,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(Dh,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Roadmaps"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Structured paths to help you master new skills and prepare for exams."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Wu,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search roadmaps by skill or career path...",value:a,onChange:v=>l(v.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:4}).map((v,w)=>h.jsx(g,{},w)):h.jsx(ns,{children:d.length>0?d.map(v=>h.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:()=>p(v),className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm hover:shadow-md transition-all cursor-pointer group flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-[#0066FF] group-hover:scale-110 transition-transform",children:h.jsx(Dh,{className:"h-6 w-6"})}),v.is_official&&h.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded-md",children:[h.jsx(O8,{className:"h-3 w-3"}),"OFFICIAL"]})]}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:v.title}),h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed mb-4 flex-1",children:v.description}),h.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50",children:[h.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:v.category||"General"}),h.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-[#0066FF]",children:["VIEW PATH",h.jsx(p8,{className:"h-3 w-3"})]})]})]},v.id)):h.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(Dh,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No roadmaps found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try searching for different skills or paths."})]})})})]})})},Wz=Zt.lazy(()=>ZE(()=>import("./Messages-DyNgeL4m.js"),[])),qz=Zt.lazy(()=>ZE(()=>import("./Notifications-CNpy0Sfh.js"),[])),Hz=()=>{const t=Lr();return Zt.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),t.hash?h.jsxs("main",{className:"bg-white min-h-screen",children:[h.jsx($8,{}),h.jsx("div",{id:"roadmaps",children:h.jsx(W8,{})}),h.jsx("div",{id:"projects",children:h.jsx(Y8,{})}),h.jsx("div",{id:"resources",children:h.jsx(X8,{})}),h.jsx(rU,{}),h.jsx(Lz,{})]}):h.jsx(Ku,{children:h.jsx(Uz,{})})},Gz=()=>h.jsxs("div",{className:"min-h-screen bg-[#f3f2ef] text-[#0f172a] font-sans",children:[h.jsx(Mz,{}),h.jsx(ZI,{}),h.jsxs(DN,{children:[h.jsx(Gn,{path:"/",element:h.jsx(Hz,{})}),h.jsx(Gn,{path:"/profile",element:h.jsx(ii,{children:h.jsx(DE,{})})}),h.jsx(Gn,{path:"/profile/:userId",element:h.jsx(ii,{children:h.jsx(DE,{})})}),h.jsx(Gn,{path:"/students",element:h.jsx(ii,{children:h.jsx(Dz,{})})}),h.jsx(Gn,{path:"/projects",element:h.jsx(ii,{children:h.jsx(Bz,{})})}),h.jsx(Gn,{path:"/resources",element:h.jsx(ii,{children:h.jsx(zz,{})})}),h.jsx(Gn,{path:"/roadmaps",element:h.jsx(ii,{children:h.jsx($z,{})})}),h.jsx(Gn,{path:"/onboarding",element:h.jsx(ii,{children:h.jsx(Ez,{})})}),h.jsx(Gn,{path:"/messages",element:h.jsx(ii,{children:h.jsx(Wz,{})})}),h.jsx(Gn,{path:"/notifications",element:h.jsx(ii,{children:h.jsx(qz,{})})}),h.jsx(Gn,{path:"/roadmap/:roadmapId",element:h.jsx(xz,{})}),h.jsx(Gn,{path:"/resource/:resourceId",element:h.jsx(_z,{})}),h.jsx(Gn,{path:"/login",element:h.jsx(bz,{})})]})]});$A.createRoot(document.getElementById("root")).render(h.jsx(b.StrictMode,{children:h.jsx(sk,{children:h.jsx(Gz,{})})}));export{k8 as F,Fe as a,Zz as b,Zn as c,t$ as d,n$ as e,u8 as f,AR as g,tu as h,h as j,Jz as l,e$ as m,b as r,Xz as s,Kz as u};
