(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sp={exports:{}},Fl={},ip={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function eA(){if(jv)return Re;jv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function C(B,J,be){this.props=B,this.context=J,this.refs=L,this.updater=be||A}C.prototype.isReactComponent={},C.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=C.prototype;function U(B,J,be){this.props=B,this.context=J,this.refs=L,this.updater=be||A}var K=U.prototype=new O;K.constructor=U,D(K,C.prototype),K.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,X={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function I(B,J,be){var Ce,ke={},Ne=null,ze=null;if(J!=null)for(Ce in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Ne=""+J.key),J)re.call(J,Ce)&&!b.hasOwnProperty(Ce)&&(ke[Ce]=J[Ce]);var Oe=arguments.length-2;if(Oe===1)ke.children=be;else if(1<Oe){for(var Ke=Array(Oe),en=0;en<Oe;en++)Ke[en]=arguments[en+2];ke.children=Ke}if(B&&B.defaultProps)for(Ce in Oe=B.defaultProps,Oe)ke[Ce]===void 0&&(ke[Ce]=Oe[Ce]);return{$$typeof:t,type:B,key:Ne,ref:ze,props:ke,_owner:X.current}}function R(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return J[be]})}var z=/\/+/g;function N(B,J){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):J.toString(36)}function We(B,J,be,Ce,ke){var Ne=typeof B;(Ne==="undefined"||Ne==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,ke=ke(ze),B=Ce===""?"."+N(ze,0):Ce,ne(ke)?(be="",B!=null&&(be=B.replace(z,"$&/")+"/"),We(ke,J,be,"",function(en){return en})):ke!=null&&(V(ke)&&(ke=R(ke,be+(!ke.key||ze&&ze.key===ke.key?"":(""+ke.key).replace(z,"$&/")+"/")+B)),J.push(ke)),1;if(ze=0,Ce=Ce===""?".":Ce+":",ne(B))for(var Oe=0;Oe<B.length;Oe++){Ne=B[Oe];var Ke=Ce+N(Ne,Oe);ze+=We(Ne,J,be,Ke,ke)}else if(Ke=E(B),typeof Ke=="function")for(B=Ke.call(B),Oe=0;!(Ne=B.next()).done;)Ne=Ne.value,Ke=Ce+N(Ne,Oe++),ze+=We(Ne,J,be,Ke,ke);else if(Ne==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function ct(B,J,be){if(B==null)return B;var Ce=[],ke=0;return We(B,Ce,"","",function(Ne){return J.call(be,Ne,ke++)}),Ce}function Vt(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Ae={current:null},se={transition:null},fe={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:se,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ct,forEach:function(B,J,be){ct(B,function(){J.apply(this,arguments)},be)},count:function(B){var J=0;return ct(B,function(){J++}),J},toArray:function(B){return ct(B,function(J){return J})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=C,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=U,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(B,J,be){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=D({},B.props),ke=B.key,Ne=B.ref,ze=B._owner;if(J!=null){if(J.ref!==void 0&&(Ne=J.ref,ze=X.current),J.key!==void 0&&(ke=""+J.key),B.type&&B.type.defaultProps)var Oe=B.type.defaultProps;for(Ke in J)re.call(J,Ke)&&!b.hasOwnProperty(Ke)&&(Ce[Ke]=J[Ke]===void 0&&Oe!==void 0?Oe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Ce.children=be;else if(1<Ke){Oe=Array(Ke);for(var en=0;en<Ke;en++)Oe[en]=arguments[en+2];Ce.children=Oe}return{$$typeof:t,type:B.type,key:ke,ref:Ne,props:Ce,_owner:ze}},Re.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Re.createElement=I,Re.createFactory=function(B){var J=I.bind(null,B);return J.type=B,J},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:h,render:B}},Re.isValidElement=V,Re.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Vt}},Re.memo=function(B,J){return{$$typeof:p,type:B,compare:J===void 0?null:J}},Re.startTransition=function(B){var J=se.transition;se.transition={};try{B()}finally{se.transition=J}},Re.unstable_act=ae,Re.useCallback=function(B,J){return Ae.current.useCallback(B,J)},Re.useContext=function(B){return Ae.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return Ae.current.useDeferredValue(B)},Re.useEffect=function(B,J){return Ae.current.useEffect(B,J)},Re.useId=function(){return Ae.current.useId()},Re.useImperativeHandle=function(B,J,be){return Ae.current.useImperativeHandle(B,J,be)},Re.useInsertionEffect=function(B,J){return Ae.current.useInsertionEffect(B,J)},Re.useLayoutEffect=function(B,J){return Ae.current.useLayoutEffect(B,J)},Re.useMemo=function(B,J){return Ae.current.useMemo(B,J)},Re.useReducer=function(B,J,be){return Ae.current.useReducer(B,J,be)},Re.useRef=function(B){return Ae.current.useRef(B)},Re.useState=function(B){return Ae.current.useState(B)},Re.useSyncExternalStore=function(B,J,be){return Ae.current.useSyncExternalStore(B,J,be)},Re.useTransition=function(){return Ae.current.useTransition()},Re.version="18.3.1",Re}var Mv;function jm(){return Mv||(Mv=1,ip.exports=eA()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function tA(){if(Ov)return Fl;Ov=1;var t=jm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var y,_={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:h,key:E,ref:A,props:_,_owner:i.current}}return Fl.Fragment=n,Fl.jsx=l,Fl.jsxs=l,Fl}var Fv;function nA(){return Fv||(Fv=1,sp.exports=tA()),sp.exports}var g=nA(),P=jm();const Mm=Z2(P);var nh={},op={exports:{}},hn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function rA(){return Uv||(Uv=1,(function(t){function e(se,fe){var ae=se.length;se.push(fe);e:for(;0<ae;){var B=ae-1>>>1,J=se[B];if(0<i(J,fe))se[B]=fe,se[ae]=J,ae=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var fe=se[0],ae=se.pop();if(ae!==fe){se[0]=ae;e:for(var B=0,J=se.length,be=J>>>1;B<be;){var Ce=2*(B+1)-1,ke=se[Ce],Ne=Ce+1,ze=se[Ne];if(0>i(ke,ae))Ne<J&&0>i(ze,ke)?(se[B]=ze,se[Ne]=ae,B=Ne):(se[B]=ke,se[Ce]=ae,B=Ce);else if(Ne<J&&0>i(ze,ae))se[B]=ze,se[Ne]=ae,B=Ne;else break e}}return fe}function i(se,fe){var ae=se.sortIndex-fe.sortIndex;return ae!==0?ae:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],y=1,_=null,E=3,A=!1,D=!1,L=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(se){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=se)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(p)}}function ne(se){if(L=!1,K(se),!D)if(n(f)!==null)D=!0,Vt(re);else{var fe=n(p);fe!==null&&Ae(ne,fe.startTime-se)}}function re(se,fe){D=!1,L&&(L=!1,O(I),I=-1),A=!0;var ae=E;try{for(K(fe),_=n(f);_!==null&&(!(_.expirationTime>fe)||se&&!j());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var J=B(_.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(f)&&r(f),K(fe)}else r(f);_=n(f)}if(_!==null)var be=!0;else{var Ce=n(p);Ce!==null&&Ae(ne,Ce.startTime-fe),be=!1}return be}finally{_=null,E=ae,A=!1}}var X=!1,b=null,I=-1,R=5,V=-1;function j(){return!(t.unstable_now()-V<R)}function z(){if(b!==null){var se=t.unstable_now();V=se;var fe=!0;try{fe=b(!0,se)}finally{fe?N():(X=!1,b=null)}}else X=!1}var N;if(typeof U=="function")N=function(){U(z)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ct=We.port2;We.port1.onmessage=z,N=function(){ct.postMessage(null)}}else N=function(){C(z,0)};function Vt(se){b=se,X||(X=!0,N())}function Ae(se,fe){I=C(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,Vt(re))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return se()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=E;E=se;try{return fe()}finally{E=ae}},t.unstable_scheduleCallback=function(se,fe,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,se={id:y++,callback:fe,priorityLevel:se,startTime:ae,expirationTime:J,sortIndex:-1},ae>B?(se.sortIndex=ae,e(p,se),n(f)===null&&se===n(p)&&(L?(O(I),I=-1):L=!0,Ae(ne,ae-B))):(se.sortIndex=J,e(f,se),D||A||(D=!0,Vt(re))),se},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(se){var fe=E;return function(){var ae=E;E=fe;try{return se.apply(this,arguments)}finally{E=ae}}}})(lp)),lp}var Bv;function sA(){return Bv||(Bv=1,ap.exports=rA()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function iA(){if(zv)return hn;zv=1;var t=jm(),e=sA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(s){return f.call(_,s)?!0:f.call(y,s)?!1:p.test(s)?_[s]=!0:(y[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(s,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new L(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(O,U);C[o]=new L(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(O,U);C[o]=new L(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(O,U);C[o]=new L(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,o,u,d){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),X=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),se=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,B;function J(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var be=!1;function Ce(s,o){if(!s||be)return"";be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){d=q}s.call(o.prototype)}else{try{throw Error()}catch(q){d=q}s()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,k=v.length-1;1<=T&&0<=k&&m[T]!==v[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==v[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==v[k]){var M=`
`+m[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=k);break}}}finally{be=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function ke(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case X:return"Portal";case R:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case We:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ct:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case Vt:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(s){var o=Ke(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yo(s){s._valueTracker||(s._valueTracker=en(s))}function Ha(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ke(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function vs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vo(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Bu(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function wo(s,o){o=o.checked,o!=null&&K(s,"checked",o,!1)}function wi(s,o){wo(s,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?yt(s,o.type,u):o.hasOwnProperty("defaultValue")&&yt(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function qa(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function yt(s,o,u){(o!=="number"||vs(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ht=Array.isArray;function $n(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ka(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ga(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ht(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function zu(s,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function ws(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Qa(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Qa(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var _s,$u=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=_s.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function _i(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wu=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(s){Wu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),xs[o]=xs[s]})});function Es(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||xs.hasOwnProperty(s)&&xs[s]?(""+o).trim():o+"px"}function xo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Es(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Ya=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(s,o){if(o){if(Ya[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Eo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=null;function To(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Or=null,Fr=null,at=null;function Xa(s){if(s=Sl(s)){if(typeof Or!="function")throw Error(n(280));var o=s.stateNode;o&&(o=yc(o),Or(s.stateNode,s.type,o))}}function Ss(s){Fr?at?at.push(s):at=[s]:Fr=s}function Is(){if(Fr){var s=Fr,o=at;if(at=Fr=null,Xa(s),o)for(s=0;s<o.length;s++)Xa(o[s])}}function Hu(s,o){return s(o)}function qu(){}var ur=!1;function Ku(s,o,u){if(ur)return s(o,u);ur=!0;try{return Hu(s,o,u)}finally{ur=!1,(Fr!==null||at!==null)&&(qu(),Is())}}function xi(s,o){var u=s.stateNode;if(u===null)return null;var d=yc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var As=!1;if(h)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){As=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{As=!1}function Gu(s,o,u,d,m,v,T,k,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Ur=!1,cr=null,So=!1,In=null,Qu={onError:function(s){Ur=!0,cr=s}};function Yu(s,o,u,d,m,v,T,k,M){Ur=!1,cr=null,Gu.apply(Qu,arguments)}function Ja(s,o,u,d,m,v,T,k,M){if(Yu.apply(this,arguments),Ur){if(Ur){var q=cr;Ur=!1,cr=null}else throw Error(n(198));So||(So=!0,In=q)}}function Hn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Za(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Xu(s){if(Hn(s)!==s)throw Error(n(188))}function Ju(s){var o=s.alternate;if(!o){if(o=Hn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Xu(m),s;if(v===d)return Xu(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,k=m.child;k;){if(k===u){T=!0,u=m,d=v;break}if(k===d){T=!0,d=m,u=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===u){T=!0,u=v,d=m;break}if(k===d){T=!0,d=v,u=m;break}k=k.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Zu(s){return s=Ju(s),s!==null?Ei(s):null}function Ei(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ei(s);if(o!==null)return o;s=s.sibling}return null}var el=e.unstable_scheduleCallback,Io=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,Br=e.unstable_requestPaint,Xe=e.unstable_now,Vd=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,tl=e.unstable_UserBlockingPriority,Si=e.unstable_NormalPriority,nl=e.unstable_LowPriority,bo=e.unstable_IdlePriority,Ii=null,pn=null;function ec(s){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ii,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Ai,hr=Math.log,An=Math.LN2;function Ai(s){return s>>>=0,s===0?32:31-(hr(s)/An|0)|0}var dr=64,Cs=4194304;function Be(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zr(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var k=T&~m;k!==0?d=Be(k):(v&=T,v!==0&&(d=Be(v)))}else T=u&~m,T!==0?d=Be(T):v!==0&&(d=Be(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-mn(o),m=1<<u,d|=s[u],o&=~m;return d}function bi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-mn(v),k=1<<T,M=m[T];M===-1?((k&u)===0||(k&d)!==0)&&(m[T]=bi(k,o)):M<=o&&(s.expiredLanes|=k),v&=~k}}function rl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function sl(){var s=dr;return dr<<=1,(dr&4194240)===0&&(dr=64),s}function il(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Pi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-mn(o),s[o]=u}function Ld(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-mn(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function ol(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-mn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var je=0;function fr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var al,Co,ll,ul,cl,pr=!1,Po=[],mr=null,gr=null,Lt=null,Ri=new Map,$r=new Map,gn=[],tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ps(s,o){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Ri.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(o.pointerId)}}function qn(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Sl(o),o!==null&&Co(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function nc(s,o,u,d,m){switch(o){case"focusin":return mr=qn(mr,s,o,u,d,m),!0;case"dragenter":return gr=qn(gr,s,o,u,d,m),!0;case"mouseover":return Lt=qn(Lt,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Ri.set(v,qn(Ri.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,$r.set(v,qn($r.get(v)||null,s,o,u,d,m)),!0}return!1}function Ro(s){var o=Vi(s.target);if(o!==null){var u=Hn(o);if(u!==null){if(o=u.tag,o===13){if(o=Za(u),o!==null){s.blockedOn=o,cl(s.priority,function(){ll(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Ts=d,u.target.dispatchEvent(d),Ts=null}else return o=Sl(u),o!==null&&Co(o),s.blockedOn=u,!1;o.shift()}return!0}function rc(s,o,u){Ge(s)&&u.delete(o)}function jd(){pr=!1,mr!==null&&Ge(mr)&&(mr=null),gr!==null&&Ge(gr)&&(gr=null),Lt!==null&&Ge(Lt)&&(Lt=null),Ri.forEach(rc),$r.forEach(rc)}function Rs(s,o){s.blockedOn===o&&(s.blockedOn=null,pr||(pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jd)))}function ks(s){function o(m){return Rs(m,s)}if(0<Po.length){Rs(Po[0],s);for(var u=1;u<Po.length;u++){var d=Po[u];d.blockedOn===s&&(d.blockedOn=null)}}for(mr!==null&&Rs(mr,s),gr!==null&&Rs(gr,s),Lt!==null&&Rs(Lt,s),Ri.forEach(o),$r.forEach(o),u=0;u<gn.length;u++)d=gn[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<gn.length&&(u=gn[0],u.blockedOn===null);)Ro(u),u.blockedOn===null&&gn.shift()}var Wr=ne.ReactCurrentBatchConfig,Hr=!0;function yr(s,o,u,d){var m=je,v=Wr.transition;Wr.transition=null;try{je=1,hl(s,o,u,d)}finally{je=m,Wr.transition=v}}function sc(s,o,u,d){var m=je,v=Wr.transition;Wr.transition=null;try{je=4,hl(s,o,u,d)}finally{je=m,Wr.transition=v}}function hl(s,o,u,d){if(Hr){var m=ko(s,o,u,d);if(m===null)Kd(s,o,d,vr,u),Ps(s,d);else if(nc(m,s,o,u,d))d.stopPropagation();else if(Ps(s,d),o&4&&-1<tc.indexOf(s)){for(;m!==null;){var v=Sl(m);if(v!==null&&al(v),v=ko(s,o,u,d),v===null&&Kd(s,o,d,vr,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else Kd(s,o,d,null,u)}}var vr=null;function ko(s,o,u,d){if(vr=null,s=To(d),s=Vi(s),s!==null)if(o=Hn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Za(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return vr=s,null}function No(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vd()){case Ao:return 1;case tl:return 4;case Si:case nl:return 16;case bo:return 536870912;default:return 16}default:return 16}}var yn=null,Do=null,qr=null;function ic(){if(qr)return qr;var s,o=Do,u=o.length,d,m="value"in yn?yn.value:yn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var T=u-s;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return qr=m.slice(s,1<d?1-d:void 0)}function ki(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function wr(){return!0}function dl(){return!1}function Wt(s){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:dl,this.isPropagationStopped=dl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Wt(_r),Ns=ae({},_r,{view:0,detail:0}),Vo=Wt(Ns),Lo,jo,vn,Di=ae({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==vn&&(vn&&s.type==="mousemove"?(Lo=s.screenX-vn.screenX,jo=s.screenY-vn.screenY):jo=Lo=0,vn=s),Lo)},movementY:function(s){return"movementY"in s?s.movementY:jo}}),fl=Wt(Di),oc=ae({},Di,{dataTransfer:0}),ac=Wt(oc),Mo=ae({},Ns,{relatedTarget:0}),jt=Wt(Mo),lc=ae({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Wt(lc),Ds=ae({},_r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Wt(Ds),w=ae({},_r,{data:0}),x=Wt(w),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=G[s])?!!o[s]:!1}function Se(){return oe}var dt=ae({},Ns,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(s){return s.type==="keypress"?ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),He=Wt(dt),vt=ae({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wn=Wt(vt),Kr=ae({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),xr=Wt(Kr),Er=ae({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=Wt(Er),pl=ae({},Di,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=Wt(pl),GI=[9,13,27,32],Md=h&&"CompositionEvent"in window,ml=null;h&&"documentMode"in document&&(ml=document.documentMode);var QI=h&&"TextEvent"in window&&!ml,Cy=h&&(!Md||ml&&8<ml&&11>=ml),Py=" ",Ry=!1;function ky(s,o){switch(s){case"keyup":return GI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function YI(s,o){switch(s){case"compositionend":return Ny(o);case"keypress":return o.which!==32?null:(Ry=!0,Py);case"textInput":return s=o.data,s===Py&&Ry?null:s;default:return null}}function XI(s,o){if(Fo)return s==="compositionend"||!Md&&ky(s,o)?(s=ic(),qr=Do=yn=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Cy&&o.locale!=="ko"?null:o.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!JI[s.type]:o==="textarea"}function Vy(s,o,u,d){Ss(d),o=pc(o,"onChange"),0<o.length&&(u=new Ni("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var gl=null,yl=null;function ZI(s){Jy(s,0)}function cc(s){var o=Wo(s);if(Ha(o))return s}function e2(s,o){if(s==="change")return o}var Ly=!1;if(h){var Od;if(h){var Fd="oninput"in document;if(!Fd){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Fd=typeof jy.oninput=="function"}Od=Fd}else Od=!1;Ly=Od&&(!document.documentMode||9<document.documentMode)}function My(){gl&&(gl.detachEvent("onpropertychange",Oy),yl=gl=null)}function Oy(s){if(s.propertyName==="value"&&cc(yl)){var o=[];Vy(o,yl,s,To(s)),Ku(ZI,o)}}function t2(s,o,u){s==="focusin"?(My(),gl=o,yl=u,gl.attachEvent("onpropertychange",Oy)):s==="focusout"&&My()}function n2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cc(yl)}function r2(s,o){if(s==="click")return cc(o)}function s2(s,o){if(s==="input"||s==="change")return cc(o)}function i2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Kn=typeof Object.is=="function"?Object.is:i2;function vl(s,o){if(Kn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Kn(s[m],o[m]))return!1}return!0}function Fy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uy(s,o){var u=Fy(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fy(u)}}function By(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?By(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function zy(){for(var s=window,o=vs();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=vs(s.document)}return o}function Ud(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function o2(s){var o=zy(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&By(u.ownerDocument.documentElement,u)){if(d!==null&&Ud(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=Uy(u,v);var T=Uy(u,d);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var a2=h&&"documentMode"in document&&11>=document.documentMode,Uo=null,Bd=null,wl=null,zd=!1;function $y(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zd||Uo==null||Uo!==vs(d)||(d=Uo,"selectionStart"in d&&Ud(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wl&&vl(wl,d)||(wl=d,d=pc(Bd,"onSelect"),0<d.length&&(o=new Ni("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Uo)))}function hc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Bo={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},$d={},Wy={};h&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function dc(s){if($d[s])return $d[s];if(!Bo[s])return s;var o=Bo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Wy)return $d[s]=o[u];return s}var Hy=dc("animationend"),qy=dc("animationiteration"),Ky=dc("animationstart"),Gy=dc("transitionend"),Qy=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(s,o){Qy.set(s,o),a(o,[s])}for(var Wd=0;Wd<Yy.length;Wd++){var Hd=Yy[Wd],l2=Hd.toLowerCase(),u2=Hd[0].toUpperCase()+Hd.slice(1);Vs(l2,"on"+u2)}Vs(Hy,"onAnimationEnd"),Vs(qy,"onAnimationIteration"),Vs(Ky,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs(Gy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Xy(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Ja(d,o,void 0,s),s.currentTarget=null}function Jy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],M=k.instance,q=k.currentTarget;if(k=k.listener,M!==v&&m.isPropagationStopped())break e;Xy(m,k,q),v=M}else for(T=0;T<d.length;T++){if(k=d[T],M=k.instance,q=k.currentTarget,k=k.listener,M!==v&&m.isPropagationStopped())break e;Xy(m,k,q),v=M}}}if(So)throw s=In,So=!1,In=null,s}function Je(s,o){var u=o[Zd];u===void 0&&(u=o[Zd]=new Set);var d=s+"__bubble";u.has(d)||(Zy(o,s,2,!1),u.add(d))}function qd(s,o,u){var d=0;o&&(d|=4),Zy(u,s,d,o)}var fc="_reactListening"+Math.random().toString(36).slice(2);function xl(s){if(!s[fc]){s[fc]=!0,r.forEach(function(u){u!=="selectionchange"&&(c2.has(u)||qd(u,!1,s),qd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[fc]||(o[fc]=!0,qd("selectionchange",!1,o))}}function Zy(s,o,u,d){switch(No(o)){case 1:var m=yr;break;case 4:m=sc;break;default:m=hl}u=m.bind(null,o,u,s),m=void 0,!As||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Kd(s,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;k!==null;){if(T=Vi(k),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}k=k.parentNode}}d=d.return}Ku(function(){var q=v,ee=To(u),te=[];e:{var Z=Qy.get(s);if(Z!==void 0){var ue=Ni,de=s;switch(s){case"keypress":if(ki(u)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":de="focus",ue=jt;break;case"focusout":de="blur",ue=jt;break;case"beforeblur":case"afterblur":ue=jt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=xr;break;case Hy:case qy:case Ky:ue=uc;break;case Gy:ue=Oo;break;case"scroll":ue=Vo;break;case"wheel":ue=KI;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=wn}var pe=(o&4)!==0,ft=!pe&&s==="scroll",$=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var F=q,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=xi(F,$),ie!=null&&pe.push(El(F,ie,H)))),ft)break;F=F.return}0<pe.length&&(Z=new ue(Z,de,null,u,ee),te.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&u!==Ts&&(de=u.relatedTarget||u.fromElement)&&(Vi(de)||de[Gr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?Vi(de):null,de!==null&&(ft=Hn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(pe=fl,ie="onMouseLeave",$="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(pe=wn,ie="onPointerLeave",$="onPointerEnter",F="pointer"),ft=ue==null?Z:Wo(ue),H=de==null?Z:Wo(de),Z=new pe(ie,F+"leave",ue,u,ee),Z.target=ft,Z.relatedTarget=H,ie=null,Vi(ee)===q&&(pe=new pe($,F+"enter",de,u,ee),pe.target=H,pe.relatedTarget=ft,ie=pe),ft=ie,ue&&de)t:{for(pe=ue,$=de,F=0,H=pe;H;H=zo(H))F++;for(H=0,ie=$;ie;ie=zo(ie))H++;for(;0<F-H;)pe=zo(pe),F--;for(;0<H-F;)$=zo($),H--;for(;F--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=zo(pe),$=zo($)}pe=null}else pe=null;ue!==null&&e0(te,Z,ue,pe,!1),de!==null&&ft!==null&&e0(te,ft,de,pe,!0)}}e:{if(Z=q?Wo(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=e2;else if(Dy(Z))if(Ly)me=s2;else{me=n2;var ye=t2}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=r2);if(me&&(me=me(s,q))){Vy(te,me,u,ee);break e}ye&&ye(s,Z,q),s==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&yt(Z,"number",Z.value)}switch(ye=q?Wo(q):window,s){case"focusin":(Dy(ye)||ye.contentEditable==="true")&&(Uo=ye,Bd=q,wl=null);break;case"focusout":wl=Bd=Uo=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,$y(te,u,ee);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":$y(te,u,ee)}var ve;if(Md)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Fo?ky(s,u)&&(Ee="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Cy&&u.locale!=="ko"&&(Fo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Fo&&(ve=ic()):(yn=ee,Do="value"in yn?yn.value:yn.textContent,Fo=!0)),ye=pc(q,Ee),0<ye.length&&(Ee=new x(Ee,s,null,u,ee),te.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Ny(u),ve!==null&&(Ee.data=ve)))),(ve=QI?YI(s,u):XI(s,u))&&(q=pc(q,"onBeforeInput"),0<q.length&&(ee=new x("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:q}),ee.data=ve))}Jy(te,o)})}function El(s,o,u){return{instance:s,listener:o,currentTarget:u}}function pc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=xi(s,u),v!=null&&d.unshift(El(s,v,m)),v=xi(s,o),v!=null&&d.push(El(s,v,m))),s=s.return}return d}function zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function e0(s,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var k=u,M=k.alternate,q=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&q!==null&&(k=q,m?(M=xi(u,v),M!=null&&T.unshift(El(u,M,k))):m||(M=xi(u,v),M!=null&&T.push(El(u,M,k)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var h2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function t0(s){return(typeof s=="string"?s:""+s).replace(h2,`
`).replace(d2,"")}function mc(s,o,u){if(o=t0(o),t0(s)!==o&&u)throw Error(n(425))}function gc(){}var Gd=null,Qd=null;function Yd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(s){return n0.resolve(null).then(s).catch(m2)}:Xd;function m2(s){setTimeout(function(){throw s})}function Jd(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),ks(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);ks(o)}function Ls(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function r0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Tr="__reactFiber$"+$o,Tl="__reactProps$"+$o,Gr="__reactContainer$"+$o,Zd="__reactEvents$"+$o,g2="__reactListeners$"+$o,y2="__reactHandles$"+$o;function Vi(s){var o=s[Tr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Gr]||u[Tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=r0(s);s!==null;){if(u=s[Tr])return u;s=r0(s)}return o}s=u,u=s.parentNode}return null}function Sl(s){return s=s[Tr]||s[Gr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function yc(s){return s[Tl]||null}var ef=[],Ho=-1;function js(s){return{current:s}}function Ze(s){0>Ho||(s.current=ef[Ho],ef[Ho]=null,Ho--)}function Qe(s,o){Ho++,ef[Ho]=s.current,s.current=o}var Ms={},Ht=js(Ms),on=js(!1),Li=Ms;function qo(s,o){var u=s.type.contextTypes;if(!u)return Ms;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function an(s){return s=s.childContextTypes,s!=null}function vc(){Ze(on),Ze(Ht)}function s0(s,o,u){if(Ht.current!==Ms)throw Error(n(168));Qe(Ht,o),Qe(on,u)}function i0(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,ze(s)||"Unknown",m));return ae({},u,d)}function wc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ms,Li=Ht.current,Qe(Ht,s),Qe(on,on.current),!0}function o0(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=i0(s,o,Li),d.__reactInternalMemoizedMergedChildContext=s,Ze(on),Ze(Ht),Qe(Ht,s)):Ze(on),Qe(on,u)}var Qr=null,_c=!1,tf=!1;function a0(s){Qr===null?Qr=[s]:Qr.push(s)}function v2(s){_c=!0,a0(s)}function Os(){if(!tf&&Qr!==null){tf=!0;var s=0,o=je;try{var u=Qr;for(je=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Qr=null,_c=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(s+1)),el(Ao,Os),m}finally{je=o,tf=!1}}return null}var Ko=[],Go=0,xc=null,Ec=0,bn=[],Cn=0,ji=null,Yr=1,Xr="";function Mi(s,o){Ko[Go++]=Ec,Ko[Go++]=xc,xc=s,Ec=o}function l0(s,o,u){bn[Cn++]=Yr,bn[Cn++]=Xr,bn[Cn++]=ji,ji=s;var d=Yr;s=Xr;var m=32-mn(d)-1;d&=~(1<<m),u+=1;var v=32-mn(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Yr=1<<32-mn(o)+m|u<<m|d,Xr=v+s}else Yr=1<<v|u<<m|d,Xr=s}function nf(s){s.return!==null&&(Mi(s,1),l0(s,1,0))}function rf(s){for(;s===xc;)xc=Ko[--Go],Ko[Go]=null,Ec=Ko[--Go],Ko[Go]=null;for(;s===ji;)ji=bn[--Cn],bn[Cn]=null,Xr=bn[--Cn],bn[Cn]=null,Yr=bn[--Cn],bn[Cn]=null}var _n=null,xn=null,et=!1,Gn=null;function u0(s,o){var u=Nn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function c0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_n=s,xn=Ls(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_n=s,xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ji!==null?{id:Yr,overflow:Xr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Nn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,_n=s,xn=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function of(s){if(et){var o=xn;if(o){var u=o;if(!c0(s,o)){if(sf(s))throw Error(n(418));o=Ls(u.nextSibling);var d=_n;o&&c0(s,o)?u0(d,u):(s.flags=s.flags&-4097|2,et=!1,_n=s)}}else{if(sf(s))throw Error(n(418));s.flags=s.flags&-4097|2,et=!1,_n=s}}}function h0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_n=s}function Tc(s){if(s!==_n)return!1;if(!et)return h0(s),et=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Yd(s.type,s.memoizedProps)),o&&(o=xn)){if(sf(s))throw d0(),Error(n(418));for(;o;)u0(s,o),o=Ls(o.nextSibling)}if(h0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){xn=Ls(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}xn=null}}else xn=_n?Ls(s.stateNode.nextSibling):null;return!0}function d0(){for(var s=xn;s;)s=Ls(s.nextSibling)}function Qo(){xn=_n=null,et=!1}function af(s){Gn===null?Gn=[s]:Gn.push(s)}var w2=ne.ReactCurrentBatchConfig;function Il(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var k=m.refs;T===null?delete k[v]:k[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Sc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function f0(s){var o=s._init;return o(s._payload)}function p0(s){function o($,F){if(s){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function u($,F){if(!s)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function d($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function m($,F){return $=qs($,F),$.index=0,$.sibling=null,$}function v($,F,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function T($){return s&&$.alternate===null&&($.flags|=2),$}function k($,F,H,ie){return F===null||F.tag!==6?(F=Jf(H,$.mode,ie),F.return=$,F):(F=m(F,H),F.return=$,F)}function M($,F,H,ie){var me=H.type;return me===b?ee($,F,H.props.children,ie,H.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&f0(me)===F.type)?(ie=m(F,H.props),ie.ref=Il($,F,H),ie.return=$,ie):(ie=Gc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Il($,F,H),ie.return=$,ie)}function q($,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Zf(H,$.mode,ie),F.return=$,F):(F=m(F,H.children||[]),F.return=$,F)}function ee($,F,H,ie,me){return F===null||F.tag!==7?(F=Hi(H,$.mode,ie,me),F.return=$,F):(F=m(F,H),F.return=$,F)}function te($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Jf(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case re:return H=Gc(F.type,F.key,F.props,null,$.mode,H),H.ref=Il($,null,F),H.return=$,H;case X:return F=Zf(F,$.mode,H),F.return=$,F;case Vt:var ie=F._init;return te($,ie(F._payload),H)}if(ht(F)||fe(F))return F=Hi(F,$.mode,H,null),F.return=$,F;Sc($,F)}return null}function Z($,F,H,ie){var me=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:k($,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case re:return H.key===me?M($,F,H,ie):null;case X:return H.key===me?q($,F,H,ie):null;case Vt:return me=H._init,Z($,F,me(H._payload),ie)}if(ht(H)||fe(H))return me!==null?null:ee($,F,H,ie,null);Sc($,H)}return null}function ue($,F,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,k(F,$,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return $=$.get(ie.key===null?H:ie.key)||null,M(F,$,ie,me);case X:return $=$.get(ie.key===null?H:ie.key)||null,q(F,$,ie,me);case Vt:var ye=ie._init;return ue($,F,H,ye(ie._payload),me)}if(ht(ie)||fe(ie))return $=$.get(H)||null,ee(F,$,ie,me,null);Sc(F,ie)}return null}function de($,F,H,ie){for(var me=null,ye=null,ve=F,Ee=F=0,kt=null;ve!==null&&Ee<H.length;Ee++){ve.index>Ee?(kt=ve,ve=null):kt=ve.sibling;var Ue=Z($,ve,H[Ee],ie);if(Ue===null){ve===null&&(ve=kt);break}s&&ve&&Ue.alternate===null&&o($,ve),F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue,ve=kt}if(Ee===H.length)return u($,ve),et&&Mi($,Ee),me;if(ve===null){for(;Ee<H.length;Ee++)ve=te($,H[Ee],ie),ve!==null&&(F=v(ve,F,Ee),ye===null?me=ve:ye.sibling=ve,ye=ve);return et&&Mi($,Ee),me}for(ve=d($,ve);Ee<H.length;Ee++)kt=ue(ve,$,Ee,H[Ee],ie),kt!==null&&(s&&kt.alternate!==null&&ve.delete(kt.key===null?Ee:kt.key),F=v(kt,F,Ee),ye===null?me=kt:ye.sibling=kt,ye=kt);return s&&ve.forEach(function(Ks){return o($,Ks)}),et&&Mi($,Ee),me}function pe($,F,H,ie){var me=fe(H);if(typeof me!="function")throw Error(n(150));if(H=me.call(H),H==null)throw Error(n(151));for(var ye=me=null,ve=F,Ee=F=0,kt=null,Ue=H.next();ve!==null&&!Ue.done;Ee++,Ue=H.next()){ve.index>Ee?(kt=ve,ve=null):kt=ve.sibling;var Ks=Z($,ve,Ue.value,ie);if(Ks===null){ve===null&&(ve=kt);break}s&&ve&&Ks.alternate===null&&o($,ve),F=v(Ks,F,Ee),ye===null?me=Ks:ye.sibling=Ks,ye=Ks,ve=kt}if(Ue.done)return u($,ve),et&&Mi($,Ee),me;if(ve===null){for(;!Ue.done;Ee++,Ue=H.next())Ue=te($,Ue.value,ie),Ue!==null&&(F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return et&&Mi($,Ee),me}for(ve=d($,ve);!Ue.done;Ee++,Ue=H.next())Ue=ue(ve,$,Ee,Ue.value,ie),Ue!==null&&(s&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ee:Ue.key),F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return s&&ve.forEach(function(J2){return o($,J2)}),et&&Mi($,Ee),me}function ft($,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===b&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case re:e:{for(var me=H.key,ye=F;ye!==null;){if(ye.key===me){if(me=H.type,me===b){if(ye.tag===7){u($,ye.sibling),F=m(ye,H.props.children),F.return=$,$=F;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&f0(me)===ye.type){u($,ye.sibling),F=m(ye,H.props),F.ref=Il($,ye,H),F.return=$,$=F;break e}u($,ye);break}else o($,ye);ye=ye.sibling}H.type===b?(F=Hi(H.props.children,$.mode,ie,H.key),F.return=$,$=F):(ie=Gc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Il($,F,H),ie.return=$,$=ie)}return T($);case X:e:{for(ye=H.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){u($,F.sibling),F=m(F,H.children||[]),F.return=$,$=F;break e}else{u($,F);break}else o($,F);F=F.sibling}F=Zf(H,$.mode,ie),F.return=$,$=F}return T($);case Vt:return ye=H._init,ft($,F,ye(H._payload),ie)}if(ht(H))return de($,F,H,ie);if(fe(H))return pe($,F,H,ie);Sc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(u($,F.sibling),F=m(F,H),F.return=$,$=F):(u($,F),F=Jf(H,$.mode,ie),F.return=$,$=F),T($)):u($,F)}return ft}var Yo=p0(!0),m0=p0(!1),Ic=js(null),Ac=null,Xo=null,lf=null;function uf(){lf=Xo=Ac=null}function cf(s){var o=Ic.current;Ze(Ic),s._currentValue=o}function hf(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Jo(s,o){Ac=s,lf=Xo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ln=!0),s.firstContext=null)}function Pn(s){var o=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:o,next:null},Xo===null){if(Ac===null)throw Error(n(308));Xo=s,Ac.dependencies={lanes:0,firstContext:s}}else Xo=Xo.next=s;return o}var Oi=null;function df(s){Oi===null?Oi=[s]:Oi.push(s)}function g0(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,df(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(s,d)}function Jr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Fs=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Zr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Us(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Fe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Jr(s,u)}return m=d.interleaved,m===null?(o.next=o,df(d)):(o.next=m.next,m.next=o),d.interleaved=o,Jr(s,u)}function bc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ol(s,u)}}function v0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Cc(s,o,u,d){var m=s.updateQueue;Fs=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,q=M.next;M.next=null,T===null?v=q:T.next=q,T=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=q:k.next=q,ee.lastBaseUpdate=M))}if(v!==null){var te=m.baseState;T=0,ee=q=M=null,k=v;do{var Z=k.lane,ue=k.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=s,pe=k;switch(Z=o,ue=u,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){te=de.call(ue,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Z=typeof de=="function"?de.call(ue,te,Z):de,Z==null)break e;te=ae({},te,Z);break e;case 2:Fs=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(q=ee=ue,M=te):ee=ee.next=ue,T|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(M=te),m.baseState=M,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Bi|=T,s.lanes=T,s.memoizedState=te}}function w0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Al={},Sr=js(Al),bl=js(Al),Cl=js(Al);function Fi(s){if(s===Al)throw Error(n(174));return s}function pf(s,o){switch(Qe(Cl,o),Qe(bl,s),Qe(Sr,Al),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_o(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=_o(o,s)}Ze(Sr),Qe(Sr,o)}function Zo(){Ze(Sr),Ze(bl),Ze(Cl)}function _0(s){Fi(Cl.current);var o=Fi(Sr.current),u=_o(o,s.type);o!==u&&(Qe(bl,s),Qe(Sr,u))}function mf(s){bl.current===s&&(Ze(Sr),Ze(bl))}var rt=js(0);function Pc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gf=[];function yf(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var Rc=ne.ReactCurrentDispatcher,vf=ne.ReactCurrentBatchConfig,Ui=0,st=null,It=null,Pt=null,kc=!1,Pl=!1,Rl=0,_2=0;function qt(){throw Error(n(321))}function wf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Kn(s[u],o[u]))return!1;return!0}function _f(s,o,u,d,m,v){if(Ui=v,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rc.current=s===null||s.memoizedState===null?S2:I2,s=u(d,m),Pl){v=0;do{if(Pl=!1,Rl=0,25<=v)throw Error(n(301));v+=1,Pt=It=null,o.updateQueue=null,Rc.current=A2,s=u(d,m)}while(Pl)}if(Rc.current=Vc,o=It!==null&&It.next!==null,Ui=0,Pt=It=st=null,kc=!1,o)throw Error(n(300));return s}function xf(){var s=Rl!==0;return Rl=0,s}function Ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Rn(){if(It===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=Pt===null?st.memoizedState:Pt.next;if(o!==null)Pt=o,It=s;else{if(s===null)throw Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Pt===null?st.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function kl(s,o){return typeof o=="function"?o(s):o}function Ef(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=It,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var k=T=null,M=null,q=v;do{var ee=q.lane;if((Ui&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:s(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(k=M=te,T=d):M=M.next=te,st.lanes|=ee,Bi|=ee}q=q.next}while(q!==null&&q!==v);M===null?T=d:M.next=k,Kn(d,o.memoizedState)||(ln=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,st.lanes|=v,Bi|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Tf(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=s(v,T.action),T=T.next;while(T!==m);Kn(v,o.memoizedState)||(ln=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function x0(){}function E0(s,o){var u=st,d=Rn(),m=o(),v=!Kn(d.memoizedState,m);if(v&&(d.memoizedState=m,ln=!0),d=d.queue,Sf(I0.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Nl(9,S0.bind(null,u,d,m,o),void 0,null),Rt===null)throw Error(n(349));(Ui&30)!==0||T0(u,o,m)}return m}function T0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function S0(s,o,u,d){o.value=u,o.getSnapshot=d,A0(o)&&b0(s)}function I0(s,o,u){return u(function(){A0(o)&&b0(s)})}function A0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Kn(s,u)}catch{return!0}}function b0(s){var o=Jr(s,1);o!==null&&Jn(o,s,1,-1)}function C0(s){var o=Ir();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:s},o.queue=s,s=s.dispatch=T2.bind(null,st,s),[o.memoizedState,s]}function Nl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function P0(){return Rn().memoizedState}function Nc(s,o,u,d){var m=Ir();st.flags|=s,m.memoizedState=Nl(1|o,u,void 0,d===void 0?null:d)}function Dc(s,o,u,d){var m=Rn();d=d===void 0?null:d;var v=void 0;if(It!==null){var T=It.memoizedState;if(v=T.destroy,d!==null&&wf(d,T.deps)){m.memoizedState=Nl(o,u,v,d);return}}st.flags|=s,m.memoizedState=Nl(1|o,u,v,d)}function R0(s,o){return Nc(8390656,8,s,o)}function Sf(s,o){return Dc(2048,8,s,o)}function k0(s,o){return Dc(4,2,s,o)}function N0(s,o){return Dc(4,4,s,o)}function D0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function V0(s,o,u){return u=u!=null?u.concat([s]):null,Dc(4,4,D0.bind(null,o,s),u)}function If(){}function L0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function j0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function M0(s,o,u){return(Ui&21)===0?(s.baseState&&(s.baseState=!1,ln=!0),s.memoizedState=u):(Kn(u,o)||(u=sl(),st.lanes|=u,Bi|=u,s.baseState=!0),o)}function x2(s,o){var u=je;je=u!==0&&4>u?u:4,s(!0);var d=vf.transition;vf.transition={};try{s(!1),o()}finally{je=u,vf.transition=d}}function O0(){return Rn().memoizedState}function E2(s,o,u){var d=Ws(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},F0(s))U0(o,u);else if(u=g0(s,o,u,d),u!==null){var m=nn();Jn(u,s,d,m),B0(u,o,d)}}function T2(s,o,u){var d=Ws(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(F0(s))U0(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,k=v(T,u);if(m.hasEagerState=!0,m.eagerState=k,Kn(k,T)){var M=o.interleaved;M===null?(m.next=m,df(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=g0(s,o,m,d),u!==null&&(m=nn(),Jn(u,s,d,m),B0(u,o,d))}}function F0(s){var o=s.alternate;return s===st||o!==null&&o===st}function U0(s,o){Pl=kc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function B0(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ol(s,u)}}var Vc={readContext:Pn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},S2={readContext:Pn,useCallback:function(s,o){return Ir().memoizedState=[s,o===void 0?null:o],s},useContext:Pn,useEffect:R0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Nc(4194308,4,D0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Nc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Nc(4,2,s,o)},useMemo:function(s,o){var u=Ir();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Ir();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=E2.bind(null,st,s),[d.memoizedState,s]},useRef:function(s){var o=Ir();return s={current:s},o.memoizedState=s},useState:C0,useDebugValue:If,useDeferredValue:function(s){return Ir().memoizedState=s},useTransition:function(){var s=C0(!1),o=s[0];return s=x2.bind(null,s[1]),Ir().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=st,m=Ir();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Rt===null)throw Error(n(349));(Ui&30)!==0||T0(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,R0(I0.bind(null,d,v,s),[s]),d.flags|=2048,Nl(9,S0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Ir(),o=Rt.identifierPrefix;if(et){var u=Xr,d=Yr;u=(d&~(1<<32-mn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Rl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=_2++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},I2={readContext:Pn,useCallback:L0,useContext:Pn,useEffect:Sf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:N0,useMemo:j0,useReducer:Ef,useRef:P0,useState:function(){return Ef(kl)},useDebugValue:If,useDeferredValue:function(s){var o=Rn();return M0(o,It.memoizedState,s)},useTransition:function(){var s=Ef(kl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:x0,useSyncExternalStore:E0,useId:O0,unstable_isNewReconciler:!1},A2={readContext:Pn,useCallback:L0,useContext:Pn,useEffect:Sf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:N0,useMemo:j0,useReducer:Tf,useRef:P0,useState:function(){return Tf(kl)},useDebugValue:If,useDeferredValue:function(s){var o=Rn();return It===null?o.memoizedState=s:M0(o,It.memoizedState,s)},useTransition:function(){var s=Tf(kl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:x0,useSyncExternalStore:E0,useId:O0,unstable_isNewReconciler:!1};function Qn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Af(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Lc={isMounted:function(s){return(s=s._reactInternals)?Hn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=nn(),m=Ws(s),v=Zr(d,m);v.payload=o,u!=null&&(v.callback=u),o=Us(s,v,m),o!==null&&(Jn(o,s,m,d),bc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=nn(),m=Ws(s),v=Zr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Us(s,v,m),o!==null&&(Jn(o,s,m,d),bc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=nn(),d=Ws(s),m=Zr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Us(s,m,d),o!==null&&(Jn(o,s,d,u),bc(o,s,d))}};function z0(s,o,u,d,m,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!vl(u,d)||!vl(m,v):!0}function $0(s,o,u){var d=!1,m=Ms,v=o.contextType;return typeof v=="object"&&v!==null?v=Pn(v):(m=an(o)?Li:Ht.current,d=o.contextTypes,v=(d=d!=null)?qo(s,m):Ms),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Lc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function W0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Lc.enqueueReplaceState(o,o.state,null)}function bf(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},ff(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Pn(v):(v=an(o)?Li:Ht.current,m.context=qo(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Af(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Lc.enqueueReplaceState(m,m.state,null),Cc(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ea(s,o){try{var u="",d=o;do u+=ke(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Cf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Pf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function H0(s,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){zc||(zc=!0,Wf=d),Pf(s,o)},u}function q0(s,o,u){u=Zr(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Pf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Pf(s,o),typeof d!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function K0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new b2;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=B2.bind(null,s,o,u),o.then(s,s))}function G0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Q0(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Us(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var C2=ne.ReactCurrentOwner,ln=!1;function tn(s,o,u,d){o.child=s===null?m0(o,null,u,d):Yo(o,s.child,u,d)}function Y0(s,o,u,d,m){u=u.render;var v=o.ref;return Jo(o,m),d=_f(s,o,u,d,v,m),u=xf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(et&&u&&nf(o),o.flags|=1,tn(s,o,d,m),o.child)}function X0(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!Xf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,J0(s,o,v,d,m)):(s=Gc(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(T,d)&&s.ref===o.ref)return es(s,o,m)}return o.flags|=1,s=qs(v,d),s.ref=o.ref,s.return=o,o.child=s}function J0(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(vl(v,d)&&s.ref===o.ref)if(ln=!1,o.pendingProps=d=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(ln=!0);else return o.lanes=s.lanes,es(s,o,m)}return Rf(s,o,u,d,m)}function Z0(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(na,En),En|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(na,En),En|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Qe(na,En),En|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Qe(na,En),En|=d;return tn(s,o,m,u),o.child}function ev(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rf(s,o,u,d,m){var v=an(u)?Li:Ht.current;return v=qo(o,v),Jo(o,m),u=_f(s,o,u,d,v,m),d=xf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(et&&d&&nf(o),o.flags|=1,tn(s,o,u,m),o.child)}function tv(s,o,u,d,m){if(an(u)){var v=!0;wc(o)}else v=!1;if(Jo(o,m),o.stateNode===null)Mc(s,o),$0(o,u,d),bf(o,u,d,m),d=!0;else if(s===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var M=T.context,q=u.contextType;typeof q=="object"&&q!==null?q=Pn(q):(q=an(u)?Li:Ht.current,q=qo(o,q));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||M!==q)&&W0(o,T,d,q),Fs=!1;var Z=o.memoizedState;T.state=Z,Cc(o,d,T,m),M=o.memoizedState,k!==d||Z!==M||on.current||Fs?(typeof ee=="function"&&(Af(o,u,ee,d),M=o.memoizedState),(k=Fs||z0(o,u,k,d,Z,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=q,d=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,y0(s,o),k=o.memoizedProps,q=o.type===o.elementType?k:Qn(o.type,k),T.props=q,te=o.pendingProps,Z=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=Pn(M):(M=an(u)?Li:Ht.current,M=qo(o,M));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||Z!==M)&&W0(o,T,d,M),Fs=!1,Z=o.memoizedState,T.state=Z,Cc(o,d,T,m);var de=o.memoizedState;k!==te||Z!==de||on.current||Fs?(typeof ue=="function"&&(Af(o,u,ue,d),de=o.memoizedState),(q=Fs||z0(o,u,q,d,Z,de,M)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=q):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),d=!1)}return kf(s,o,u,d,v,m)}function kf(s,o,u,d,m,v){ev(s,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&o0(o,u,!1),es(s,o,v);d=o.stateNode,C2.current=o;var k=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&T?(o.child=Yo(o,s.child,null,v),o.child=Yo(o,null,k,v)):tn(s,o,k,v),o.memoizedState=d.state,m&&o0(o,u,!0),o.child}function nv(s){var o=s.stateNode;o.pendingContext?s0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&s0(s,o.context,!1),pf(s,o.containerInfo)}function rv(s,o,u,d,m){return Qo(),af(m),o.flags|=256,tn(s,o,u,d),o.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Df(s){return{baseLanes:s,cachePool:null,transitions:null}}function sv(s,o,u){var d=o.pendingProps,m=rt.current,v=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(rt,m&1),s===null)return of(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Qc(T,d,0,null),s=Hi(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Df(u),o.memoizedState=Nf,s):Vf(o,T));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return P2(s,o,T,d,k,m,u);if(v){v=d.fallback,T=o.mode,m=s.child,k=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=qs(m,M),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?v=qs(k,v):(v=Hi(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=s.child.memoizedState,T=T===null?Df(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,o.memoizedState=Nf,d}return v=s.child,s=v.sibling,d=qs(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Vf(s,o){return o=Qc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function jc(s,o,u,d){return d!==null&&af(d),Yo(o,s.child,null,u),s=Vf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function P2(s,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=Cf(Error(n(422))),jc(s,o,T,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Qc({mode:"visible",children:d.children},m,0,null),v=Hi(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Yo(o,s.child,null,T),o.child.memoizedState=Df(T),o.memoizedState=Nf,v);if((o.mode&1)===0)return jc(s,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=Cf(v,d,void 0),jc(s,o,T,d)}if(k=(T&s.childLanes)!==0,ln||k){if(d=Rt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(s,m),Jn(d,s,m,-1))}return Yf(),d=Cf(Error(n(421))),jc(s,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=z2.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,xn=Ls(m.nextSibling),_n=o,et=!0,Gn=null,s!==null&&(bn[Cn++]=Yr,bn[Cn++]=Xr,bn[Cn++]=ji,Yr=s.id,Xr=s.overflow,ji=o),o=Vf(o,d.children),o.flags|=4096,o)}function iv(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),hf(s.return,o,u)}function Lf(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function ov(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(tn(s,o,d.children,u),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iv(s,u,o);else if(s.tag===19)iv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Qe(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Pc(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Lf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Pc(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Lf(o,!0,u,null,v);break;case"together":Lf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function es(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Bi|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=qs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=qs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function R2(s,o,u){switch(o.tag){case 3:nv(o),Qo();break;case 5:_0(o);break;case 1:an(o.type)&&wc(o);break;case 4:pf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Qe(Ic,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?sv(s,o,u):(Qe(rt,rt.current&1),s=es(s,o,u),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return ov(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Z0(s,o,u)}return es(s,o,u)}var av,jf,lv,uv;av=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},jf=function(){},lv=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,Fi(Sr.current);var v=null;switch(u){case"input":m=vo(s,m),d=vo(s,d),v=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":m=Ka(s,m),d=Ka(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=gc)}Wn(u,d);var T;u=null;for(q in m)if(!d.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var k=m[q];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in d){var M=d[q];if(k=m?.[q],d.hasOwnProperty(q)&&M!==k&&(M!=null||k!=null))if(q==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Je("scroll",s),v||k===M||(v=[])):(v=v||[]).push(q,M))}u&&(v=v||[]).push("style",u);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},uv=function(s,o,u,d){u!==d&&(o.flags|=4)};function Dl(s,o){if(!et)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function k2(s,o,u){var d=o.pendingProps;switch(rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return an(o.type)&&vc(),Kt(o),null;case 3:return d=o.stateNode,Zo(),Ze(on),Ze(Ht),yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Tc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(Kf(Gn),Gn=null))),jf(s,o),Kt(o),null;case 5:mf(o);var m=Fi(Cl.current);if(u=o.type,s!==null&&o.stateNode!=null)lv(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}if(s=Fi(Sr.current),Tc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Tr]=o,d[Tl]=v,s=(o.mode&1)!==0,u){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(m=0;m<_l.length;m++)Je(_l[m],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Bu(d,v),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Je("invalid",d);break;case"textarea":Ga(d,v),Je("invalid",d)}Wn(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var k=v[T];T==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&mc(d.textContent,k,s),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&mc(d.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Je("scroll",d)}switch(u){case"input":yo(d),qa(d,v,!0);break;case"textarea":yo(d),ws(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=gc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qa(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[Tr]=o,s[Tl]=d,av(s,o,!1,!1),o.stateNode=s;e:{switch(T=Eo(u,d),u){case"dialog":Je("cancel",s),Je("close",s),m=d;break;case"iframe":case"object":case"embed":Je("load",s),m=d;break;case"video":case"audio":for(m=0;m<_l.length;m++)Je(_l[m],s);m=d;break;case"source":Je("error",s),m=d;break;case"img":case"image":case"link":Je("error",s),Je("load",s),m=d;break;case"details":Je("toggle",s),m=d;break;case"input":Bu(s,d),m=vo(s,d),Je("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Je("invalid",s);break;case"textarea":Ga(s,d),m=Ka(s,d),Je("invalid",s);break;default:m=d}Wn(u,m),k=m;for(v in k)if(k.hasOwnProperty(v)){var M=k[v];v==="style"?xo(s,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&$u(s,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&_i(s,M):typeof M=="number"&&_i(s,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Je("scroll",s):M!=null&&K(s,v,M,T))}switch(u){case"input":yo(s),qa(s,d,!1);break;case"textarea":yo(s),ws(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Oe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?$n(s,!!d.multiple,v,!1):d.defaultValue!=null&&$n(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(s&&o.stateNode!=null)uv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Fi(Cl.current),Fi(Sr.current),Tc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Tr]=o,(v=d.nodeValue!==u)&&(s=_n,s!==null))switch(s.tag){case 3:mc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&mc(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Tr]=o,o.stateNode=d}return Kt(o),null;case 13:if(Ze(rt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(et&&xn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)d0(),Qo(),o.flags|=98560,v=!1;else if(v=Tc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Tr]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else Gn!==null&&(Kf(Gn),Gn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?At===0&&(At=3):Yf())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return Zo(),jf(s,o),s===null&&xl(o.stateNode.containerInfo),Kt(o),null;case 10:return cf(o.type._context),Kt(o),null;case 17:return an(o.type)&&vc(),Kt(o),null;case 19:if(Ze(rt),v=o.memoizedState,v===null)return Kt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Dl(v,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Pc(s),T!==null){for(o.flags|=128,Dl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Xe()>ra&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304)}else{if(!d)if(s=Pc(T),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Dl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!et)return Kt(o),null}else 2*Xe()-v.renderingStartTime>ra&&u!==1073741824&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,u=rt.current,Qe(rt,d?u&1|2:u&1),o):(Kt(o),null);case 22:case 23:return Qf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(En&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function N2(s,o){switch(rf(o),o.tag){case 1:return an(o.type)&&vc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Zo(),Ze(on),Ze(Ht),yf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mf(o),null;case 13:if(Ze(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Qo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ze(rt),null;case 4:return Zo(),null;case 10:return cf(o.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Oc=!1,Gt=!1,D2=typeof WeakSet=="function"?WeakSet:Set,he=null;function ta(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){lt(s,o,d)}else u.current=null}function Mf(s,o,u){try{u()}catch(d){lt(s,o,d)}}var cv=!1;function V2(s,o){if(Gd=Hr,s=zy(),Ud(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,k=-1,M=-1,q=0,ee=0,te=s,Z=null;t:for(;;){for(var ue;te!==u||m!==0&&te.nodeType!==3||(k=T+m),te!==v||d!==0&&te.nodeType!==3||(M=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===s)break t;if(Z===u&&++q===m&&(k=T),Z===v&&++ee===d&&(M=T),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qd={focusedElem:s,selectionRange:u},Hr=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,ft=de.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Qn(o.type,pe),ft);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=cv,cv=!1,de}function Vl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Mf(o,u,v)}m=m.next}while(m!==d)}}function Fc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Of(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function hv(s){var o=s.alternate;o!==null&&(s.alternate=null,hv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Tr],delete o[Tl],delete o[Zd],delete o[g2],delete o[y2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function dv(s){return s.tag===5||s.tag===3||s.tag===4}function fv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ff(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=gc));else if(d!==4&&(s=s.child,s!==null))for(Ff(s,o,u),s=s.sibling;s!==null;)Ff(s,o,u),s=s.sibling}function Uf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Uf(s,o,u),s=s.sibling;s!==null;)Uf(s,o,u),s=s.sibling}var Mt=null,Yn=!1;function Bs(s,o,u){for(u=u.child;u!==null;)pv(s,o,u),u=u.sibling}function pv(s,o,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ii,u)}catch{}switch(u.tag){case 5:Gt||ta(u,o);case 6:var d=Mt,m=Yn;Mt=null,Bs(s,o,u),Mt=d,Yn=m,Mt!==null&&(Yn?(s=Mt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(Yn?(s=Mt,u=u.stateNode,s.nodeType===8?Jd(s.parentNode,u):s.nodeType===1&&Jd(s,u),ks(s)):Jd(Mt,u.stateNode));break;case 4:d=Mt,m=Yn,Mt=u.stateNode.containerInfo,Yn=!0,Bs(s,o,u),Mt=d,Yn=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Mf(u,o,T),m=m.next}while(m!==d)}Bs(s,o,u);break;case 1:if(!Gt&&(ta(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){lt(u,o,k)}Bs(s,o,u);break;case 21:Bs(s,o,u);break;case 22:u.mode&1?(Gt=(d=Gt)||u.memoizedState!==null,Bs(s,o,u),Gt=d):Bs(s,o,u);break;default:Bs(s,o,u)}}function mv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new D2),o.forEach(function(d){var m=$2.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Xn(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:Mt=k.stateNode,Yn=!1;break e;case 3:Mt=k.stateNode.containerInfo,Yn=!0;break e;case 4:Mt=k.stateNode.containerInfo,Yn=!0;break e}k=k.return}if(Mt===null)throw Error(n(160));pv(v,T,m),Mt=null,Yn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(q){lt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)gv(o,s),o=o.sibling}function gv(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xn(o,s),Ar(s),d&4){try{Vl(3,s,s.return),Fc(3,s)}catch(pe){lt(s,s.return,pe)}try{Vl(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Xn(o,s),Ar(s),d&512&&u!==null&&ta(u,u.return);break;case 5:if(Xn(o,s),Ar(s),d&512&&u!==null&&ta(u,u.return),s.flags&32){var m=s.stateNode;try{_i(m,"")}catch(pe){lt(s,s.return,pe)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&wo(m,v),Eo(k,T);var q=Eo(k,v);for(T=0;T<M.length;T+=2){var ee=M[T],te=M[T+1];ee==="style"?xo(m,te):ee==="dangerouslySetInnerHTML"?$u(m,te):ee==="children"?_i(m,te):K(m,ee,te,q)}switch(k){case"input":wi(m,v);break;case"textarea":zu(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?$n(m,!!v.multiple,ue,!1):Z!==!!v.multiple&&(v.defaultValue!=null?$n(m,!!v.multiple,v.defaultValue,!0):$n(m,!!v.multiple,v.multiple?[]:"",!1))}m[Tl]=v}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Xn(o,s),Ar(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Xn(o,s),Ar(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ks(o.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Xn(o,s),Ar(s);break;case 13:Xn(o,s),Ar(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($f=Xe())),d&4&&mv(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Gt=(q=Gt)||ee,Xn(o,s),Gt=q):Xn(o,s),Ar(s),d&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Vl(4,Z,Z.return);break;case 1:ta(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){d=Z,u=Z.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){lt(d,u,pe)}}break;case 5:ta(Z,Z.return);break;case 22:if(Z.memoizedState!==null){wv(te);continue}}ue!==null?(ue.return=Z,he=ue):wv(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{m=te.stateNode,q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Es("display",T))}catch(pe){lt(s,s.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Xn(o,s),Ar(s),d&4&&mv(s);break;case 21:break;default:Xn(o,s),Ar(s)}}function Ar(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(dv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(_i(m,""),d.flags&=-33);var v=fv(s);Uf(s,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,k=fv(s);Ff(s,k,T);break;default:throw Error(n(161))}}catch(M){lt(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function L2(s,o,u){he=s,yv(s)}function yv(s,o,u){for(var d=(s.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Oc;if(!T){var k=m.alternate,M=k!==null&&k.memoizedState!==null||Gt;k=Oc;var q=Gt;if(Oc=T,(Gt=M)&&!q)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?_v(m):M!==null?(M.return=T,he=M):_v(m);for(;v!==null;)he=v,yv(v),v=v.sibling;he=m,Oc=k,Gt=q}vv(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):vv(s)}}function vv(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||Fc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Gt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Qn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&w0(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}w0(o,T,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&ks(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gt||o.flags&512&&Of(o)}catch(Z){lt(o,o.return,Z)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function wv(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function _v(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Fc(4,o)}catch(M){lt(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){lt(o,m,M)}}var v=o.return;try{Of(o)}catch(M){lt(o,v,M)}break;case 5:var T=o.return;try{Of(o)}catch(M){lt(o,T,M)}}}catch(M){lt(o,o.return,M)}if(o===s){he=null;break}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break}he=o.return}}var j2=Math.ceil,Uc=ne.ReactCurrentDispatcher,Bf=ne.ReactCurrentOwner,kn=ne.ReactCurrentBatchConfig,Fe=0,Rt=null,wt=null,Ot=0,En=0,na=js(0),At=0,Ll=null,Bi=0,Bc=0,zf=0,jl=null,un=null,$f=0,ra=1/0,ts=null,zc=!1,Wf=null,zs=null,$c=!1,$s=null,Wc=0,Ml=0,Hf=null,Hc=-1,qc=0;function nn(){return(Fe&6)!==0?Xe():Hc!==-1?Hc:Hc=Xe()}function Ws(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Ot!==0?Ot&-Ot:w2.transition!==null?(qc===0&&(qc=sl()),qc):(s=je,s!==0||(s=window.event,s=s===void 0?16:No(s.type)),s)}function Jn(s,o,u,d){if(50<Ml)throw Ml=0,Hf=null,Error(n(185));Pi(s,u,d),((Fe&2)===0||s!==Rt)&&(s===Rt&&((Fe&2)===0&&(Bc|=u),At===4&&Hs(s,Ot)),cn(s,d),u===1&&Fe===0&&(o.mode&1)===0&&(ra=Xe()+500,_c&&Os()))}function cn(s,o){var u=s.callbackNode;Ci(s,o);var d=zr(s,s===Rt?Ot:0);if(d===0)u!==null&&Io(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Io(u),o===1)s.tag===0?v2(Ev.bind(null,s)):a0(Ev.bind(null,s)),p2(function(){(Fe&6)===0&&Os()}),u=null;else{switch(fr(d)){case 1:u=Ao;break;case 4:u=tl;break;case 16:u=Si;break;case 536870912:u=bo;break;default:u=Si}u=Rv(u,xv.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function xv(s,o){if(Hc=-1,qc=0,(Fe&6)!==0)throw Error(n(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var d=zr(s,s===Rt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Kc(s,d);else{o=d;var m=Fe;Fe|=2;var v=Sv();(Rt!==s||Ot!==o)&&(ts=null,ra=Xe()+500,$i(s,o));do try{F2();break}catch(k){Tv(s,k)}while(!0);uf(),Uc.current=v,Fe=m,wt!==null?o=0:(Rt=null,Ot=0,o=At)}if(o!==0){if(o===2&&(m=rl(s),m!==0&&(d=m,o=qf(s,m))),o===1)throw u=Ll,$i(s,0),Hs(s,d),cn(s,Xe()),u;if(o===6)Hs(s,d);else{if(m=s.current.alternate,(d&30)===0&&!M2(m)&&(o=Kc(s,d),o===2&&(v=rl(s),v!==0&&(d=v,o=qf(s,v))),o===1))throw u=Ll,$i(s,0),Hs(s,d),cn(s,Xe()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Wi(s,un,ts);break;case 3:if(Hs(s,d),(d&130023424)===d&&(o=$f+500-Xe(),10<o)){if(zr(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){nn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Xd(Wi.bind(null,s,un,ts),o);break}Wi(s,un,ts);break;case 4:if(Hs(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var T=31-mn(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*j2(d/1960))-d,10<d){s.timeoutHandle=Xd(Wi.bind(null,s,un,ts),d);break}Wi(s,un,ts);break;case 5:Wi(s,un,ts);break;default:throw Error(n(329))}}}return cn(s,Xe()),s.callbackNode===u?xv.bind(null,s):null}function qf(s,o){var u=jl;return s.current.memoizedState.isDehydrated&&($i(s,o).flags|=256),s=Kc(s,o),s!==2&&(o=un,un=u,o!==null&&Kf(o)),s}function Kf(s){un===null?un=s:un.push.apply(un,s)}function M2(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Kn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hs(s,o){for(o&=~zf,o&=~Bc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-mn(o),d=1<<u;s[u]=-1,o&=~d}}function Ev(s){if((Fe&6)!==0)throw Error(n(327));sa();var o=zr(s,0);if((o&1)===0)return cn(s,Xe()),null;var u=Kc(s,o);if(s.tag!==0&&u===2){var d=rl(s);d!==0&&(o=d,u=qf(s,d))}if(u===1)throw u=Ll,$i(s,0),Hs(s,o),cn(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Wi(s,un,ts),cn(s,Xe()),null}function Gf(s,o){var u=Fe;Fe|=1;try{return s(o)}finally{Fe=u,Fe===0&&(ra=Xe()+500,_c&&Os())}}function zi(s){$s!==null&&$s.tag===0&&(Fe&6)===0&&sa();var o=Fe;Fe|=1;var u=kn.transition,d=je;try{if(kn.transition=null,je=1,s)return s()}finally{je=d,kn.transition=u,Fe=o,(Fe&6)===0&&Os()}}function Qf(){En=na.current,Ze(na)}function $i(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,f2(u)),wt!==null)for(u=wt.return;u!==null;){var d=u;switch(rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vc();break;case 3:Zo(),Ze(on),Ze(Ht),yf();break;case 5:mf(d);break;case 4:Zo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:cf(d.type._context);break;case 22:case 23:Qf()}u=u.return}if(Rt=s,wt=s=qs(s.current,null),Ot=En=o,At=0,Ll=null,zf=Bc=Bi=0,un=jl=null,Oi!==null){for(o=0;o<Oi.length;o++)if(u=Oi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Oi=null}return s}function Tv(s,o){do{var u=wt;try{if(uf(),Rc.current=Vc,kc){for(var d=st.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}kc=!1}if(Ui=0,Pt=It=st=null,Pl=!1,Rl=0,Bf.current=null,u===null||u.return===null){At=1,Ll=o,wt=null;break}e:{var v=s,T=u.return,k=u,M=o;if(o=Ot,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=G0(T);if(ue!==null){ue.flags&=-257,Q0(ue,T,k,v,o),ue.mode&1&&K0(v,q,o),o=ue,M=q;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else de.add(M);break e}else{if((o&1)===0){K0(v,q,o),Yf();break e}M=Error(n(426))}}else if(et&&k.mode&1){var ft=G0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Q0(ft,T,k,v,o),af(ea(M,k));break e}}v=M=ea(M,k),At!==4&&(At=2),jl===null?jl=[v]:jl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=H0(v,M,o);v0(v,$);break e;case 1:k=M;var F=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(zs===null||!zs.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=q0(v,k,o);v0(v,ie);break e}}v=v.return}while(v!==null)}Av(u)}catch(me){o=me,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function Sv(){var s=Uc.current;return Uc.current=Vc,s===null?Vc:s}function Yf(){(At===0||At===3||At===2)&&(At=4),Rt===null||(Bi&268435455)===0&&(Bc&268435455)===0||Hs(Rt,Ot)}function Kc(s,o){var u=Fe;Fe|=2;var d=Sv();(Rt!==s||Ot!==o)&&(ts=null,$i(s,o));do try{O2();break}catch(m){Tv(s,m)}while(!0);if(uf(),Fe=u,Uc.current=d,wt!==null)throw Error(n(261));return Rt=null,Ot=0,At}function O2(){for(;wt!==null;)Iv(wt)}function F2(){for(;wt!==null&&!Ti();)Iv(wt)}function Iv(s){var o=Pv(s.alternate,s,En);s.memoizedProps=s.pendingProps,o===null?Av(s):wt=o,Bf.current=null}function Av(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=k2(u,o,En),u!==null){wt=u;return}}else{if(u=N2(u,o),u!==null){u.flags&=32767,wt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=s}while(o!==null);At===0&&(At=5)}function Wi(s,o,u){var d=je,m=kn.transition;try{kn.transition=null,je=1,U2(s,o,u,d)}finally{kn.transition=m,je=d}return null}function U2(s,o,u,d){do sa();while($s!==null);if((Fe&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ld(s,v),s===Rt&&(wt=Rt=null,Ot=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||$c||($c=!0,Rv(Si,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=kn.transition,kn.transition=null;var T=je;je=1;var k=Fe;Fe|=4,Bf.current=null,V2(s,u),gv(u,s),o2(Qd),Hr=!!Gd,Qd=Gd=null,s.current=u,L2(u),Br(),Fe=k,je=T,kn.transition=v}else s.current=u;if($c&&($c=!1,$s=s,Wc=m),v=s.pendingLanes,v===0&&(zs=null),ec(u.stateNode),cn(s,Xe()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(zc)throw zc=!1,s=Wf,Wf=null,s;return(Wc&1)!==0&&s.tag!==0&&sa(),v=s.pendingLanes,(v&1)!==0?s===Hf?Ml++:(Ml=0,Hf=s):Ml=0,Os(),null}function sa(){if($s!==null){var s=fr(Wc),o=kn.transition,u=je;try{if(kn.transition=null,je=16>s?16:s,$s===null)var d=!1;else{if(s=$s,$s=null,Wc=0,(Fe&6)!==0)throw Error(n(331));var m=Fe;for(Fe|=4,he=s.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var k=v.deletions;if(k!==null){for(var M=0;M<k.length;M++){var q=k[M];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Vl(8,ee,v)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(hv(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var ft=pe.sibling;pe.sibling=null,pe=ft}while(pe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Vl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var F=s.current;for(he=F;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=F;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Fc(9,k)}}catch(me){lt(k,k.return,me)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=m,Os(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ii,s)}catch{}d=!0}return d}finally{je=u,kn.transition=o}}return!1}function bv(s,o,u){o=ea(u,o),o=H0(s,o,1),s=Us(s,o,1),o=nn(),s!==null&&(Pi(s,1,o),cn(s,o))}function lt(s,o,u){if(s.tag===3)bv(s,s,u);else for(;o!==null;){if(o.tag===3){bv(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))){s=ea(u,s),s=q0(o,s,1),o=Us(o,s,1),s=nn(),o!==null&&(Pi(o,1,s),cn(o,s));break}}o=o.return}}function B2(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=nn(),s.pingedLanes|=s.suspendedLanes&u,Rt===s&&(Ot&u)===u&&(At===4||At===3&&(Ot&130023424)===Ot&&500>Xe()-$f?$i(s,0):zf|=u),cn(s,o)}function Cv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var u=nn();s=Jr(s,o),s!==null&&(Pi(s,o,u),cn(s,u))}function z2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Cv(s,u)}function $2(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),Cv(s,u)}var Pv;Pv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||on.current)ln=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ln=!1,R2(s,o,u);ln=(s.flags&131072)!==0}else ln=!1,et&&(o.flags&1048576)!==0&&l0(o,Ec,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Mc(s,o),s=o.pendingProps;var m=qo(o,Ht.current);Jo(o,u),m=_f(null,o,d,s,m,u);var v=xf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,an(d)?(v=!0,wc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ff(o),m.updater=Lc,o.stateNode=m,m._reactInternals=o,bf(o,d,s,u),o=kf(null,o,d,!0,v,u)):(o.tag=0,et&&v&&nf(o),tn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Mc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=H2(d),s=Qn(d,s),m){case 0:o=Rf(null,o,d,s,u);break e;case 1:o=tv(null,o,d,s,u);break e;case 11:o=Y0(null,o,d,s,u);break e;case 14:o=X0(null,o,d,Qn(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),Rf(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),tv(s,o,d,m,u);case 3:e:{if(nv(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,y0(s,o),Cc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ea(Error(n(423)),o),o=rv(s,o,d,u,m);break e}else if(d!==m){m=ea(Error(n(424)),o),o=rv(s,o,d,u,m);break e}else for(xn=Ls(o.stateNode.containerInfo.firstChild),_n=o,et=!0,Gn=null,u=m0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),d===m){o=es(s,o,u);break e}tn(s,o,d,u)}o=o.child}return o;case 5:return _0(o),s===null&&of(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,T=m.children,Yd(d,m)?T=null:v!==null&&Yd(d,v)&&(o.flags|=32),ev(s,o),tn(s,o,T,u),o.child;case 6:return s===null&&of(o),null;case 13:return sv(s,o,u);case 4:return pf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Yo(o,null,d,u):tn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),Y0(s,o,d,m,u);case 7:return tn(s,o,o.pendingProps,u),o.child;case 8:return tn(s,o,o.pendingProps.children,u),o.child;case 12:return tn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Qe(Ic,d._currentValue),d._currentValue=T,v!==null)if(Kn(v.value,T)){if(v.children===m.children&&!on.current){o=es(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){T=v.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),hf(v.return,u,o),k.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),hf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Jo(o,u),m=Pn(m),d=d(m),o.flags|=1,tn(s,o,d,u),o.child;case 14:return d=o.type,m=Qn(d,o.pendingProps),m=Qn(d.type,m),X0(s,o,d,m,u);case 15:return J0(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),Mc(s,o),o.tag=1,an(d)?(s=!0,wc(o)):s=!1,Jo(o,u),$0(o,d,m),bf(o,d,m,u),kf(null,o,d,!0,s,u);case 19:return ov(s,o,u);case 22:return Z0(s,o,u)}throw Error(n(156,o.tag))};function Rv(s,o){return el(s,o)}function W2(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,o,u,d){return new W2(s,o,u,d)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function H2(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===ct)return 14}return 2}function qs(s,o){var u=s.alternate;return u===null?(u=Nn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Gc(s,o,u,d,m,v){var T=2;if(d=s,typeof s=="function")Xf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case b:return Hi(u.children,m,v,o);case I:T=8,m|=8;break;case R:return s=Nn(12,u,o,m|2),s.elementType=R,s.lanes=v,s;case N:return s=Nn(13,u,o,m),s.elementType=N,s.lanes=v,s;case We:return s=Nn(19,u,o,m),s.elementType=We,s.lanes=v,s;case Ae:return Qc(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case j:T=9;break e;case z:T=11;break e;case ct:T=14;break e;case Vt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Nn(T,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function Hi(s,o,u,d){return s=Nn(7,s,d,o),s.lanes=u,s}function Qc(s,o,u,d){return s=Nn(22,s,d,o),s.elementType=Ae,s.lanes=u,s.stateNode={isHidden:!1},s}function Jf(s,o,u){return s=Nn(6,s,null,o),s.lanes=u,s}function Zf(s,o,u){return o=Nn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function q2(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ep(s,o,u,d,m,v,T,k,M){return s=new q2(s,o,u,k,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Nn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(v),s}function K2(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function kv(s){if(!s)return Ms;s=s._reactInternals;e:{if(Hn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(an(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(an(u))return i0(s,u,o)}return o}function Nv(s,o,u,d,m,v,T,k,M){return s=ep(u,d,!0,s,m,v,T,k,M),s.context=kv(null),u=s.current,d=nn(),m=Ws(u),v=Zr(d,m),v.callback=o??null,Us(u,v,m),s.current.lanes=m,Pi(s,m,d),cn(s,d),s}function Yc(s,o,u,d){var m=o.current,v=nn(),T=Ws(m);return u=kv(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,T),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Us(m,o,T),s!==null&&(Jn(s,m,T,v),bc(s,m,T)),T}function Xc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Dv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function tp(s,o){Dv(s,o),(s=s.alternate)&&Dv(s,o)}function G2(){return null}var Vv=typeof reportError=="function"?reportError:function(s){console.error(s)};function np(s){this._internalRoot=s}Jc.prototype.render=np.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Yc(s,o,null,null)},Jc.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;zi(function(){Yc(null,s,null,null)}),o[Gr]=null}};function Jc(s){this._internalRoot=s}Jc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ul();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gn.length&&o!==0&&o<gn[u].priority;u++);gn.splice(u,0,s),u===0&&Ro(s)}};function rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Zc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function Q2(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var q=Xc(T);v.call(q)}}var T=Nv(o,d,s,0,null,!1,!1,"",Lv);return s._reactRootContainer=T,s[Gr]=T.current,xl(s.nodeType===8?s.parentNode:s),zi(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var q=Xc(M);k.call(q)}}var M=ep(s,0,!1,null,null,!1,!1,"",Lv);return s._reactRootContainer=M,s[Gr]=M.current,xl(s.nodeType===8?s.parentNode:s),zi(function(){Yc(o,M,u,d)}),M}function eh(s,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var k=m;m=function(){var M=Xc(T);k.call(M)}}Yc(o,T,s,m)}else T=Q2(u,o,s,m,d);return Xc(T)}al=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Be(o.pendingLanes);u!==0&&(ol(o,u|1),cn(o,Xe()),(Fe&6)===0&&(ra=Xe()+500,Os()))}break;case 13:zi(function(){var d=Jr(s,1);if(d!==null){var m=nn();Jn(d,s,1,m)}}),tp(s,1)}},Co=function(s){if(s.tag===13){var o=Jr(s,134217728);if(o!==null){var u=nn();Jn(o,s,134217728,u)}tp(s,134217728)}},ll=function(s){if(s.tag===13){var o=Ws(s),u=Jr(s,o);if(u!==null){var d=nn();Jn(u,s,o,d)}tp(s,o)}},ul=function(){return je},cl=function(s,o){var u=je;try{return je=s,o()}finally{je=u}},Or=function(s,o,u){switch(o){case"input":if(wi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=yc(d);if(!m)throw Error(n(90));Ha(d),wi(d,m)}}}break;case"textarea":zu(s,u);break;case"select":o=u.value,o!=null&&$n(s,!!u.multiple,o,!1)}},Hu=Gf,qu=zi;var Y2={usingClientEntryPoint:!1,Events:[Sl,Wo,yc,Ss,Is,Gf]},Ol={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X2={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zu(s),s===null?null:s.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Ii=th.inject(X2),pn=th}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2,hn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(o))throw Error(n(200));return K2(s,o,null,u)},hn.createRoot=function(s,o){if(!rp(s))throw Error(n(299));var u=!1,d="",m=Vv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ep(s,1,!1,null,null,u,!1,d,m),s[Gr]=o.current,xl(s.nodeType===8?s.parentNode:s),new np(o)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Zu(o),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return zi(s)},hn.hydrate=function(s,o,u){if(!Zc(o))throw Error(n(200));return eh(null,s,o,!0,u)},hn.hydrateRoot=function(s,o,u){if(!rp(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=Vv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Nv(o,null,s,1,u??null,m,!1,v,T),s[Gr]=o.current,xl(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Jc(o)},hn.render=function(s,o,u){if(!Zc(o))throw Error(n(200));return eh(null,s,o,!1,u)},hn.unmountComponentAtNode=function(s){if(!Zc(s))throw Error(n(40));return s._reactRootContainer?(zi(function(){eh(null,null,s,!1,function(){s._reactRootContainer=null,s[Gr]=null})}),!0):!1},hn.unstable_batchedUpdates=Gf,hn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!Zc(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return eh(s,o,u,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var $v;function oA(){if($v)return op.exports;$v=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=iA(),op.exports}var Wv;function aA(){if(Wv)return nh;Wv=1;var t=oA();return nh.createRoot=t.createRoot,nh.hydrateRoot=t.hydrateRoot,nh}var lA=aA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function uA(t={}){function e(i,a){let{pathname:l="/",search:h="",hash:f=""}=uo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Bp("",{pathname:l,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),h="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof a=="string"?a:ou(a))}function r(i,a){Un(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return hA(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cA(){return Math.random().toString(36).substring(2,10)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Bp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||cA()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){h="POP";let C=y(),O=C==null?null:C-p;p=C,f&&f({action:h,location:L.location,delta:O})}function E(C,O){h="PUSH";let U=Bp(L.location,C,O);n&&n(U,C),p=y()+1;let K=qv(U,p),ne=L.createHref(U);try{l.pushState(K,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;i.location.assign(ne)}a&&f&&f({action:h,location:L.location,delta:1})}function A(C,O){h="REPLACE";let U=Bp(L.location,C,O);n&&n(U,C),p=y();let K=qv(U,p),ne=L.createHref(U);l.replaceState(K,"",ne),a&&f&&f({action:h,location:L.location,delta:0})}function D(C){return dA(C)}let L={get action(){return h},get location(){return t(i,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Hv,_),f=C,()=>{i.removeEventListener(Hv,_),f=null}},createHref(C){return e(i,C)},createURL:D,encodeLocation(C){let O=D(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:A,go(C){return l.go(C)}};return L}function dA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ou(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qx(t,e,n="/"){return fA(t,e,n,!1)}function fA(t,e,n,r){let i=typeof e=="string"?uo(e):e,a=us(i.pathname||"/",n);if(a==null)return null;let l=Yx(t);pA(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=IA(a);h=TA(l[f],p,r)}return h}function Yx(t,e=[],n=[],r="",i=!1){let a=(l,h,f=i,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;nt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=os([r,y.relativePath]),E=n.concat(y);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Yx(l.children,e,E,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:xA(_,l.index),routesMeta:E})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let f of Xx(l.path))a(l,h,!0,f)}),e}function Xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Xx(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function pA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mA=/^:[\w-]+$/,gA=3,yA=2,vA=1,wA=10,_A=-2,Kv=t=>t==="*";function xA(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=_A),e&&(r+=yA),n.filter(i=>!Kv(i)).reduce((i,a)=>i+(mA.test(a)?gA:a===""?vA:wA),r)}function EA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TA(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:os([a,_.pathname]),pathnameBase:PA(os([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=os([a,_.pathnameBase]))}return l}function kh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=h[E]||"";l=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function SA(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:bA(n,e):e,search:RA(r),hash:kA(i)}}function bA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t){let e=CA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fm(t,e,n,r=!1){let i;typeof t=="string"?i=uo(t):(i={...t},nt(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=AA(i,h),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var os=t=>t.join("/").replace(/\/\/+/g,"/"),PA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Jx=["POST","PUT","PATCH","DELETE"];new Set(Jx);var DA=["GET",...Jx];new Set(DA);var Pa=P.createContext(null);Pa.displayName="DataRouter";var od=P.createContext(null);od.displayName="DataRouterState";P.createContext(!1);var Zx=P.createContext({isTransitioning:!1});Zx.displayName="ViewTransition";var VA=P.createContext(new Map);VA.displayName="Fetchers";var LA=P.createContext(null);LA.displayName="Await";var or=P.createContext(null);or.displayName="Navigation";var Tu=P.createContext(null);Tu.displayName="Location";var ar=P.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Um=P.createContext(null);Um.displayName="RouteError";function jA(t,{relative:e}={}){nt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(or),{hash:i,pathname:a,search:l}=Su(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:os([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Ra(){return P.useContext(Tu)!=null}function Mr(){return nt(Ra(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Tu).location}var e1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t1(t){P.useContext(or).static||P.useLayoutEffect(t)}function ys(){let{isDataRoute:t}=P.useContext(ar);return t?QA():MA()}function MA(){nt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Pa),{basename:e,navigator:n}=P.useContext(or),{matches:r}=P.useContext(ar),{pathname:i}=Mr(),a=JSON.stringify(Om(r)),l=P.useRef(!1);return t1(()=>{l.current=!0}),P.useCallback((f,p={})=>{if(Un(l.current,e1),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=Fm(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:os([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,i,t])}P.createContext(null);function n1(){let{matches:t}=P.useContext(ar),e=t[t.length-1];return e?e.params:{}}function Su(t,{relative:e}={}){let{matches:n}=P.useContext(ar),{pathname:r}=Mr(),i=JSON.stringify(Om(n));return P.useMemo(()=>Fm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function OA(t,e){return r1(t,e)}function r1(t,e,n,r,i){nt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(or),{matches:l}=P.useContext(ar),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";s1(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=Mr(),A;if(e){let U=typeof e=="string"?uo(e):e;nt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=E;let D=A.pathname||"/",L=D;if(y!=="/"){let U=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let C=Qx(t,{pathname:L});Un(_||C!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Un(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=$A(C&&C.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:os([y,a.encodeLocation?a.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:os([y,a.encodeLocation?a.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),l,n,r,i);return e&&O?P.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function FA(){let t=GA(),e=NA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,l)}var UA=P.createElement(FA,null),BA=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(ar.Provider,{value:this.props.routeContext},P.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:t,match:e,children:n}){let r=P.useContext(Pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ar.Provider,{value:t},n)}function $A(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:E}=n,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,y,_)=>{let E,A=!1,D=null,L=null;n&&(E=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||UA,h&&(f<0&&_===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):f===_&&(A=!0,L=y.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,_+1)),O=()=>{let U;return E?U=D:A?U=L:y.route.Component?U=P.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,P.createElement(zA,{match:y,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:U})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?P.createElement(BA,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):O()},null)}function Bm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(t){let e=P.useContext(Pa);return nt(e,Bm(t)),e}function HA(t){let e=P.useContext(od);return nt(e,Bm(t)),e}function qA(t){let e=P.useContext(ar);return nt(e,Bm(t)),e}function zm(t){let e=qA(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KA(){return zm("useRouteId")}function GA(){let t=P.useContext(Um),e=HA("useRouteError"),n=zm("useRouteError");return t!==void 0?t:e.errors?.[n]}function QA(){let{router:t}=WA("useNavigate"),e=zm("useNavigate"),n=P.useRef(!1);return t1(()=>{n.current=!0}),P.useCallback(async(i,a={})=>{Un(n.current,e1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Gv={};function s1(t,e,n){!e&&!Gv[t]&&(Gv[t]=!0,Un(!1,n))}P.memo(YA);function YA({routes:t,future:e,state:n,unstable_onError:r}){return r1(t,void 0,n,r,e)}function XA({to:t,replace:e,state:n,relative:r}){nt(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(or);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(ar),{pathname:l}=Mr(),h=ys(),f=Fm(t,Om(a),l,r==="path"),p=JSON.stringify(f);return P.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function ns(t){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){nt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=uo(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,A=P.useMemo(()=>{let D=us(f,l);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:E},navigationType:r}},[l,f,p,y,_,E,r]);return Un(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:P.createElement(or.Provider,{value:h},P.createElement(Tu.Provider,{children:e,value:A}))}function ZA({children:t,location:e}){return OA(zp(t),e)}function zp(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){n.push.apply(n,zp(r.props.children,a));return}nt(r.type===ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=zp(r.props.children,a)),n.push(l)}),n}var mh="get",gh="application/x-www-form-urlencoded";function ad(t){return t!=null&&typeof t.tagName=="string"}function eb(t){return ad(t)&&t.tagName.toLowerCase()==="button"}function tb(t){return ad(t)&&t.tagName.toLowerCase()==="form"}function nb(t){return ad(t)&&t.tagName.toLowerCase()==="input"}function rb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sb(t,e){return t.button===0&&(!e||e==="_self")&&!rb(t)}var rh=null;function ib(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var ob=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(t){return t!=null&&!ob.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):t}function ab(t,e){let n,r,i,a,l;if(tb(t)){let h=t.getAttribute("action");r=h?us(h,e):null,n=t.getAttribute("method")||mh,i=cp(t.getAttribute("enctype"))||gh,a=new FormData(t)}else if(eb(t)||nb(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?us(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||mh,i=cp(t.getAttribute("formenctype"))||cp(h.getAttribute("enctype"))||gh,a=new FormData(h,t),!ib()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(ad(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,r=null,i=gh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lb(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ub(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hb(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await ub(a,n);return l.links?l.links():[]}return[]}));return mb(r.flat(1).filter(cb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Qv(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function db(t,e,{includeHydrateFallback:n}={}){return fb(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fb(t){return[...new Set(t)]}function pb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mb(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(pb(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function i1(){let t=P.useContext(Pa);return $m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gb(){let t=P.useContext(od);return $m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wm=P.createContext(void 0);Wm.displayName="FrameworkContext";function o1(){let t=P.useContext(Wm);return $m(t,"You must render this element inside a <HydratedRouter> element"),t}function yb(t,e){let n=P.useContext(Wm),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let L=O=>{O.forEach(U=>{l(U.isIntersecting)})},C=new IntersectionObserver(L,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[t]),P.useEffect(()=>{if(r){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[r]);let A=()=>{i(!0)},D=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ul(h,A),onBlur:Ul(f,D),onMouseEnter:Ul(p,A),onMouseLeave:Ul(y,D),onTouchStart:Ul(_,A)}]:[!1,E,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vb({page:t,...e}){let{router:n}=i1(),r=P.useMemo(()=>Qx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(_b,{page:t,matches:r,...e}):null}function wb(t){let{manifest:e,routeModules:n}=o1(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return hb(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function _b({page:t,matches:e,...n}){let r=Mr(),{manifest:i,routeModules:a}=o1(),{basename:l}=i1(),{loaderData:h,matches:f}=gb(),p=P.useMemo(()=>Qv(t,e,f,i,r,"data"),[t,e,f,i,r]),y=P.useMemo(()=>Qv(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,L=!1;if(e.forEach(O=>{let U=i.routes[O.route.id];!U||!U.hasLoader||(!p.some(K=>K.route.id===O.route.id)&&O.route.id in h&&a[O.route.id]?.shouldRevalidate||U.hasClientLoader?L=!0:D.add(O.route.id))}),D.size===0)return[];let C=lb(t,l,"data");return L&&D.size>0&&C.searchParams.set("_routes",e.filter(O=>D.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[l,h,r,i,p,e,t,a]),E=P.useMemo(()=>db(y,i),[y,i]),A=wb(y);return P.createElement(P.Fragment,null,_.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:L})=>P.createElement("link",{key:D,nonce:n.nonce,...L})))}function xb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a1&&(window.__reactRouterVersion="7.9.4")}catch{}function Eb({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=uA({window:n,v5Compat:!0}));let i=r.current,[a,l]=P.useState({action:i.action,location:i.location}),h=P.useCallback(f=>{P.startTransition(()=>l(f))},[l]);return P.useLayoutEffect(()=>i.listen(h),[i,h]),P.createElement(JA,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:D}=P.useContext(or),L=typeof p=="string"&&l1.test(p),C,O=!1;if(typeof p=="string"&&L&&(C=p,a1))try{let R=new URL(window.location.href),V=p.startsWith("//")?new URL(R.protocol+p):new URL(p),j=us(V.pathname,D);V.origin===R.origin&&j!=null?p=j+V.search+V.hash:O=!0}catch{Un(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=jA(p,{relative:i}),[K,ne,re]=yb(r,E),X=Ab(p,{replace:l,state:h,target:f,preventScrollReset:y,relative:i,viewTransition:_});function b(R){e&&e(R),R.defaultPrevented||X(R)}let I=P.createElement("a",{...E,...re,href:C||U,onClick:O||a?e:b,ref:xb(A,ne),target:f,"data-discover":!L&&n==="render"?"true":void 0});return K&&!L?P.createElement(P.Fragment,null,I,P.createElement(vb,{page:U})):I});Ut.displayName="Link";var Tb=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},y){let _=Su(l,{relative:p.relative}),E=Mr(),A=P.useContext(od),{navigator:D,basename:L}=P.useContext(or),C=A!=null&&kb(_)&&h===!0,O=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,U=E.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(U=U.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&L&&(K=us(K,L)||K);const ne=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let re=U===O||!i&&U.startsWith(O)&&U.charAt(ne)==="/",X=K!=null&&(K===O||!i&&K.startsWith(O)&&K.charAt(O.length)==="/"),b={isActive:re,isPending:X,isTransitioning:C},I=re?e:void 0,R;typeof r=="function"?R=r(b):R=[r,re?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(b):a;return P.createElement(Ut,{...p,"aria-current":I,className:R,ref:y,style:V,to:l,viewTransition:h},typeof f=="function"?f(b):f)});Tb.displayName="NavLink";var Sb=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=mh,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let D=Pb(),L=Rb(h,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&l1.test(h),U=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let ne=K.nativeEvent.submitter,re=ne?.getAttribute("formmethod")||l;D(ne||K.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:A,method:C,action:L,onSubmit:r?f:U,...E,"data-discover":!O&&t==="render"?"true":void 0})});Sb.displayName="Form";function Ib(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(t){let e=P.useContext(Pa);return nt(e,Ib(t)),e}function Ab(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=ys(),f=Mr(),p=Su(t,{relative:a});return P.useCallback(y=>{if(sb(y,e)){y.preventDefault();let _=n!==void 0?n:ou(f)===ou(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var bb=0,Cb=()=>`__${String(++bb)}__`;function Pb(){let{router:t}=u1("useSubmit"),{basename:e}=P.useContext(or),n=KA();return P.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=ab(r,e);if(i.navigate===!1){let y=i.fetcherKey||Cb();await t.fetch(y,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Rb(t,{relative:e}={}){let{basename:n}=P.useContext(or),r=P.useContext(ar);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Su(t||".",{relative:e})},l=Mr();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:os([n,a.pathname])),ou(a)}function kb(t,{relative:e}={}){let n=P.useContext(Zx);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=u1("useViewTransitionState"),i=Su(t,{relative:e});if(!n.isTransitioning)return!1;let a=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kh(i.pathname,l)!=null||kh(i.pathname,a)!=null}const Nb=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Db=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;f||(A=64,l||(E=64)),r.push(n[y],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Db(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new Vb;const E=a<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(t){const e=c1(t);return h1.encodeByteArray(e,!0)},Nh=function(t){return Lb(t).replace(/\./g,"")},d1=function(t){try{return h1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=()=>jb().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return Nb()||Mb()||Ob()||Fb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f1=t=>ld()?.emulatorHosts?.[t],Ub=t=>{const e=f1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p1=()=>ld()?.config,m1=t=>ld()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(l)),""].join(".")}const Ql={};function $b(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?t.emulator.push(e):t.prod.push(e);return t}function Wb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xv=!1;function y1(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Ql[t]===e||Ql[t]||Xv)return;Ql[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=$b().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Xv=!0,l()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=Wb(r),A=n("text"),D=document.getElementById(A)||document.createElement("span"),L=n("learnmore"),C=document.getElementById(L)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),y(C,L);const ne=p();f(U,O),K.append(U,D,C,ne),document.body.appendChild(K)}a?(D.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function qb(){const t=ld()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function _1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function Xb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jb,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Zb(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new lr(i,h,r)}}function Zb(t,e){return t.replace(eC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eC=/\{\$([^}]+)}/g;function tC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Jv(a)&&Jv(l)){if(!si(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nC(t,e){const n=new rC(t,e);return n.subscribe.bind(n)}class rC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hp),i.error===void 0&&(i.error=hp),i.complete===void 0&&(i.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=1e3,oC=2,aC=14400*1e3,lC=.5;function Zv(t,e=iC,n=oC){const r=e*Math.pow(n,t),i=Math.round(lC*r*(Math.random()-.5)*2);return Math.min(aC,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(t){return t===Ki?void 0:t}function hC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const fC={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},pC=De.INFO,mC={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},gC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const yC=(t,e)=>e.some(n=>t instanceof n);let ew,tw;function vC(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wC(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,$p=new WeakMap,E1=new WeakMap,dp=new WeakMap,Hm=new WeakMap;function _C(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ei(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&x1.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function xC(t){if($p.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});$p.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EC(t){Wp=t(Wp)}function TC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fp(this),e,...n);return E1.set(r,e.sort?e.sort():[e]),ei(r)}:wC().includes(t)?function(...e){return t.apply(fp(this),e),ei(x1.get(this))}:function(...e){return ei(t.apply(fp(this),e))}}function SC(t){return typeof t=="function"?TC(t):(t instanceof IDBTransaction&&xC(t),yC(t,vC())?new Proxy(t,Wp):t)}function ei(t){if(t instanceof IDBRequest)return _C(t);if(dp.has(t))return dp.get(t);const e=SC(t);return e!==t&&(dp.set(t,e),Hm.set(e,t)),e}const fp=t=>Hm.get(t);function T1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=ei(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ei(l.result),f.oldVersion,f.newVersion,ei(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const IC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],pp=new Map;function nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IC.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return pp.set(e,a),a}EC(t=>({...t,get:(e,n,r)=>nw(e,n)||t.get(e,n,r),has:(e,n)=>!!nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CC(t){return t.getComponent()?.type==="VERSION"}const Hp="@firebase/app",rw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new ud("@firebase/app"),PC="@firebase/app-compat",RC="@firebase/analytics-compat",kC="@firebase/analytics",NC="@firebase/app-check-compat",DC="@firebase/app-check",VC="@firebase/auth",LC="@firebase/auth-compat",jC="@firebase/database",MC="@firebase/data-connect",OC="@firebase/database-compat",FC="@firebase/functions",UC="@firebase/functions-compat",BC="@firebase/installations",zC="@firebase/installations-compat",$C="@firebase/messaging",WC="@firebase/messaging-compat",HC="@firebase/performance",qC="@firebase/performance-compat",KC="@firebase/remote-config",GC="@firebase/remote-config-compat",QC="@firebase/storage",YC="@firebase/storage-compat",XC="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",eP="firebase",tP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",nP={[Hp]:"fire-core",[PC]:"fire-core-compat",[kC]:"fire-analytics",[RC]:"fire-analytics-compat",[DC]:"fire-app-check",[NC]:"fire-app-check-compat",[VC]:"fire-auth",[LC]:"fire-auth-compat",[jC]:"fire-rtdb",[MC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[FC]:"fire-fn",[UC]:"fire-fn-compat",[BC]:"fire-iid",[zC]:"fire-iid-compat",[$C]:"fire-fcm",[WC]:"fire-fcm-compat",[HC]:"fire-perf",[qC]:"fire-perf-compat",[KC]:"fire-rc",[GC]:"fire-rc-compat",[QC]:"fire-gcs",[YC]:"fire-gcs-compat",[XC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,rP=new Map,Kp=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(Kp.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of Dh.values())sw(n,t);for(const n of rP.values())sw(n,t);return!0}function ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new co("app","Firebase",sP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=tP;function S1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=p1()),!n)throw ti.create("no-options");const a=Dh.get(i);if(a){if(si(n,a.options)&&si(r,a.config))return a;throw ti.create("duplicate-app",{appName:i})}const l=new dC(i);for(const f of Kp.values())l.addComponent(f);const h=new iP(n,r,l);return Dh.set(i,h),h}function qm(t=qp){const e=Dh.get(t);if(!e&&t===qp&&p1())return S1();if(!e)throw ti.create("no-app",{appName:t});return e}function On(t,e,n){let r=nP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(l.join(" "));return}Lr(new sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebase-heartbeat-database",aP=1,au="firebase-heartbeat-store";let mp=null;function I1(){return mp||(mp=T1(oP,aP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),mp}async function lP(t){try{const n=(await I1()).transaction(au),r=await n.objectStore(au).get(A1(t));return await n.done,r}catch(e){if(e instanceof lr)cs.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function iw(t,e){try{const r=(await I1()).transaction(au,"readwrite");await r.objectStore(au).put(e,A1(t)),await r.done}catch(n){if(n instanceof lr)cs.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function A1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1024,cP=30;class hP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ow();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cP){const i=pP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ow(),{heartbeatsToSend:n,unsentEntries:r}=dP(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return cs.warn(e),""}}}function ow(){return new Date().toISOString().substring(0,10)}function dP(t,e=uP){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),aw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?_1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aw(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}function pP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){Lr(new sr("platform-logger",e=>new bC(e),"PRIVATE")),Lr(new sr("heartbeat",e=>new hP(e),"PRIVATE")),On(Hp,rw,t),On(Hp,rw,"esm2020"),On("fire-js","")}mP("");var gP="firebase",yP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(gP,yP,"app");const b1="@firebase/installations",Km="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e4,P1=`w:${Km}`,R1="FIS_v2",vP="https://firebaseinstallations.googleapis.com/v1",wP=3600*1e3,_P="installations",xP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ro=new co(_P,xP,EP);function k1(t){return t instanceof lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1({projectId:t}){return`${vP}/projects/${t}/installations`}function D1(t){return{token:t.token,requestStatus:2,expiresIn:SP(t.expiresIn),creationTime:Date.now()}}async function V1(t,e){const r=(await e.json()).error;return ro.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function L1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TP(t,{refreshToken:e}){const n=L1(t);return n.append("Authorization",IP(e)),n}async function j1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SP(t){return Number(t.replace("s","000"))}function IP(t){return`${R1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=N1(t),i=L1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:n,authVersion:R1,appId:t.appId,sdkVersion:P1},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await j1(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:D1(p.authToken)}}else throw await V1("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^[cdef][\w-]{21}$/,Gp="";function PP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RP(t);return CP.test(n)?n:Gp}catch{return Gp}}function RP(t){return bP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;function F1(t,e){const n=cd(t);U1(n,e),kP(n,e)}function U1(t,e){const n=O1.get(t);if(n)for(const r of n)r(e)}function kP(t,e){const n=NP();n&&n.postMessage({key:t,fid:e}),DP()}let Qi=null;function NP(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{U1(t.data.key,t.data.fid)}),Qi}function DP(){O1.size===0&&Qi&&(Qi.close(),Qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="firebase-installations-database",LP=1,so="firebase-installations-store";let gp=null;function Gm(){return gp||(gp=T1(VP,LP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(so)}}})),gp}async function Vh(t,e){const n=cd(t),i=(await Gm()).transaction(so,"readwrite"),a=i.objectStore(so),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&F1(t,e.fid),e}async function B1(t){const e=cd(t),r=(await Gm()).transaction(so,"readwrite");await r.objectStore(so).delete(e),await r.done}async function hd(t,e){const n=cd(t),i=(await Gm()).transaction(so,"readwrite"),a=i.objectStore(so),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&F1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(t){let e;const n=await hd(t.appConfig,r=>{const i=jP(r),a=MP(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Gp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function jP(t){const e=t||{fid:PP(),registrationStatus:0};return z1(e)}function MP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=OP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FP(t)}:{installationEntry:e}}async function OP(t,e){try{const n=await AP(t,e);return Vh(t.appConfig,n)}catch(n){throw k1(n)&&n.customData.serverCode===409?await B1(t.appConfig):await Vh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FP(t){let e=await lw(t.appConfig);for(;e.registrationStatus===1;)await M1(100),e=await lw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qm(t);return r||n}return e}function lw(t){return hd(t,e=>{if(!e)throw ro.create("installation-not-found");return z1(e)})}function z1(t){return UP(t)?{fid:t.fid,registrationStatus:0}:t}function UP(t){return t.registrationStatus===1&&t.registrationTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP({appConfig:t,heartbeatServiceProvider:e},n){const r=zP(t,n),i=TP(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:P1,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await j1(()=>fetch(r,h));if(f.ok){const p=await f.json();return D1(p)}else throw await V1("Generate Auth Token",f)}function zP(t,{fid:e}){return`${N1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e=!1){let n;const r=await hd(t.appConfig,a=>{if(!$1(a))throw ro.create("not-registered");const l=a.authToken;if(!e&&HP(l))return a;if(l.requestStatus===1)return n=$P(t,e),a;{if(!navigator.onLine)throw ro.create("app-offline");const h=KP(a);return n=WP(t,h),h}});return n?await n:r.authToken}async function $P(t,e){let n=await uw(t.appConfig);for(;n.authToken.requestStatus===1;)await M1(100),n=await uw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ym(t,e):r}function uw(t){return hd(t,e=>{if(!$1(e))throw ro.create("not-registered");const n=e.authToken;return GP(n)?{...e,authToken:{requestStatus:0}}:e})}async function WP(t,e){try{const n=await BP(t,e),r={...e,authToken:n};return await Vh(t.appConfig,r),n}catch(n){if(k1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await B1(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Vh(t.appConfig,r)}throw n}}function $1(t){return t!==void 0&&t.registrationStatus===2}function HP(t){return t.requestStatus===2&&!qP(t)}function qP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wP}function KP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function GP(t){return t.requestStatus===1&&t.requestTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t){const e=t,{installationEntry:n,registrationPromise:r}=await Qm(e);return r?r.catch(console.error):Ym(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e=!1){const n=t;return await XP(n),(await Ym(n,e)).token}async function XP(t){const{registrationPromise:e}=await Qm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){if(!t||!t.options)throw yp("App Configuration");if(!t.name)throw yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yp(t){return ro.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="installations",ZP="installations-internal",eR=t=>{const e=t.getProvider("app").getImmediate(),n=JP(e),r=ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},tR=t=>{const e=t.getProvider("app").getImmediate(),n=ho(e,W1).getImmediate();return{getId:()=>QP(n),getToken:i=>YP(n,i)}};function nR(){Lr(new sr(W1,eR,"PUBLIC")),Lr(new sr(ZP,tR,"PRIVATE"))}nR();On(b1,Km);On(b1,Km,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="analytics",rR="firebase_id",sR="origin",iR=60*1e3,oR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new ud("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new co("analytics","Analytics",aR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){if(!t.startsWith(Xm)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return sn.warn(e.message),""}return t}function H1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cR(t,e){const n=uR("firebase-js-sdk-policy",{createScriptURL:lR}),r=document.createElement("script"),i=`${Xm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function dR(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await H1(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){sn.error(h)}t("config",i,a)}async function fR(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await H1(n);for(const f of l){const p=h.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){sn.error(a)}}function pR(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,f]=l;await fR(t,e,n,h,f)}else if(a==="config"){const[h,f]=l;await dR(t,e,n,r,h,f)}else if(a==="consent"){const[h,f]=l;t("consent",h,f)}else if(a==="get"){const[h,f,p]=l;t("get",h,f,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){sn.error(h)}}return i}function mR(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=pR(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function gR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=30,vR=1e3;class wR{constructor(e={},n=vR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const q1=new wR;function _R(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xR(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:_R(n)},i=oR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function ER(t,e=q1,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Sn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Sn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new IR;return setTimeout(async()=>{h.abort()},iR),K1({appId:r,apiKey:i,measurementId:a},l,h,e)}async function K1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=q1){const{appId:a,measurementId:l}=t;try{await TR(r,e)}catch(h){if(l)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await xR(t);return i.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!SR(f)){if(i.deleteThrottleMetadata(a),l)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:l};throw h}const p=Number(f?.customData?.httpStatus)===503?Zv(n,i.intervalMillis,yR):Zv(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,y),sn.debug(`Calling attemptFetch again in ${p} millis`),K1(t,y,r,i)}}function TR(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SR(t){if(!(t instanceof lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AR(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function bR(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(){if(w1())try{await _1()}catch(t){return sn.warn(Sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return sn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PR(t,e,n,r,i,a,l){const h=ER(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>sn.error(E)),e.push(h);const f=CR().then(E=>{if(E)return r.getId()}),[p,y]=await Promise.all([h,f]);gR(a)||cR(a,p.measurementId),i("js",new Date);const _=l?.config??{};return _[sR]="firebase",_.update=!0,y!=null&&(_[rR]=y),i("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.app=e}_delete(){return delete pa[this.app.options.appId],Promise.resolve()}}let pa={},cw=[];const hw={};let vp="dataLayer",kR="gtag",dw,Jm,fw=!1;function NR(){const t=[];if(v1()&&t.push("This is a browser extension environment."),Xb()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function DR(t,e,n){NR();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(pa[r]!=null)throw Sn.create("already-exists",{id:r});if(!fw){hR(vp);const{wrappedGtag:a,gtagCore:l}=mR(pa,cw,hw,vp,kR);Jm=a,dw=l,fw=!0}return pa[r]=PR(t,cw,hw,e,dw,vp,n),new RR(t)}function VR(t=qm()){t=Dt(t);const e=ho(t,Lh);return e.isInitialized()?e.getImmediate():LR(t)}function LR(t,e={}){const n=ho(t,Lh);if(n.isInitialized()){const i=n.getImmediate();if(si(e,n.getOptions()))return i;throw Sn.create("already-initialized")}return n.initialize({options:e})}function jR(t,e,n){t=Dt(t),bR(Jm,pa[t.app.options.appId],e,n).catch(r=>sn.error(r))}function MR(t,e,n,r){t=Dt(t),AR(Jm,pa[t.app.options.appId],e,n,r).catch(i=>sn.error(i))}const pw="@firebase/analytics",mw="0.10.19";function OR(){Lr(new sr(Lh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return DR(r,i,n)},"PUBLIC")),Lr(new sr("analytics-internal",t,"PRIVATE")),On(pw,mw),On(pw,mw,"esm2020");function t(e){try{const n=e.getProvider(Lh).getImmediate();return{logEvent:(r,i,a)=>MR(n,r,i,a),setUserProperties:(r,i)=>jR(n,r,i)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}OR();function G1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=G1,Q1=new co("auth","Firebase",G1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new ud("@firebase/auth");function UR(t,...e){jh.logLevel<=De.WARN&&jh.warn(`Auth (${Na}): ${t}`,...e)}function yh(t,...e){jh.logLevel<=De.ERROR&&jh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw eg(t,...e)}function nr(t,...e){return eg(t,...e)}function Zm(t,e,n){const r={...FR(),[e]:n};return new co("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return Zm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),Zm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Q1.create(t,...e)}function we(t,e,...n){if(!t)throw eg(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function hs(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return typeof self<"u"&&self.location?.href||""}function zR(){return gw()==="http:"||gw()==="https:"}function gw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||v1()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Hb()||Gb()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Au(3e4,6e4);function pi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mi(t,e,n,r,i={}){return X1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Iu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return Kb()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(p.credentials="include"),Y1.fetch()(await J1(t,t.config.apiHost,n,h),p)})}async function X1(t,e,n){t._canInitEmulator=!1;const r={...HR,...e};try{const i=new QR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw sh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw sh(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zm(t,y,p);Bn(t,y)}}catch(i){if(i instanceof lr)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function bu(t,e,n,r,i={}){const a=await mi(t,e,n,r,i);return"mfaPendingCredential"in a&&Bn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function J1(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`;return qR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function GR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),KR.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function yw(t){return t!==void 0&&t.enterprise!==void 0}class YR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(t,e){return mi(t,"GET","/v2/recaptchaConfig",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return mi(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=ng(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Yl(wp(i.auth_time)),issuedAtTime:Yl(wp(i.iat)),expirationTime:Yl(wp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function wp(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=d1(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vw(t){const e=ng(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&ek(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ek({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){const e=t.auth,n=await t.getIdToken(),r=await lu(t,Mh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Z1(i.providerUserInfo):[],l=rk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Yp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function nk(t){const e=Dt(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){const n=await X1(t,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await J1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(f.credentials="include"),Y1.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ik(t,e){return mi(t,"POST","/v2/accounts:revokeToken",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await sk(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ma;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(we(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new tk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZR(this,e)}reload(){return nk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await lu(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:L}=n;we(_&&L,e,"internal-error");const C=ma.fromJSON(this.name,L);we(typeof _=="string",e,"internal-error"),Gs(r,e.name),Gs(i,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),Gs(a,e.name),Gs(l,e.name),Gs(h,e.name),Gs(f,e.name),Gs(p,e.name),Gs(y,e.name);const O=new er({uid:_,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:C,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(O.providerData=D.map(U=>({...U}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const a=new er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Z1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new ma;h.updateFromIdToken(r);const f=new er({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Yp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;function is(t){hs(t instanceof Function,"Expected a class definition");let e=ww.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eE.type="NONE";const _w=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,a),this.fullPersistenceKey=vh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(is(_w),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||is(_w);const l=vh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(l);if(y){let _;if(typeof y=="string"){const E=await Mh(e,{idToken:y}).catch(()=>{});if(!E)break;_=await er._fromGetAccountInfoResponse(e,E,y)}else _=er._fromJSON(e,y);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ga(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(aE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(iE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tE(t=Zt()){return/firefox\//i.test(t)}function nE(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(t=Zt()){return/crios\//i.test(t)}function sE(t=Zt()){return/iemobile/i.test(t)}function iE(t=Zt()){return/android/i.test(t)}function oE(t=Zt()){return/blackberry/i.test(t)}function aE(t=Zt()){return/webos/i.test(t)}function rg(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ok(t=Zt()){return rg(t)&&!!window.navigator?.standalone}function ak(){return Qb()&&document.documentMode===10}function lE(t=Zt()){return rg(t)||iE(t)||aE(t)||oE(t)||/windows phone/i.test(t)||sE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e=[]){let n;switch(t){case"Browser":n=xw(Zt());break;case"Worker":n=`${xw(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e={}){return mi(t,"GET","/v2/passwordPolicy",pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=6;class hk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ck,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ew(this),this.idTokenSubscription=new Ew(this),this.beforeStateQueue=new lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(as(this));const n=e?Dt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uk(this),n=new hk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ik(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gi(t){return Dt(t)}class Ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fk(t){dd=t}function cE(t){return dd.loadJS(t)}function pk(){return dd.recaptchaEnterpriseScript}function mk(){return dd.gapiScript}function gk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yk{constructor(){this.enterprise=new vk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wk="recaptcha-enterprise",hE="NO_RECAPTCHA";class _k{constructor(e){this.type=wk,this.auth=gi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{XR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new YR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;yw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(hE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&yw(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pk();f.length!==0&&(f+=h),cE(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function Tw(t,e,n,r=!1,i=!1){const a=new _k(t);let l;if(i)l=hE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Xp(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Tw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Tw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e){const n=ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(si(a,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function Ek(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Tk(t,e,n){const r=gi(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=dE(e),{host:l,port:h}=Sk(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(si(p,r.config.emulator)&&si(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ka(l)?(g1(`${a}//${l}${f}`),y1("Auth",!0)):Ik()}function dE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sk(t){const e=dE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Sw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Sw(l)}}}function Sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ik(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function Ak(t,e){return mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){return bu(t,"POST","/v1/accounts:signInWithPassword",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))}async function Pk(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends sg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,n,"signInWithPassword",bk);case"emailLink":return Ck(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,r,"signUpPassword",Ak);case"emailLink":return Pk(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return bu(t,"POST","/v1/accounts:signInWithIdp",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="http://localhost";class io extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new io(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:Rk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nk(t){const e=zl($l(t)).link,n=e?zl($l(e)).deep_link_id:null,r=zl($l(t)).deep_link_id;return(r?zl($l(r)).link:null)||r||n||e||t}class ig{constructor(e){const n=zl($l(e)),r=n.apiKey??null,i=n.oobCode??null,a=kk(n.mode??null);we(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nk(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ig.parseLink(n);return we(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Cu{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return io._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Cu{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Cu{constructor(){super("twitter.com")}static credential(e,n){return io._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e){return bu(t,"POST","/v1/accounts:signUp",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await er._fromIdTokenResponse(e,r,i),l=Iw(r);return new oo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Iw(r);return new oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fh(e,n,r,i)}}function fE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(t,a,e,r):a})}async function Vk(t,e,n=!1){const r=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(as(r));const i="reauthenticate";try{const a=await lu(t,fE(r,i,e,t),n);we(a.idToken,r,"internal-error");const l=ng(a.idToken);we(l,r,"internal-error");const{sub:h}=l;return we(t.uid===h,r,"user-mismatch"),oo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(t,e,n=!1){if(Tn(t.app))return Promise.reject(as(t));const r="signIn",i=await fE(t,r,e),a=await oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function jk(t,e){return pE(gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(t){const e=gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gE(t,e,n){if(Tn(t.app))return Promise.reject(as(t));const r=gi(t),l=await Xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mE(t),f}),h=await oo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function yE(t,e,n){return Tn(t.app)?Promise.reject(as(t)):jk(Dt(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mE(t),r})}function Mk(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Ok(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function Pu(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Fk(t){return Dt(t).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=1e3,Bk=10;class wE extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ak()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Uk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const zk=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_E.type="SESSION";const xE=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await $k(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=ag("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Hk(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function qk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kk(){return navigator?.serviceWorker?.controller||null}function Gk(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebaseLocalStorageDb",Qk=1,Bh="firebaseLocalStorage",SE="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function Yk(){const t=indexedDB.deleteDatabase(TE);return new Ru(t).toPromise()}function Jp(){const t=indexedDB.open(TE,Qk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bh,{keyPath:SE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await Yk(),e(await Jp()))})})}async function Aw(t,e,n){const r=pd(t,!0).put({[SE]:e,value:n});return new Ru(r).toPromise()}async function Xk(t,e){const n=pd(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function bw(t,e){const n=pd(t,!0).delete(e);return new Ru(n).toPromise()}const Jk=800,Zk=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(Gk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qk(),!this.activeServiceWorker)return;this.sender=new Wk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await Aw(e,Uh,"1"),await bw(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Xk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pd(i,!1).getAll();return new Ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const eN=IE;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){return e?is(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tN(t){return pE(t.auth,new lg(t),t.bypassAuthState)}function nN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Lk(n,new lg(t),t.bypassAuthState)}async function rN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Vk(n,new lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:Bn(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Au(2e3,1e4);async function CE(t,e,n){if(Tn(t.app))return Promise.reject(nr(t,"operation-not-supported-in-this-environment"));const r=gi(t);BR(t,e,og);const i=AE(r,n);return new Yi(r,"signInViaPopup",e,i).executeNotNull()}class Yi extends bE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sN.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",wh=new Map;class oN extends bE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(t,e){const n=cN(e),r=uN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lN(t,e){wh.set(t._key(),e)}function uN(t){return is(t._redirectPersistence)}function cN(t){return vh(iN,t.config.apiKey,t.name)}async function hN(t,e,n=!1){if(Tn(t.app))return Promise.reject(as(t));const r=gi(t),i=AE(r,e),l=await new oN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=600*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(nr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e={}){return mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function vN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mN(t);for(const n of e)try{if(wN(n))return}catch{}Bn(t,"unauthorized-domain")}function wN(t){const e=Qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!yN.test(n))return!1;if(gN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Au(3e4,6e4);function Pw(){const t=Cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xN(t){return new Promise((e,n)=>{function r(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(nr(t,"network-request-failed"))},timeout:_N.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)r();else{const i=gk("iframefcb");return Cr()[i]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},cE(`${mk()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw _h=null,e})}let _h=null;function EN(t){return _h=_h||xN(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Au(5e3,15e3),SN="__/auth/iframe",IN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,IN):`https://${t.config.authDomain}/${SN}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=bN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Iu(r).slice(1)}`}async function PN(t){const e=await EN(t),n=Cr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:CN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=nr(t,"network-request-failed"),h=Cr().setTimeout(()=>{a(l)},TN.get());function f(){Cr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,NN=600,DN="_blank",VN="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(t,e,n,r=kN,i=NN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...RN,width:r.toString(),height:i.toString(),top:a,left:l},p=Zt().toLowerCase();n&&(h=rE(p)?DN:n),tE(p)&&(e=e||VN,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(ok(p)&&h!=="_self")return jN(e||"",h),new Rw(null);const _=window.open(e||"",h,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new Rw(_)}function jN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="__/auth/handler",ON="emulator/auth/handler",FN=encodeURIComponent("fac");async function kw(t,e,n,r,i,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof og){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",tC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof Cu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${FN}=${encodeURIComponent(f)}`:"";return`${UN(t)}?${Iu(h).slice(1)}${p}`}function UN({config:t}){return t.emulator?tg(t,ON):`https://${t.authDomain}/${MN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,n,r,i){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await kw(e,n,r,Qp(),i);return LN(e,a,ag())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await kw(e,n,r,Qp(),i);return Hk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(hs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PN(e),r=new fN(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{const a=i?.[0]?.[_p];a!==void 0&&n(!!a),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lE()||nE()||rg()}}const zN=BN;var Nw="@firebase/auth",Dw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(t){Lr(new sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(t)},p=new dk(r,i,a,f);return Ek(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new sr("auth-internal",e=>{const n=gi(e.getProvider("auth").getImmediate());return(r=>new $N(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Nw,Dw,WN(t)),On(Nw,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=300,KN=m1("authIdTokenMaxAge")||qN;let Vw=null;const GN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KN)return;const i=n?.token;Vw!==i&&(Vw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QN(t=qm()){const e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xk(t,{popupRedirectResolver:zN,persistence:[eN,zk,xE]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=GN(a.toString());Ok(n,l,()=>l(n.currentUser)),Mk(n,h=>l(h))}}const i=f1("auth");return i&&Tk(n,`http://${i}`),n}function YN(){return document.getElementsByTagName("head")?.[0]??document}fk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=nr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",YN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,RE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function R(){}R.prototype=I.prototype,b.F=I.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(V,j,z){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return I.prototype[j].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,I,R){R||(R=0);const V=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)V[j]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(j=0;j<16;++j)V[j]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=b.g[0],R=b.g[1],j=b.g[2];let z=b.g[3],N;N=I+(z^R&(j^z))+V[0]+3614090360&4294967295,I=R+(N<<7&4294967295|N>>>25),N=z+(j^I&(R^j))+V[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(R^z&(I^R))+V[2]+606105819&4294967295,j=z+(N<<17&4294967295|N>>>15),N=R+(I^j&(z^I))+V[3]+3250441966&4294967295,R=j+(N<<22&4294967295|N>>>10),N=I+(z^R&(j^z))+V[4]+4118548399&4294967295,I=R+(N<<7&4294967295|N>>>25),N=z+(j^I&(R^j))+V[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(R^z&(I^R))+V[6]+2821735955&4294967295,j=z+(N<<17&4294967295|N>>>15),N=R+(I^j&(z^I))+V[7]+4249261313&4294967295,R=j+(N<<22&4294967295|N>>>10),N=I+(z^R&(j^z))+V[8]+1770035416&4294967295,I=R+(N<<7&4294967295|N>>>25),N=z+(j^I&(R^j))+V[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(R^z&(I^R))+V[10]+4294925233&4294967295,j=z+(N<<17&4294967295|N>>>15),N=R+(I^j&(z^I))+V[11]+2304563134&4294967295,R=j+(N<<22&4294967295|N>>>10),N=I+(z^R&(j^z))+V[12]+1804603682&4294967295,I=R+(N<<7&4294967295|N>>>25),N=z+(j^I&(R^j))+V[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(R^z&(I^R))+V[14]+2792965006&4294967295,j=z+(N<<17&4294967295|N>>>15),N=R+(I^j&(z^I))+V[15]+1236535329&4294967295,R=j+(N<<22&4294967295|N>>>10),N=I+(j^z&(R^j))+V[1]+4129170786&4294967295,I=R+(N<<5&4294967295|N>>>27),N=z+(R^j&(I^R))+V[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^R&(z^I))+V[11]+643717713&4294967295,j=z+(N<<14&4294967295|N>>>18),N=R+(z^I&(j^z))+V[0]+3921069994&4294967295,R=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(R^j))+V[5]+3593408605&4294967295,I=R+(N<<5&4294967295|N>>>27),N=z+(R^j&(I^R))+V[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^R&(z^I))+V[15]+3634488961&4294967295,j=z+(N<<14&4294967295|N>>>18),N=R+(z^I&(j^z))+V[4]+3889429448&4294967295,R=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(R^j))+V[9]+568446438&4294967295,I=R+(N<<5&4294967295|N>>>27),N=z+(R^j&(I^R))+V[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^R&(z^I))+V[3]+4107603335&4294967295,j=z+(N<<14&4294967295|N>>>18),N=R+(z^I&(j^z))+V[8]+1163531501&4294967295,R=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(R^j))+V[13]+2850285829&4294967295,I=R+(N<<5&4294967295|N>>>27),N=z+(R^j&(I^R))+V[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^R&(z^I))+V[7]+1735328473&4294967295,j=z+(N<<14&4294967295|N>>>18),N=R+(z^I&(j^z))+V[12]+2368359562&4294967295,R=j+(N<<20&4294967295|N>>>12),N=I+(R^j^z)+V[5]+4294588738&4294967295,I=R+(N<<4&4294967295|N>>>28),N=z+(I^R^j)+V[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^R)+V[11]+1839030562&4294967295,j=z+(N<<16&4294967295|N>>>16),N=R+(j^z^I)+V[14]+4259657740&4294967295,R=j+(N<<23&4294967295|N>>>9),N=I+(R^j^z)+V[1]+2763975236&4294967295,I=R+(N<<4&4294967295|N>>>28),N=z+(I^R^j)+V[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^R)+V[7]+4139469664&4294967295,j=z+(N<<16&4294967295|N>>>16),N=R+(j^z^I)+V[10]+3200236656&4294967295,R=j+(N<<23&4294967295|N>>>9),N=I+(R^j^z)+V[13]+681279174&4294967295,I=R+(N<<4&4294967295|N>>>28),N=z+(I^R^j)+V[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^R)+V[3]+3572445317&4294967295,j=z+(N<<16&4294967295|N>>>16),N=R+(j^z^I)+V[6]+76029189&4294967295,R=j+(N<<23&4294967295|N>>>9),N=I+(R^j^z)+V[9]+3654602809&4294967295,I=R+(N<<4&4294967295|N>>>28),N=z+(I^R^j)+V[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^R)+V[15]+530742520&4294967295,j=z+(N<<16&4294967295|N>>>16),N=R+(j^z^I)+V[2]+3299628645&4294967295,R=j+(N<<23&4294967295|N>>>9),N=I+(j^(R|~z))+V[0]+4096336452&4294967295,I=R+(N<<6&4294967295|N>>>26),N=z+(R^(I|~j))+V[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~R))+V[14]+2878612391&4294967295,j=z+(N<<15&4294967295|N>>>17),N=R+(z^(j|~I))+V[5]+4237533241&4294967295,R=j+(N<<21&4294967295|N>>>11),N=I+(j^(R|~z))+V[12]+1700485571&4294967295,I=R+(N<<6&4294967295|N>>>26),N=z+(R^(I|~j))+V[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~R))+V[10]+4293915773&4294967295,j=z+(N<<15&4294967295|N>>>17),N=R+(z^(j|~I))+V[1]+2240044497&4294967295,R=j+(N<<21&4294967295|N>>>11),N=I+(j^(R|~z))+V[8]+1873313359&4294967295,I=R+(N<<6&4294967295|N>>>26),N=z+(R^(I|~j))+V[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~R))+V[6]+2734768916&4294967295,j=z+(N<<15&4294967295|N>>>17),N=R+(z^(j|~I))+V[13]+1309151649&4294967295,R=j+(N<<21&4294967295|N>>>11),N=I+(j^(R|~z))+V[4]+4149444226&4294967295,I=R+(N<<6&4294967295|N>>>26),N=z+(R^(I|~j))+V[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~R))+V[2]+718787259&4294967295,j=z+(N<<15&4294967295|N>>>17),N=R+(z^(j|~I))+V[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+z&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const R=I-this.blockSize,V=this.C;let j=this.h,z=0;for(;z<I;){if(j==0)for(;z<=R;)i(this,b,z),z+=this.blockSize;if(typeof b=="string"){for(;z<I;)if(V[j++]=b.charCodeAt(z++),j==this.blockSize){i(this,V),j=0;break}}else for(;z<I;)if(V[j++]=b[z++],j==this.blockSize){i(this,V),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)b[I++]=this.g[R]>>>V&255;return b};function a(b,I){var R=h;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=I(b)}function l(b,I){this.h=I;const R=[];let V=!0;for(let j=b.length-1;j>=0;j--){const z=b[j]|0;V&&z==I||(R[j]=z,V=!1)}this.g=R}var h={};function f(b){return-128<=b&&b<128?a(b,function(I){return new l([I|0],I<0?-1:0)}):new l([b|0],b<0?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return _;if(b<0)return C(p(-b));const I=[];let R=1;for(let V=0;b>=R;V++)I[V]=b/R|0,R*=4294967296;return new l(I,0)}function y(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return C(y(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(I,8));let V=_;for(let z=0;z<b.length;z+=8){var j=Math.min(8,b.length-z);const N=parseInt(b.substring(z,z+j),I);j<8?(j=p(Math.pow(I,j)),V=V.j(j).add(p(N))):(V=V.j(R),V=V.add(p(N)))}return V}var _=f(0),E=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(L(this))return-C(this).m();let b=0,I=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);b+=(V>=0?V:4294967296+V)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D(this))return"0";if(L(this))return"-"+C(this).toString(b);const I=p(Math.pow(b,6));var R=this;let V="";for(;;){const j=ne(R,I).g;R=O(R,j.j(I));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=j,D(R))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function D(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function L(b){return b.h==-1}t.l=function(b){return b=O(this,b),L(b)?-1:D(b)?0:1};function C(b){const I=b.g.length,R=[];for(let V=0;V<I;V++)R[V]=~b.g[V];return new l(R,~b.h).add(E)}t.abs=function(){return L(this)?C(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),R=[];let V=0;for(let j=0;j<=I;j++){let z=V+(this.i(j)&65535)+(b.i(j)&65535),N=(z>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);V=N>>>16,z&=65535,N&=65535,R[j]=N<<16|z}return new l(R,R[R.length-1]&-2147483648?-1:0)};function O(b,I){return b.add(C(I))}t.j=function(b){if(D(this)||D(b))return _;if(L(this))return L(b)?C(this).j(C(b)):C(C(this).j(b));if(L(b))return C(this.j(C(b)));if(this.l(A)<0&&b.l(A)<0)return p(this.m()*b.m());const I=this.g.length+b.g.length,R=[];for(var V=0;V<2*I;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<b.g.length;j++){const z=this.i(V)>>>16,N=this.i(V)&65535,We=b.i(j)>>>16,ct=b.i(j)&65535;R[2*V+2*j]+=N*ct,U(R,2*V+2*j),R[2*V+2*j+1]+=z*ct,U(R,2*V+2*j+1),R[2*V+2*j+1]+=N*We,U(R,2*V+2*j+1),R[2*V+2*j+2]+=z*We,U(R,2*V+2*j+2)}for(b=0;b<I;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=I;b<2*I;b++)R[b]=0;return new l(R,0)};function U(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function K(b,I){this.g=b,this.h=I}function ne(b,I){if(D(I))throw Error("division by zero");if(D(b))return new K(_,_);if(L(b))return I=ne(C(b),I),new K(C(I.g),C(I.h));if(L(I))return I=ne(b,C(I)),new K(C(I.g),I.h);if(b.g.length>30){if(L(b)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var R=E,V=I;V.l(b)<=0;)R=re(R),V=re(V);var j=X(R,1),z=X(V,1);for(V=X(V,2),R=X(R,2);!D(V);){var N=z.add(V);N.l(b)<=0&&(j=j.add(R),z=N),V=X(V,1),R=X(R,1)}return I=O(b,j.j(I)),new K(j,I)}for(j=_;b.l(I)>=0;){for(R=Math.max(1,Math.floor(b.m()/I.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=p(R),N=z.j(I);L(N)||N.l(b)>0;)R-=V,z=p(R),N=z.j(I);D(z)&&(z=E),j=j.add(z),b=O(b,N)}return new K(j,b)}t.B=function(b){return ne(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<I;V++)R[V]=this.i(V)&b.i(V);return new l(R,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<I;V++)R[V]=this.i(V)|b.i(V);return new l(R,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<I;V++)R[V]=this.i(V)^b.i(V);return new l(R,this.h^b.h)};function re(b){const I=b.g.length+1,R=[];for(let V=0;V<I;V++)R[V]=b.i(V)<<1|b.i(V-1)>>>31;return new l(R,b.h)}function X(b,I){const R=I>>5;I%=32;const V=b.g.length-R,j=[];for(let z=0;z<V;z++)j[z]=I>0?b.i(z+R)>>>I|b.i(z+R+1)<<32-I:b.i(z+R);return new l(j,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,ni=l}).apply(typeof Lw<"u"?Lw:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kE,Wl,NE,xh,Zp,DE,VE,LE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var w=0;w<c.length;++w){var x=c[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in x))break e;x=x[W]}c=c[c.length-1],S=x[c],w=w(S),w!=S&&w!=null&&e(x,c,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(w){var x=[],S;for(S in w)Object.prototype.hasOwnProperty.call(w,S)&&x.push([S,w[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,x){return c.call.apply(c.bind,arguments)}function p(c,w,x){return p=f,p.apply(null,arguments)}function y(c,w){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,w){function x(){}x.prototype=w.prototype,c.Z=w.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,W,G){for(var oe=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)oe[Se-2]=arguments[Se];return w.prototype[W].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const w=c.length;if(w>0){const x=Array(w);for(let S=0;S<w;S++)x[S]=c[S];return x}return[]}function D(c,w){for(let S=1;S<arguments.length;S++){const W=arguments[S];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=c.length||0;const G=W.length||0;c.length=x+G;for(let oe=0;oe<G;oe++)c[x+oe]=W[oe]}else c.push(W)}}class L{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(c){l.setTimeout(()=>{throw c},0)}function O(){var c=b;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,x){const S=K.get();S.set(w,x),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new L(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,b=new U,I=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(R)}};function R(){for(var c;c=O();){try{c.h.call(c.g)}catch(x){C(x)}var w=K;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}X=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function We(c,w){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}_(We,j),We.prototype.init=function(c,w){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(x=="mouseover"?w=c.fromElement:x=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Ae(c,w,x,S,W){this.listener=c,this.proxy=null,this.src=w,this.type=x,this.capture=!!S,this.ha=W,this.key=++Vt,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,w,x){for(const S in c)w.call(x,c[S],S,c)}function ae(c,w){for(const x in c)w.call(void 0,c[x],x,c)}function B(c){const w={};for(const x in c)w[x]=c[x];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(c,w){let x,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(x in S)c[x]=S[x];for(let G=0;G<J.length;G++)x=J[G],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,w,x,S,W){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=Ne(c,w,S,W);return oe>-1?(w=c[oe],x||(w.fa=!1)):(w=new Ae(w,this.src,G,!!S,W),w.fa=x,c.push(w)),w};function ke(c,w){const x=w.type;if(x in c.g){var S=c.g[x],W=Array.prototype.indexOf.call(S,w,void 0),G;(G=W>=0)&&Array.prototype.splice.call(S,W,1),G&&(se(w),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ne(c,w,x,S){for(let W=0;W<c.length;++W){const G=c[W];if(!G.da&&G.listener==w&&G.capture==!!x&&G.ha==S)return W}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Oe={};function Ke(c,w,x,S,W){if(Array.isArray(w)){for(let G=0;G<w.length;G++)Ke(c,w[G],x,S,W);return null}return x=qa(x),c&&c[ct]?c.J(w,x,h(S)?!!S.capture:!1,W):en(c,w,x,!1,S,W)}function en(c,w,x,S,W,G){if(!w)throw Error("Invalid event type");const oe=h(W)?!!W.capture:!!W;let Se=wo(c);if(Se||(c[ze]=Se=new Ce(c)),x=Se.add(w,x,S,oe,G),x.proxy)return x;if(S=yo(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)z||(W=oe),W===void 0&&(W=!1),c.addEventListener(w.toString(),S,W);else if(c.attachEvent)c.attachEvent(vo(w.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function yo(){function c(x){return w.call(c.src,c.listener,x)}const w=Bu;return c}function Ha(c,w,x,S,W){if(Array.isArray(w))for(var G=0;G<w.length;G++)Ha(c,w[G],x,S,W);else S=h(S)?!!S.capture:!!S,x=qa(x),c&&c[ct]?(c=c.i,G=String(w).toString(),G in c.g&&(w=c.g[G],x=Ne(w,x,S,W),x>-1&&(se(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete c.g[G],c.h--)))):c&&(c=wo(c))&&(w=c.g[w.toString()],c=-1,w&&(c=Ne(w,x,S,W)),(x=c>-1?w[c]:null)&&vs(x))}function vs(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[ct])ke(w.i,c);else{var x=c.type,S=c.proxy;w.removeEventListener?w.removeEventListener(x,S,c.capture):w.detachEvent?w.detachEvent(vo(x),S):w.addListener&&w.removeListener&&w.removeListener(S),(x=wo(w))?(ke(x,c),x.h==0&&(x.src=null,w[ze]=null)):se(c)}}}function vo(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Bu(c,w){if(c.da)c=!0;else{w=new We(w,this);const x=c.listener,S=c.ha||c.src;c.fa&&vs(c),c=x.call(S,w)}return c}function wo(c){return c=c[ze],c instanceof Ce?c:null}var wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function qa(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(w){return c.handleEvent(w)}),c[wi])}function yt(){V.call(this),this.i=new Ce(this),this.M=this,this.G=null}_(yt,V),yt.prototype[ct]=!0,yt.prototype.removeEventListener=function(c,w,x,S){Ha(this,c,w,x,S)};function ht(c,w){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=w.type||w,typeof w=="string")w=new j(w,c);else if(w instanceof j)w.target=w.target||c;else{var W=w;w=new j(S,c),be(w,W)}W=!0;let G,oe;if(x)for(oe=x.length-1;oe>=0;oe--)G=w.g=x[oe],W=$n(G,S,!0,w)&&W;if(G=w.g=c,W=$n(G,S,!0,w)&&W,W=$n(G,S,!1,w)&&W,x)for(oe=0;oe<x.length;oe++)G=w.g=x[oe],W=$n(G,S,!1,w)&&W}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const x=c.g[w];for(let S=0;S<x.length;S++)se(x[S]);delete c.g[w],c.h--}}this.G=null},yt.prototype.J=function(c,w,x,S){return this.i.add(String(c),w,!1,x,S)},yt.prototype.K=function(c,w,x,S){return this.i.add(String(c),w,!0,x,S)};function $n(c,w,x,S){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let G=0;G<w.length;++G){const oe=w[G];if(oe&&!oe.da&&oe.capture==x){const Se=oe.listener,dt=oe.ha||oe.src;oe.fa&&ke(c.i,oe),W=Se.call(dt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ka(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(c,w||0)}function Ga(c){c.g=Ka(()=>{c.g=null,c.i&&(c.i=!1,Ga(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class zu extends V{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){V.call(this),this.h=c,this.g={}}_(ws,V);var Qa=[];function _o(c){fe(c.g,function(w,x){this.g.hasOwnProperty(x)&&vs(w)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),_o(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=l.JSON.stringify,$u=l.JSON.parse,_i=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function xs(){}function Wu(){}var Es={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xo(){j.call(this,"d")}_(xo,j);function Ya(){j.call(this,"c")}_(Ya,j);var Wn={},Eo=null;function Ts(){return Eo=Eo||new yt}Wn.Ia="serverreachability";function To(c){j.call(this,Wn.Ia,c)}_(To,j);function Or(c){const w=Ts();ht(w,new To(w))}Wn.STAT_EVENT="statevent";function Fr(c,w){j.call(this,Wn.STAT_EVENT,c),this.stat=w}_(Fr,j);function at(c){const w=Ts();ht(w,new Fr(w,c))}Wn.Ja="timingevent";function Xa(c,w){j.call(this,Wn.Ja,c),this.size=w}_(Xa,j);function Ss(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},w)}function Is(){this.g=!0}Is.prototype.ua=function(){this.g=!1};function Hu(c,w,x,S,W,G){c.info(function(){if(c.g)if(G){var oe="",Se=G.split("&");for(let He=0;He<Se.length;He++){var dt=Se[He].split("=");if(dt.length>1){const vt=dt[0];dt=dt[1];const wn=vt.split("_");oe=wn.length>=2&&wn[1]=="type"?oe+(vt+"="+dt+"&"):oe+(vt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+w+`
`+x+`
`+oe})}function qu(c,w,x,S,W,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+w+`
`+x+`
`+G+" "+oe})}function ur(c,w,x,S){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+xi(c,x)+(S?" "+S:"")})}function Ku(c,w){c.info(function(){return"TIMEOUT: "+w})}Is.prototype.info=function(){};function xi(c,w){if(!c.g)return w;if(!w)return null;try{const G=JSON.parse(w);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var x=G[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var W=S[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return _s(G)}catch{return w}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gu;function Ur(){}_(Ur,xs),Ur.prototype.g=function(){return new XMLHttpRequest},Gu=new Ur;function cr(c){return encodeURIComponent(String(c))}function So(c){var w=1;c=c.split(":");const x=[];for(;w>0&&c.length;)x.push(c.shift()),w--;return c.length&&x.push(c.join(":")),x}function In(c,w,x,S){this.j=c,this.i=w,this.l=x,this.S=S||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qu}function Qu(){this.i=null,this.g="",this.h=!1}var Yu={},Ja={};function Hn(c,w,x){c.M=1,c.A=zr(An(w)),c.u=x,c.R=!0,Za(c,null)}function Za(c,w){c.F=Date.now(),Ei(c),c.B=An(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ul(x.i,"t",S),c.C=0,x=c.j.L,c.h=new Qu,c.g=oc(c.j,x?w:null,!c.u),c.P>0&&(c.O=new zu(p(c.Y,c,c.g),c.P)),w=c.V,x=c.g,S=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Qa[0]=W.toString()),W=Qa);for(let G=0;G<W.length;G++){const oe=Ke(x,W[G],S||w.handleEvent,!1,w.h||w);if(!oe)break;w.g[oe.key]=oe}w=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),Or(),Hu(c.i,c.v,c.B,c.l,c.S,c.u)}In.prototype.ba=function(c){c=c.target;const w=this.O;w&&yr(c)==3?w.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)e:{const Se=yr(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||sc(this.g)))){this.K||Se!=4||dt==7||(dt==8||He<=0?Or(3):Or(2)),Io(this);var w=this.g.ca();this.X=w;var x=Xu(this);if(this.o=w==200,qu(this.i,this.v,this.B,this.l,this.S,Se,w),this.o){if(this.U&&!this.L){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break t}}G=null}if(c=G)ur(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,c);else{this.o=!1,this.m=3,at(12),Br(this),Ti(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<x.length;)if(vt=Zu(this,x),vt==Ja){Se==4&&(this.m=4,at(14),c=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Yu){this.m=4,at(15),ur(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else ur(this.i,this.l,vt,null),Xe(this,vt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||x.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)ur(this.i,this.l,x,"[Invalid Chunked Response]"),Br(this),Ti(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ni(oe),oe.P=!0,at(11))}}else ur(this.i,this.l,x,null),Xe(this,x);Se==4&&Br(this),this.o&&!this.K&&(Se==4?Lo(this.j,this):(this.o=!1,Ei(this)))}else hl(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Br(this),Ti(this)}}}catch{}finally{}};function Xu(c){if(!Ju(c))return c.g.la();const w=sc(c.g);if(w==="")return"";let x="";const S=w.length,W=yr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Br(c),Ti(c),"";c.h.i=new l.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,x+=c.h.i.decode(w[G],{stream:!(W&&G==S-1)});return w.length=0,c.h.g+=x,c.C=0,c.h.g}function Ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zu(c,w){var x=c.C,S=w.indexOf(`
`,x);return S==-1?Ja:(x=Number(w.substring(x,S)),isNaN(x)?Yu:(S+=1,S+x>w.length?Ja:(w=w.slice(S,S+x),c.C=S+x,w)))}In.prototype.cancel=function(){this.K=!0,Br(this)};function Ei(c){c.T=Date.now()+c.H,el(c,c.H)}function el(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ss(p(c.aa,c),w)}function Io(c){c.D&&(l.clearTimeout(c.D),c.D=null)}In.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ku(this.i,this.B),this.M!=2&&(Or(),at(17)),Br(this),this.m=2,Ti(this)):el(this,this.T-c)};function Ti(c){c.j.I==0||c.K||Lo(c.j,c)}function Br(c){Io(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,_o(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function Xe(c,w){try{var x=c.j;if(x.I!=0&&(x.g==c||nl(x.h,c))){if(!c.L&&nl(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(w)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Vo(x),yn(x);else break e;_r(x),at(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ss(p(x.Va,x),6e3));Si(x.h)<=1&&x.ta&&(x.ta=void 0)}else vn(x,11)}else if((c.L||x.g==c)&&Vo(x),!N(w))for(W=x.Ba.g.parse(w),w=0;w<W.length;w++){let He=W[w];const vt=He[0];if(!(vt<=x.K))if(x.K=vt,He=He[1],x.I==2)if(He[0]=="c"){x.M=He[1],x.ba=He[2];const wn=He[3];wn!=null&&(x.ka=wn,x.j.info("VER="+x.ka));const Kr=He[4];Kr!=null&&(x.za=Kr,x.j.info("SVER="+x.za));const xr=He[5];xr!=null&&typeof xr=="number"&&xr>0&&(S=1.5*xr,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Er=c.g;if(Er){const Oo=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oo){var G=S.h;G.g||Oo.indexOf("spdy")==-1&&Oo.indexOf("quic")==-1&&Oo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(bo(G,G.h),G.h=null))}if(S.G){const pl=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.wa=pl,Be(S.J,S.G,pl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var oe=c;if(S.na=fl(S,S.L?S.ba:null,S.W),oe.L){Ii(S.h,oe);var Se=oe,dt=S.O;dt&&(Se.H=dt),Se.D&&(Io(Se),Ei(Se)),S.g=oe}else Wt(S);x.i.length>0&&qr(x)}else He[0]!="stop"&&He[0]!="close"||vn(x,7);else x.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vn(x,7):No(x):He[0]!="noop"&&x.l&&x.l.qa(He),x.A=0)}}Or(4)}catch{}}var Vd=class{constructor(c,w){this.g=c,this.map=w}};function Ao(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function nl(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function bo(c,w){c.g?c.g.add(w):c.h=w}function Ii(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}Ao.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const x of c.g.values())w=w.concat(x.G);return w}return A(c.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mn(c,w){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let W,G=null;S>=0?(W=c[x].substring(0,S),G=c[x].substring(S+1)):W=c[x],w(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function hr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof hr?(this.l=c.l,Ai(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Cs(this,cl(c.i)),this.m=c.m):c&&(w=String(c).match(ec))?(this.l=!1,Ai(this,w[1]||"",!0),this.o=bi(w[2]||""),this.g=bi(w[3]||"",!0),dr(this,w[4]),this.h=bi(w[5]||"",!0),Cs(this,w[6]||"",!0),this.m=bi(w[7]||"")):(this.l=!1,this.i=new je(null,this.l))}hr.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(Ci(w,sl,!0),":");var x=this.g;return(x||w=="file")&&(c.push("//"),(w=this.o)&&c.push(Ci(w,sl,!0),"@"),c.push(cr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Ci(x,x.charAt(0)=="/"?Pi:il,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Ci(x,ol)),c.join("")},hr.prototype.resolve=function(c){const w=An(this);let x=!!c.j;x?Ai(w,c.j):x=!!c.o,x?w.o=c.o:x=!!c.g,x?w.g=c.g:x=c.u!=null;var S=c.h;if(x)dr(w,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var W=w.h.lastIndexOf("/");W!=-1&&(S=w.h.slice(0,W+1)+S)}if(W=S,W==".."||W==".")S="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){S=W.lastIndexOf("/",0)==0,W=W.split("/");const G=[];for(let oe=0;oe<W.length;){const Se=W[oe++];Se=="."?S&&oe==W.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&oe==W.length&&G.push("")):(G.push(Se),S=!0)}S=G.join("/")}else S=W}return x?w.h=S:x=c.i.toString()!=="",x?Cs(w,cl(c.i)):x=!!c.m,x&&(w.m=c.m),w};function An(c){return new hr(c)}function Ai(c,w,x){c.j=x?bi(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Cs(c,w,x){w instanceof je?(c.i=w,Po(c.i,c.l)):(x||(w=Ci(w,Ld)),c.i=new je(w,c.l))}function Be(c,w,x){c.i.set(w,x)}function zr(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ci(c,w,x){return typeof c=="string"?(c=encodeURI(c).replace(w,rl),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,il=/[#\?:]/g,Pi=/[#\?]/g,Ld=/[#\?@]/g,ol=/#/g;function je(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&mn(c.i,function(w,x){c.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=je.prototype,t.add=function(c,w){fr(this),this.i=null,c=pr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(w),this.h+=1,this};function al(c,w){fr(c),w=pr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function Co(c,w){return fr(c),w=pr(c,w),c.g.has(w)}t.forEach=function(c,w){fr(this),this.g.forEach(function(x,S){x.forEach(function(W){c.call(w,W,S,this)},this)},this)};function ll(c,w){fr(c);let x=[];if(typeof w=="string")Co(c,w)&&(x=x.concat(c.g.get(pr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)x=x.concat(c[w]);return x}t.set=function(c,w){return fr(this),this.i=null,c=pr(this,c),Co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=ll(this,c),c.length>0?String(c[0]):w):w};function ul(c,w,x){al(c,w),x.length>0&&(c.i=null,c.g.set(pr(c,w),A(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let S=0;S<w.length;S++){var x=w[S];const W=cr(x);x=ll(this,x);for(let G=0;G<x.length;G++){let oe=W;x[G]!==""&&(oe+="="+cr(x[G])),c.push(oe)}}return this.i=c.join("&")};function cl(c){const w=new je;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function pr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function Po(c,w){w&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(x,S){const W=S.toLowerCase();S!=W&&(al(this,S),ul(this,W,x))},c)),c.j=w}function mr(c,w){const x=new Is;if(l.Image){const S=new Image;S.onload=y(Lt,x,"TestLoadImage: loaded",!0,w,S),S.onerror=y(Lt,x,"TestLoadImage: error",!1,w,S),S.onabort=y(Lt,x,"TestLoadImage: abort",!1,w,S),S.ontimeout=y(Lt,x,"TestLoadImage: timeout",!1,w,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else w(!1)}function gr(c,w){const x=new Is,S=new AbortController,W=setTimeout(()=>{S.abort(),Lt(x,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(W),G.ok?Lt(x,"TestPingServer: ok",!0,w):Lt(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Lt(x,"TestPingServer: error",!1,w)})}function Lt(c,w,x,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(x)}catch{}}function Ri(){this.g=new _i}function $r(c){this.i=c.Sb||null,this.h=c.ab||!1}_($r,xs),$r.prototype.g=function(){return new gn(this.i,this.h)};function gn(c,w){yt.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(gn,yt),t=gn.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,qn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tc(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function tc(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?Ps(this):qn(this),this.readyState==3&&tc(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ps(this))},t.Na=function(c){this.g&&(this.response=c,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(c){c.readyState=4,c.l=null,c.j=null,c.B=null,qn(c)}t.setRequestHeader=function(c,w){this.A.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=w.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nc(c){let w="";return fe(c,function(x,S){w+=S,w+=":",w+=x,w+=`\r
`}),w}function Ro(c,w,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=nc(x),typeof c=="string"?x!=null&&cr(x):Be(c,w,x))}function Ge(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ge,yt);var rc=/^https?$/i,jd=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,w,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(G){Rs(this,G);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)x.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())x.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),W=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(jd,w,void 0)>=0)||S||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of x)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Rs(this,G)}};function Rs(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,ks(c),Hr(c)}function ks(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},t.Xa=function(){Wr(this)};function Wr(c){if(c.h&&typeof a<"u"){if(c.v&&yr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),yr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var S;if(S=G===0){let oe=String(c.D).match(ec)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!rc.test(oe?oe.toLowerCase():"")}x=S}if(x)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var W=yr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",ks(c)}}finally{Hr(c)}}}}function Hr(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,w||ht(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),$u(w)}};function sc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hl(c){const w={};c=(c.g&&yr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var x=So(c[S]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=w[W]||[];w[W]=G,G.push(x)}ae(w,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(c,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||w}function ko(c){this.za=0,this.i=[],this.j=new Is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,c),this.Za=vr("retryDelaySeedMs",1e4,c),this.Ta=vr("forwardChannelMaxRetries",2,c),this.va=vr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new Ri,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ko.prototype,t.ka=8,t.I=1,t.connect=function(c,w,x,S){at(0),this.W=c,this.H=w||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=fl(this,null,this.W),qr(this)};function No(c){if(Do(c),c.I==3){var w=c.V++,x=An(c.J);if(Be(x,"SID",c.M),Be(x,"RID",w),Be(x,"TYPE","terminate"),wr(c,x),w=new In(c,c.j,w),w.M=2,w.A=zr(An(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=oc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ei(w)}Di(c)}function yn(c){c.g&&(Ni(c),c.g.cancel(),c.g=null)}function Do(c){yn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Vo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function qr(c){if(!tl(c.h)&&!c.m){c.m=!0;var w=c.Ea;re||I(),X||(re(),X=!0),b.add(w,c),c.D=0}}function ic(c,w){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ss(p(c.Ea,c,w),jo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new In(this,this.j,c);let G=this.o;if(this.U&&(G?(G=B(G),be(G,this.U)):G=this.U),this.u!==null||this.R||(W.J=G,G=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(w+=S,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=dl(this,W,w),x=An(this.J),Be(x,"RID",c),Be(x,"CVER",22),this.G&&Be(x,"X-HTTP-Session-Id",this.G),wr(this,x),G&&(this.R?w="headers="+cr(nc(G))+"&"+w:this.u&&Ro(x,this.u,G)),bo(this.h,W),this.Ra&&Be(x,"TYPE","init"),this.S?(Be(x,"$req",w),Be(x,"SID","null"),W.U=!0,Hn(W,x,null)):Hn(W,x,w),this.I=2}}else this.I==3&&(c?ki(this,c):this.i.length==0||tl(this.h)||ki(this))};function ki(c,w){var x;w?x=w.l:x=c.V++;const S=An(c.J);Be(S,"SID",c.M),Be(S,"RID",x),Be(S,"AID",c.K),wr(c,S),c.u&&c.o&&Ro(S,c.u,c.o),x=new In(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),w&&(c.i=w.G.concat(c.i)),w=dl(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bo(c.h,x),Hn(x,S,w)}function wr(c,w){c.H&&fe(c.H,function(x,S){Be(w,S,x)}),c.l&&fe({},function(x,S){Be(w,S,x)})}function dl(c,w,x){x=Math.min(c.i.length,x);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Se=-1;for(;;){const dt=["count="+x];Se==-1?x>0?(Se=W[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let He=!0;for(let vt=0;vt<x;vt++){var G=W[vt].g;const wn=W[vt].map;if(G-=Se,G<0)Se=Math.max(0,W[vt].g-100),He=!1;else try{G="req"+G+"_"||"";try{var oe=wn instanceof Map?wn:Object.entries(wn);for(const[Kr,xr]of oe){let Er=xr;h(xr)&&(Er=_s(xr)),dt.push(G+Kr+"="+encodeURIComponent(Er))}}catch(Kr){throw dt.push(G+"type="+encodeURIComponent("_badmap")),Kr}}catch{S&&S(wn)}}if(He){oe=dt.join("&");break e}}oe=void 0}return c=c.i.splice(0,x),w.G=c,oe}function Wt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;re||I(),X||(re(),X=!0),b.add(w,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ss(p(c.Da,c),jo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Ns(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ss(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),yn(this),Ns(this))};function Ni(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function Ns(c){c.g=new In(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=An(c.na);Be(w,"RID","rpc"),Be(w,"SID",c.M),Be(w,"AID",c.K),Be(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(w,"TO",c.ia),Be(w,"TYPE","xmlhttp"),wr(c,w),c.u&&c.o&&Ro(w,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=zr(An(w)),x.u=null,x.R=!0,Za(x,c)}t.Va=function(){this.C!=null&&(this.C=null,yn(this),_r(this),at(19))};function Vo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Lo(c,w){var x=null;if(c.g==w){Vo(c),Ni(c),c.g=null;var S=2}else if(nl(c.h,w))x=w.G,Ii(c.h,w),S=1;else return;if(c.I!=0){if(w.o)if(S==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var W=c.D;S=Ts(),ht(S,new Xa(S,x)),qr(c)}else Wt(c);else if(W=w.m,W==3||W==0&&w.X>0||!(S==1&&ic(c,w)||S==2&&_r(c)))switch(x&&x.length>0&&(w=c.h,w.i=w.i.concat(x)),W){case 1:vn(c,5);break;case 4:vn(c,10);break;case 3:vn(c,6);break;default:vn(c,2)}}}function jo(c,w){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*w}function vn(c,w){if(c.j.info("Error code "+w),w==2){var x=p(c.bb,c),S=c.Ua;const W=!S;S=new hr(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ai(S,"https"),zr(S),W?mr(S.toString(),x):gr(S.toString(),x)}else at(2);c.I=0,c.l&&c.l.pa(w),Di(c),Do(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Di(c){if(c.I=0,c.ja=[],c.l){const w=pn(c.h);(w.length!=0||c.i.length!=0)&&(D(c.ja,w),D(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function fl(c,w,x){var S=x instanceof hr?An(x):new hr(x);if(S.g!="")w&&(S.g=w+"."+S.g),dr(S,S.u);else{var W=l.location;S=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const G=new hr(null);S&&Ai(G,S),w&&(G.g=w),W&&dr(G,W),x&&(G.h=x),S=G}return x=c.G,w=c.wa,x&&w&&Be(S,x,w),Be(S,"VER",c.ka),wr(c,S),S}function oc(c,w,x){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Ge(new $r({ab:x})):new Ge(c.ma),w.Fa(c.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}t=ac.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Mo(){}Mo.prototype.g=function(c,w){return new jt(c,w)};function jt(c,w){yt.call(this),this.g=new ko(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!N(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Ds(this)}_(jt,yt),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){No(this.g)},jt.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=_s(c),c=x);w.i.push(new Vd(w.Ya++,c)),w.I==3&&qr(w)},jt.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,jt.Z.N.call(this)};function lc(c){xo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const x in w){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}_(lc,xo);function uc(){Ya.call(this),this.status=1}_(uc,Ya);function Ds(c){this.g=c}_(Ds,ac),Ds.prototype.ra=function(){ht(this.g,"a")},Ds.prototype.qa=function(c){ht(this.g,new lc(c))},Ds.prototype.pa=function(c){ht(this.g,new uc)},Ds.prototype.oa=function(){ht(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,LE=function(){return new Mo},VE=function(){return Ts()},DE=Wn,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,xh=As,bs.COMPLETE="complete",NE=bs,Wu.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Wl=Wu,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,kE=Ge}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const jw="@firebase/firestore",Mw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new ud("@firebase/firestore");function ia(){return ao.logLevel}function ce(t,...e){if(ao.logLevel<=De.DEBUG){const n=e.map(ug);ao.debug(`Firestore (${Va}): ${t}`,...n)}}function ds(t,...e){if(ao.logLevel<=De.ERROR){const n=e.map(ug);ao.error(`Firestore (${Va}): ${t}`,...n)}}function xa(t,...e){if(ao.logLevel<=De.WARN){const n=e.map(ug);ao.warn(`Firestore (${Va}): ${t}`,...n)}}function ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jE(t,r,n)}function jE(t,e,n){let r=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function $e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||jE(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class JN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZN{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ls,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ls)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new ME(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class e5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ow(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=r5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function em(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return xp(i)===xp(a)?Ve(i,a):xp(i)?1:-1}return Ve(t.length,e.length)}const s5=55296,i5=57343;function xp(t){const e=t.charCodeAt(0);return e>=s5&&e<=i5}function Ea(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class br{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=br.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){const r=br.isNumericId(e),i=br.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?br.extractNumericId(e).compare(br.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class Ye extends br{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const o5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends br{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return o5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new zt([Fw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a5(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!FE(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,$w=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$w);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zw)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$w}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Tt("string",qe._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new qe(0,0))}static max(){return new Te(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function l5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ii(i,ge.empty(),e)}function u5(t){return new ii(t.readTime,t.key,cu)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(Te.min(),ge.empty(),cu)}static max(){return new ii(Te.max(),ge.empty(),cu)}}function c5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==h5)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{l[p]=y,++h,h===a&&r(l)}),(y=>i(y)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function f5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function yd(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function p5(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="";function m5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ww(e)),e=g5(t.get(n),e);return Ww(e)}function g5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case UE:n+="";break;default:n+=a}}return n}function Ww(t){return t+UE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new bt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zE("Invalid base64 string: "+a):a}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=y5.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ai(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",WE="__type__",HE="__previous_value__",qE="__local_write_time__";function dg(t){return(t?.mapValue?.fields||{})[WE]?.stringValue===$E}function vd(t){const e=t.mapValue.fields[HE];return dg(e)?vd(e):e}function hu(t){const e=oi(t.mapValue.fields[qE].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,i,a,l,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const $h="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__type__",w5="__max__",ah={mapValue:{}},GE="__vector__",Wh="value";function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:x5(t)?9007199254740991:_5(t)?10:11:_e(28295,{value:t})}function jr(t,e){if(t===e)return!0;const n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=oi(i.timestampValue),h=oi(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ai(i.bytesValue).isEqual(ai(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=mt(i.doubleValue),h=mt(a.doubleValue);return l===h?zh(l)===zh(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Hw(l)!==Hw(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!jr(l[f],h[f])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function fu(t,e){return(t.values||[]).find((n=>jr(n,e)))!==void 0}function Ta(t,e){if(t===e)return 0;const n=li(t),r=li(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=mt(a.integerValue||a.doubleValue),f=mt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(hu(t),hu(e));case 5:return em(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=ai(a),f=ai(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=Ve(h[p],f[p]);if(y!==0)return y}return Ve(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=Ve(mt(a.latitude),mt(l.latitude));return h!==0?h:Ve(mt(a.longitude),mt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[Wh]?.arrayValue,y=f[Wh]?.arrayValue,_=Ve(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Gw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ah.mapValue&&l===ah.mapValue)return 0;if(a===ah.mapValue)return 1;if(l===ah.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=em(f[_],y[_]);if(E!==0)return E;const A=Ta(h[f[_]],p[y[_]]);if(A!==0)return A}return Ve(f.length,y.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=oi(t),r=oi(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function Gw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ta(n[i],r[i]);if(a)return a}return Ve(n.length,r.length)}function Sa(t){return tm(t)}function tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ai(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=tm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${tm(n.fields[l])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function Eh(t){switch(li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Eh(e):16;case 5:return 2*t.stringValue.length;case 6:return ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Eh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fo(r.fields,((a,l)=>{i+=a.length+Eh(l)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function Qw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nm(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function _5(t){return(t?.mapValue?.fields||{})[KE]?.stringValue===GE}function Xl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xl(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return{...t}}function x5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=Xl(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ln(Xl(this.value))}}function QE(t){const e=[];return fo(t.fields,((n,r)=>{const i=new zt([n]);if(Th(r)){const a=QE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Xt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function Jw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function E5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class Et extends YE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S5(e,n,r):n==="array-contains"?new b5(e,r):n==="in"?new C5(e,r):n==="not-in"?new P5(e,r):n==="array-contains-any"?new R5(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new I5(e,r):new A5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends YE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return XE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(t){return t.op==="and"}function JE(t){return T5(t)&&XE(t)}function T5(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function rm(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(JE(t))return t.filters.map((e=>rm(e))).join(",");{const e=t.filters.map((n=>rm(n))).join(",");return`${t.op}(${e})`}}function ZE(t,e){return t instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)})(t,e):t instanceof ir?(function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&ZE(l,i.filters[h])),!0):!1})(t,e):void _e(19439)}function eT(t){return t instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`})(t):t instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"})(t):"Filter"}class S5 extends Et{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class I5 extends Et{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A5 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tT(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class b5 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&fu(n.arrayValue,this.value)}}class C5 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class P5 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class R5 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function e_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new k5(t,e,n,r,i,a,l)}function pg(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sa(r))).join(",")),e.Te=n}return e.Te}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zw(t.startAt,e.startAt)&&Zw(t.endAt,e.endAt)}function sm(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N5(t,e,n,r,i,a,l,h){return new Ma(t,e,n,r,i,a,l,h)}function gg(t){return new Ma(t)}function t_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nT(t){return t.collectionGroup!==null}function Jl(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new bt(zt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new pu(a,r))})),n.has(zt.keyField().canonicalString())||e.Ie.push(new pu(zt.keyField(),r))}return e.Ie}function Pr(t){const e=Ie(t);return e.Ee||(e.Ee=D5(e,Jl(t))),e.Ee}function D5(t,e){if(t.limitType==="F")return e_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new pu(i.field,a)}));const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return e_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e){const n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qh(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return mg(Pr(t),Pr(e))&&t.limitType===e.limitType}function rT(t){return`${pg(Pr(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>eT(i))).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sa(i))).join(",")),`Target(${r})`})(Pr(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Jl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=Jw(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,Jl(r),i)||r.endAt&&!(function(l,h,f){const p=Jw(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,Jl(r),i))})(t,e)}function V5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sT(t){return(e,n)=>{let r=!1;for(const i of Jl(t)){const a=L5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function L5(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ta(f,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return BE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=new ot(ge.comparator);function ps(){return j5}const iT=new ot(ge.comparator);function Hl(...t){let e=iT;for(const n of t)e=e.insert(n.key,n);return e}function oT(t){let e=iT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xi(){return Zl()}function aT(){return Zl()}function Zl(){return new po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const M5=new ot(ge.comparator),O5=new bt(ge.comparator);function Le(...t){let e=O5;for(const n of t)e=e.add(n);return e}const F5=new bt(Ve);function U5(){return F5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function lT(t){return{integerValue:""+t}}function B5(t,e){return p5(e)?lT(e):yg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function z5(t,e,n){return t instanceof Kh?(function(i,a){const l={fields:{[WE]:{stringValue:$E},[qE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dg(a)&&(a=vd(a)),a&&(l.fields[HE]=a),{mapValue:l}})(n,e):t instanceof mu?cT(t,e):t instanceof gu?hT(t,e):(function(i,a){const l=uT(i,a),h=n_(l)+n_(i.Ae);return nm(l)&&nm(i.Ae)?lT(h):yg(i.serializer,h)})(t,e)}function $5(t,e,n){return t instanceof mu?cT(t,e):t instanceof gu?hT(t,e):n}function uT(t,e){return t instanceof Gh?(function(r){return nm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Kh extends xd{}class mu extends xd{constructor(e){super(),this.elements=e}}function cT(t,e){const n=dT(e);for(const r of t.elements)n.some((i=>jr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gu extends xd{constructor(e){super(),this.elements=e}}function hT(t,e){let n=dT(e);for(const r of t.elements)n=n.filter((i=>!jr(i,r)));return{arrayValue:{values:n}}}class Gh extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n_(t){return mt(t.integerValue||t.doubleValue)}function dT(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W5(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mu&&i instanceof mu||r instanceof gu&&i instanceof gu?Ea(r.elements,i.elements,jr):r instanceof Gh&&i instanceof Gh?jr(r.Ae,i.Ae):r instanceof Kh&&i instanceof Kh})(t.transform,e.transform)}class H5{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function fT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vg(t.key,rr.none()):new Nu(t.key,t.data,rr.none());{const n=t.data,r=Ln.empty();let i=new bt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new mo(t.key,r,new tr(i.toArray()),rr.none())}}function q5(t,e,n){t instanceof Nu?(function(i,a,l){const h=i.value.clone(),f=s_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof mo?(function(i,a,l){if(!Sh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=s_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(pT(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function eu(t,e,n,r){return t instanceof Nu?(function(a,l,h,f){if(!Sh(a.precondition,l))return h;const p=a.value.clone(),y=i_(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof mo?(function(a,l,h,f){if(!Sh(a.precondition,l))return h;const p=i_(a.fieldTransforms,f,l),y=l.data;return y.setAll(pT(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,h){return Sh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function K5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uT(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function r_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ea(r,i,((a,l)=>W5(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Ed{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends Ed{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function s_(t,e,n){const r=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,$5(l,h,n[i]))}return r}function i_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,z5(a,l,e))}return r}class vg extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G5 extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&q5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=fT(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((n,r)=>r_(n,r)))&&Ea(this.baseMutations,e.baseMutations,((n,r)=>r_(n,r)))}}class wg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return M5})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new wg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Me;function J5(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function mT(t){if(t===void 0)return ds("GRPC error has no .code"),Q.UNKNOWN;switch(t){case _t.OK:return Q.OK;case _t.CANCELLED:return Q.CANCELLED;case _t.UNKNOWN:return Q.UNKNOWN;case _t.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case _t.INTERNAL:return Q.INTERNAL;case _t.UNAVAILABLE:return Q.UNAVAILABLE;case _t.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case _t.NOT_FOUND:return Q.NOT_FOUND;case _t.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case _t.ABORTED:return Q.ABORTED;case _t.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case _t.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=_t||(_t={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new ni([4294967295,4294967295],0);function o_(t){const e=Z5().encode(t),n=new RE;return n.update(e),new Uint8Array(n.digest())}function a_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ni([n,r],0),new ni([i,a],0)]}class _g{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ni.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ni.fromNumber(r)));return i.compare(e4)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o_(e),[r,i]=a_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new _g(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=o_(e),[r,i]=a_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(Te.min(),i,new ot(Ve),ps(),Le())}}class Du{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gT{constructor(e,n){this.targetId=e,this.Ce=n}}class yT{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l_{constructor(){this.ve=0,this.Fe=u_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}})),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=u_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=lh(),this.He=lh(),this.Ye=new ot(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(sm(a))if(r===0){const l=new ge(a.path);this.et(n,l,Xt.newNoDocument(l,Te.min()))}else $e(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=ai(r).toUint8Array()}catch(f){if(f instanceof zE)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _g(l,i,a)}catch(f){return xa(f instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&sm(h.target)){const f=new ge(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Xt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Le();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Td(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=lh(),this.He=lh(),this.Ye=new ot(Ve),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new l_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ot(ge.comparator)}function u_(){return new ot(ge.comparator)}const n4={asc:"ASCENDING",desc:"DESCENDING"},r4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class i4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o4(t,e){return Qh(t,e.toTimestamp())}function Rr(t){return $e(!!t,49232),Te.fromTimestamp((function(n){const r=oi(n);return new qe(r.seconds,r.nanos)})(t))}function xg(t,e){return am(t,e).canonicalString()}function am(t,e){const n=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function wT(t){const e=Ye.fromString(t);return $e(ST(e),10190,{key:e.toString()}),e}function lm(t,e){return xg(t.databaseId,e.path)}function Ep(t,e){const n=wT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(xT(n))}function _T(t,e){return xg(t.databaseId,e)}function a4(t){const e=wT(t);return e.length===4?Ye.emptyPath():xT(e)}function um(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xT(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function c_(t,e,n){return{name:lm(t,e),fields:n.value.mapValue.fields}}function l4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),$t.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$t.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const y=p.code===void 0?Q.UNKNOWN:mT(p.code);return new le(y,p.message||"")})(l);n=new yT(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ep(t,r.document.name),a=Rr(r.document.updateTime),l=r.document.createTime?Rr(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(i,a,l,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Ih(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ep(t,r.document),a=r.readTime?Rr(r.readTime):Te.min(),l=Xt.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Ih([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ep(t,r.document),a=r.removedTargetIds||[];n=new Ih([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new X5(i,a),h=r.targetId;n=new gT(h,l)}}return n}function u4(t,e){let n;if(e instanceof Nu)n={update:c_(t,e.key,e.value)};else if(e instanceof vg)n={delete:lm(t,e.key)};else if(e instanceof mo)n={update:c_(t,e.key,e.data),updateMask:v4(e.fieldMask)};else{if(!(e instanceof G5))return _e(16599,{Vt:e.type});n={verify:lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof Kh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gh)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:o4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(t,e.precondition)),n}function c4(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Rr(i.updateTime):Rr(a);return l.isEqual(Te.min())&&(l=Rr(a)),new H5(l,i.transformResults||[])})(n,e)))):[]}function h4(t,e){return{documents:[_T(t,e.path)]}}function d4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_T(t,i);const a=(function(p){if(p.length!==0)return TT(ir.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:aa(E.field),direction:m4(E.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=om(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function f4(t){let e=a4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const E=ET(_);return E instanceof ir&&JE(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((E=>(function(D){return new pu(la(D.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,yd(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,A=_.values||[];return new Hh(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new Hh(A,E)})(n.endAt)),N5(e,i,l,a,h,"F",f,p)}function p4(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ET(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=la(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(n.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=la(n.unaryFilter.field);return Et.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Et.create(la(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((r=>ET(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function m4(t){return n4[t]}function g4(t){return r4[t]}function y4(t){return s4[t]}function aa(t){return{fieldPath:t.canonicalString()}}function la(t){return zt.fromServerFormat(t.fieldPath)}function TT(t){return t instanceof Et?(function(n){if(n.op==="=="){if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:g4(n.op),value:n.value}}})(t):t instanceof ir?(function(n){const r=n.getFilters().map((i=>TT(i)));return r.length===1?r[0]:{compositeFilter:{op:y4(n.op),filters:r}}})(t):_e(54877,{filter:t})}function v4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ST(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,i,a=Te.min(),l=Te.min(),h=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.yt=e}}function _4(t){const e=f4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Cn=new E4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ii.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class E4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Ye.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(IT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",T4=1048576;function f_([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class S4{constructor(e){this.Ir=e,this.buffer=new bt(f_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?ce(d_,"Ignoring IndexedDB error during garbage collection: ",n):await La(n)}await this.Vr(3e5)}))}}class A4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(gd.ce);const r=new S4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(h_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),ia()<=De.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function b4(t,e){return new A4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.changes=new po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&eu(r.mutation,i,tr.empty(),qe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const i=Xi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Hl();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=ps();const l=Zl(),h=(function(){return Zl()})();return n.forEach(((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof mo)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),eu(y.mutation,p,y.mutation.getFieldMask(),qe.now())):l.set(p.key,tr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>l.set(p,y))),n.forEach(((p,y)=>h.set(p,new P4(y,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Zl();let i=new ot(((l,h)=>l-h)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||tr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const _=(i.get(h.batchId)||Le()).add(f);i=i.insert(h.batchId,_)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=aT();y.forEach((E=>{if(!a.has(E)){const A=fT(n.get(E),r.get(E));A!==null&&_.set(E,A),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Xi());let h=cu,f=a;return l.next((p=>Y.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?Y.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Le()))).next((y=>({batchId:h,changes:oT(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=Hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Hl();return this.indexManager.getCollectionParents(e,a).next((h=>Y.forEach(h,(f=>{const p=(function(_,E){return new Ma(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((_,E)=>{l=l.insert(_,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Xt.newInvalidDocument(y)))}));let h=Hl();return l.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&eu(y.mutation,p,tr.empty(),qe.now()),_d(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:_4(i.bundledQuery),readTime:Rr(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),a=n.length+1,l=new ge(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ot(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Xi(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Xi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=i)););return Y.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Y5(n,r));let a=this.qr.get(n);a===void 0&&(a=Le(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Qr=new bt(Nt.$r),this.Ur=new bt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1);let a=Le();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(Nt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q5(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new Nt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?hg:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ve);return n.forEach((i=>{const a=new Nt(i,0),l=new Nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const l=new Nt(new ge(a),0);let h=new bt(Ve);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new Nt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ps();const l=n.path,h=new ge(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||c5(u5(y),r)<=0||(i.has(y.key)||_d(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new j4(this)}getSize(e){return Y.resolve(this.size)}}class j4 extends C4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.persistence=e,this.si=new po((n=>pg(n)),mg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new D4,this.referenceDelegate=e(this),this.Pi=new M4(this),this.indexManager=new x4,this.remoteDocumentCache=(function(i){return new L4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new w4(n),this.Ii=new k4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new O4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class O4 extends d5{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new po((r=>m5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=b4(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,Te.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Le(),i=Le();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Sg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yb()?8:f5(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new F4;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ia()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ia()<=De.DEBUG&&ce("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ia()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):Y.resolve())}ys(e,n){if(t_(n))return Y.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=qh(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Le(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,qh(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return t_(n)||i.isEqual(Te.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(ia()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.vs(e,l,n,l5(i,cu)).next((h=>h)))}))}Ds(e,n){let r=new bt(sT(e));return n.forEach(((i,a)=>{_d(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ia()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",oa(n)),this.ps.getDocumentsMatchingQuery(e,n,ii.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",B4=3e8;class z4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ot(Ve),this.xs=new po((a=>pg(a)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $4(t,e,n,r){return new z4(t,e,n,r)}async function bT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=Le();for(const p of i){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function W4(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const _=p.batch,E=_.keys();let A=Y.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(f,D))).next((L=>{const C=p.docVersions.get(D);$e(C!==null,48541),L.version.compareTo(C)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function CT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H4(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=i.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,_))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),i=i.insert(_,A),(function(L,C,O){return L.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=B4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,A,y)&&h.push(n.Pi.updateTargetData(a,A))}));let f=ps(),p=Le();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(q4(a,l,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!r.isEqual(Te.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(y)}return Y.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function q4(t,e,n){let r=Le(),i=Le();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ps();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(Ig,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function K4(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G4(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Zs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cm(t,e,n){const r=Ie(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ja(l))throw l;ce(Ig,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function p_(t,e,n){const r=Ie(t);let i=Te.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,y){const _=Ie(f),E=_.xs.get(y);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)})(r,l,Pr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Te.min(),n?a:Le()))).next((h=>(Q4(r,V5(e),h),{documents:h,Qs:a})))))}function Q4(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class m_{constructor(){this.activeTargetIds=U5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y4{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(g_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function hm(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",J4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=hm(),h=this.zo(e,n.toUriEncodedString());ce(Tp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),y=ka(p);return this.Jo(e,h,f,r,y).then((_=>(ce(Tp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw xa(Tp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Va})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=J4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class tD extends Z4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=hm();return new Promise(((h,f)=>{const p=new kE;p.setWithCredentials(!0),p.listenOnce(NE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const _=p.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case xh.TIMEOUT:ce(Qt,`RPC '${e}' ${l} timed out`),f(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const E=p.getStatus();if(ce(Qt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const L=(function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(U)>=0?U:Q.UNKNOWN})(D.status);f(new le(L,D.message))}else f(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);ce(Qt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=hm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LE(),h=VE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");ce(Qt,`Creating RPC '${e}' stream ${i}: ${y}`,f);const _=l.createWebChannel(y,f);this.I_(_);let E=!1,A=!1;const D=new eD({Yo:C=>{A?ce(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(E||(ce(Qt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),ce(Qt,`RPC '${e}' stream ${i} sending:`,C),_.send(C))},Zo:()=>_.close()}),L=(C,O,U)=>{C.listen(O,(K=>{try{U(K)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return L(_,Wl.EventType.OPEN,(()=>{A||(ce(Qt,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),L(_,Wl.EventType.CLOSE,(()=>{A||(A=!0,ce(Qt,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(_))})),L(_,Wl.EventType.ERROR,(C=>{A||(A=!0,xa(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),D.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),L(_,Wl.EventType.MESSAGE,(C=>{if(!A){const O=C.data[0];$e(!!O,16349);const U=O,K=U?.error||U[0]?.error;if(K){ce(Qt,`RPC '${e}' stream ${i} received error:`,K);const ne=K.status;let re=(function(I){const R=_t[I];if(R!==void 0)return mT(R)})(ne),X=K.message;re===void 0&&(re=Q.INTERNAL,X="Unknown error status: "+ne+" with message "+K.message),A=!0,D.a_(new le(re,X)),_.close()}else ce(Qt,`RPC '${e}' stream ${i} received:`,O),D.u_(O)}})),L(h,DE.STAT_EVENT,(C=>{C.stat===Zp.PROXY?ce(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Zp.NOPROXY&&ce(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new i4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class RT{constructor(e,n,r,i,a,l,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nD extends RT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Te.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Te.min():l.readTime?Rr(l.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=um(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=sm(f)?{documents:h4(a,f)}:{query:d4(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=vT(a,l.resumeToken);const p=om(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Te.min())>0){h.readTime=Qh(a,l.snapshotVersion.toTimestamp());const p=om(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=p4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=um(this.serializer),n.removeTarget=e,this.q_(n)}}class rD extends RT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c4(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>u4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class iD extends sD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,am(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,am(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Q.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class aD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{go(this)&&(ce(lo,"Restarting streams for network reachability change."),await(async function(f){const p=Ie(f);p.Ea.add(4),await Vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Id(p)})(this))}))})),this.Ra=new oD(r,i)}}async function Id(t){if(go(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function kT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pg(n)?Cg(n):Oa(n).O_()&&bg(n,e))}function Ag(t,e){const n=Ie(t),r=Oa(n);n.Ia.delete(e),r.O_()&&NT(n,e),n.Ia.size===0&&(r.O_()?r.L_():go(n)&&n.Ra.set("Unknown"))}function bg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).Y_(e)}function NT(t,e){t.Va.Ue(e),Oa(t).Z_(e)}function Cg(t){t.Va=new t4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.Ra.ua()}function Pg(t){return go(t)&&!Oa(t).x_()&&t.Ia.size>0}function go(t){return Ie(t).Ea.size===0}function DT(t){t.Va=void 0}async function lD(t){t.Ra.set("Online")}async function uD(t){t.Ia.forEach(((e,n)=>{bg(t,e)}))}async function cD(t,e){DT(t),Pg(t)?(t.Ra.ha(e),Cg(t)):t.Ra.set("Unknown")}async function hD(t,e,n){if(t.Ra.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){ce(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Ih?t.Va.Ze(e):e instanceof gT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await CT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),NT(a,f);const _=new Zs(y.target,f,p,y.sequenceNumber);bg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(lo,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!ja(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>CT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Id(t)}))}function VT(t,e){return e().catch((n=>Xh(t,n,e)))}async function Ad(t){const e=Ie(t),n=ui(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;dD(e);)try{const i=await K4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fD(e,i)}catch(i){await Xh(e,i)}LT(e)&&jT(e)}function dD(t){return go(t)&&t.Ta.length<10}function fD(t,e){t.Ta.push(e);const n=ui(t);n.O_()&&n.X_&&n.ea(e.mutations)}function LT(t){return go(t)&&!ui(t).x_()&&t.Ta.length>0}function jT(t){ui(t).start()}async function pD(t){ui(t).ra()}async function mD(t){const e=ui(t);for(const n of t.Ta)e.ea(n.mutations)}async function gD(t,e,n){const r=t.Ta.shift(),i=wg.from(r,e,n);await VT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ad(t)}async function yD(t,e){e&&ui(t).X_&&await(async function(r,i){if((function(l){return J5(l)&&l!==Q.ABORTED})(i.code)){const a=r.Ta.shift();ui(r).B_(),await VT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ad(r)}})(t,e),LT(t)&&jT(t)}async function w_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(lo,"RemoteStore received new credentials");const r=go(n);n.Ea.add(3),await Vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function vD(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function Oa(t){return t.ma||(t.ma=(function(n,r,i){const a=Ie(n);return a.sa(),new nD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:lD.bind(null,t),t_:uD.bind(null,t),r_:cD.bind(null,t),H_:hD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Pg(t)?Cg(t):t.Ra.set("Unknown")):(await t.ma.stop(),DT(t))}))),t.ma}function ui(t){return t.fa||(t.fa=(function(n,r,i){const a=Ie(n);return a.sa(),new rD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pD.bind(null,t),r_:yD.bind(null,t),ta:mD.bind(null,t),na:gD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ad(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Rg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(t,e){if(ds("AsyncQueue",`${e}: ${t}`),ja(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new ot(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Aa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Aa(e,n,va.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _D{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ie(n),a=i.queries;i.queries=x_(),a.forEach(((l,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function x_(){return new po((t=>rT(t)),wd)}async function MT(t,e){const n=Ie(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new wD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=kg(l,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ng(n)}async function OT(t,e){const n=Ie(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xD(t,e){const n=Ie(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&Ng(n)}function ED(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Ng(t){t.Ca.forEach((e=>{e.next()}))}var dm,E_;(E_=dm||(dm={})).Ma="default",E_.Cache="cache";class FT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class TD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=sT(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new __,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,_)=>{const E=i.get(y),A=_d(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;E&&A?E.data.isEqual(A.data)?D!==L&&(r.track({type:3,doc:A}),C=!0):this.su(E,A)||(r.track({type:2,doc:A}),C=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),C=!0):E&&!A&&(r.track({type:1,doc:E}),C=!0,(f||p)&&(h=!0)),C&&(A?(l=l.add(A),a=L?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,_)=>(function(A,D){const L=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:C})}};return L(A)-L(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Aa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new BT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new UT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class SD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ID{constructor(e){this.key=e,this.hu=!1}}class AD{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new po((h=>rT(h)),wd),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bD(t,e,n=!0){const r=KT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await zT(r,e,n,!0),i}async function CD(t,e){const n=KT(t);await zT(n,e,!0,!1)}async function zT(t,e,n,r){const i=await G4(t.localStore,Pr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await PD(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&kT(t.remoteStore,i),h}async function PD(t,e,n,r,i){t.pu=(_,E,A)=>(async function(L,C,O,U){let K=C.view.ru(O);K.Cs&&(K=await p_(L.localStore,C.query,!1).then((({documents:b})=>C.view.ru(b,K))));const ne=U&&U.targetChanges.get(C.targetId),re=U&&U.targetMismatches.get(C.targetId)!=null,X=C.view.applyChanges(K,L.isPrimaryClient,ne,re);return S_(L,C.targetId,X.au),X.snapshot})(t,_,E,A);const a=await p_(t.localStore,e,!0),l=new TD(e,a.Qs),h=l.ru(a.documents),f=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);S_(t,n,p.au);const y=new SD(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function RD(t,e,n){const r=Ie(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!wd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ag(r.remoteStore,i.targetId),fm(r,i.targetId)})).catch(La)):(fm(r,i.targetId),await cm(r.localStore,i.targetId,!0))}async function kD(t,e){const n=Ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(n.remoteStore,r.targetId))}async function ND(t,e,n){const r=FD(t);try{const i=await(function(l,h){const f=Ie(l),p=qe.now(),y=h.reduce(((A,D)=>A.add(D.key)),Le());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=ps(),L=Le();return f.Ns.getEntries(A,y).next((C=>{D=C,D.forEach(((O,U)=>{U.isValidDocument()||(L=L.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,D))).next((C=>{_=C;const O=[];for(const U of h){const K=K5(U,_.get(U.key).overlayedDocument);K!=null&&O.push(new mo(U.key,K,QE(K.value.mapValue),rr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,O,h)})).next((C=>{E=C;const O=C.applyToLocalDocumentSet(_,L);return f.documentOverlayCache.saveOverlays(A,C.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:oT(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ot(Ve)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await Lu(r,i.changes),await Ad(r.remoteStore)}catch(i){const a=kg(i,"Failed to persist write");n.reject(a)}}async function $T(t,e){const n=Ie(t);try{const r=await H4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?$e(l.hu,14607):i.removedDocuments.size>0&&($e(l.hu,42227),l.hu=!1))})),await Lu(n,r,e)}catch(r){await La(r)}}function T_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Ie(l);f.onlineState=h;let p=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&Ng(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DD(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ot(ge.comparator);l=l.insert(a,Xt.newNoDocument(a,Te.min()));const h=Le().add(a),f=new Td(Te.min(),new Map,new ot(Ve),l,h);await $T(r,f),r.du=r.du.remove(a),r.Au.delete(e),Vg(r)}else await cm(r.localStore,e,!1).then((()=>fm(r,e,n))).catch(La)}async function VD(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await W4(n.localStore,e);HT(n,r,null),WT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,i)}catch(i){await La(i)}}async function LD(t,e,n){const r=Ie(t);try{const i=await(function(l,h){const f=Ie(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>($e(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);HT(r,e,n),WT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,i)}catch(i){await La(i)}}function WT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function HT(t,e,n){const r=Ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||qT(t,r)}))}function qT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ag(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vg(t))}function S_(t,e,n){for(const r of n)r instanceof UT?(t.Ru.addReference(r.key,e),jD(t,r)):r instanceof BT?(ce(Dg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||qT(t,r.key)):_e(19791,{wu:r})}function jD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Dg,"New document in limbo: "+n),t.Eu.add(r),Vg(t))}function Vg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new ID(n)),t.du=t.du.insert(n,r),kT(t.remoteStore,new Zs(Pr(gg(n.path)),r,"TargetPurposeLimboResolution",gd.ce))}}async function Lu(t,e,n){const r=Ie(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Sg.As(f.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,p){const y=Ie(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Y.forEach(p,(E=>Y.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>Y.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!ja(_))throw _;ce(Ig,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.Ms.get(E),D=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,L)}}})(r.localStore,a))}async function MD(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(Dg,"User change. New user:",e.toKey());const r=await bT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Q.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function OD(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function KT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Pu.H_=xD.bind(null,e.eventManager),e.Pu.yu=ED.bind(null,e.eventManager),e}function FD(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $4(this.persistence,new U4,e.initialUser,this.serializer)}Cu(e){return new AT(Tg.mi,this.serializer)}Du(e){return new Y4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class UD extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new AT((r=>Yh.mi(r,n)),this.serializer)}}class pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _D})()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=(function(a){return new tD(a)})(e.databaseInfo);return(function(a,l,h,f){return new iD(a,l,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new aD(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>T_(this.syncEngine,n,0)),(function(){return y_.v()?new y_:new X4})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,y){const _=new AD(i,a,l,h,f,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);ce(lo,"RemoteStore shutting down."),r.Ea.add(5),await Vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class BD{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ce(ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zD(t);ce(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>w_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>w_(e.remoteStore,i))),t._onlineComponents=e}async function zD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ci,"Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new Jh)}}else ce(ci,"Using default OfflineComponentProvider"),await Ip(t,new UD(void 0));return t._offlineComponents}async function QT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ci,"Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(ce(ci,"Using default OnlineComponentProvider"),await I_(t,new pm))),t._onlineComponents}function $D(t){return QT(t).then((e=>e.syncEngine))}async function YT(t){const e=await QT(t),n=e.eventManager;return n.onListen=bD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),n}function WD(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new GT({next:E=>{y.Nu(),l.enqueueAndForget((()=>OT(a,_)));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new FT(gg(h.path),y,{includeMetadataChanges:!0,qa:!0});return MT(a,_)})(await YT(t),t.asyncQueue,e,n,r))),r.promise}function HD(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new GT({next:E=>{y.Nu(),l.enqueueAndForget((()=>OT(a,_))),E.fromCache&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new FT(h,y,{includeMetadataChanges:!0,qa:!0});return MT(a,_)})(await YT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firestore.googleapis.com",b_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=b_}else this.host=e.host,this.ssl=e.ssl??b_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T4)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XN;switch(r.type){case"firstParty":return new t5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())})(this),Promise.resolve()}}function qD(t,e,n,r={}){t=fs(t,bd);const i=ka(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(g1(`https://${h}`),y1("Firestore",!0)),a.host!==JT&&a.host!==h&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!si(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yt.MOCK_USER;else{p=zb(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(_)}t._authCredentials=new JN(new ME(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ku(n,St._jsonSchema))return new St(e,r||null,new ge(Ye.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Tt("string",St._jsonSchemaVersion),referencePath:Tt("string")};class ri extends yi{constructor(e,n,r){super(e,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ge(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function zn(t,e,...n){if(t=Dt(t),OE("collection","path",e),t instanceof bd){const r=Ye.fromString(e,...n);return Bw(r),new ri(t,null,r)}{if(!(t instanceof St||t instanceof ri))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Bw(r),new ri(t.firestore,null,r)}}function hi(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=cg.newId()),OE("doc","path",e),t instanceof bd){const r=Ye.fromString(e,...n);return Uw(r),new St(t,null,new ge(r))}{if(!(t instanceof St||t instanceof ri))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Uw(r),new St(t.firestore,t instanceof ri?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const r=Sp();r&&ce(P_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ja(e))throw e;ce(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",k_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Rg.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function k_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fa extends bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function KD(t,e){const n=typeof t=="object"?t:qm(),r=typeof t=="string"?t:$h,i=ho(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Ub("firestore");a&&qD(i,...a)}return i}function Lg(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GD(t),t._firestoreClient}function GD(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new v5(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Tt("string",jn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(ku(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Tt("string",kr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Tt("string",Nr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^__.*__$/;class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function eS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class Mg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eS(this.Ac)&&QD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Cc(e,n,r,i=!1){return new Mg({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new XD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tS(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);sS("Data must be an object, but it was:",l,r);const h=nS(r,l);let f,p;if(a.merge)f=new tr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=ZD(e,_,n);if(!l.contains(E))throw new le(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);tV(y,E)||y.push(E)}f=new tr(y),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new YD(new Ln(h),f,p)}function JD(t,e,n,r=!1){return Fg(n,t.Cc(r?4:3,e))}function Fg(t,e){if(rS(t=Dt(t)))return sS("Unsupported field value:",e,t),nS(t,e);if(t instanceof ZT)return(function(r,i){if(!eS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=Fg(h,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Qh(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(i.serializer,a)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:vT(i.serializer,r._byteString)};if(r instanceof St){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nr)return(function(l,h){return{mapValue:{fields:{[KE]:{stringValue:GE},[Wh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return yg(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${md(r)}`)})(t,e)}function nS(t,e){const n={};return BE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,((r,i)=>{const a=Fg(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function rS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof kr||t instanceof jn||t instanceof St||t instanceof ZT||t instanceof Nr)}function sS(t,e,n){if(!rS(n)||!FE(n)){const r=md(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ZD(t,e,n){if((e=Dt(e))instanceof jg)return e._internalPath;if(typeof e=="string")return iS(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const eV=new RegExp("[~\\*/\\[\\]]");function iS(t,e,n){if(e.search(eV)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jg(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(Q.INVALID_ARGUMENT,h+t+f)}function tV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nV extends oS{data(){return super.data()}}function Cd(t,e){return typeof e=="string"?iS(t,e):e instanceof jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class Bg extends Ug{}function ju(t,e,...n){let r=[];e instanceof Ug&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof zg)).length,h=a.filter((f=>f instanceof Pd)).length;if(l>1||l>0&&h>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Pd extends Bg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pd(e,n,r)}_apply(e){const n=this._parse(e);return lS(e._query,n),new yi(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=Og(e.firestore);return(function(a,l,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){V_(_,y);const D=[];for(const L of _)D.push(D_(f,a,L));E={arrayValue:{values:D}}}else E=D_(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||V_(_,y),E=JD(h,l,_,y==="in"||y==="not-in");return Et.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function N_(t,e,n){const r=e,i=Cd("where",t);return Pd._create(i,r,n)}class zg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)lS(l,f),l=im(l,f)})(e._query,n),new yi(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends Bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $g(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(a,l)})(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ma(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function aS(t,e="asc"){const n=e,r=Cd("orderBy",t);return $g._create(r,n)}class Wg extends Bg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wg(e,n,r)}_apply(e){return new yi(e.firestore,e.converter,qh(e._query,this._limit,this._limitType))}}function sV(t){return Wg._create("limit",t,"F")}function D_(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nT(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ge.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qw(t,new ge(r))}if(n instanceof St)return Qw(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function V_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iV{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Wh].arrayValue?.values?.map((r=>mt(r.doubleValue)));return new Nr(n)}convertGeoPoint(e){return new kr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=oi(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);$e(ST(r),9688,{name:e});const i=new du(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||ds(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends oS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Tt("string",eo._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Ah extends eo{data(e={}){return super.data(e)}}class wa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new Ah(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Kl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Ah(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Kl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:oV(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){t=fs(t,St);const e=fs(t.firestore,Fa);return WD(Lg(e),t._key).then((n=>lV(e,t,n)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Tt("string",wa._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class cS extends iV{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function Ua(t){t=fs(t,yi);const e=fs(t.firestore,Fa),n=Lg(e),r=new cS(e);return rV(t._query),HD(n,t._query).then((i=>new wa(e,r,t,i)))}function aV(t,e,n){t=fs(t,St);const r=fs(t.firestore,Fa),i=uS(t.converter,e,n);return Hg(r,[tS(Og(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function hS(t){return Hg(fs(t.firestore,Fa),[new vg(t._key,rr.none())])}function Ba(t,e){const n=fs(t.firestore,Fa),r=hi(t),i=uS(t.converter,e);return Hg(n,[tS(Og(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then((()=>r))}function Hg(t,e){return(function(r,i){const a=new ls;return r.asyncQueue.enqueueAndForget((async()=>ND(await $D(r),i,a))),a.promise})(Lg(t),e)}function lV(t,e,n){const r=n.docs.get(e._key),i=new cS(t);return new eo(t,i,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Va=i})(Na),Lr(new sr("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Fa(new ZN(r.getProvider("auth-internal")),new n5(l,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(p.options.projectId,y)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),On(jw,Mw,e),On(jw,Mw,"esm2020")})();const uV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},qg=S1(uV);VR(qg);const gt=QN(qg),Ct=KD(qg),dS=new rs,Kg=P.createContext({});function Gg(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qg=typeof window<"u",fS=Qg?P.useLayoutEffect:P.useEffect,Rd=P.createContext(null);function Yg(t,e){t.indexOf(e)===-1&&t.push(e)}function Xg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ms=(t,e,n)=>n>e?e:n<t?t:n;let Jg=()=>{};const gs={},pS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mS(t){return typeof t=="object"&&t!==null}const gS=t=>/^0[^.\s]+$/u.test(t);function Zg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fn=t=>t,cV=(t,e)=>n=>e(t(n)),Mu=(...t)=>t.reduce(cV),yu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ey{constructor(){this.subscriptions=[]}add(e){return Yg(this.subscriptions,e),()=>Xg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,Mn=t=>t/1e3;function yS(t,e){return e?t*(1e3/e):0}const vS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hV=1e-7,dV=12;function fV(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=vS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>hV&&++h<dV);return l}function Ou(t,e,n,r){if(t===e&&n===r)return Fn;const i=a=>fV(a,0,1,t,n);return a=>a===0||a===1?a:vS(i(a),e,r)}const wS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_S=t=>e=>1-t(1-e),xS=Ou(.33,1.53,.69,.99),ty=_S(xS),ES=wS(ty),TS=t=>(t*=2)<1?.5*ty(t):.5*(2-Math.pow(2,-10*(t-1))),ny=t=>1-Math.sin(Math.acos(t)),SS=_S(ny),IS=wS(ny),pV=Ou(.42,0,1,1),mV=Ou(0,0,.58,1),AS=Ou(.42,0,.58,1),gV=t=>Array.isArray(t)&&typeof t[0]!="number",bS=t=>Array.isArray(t)&&typeof t[0]=="number",yV={linear:Fn,easeIn:pV,easeInOut:AS,easeOut:mV,circIn:ny,circInOut:IS,circOut:SS,backIn:ty,backInOut:ES,backOut:xS,anticipate:TS},vV=t=>typeof t=="string",L_=t=>{if(bS(t)){Jg(t.length===4);const[e,n,r,i]=t;return Ou(e,n,r,i)}else if(vV(t))return yV[t];return t},ch=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wV(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,E=!1)=>{const D=E&&i?n:r;return _&&l.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(h=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(y))}};return p}const _V=40;function CS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ch.reduce((K,ne)=>(K[ne]=wV(a),K),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:A,postRender:D}=l,L=()=>{const K=gs.useManualTiming?i.timestamp:performance.now();n=!1,gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(K-i.timestamp,_V),1)),i.timestamp=K,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),y.process(i),_.process(i),E.process(i),A.process(i),D.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(L))},C=()=>{n=!0,r=!0,i.isProcessing||t(L)};return{schedule:ch.reduce((K,ne)=>{const re=l[ne];return K[ne]=(X,b=!1,I=!1)=>(n||C(),re.schedule(X,b,I)),K},{}),cancel:K=>{for(let ne=0;ne<ch.length;ne++)l[ch[ne]].cancel(K)},state:i,steps:l}}const{schedule:tt,cancel:di,state:Ft,steps:Ap}=CS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let bh;function xV(){bh=void 0}const fn={now:()=>(bh===void 0&&fn.set(Ft.isProcessing||gs.useManualTiming?Ft.timestamp:performance.now()),bh),set:t=>{bh=t,queueMicrotask(xV)}},PS=t=>e=>typeof e=="string"&&e.startsWith(t),ry=PS("--"),EV=PS("var(--"),sy=t=>EV(t)?TV.test(t.split("/*")[0].trim()):!1,TV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...za,transform:t=>ms(0,1,t)},hh={...za,default:1},tu=t=>Math.round(t*1e5)/1e5,iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SV(t){return t==null}const IV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(t,e)=>n=>!!(typeof n=="string"&&IV.test(n)&&n.startsWith(t)||e&&!SV(n)&&Object.prototype.hasOwnProperty.call(n,e)),RS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(iy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},AV=t=>ms(0,255,t),bp={...za,transform:t=>Math.round(AV(t))},Ji={test:oy("rgb","red"),parse:RS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bp.transform(t)+", "+bp.transform(e)+", "+bp.transform(n)+", "+tu(vu.transform(r))+")"};function bV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mm={test:oy("#"),parse:bV,transform:Ji.transform},Fu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qs=Fu("deg"),Vr=Fu("%"),xe=Fu("px"),CV=Fu("vh"),PV=Fu("vw"),j_={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},ua={test:oy("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(tu(e))+", "+Vr.transform(tu(n))+", "+tu(vu.transform(r))+")"},xt={test:t=>Ji.test(t)||mm.test(t)||ua.test(t),parse:t=>Ji.test(t)?Ji.parse(t):ua.test(t)?ua.parse(t):mm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ji.transform(t):ua.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},RV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kV(t){return isNaN(t)&&typeof t=="string"&&(t.match(iy)?.length||0)+(t.match(RV)?.length||0)>0}const kS="number",NS="color",NV="var",DV="var(",M_="${}",VV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(VV,f=>(xt.test(f)?(r.color.push(a),i.push(NS),n.push(xt.parse(f))):f.startsWith(DV)?(r.var.push(a),i.push(NV),n.push(f)):(r.number.push(a),i.push(kS),n.push(parseFloat(f))),++a,M_)).split(M_);return{values:n,split:h,indexes:r,types:i}}function DS(t){return wu(t).values}function VS(t){const{split:e,types:n}=wu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===kS?a+=tu(i[l]):h===NS?a+=xt.transform(i[l]):a+=i[l]}return a}}const LV=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function jV(t){const e=DS(t);return VS(t)(e.map(LV))}const fi={test:kV,parse:DS,createTransformer:VS,getAnimatableNone:jV};function Cp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=Cp(f,h,t+1/3),a=Cp(f,h,t),l=Cp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function td(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,Pp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},OV=[mm,Ji,ua],FV=t=>OV.find(e=>e.test(t));function O_(t){const e=FV(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=MV(n)),n}const F_=(t,e)=>{const n=O_(t),r=O_(e);if(!n||!r)return td(t,e);const i={...n};return a=>(i.red=Pp(n.red,r.red,a),i.green=Pp(n.green,r.green,a),i.blue=Pp(n.blue,r.blue,a),i.alpha=it(n.alpha,r.alpha,a),Ji.transform(i))},gm=new Set(["none","hidden"]);function UV(t,e){return gm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BV(t,e){return n=>it(t,e,n)}function ay(t){return typeof t=="number"?BV:typeof t=="string"?sy(t)?td:xt.test(t)?F_:WV:Array.isArray(t)?LS:typeof t=="object"?xt.test(t)?F_:zV:td}function LS(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>ay(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function zV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ay(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function $V(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const WV=(t,e)=>{const n=fi.createTransformer(e),r=wu(t),i=wu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?gm.has(t)&&!i.values.length||gm.has(e)&&!r.values.length?UV(t,e):Mu(LS($V(r,i),i.values),n):td(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):ay(t)(t,e)}const HV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>di(e),now:()=>Ft.isProcessing?Ft.timestamp:fn.now()}},MS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},nd=2e4;function ly(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nd;)e+=n,r=t.next(e);return e>=nd?1/0:e}function qV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ly(r),nd);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Mn(i)}}const KV=5;function OS(t,e,n){const r=Math.max(e-KV,0);return yS(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rp=.001;function GV({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,a,l=1-e;l=ms(ut.minDamping,ut.maxDamping,l),t=ms(ut.minDuration,ut.maxDuration,Mn(t)),l<1?(i=p=>{const y=p*l,_=y*t,E=y-n,A=ym(p,l),D=Math.exp(-_);return Rp-E/A*D},a=p=>{const _=p*l*t,E=_*n+n,A=Math.pow(l,2)*Math.pow(p,2)*t,D=Math.exp(-_),L=ym(Math.pow(p,2),l);return(-i(p)+Rp>0?-1:1)*((E-A)*D)/L}):(i=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Rp+y*_},a=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=YV(i,a,h);if(t=Dr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const QV=12;function YV(t,e,n){let r=n;for(let i=1;i<QV;i++)r=r-t(r)/e(r);return r}function ym(t,e){return t*Math.sqrt(1-e*e)}const XV=["duration","bounce"],JV=["stiffness","damping","mass"];function U_(t,e){return e.some(n=>t[n]!==void 0)}function ZV(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!U_(t,JV)&&U_(t,XV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ms(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ut.mass,stiffness:i,damping:a}}else{const n=GV(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function rd(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=ZV({...n,velocity:-Mn(n.velocity||0)}),D=E||0,L=p/(2*Math.sqrt(f*y)),C=l-a,O=Mn(Math.sqrt(f/y)),U=Math.abs(C)<5;r||(r=U?ut.restSpeed.granular:ut.restSpeed.default),i||(i=U?ut.restDelta.granular:ut.restDelta.default);let K;if(L<1){const re=ym(O,L);K=X=>{const b=Math.exp(-L*O*X);return l-b*((D+L*O*C)/re*Math.sin(re*X)+C*Math.cos(re*X))}}else if(L===1)K=re=>l-Math.exp(-O*re)*(C+(D+O*C)*re);else{const re=O*Math.sqrt(L*L-1);K=X=>{const b=Math.exp(-L*O*X),I=Math.min(re*X,300);return l-b*((D+L*O*C)*Math.sinh(I)+re*C*Math.cosh(I))/re}}const ne={calculatedDuration:A&&_||null,next:re=>{const X=K(re);if(A)h.done=re>=_;else{let b=re===0?D:0;L<1&&(b=re===0?Dr(D):OS(K,re,X));const I=Math.abs(b)<=r,R=Math.abs(l-X)<=i;h.done=I&&R}return h.value=h.done?l:X,h},toString:()=>{const re=Math.min(ly(ne),nd),X=MS(b=>ne.next(re*b).value,re,30);return re+"ms "+X},toTransition:()=>{}};return ne}rd.applyToOptions=t=>{const e=qV(t,100,rd);return t.ease=e.ease,t.duration=Dr(e.duration),t.type="keyframes",t};function vm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,D=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let L=n*e;const C=_+L,O=l===void 0?C:l(C);O!==C&&(L=O-_);const U=I=>-L*Math.exp(-I/r),K=I=>O+U(I),ne=I=>{const R=U(I),V=K(I);E.done=Math.abs(R)<=p,E.value=E.done?O:V};let re,X;const b=I=>{A(E.value)&&(re=I,X=rd({keyframes:[E.value,D(E.value)],velocity:OS(K,I,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:y}))};return b(0),{calculatedDuration:null,next:I=>{let R=!1;return!X&&re===void 0&&(R=!0,ne(I),b(I)),re!==void 0&&I>=re?X.next(I-re):(!R&&ne(I),E)}}}function eL(t,e,n){const r=[],i=n||gs.mix||jS,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Fn:e;h=Mu(f,h)}r.push(h)}return r}function tL(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Jg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=eL(e,r,i),f=h.length,p=y=>{if(l&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=yu(t[_],t[_+1],y);return h[_](E)};return n?y=>p(ms(t[0],t[a-1],y)):p}function nL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yu(0,e,r);t.push(it(n,1,i))}}function rL(t){const e=[0];return nL(e,t.length-1),e}function sL(t,e){return t.map(n=>n*e)}function iL(t,e){return t.map(()=>e||AS).splice(0,t.length-1)}function nu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gV(r)?r.map(L_):L_(r),a={done:!1,value:e[0]},l=sL(n&&n.length===e.length?n:rL(e),t),h=tL(l,e,{ease:Array.isArray(i)?i:iL(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const oL=t=>t!==null;function uy(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(oL),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const aL={decay:vm,inertia:vm,tween:nu,keyframes:nu,spring:rd};function FS(t){typeof t.type=="string"&&(t.type=aL[t.type])}class cy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lL=t=>t/100;class hy extends cy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FS(e);const{type:n=nu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||nu;f!==nu&&typeof h[0]!="number"&&(this.mixKeyframes=Mu(lL,jS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ly(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:D,onUpdate:L,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?O<0:O>i;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let K=this.currentTime,ne=r;if(_){const I=Math.min(this.currentTime,i)/h;let R=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&R--,R=Math.min(R,_+1),!!(R%2)&&(E==="reverse"?(V=1-V,A&&(V-=A/h)):E==="mirror"&&(ne=l)),K=ms(0,1,V)*h}const re=U?{done:!1,value:y[0]}:ne.next(K);a&&(re.value=a(re.value));let{done:X}=re;!U&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return b&&D!==vm&&(re.value=uy(y,this.options,C,this.speed)),L&&L(re.value),b&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Mn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(this.currentTime)}set time(e){e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=HV,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function uL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zi=t=>t*180/Math.PI,wm=t=>{const e=Zi(Math.atan2(t[1],t[0]));return _m(e)},cL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wm,rotateZ:wm,skewX:t=>Zi(Math.atan(t[1])),skewY:t=>Zi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_m=t=>(t=t%360,t<0&&(t+=360),t),B_=wm,z_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z_,scaleY:$_,scale:t=>(z_(t)+$_(t))/2,rotateX:t=>_m(Zi(Math.atan2(t[6],t[5]))),rotateY:t=>_m(Zi(Math.atan2(-t[2],t[0]))),rotateZ:B_,rotate:B_,skewX:t=>Zi(Math.atan(t[4])),skewY:t=>Zi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xm(t){return t.includes("scale")?1:0}function Em(t,e){if(!t||t==="none")return xm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=hL,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cL,i=h}if(!i)return xm(e);const a=r[e],l=i[1].split(",").map(fL);return typeof a=="function"?a(l):l[a]}const dL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Em(n,e)};function fL(t){return parseFloat(t.trim())}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wa=new Set($a),W_=t=>t===za||t===xe,pL=new Set(["x","y","z"]),mL=$a.filter(t=>!pL.has(t));function gL(t){const e=[];return mL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const to={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Em(e,"x"),y:(t,{transform:e})=>Em(e,"y")};to.translateX=to.x;to.translateY=to.y;const no=new Set;let Tm=!1,Sm=!1,Im=!1;function US(){if(Sm){const t=Array.from(no).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sm=!1,Tm=!1,no.forEach(t=>t.complete(Im)),no.clear()}function BS(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sm=!0)})}function yL(){Im=!0,BS(),US(),Im=!1}class dy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(no.add(this),Tm||(Tm=!0,tt.read(BS),tt.resolveKeyframes(US))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}uL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),no.delete(this)}cancel(){this.state==="scheduled"&&(no.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vL=t=>t.startsWith("--");function wL(t,e,n){vL(e)?t.style.setProperty(e,n):t.style[e]=n}const _L=Zg(()=>window.ScrollTimeline!==void 0),xL={};function EL(t,e){const n=Zg(t);return()=>xL[e]??n()}const zS=EL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,H_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gl([0,.65,.55,1]),circOut:Gl([.55,0,1,.45]),backIn:Gl([.31,.01,.66,-.59]),backOut:Gl([.33,1.53,.69,.99])};function $S(t,e){if(t)return typeof t=="function"?zS()?MS(t,e):"ease-out":bS(t)?Gl(t):Array.isArray(t)?t.map(n=>$S(n,e)||H_.easeOut):H_[t]}function TL(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=$S(h,i);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function WS(t){return typeof t=="function"&&"applyToOptions"in t}function SL({type:t,...e}){return WS(t)&&zS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IL extends cy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Jg(typeof e.type!="string");const p=SL(e);this.animation=TL(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=uy(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):wL(n,r,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Mn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_L()?(this.animation.timeline=e,Fn):n(this)}}const HS={anticipate:TS,backInOut:ES,circInOut:IS};function AL(t){return t in HS}function bL(t){typeof t.ease=="string"&&AL(t.ease)&&(t.ease=HS[t.ease])}const q_=10;class CL extends IL{constructor(e){bL(e),FS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new hy({...l,autoplay:!1}),f=Dr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-q_).value,h.sample(f).value,q_),h.stop()}}const K_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fi.test(t)||t==="0")&&!t.startsWith("url("));function PL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=K_(i,e),h=K_(a,e);return!l||!h?!1:PL(t)||(n==="spring"||WS(n))&&r}function Am(t){t.duration=0,t.type="keyframes"}const kL=new Set(["opacity","clipPath","filter","transform"]),NL=Zg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DL(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return NL()&&n&&kL.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const VL=40;class LL extends cy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fn.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:y,..._},A=y?.KeyframeResolver||dy;this.keyframeResolver=new A(h,(D,L,C)=>this.onKeyframesResolved(D,L,E,!C),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:y}=r;this.resolvedAt=fn.now(),RL(e,a,l,h)||((gs.instantAnimations||!f)&&y?.(uy(e,r,n)),e[0]=e[e.length-1],Am(r),r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>VL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&DL(E)?new CL({...E,element:E.motionValue.owner.current}):new hy(E);A.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ML(t){const e=jL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function qS(t,e,n=1){const[r,i]=ML(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return pS(l)?parseFloat(l):l}return sy(i)?qS(i,e,n+1):i}function fy(t,e){return t?.[e]??t?.default??t}const KS=new Set(["width","height","top","left","right","bottom",...$a]),OL={test:t=>t==="auto",parse:t=>t},GS=t=>e=>e.test(t),QS=[za,xe,Vr,Qs,PV,CV,OL],G_=t=>QS.find(GS(t));function FL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gS(t):!0}const UL=new Set(["brightness","contrast","saturate","opacity"]);function BL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iy)||[];if(!r)return t;const i=n.replace(r,"");let a=UL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const zL=/\b([a-z-]*)\(.*?\)/gu,bm={...fi,getAnimatableNone:t=>{const e=t.match(zL);return e?e.map(BL).join(" "):t}},Q_={...za,transform:Math.round},$L={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:hh,scaleX:hh,scaleY:hh,scaleZ:hh,skew:Qs,skewX:Qs,skewY:Qs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:vu,originX:j_,originY:j_,originZ:xe},py={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...$L,zIndex:Q_,fillOpacity:vu,strokeOpacity:vu,numOctaves:Q_},WL={...py,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:bm,WebkitFilter:bm},YS=t=>WL[t];function XS(t,e){let n=YS(t);return n!==bm&&(n=fi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HL=new Set(["auto","none","0"]);function qL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!HL.has(a)&&wu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=XS(n,i)}class KL extends dy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),sy(p))){const y=qS(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!KS.has(r)||e.length!==2)return;const[i,a]=e,l=G_(i),h=G_(a);if(l!==h)if(W_(l)&&W_(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else to[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||FL(e[i]))&&r.push(i);r.length&&qL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=to[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function GL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const JS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZS(t){return mS(t)&&"offsetHeight"in t}const Y_=30,QL=t=>!isNaN(parseFloat(t));class YL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=fn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ey);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Y_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Y_);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ba(t,e){return new YL(t,e)}const{schedule:my}=CS(queueMicrotask,!1),Zn={x:!1,y:!1};function eI(){return Zn.x||Zn.y}function XL(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function tI(t,e){const n=GL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function X_(t){return!(t.pointerType==="touch"||eI())}function JL(t,e,n={}){const[r,i,a]=tI(t,n),l=h=>{if(!X_(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{X_(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const nI=(t,e)=>e?t===e?!0:nI(t,e.parentElement):!1,gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ej(t){return ZL.has(t.tagName)||t.tabIndex!==-1}const Ch=new WeakSet;function J_(t){return e=>{e.key==="Enter"&&t(e)}}function kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J_(()=>{if(Ch.has(n))return;kp(n,"down");const i=J_(()=>{kp(n,"up")}),a=()=>kp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Z_(t){return gy(t)&&!eI()}function nj(t,e,n={}){const[r,i,a]=tI(t,n),l=h=>{const f=h.currentTarget;if(!Z_(h))return;Ch.add(f);const p=e(f,h),y=(A,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Ch.has(f)&&Ch.delete(f),Z_(A)&&typeof p=="function"&&p(A,{success:D})},_=A=>{y(A,f===window||f===document||n.useGlobalTarget||nI(f,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",E,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),ZS(h)&&(h.addEventListener("focus",p=>tj(p,i)),!ej(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function rI(t){return mS(t)&&"ownerSVGElement"in t}function rj(t){return rI(t)&&t.tagName==="svg"}const Jt=t=>!!(t&&t.getVelocity),sj=[...QS,xt,fi],ij=t=>sj.find(GS(t)),yy=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ex(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oj(...t){return e=>{let n=!1;const r=t.map(i=>{const a=ex(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ex(t[i],null)}}}}function aj(...t){return P.useCallback(oj(...t),t)}class lj extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ZS(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uj({children:t,isPresent:e,anchorX:n,root:r}){const i=P.useId(),a=P.useRef(null),l=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=P.useContext(yy),f=aj(a,t?.ref);return P.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:E,right:A}=l.current;if(e||!a.current||!p||!y)return;const D=n==="left"?`left: ${E}`:`right: ${A}`;a.current.dataset.motionPopId=i;const L=document.createElement("style");h&&(L.nonce=h);const C=r??document.head;return C.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{C.contains(L)&&C.removeChild(L)}},[e]),g.jsx(lj,{isPresent:e,childRef:a,sizeRef:l,children:P.cloneElement(t,{ref:f})})}const cj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,root:f})=>{const p=Gg(hj),y=P.useId();let _=!0,E=P.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:i,onExitComplete:A=>{p.set(A,!0);for(const D of p.values())if(!D)return;r&&r()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,r]);return a&&_&&(E={...E}),P.useMemo(()=>{p.forEach((A,D)=>p.set(D,!1))},[n]),P.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=g.jsx(uj,{isPresent:n,anchorX:h,root:f,children:t})),g.jsx(Rd.Provider,{value:E,children:t})};function hj(){return new Map}function sI(t=!0){const e=P.useContext(Rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{if(t)return i(a)},[t]);const l=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const dh=t=>t.key||"";function tx(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const vy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",root:f})=>{const[p,y]=sI(l),_=P.useMemo(()=>tx(t),[t]),E=l&&!p?[]:_.map(dh),A=P.useRef(!0),D=P.useRef(_),L=Gg(()=>new Map),[C,O]=P.useState(_),[U,K]=P.useState(_);fS(()=>{A.current=!1,D.current=_;for(let X=0;X<U.length;X++){const b=dh(U[X]);E.includes(b)?L.delete(b):L.get(b)!==!0&&L.set(b,!1)}},[U,E.length,E.join("-")]);const ne=[];if(_!==C){let X=[..._];for(let b=0;b<U.length;b++){const I=U[b],R=dh(I);E.includes(R)||(X.splice(b,0,I),ne.push(I))}return a==="wait"&&ne.length&&(X=ne),K(tx(X)),O(_),null}const{forceRender:re}=P.useContext(Kg);return g.jsx(g.Fragment,{children:U.map(X=>{const b=dh(X),I=l&&!p?!1:_===U||E.includes(b),R=()=>{if(L.has(b))L.set(b,!0);else return;let V=!0;L.forEach(j=>{j||(V=!1)}),V&&(re?.(),K(D.current),l&&y?.(),r&&r())};return g.jsx(cj,{isPresent:I,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:I?void 0:R,anchorX:h,children:X},b)})})},iI=P.createContext({strict:!1}),nx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ca={};for(const t in nx)Ca[t]={isEnabled:e=>nx[t].some(n=>!!e[n])};function dj(t){for(const e in t)Ca[e]={...Ca[e],...t[e]}}const fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fj.has(t)}let oI=t=>!sd(t);function pj(t){typeof t=="function"&&(oI=e=>e.startsWith("on")?!sd(e):t(e))}try{pj(require("@emotion/is-prop-valid").default)}catch{}function mj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oI(i)||n===!0&&sd(i)||!e&&!sd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const kd=P.createContext({});function Nd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _u(t){return typeof t=="string"||Array.isArray(t)}const wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_y=["initial",...wy];function Dd(t){return Nd(t.animate)||_y.some(e=>_u(t[e]))}function aI(t){return!!(Dd(t)||t.variants)}function gj(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_u(n)?n:void 0,animate:_u(r)?r:void 0}}return t.inherit!==!1?e:{}}function yj(t){const{initial:e,animate:n}=gj(t,P.useContext(kd));return P.useMemo(()=>({initial:e,animate:n}),[rx(e),rx(n)])}function rx(t){return Array.isArray(t)?t.join(" "):t}const xu={};function vj(t){for(const e in t)xu[e]=t[e],ry(e)&&(xu[e].isCSSVariable=!0)}function lI(t,{layout:e,layoutId:n}){return Wa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xu[t]||t==="opacity")}const wj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_j=$a.length;function xj(t,e,n){let r="",i=!0;for(let a=0;a<_j;a++){const l=$a[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=JS(h,py[l]);if(!f){i=!1;const y=wj[l]||l;r+=`${y}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(Wa.has(f)){l=!0;continue}else if(ry(f)){i[f]=p;continue}else{const y=JS(p,py[f]);f.startsWith("origin")?(h=!0,a[f]=y):r[f]=y}}if(e.transform||(l||n?r.transform=xj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${p} ${y}`}}const Ey=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uI(t,e,n){for(const r in e)!Jt(e[r])&&!lI(r,n)&&(t[r]=e[r])}function Ej({transformTemplate:t},e){return P.useMemo(()=>{const n=Ey();return xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Tj(t,e){const n=t.style||{},r={};return uI(r,n,t),Object.assign(r,Ej(t,e)),r}function Sj(t,e){const n={},r=Tj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ij={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aj={offset:"strokeDashoffset",array:"strokeDasharray"};function bj(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Ij:Aj;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function cI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,y){if(xy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&bj(_,i,a,l,!1)}const hI=()=>({...Ey(),attrs:{}}),dI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cj(t,e,n,r){const i=P.useMemo(()=>{const a=hI();return cI(a,e,dI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};uI(a,t.style,t),i.style={...a,...i.style}}return i}const Pj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ty(t){return typeof t!="string"||t.includes("-")?!1:!!(Pj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Rj(t,e,n,{latestValues:r},i,a=!1){const h=(Ty(t)?Cj:Sj)(e,r,i,t),f=mj(e,typeof t=="string",a),p=t!==P.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=P.useMemo(()=>Jt(y)?y.get():y,[y]);return P.createElement(t,{...p,children:_})}function sx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sy(t,e,n,r){if(typeof e=="function"){const[i,a]=sx(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=sx(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Ph(t){return Jt(t)?t.get():t}function kj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Nj(n,r,i,t),renderState:e()}}function Nj(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Ph(a[E]);let{initial:l,animate:h}=t;const f=Dd(t),p=aI(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?h:l;if(_&&typeof _!="boolean"&&!Nd(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const D=Sy(t,E[A]);if(D){const{transitionEnd:L,transition:C,...O}=D;for(const U in O){let K=O[U];if(Array.isArray(K)){const ne=y?K.length-1:0;K=K[ne]}K!==null&&(i[U]=K)}for(const U in L)i[U]=L[U]}}}return i}const fI=t=>(e,n)=>{const r=P.useContext(kd),i=P.useContext(Rd),a=()=>kj(t,e,r,i);return n?a():Gg(a)};function Iy(t,e,n){const{style:r}=t,i={};for(const a in r)(Jt(r[a])||e.style&&Jt(e.style[a])||lI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const Dj=fI({scrapeMotionValuesFromProps:Iy,createRenderState:Ey});function pI(t,e,n){const r=Iy(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=$a.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const Vj=fI({scrapeMotionValuesFromProps:pI,createRenderState:hI}),Lj=Symbol.for("motionComponentSymbol");function ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jj(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ca(n)&&(n.current=r))},[e])}const Ay=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mj="framerAppearId",mI="data-"+Ay(Mj),gI=P.createContext({});function Oj(t,e,n,r,i){const{visualElement:a}=P.useContext(kd),l=P.useContext(iI),h=P.useContext(Rd),f=P.useContext(yy).reducedMotion,p=P.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=P.useContext(gI);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&Fj(p.current,n,i,_);const E=P.useRef(!1);P.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const A=n[mI],D=P.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return fS(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),y.enteringChildren=void 0)}),y}function Fj(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yI(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&ca(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:p})}function yI(t){if(t)return t.options.allowProjection!==!1?t.projection:yI(t.parent)}function Np(t,{forwardMotionProps:e=!1}={},n,r){n&&dj(n);const i=Ty(t)?Vj:Dj;function a(h,f){let p;const y={...P.useContext(yy),...h,layoutId:Uj(h)},{isStatic:_}=y,E=yj(h),A=i(h,_);if(!_&&Qg){Bj();const D=zj(y);p=D.MeasureLayout,E.visualElement=Oj(t,A,y,r,D.ProjectionNode)}return g.jsxs(kd.Provider,{value:E,children:[p&&E.visualElement?g.jsx(p,{visualElement:E.visualElement,...y}):null,Rj(t,h,jj(A,E.visualElement,f),A,_,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=P.forwardRef(a);return l[Lj]=t,l}function Uj({layoutId:t}){const e=P.useContext(Kg).id;return e&&t!==void 0?e+"-"+t:t}function Bj(t,e){P.useContext(iI).strict}function zj(t){const{drag:e,layout:n}=Ca;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $j(t,e){if(typeof Proxy>"u")return Np;const n=new Map,r=(a,l)=>Np(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Np(l,void 0,t,e)),n.get(l))})}function vI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Wj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dp(t){return t===void 0||t===1}function Cm({scale:t,scaleX:e,scaleY:n}){return!Dp(t)||!Dp(e)||!Dp(n)}function Gi(t){return Cm(t)||wI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wI(t){return ix(t.x)||ix(t.y)}function ix(t){return t&&t!=="0%"}function id(t,e,n){const r=t-n,i=e*r;return n+i}function ox(t,e,n,r,i){return i!==void 0&&(t=id(t,i,r)),id(t,n,r)+e}function Pm(t,e=0,n=1,r,i){t.min=ox(t.min,e,n,r,i),t.max=ox(t.max,e,n,r,i)}function _I(t,{x:e,y:n}){Pm(t.x,e.translate,e.scale,e.originPoint),Pm(t.y,n.translate,n.scale,n.originPoint)}const ax=.999999999999,lx=1.0000000000001;function qj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_I(t,l)),r&&Gi(a.latestValues)&&da(t,a.latestValues))}e.x<lx&&e.x>ax&&(e.x=1),e.y<lx&&e.y>ax&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function ux(t,e,n,r,i=.5){const a=it(t.min,t.max,i);Pm(t,e,n,a,r)}function da(t,e){ux(t.x,e.x,e.scaleX,e.scale,e.originX),ux(t.y,e.y,e.scaleY,e.scale,e.originY)}function xI(t,e){return vI(Hj(t.getBoundingClientRect(),e))}function Kj(t,e,n){const r=xI(t,n),{scroll:i}=e;return i&&(ha(r.x,i.offset.x),ha(r.y,i.offset.y)),r}const cx=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:cx(),y:cx()}),hx=()=>({min:0,max:0}),pt=()=>({x:hx(),y:hx()}),Rm={current:null},EI={current:!1};function Gj(){if(EI.current=!0,!!Qg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rm.current=t.matches;t.addEventListener("change",e),e()}else Rm.current=!1}const Qj=new WeakMap;function Yj(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,ba(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ba(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=fn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Dd(n),this.isVariantNode=aI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];f[E]!==void 0&&Jt(A)&&A.set(f[E])}}mount(e){this.current=e,Qj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EI.current||Gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ca){const n=Ca[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dx.length;r++){const i=dx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Yj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ba(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pS(r)||gS(r))?r=parseFloat(r):!ij(r)&&fi.test(n)&&(r=XS(e,n)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Sy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ey),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){my.render(this.render)}}class TI extends Xj{constructor(){super(...arguments),this.KeyframeResolver=KL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SI(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function Jj(t){return window.getComputedStyle(t)}class Zj extends TI{constructor(){super(...arguments),this.type="html",this.renderInstance=SI}readValueFromInstance(e,n){if(Wa.has(n))return this.projection?.isProjecting?xm(n):dL(e,n);{const r=Jj(e),i=(ry(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xI(e,n)}build(e,n,r){xy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Iy(e,n,r)}}const II=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e6(t,e,n,r){SI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(II.has(i)?i:Ay(i),e.attrs[i])}class t6 extends TI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wa.has(n)){const r=YS(n);return r&&r.default||0}return n=II.has(n)?n:Ay(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pI(e,n,r)}build(e,n,r){cI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){e6(e,n,r,i)}mount(e){this.isSVGTag=dI(e.tagName),super.mount(e)}}const n6=(t,e)=>Ty(t)?new t6(e):new Zj(e,{allowProjection:t!==P.Fragment});function _a(t,e,n){const r=t.getProps();return Sy(r,e,n!==void 0?n:r.custom,t)}const km=t=>Array.isArray(t);function r6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ba(n))}function s6(t){return km(t)?t[t.length-1]||0:t}function i6(t,e){const n=_a(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=s6(a[l]);r6(t,l,h)}}function o6(t){return!!(Jt(t)&&t.add)}function Nm(t,e){const n=t.getValue("willChange");if(o6(n))return n.add(e);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function AI(t){return t.props[mI]}const a6=t=>t!==null;function l6(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(a6),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const u6={type:"spring",stiffness:500,damping:25,restSpeed:10},c6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),h6={type:"keyframes",duration:.8},d6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f6=(t,{keyframes:e})=>e.length>2?h6:Wa.has(t)?t.startsWith("scale")?c6(e[1]):u6:d6;function p6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const by=(t,e,n,r={},i,a)=>l=>{const h=fy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Dr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};p6(h)||Object.assign(y,f6(t,y)),y.duration&&(y.duration=Dr(y.duration)),y.repeatDelay&&(y.repeatDelay=Dr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Am(y),y.delay===0&&(_=!0)),(gs.instantAnimations||gs.skipAnimations)&&(_=!0,Am(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=l6(y.keyframes,h);if(E!==void 0){tt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new hy(y):new LL(y)};function m6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&m6(p,y))continue;const A={delay:n,...fy(a||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===D&&!A.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const O=AI(t);if(O){const U=window.MotionHandoffAnimation(O,y,tt);U!==null&&(A.startTime=U,L=!0)}}Nm(t,y),_.start(by(y,_,E,t.shouldReduceMotion&&KS.has(y)?{type:!1}:A,t,L));const C=_.animation;C&&f.push(C)}return l&&Promise.all(f).then(()=>{tt.update(()=>{l&&i6(t,l)})}),f}function CI(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}function Dm(t,e,n={}){const r=_a(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(bI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=i;return g6(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function g6(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Dm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+CI(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function y6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Dm(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Dm(t,e,n);else{const i=typeof e=="function"?_a(t,e,n.custom):e;r=Promise.all(bI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function PI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const v6=_y.length;function RI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<v6;n++){const r=_y[n],i=t.props[r];(_u(i)||i===!1)&&(e[r]=i)}return e}const w6=[...wy].reverse(),_6=wy.length;function x6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>y6(t,n,r)))}function E6(t){let e=x6(t),n=fx(),r=!0;const i=f=>(p,y)=>{const _=_a(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:A,...D}=_;p={...p,...D,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,y=RI(t.parent)||{},_=[],E=new Set;let A={},D=1/0;for(let C=0;C<_6;C++){const O=w6[C],U=n[O],K=p[O]!==void 0?p[O]:y[O],ne=_u(K),re=O===f?U.isActive:null;re===!1&&(D=C);let X=K===y[O]&&K!==p[O]&&ne;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),U.protectedKeys={...A},!U.isActive&&re===null||!K&&!U.prevProp||Nd(K)||typeof K=="boolean")continue;const b=T6(U.prevProp,K);let I=b||O===f&&U.isActive&&!X&&ne||C>D&&ne,R=!1;const V=Array.isArray(K)?K:[K];let j=V.reduce(i(O),{});re===!1&&(j={});const{prevResolvedValues:z={}}=U,N={...z,...j},We=Ae=>{I=!0,E.has(Ae)&&(R=!0,E.delete(Ae)),U.needsAnimating[Ae]=!0;const se=t.getValue(Ae);se&&(se.liveStyle=!1)};for(const Ae in N){const se=j[Ae],fe=z[Ae];if(A.hasOwnProperty(Ae))continue;let ae=!1;km(se)&&km(fe)?ae=!PI(se,fe):ae=se!==fe,ae?se!=null?We(Ae):E.add(Ae):se!==void 0&&E.has(Ae)?We(Ae):U.protectedKeys[Ae]=!0}U.prevProp=K,U.prevResolvedValues=j,U.isActive&&(A={...A,...j}),r&&t.blockInitialAnimation&&(I=!1);const ct=X&&b;I&&(!ct||R)&&_.push(...V.map(Ae=>{const se={type:O};if(typeof Ae=="string"&&r&&!ct&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=_a(fe,Ae);if(fe.enteringChildren&&ae){const{delayChildren:B}=ae.transition||{};se.delay=CI(fe.enteringChildren,t,B)}}return{animation:Ae,options:se}}))}if(E.size){const C={};if(typeof p.initial!="boolean"){const O=_a(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(C.transition=O.transition)}E.forEach(O=>{const U=t.getBaseTarget(O),K=t.getValue(O);K&&(K.liveStyle=!0),C[O]=U??null}),_.push({animation:C})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=l(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=fx()}}}function T6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PI(e,t):!1}function qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fx(){return{animate:qi(!0),whileInView:qi(),whileHover:qi(),whileTap:qi(),whileDrag:qi(),whileFocus:qi(),exit:qi()}}class vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class S6 extends vi{constructor(e){super(e),e.animationState||(e.animationState=E6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I6=0;class A6 extends vi{constructor(){super(...arguments),this.id=I6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const b6={animation:{Feature:S6},exit:{Feature:A6}};function Eu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Uu(t){return{point:{x:t.pageX,y:t.pageY}}}const C6=t=>e=>gy(e)&&t(e,Uu(e));function ru(t,e,n,r){return Eu(t,e,C6(n),r)}const kI=1e-4,P6=1-kI,R6=1+kI,NI=.01,k6=0-NI,N6=0+NI;function rn(t){return t.max-t.min}function D6(t,e,n){return Math.abs(t-e)<=n}function px(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P6&&t.scale<=R6||isNaN(t.scale))&&(t.scale=1),(t.translate>=k6&&t.translate<=N6||isNaN(t.translate))&&(t.translate=0)}function su(t,e,n,r){px(t.x,e.x,n.x,r?r.originX:void 0),px(t.y,e.y,n.y,r?r.originY:void 0)}function mx(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function V6(t,e,n){mx(t.x,e.x,n.x),mx(t.y,e.y,n.y)}function gx(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function iu(t,e,n){gx(t.x,e.x,n.x),gx(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const DI=({current:t})=>t?t.ownerDocument.defaultView:null,yx=(t,e)=>Math.abs(t-e);function L6(t,e){const n=yx(t.x,e.x),r=yx(t.y,e.y);return Math.sqrt(n**2+r**2)}class VI{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Lp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=L6(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:L}=E,{timestamp:C}=Ft;this.history.push({...L,timestamp:C});const{onStart:O,onMove:U}=this.handlers;A||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Vp(A,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:D,onSessionEnd:L,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Lp(E.type==="pointercancel"?this.lastMoveEventInfo:Vp(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,O),L&&L(E,O)},!gy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=Uu(e),f=Vp(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Ft;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Lp(f,this.history)),this.removeListeners=Mu(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),di(this.updatePoint)}}function Vp(t,e){return e?{point:e(t.point)}:t}function vx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:vx(t,LI(e)),offset:vx(t,j6(e)),velocity:M6(e,.1)}}function j6(t){return t[0]}function LI(t){return t[t.length-1]}function M6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const a=Mn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function O6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function wx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function F6(t,{top:e,left:n,bottom:r,right:i}){return{x:wx(t.x,n,i),y:wx(t.y,e,r)}}function _x(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function U6(t,e){return{x:_x(t.x,e.x),y:_x(t.y,e.y)}}function B6(t,e){let n=.5;const r=rn(t),i=rn(e);return i>r?n=yu(e.min,e.max-r,t.min):r>i&&(n=yu(t.min,t.max-i,e.min)),ms(0,1,n)}function z6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vm=.35;function $6(t=Vm){return t===!1?t=0:t===!0&&(t=Vm),{x:xx(t,"left","right"),y:xx(t,"top","bottom")}}function xx(t,e,n){return{min:Ex(t,e),max:Ex(t,n)}}function Ex(t,e){return typeof t=="number"?t:t[e]||0}const W6=new WeakMap;class H6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uu(_).point)},l=(_,E)=>{const{drag:A,dragPropagation:D,onDragStart:L}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XL(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(O=>{let U=this.getAxisMotionValue(O).get()||0;if(Vr.test(U)){const{projection:K}=this.visualElement;if(K&&K.layout){const ne=K.layout.layoutBox[O];ne&&(U=rn(ne)*(parseFloat(U)/100))}}this.originPoint[O]=U}),L&&tt.postRender(()=>L(_,E)),Nm(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:L,onDrag:C}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=E;if(D&&this.currentDirection===null){this.currentDirection=q6(O),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),C&&C(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new VI(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:DI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&tt.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!fh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=O6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ca(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=F6(r.layoutBox,e):this.constraints=!1,this.elastic=$6(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=z6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ca(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Kj(r,i.root,this.visualElement.getTransformPagePoint());let l=U6(i.layout.layoutBox,a);if(n){const h=n(Wj(l));this.hasMutatedConstraints=!!h,h&&(l=vI(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Vn(y=>{if(!fh(y,n,this.currentDirection))return;let _=f&&f[y]||{};l&&(_={min:0,max:0});const E=i?200:1e6,A=i?40:1e7,D={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Nm(this.visualElement,e),r.start(by(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:r}=this.getProps();if(!fh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-it(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ca(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=B6({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(l=>{if(!fh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(it(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;W6.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ca(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tt.read(r);const l=Eu(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Vm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function q6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K6 extends vi{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new H6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tx=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class G6 extends vi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new VI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tx(e),onStart:Tx(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=Sx(t,e.target.x),r=Sx(t,e.target.y);return`${n}% ${r}%`}},Q6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=fi.parse(t);if(i.length>5)return r;const a=fi.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=it(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let jp=!1;class Y6 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;vj(X6),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),jp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,jp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),my.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;jp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jI(t){const[e,n]=sI(),r=P.useContext(Kg);return g.jsx(Y6,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(gI),isPresent:e,safeToRemove:n})}const X6={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:Q6};function J6(t,e,n){const r=Jt(t)?t:ba(t);return r.start(by("",r,e,n)),r.animation}const Z6=(t,e)=>t.depth-e.depth;class eM{constructor(){this.children=[],this.isDirty=!1}add(e){Yg(this.children,e),this.isDirty=!0}remove(e){Xg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z6),this.isDirty=!1,this.children.forEach(e)}}function tM(t,e){const n=fn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(di(r),t(a-e))};return tt.setup(r,!0),()=>di(r)}const MI=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=MI.length,Ix=t=>typeof t=="string"?parseFloat(t):t,Ax=t=>typeof t=="number"||xe.test(t);function rM(t,e,n,r,i,a){i?(t.opacity=it(0,n.opacity??1,sM(r)),t.opacityExit=it(e.opacity??1,0,iM(r))):a&&(t.opacity=it(e.opacity??1,n.opacity??1,r));for(let l=0;l<nM;l++){const h=`border${MI[l]}Radius`;let f=bx(e,h),p=bx(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Ax(f)===Ax(p)?(t[h]=Math.max(it(Ix(f),Ix(p),r),0),(Vr.test(p)||Vr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sM=OI(0,.5,SS),iM=OI(.5,.95,Fn);function OI(t,e,n){return r=>r<t?0:r>e?1:n(yu(t,e,r))}function Cx(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){Cx(t.x,e.x),Cx(t.y,e.y)}function Px(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rx(t,e,n,r,i){return t-=e,t=id(t,1/n,r),i!==void 0&&(t=id(t,1/i,r)),t}function oM(t,e=0,n=1,r=.5,i,a=t,l=t){if(Vr.test(e)&&(e=parseFloat(e),e=it(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=it(a.min,a.max,r);t===a&&(h-=e),t.min=Rx(t.min,e,n,h,i),t.max=Rx(t.max,e,n,h,i)}function kx(t,e,[n,r,i],a,l){oM(t,e[n],e[r],e[i],e.scale,a,l)}const aM=["x","scaleX","originX"],lM=["y","scaleY","originY"];function Nx(t,e,n,r){kx(t.x,e,aM,n?n.x:void 0,r?r.x:void 0),kx(t.y,e,lM,n?n.y:void 0,r?r.y:void 0)}function Dx(t){return t.translate===0&&t.scale===1}function FI(t){return Dx(t.x)&&Dx(t.y)}function Vx(t,e){return t.min===e.min&&t.max===e.max}function uM(t,e){return Vx(t.x,e.x)&&Vx(t.y,e.y)}function Lx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UI(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function jx(t){return rn(t.x)/rn(t.y)}function Mx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cM{constructor(){this.members=[]}add(e){Yg(this.members,e),e.scheduleRender()}remove(e){if(Xg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hM(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Mp=["","X","Y","Z"],dM=1e3;let fM=0;function Op(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BI(r)}function zI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=fM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gM),this.nodes.forEach(_M),this.nodes.forEach(xM),this.nodes.forEach(yM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new eM)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ey),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=rI(l)&&!rj(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{_=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=tM(E,250),Rh.hasAnimatedSinceResize&&(Rh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ux)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||AM,{onLayoutAnimationStart:L,onLayoutAnimationComplete:C}=p.getProps(),O=!this.targetLayout||!UI(this.targetLayout,A),U=!_&&E;if(this.options.layoutRoot||this.resumeFrom||U||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...fy(D,"layout"),onPlay:L,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,U)}else _||Ux(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ox);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wM),this.nodes.forEach(pM),this.nodes.forEach(mM)):this.nodes.forEach(Fx),this.clearAllSnapshots();const h=fn.now();Ft.delta=ms(0,1e3/60,h-Ft.timestamp),Ft.timestamp=h,Ft.isProcessing=!0,Ap.update.process(Ft),Ap.preRender.process(Ft),Ap.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,my.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vM),this.sharedNodes.forEach(TM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||Gi(this.latestValues)||y)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),bM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return pt();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CM))){const{scroll:p}=this.root;p&&(ha(h.x,p.offset.x),ha(h.y,p.offset.y))}return h}removeElementScroll(l){const h=pt();if(Dn(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Dn(h,l),ha(h.x,y.offset.x),ha(h.y,y.offset.y))}return h}applyTransform(l,h=!1){const f=pt();Dn(f,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&da(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Gi(y.latestValues)&&da(f,y.latestValues)}return Gi(this.latestValues)&&da(f,this.latestValues),f}removeTransform(l){const h=pt();Dn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Gi(p.latestValues))continue;Cm(p.latestValues)&&p.updateSnapshot();const y=pt(),_=p.measurePageBox();Dn(y,_),Nx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Gi(this.latestValues)&&Nx(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),iu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),_I(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),iu(this.relativeTargetOrigin,this.target,E.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cm(this.parent.latestValues)||wI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Dn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;qj(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Px(this.prevProjectionDelta.x,this.projectionDelta.x),Px(this.prevProjectionDelta.y,this.projectionDelta.y)),su(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=pt(),A=f?f.source:void 0,D=this.layout?this.layout.source:void 0,L=A!==D,C=this.getStack(),O=!C||C.members.length<=1,U=!!(L&&!O&&this.options.crossfade===!0&&!this.path.some(IM));this.animationProgress=0;let K;this.mixTargetDelta=ne=>{const re=ne/1e3;Bx(_.x,l.x,re),Bx(_.y,l.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(iu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SM(this.relativeTarget,this.relativeTargetOrigin,E,re),K&&uM(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=pt()),Dn(K,this.relativeTarget)),L&&(this.animationValues=y,rM(y,p,this.latestValues,re,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ba(0)),this.currentAnimation=J6(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&$I(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const _=rn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=rn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Dn(h,f),da(h,y),su(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new cM),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Op("z",l,p,this.animationValues);for(let y=0;y<Mp.length;y++)Op(`rotate${Mp[y]}`,l,p,this.animationValues),Op(`skew${Mp[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Ph(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Ph(h?.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=hM(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),l.transform=_;const{x:E,y:A}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?l.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in xu){if(y[D]===void 0)continue;const{correct:L,applyTo:C,isCSSVariable:O}=xu[D],U=_==="none"?y[D]:L(y[D],p);if(C){const K=C.length;for(let ne=0;ne<K;ne++)l[C[ne]]=U}else O?this.options.visualElement.renderState.vars[D]=U:l[D]=U}this.options.layoutId&&(l.pointerEvents=p===this?Ph(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Ox),this.root.sharedNodes.clear()}}}function pM(t){t.updateLayout()}function mM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Vn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=rn(_);_.min=n[y].min,_.max=_.min+E}):$I(i,e.layoutBox,n)&&Vn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=rn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const l=fa();su(l,n,e.layoutBox);const h=fa();a?su(h,t.applyTransform(r,!0),e.measuredBox):su(h,n,e.layoutBox);const f=!FI(l);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const A=pt();iu(A,e.layoutBox,_.layoutBox);const D=pt();iu(D,n,E.layoutBox),UI(A,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function gM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vM(t){t.clearSnapshot()}function Ox(t){t.clearMeasurements()}function Fx(t){t.isLayoutDirty=!1}function wM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ux(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _M(t){t.resolveTargetDelta()}function xM(t){t.calcProjection()}function EM(t){t.resetSkewAndRotation()}function TM(t){t.removeLeadSnapshot()}function Bx(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zx(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function SM(t,e,n,r){zx(t.x,e.x,n.x,r),zx(t.y,e.y,n.y,r)}function IM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AM={duration:.45,ease:[.4,0,.1,1]},$x=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Wx=$x("applewebkit/")&&!$x("chrome/")?Math.round:Fn;function Hx(t){t.min=Wx(t.min),t.max=Wx(t.max)}function bM(t){Hx(t.x),Hx(t.y)}function $I(t,e,n){return t==="position"||t==="preserve-aspect"&&!D6(jx(e),jx(n),.2)}function CM(t){return t!==t.root&&t.scroll?.wasRoot}const PM=zI({attachResizeListener:(t,e)=>Eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fp={current:void 0},WI=zI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fp.current){const t=new PM({});t.mount(window),t.setOptions({layoutScroll:!0}),Fp.current=t}return Fp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RM={pan:{Feature:G6},drag:{Feature:K6,ProjectionNode:WI,MeasureLayout:jI}};function qx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&tt.postRender(()=>a(e,Uu(e)))}class kM extends vi{mount(){const{current:e}=this.node;e&&(this.unmount=JL(e,(n,r)=>(qx(this.node,r,"Start"),i=>qx(this.node,i,"End"))))}unmount(){}}class NM extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mu(Eu(this.node.current,"focus",()=>this.onFocus()),Eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&tt.postRender(()=>a(e,Uu(e)))}class DM extends vi{mount(){const{current:e}=this.node;e&&(this.unmount=nj(e,(n,r)=>(Kx(this.node,r,"Start"),(i,{success:a})=>Kx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lm=new WeakMap,Up=new WeakMap,VM=t=>{const e=Lm.get(t.target);e&&e(t)},LM=t=>{t.forEach(VM)};function jM({root:t,...e}){const n=t||document;Up.has(n)||Up.set(n,{});const r=Up.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(LM,{root:t,...e})),r[i]}function MM(t,e,n){const r=jM(e);return Lm.set(t,n),r.observe(t),()=>{Lm.delete(t),r.unobserve(t)}}const OM={some:0,all:1};class FM extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:OM[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return MM(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UM(e,n))&&this.startObserver()}unmount(){}}function UM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const BM={inView:{Feature:FM},tap:{Feature:DM},focus:{Feature:NM},hover:{Feature:kM}},zM={layout:{ProjectionNode:WI,MeasureLayout:jI}},$M={...b6,...BM,...RM,...zM},Pe=$j($M,n6),HI=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,i]=P.useState(n==="login"),[a,l]=P.useState(""),[h,f]=P.useState(""),[p,y]=P.useState(!1),[_,E]=P.useState(""),[A,D]=P.useState(""),L=async O=>{O.preventDefault(),y(!0),E(""),D("");try{r?(await yE(gt,a,h),e()):(await gE(gt,a,h),D("Account created successfully! You can now sign in."),i(!0))}catch(U){U instanceof Error?E(U.message):E("An unexpected error occurred")}finally{y(!1)}},C=async()=>{try{await CE(gt,dS),e()}catch(O){O instanceof Error?E(O.message):E("An unexpected error occurred")}};return g.jsx(vy,{children:t&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),g.jsx(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:g.jsxs("div",{className:"p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),g.jsxs("form",{onSubmit:L,className:"space-y-4",children:[g.jsxs("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),g.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[g.jsx("div",{className:"border-t border-gray-200 w-full"}),g.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:a,onChange:O=>l(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:h,onChange:O=>f(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),_&&g.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),A&&g.jsx("p",{className:"text-green-500 text-sm text-center",children:A}),g.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>i(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},qI=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(!1),[i,a]=P.useState(!1),[l,h]=P.useState(null),f=Mr();P.useEffect(()=>{const _=()=>{e(window.scrollY>20)};window.addEventListener("scroll",_);const E=Pu(gt,A=>{h(A)});return()=>{window.removeEventListener("scroll",_),E()}},[]);const p=async()=>{await Fk(gt),r(!1)},y=[{name:"Roadmaps",path:"/#roadmaps",isHash:!0},{name:"Projects",path:"/#projects",isHash:!0},{name:"Resources",path:"/#resources",isHash:!0},{name:"Students",path:"/students",isHash:!1}];return g.jsxs(g.Fragment,{children:[g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[g.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[g.jsxs(Ut,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),g.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),g.jsx("div",{className:"hidden md:flex items-center gap-8",children:y.map(_=>_.isHash?g.jsx(Ut,{to:_.path,className:`text-sm font-medium transition-colors ${f.pathname==="/"&&f.hash===_.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name):g.jsx(Ut,{to:_.path,className:`text-sm font-medium transition-colors ${f.pathname===_.path?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name))}),g.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Ut,{to:"/profile",className:"flex items-center gap-2",children:g.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),g.jsx("button",{onClick:p,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Ut,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),g.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),g.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&g.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[y.map(_=>_.isHash?g.jsx(Ut,{to:_.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:_.name},_.name):g.jsx(Ut,{to:_.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:_.name},_.name)),g.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?g.jsxs(g.Fragment,{children:[g.jsx(Ut,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),g.jsx("button",{onClick:p,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Ut,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),g.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),g.jsx(HI,{isOpen:i,onClose:()=>a(!1)})]})},WM=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return g.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:g.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[g.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:g.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),g.jsxs(Pe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",g.jsx("br",{}),g.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),g.jsx(Pe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),g.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("div",{className:"absolute left-4 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),g.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),g.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[g.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),g.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),g.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),g.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>g.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},HM=()=>{const t=ys(),[e,n]=P.useState([]),[r,i]=P.useState(null),[a,l]=P.useState(!1),[h,f]=P.useState(""),[p,y]=P.useState({title:"",description:"",category:"General",link:""});P.useEffect(()=>{const C=Pu(gt,O=>{i(O)});return _(),()=>C()},[]);const _=async()=>{try{const C=zn(Ct,"roadmaps"),O=ju(C,aS("created_at","desc")),K=(await Ua(O)).docs.map(ne=>({id:ne.id,...ne.data()}));n(K)}catch(C){console.error("Error fetching roadmaps:",C)}},E=async C=>{if(C.preventDefault(),!!r)try{await Ba(zn(Ct,"roadmaps"),{...p,is_official:!0,created_at:qe.now().toDate().toISOString()}),l(!1),y({title:"",description:"",category:"General",link:""}),_()}catch(O){console.error("Error adding roadmap:",O),alert("Failed to add roadmap.")}},A=async(C,O)=>{if(O.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await hS(hi(Ct,"roadmaps",C)),_()}catch(U){console.error("Error deleting roadmap:",U),alert("Failed to delete roadmap.")}},D=C=>{C.link&&(C.link.startsWith("http")||C.link.startsWith("https"))?window.open(C.link,"_blank"):(t(`/roadmap/${C.id}`),window.scrollTo(0,0))},L=e.filter(C=>C.title.toLowerCase().includes(h.toLowerCase())||C.description.toLowerCase().includes(h.toLowerCase()));return g.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),g.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),g.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),g.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:h,onChange:C=>f(C.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),r&&g.jsx("div",{className:"mt-8 flex justify-center",children:g.jsx("button",{onClick:()=>l(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.length===0?g.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):L.map((C,O)=>g.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:O*.1},onClick:()=>D(C),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[r&&g.jsx("button",{onClick:U=>A(C.id,U),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),g.jsx("div",{className:"flex justify-between items-start mb-6",children:g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:C.title}),g.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:C.description})]},C.id))})]}),a&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),g.jsx("input",{type:"text",required:!0,value:p.title,onChange:C=>y({...p,title:C.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{required:!0,value:p.description,onChange:C=>y({...p,description:C.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),g.jsx("input",{type:"text",placeholder:"https://...",value:p.link,onChange:C=>y({...p,link:C.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),g.jsxs("div",{className:"flex gap-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},qM=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=P.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=P.useState(!1),[h,f]=P.useState(""),[p,y]=P.useState(!1);P.useEffect(()=>{if(t&&gt.currentUser){const E=gt.currentUser;E.email&&i(A=>({...A,author:E.email.split("@")[0]}))}},[t]);const _=async E=>{E.preventDefault(),l(!0),f("");try{await Ba(zn(Ct,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(A=>A.trim()),author:r.author,author_avatar:gt.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:qe.now().toDate().toISOString(),user_id:gt.currentUser?.uid}),y(!0),n&&n(),setTimeout(()=>{e(),y(!1),i({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(A){console.error("Error submitting project:",A),f("Failed to submit project. Please try again.")}finally{l(!1)}};return g.jsx(vy,{children:t&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),g.jsx(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:g.jsxs("div",{className:"p-6 md:p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),g.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),g.jsx("input",{type:"text",required:!0,value:r.title,onChange:E=>i({...r,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{required:!0,value:r.description,onChange:E=>i({...r,description:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),g.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:E=>i({...r,githubUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),g.jsx("input",{type:"url",value:r.liveUrl,onChange:E=>i({...r,liveUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),g.jsx("input",{type:"text",required:!0,value:r.author,onChange:E=>i({...r,author:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),g.jsxs("select",{value:r.language,onChange:E=>i({...r,language:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[g.jsx("option",{children:"JavaScript"}),g.jsx("option",{children:"TypeScript"}),g.jsx("option",{children:"Python"}),g.jsx("option",{children:"Java"}),g.jsx("option",{children:"C++"}),g.jsx("option",{children:"Rust"}),g.jsx("option",{children:"Go"}),g.jsx("option",{children:"Swift"}),g.jsx("option",{children:"Other"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),g.jsx("input",{type:"text",value:r.tags,onChange:E=>i({...r,tags:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),h&&g.jsx("p",{className:"text-red-500 text-sm",children:h}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},KM=()=>{const[t,e]=P.useState("All"),[n,r]=P.useState(""),[i,a]=P.useState([]),[l,h]=P.useState(!0),[f,p]=P.useState(null),[y,_]=P.useState(!1),[E,A]=P.useState(!1),[D,L]=P.useState(""),[C,O]=P.useState(!1);P.useEffect(()=>{U();const b=Pu(gt,I=>{p(I)});return()=>b()},[]);const U=async()=>{try{const b=zn(Ct,"projects"),I=ju(b,aS("created_at","desc")),V=(await Ua(I)).docs.map(j=>({id:j.id,...j.data()}));a(V)}catch(b){console.error("Error fetching projects:",b)}finally{h(!1)}},K=async b=>{if(b.preventDefault(),!!D)try{await Ba(zn(Ct,"newsletter_subscribers"),{email:D,created_at:qe.now()}),O(!0),L(""),setTimeout(()=>O(!1),3e3)}catch(I){console.error("Error subscribing:",I)}},ne=()=>{f?A(!0):_(!0)},re=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],X=i.filter(b=>{const I=t==="All"||b.category===t,R=b.title.toLowerCase().includes(n.toLowerCase())||b.description.toLowerCase().includes(n.toLowerCase())||b.tags.some(V=>V.toLowerCase().includes(n.toLowerCase()));return I&&R});return g.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),g.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[g.jsxs("div",{children:[g.jsx(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:g.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),g.jsx(Pe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),g.jsx(Pe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),g.jsxs(Pe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:b=>r(b.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),g.jsxs("button",{onClick:ne,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[g.jsxs("div",{className:"lg:w-3/4",children:[g.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:re.map(b=>g.jsx("button",{onClick:()=>e(b),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===b?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:b},b))}),l?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(b=>g.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[g.jsxs("div",{className:"relative h-48 overflow-hidden",children:[g.jsx("img",{src:b.image_url,alt:b.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),g.jsx("div",{className:"absolute top-4 left-4",children:g.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:b.category})})]}),g.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("img",{src:b.author_avatar,alt:b.author,className:"w-8 h-8 rounded-full border border-gray-100"}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:b.author}),g.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(b.created_at).toLocaleDateString()]})]}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:b.title}),g.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:b.description}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:b.tags.map(I=>g.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",I]},I))}),g.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),b.likes]}),g.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),b.comments]})]}),g.jsxs("a",{href:b.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},b.id))}),!l&&X.length===0&&g.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),g.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),g.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),g.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[g.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),g.jsx("div",{className:"space-y-4",children:[1,2,3].map(b=>g.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:g.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${b}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),g.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},b))}),g.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),g.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),g.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),g.jsxs("form",{onSubmit:K,className:"relative z-10",children:[g.jsx("input",{type:"email",placeholder:"Your email",value:D,onChange:b=>L(b.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),g.jsx("button",{type:"submit",disabled:C,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:C?"Subscribed!":"Subscribe"})]})]})]})]})]}),g.jsx(HI,{isOpen:y,onClose:()=>_(!1)}),g.jsx(qM,{isOpen:E,onClose:()=>A(!1),onSuccess:U})]})},GM=()=>{const t=ys(),[e,n]=P.useState([]),[r,i]=P.useState(!0),[a,l]=P.useState(!1),[h,f]=P.useState(!1),[p,y]=P.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});P.useEffect(()=>{_();const C=Pu(gt,O=>{l(!!O)});return()=>C()},[]);const _=async()=>{try{const C=zn(Ct,"resources"),O=ju(C),K=(await Ua(O)).docs.map(ne=>({id:ne.id,...ne.data()}));K.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(K)}catch(C){console.error("Error fetching resources:",C)}finally{i(!1)}},E=async C=>{if(C.preventDefault(),!(!p.title||!p.description))try{await Ba(zn(Ct,"resources"),p),f(!1),y({title:"",description:"",icon:"",color:"badge-blue",link:""}),_()}catch(O){console.error("Error adding resource:",O)}},A=async(C,O)=>{if(O.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await hS(hi(Ct,"resources",C)),_()}catch(U){console.error("Error deleting resource:",U)}},D={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},L={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return g.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),g.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),g.jsxs("div",{className:"container-custom relative z-10",children:[g.jsxs(Pe.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),g.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&g.jsx("div",{className:"mb-8 flex justify-center",children:g.jsx("button",{onClick:()=>f(!h),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:h?"Cancel":"+ Add Resource"})}),h&&g.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:C=>y({...p,title:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),g.jsx("textarea",{placeholder:"Description",value:p.description,onChange:C=>y({...p,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:C=>y({...p,icon:C.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),g.jsxs("select",{value:p.color,onChange:C=>y({...p,color:C.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[g.jsx("option",{value:"badge-blue",children:"Blue"}),g.jsx("option",{value:"badge-yellow",children:"Yellow"}),g.jsx("option",{value:"badge-green",children:"Green"}),g.jsx("option",{value:"badge-purple",children:"Purple"}),g.jsx("option",{value:"badge-red",children:"Red"})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):g.jsx(Pe.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:D,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(C=>g.jsxs(Pe.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:L,whileHover:{scale:1.03},onClick:()=>t(`/resource/${C.id}`),children:[a&&g.jsx("button",{onClick:O=>A(C.id,O),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:C.icon})}),g.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:C.title}),g.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:C.description}),g.jsx("div",{className:"mt-auto text-center",children:g.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",g.jsx("span",{children:""})]})})]},C.id))})]})]})},QM=()=>{const[t,e]=P.useState([]);return P.useEffect(()=>{(async()=>{try{const r=zn(Ct,"users"),i=ju(r,sV(8)),l=(await Ua(i)).docs.map(h=>({id:h.id,...h.data()}));e(l)}catch(r){console.error("Error fetching profiles:",r)}})()},[]),g.jsx("section",{id:"community",className:"py-24 bg-white",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[g.jsxs("div",{className:"max-w-2xl",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),g.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),g.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.length===0?g.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):t.map((n,r)=>g.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"group relative bg-white rounded-2xl p-6 border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:[g.jsx("div",{className:"absolute top-4 right-4 text-gray-300 group-hover:text-[#0066FF] transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})}),g.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 mb-6 overflow-hidden border-2 border-white shadow-md group-hover:scale-105 transition-transform duration-300",children:g.jsx("img",{src:n.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.full_name}`,alt:n.full_name,className:"w-full h-full object-cover"})}),g.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-1",children:n.full_name}),g.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-4",children:n.role||"Student"}),g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-6",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),n.university||"University"]}),g.jsxs("div",{className:"border-t border-gray-50 pt-4",children:[g.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-3",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills&&n.skills.map(i=>g.jsx("span",{className:"px-2.5 py-1 rounded-md bg-gray-50 text-gray-600 text-xs font-medium border border-gray-100",children:i},i))})]}),g.jsx("button",{className:"w-full mt-6 py-2.5 rounded-xl border border-gray-200 text-gray-600 font-medium text-sm hover:bg-gray-50 hover:text-[#0f172a] transition-colors",children:"View Profile"})]},n.id))})]})})},Gx=()=>{const t=ys(),{userId:e}=n1(),[n,r]=P.useState(!0),[i,a]=P.useState(null),[l,h]=P.useState(!1),[f,p]=P.useState("none"),[y,_]=P.useState(!1);Mm.useEffect(()=>{(async()=>{try{const L=gt.currentUser;if(!L){t("/login");return}const C=e||L.uid;h(C===L.uid);const O=hi(Ct,"users",C),U=await ed(O);if(U.exists()){if(a(U.data()),C!==L.uid){const K=zn(Ct,"connections"),ne=ju(K,N_("requesterId","==",L.uid),N_("recipientId","==",C));(await Ua(ne)).empty||p("pending")}}else e||t("/onboarding")}catch(L){console.error("Error fetching user data:",L)}finally{r(!1)}})()},[t,e]);const E=async()=>{if(!(!gt.currentUser||!e)){_(!0);try{await Ba(zn(Ct,"connections"),{requesterId:gt.currentUser.uid,recipientId:e,status:"pending",createdAt:new Date().toISOString()}),p("pending")}catch(D){console.error("Error sending connection request:",D)}finally{_(!1)}}},A=[{id:1,title:"CollabX",description:"A platform for students to collaborate on projects and find learning resources.",stars:124,language:"TypeScript"},{id:2,title:"AI Note Taker",description:"An AI-powered tool that summarizes lecture notes and generates quizzes.",stars:89,language:"Python"}];return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):i?g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[g.jsx("div",{className:"h-48 md:h-64 bg-gradient-to-r from-[#0066FF] to-[#5865F2] w-full"}),g.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-32",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:g.jsxs("div",{className:"p-6 md:p-8 flex flex-col md:flex-row gap-6 items-start md:items-end",children:[g.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white shadow-lg overflow-hidden bg-white -mt-16 md:-mt-24",children:g.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#0f172a] mb-1",children:i.name}),g.jsx("p",{className:"text-gray-600 text-lg mb-2",children:i.role}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-gray-400",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),i.institution]}),g.jsx("span",{className:"text-[#0066FF] font-semibold cursor-pointer hover:underline",children:"500+ connections"})]})]}),g.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l?g.jsx("button",{onClick:()=>t("/onboarding"),className:"px-6 py-2 bg-[#0066FF] text-white rounded-full font-bold text-sm hover:bg-blue-700 transition-all shadow-md shadow-blue-500/20",children:"Edit Profile"}):g.jsx("button",{onClick:E,disabled:f!=="none"||y,className:`px-8 py-2 rounded-full font-bold text-sm transition-all shadow-md ${f==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20":"bg-gray-100 text-gray-500 cursor-not-allowed shadow-none"}`,children:y?"Sending...":f==="pending"?"Pending":"Connect"}),!l&&g.jsx("button",{className:"px-6 py-2 border border-[#0066FF] text-[#0066FF] rounded-full font-bold text-sm hover:bg-blue-50 transition-all",children:"Message"})]})]})}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-4",children:"About"}),g.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:i.bio})]}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-[#0f172a]",children:"Featured Projects"}),g.jsx("button",{className:"text-sm text-[#0066FF] font-bold hover:underline",children:"View All"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(D=>g.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all cursor-pointer group",children:[g.jsx("h4",{className:"font-bold text-[#0f172a] group-hover:text-[#0066FF] mb-2",children:D.title}),g.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:D.description}),g.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[g.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-md font-medium",children:D.language}),g.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 text-yellow-400",children:g.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),D.stars]})]})]},D.id))})]})]}),g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Social Links"}),g.jsxs("div",{className:"space-y-4",children:[i.socials?.linkedin&&g.jsxs("a",{href:`https://${i.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-xl bg-blue-50/50 text-[#0077b5] hover:bg-blue-50 transition-all border border-blue-100/50",children:[g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),g.jsx("span",{className:"font-bold text-sm",children:"LinkedIn Profile"})]}),i.socials?.github&&g.jsxs("a",{href:`https://${i.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-xl bg-gray-50 text-gray-900 border border-gray-200 hover:bg-gray-100 transition-all",children:[g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),g.jsx("span",{className:"font-bold text-sm",children:"GitHub Repository"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.skills.map(D=>g.jsx("span",{className:"px-4 py-1.5 bg-gray-50 text-gray-700 text-xs font-bold rounded-full border border-gray-100 hover:border-[#0066FF] transition-all cursor-default",children:D},D))})]}),g.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Network"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[g.jsx("p",{className:"font-bold text-2xl text-[#0066FF]",children:i.stats.followers}),g.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Founders"})]}),g.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[g.jsx("p",{className:"font-bold text-2xl text-[#0066FF]",children:i.stats.projects}),g.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Collabs"})]})]})]})]})]})})]}):null};function YM({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const XM=P.forwardRef(YM);function JM({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ZM=P.forwardRef(JM);function e3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const t3=P.forwardRef(e3);function n3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const r3=P.forwardRef(n3),s3=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=P.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:h,type:f,checked:p}=a.target;n(y=>({...y,[l]:f==="checkbox"?p:h}))},i=a=>{a.preventDefault(),console.log("Form submitted:",e)};return g.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[g.jsx(Ut,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-gray-900",children:"Executive Education"}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-gray-400",children:t.title})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[g.jsx("div",{className:"flex items-center gap-4 mb-4",children:g.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:g.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),g.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),g.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(r3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),g.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(ZM,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(XM,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[g.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[g.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>g.jsxs("div",{className:"text-center space-y-2",children:[g.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),g.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[g.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),g.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),g.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>g.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[g.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),g.jsx(t3,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),g.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-24",children:g.jsxs(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[g.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),g.jsxs("form",{onSubmit:i,className:"space-y-4",children:[g.jsx("div",{children:g.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsx("div",{children:g.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsx("div",{children:g.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),g.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),g.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},i3=()=>{const{resourceId:t}=n1(),e=ys(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},i=n(),a=r(t||"");return g.jsxs("div",{className:"min-h-screen bg-white",children:[g.jsx(qI,{}),g.jsx("main",{className:"pt-32 pb-20 px-6",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs(Pe.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[g.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),g.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,h)=>g.jsxs(Pe.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),g.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),g.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),g.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:f=>f.preventDefault(),children:["Access Resource ",g.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},o3=()=>{const t=ys(),[e,n]=P.useState(!0),[r,i]=P.useState(""),[a,l]=P.useState(""),[h,f]=P.useState(!1),[p,y]=P.useState(""),[_,E]=P.useState(""),A=async()=>{try{const C=(await CE(gt,dS)).user,O=hi(Ct,"users",C.uid);(await ed(O)).exists()?t("/"):t("/onboarding")}catch(L){L instanceof Error?y(L.message):y("An unexpected error occurred")}},D=async L=>{L.preventDefault(),f(!0),y(""),E("");try{if(e){const C=await yE(gt,r,a),O=hi(Ct,"users",C.user.uid);(await ed(O)).exists()?t("/"):t("/onboarding")}else await gE(gt,r,a),t("/onboarding")}catch(C){C instanceof Error?y(C.message):y("An unexpected error occurred")}finally{f(!1)}};return g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),g.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),g.jsxs(Pe.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:A,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),g.jsx("span",{children:"Continue with Google"})]}),g.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[g.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),g.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),g.jsxs("form",{onSubmit:D,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),g.jsx("input",{type:"email",required:!0,value:r,onChange:L=>i(L.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),g.jsx("input",{type:"password",required:!0,value:a,onChange:L=>l(L.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),g.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),g.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),g.jsxs(vy,{children:[p&&g.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),_&&g.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:_})]}),g.jsx(Pe.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:h,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${h?"opacity-70 cursor-not-allowed":""}`,children:h?"Processing...":e?"Sign in":"Sign up"})]}),g.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:g.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},a3=()=>{const t=ys(),[e,n]=P.useState(!1),[r,i]=P.useState(""),[a,l]=P.useState(""),[h,f]=P.useState(""),[p,y]=P.useState(""),[_,E]=P.useState(""),[A,D]=P.useState([]),[L,C]=P.useState(""),[O,U]=P.useState("");Mm.useEffect(()=>{(async()=>{const b=gt.currentUser;if(b){const I=hi(Ct,"users",b.uid),R=await ed(I);if(R.exists()){const V=R.data();i(V.name||""),l(V.role||""),f(V.institution||""),y(V.bio||""),D(V.skills||[]),C(V.socials?.github||""),U(V.socials?.linkedin||"")}}})()},[]);const K=X=>{X.key==="Enter"&&_.trim()&&(X.preventDefault(),A.length<5&&!A.includes(_.trim())&&(D([...A,_.trim()]),E("")))},ne=X=>{D(A.filter(b=>b!==X))},re=async X=>{X.preventDefault(),n(!0);try{const b=gt.currentUser;if(!b)throw new Error("No user logged in");await aV(hi(Ct,"users",b.uid),{name:r,role:a,institution:h,bio:p,skills:A,socials:{github:L,linkedin:O},stats:{projects:0,stars:0,followers:0,following:0},avatar:b.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:b.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(b){console.error("Error saving profile:",b),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return g.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),g.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),g.jsxs("form",{onSubmit:re,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),g.jsx("input",{type:"text",required:!0,value:r,onChange:X=>i(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),g.jsx("input",{type:"text",required:!0,value:a,onChange:X=>l(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),g.jsx("input",{type:"text",required:!0,value:h,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),g.jsx("textarea",{required:!0,value:p,onChange:X=>y(X.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",g.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.map(X=>g.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[X,g.jsx("button",{type:"button",onClick:()=>ne(X),className:"hover:text-red-500",children:""})]},X))}),g.jsx("input",{type:"text",value:_,onChange:X=>E(X.target.value),onKeyDown:K,disabled:A.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:A.length>=5?"Max skills reached":"Type skill and press Enter"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),g.jsx("input",{type:"text",value:L,onChange:X=>C(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),g.jsx("input",{type:"text",value:O,onChange:X=>U(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),g.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},l3=()=>{const t=ys(),[e,n]=P.useState([]),[r,i]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const l=await Ua(zn(Ct,"users")),h=[];l.forEach(f=>{h.push({uid:f.id,...f.data()})}),n(h)}catch(l){console.error("Error fetching students:",l)}finally{i(!1)}})()},[]),r?g.jsx("div",{className:"min-h-screen pt-24 flex justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):g.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20",children:g.jsxs("div",{className:"container-custom mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-4",children:"Discover Students"}),g.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Connect with fellow students, find collaborators, and grow your network."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(a=>g.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:()=>t(`/profile/${a.uid}`),children:[g.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/20 to-[#5865F2]/20 relative",children:g.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:g.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:g.jsx("img",{src:a.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${a.name}`,alt:a.name,className:"w-full h-full object-cover"})})})}),g.jsxs("div",{className:"pt-12 pb-6 px-4 flex flex-col items-center flex-grow w-full",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:a.name}),g.jsx("p",{className:"text-sm text-gray-600 line-clamp-1 mb-1",children:a.role}),g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-[11px] mb-4 uppercase tracking-wider font-semibold",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),a.institution||"University"]}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-1.5 mb-6 h-12 overflow-hidden items-start w-full",children:[a.skills?.slice(0,3).map((l,h)=>g.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-500 text-[10px] font-bold rounded-md border border-gray-100 uppercase tracking-tighter",children:l},h)),a.skills?.length>3&&g.jsxs("span",{className:"px-2 py-1 text-gray-400 text-[10px] font-bold",children:["+",a.skills.length-3]})]}),g.jsx("button",{className:"w-full py-2 rounded-full border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-[#0066FF]/5 transition-colors mt-auto",children:"View Profile"})]})]},a.uid))})]})})},u3=()=>g.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[g.jsxs("div",{className:"col-span-1 md:col-span-1",children:[g.jsxs(Ut,{to:"/",className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),g.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),g.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),g.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[g.jsx("li",{children:g.jsx(Ut,{to:"/#resources",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),g.jsx("li",{children:g.jsx(Ut,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),g.jsx("li",{children:g.jsx(Ut,{to:"/students",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),g.jsx("li",{children:g.jsx(Ut,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),g.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),g.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),g.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),g.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[g.jsx("span",{children:" 2025 CollabX. All rights reserved."}),g.jsx("span",{className:"hidden md:inline",children:"|"}),g.jsx("span",{children:"Powered by Google Cloud"})]}),g.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),c3=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,a]=P.useState(""),[l,h]=P.useState("idle"),f=async p=>{p.preventDefault(),h("submitting");try{await Ba(zn(Ct,"feedback"),{name:t,email:n,message:i,created_at:qe.now()}),h("success"),e(""),r(""),a(""),setTimeout(()=>h("idle"),3e3)}catch(y){console.error("Error submitting feedback:",y),h("error"),setTimeout(()=>h("idle"),3e3)}};return g.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:g.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),g.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),g.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:g.jsxs("form",{onSubmit:f,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),g.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),g.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),g.jsx("textarea",{id:"message",value:i,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),g.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&g.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&g.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},ph=({children:t})=>{const[e,n]=P.useState(!0),[r,i]=P.useState(!1);return P.useEffect(()=>{const a=Pu(gt,l=>{i(!!l),n(!1)});return()=>a()},[]),e?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?g.jsx(g.Fragment,{children:t}):g.jsx(XA,{to:"/login"})},h3=()=>{const t=Mr();return Mm.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),g.jsxs("main",{className:"bg-white min-h-screen",children:[g.jsx(WM,{}),g.jsx(HM,{}),g.jsx(KM,{}),g.jsx(GM,{}),g.jsx(QM,{}),g.jsx(c3,{})]})},d3=()=>g.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[g.jsx(qI,{}),g.jsxs(ZA,{children:[g.jsx(ns,{path:"/",element:g.jsx(h3,{})}),g.jsx(ns,{path:"/profile",element:g.jsx(ph,{children:g.jsx(Gx,{})})}),g.jsx(ns,{path:"/profile/:userId",element:g.jsx(ph,{children:g.jsx(Gx,{})})}),g.jsx(ns,{path:"/students",element:g.jsx(ph,{children:g.jsx(l3,{})})}),g.jsx(ns,{path:"/onboarding",element:g.jsx(ph,{children:g.jsx(a3,{})})}),g.jsx(ns,{path:"/roadmap/:roadmapId",element:g.jsx(s3,{})}),g.jsx(ns,{path:"/resource/:resourceId",element:g.jsx(i3,{})}),g.jsx(ns,{path:"/login",element:g.jsx(o3,{})})]}),g.jsx(u3,{})]});lA.createRoot(document.getElementById("root")).render(g.jsx(P.StrictMode,{children:g.jsx(Eb,{children:g.jsx(d3,{})})}));
