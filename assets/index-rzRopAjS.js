(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function QA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zf={exports:{}},jl={},ep={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function YA(){if(Mv)return be;Mv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function b(U,J,Ce){this.props=U,this.context=J,this.refs=j,this.updater=Ce||A}b.prototype.isReactComponent={},b.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=b.prototype;function B(U,J,Ce){this.props=U,this.context=J,this.refs=j,this.updater=Ce||A}var G=B.prototype=new F;G.constructor=B,V(G,b.prototype),G.isPureReactComponent=!0;var se=Array.isArray,ne=Object.prototype.hasOwnProperty,X={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(U,J,Ce){var Pe,Re={},ke=null,ze=null;if(J!=null)for(Pe in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(ke=""+J.key),J)ne.call(J,Pe)&&!C.hasOwnProperty(Pe)&&(Re[Pe]=J[Pe]);var Oe=arguments.length-2;if(Oe===1)Re.children=Ce;else if(1<Oe){for(var Ke=Array(Oe),Jt=0;Jt<Oe;Jt++)Ke[Jt]=arguments[Jt+2];Re.children=Ke}if(U&&U.defaultProps)for(Pe in Oe=U.defaultProps,Oe)Re[Pe]===void 0&&(Re[Pe]=Oe[Pe]);return{$$typeof:t,type:U,key:ke,ref:ze,props:Re,_owner:X.current}}function P(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function L(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ce){return J[Ce]})}var z=/\/+/g;function N(U,J){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):J.toString(36)}function We(U,J,Ce,Pe,Re){var ke=typeof U;(ke==="undefined"||ke==="boolean")&&(U=null);var ze=!1;if(U===null)ze=!0;else switch(ke){case"string":case"number":ze=!0;break;case"object":switch(U.$$typeof){case t:case e:ze=!0}}if(ze)return ze=U,Re=Re(ze),U=Pe===""?"."+N(ze,0):Pe,se(Re)?(Ce="",U!=null&&(Ce=U.replace(z,"$&/")+"/"),We(Re,J,Ce,"",function(Jt){return Jt})):Re!=null&&(D(Re)&&(Re=P(Re,Ce+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+U)),J.push(Re)),1;if(ze=0,Pe=Pe===""?".":Pe+":",se(U))for(var Oe=0;Oe<U.length;Oe++){ke=U[Oe];var Ke=Pe+N(ke,Oe);ze+=We(ke,J,Ce,Ke,Re)}else if(Ke=E(U),typeof Ke=="function")for(U=Ke.call(U),Oe=0;!(ke=U.next()).done;)ke=ke.value,Ke=Pe+N(ke,Oe++),ze+=We(ke,J,Ce,Ke,Re);else if(ke==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function ct(U,J,Ce){if(U==null)return U;var Pe=[],Re=0;return We(U,Pe,"","",function(ke){return J.call(Ce,ke,Re++)}),Pe}function Dt(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(Ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ce)},function(Ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ce)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Ae={current:null},re={transition:null},fe={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:re,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:ct,forEach:function(U,J,Ce){ct(U,function(){J.apply(this,arguments)},Ce)},count:function(U){var J=0;return ct(U,function(){J++}),J},toArray:function(U){return ct(U,function(J){return J})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},be.Component=b,be.Fragment=n,be.Profiler=i,be.PureComponent=B,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,be.act=ae,be.cloneElement=function(U,J,Ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Pe=V({},U.props),Re=U.key,ke=U.ref,ze=U._owner;if(J!=null){if(J.ref!==void 0&&(ke=J.ref,ze=X.current),J.key!==void 0&&(Re=""+J.key),U.type&&U.type.defaultProps)var Oe=U.type.defaultProps;for(Ke in J)ne.call(J,Ke)&&!C.hasOwnProperty(Ke)&&(Pe[Ke]=J[Ke]===void 0&&Oe!==void 0?Oe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Pe.children=Ce;else if(1<Ke){Oe=Array(Ke);for(var Jt=0;Jt<Ke;Jt++)Oe[Jt]=arguments[Jt+2];Pe.children=Oe}return{$$typeof:t,type:U.type,key:Re,ref:ke,props:Pe,_owner:ze}},be.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},be.createElement=I,be.createFactory=function(U){var J=I.bind(null,U);return J.type=U,J},be.createRef=function(){return{current:null}},be.forwardRef=function(U){return{$$typeof:h,render:U}},be.isValidElement=D,be.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:Dt}},be.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},be.startTransition=function(U){var J=re.transition;re.transition={};try{U()}finally{re.transition=J}},be.unstable_act=ae,be.useCallback=function(U,J){return Ae.current.useCallback(U,J)},be.useContext=function(U){return Ae.current.useContext(U)},be.useDebugValue=function(){},be.useDeferredValue=function(U){return Ae.current.useDeferredValue(U)},be.useEffect=function(U,J){return Ae.current.useEffect(U,J)},be.useId=function(){return Ae.current.useId()},be.useImperativeHandle=function(U,J,Ce){return Ae.current.useImperativeHandle(U,J,Ce)},be.useInsertionEffect=function(U,J){return Ae.current.useInsertionEffect(U,J)},be.useLayoutEffect=function(U,J){return Ae.current.useLayoutEffect(U,J)},be.useMemo=function(U,J){return Ae.current.useMemo(U,J)},be.useReducer=function(U,J,Ce){return Ae.current.useReducer(U,J,Ce)},be.useRef=function(U){return Ae.current.useRef(U)},be.useState=function(U){return Ae.current.useState(U)},be.useSyncExternalStore=function(U,J,Ce){return Ae.current.useSyncExternalStore(U,J,Ce)},be.useTransition=function(){return Ae.current.useTransition()},be.version="18.3.1",be}var jv;function km(){return jv||(jv=1,ep.exports=YA()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function XA(){if(Ov)return jl;Ov=1;var t=km(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:A,props:_,_owner:i.current}}return jl.Fragment=n,jl.jsx=l,jl.jsxs=l,jl}var Fv;function JA(){return Fv||(Fv=1,Zf.exports=XA()),Zf.exports}var y=JA(),R=km();const Nm=QA(R);var Jc={},tp={exports:{}},un={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function ZA(){return Uv||(Uv=1,(function(t){function e(re,fe){var ae=re.length;re.push(fe);e:for(;0<ae;){var U=ae-1>>>1,J=re[U];if(0<i(J,fe))re[U]=fe,re[ae]=J,ae=U;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var fe=re[0],ae=re.pop();if(ae!==fe){re[0]=ae;e:for(var U=0,J=re.length,Ce=J>>>1;U<Ce;){var Pe=2*(U+1)-1,Re=re[Pe],ke=Pe+1,ze=re[ke];if(0>i(Re,ae))ke<J&&0>i(ze,Re)?(re[U]=ze,re[ke]=ae,U=ke):(re[U]=Re,re[Pe]=ae,U=Pe);else if(ke<J&&0>i(ze,ae))re[U]=ze,re[ke]=ae,U=ke;else break e}}return fe}function i(re,fe){var ae=re.sortIndex-fe.sortIndex;return ae!==0?ae:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,E=3,A=!1,V=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(re){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=re)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(p)}}function se(re){if(j=!1,G(re),!V)if(n(f)!==null)V=!0,Dt(ne);else{var fe=n(p);fe!==null&&Ae(se,fe.startTime-re)}}function ne(re,fe){V=!1,j&&(j=!1,F(I),I=-1),A=!0;var ae=E;try{for(G(fe),_=n(f);_!==null&&(!(_.expirationTime>fe)||re&&!L());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var J=U(_.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(f)&&r(f),G(fe)}else r(f);_=n(f)}if(_!==null)var Ce=!0;else{var Pe=n(p);Pe!==null&&Ae(se,Pe.startTime-fe),Ce=!1}return Ce}finally{_=null,E=ae,A=!1}}var X=!1,C=null,I=-1,P=5,D=-1;function L(){return!(t.unstable_now()-D<P)}function z(){if(C!==null){var re=t.unstable_now();D=re;var fe=!0;try{fe=C(!0,re)}finally{fe?N():(X=!1,C=null)}}else X=!1}var N;if(typeof B=="function")N=function(){B(z)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ct=We.port2;We.port1.onmessage=z,N=function(){ct.postMessage(null)}}else N=function(){b(z,0)};function Dt(re){C=re,X||(X=!0,N())}function Ae(re,fe){I=b(function(){re(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){V||A||(V=!0,Dt(ne))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return re()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=E;E=re;try{return fe()}finally{E=ae}},t.unstable_scheduleCallback=function(re,fe,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,re={id:g++,callback:fe,priorityLevel:re,startTime:ae,expirationTime:J,sortIndex:-1},ae>U?(re.sortIndex=ae,e(p,re),n(f)===null&&re===n(p)&&(j?(F(I),I=-1):j=!0,Ae(se,ae-U))):(re.sortIndex=J,e(f,re),V||A||(V=!0,Dt(ne))),re},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(re){var fe=E;return function(){var ae=E;E=fe;try{return re.apply(this,arguments)}finally{E=ae}}}})(rp)),rp}var Bv;function e2(){return Bv||(Bv=1,np.exports=ZA()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function t2(){if(zv)return un;zv=1;var t=km(),e=e2();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function V(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(s,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new j(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,B);b[o]=new j(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,B);b[o]=new j(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,B);b[o]=new j(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function G(s,o,u,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(V(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var se=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),X=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),re=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,U;function J(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var Ce=!1;function Pe(s,o){if(!s||Ce)return"";Ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){d=q}s.call(o.prototype)}else{try{throw Error()}catch(q){d=q}s()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,k=v.length-1;1<=T&&0<=k&&m[T]!==v[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==v[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==v[k]){var M=`
`+m[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=k);break}}}finally{Ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function Re(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case X:return"Portal";case P:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case We:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ct:return o=s.displayName||null,o!==null?o:ke(s.type)||"Memo";case Dt:o=s._payload,s=s._init;try{return ke(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Jt(s){var o=Ke(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yo(s){s._valueTracker||(s._valueTracker=Jt(s))}function $a(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ke(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function ms(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vo(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ju(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function wo(s,o){o=o.checked,o!=null&&G(s,"checked",o,!1)}function mi(s,o){wo(s,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?gt(s,o.type,u):o.hasOwnProperty("defaultValue")&&gt(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Wa(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function gt(s,o,u){(o!=="number"||ms(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ht=Array.isArray;function zn(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ha(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qa(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ht(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function Ou(s,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function gs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ka(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ka(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ys,Fu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ys.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function gi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uu=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(s){Uu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),vs[o]=vs[s]})});function ws(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||vs.hasOwnProperty(s)&&vs[s]?(""+o).trim():o+"px"}function xo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=ws(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Ga=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $n(s,o){if(o){if(Ga[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Eo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function To(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jr=null,Or=null,at=null;function Qa(s){if(s=El(s)){if(typeof jr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=fc(o),jr(s.stateNode,s.type,o))}}function xs(s){Or?at?at.push(s):at=[s]:Or=s}function Es(){if(Or){var s=Or,o=at;if(at=Or=null,Qa(s),o)for(s=0;s<o.length;s++)Qa(o[s])}}function Bu(s,o){return s(o)}function zu(){}var lr=!1;function $u(s,o,u){if(lr)return s(o,u);lr=!0;try{return Bu(s,o,u)}finally{lr=!1,(Or!==null||at!==null)&&(zu(),Es())}}function yi(s,o){var u=s.stateNode;if(u===null)return null;var d=fc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ts=!1;if(h)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Ts=!1}function Wu(s,o,u,d,m,v,T,k,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Fr=!1,ur=null,So=!1,In=null,Hu={onError:function(s){Fr=!0,ur=s}};function qu(s,o,u,d,m,v,T,k,M){Fr=!1,ur=null,Wu.apply(Hu,arguments)}function Ya(s,o,u,d,m,v,T,k,M){if(qu.apply(this,arguments),Fr){if(Fr){var q=ur;Fr=!1,ur=null}else throw Error(n(198));So||(So=!0,In=q)}}function Wn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Xa(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ku(s){if(Wn(s)!==s)throw Error(n(188))}function Gu(s){var o=s.alternate;if(!o){if(o=Wn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Ku(m),s;if(v===d)return Ku(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,k=m.child;k;){if(k===u){T=!0,u=m,d=v;break}if(k===d){T=!0,d=m,u=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===u){T=!0,u=v,d=m;break}if(k===d){T=!0,d=v,u=m;break}k=k.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Qu(s){return s=Gu(s),s!==null?vi(s):null}function vi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=vi(s);if(o!==null)return o;s=s.sibling}return null}var Ja=e.unstable_scheduleCallback,Io=e.unstable_cancelCallback,wi=e.unstable_shouldYield,Ur=e.unstable_requestPaint,Xe=e.unstable_now,bd=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,Za=e.unstable_UserBlockingPriority,_i=e.unstable_NormalPriority,el=e.unstable_LowPriority,Co=e.unstable_IdlePriority,xi=null,dn=null;function Yu(s){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(xi,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Ei,cr=Math.log,An=Math.LN2;function Ei(s){return s>>>=0,s===0?32:31-(cr(s)/An|0)|0}var hr=64,Is=4194304;function Be(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Br(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var k=T&~m;k!==0?d=Be(k):(v&=T,v!==0&&(d=Be(v)))}else T=u&~m,T!==0?d=Be(T):v!==0&&(d=Be(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-fn(o),m=1<<u,d|=s[u],o&=~m;return d}function Ti(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-fn(v),k=1<<T,M=m[T];M===-1?((k&u)===0||(k&d)!==0)&&(m[T]=Ti(k,o)):M<=o&&(s.expiredLanes|=k),v&=~k}}function tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function nl(){var s=hr;return hr<<=1,(hr&4194240)===0&&(hr=64),s}function rl(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ii(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-fn(o),s[o]=u}function Rd(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-fn(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function sl(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-fn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var Le=0;function dr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var il,Po,ol,al,ll,fr=!1,bo=[],pr=null,mr=null,Vt=null,Ai=new Map,zr=new Map,pn=[],Xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function As(s,o){switch(s){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Ai.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(o.pointerId)}}function Hn(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=El(o),o!==null&&Po(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Ju(s,o,u,d,m){switch(o){case"focusin":return pr=Hn(pr,s,o,u,d,m),!0;case"dragenter":return mr=Hn(mr,s,o,u,d,m),!0;case"mouseover":return Vt=Hn(Vt,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Ai.set(v,Hn(Ai.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,zr.set(v,Hn(zr.get(v)||null,s,o,u,d,m)),!0}return!1}function Ro(s){var o=Ri(s.target);if(o!==null){var u=Wn(o);if(u!==null){if(o=u.tag,o===13){if(o=Xa(u),o!==null){s.blockedOn=o,ll(s.priority,function(){ol(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);_s=d,u.target.dispatchEvent(d),_s=null}else return o=El(u),o!==null&&Po(o),s.blockedOn=u,!1;o.shift()}return!0}function Zu(s,o,u){Ge(s)&&u.delete(o)}function kd(){fr=!1,pr!==null&&Ge(pr)&&(pr=null),mr!==null&&Ge(mr)&&(mr=null),Vt!==null&&Ge(Vt)&&(Vt=null),Ai.forEach(Zu),zr.forEach(Zu)}function Cs(s,o){s.blockedOn===o&&(s.blockedOn=null,fr||(fr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kd)))}function Ps(s){function o(m){return Cs(m,s)}if(0<bo.length){Cs(bo[0],s);for(var u=1;u<bo.length;u++){var d=bo[u];d.blockedOn===s&&(d.blockedOn=null)}}for(pr!==null&&Cs(pr,s),mr!==null&&Cs(mr,s),Vt!==null&&Cs(Vt,s),Ai.forEach(o),zr.forEach(o),u=0;u<pn.length;u++)d=pn[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<pn.length&&(u=pn[0],u.blockedOn===null);)Ro(u),u.blockedOn===null&&pn.shift()}var $r=se.ReactCurrentBatchConfig,Wr=!0;function gr(s,o,u,d){var m=Le,v=$r.transition;$r.transition=null;try{Le=1,ul(s,o,u,d)}finally{Le=m,$r.transition=v}}function ec(s,o,u,d){var m=Le,v=$r.transition;$r.transition=null;try{Le=4,ul(s,o,u,d)}finally{Le=m,$r.transition=v}}function ul(s,o,u,d){if(Wr){var m=ko(s,o,u,d);if(m===null)zd(s,o,d,yr,u),As(s,d);else if(Ju(m,s,o,u,d))d.stopPropagation();else if(As(s,d),o&4&&-1<Xu.indexOf(s)){for(;m!==null;){var v=El(m);if(v!==null&&il(v),v=ko(s,o,u,d),v===null&&zd(s,o,d,yr,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else zd(s,o,d,null,u)}}var yr=null;function ko(s,o,u,d){if(yr=null,s=To(d),s=Ri(s),s!==null)if(o=Wn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Xa(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return yr=s,null}function No(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bd()){case Ao:return 1;case Za:return 4;case _i:case el:return 16;case Co:return 536870912;default:return 16}default:return 16}}var mn=null,Do=null,Hr=null;function tc(){if(Hr)return Hr;var s,o=Do,u=o.length,d,m="value"in mn?mn.value:mn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var T=u-s;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return Hr=m.slice(s,1<d?1-d:void 0)}function Ci(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vr(){return!0}function cl(){return!1}function zt(s){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vr:cl,this.isPropagationStopped=cl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),o}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=zt(wr),bs=ae({},wr,{view:0,detail:0}),Vo=zt(bs),Lo,Mo,gn,bi=ae({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gn&&(gn&&s.type==="mousemove"?(Lo=s.screenX-gn.screenX,Mo=s.screenY-gn.screenY):Mo=Lo=0,gn=s),Lo)},movementY:function(s){return"movementY"in s?s.movementY:Mo}}),hl=zt(bi),nc=ae({},bi,{dataTransfer:0}),rc=zt(nc),jo=ae({},bs,{relatedTarget:0}),Lt=zt(jo),sc=ae({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=zt(sc),Rs=ae({},wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=zt(Rs),w=ae({},wr,{data:0}),x=zt(w),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=K[s])?!!o[s]:!1}function Se(){return oe}var dt=ae({},bs,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ci(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(s){return s.type==="keypress"?Ci(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ci(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),He=zt(dt),yt=ae({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yn=zt(yt),qr=ae({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),_r=zt(qr),xr=ae({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=zt(xr),dl=ae({},bi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$I=zt(dl),WI=[9,13,27,32],Nd=h&&"CompositionEvent"in window,fl=null;h&&"documentMode"in document&&(fl=document.documentMode);var HI=h&&"TextEvent"in window&&!fl,Py=h&&(!Nd||fl&&8<fl&&11>=fl),by=" ",Ry=!1;function ky(s,o){switch(s){case"keyup":return WI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function qI(s,o){switch(s){case"compositionend":return Ny(o);case"keypress":return o.which!==32?null:(Ry=!0,by);case"textInput":return s=o.data,s===by&&Ry?null:s;default:return null}}function KI(s,o){if(Fo)return s==="compositionend"||!Nd&&ky(s,o)?(s=tc(),Hr=Do=mn=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Py&&o.locale!=="ko"?null:o.data;default:return null}}var GI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!GI[s.type]:o==="textarea"}function Vy(s,o,u,d){xs(d),o=cc(o,"onChange"),0<o.length&&(u=new Pi("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var pl=null,ml=null;function QI(s){Jy(s,0)}function oc(s){var o=Wo(s);if($a(o))return s}function YI(s,o){if(s==="change")return o}var Ly=!1;if(h){var Dd;if(h){var Vd="oninput"in document;if(!Vd){var My=document.createElement("div");My.setAttribute("oninput","return;"),Vd=typeof My.oninput=="function"}Dd=Vd}else Dd=!1;Ly=Dd&&(!document.documentMode||9<document.documentMode)}function jy(){pl&&(pl.detachEvent("onpropertychange",Oy),ml=pl=null)}function Oy(s){if(s.propertyName==="value"&&oc(ml)){var o=[];Vy(o,ml,s,To(s)),$u(QI,o)}}function XI(s,o,u){s==="focusin"?(jy(),pl=o,ml=u,pl.attachEvent("onpropertychange",Oy)):s==="focusout"&&jy()}function JI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return oc(ml)}function ZI(s,o){if(s==="click")return oc(o)}function eA(s,o){if(s==="input"||s==="change")return oc(o)}function tA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var qn=typeof Object.is=="function"?Object.is:tA;function gl(s,o){if(qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!qn(s[m],o[m]))return!1}return!0}function Fy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uy(s,o){var u=Fy(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fy(u)}}function By(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?By(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function zy(){for(var s=window,o=ms();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ms(s.document)}return o}function Ld(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function nA(s){var o=zy(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&By(u.ownerDocument.documentElement,u)){if(d!==null&&Ld(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=Uy(u,v);var T=Uy(u,d);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var rA=h&&"documentMode"in document&&11>=document.documentMode,Uo=null,Md=null,yl=null,jd=!1;function $y(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jd||Uo==null||Uo!==ms(d)||(d=Uo,"selectionStart"in d&&Ld(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yl&&gl(yl,d)||(yl=d,d=cc(Md,"onSelect"),0<d.length&&(o=new Pi("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Uo)))}function ac(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Bo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Od={},Wy={};h&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function lc(s){if(Od[s])return Od[s];if(!Bo[s])return s;var o=Bo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Wy)return Od[s]=o[u];return s}var Hy=lc("animationend"),qy=lc("animationiteration"),Ky=lc("animationstart"),Gy=lc("transitionend"),Qy=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(s,o){Qy.set(s,o),a(o,[s])}for(var Fd=0;Fd<Yy.length;Fd++){var Ud=Yy[Fd],sA=Ud.toLowerCase(),iA=Ud[0].toUpperCase()+Ud.slice(1);ks(sA,"on"+iA)}ks(Hy,"onAnimationEnd"),ks(qy,"onAnimationIteration"),ks(Ky,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(Gy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Xy(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Ya(d,o,void 0,s),s.currentTarget=null}function Jy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],M=k.instance,q=k.currentTarget;if(k=k.listener,M!==v&&m.isPropagationStopped())break e;Xy(m,k,q),v=M}else for(T=0;T<d.length;T++){if(k=d[T],M=k.instance,q=k.currentTarget,k=k.listener,M!==v&&m.isPropagationStopped())break e;Xy(m,k,q),v=M}}}if(So)throw s=In,So=!1,In=null,s}function Je(s,o){var u=o[Gd];u===void 0&&(u=o[Gd]=new Set);var d=s+"__bubble";u.has(d)||(Zy(o,s,2,!1),u.add(d))}function Bd(s,o,u){var d=0;o&&(d|=4),Zy(u,s,d,o)}var uc="_reactListening"+Math.random().toString(36).slice(2);function wl(s){if(!s[uc]){s[uc]=!0,r.forEach(function(u){u!=="selectionchange"&&(oA.has(u)||Bd(u,!1,s),Bd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[uc]||(o[uc]=!0,Bd("selectionchange",!1,o))}}function Zy(s,o,u,d){switch(No(o)){case 1:var m=gr;break;case 4:m=ec;break;default:m=ul}u=m.bind(null,o,u,s),m=void 0,!Ts||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function zd(s,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;k!==null;){if(T=Ri(k),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}k=k.parentNode}}d=d.return}$u(function(){var q=v,ee=To(u),te=[];e:{var Z=Qy.get(s);if(Z!==void 0){var ue=Pi,de=s;switch(s){case"keypress":if(Ci(u)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":de="focus",ue=Lt;break;case"focusout":de="blur",ue=Lt;break;case"beforeblur":case"afterblur":ue=Lt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=_r;break;case Hy:case qy:case Ky:ue=ic;break;case Gy:ue=Oo;break;case"scroll":ue=Vo;break;case"wheel":ue=$I;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=yn}var pe=(o&4)!==0,ft=!pe&&s==="scroll",$=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=q,H;O!==null;){H=O;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=yi(O,$),ie!=null&&pe.push(_l(O,ie,H)))),ft)break;O=O.return}0<pe.length&&(Z=new ue(Z,de,null,u,ee),te.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&u!==_s&&(de=u.relatedTarget||u.fromElement)&&(Ri(de)||de[Kr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?Ri(de):null,de!==null&&(ft=Wn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(pe=hl,ie="onMouseLeave",$="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(pe=yn,ie="onPointerLeave",$="onPointerEnter",O="pointer"),ft=ue==null?Z:Wo(ue),H=de==null?Z:Wo(de),Z=new pe(ie,O+"leave",ue,u,ee),Z.target=ft,Z.relatedTarget=H,ie=null,Ri(ee)===q&&(pe=new pe($,O+"enter",de,u,ee),pe.target=H,pe.relatedTarget=ft,ie=pe),ft=ie,ue&&de)t:{for(pe=ue,$=de,O=0,H=pe;H;H=zo(H))O++;for(H=0,ie=$;ie;ie=zo(ie))H++;for(;0<O-H;)pe=zo(pe),O--;for(;0<H-O;)$=zo($),H--;for(;O--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=zo(pe),$=zo($)}pe=null}else pe=null;ue!==null&&e0(te,Z,ue,pe,!1),de!==null&&ft!==null&&e0(te,ft,de,pe,!0)}}e:{if(Z=q?Wo(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=YI;else if(Dy(Z))if(Ly)me=eA;else{me=JI;var ye=XI}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=ZI);if(me&&(me=me(s,q))){Vy(te,me,u,ee);break e}ye&&ye(s,Z,q),s==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&gt(Z,"number",Z.value)}switch(ye=q?Wo(q):window,s){case"focusin":(Dy(ye)||ye.contentEditable==="true")&&(Uo=ye,Md=q,yl=null);break;case"focusout":yl=Md=Uo=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,$y(te,u,ee);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":$y(te,u,ee)}var ve;if(Nd)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Fo?ky(s,u)&&(Ee="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Py&&u.locale!=="ko"&&(Fo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Fo&&(ve=tc()):(mn=ee,Do="value"in mn?mn.value:mn.textContent,Fo=!0)),ye=cc(q,Ee),0<ye.length&&(Ee=new x(Ee,s,null,u,ee),te.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Ny(u),ve!==null&&(Ee.data=ve)))),(ve=HI?qI(s,u):KI(s,u))&&(q=cc(q,"onBeforeInput"),0<q.length&&(ee=new x("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:q}),ee.data=ve))}Jy(te,o)})}function _l(s,o,u){return{instance:s,listener:o,currentTarget:u}}function cc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=yi(s,u),v!=null&&d.unshift(_l(s,v,m)),v=yi(s,o),v!=null&&d.push(_l(s,v,m))),s=s.return}return d}function zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function e0(s,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var k=u,M=k.alternate,q=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&q!==null&&(k=q,m?(M=yi(u,v),M!=null&&T.unshift(_l(u,M,k))):m||(M=yi(u,v),M!=null&&T.push(_l(u,M,k)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var aA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function t0(s){return(typeof s=="string"?s:""+s).replace(aA,`
`).replace(lA,"")}function hc(s,o,u){if(o=t0(o),t0(s)!==o&&u)throw Error(n(425))}function dc(){}var $d=null,Wd=null;function Hd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qd=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(s){return n0.resolve(null).then(s).catch(hA)}:qd;function hA(s){setTimeout(function(){throw s})}function Kd(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),Ps(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Ps(o)}function Ns(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function r0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Er="__reactFiber$"+$o,xl="__reactProps$"+$o,Kr="__reactContainer$"+$o,Gd="__reactEvents$"+$o,dA="__reactListeners$"+$o,fA="__reactHandles$"+$o;function Ri(s){var o=s[Er];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Kr]||u[Er]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=r0(s);s!==null;){if(u=s[Er])return u;s=r0(s)}return o}s=u,u=s.parentNode}return null}function El(s){return s=s[Er]||s[Kr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function fc(s){return s[xl]||null}var Qd=[],Ho=-1;function Ds(s){return{current:s}}function Ze(s){0>Ho||(s.current=Qd[Ho],Qd[Ho]=null,Ho--)}function Qe(s,o){Ho++,Qd[Ho]=s.current,s.current=o}var Vs={},$t=Ds(Vs),rn=Ds(!1),ki=Vs;function qo(s,o){var u=s.type.contextTypes;if(!u)return Vs;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function sn(s){return s=s.childContextTypes,s!=null}function pc(){Ze(rn),Ze($t)}function s0(s,o,u){if($t.current!==Vs)throw Error(n(168));Qe($t,o),Qe(rn,u)}function i0(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,ze(s)||"Unknown",m));return ae({},u,d)}function mc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vs,ki=$t.current,Qe($t,s),Qe(rn,rn.current),!0}function o0(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=i0(s,o,ki),d.__reactInternalMemoizedMergedChildContext=s,Ze(rn),Ze($t),Qe($t,s)):Ze(rn),Qe(rn,u)}var Gr=null,gc=!1,Yd=!1;function a0(s){Gr===null?Gr=[s]:Gr.push(s)}function pA(s){gc=!0,a0(s)}function Ls(){if(!Yd&&Gr!==null){Yd=!0;var s=0,o=Le;try{var u=Gr;for(Le=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Gr=null,gc=!1}catch(m){throw Gr!==null&&(Gr=Gr.slice(s+1)),Ja(Ao,Ls),m}finally{Le=o,Yd=!1}}return null}var Ko=[],Go=0,yc=null,vc=0,Cn=[],Pn=0,Ni=null,Qr=1,Yr="";function Di(s,o){Ko[Go++]=vc,Ko[Go++]=yc,yc=s,vc=o}function l0(s,o,u){Cn[Pn++]=Qr,Cn[Pn++]=Yr,Cn[Pn++]=Ni,Ni=s;var d=Qr;s=Yr;var m=32-fn(d)-1;d&=~(1<<m),u+=1;var v=32-fn(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Qr=1<<32-fn(o)+m|u<<m|d,Yr=v+s}else Qr=1<<v|u<<m|d,Yr=s}function Xd(s){s.return!==null&&(Di(s,1),l0(s,1,0))}function Jd(s){for(;s===yc;)yc=Ko[--Go],Ko[Go]=null,vc=Ko[--Go],Ko[Go]=null;for(;s===Ni;)Ni=Cn[--Pn],Cn[Pn]=null,Yr=Cn[--Pn],Cn[Pn]=null,Qr=Cn[--Pn],Cn[Pn]=null}var vn=null,wn=null,et=!1,Kn=null;function u0(s,o){var u=Nn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function c0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,vn=s,wn=Ns(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,vn=s,wn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ni!==null?{id:Qr,overflow:Yr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Nn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,vn=s,wn=null,!0):!1;default:return!1}}function Zd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ef(s){if(et){var o=wn;if(o){var u=o;if(!c0(s,o)){if(Zd(s))throw Error(n(418));o=Ns(u.nextSibling);var d=vn;o&&c0(s,o)?u0(d,u):(s.flags=s.flags&-4097|2,et=!1,vn=s)}}else{if(Zd(s))throw Error(n(418));s.flags=s.flags&-4097|2,et=!1,vn=s}}}function h0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vn=s}function wc(s){if(s!==vn)return!1;if(!et)return h0(s),et=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Hd(s.type,s.memoizedProps)),o&&(o=wn)){if(Zd(s))throw d0(),Error(n(418));for(;o;)u0(s,o),o=Ns(o.nextSibling)}if(h0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){wn=Ns(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}wn=null}}else wn=vn?Ns(s.stateNode.nextSibling):null;return!0}function d0(){for(var s=wn;s;)s=Ns(s.nextSibling)}function Qo(){wn=vn=null,et=!1}function tf(s){Kn===null?Kn=[s]:Kn.push(s)}var mA=se.ReactCurrentBatchConfig;function Tl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var k=m.refs;T===null?delete k[v]:k[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function _c(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function f0(s){var o=s._init;return o(s._payload)}function p0(s){function o($,O){if(s){var H=$.deletions;H===null?($.deletions=[O],$.flags|=16):H.push(O)}}function u($,O){if(!s)return null;for(;O!==null;)o($,O),O=O.sibling;return null}function d($,O){for($=new Map;O!==null;)O.key!==null?$.set(O.key,O):$.set(O.index,O),O=O.sibling;return $}function m($,O){return $=$s($,O),$.index=0,$.sibling=null,$}function v($,O,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<O?($.flags|=2,O):H):($.flags|=2,O)):($.flags|=1048576,O)}function T($){return s&&$.alternate===null&&($.flags|=2),$}function k($,O,H,ie){return O===null||O.tag!==6?(O=Kf(H,$.mode,ie),O.return=$,O):(O=m(O,H),O.return=$,O)}function M($,O,H,ie){var me=H.type;return me===C?ee($,O,H.props.children,ie,H.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Dt&&f0(me)===O.type)?(ie=m(O,H.props),ie.ref=Tl($,O,H),ie.return=$,ie):(ie=Wc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Tl($,O,H),ie.return=$,ie)}function q($,O,H,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Gf(H,$.mode,ie),O.return=$,O):(O=m(O,H.children||[]),O.return=$,O)}function ee($,O,H,ie,me){return O===null||O.tag!==7?(O=Bi(H,$.mode,ie,me),O.return=$,O):(O=m(O,H),O.return=$,O)}function te($,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Kf(""+O,$.mode,H),O.return=$,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:return H=Wc(O.type,O.key,O.props,null,$.mode,H),H.ref=Tl($,null,O),H.return=$,H;case X:return O=Gf(O,$.mode,H),O.return=$,O;case Dt:var ie=O._init;return te($,ie(O._payload),H)}if(ht(O)||fe(O))return O=Bi(O,$.mode,H,null),O.return=$,O;_c($,O)}return null}function Z($,O,H,ie){var me=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:k($,O,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===me?M($,O,H,ie):null;case X:return H.key===me?q($,O,H,ie):null;case Dt:return me=H._init,Z($,O,me(H._payload),ie)}if(ht(H)||fe(H))return me!==null?null:ee($,O,H,ie,null);_c($,H)}return null}function ue($,O,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,k(O,$,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return $=$.get(ie.key===null?H:ie.key)||null,M(O,$,ie,me);case X:return $=$.get(ie.key===null?H:ie.key)||null,q(O,$,ie,me);case Dt:var ye=ie._init;return ue($,O,H,ye(ie._payload),me)}if(ht(ie)||fe(ie))return $=$.get(H)||null,ee(O,$,ie,me,null);_c(O,ie)}return null}function de($,O,H,ie){for(var me=null,ye=null,ve=O,Ee=O=0,bt=null;ve!==null&&Ee<H.length;Ee++){ve.index>Ee?(bt=ve,ve=null):bt=ve.sibling;var Ue=Z($,ve,H[Ee],ie);if(Ue===null){ve===null&&(ve=bt);break}s&&ve&&Ue.alternate===null&&o($,ve),O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue,ve=bt}if(Ee===H.length)return u($,ve),et&&Di($,Ee),me;if(ve===null){for(;Ee<H.length;Ee++)ve=te($,H[Ee],ie),ve!==null&&(O=v(ve,O,Ee),ye===null?me=ve:ye.sibling=ve,ye=ve);return et&&Di($,Ee),me}for(ve=d($,ve);Ee<H.length;Ee++)bt=ue(ve,$,Ee,H[Ee],ie),bt!==null&&(s&&bt.alternate!==null&&ve.delete(bt.key===null?Ee:bt.key),O=v(bt,O,Ee),ye===null?me=bt:ye.sibling=bt,ye=bt);return s&&ve.forEach(function(Ws){return o($,Ws)}),et&&Di($,Ee),me}function pe($,O,H,ie){var me=fe(H);if(typeof me!="function")throw Error(n(150));if(H=me.call(H),H==null)throw Error(n(151));for(var ye=me=null,ve=O,Ee=O=0,bt=null,Ue=H.next();ve!==null&&!Ue.done;Ee++,Ue=H.next()){ve.index>Ee?(bt=ve,ve=null):bt=ve.sibling;var Ws=Z($,ve,Ue.value,ie);if(Ws===null){ve===null&&(ve=bt);break}s&&ve&&Ws.alternate===null&&o($,ve),O=v(Ws,O,Ee),ye===null?me=Ws:ye.sibling=Ws,ye=Ws,ve=bt}if(Ue.done)return u($,ve),et&&Di($,Ee),me;if(ve===null){for(;!Ue.done;Ee++,Ue=H.next())Ue=te($,Ue.value,ie),Ue!==null&&(O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return et&&Di($,Ee),me}for(ve=d($,ve);!Ue.done;Ee++,Ue=H.next())Ue=ue(ve,$,Ee,Ue.value,ie),Ue!==null&&(s&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ee:Ue.key),O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return s&&ve.forEach(function(GA){return o($,GA)}),et&&Di($,Ee),me}function ft($,O,H,ie){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var me=H.key,ye=O;ye!==null;){if(ye.key===me){if(me=H.type,me===C){if(ye.tag===7){u($,ye.sibling),O=m(ye,H.props.children),O.return=$,$=O;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Dt&&f0(me)===ye.type){u($,ye.sibling),O=m(ye,H.props),O.ref=Tl($,ye,H),O.return=$,$=O;break e}u($,ye);break}else o($,ye);ye=ye.sibling}H.type===C?(O=Bi(H.props.children,$.mode,ie,H.key),O.return=$,$=O):(ie=Wc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Tl($,O,H),ie.return=$,$=ie)}return T($);case X:e:{for(ye=H.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){u($,O.sibling),O=m(O,H.children||[]),O.return=$,$=O;break e}else{u($,O);break}else o($,O);O=O.sibling}O=Gf(H,$.mode,ie),O.return=$,$=O}return T($);case Dt:return ye=H._init,ft($,O,ye(H._payload),ie)}if(ht(H))return de($,O,H,ie);if(fe(H))return pe($,O,H,ie);_c($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(u($,O.sibling),O=m(O,H),O.return=$,$=O):(u($,O),O=Kf(H,$.mode,ie),O.return=$,$=O),T($)):u($,O)}return ft}var Yo=p0(!0),m0=p0(!1),xc=Ds(null),Ec=null,Xo=null,nf=null;function rf(){nf=Xo=Ec=null}function sf(s){var o=xc.current;Ze(xc),s._currentValue=o}function of(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Jo(s,o){Ec=s,nf=Xo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(on=!0),s.firstContext=null)}function bn(s){var o=s._currentValue;if(nf!==s)if(s={context:s,memoizedValue:o,next:null},Xo===null){if(Ec===null)throw Error(n(308));Xo=s,Ec.dependencies={lanes:0,firstContext:s}}else Xo=Xo.next=s;return o}var Vi=null;function af(s){Vi===null?Vi=[s]:Vi.push(s)}function g0(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,af(o)):(u.next=m.next,m.next=u),o.interleaved=u,Xr(s,d)}function Xr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ms=!1;function lf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function js(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Fe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Xr(s,u)}return m=d.interleaved,m===null?(o.next=o,af(d)):(o.next=m.next,m.next=o),d.interleaved=o,Xr(s,u)}function Tc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,sl(s,u)}}function v0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Sc(s,o,u,d){var m=s.updateQueue;Ms=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,q=M.next;M.next=null,T===null?v=q:T.next=q,T=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=q:k.next=q,ee.lastBaseUpdate=M))}if(v!==null){var te=m.baseState;T=0,ee=q=M=null,k=v;do{var Z=k.lane,ue=k.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=s,pe=k;switch(Z=o,ue=u,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){te=de.call(ue,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Z=typeof de=="function"?de.call(ue,te,Z):de,Z==null)break e;te=ae({},te,Z);break e;case 2:Ms=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(q=ee=ue,M=te):ee=ee.next=ue,T|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(M=te),m.baseState=M,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ji|=T,s.lanes=T,s.memoizedState=te}}function w0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Sl={},Tr=Ds(Sl),Il=Ds(Sl),Al=Ds(Sl);function Li(s){if(s===Sl)throw Error(n(174));return s}function uf(s,o){switch(Qe(Al,o),Qe(Il,s),Qe(Tr,Sl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_o(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=_o(o,s)}Ze(Tr),Qe(Tr,o)}function Zo(){Ze(Tr),Ze(Il),Ze(Al)}function _0(s){Li(Al.current);var o=Li(Tr.current),u=_o(o,s.type);o!==u&&(Qe(Il,s),Qe(Tr,u))}function cf(s){Il.current===s&&(Ze(Tr),Ze(Il))}var rt=Ds(0);function Ic(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hf=[];function df(){for(var s=0;s<hf.length;s++)hf[s]._workInProgressVersionPrimary=null;hf.length=0}var Ac=se.ReactCurrentDispatcher,ff=se.ReactCurrentBatchConfig,Mi=0,st=null,St=null,Ct=null,Cc=!1,Cl=!1,Pl=0,gA=0;function Wt(){throw Error(n(321))}function pf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!qn(s[u],o[u]))return!1;return!0}function mf(s,o,u,d,m,v){if(Mi=v,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=s===null||s.memoizedState===null?_A:xA,s=u(d,m),Cl){v=0;do{if(Cl=!1,Pl=0,25<=v)throw Error(n(301));v+=1,Ct=St=null,o.updateQueue=null,Ac.current=EA,s=u(d,m)}while(Cl)}if(Ac.current=Rc,o=St!==null&&St.next!==null,Mi=0,Ct=St=st=null,Cc=!1,o)throw Error(n(300));return s}function gf(){var s=Pl!==0;return Pl=0,s}function Sr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function Rn(){if(St===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var o=Ct===null?st.memoizedState:Ct.next;if(o!==null)Ct=o,St=s;else{if(s===null)throw Error(n(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?st.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function bl(s,o){return typeof o=="function"?o(s):o}function yf(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=St,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var k=T=null,M=null,q=v;do{var ee=q.lane;if((Mi&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:s(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(k=M=te,T=d):M=M.next=te,st.lanes|=ee,ji|=ee}q=q.next}while(q!==null&&q!==v);M===null?T=d:M.next=k,qn(d,o.memoizedState)||(on=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,st.lanes|=v,ji|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function vf(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=s(v,T.action),T=T.next;while(T!==m);qn(v,o.memoizedState)||(on=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function x0(){}function E0(s,o){var u=st,d=Rn(),m=o(),v=!qn(d.memoizedState,m);if(v&&(d.memoizedState=m,on=!0),d=d.queue,wf(I0.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Rl(9,S0.bind(null,u,d,m,o),void 0,null),Pt===null)throw Error(n(349));(Mi&30)!==0||T0(u,o,m)}return m}function T0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function S0(s,o,u,d){o.value=u,o.getSnapshot=d,A0(o)&&C0(s)}function I0(s,o,u){return u(function(){A0(o)&&C0(s)})}function A0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!qn(s,u)}catch{return!0}}function C0(s){var o=Xr(s,1);o!==null&&Xn(o,s,1,-1)}function P0(s){var o=Sr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:s},o.queue=s,s=s.dispatch=wA.bind(null,st,s),[o.memoizedState,s]}function Rl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function b0(){return Rn().memoizedState}function Pc(s,o,u,d){var m=Sr();st.flags|=s,m.memoizedState=Rl(1|o,u,void 0,d===void 0?null:d)}function bc(s,o,u,d){var m=Rn();d=d===void 0?null:d;var v=void 0;if(St!==null){var T=St.memoizedState;if(v=T.destroy,d!==null&&pf(d,T.deps)){m.memoizedState=Rl(o,u,v,d);return}}st.flags|=s,m.memoizedState=Rl(1|o,u,v,d)}function R0(s,o){return Pc(8390656,8,s,o)}function wf(s,o){return bc(2048,8,s,o)}function k0(s,o){return bc(4,2,s,o)}function N0(s,o){return bc(4,4,s,o)}function D0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function V0(s,o,u){return u=u!=null?u.concat([s]):null,bc(4,4,D0.bind(null,o,s),u)}function _f(){}function L0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&pf(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function M0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&pf(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function j0(s,o,u){return(Mi&21)===0?(s.baseState&&(s.baseState=!1,on=!0),s.memoizedState=u):(qn(u,o)||(u=nl(),st.lanes|=u,ji|=u,s.baseState=!0),o)}function yA(s,o){var u=Le;Le=u!==0&&4>u?u:4,s(!0);var d=ff.transition;ff.transition={};try{s(!1),o()}finally{Le=u,ff.transition=d}}function O0(){return Rn().memoizedState}function vA(s,o,u){var d=Bs(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},F0(s))U0(o,u);else if(u=g0(s,o,u,d),u!==null){var m=en();Xn(u,s,d,m),B0(u,o,d)}}function wA(s,o,u){var d=Bs(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(F0(s))U0(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,k=v(T,u);if(m.hasEagerState=!0,m.eagerState=k,qn(k,T)){var M=o.interleaved;M===null?(m.next=m,af(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=g0(s,o,m,d),u!==null&&(m=en(),Xn(u,s,d,m),B0(u,o,d))}}function F0(s){var o=s.alternate;return s===st||o!==null&&o===st}function U0(s,o){Cl=Cc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function B0(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,sl(s,u)}}var Rc={readContext:bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},_A={readContext:bn,useCallback:function(s,o){return Sr().memoizedState=[s,o===void 0?null:o],s},useContext:bn,useEffect:R0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Pc(4194308,4,D0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Pc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Pc(4,2,s,o)},useMemo:function(s,o){var u=Sr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Sr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=vA.bind(null,st,s),[d.memoizedState,s]},useRef:function(s){var o=Sr();return s={current:s},o.memoizedState=s},useState:P0,useDebugValue:_f,useDeferredValue:function(s){return Sr().memoizedState=s},useTransition:function(){var s=P0(!1),o=s[0];return s=yA.bind(null,s[1]),Sr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=st,m=Sr();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pt===null)throw Error(n(349));(Mi&30)!==0||T0(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,R0(I0.bind(null,d,v,s),[s]),d.flags|=2048,Rl(9,S0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Sr(),o=Pt.identifierPrefix;if(et){var u=Yr,d=Qr;u=(d&~(1<<32-fn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Pl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=gA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},xA={readContext:bn,useCallback:L0,useContext:bn,useEffect:wf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:N0,useMemo:M0,useReducer:yf,useRef:b0,useState:function(){return yf(bl)},useDebugValue:_f,useDeferredValue:function(s){var o=Rn();return j0(o,St.memoizedState,s)},useTransition:function(){var s=yf(bl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:x0,useSyncExternalStore:E0,useId:O0,unstable_isNewReconciler:!1},EA={readContext:bn,useCallback:L0,useContext:bn,useEffect:wf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:N0,useMemo:M0,useReducer:vf,useRef:b0,useState:function(){return vf(bl)},useDebugValue:_f,useDeferredValue:function(s){var o=Rn();return St===null?o.memoizedState=s:j0(o,St.memoizedState,s)},useTransition:function(){var s=vf(bl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:x0,useSyncExternalStore:E0,useId:O0,unstable_isNewReconciler:!1};function Gn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function xf(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var kc={isMounted:function(s){return(s=s._reactInternals)?Wn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=en(),m=Bs(s),v=Jr(d,m);v.payload=o,u!=null&&(v.callback=u),o=js(s,v,m),o!==null&&(Xn(o,s,m,d),Tc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=en(),m=Bs(s),v=Jr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=js(s,v,m),o!==null&&(Xn(o,s,m,d),Tc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=en(),d=Bs(s),m=Jr(u,d);m.tag=2,o!=null&&(m.callback=o),o=js(s,m,d),o!==null&&(Xn(o,s,d,u),Tc(o,s,d))}};function z0(s,o,u,d,m,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!gl(u,d)||!gl(m,v):!0}function $0(s,o,u){var d=!1,m=Vs,v=o.contextType;return typeof v=="object"&&v!==null?v=bn(v):(m=sn(o)?ki:$t.current,d=o.contextTypes,v=(d=d!=null)?qo(s,m):Vs),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=kc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function W0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&kc.enqueueReplaceState(o,o.state,null)}function Ef(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},lf(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=bn(v):(v=sn(o)?ki:$t.current,m.context=qo(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(xf(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&kc.enqueueReplaceState(m,m.state,null),Sc(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ea(s,o){try{var u="",d=o;do u+=Re(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Tf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Sf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function H0(s,o,u){u=Jr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Oc||(Oc=!0,Ff=d),Sf(s,o)},u}function q0(s,o,u){u=Jr(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Sf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Sf(s,o),typeof d!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function K0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new TA;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=jA.bind(null,s,o,u),o.then(s,s))}function G0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Q0(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Jr(-1,1),o.tag=2,js(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var SA=se.ReactCurrentOwner,on=!1;function Zt(s,o,u,d){o.child=s===null?m0(o,null,u,d):Yo(o,s.child,u,d)}function Y0(s,o,u,d,m){u=u.render;var v=o.ref;return Jo(o,m),d=mf(s,o,u,d,v,m),u=gf(),s!==null&&!on?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Zr(s,o,m)):(et&&u&&Xd(o),o.flags|=1,Zt(s,o,d,m),o.child)}function X0(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!qf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,J0(s,o,v,d,m)):(s=Wc(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(T,d)&&s.ref===o.ref)return Zr(s,o,m)}return o.flags|=1,s=$s(v,d),s.ref=o.ref,s.return=o,o.child=s}function J0(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(gl(v,d)&&s.ref===o.ref)if(on=!1,o.pendingProps=d=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(on=!0);else return o.lanes=s.lanes,Zr(s,o,m)}return If(s,o,u,d,m)}function Z0(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(na,_n),_n|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(na,_n),_n|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Qe(na,_n),_n|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Qe(na,_n),_n|=d;return Zt(s,o,m,u),o.child}function ev(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function If(s,o,u,d,m){var v=sn(u)?ki:$t.current;return v=qo(o,v),Jo(o,m),u=mf(s,o,u,d,v,m),d=gf(),s!==null&&!on?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Zr(s,o,m)):(et&&d&&Xd(o),o.flags|=1,Zt(s,o,u,m),o.child)}function tv(s,o,u,d,m){if(sn(u)){var v=!0;mc(o)}else v=!1;if(Jo(o,m),o.stateNode===null)Dc(s,o),$0(o,u,d),Ef(o,u,d,m),d=!0;else if(s===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var M=T.context,q=u.contextType;typeof q=="object"&&q!==null?q=bn(q):(q=sn(u)?ki:$t.current,q=qo(o,q));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||M!==q)&&W0(o,T,d,q),Ms=!1;var Z=o.memoizedState;T.state=Z,Sc(o,d,T,m),M=o.memoizedState,k!==d||Z!==M||rn.current||Ms?(typeof ee=="function"&&(xf(o,u,ee,d),M=o.memoizedState),(k=Ms||z0(o,u,k,d,Z,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=q,d=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,y0(s,o),k=o.memoizedProps,q=o.type===o.elementType?k:Gn(o.type,k),T.props=q,te=o.pendingProps,Z=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=bn(M):(M=sn(u)?ki:$t.current,M=qo(o,M));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||Z!==M)&&W0(o,T,d,M),Ms=!1,Z=o.memoizedState,T.state=Z,Sc(o,d,T,m);var de=o.memoizedState;k!==te||Z!==de||rn.current||Ms?(typeof ue=="function"&&(xf(o,u,ue,d),de=o.memoizedState),(q=Ms||z0(o,u,q,d,Z,de,M)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=q):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),d=!1)}return Af(s,o,u,d,v,m)}function Af(s,o,u,d,m,v){ev(s,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&o0(o,u,!1),Zr(s,o,v);d=o.stateNode,SA.current=o;var k=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&T?(o.child=Yo(o,s.child,null,v),o.child=Yo(o,null,k,v)):Zt(s,o,k,v),o.memoizedState=d.state,m&&o0(o,u,!0),o.child}function nv(s){var o=s.stateNode;o.pendingContext?s0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&s0(s,o.context,!1),uf(s,o.containerInfo)}function rv(s,o,u,d,m){return Qo(),tf(m),o.flags|=256,Zt(s,o,u,d),o.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function Pf(s){return{baseLanes:s,cachePool:null,transitions:null}}function sv(s,o,u){var d=o.pendingProps,m=rt.current,v=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(rt,m&1),s===null)return ef(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Hc(T,d,0,null),s=Bi(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Pf(u),o.memoizedState=Cf,s):bf(o,T));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return IA(s,o,T,d,k,m,u);if(v){v=d.fallback,T=o.mode,m=s.child,k=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=$s(m,M),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?v=$s(k,v):(v=Bi(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=s.child.memoizedState,T=T===null?Pf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,o.memoizedState=Cf,d}return v=s.child,s=v.sibling,d=$s(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function bf(s,o){return o=Hc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Nc(s,o,u,d){return d!==null&&tf(d),Yo(o,s.child,null,u),s=bf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function IA(s,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=Tf(Error(n(422))),Nc(s,o,T,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Hc({mode:"visible",children:d.children},m,0,null),v=Bi(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Yo(o,s.child,null,T),o.child.memoizedState=Pf(T),o.memoizedState=Cf,v);if((o.mode&1)===0)return Nc(s,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=Tf(v,d,void 0),Nc(s,o,T,d)}if(k=(T&s.childLanes)!==0,on||k){if(d=Pt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Xr(s,m),Xn(d,s,m,-1))}return Hf(),d=Tf(Error(n(421))),Nc(s,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=OA.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,wn=Ns(m.nextSibling),vn=o,et=!0,Kn=null,s!==null&&(Cn[Pn++]=Qr,Cn[Pn++]=Yr,Cn[Pn++]=Ni,Qr=s.id,Yr=s.overflow,Ni=o),o=bf(o,d.children),o.flags|=4096,o)}function iv(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),of(s.return,o,u)}function Rf(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function ov(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Zt(s,o,d.children,u),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iv(s,u,o);else if(s.tag===19)iv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Qe(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Ic(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Rf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Ic(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Rf(o,!0,u,null,v);break;case"together":Rf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Zr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ji|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=$s(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=$s(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function AA(s,o,u){switch(o.tag){case 3:nv(o),Qo();break;case 5:_0(o);break;case 1:sn(o.type)&&mc(o);break;case 4:uf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Qe(xc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?sv(s,o,u):(Qe(rt,rt.current&1),s=Zr(s,o,u),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return ov(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Z0(s,o,u)}return Zr(s,o,u)}var av,kf,lv,uv;av=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},kf=function(){},lv=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,Li(Tr.current);var v=null;switch(u){case"input":m=vo(s,m),d=vo(s,d),v=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":m=Ha(s,m),d=Ha(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=dc)}$n(u,d);var T;u=null;for(q in m)if(!d.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var k=m[q];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in d){var M=d[q];if(k=m?.[q],d.hasOwnProperty(q)&&M!==k&&(M!=null||k!=null))if(q==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Je("scroll",s),v||k===M||(v=[])):(v=v||[]).push(q,M))}u&&(v=v||[]).push("style",u);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},uv=function(s,o,u,d){u!==d&&(o.flags|=4)};function kl(s,o){if(!et)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function CA(s,o,u){var d=o.pendingProps;switch(Jd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return sn(o.type)&&pc(),Ht(o),null;case 3:return d=o.stateNode,Zo(),Ze(rn),Ze($t),df(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(wc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Kn!==null&&(zf(Kn),Kn=null))),kf(s,o),Ht(o),null;case 5:cf(o);var m=Li(Al.current);if(u=o.type,s!==null&&o.stateNode!=null)lv(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Ht(o),null}if(s=Li(Tr.current),wc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Er]=o,d[xl]=v,s=(o.mode&1)!==0,u){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(m=0;m<vl.length;m++)Je(vl[m],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":ju(d,v),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Je("invalid",d);break;case"textarea":qa(d,v),Je("invalid",d)}$n(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var k=v[T];T==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&hc(d.textContent,k,s),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&hc(d.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Je("scroll",d)}switch(u){case"input":yo(d),Wa(d,v,!0);break;case"textarea":yo(d),gs(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=dc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ka(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[Er]=o,s[xl]=d,av(s,o,!1,!1),o.stateNode=s;e:{switch(T=Eo(u,d),u){case"dialog":Je("cancel",s),Je("close",s),m=d;break;case"iframe":case"object":case"embed":Je("load",s),m=d;break;case"video":case"audio":for(m=0;m<vl.length;m++)Je(vl[m],s);m=d;break;case"source":Je("error",s),m=d;break;case"img":case"image":case"link":Je("error",s),Je("load",s),m=d;break;case"details":Je("toggle",s),m=d;break;case"input":ju(s,d),m=vo(s,d),Je("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Je("invalid",s);break;case"textarea":qa(s,d),m=Ha(s,d),Je("invalid",s);break;default:m=d}$n(u,m),k=m;for(v in k)if(k.hasOwnProperty(v)){var M=k[v];v==="style"?xo(s,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Fu(s,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&gi(s,M):typeof M=="number"&&gi(s,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Je("scroll",s):M!=null&&G(s,v,M,T))}switch(u){case"input":yo(s),Wa(s,d,!1);break;case"textarea":yo(s),gs(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Oe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?zn(s,!!d.multiple,v,!1):d.defaultValue!=null&&zn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=dc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(s&&o.stateNode!=null)uv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Li(Al.current),Li(Tr.current),wc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Er]=o,(v=d.nodeValue!==u)&&(s=vn,s!==null))switch(s.tag){case 3:hc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hc(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Er]=o,o.stateNode=d}return Ht(o),null;case 13:if(Ze(rt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(et&&wn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)d0(),Qo(),o.flags|=98560,v=!1;else if(v=wc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Er]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else Kn!==null&&(zf(Kn),Kn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?It===0&&(It=3):Hf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Zo(),kf(s,o),s===null&&wl(o.stateNode.containerInfo),Ht(o),null;case 10:return sf(o.type._context),Ht(o),null;case 17:return sn(o.type)&&pc(),Ht(o),null;case 19:if(Ze(rt),v=o.memoizedState,v===null)return Ht(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)kl(v,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Ic(s),T!==null){for(o.flags|=128,kl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Xe()>ra&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304)}else{if(!d)if(s=Ic(T),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),kl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!et)return Ht(o),null}else 2*Xe()-v.renderingStartTime>ra&&u!==1073741824&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,u=rt.current,Qe(rt,d?u&1|2:u&1),o):(Ht(o),null);case 22:case 23:return Wf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(_n&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function PA(s,o){switch(Jd(o),o.tag){case 1:return sn(o.type)&&pc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Zo(),Ze(rn),Ze($t),df(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return cf(o),null;case 13:if(Ze(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Qo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ze(rt),null;case 4:return Zo(),null;case 10:return sf(o.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var Vc=!1,qt=!1,bA=typeof WeakSet=="function"?WeakSet:Set,he=null;function ta(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){lt(s,o,d)}else u.current=null}function Nf(s,o,u){try{u()}catch(d){lt(s,o,d)}}var cv=!1;function RA(s,o){if($d=Wr,s=zy(),Ld(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,k=-1,M=-1,q=0,ee=0,te=s,Z=null;t:for(;;){for(var ue;te!==u||m!==0&&te.nodeType!==3||(k=T+m),te!==v||d!==0&&te.nodeType!==3||(M=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===s)break t;if(Z===u&&++q===m&&(k=T),Z===v&&++ee===d&&(M=T),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wd={focusedElem:s,selectionRange:u},Wr=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,ft=de.memoizedState,$=o.stateNode,O=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Gn(o.type,pe),ft);$.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=cv,cv=!1,de}function Nl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Nf(o,u,v)}m=m.next}while(m!==d)}}function Lc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Df(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function hv(s){var o=s.alternate;o!==null&&(s.alternate=null,hv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Er],delete o[xl],delete o[Gd],delete o[dA],delete o[fA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function dv(s){return s.tag===5||s.tag===3||s.tag===4}function fv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=dc));else if(d!==4&&(s=s.child,s!==null))for(Vf(s,o,u),s=s.sibling;s!==null;)Vf(s,o,u),s=s.sibling}function Lf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Lf(s,o,u),s=s.sibling;s!==null;)Lf(s,o,u),s=s.sibling}var Mt=null,Qn=!1;function Os(s,o,u){for(u=u.child;u!==null;)pv(s,o,u),u=u.sibling}function pv(s,o,u){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(xi,u)}catch{}switch(u.tag){case 5:qt||ta(u,o);case 6:var d=Mt,m=Qn;Mt=null,Os(s,o,u),Mt=d,Qn=m,Mt!==null&&(Qn?(s=Mt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(Qn?(s=Mt,u=u.stateNode,s.nodeType===8?Kd(s.parentNode,u):s.nodeType===1&&Kd(s,u),Ps(s)):Kd(Mt,u.stateNode));break;case 4:d=Mt,m=Qn,Mt=u.stateNode.containerInfo,Qn=!0,Os(s,o,u),Mt=d,Qn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Nf(u,o,T),m=m.next}while(m!==d)}Os(s,o,u);break;case 1:if(!qt&&(ta(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){lt(u,o,k)}Os(s,o,u);break;case 21:Os(s,o,u);break;case 22:u.mode&1?(qt=(d=qt)||u.memoizedState!==null,Os(s,o,u),qt=d):Os(s,o,u);break;default:Os(s,o,u)}}function mv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new bA),o.forEach(function(d){var m=FA.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Yn(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:Mt=k.stateNode,Qn=!1;break e;case 3:Mt=k.stateNode.containerInfo,Qn=!0;break e;case 4:Mt=k.stateNode.containerInfo,Qn=!0;break e}k=k.return}if(Mt===null)throw Error(n(160));pv(v,T,m),Mt=null,Qn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(q){lt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)gv(o,s),o=o.sibling}function gv(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yn(o,s),Ir(s),d&4){try{Nl(3,s,s.return),Lc(3,s)}catch(pe){lt(s,s.return,pe)}try{Nl(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Yn(o,s),Ir(s),d&512&&u!==null&&ta(u,u.return);break;case 5:if(Yn(o,s),Ir(s),d&512&&u!==null&&ta(u,u.return),s.flags&32){var m=s.stateNode;try{gi(m,"")}catch(pe){lt(s,s.return,pe)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&wo(m,v),Eo(k,T);var q=Eo(k,v);for(T=0;T<M.length;T+=2){var ee=M[T],te=M[T+1];ee==="style"?xo(m,te):ee==="dangerouslySetInnerHTML"?Fu(m,te):ee==="children"?gi(m,te):G(m,ee,te,q)}switch(k){case"input":mi(m,v);break;case"textarea":Ou(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?zn(m,!!v.multiple,ue,!1):Z!==!!v.multiple&&(v.defaultValue!=null?zn(m,!!v.multiple,v.defaultValue,!0):zn(m,!!v.multiple,v.multiple?[]:"",!1))}m[xl]=v}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Yn(o,s),Ir(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Yn(o,s),Ir(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ps(o.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Yn(o,s),Ir(s);break;case 13:Yn(o,s),Ir(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Of=Xe())),d&4&&mv(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(qt=(q=qt)||ee,Yn(o,s),qt=q):Yn(o,s),Ir(s),d&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Nl(4,Z,Z.return);break;case 1:ta(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){d=Z,u=Z.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){lt(d,u,pe)}}break;case 5:ta(Z,Z.return);break;case 22:if(Z.memoizedState!==null){wv(te);continue}}ue!==null?(ue.return=Z,he=ue):wv(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{m=te.stateNode,q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=ws("display",T))}catch(pe){lt(s,s.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Yn(o,s),Ir(s),d&4&&mv(s);break;case 21:break;default:Yn(o,s),Ir(s)}}function Ir(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(dv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(gi(m,""),d.flags&=-33);var v=fv(s);Lf(s,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,k=fv(s);Vf(s,k,T);break;default:throw Error(n(161))}}catch(M){lt(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function kA(s,o,u){he=s,yv(s)}function yv(s,o,u){for(var d=(s.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Vc;if(!T){var k=m.alternate,M=k!==null&&k.memoizedState!==null||qt;k=Vc;var q=qt;if(Vc=T,(qt=M)&&!q)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?_v(m):M!==null?(M.return=T,he=M):_v(m);for(;v!==null;)he=v,yv(v),v=v.sibling;he=m,Vc=k,qt=q}vv(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):vv(s)}}function vv(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Lc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!qt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Gn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&w0(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}w0(o,T,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Ps(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&Df(o)}catch(Z){lt(o,o.return,Z)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function wv(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function _v(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Lc(4,o)}catch(M){lt(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){lt(o,m,M)}}var v=o.return;try{Df(o)}catch(M){lt(o,v,M)}break;case 5:var T=o.return;try{Df(o)}catch(M){lt(o,T,M)}}}catch(M){lt(o,o.return,M)}if(o===s){he=null;break}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break}he=o.return}}var NA=Math.ceil,Mc=se.ReactCurrentDispatcher,Mf=se.ReactCurrentOwner,kn=se.ReactCurrentBatchConfig,Fe=0,Pt=null,vt=null,jt=0,_n=0,na=Ds(0),It=0,Dl=null,ji=0,jc=0,jf=0,Vl=null,an=null,Of=0,ra=1/0,es=null,Oc=!1,Ff=null,Fs=null,Fc=!1,Us=null,Uc=0,Ll=0,Uf=null,Bc=-1,zc=0;function en(){return(Fe&6)!==0?Xe():Bc!==-1?Bc:Bc=Xe()}function Bs(s){return(s.mode&1)===0?1:(Fe&2)!==0&&jt!==0?jt&-jt:mA.transition!==null?(zc===0&&(zc=nl()),zc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:No(s.type)),s)}function Xn(s,o,u,d){if(50<Ll)throw Ll=0,Uf=null,Error(n(185));Ii(s,u,d),((Fe&2)===0||s!==Pt)&&(s===Pt&&((Fe&2)===0&&(jc|=u),It===4&&zs(s,jt)),ln(s,d),u===1&&Fe===0&&(o.mode&1)===0&&(ra=Xe()+500,gc&&Ls()))}function ln(s,o){var u=s.callbackNode;Si(s,o);var d=Br(s,s===Pt?jt:0);if(d===0)u!==null&&Io(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Io(u),o===1)s.tag===0?pA(Ev.bind(null,s)):a0(Ev.bind(null,s)),cA(function(){(Fe&6)===0&&Ls()}),u=null;else{switch(dr(d)){case 1:u=Ao;break;case 4:u=Za;break;case 16:u=_i;break;case 536870912:u=Co;break;default:u=_i}u=Rv(u,xv.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function xv(s,o){if(Bc=-1,zc=0,(Fe&6)!==0)throw Error(n(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var d=Br(s,s===Pt?jt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=$c(s,d);else{o=d;var m=Fe;Fe|=2;var v=Sv();(Pt!==s||jt!==o)&&(es=null,ra=Xe()+500,Fi(s,o));do try{LA();break}catch(k){Tv(s,k)}while(!0);rf(),Mc.current=v,Fe=m,vt!==null?o=0:(Pt=null,jt=0,o=It)}if(o!==0){if(o===2&&(m=tl(s),m!==0&&(d=m,o=Bf(s,m))),o===1)throw u=Dl,Fi(s,0),zs(s,d),ln(s,Xe()),u;if(o===6)zs(s,d);else{if(m=s.current.alternate,(d&30)===0&&!DA(m)&&(o=$c(s,d),o===2&&(v=tl(s),v!==0&&(d=v,o=Bf(s,v))),o===1))throw u=Dl,Fi(s,0),zs(s,d),ln(s,Xe()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Ui(s,an,es);break;case 3:if(zs(s,d),(d&130023424)===d&&(o=Of+500-Xe(),10<o)){if(Br(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){en(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=qd(Ui.bind(null,s,an,es),o);break}Ui(s,an,es);break;case 4:if(zs(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var T=31-fn(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*NA(d/1960))-d,10<d){s.timeoutHandle=qd(Ui.bind(null,s,an,es),d);break}Ui(s,an,es);break;case 5:Ui(s,an,es);break;default:throw Error(n(329))}}}return ln(s,Xe()),s.callbackNode===u?xv.bind(null,s):null}function Bf(s,o){var u=Vl;return s.current.memoizedState.isDehydrated&&(Fi(s,o).flags|=256),s=$c(s,o),s!==2&&(o=an,an=u,o!==null&&zf(o)),s}function zf(s){an===null?an=s:an.push.apply(an,s)}function DA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!qn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zs(s,o){for(o&=~jf,o&=~jc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-fn(o),d=1<<u;s[u]=-1,o&=~d}}function Ev(s){if((Fe&6)!==0)throw Error(n(327));sa();var o=Br(s,0);if((o&1)===0)return ln(s,Xe()),null;var u=$c(s,o);if(s.tag!==0&&u===2){var d=tl(s);d!==0&&(o=d,u=Bf(s,d))}if(u===1)throw u=Dl,Fi(s,0),zs(s,o),ln(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ui(s,an,es),ln(s,Xe()),null}function $f(s,o){var u=Fe;Fe|=1;try{return s(o)}finally{Fe=u,Fe===0&&(ra=Xe()+500,gc&&Ls())}}function Oi(s){Us!==null&&Us.tag===0&&(Fe&6)===0&&sa();var o=Fe;Fe|=1;var u=kn.transition,d=Le;try{if(kn.transition=null,Le=1,s)return s()}finally{Le=d,kn.transition=u,Fe=o,(Fe&6)===0&&Ls()}}function Wf(){_n=na.current,Ze(na)}function Fi(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,uA(u)),vt!==null)for(u=vt.return;u!==null;){var d=u;switch(Jd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&pc();break;case 3:Zo(),Ze(rn),Ze($t),df();break;case 5:cf(d);break;case 4:Zo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:sf(d.type._context);break;case 22:case 23:Wf()}u=u.return}if(Pt=s,vt=s=$s(s.current,null),jt=_n=o,It=0,Dl=null,jf=jc=ji=0,an=Vl=null,Vi!==null){for(o=0;o<Vi.length;o++)if(u=Vi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Vi=null}return s}function Tv(s,o){do{var u=vt;try{if(rf(),Ac.current=Rc,Cc){for(var d=st.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Cc=!1}if(Mi=0,Ct=St=st=null,Cl=!1,Pl=0,Mf.current=null,u===null||u.return===null){It=1,Dl=o,vt=null;break}e:{var v=s,T=u.return,k=u,M=o;if(o=jt,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=G0(T);if(ue!==null){ue.flags&=-257,Q0(ue,T,k,v,o),ue.mode&1&&K0(v,q,o),o=ue,M=q;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else de.add(M);break e}else{if((o&1)===0){K0(v,q,o),Hf();break e}M=Error(n(426))}}else if(et&&k.mode&1){var ft=G0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Q0(ft,T,k,v,o),tf(ea(M,k));break e}}v=M=ea(M,k),It!==4&&(It=2),Vl===null?Vl=[v]:Vl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=H0(v,M,o);v0(v,$);break e;case 1:k=M;var O=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Fs===null||!Fs.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=q0(v,k,o);v0(v,ie);break e}}v=v.return}while(v!==null)}Av(u)}catch(me){o=me,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function Sv(){var s=Mc.current;return Mc.current=Rc,s===null?Rc:s}function Hf(){(It===0||It===3||It===2)&&(It=4),Pt===null||(ji&268435455)===0&&(jc&268435455)===0||zs(Pt,jt)}function $c(s,o){var u=Fe;Fe|=2;var d=Sv();(Pt!==s||jt!==o)&&(es=null,Fi(s,o));do try{VA();break}catch(m){Tv(s,m)}while(!0);if(rf(),Fe=u,Mc.current=d,vt!==null)throw Error(n(261));return Pt=null,jt=0,It}function VA(){for(;vt!==null;)Iv(vt)}function LA(){for(;vt!==null&&!wi();)Iv(vt)}function Iv(s){var o=bv(s.alternate,s,_n);s.memoizedProps=s.pendingProps,o===null?Av(s):vt=o,Mf.current=null}function Av(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=CA(u,o,_n),u!==null){vt=u;return}}else{if(u=PA(u,o),u!==null){u.flags&=32767,vt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{It=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=s}while(o!==null);It===0&&(It=5)}function Ui(s,o,u){var d=Le,m=kn.transition;try{kn.transition=null,Le=1,MA(s,o,u,d)}finally{kn.transition=m,Le=d}return null}function MA(s,o,u,d){do sa();while(Us!==null);if((Fe&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Rd(s,v),s===Pt&&(vt=Pt=null,jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fc||(Fc=!0,Rv(_i,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=kn.transition,kn.transition=null;var T=Le;Le=1;var k=Fe;Fe|=4,Mf.current=null,RA(s,u),gv(u,s),nA(Wd),Wr=!!$d,Wd=$d=null,s.current=u,kA(u),Ur(),Fe=k,Le=T,kn.transition=v}else s.current=u;if(Fc&&(Fc=!1,Us=s,Uc=m),v=s.pendingLanes,v===0&&(Fs=null),Yu(u.stateNode),ln(s,Xe()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Oc)throw Oc=!1,s=Ff,Ff=null,s;return(Uc&1)!==0&&s.tag!==0&&sa(),v=s.pendingLanes,(v&1)!==0?s===Uf?Ll++:(Ll=0,Uf=s):Ll=0,Ls(),null}function sa(){if(Us!==null){var s=dr(Uc),o=kn.transition,u=Le;try{if(kn.transition=null,Le=16>s?16:s,Us===null)var d=!1;else{if(s=Us,Us=null,Uc=0,(Fe&6)!==0)throw Error(n(331));var m=Fe;for(Fe|=4,he=s.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var k=v.deletions;if(k!==null){for(var M=0;M<k.length;M++){var q=k[M];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Nl(8,ee,v)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(hv(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var ft=pe.sibling;pe.sibling=null,pe=ft}while(pe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Nl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var O=s.current;for(he=O;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=O;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Lc(9,k)}}catch(me){lt(k,k.return,me)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=m,Ls(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(xi,s)}catch{}d=!0}return d}finally{Le=u,kn.transition=o}}return!1}function Cv(s,o,u){o=ea(u,o),o=H0(s,o,1),s=js(s,o,1),o=en(),s!==null&&(Ii(s,1,o),ln(s,o))}function lt(s,o,u){if(s.tag===3)Cv(s,s,u);else for(;o!==null;){if(o.tag===3){Cv(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))){s=ea(u,s),s=q0(o,s,1),o=js(o,s,1),s=en(),o!==null&&(Ii(o,1,s),ln(o,s));break}}o=o.return}}function jA(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=en(),s.pingedLanes|=s.suspendedLanes&u,Pt===s&&(jt&u)===u&&(It===4||It===3&&(jt&130023424)===jt&&500>Xe()-Of?Fi(s,0):jf|=u),ln(s,o)}function Pv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Is,Is<<=1,(Is&130023424)===0&&(Is=4194304)));var u=en();s=Xr(s,o),s!==null&&(Ii(s,o,u),ln(s,u))}function OA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Pv(s,u)}function FA(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),Pv(s,u)}var bv;bv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||rn.current)on=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return on=!1,AA(s,o,u);on=(s.flags&131072)!==0}else on=!1,et&&(o.flags&1048576)!==0&&l0(o,vc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Dc(s,o),s=o.pendingProps;var m=qo(o,$t.current);Jo(o,u),m=mf(null,o,d,s,m,u);var v=gf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sn(d)?(v=!0,mc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lf(o),m.updater=kc,o.stateNode=m,m._reactInternals=o,Ef(o,d,s,u),o=Af(null,o,d,!0,v,u)):(o.tag=0,et&&v&&Xd(o),Zt(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Dc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=BA(d),s=Gn(d,s),m){case 0:o=If(null,o,d,s,u);break e;case 1:o=tv(null,o,d,s,u);break e;case 11:o=Y0(null,o,d,s,u);break e;case 14:o=X0(null,o,d,Gn(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),If(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),tv(s,o,d,m,u);case 3:e:{if(nv(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,y0(s,o),Sc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ea(Error(n(423)),o),o=rv(s,o,d,u,m);break e}else if(d!==m){m=ea(Error(n(424)),o),o=rv(s,o,d,u,m);break e}else for(wn=Ns(o.stateNode.containerInfo.firstChild),vn=o,et=!0,Kn=null,u=m0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),d===m){o=Zr(s,o,u);break e}Zt(s,o,d,u)}o=o.child}return o;case 5:return _0(o),s===null&&ef(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,T=m.children,Hd(d,m)?T=null:v!==null&&Hd(d,v)&&(o.flags|=32),ev(s,o),Zt(s,o,T,u),o.child;case 6:return s===null&&ef(o),null;case 13:return sv(s,o,u);case 4:return uf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Yo(o,null,d,u):Zt(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),Y0(s,o,d,m,u);case 7:return Zt(s,o,o.pendingProps,u),o.child;case 8:return Zt(s,o,o.pendingProps.children,u),o.child;case 12:return Zt(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Qe(xc,d._currentValue),d._currentValue=T,v!==null)if(qn(v.value,T)){if(v.children===m.children&&!rn.current){o=Zr(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){T=v.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Jr(-1,u&-u),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),of(v.return,u,o),k.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),of(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Zt(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Jo(o,u),m=bn(m),d=d(m),o.flags|=1,Zt(s,o,d,u),o.child;case 14:return d=o.type,m=Gn(d,o.pendingProps),m=Gn(d.type,m),X0(s,o,d,m,u);case 15:return J0(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),Dc(s,o),o.tag=1,sn(d)?(s=!0,mc(o)):s=!1,Jo(o,u),$0(o,d,m),Ef(o,d,m,u),Af(null,o,d,!0,s,u);case 19:return ov(s,o,u);case 22:return Z0(s,o,u)}throw Error(n(156,o.tag))};function Rv(s,o){return Ja(s,o)}function UA(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,o,u,d){return new UA(s,o,u,d)}function qf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function BA(s){if(typeof s=="function")return qf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===ct)return 14}return 2}function $s(s,o){var u=s.alternate;return u===null?(u=Nn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Wc(s,o,u,d,m,v){var T=2;if(d=s,typeof s=="function")qf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case C:return Bi(u.children,m,v,o);case I:T=8,m|=8;break;case P:return s=Nn(12,u,o,m|2),s.elementType=P,s.lanes=v,s;case N:return s=Nn(13,u,o,m),s.elementType=N,s.lanes=v,s;case We:return s=Nn(19,u,o,m),s.elementType=We,s.lanes=v,s;case Ae:return Hc(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:T=10;break e;case L:T=9;break e;case z:T=11;break e;case ct:T=14;break e;case Dt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Nn(T,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function Bi(s,o,u,d){return s=Nn(7,s,d,o),s.lanes=u,s}function Hc(s,o,u,d){return s=Nn(22,s,d,o),s.elementType=Ae,s.lanes=u,s.stateNode={isHidden:!1},s}function Kf(s,o,u){return s=Nn(6,s,null,o),s.lanes=u,s}function Gf(s,o,u){return o=Nn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function zA(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Qf(s,o,u,d,m,v,T,k,M){return s=new zA(s,o,u,k,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Nn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(v),s}function $A(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function kv(s){if(!s)return Vs;s=s._reactInternals;e:{if(Wn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(sn(u))return i0(s,u,o)}return o}function Nv(s,o,u,d,m,v,T,k,M){return s=Qf(u,d,!0,s,m,v,T,k,M),s.context=kv(null),u=s.current,d=en(),m=Bs(u),v=Jr(d,m),v.callback=o??null,js(u,v,m),s.current.lanes=m,Ii(s,m,d),ln(s,d),s}function qc(s,o,u,d){var m=o.current,v=en(),T=Bs(m);return u=kv(u),o.context===null?o.context=u:o.pendingContext=u,o=Jr(v,T),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=js(m,o,T),s!==null&&(Xn(s,m,T,v),Tc(s,m,T)),T}function Kc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Dv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Yf(s,o){Dv(s,o),(s=s.alternate)&&Dv(s,o)}function WA(){return null}var Vv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xf(s){this._internalRoot=s}Gc.prototype.render=Xf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));qc(s,o,null,null)},Gc.prototype.unmount=Xf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Oi(function(){qc(null,s,null,null)}),o[Kr]=null}};function Gc(s){this._internalRoot=s}Gc.prototype.unstable_scheduleHydration=function(s){if(s){var o=al();s={blockedOn:null,target:s,priority:o};for(var u=0;u<pn.length&&o!==0&&o<pn[u].priority;u++);pn.splice(u,0,s),u===0&&Ro(s)}};function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Qc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function HA(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var q=Kc(T);v.call(q)}}var T=Nv(o,d,s,0,null,!1,!1,"",Lv);return s._reactRootContainer=T,s[Kr]=T.current,wl(s.nodeType===8?s.parentNode:s),Oi(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var q=Kc(M);k.call(q)}}var M=Qf(s,0,!1,null,null,!1,!1,"",Lv);return s._reactRootContainer=M,s[Kr]=M.current,wl(s.nodeType===8?s.parentNode:s),Oi(function(){qc(o,M,u,d)}),M}function Yc(s,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var k=m;m=function(){var M=Kc(T);k.call(M)}}qc(o,T,s,m)}else T=HA(u,o,s,m,d);return Kc(T)}il=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Be(o.pendingLanes);u!==0&&(sl(o,u|1),ln(o,Xe()),(Fe&6)===0&&(ra=Xe()+500,Ls()))}break;case 13:Oi(function(){var d=Xr(s,1);if(d!==null){var m=en();Xn(d,s,1,m)}}),Yf(s,1)}},Po=function(s){if(s.tag===13){var o=Xr(s,134217728);if(o!==null){var u=en();Xn(o,s,134217728,u)}Yf(s,134217728)}},ol=function(s){if(s.tag===13){var o=Bs(s),u=Xr(s,o);if(u!==null){var d=en();Xn(u,s,o,d)}Yf(s,o)}},al=function(){return Le},ll=function(s,o){var u=Le;try{return Le=s,o()}finally{Le=u}},jr=function(s,o,u){switch(o){case"input":if(mi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=fc(d);if(!m)throw Error(n(90));$a(d),mi(d,m)}}}break;case"textarea":Ou(s,u);break;case"select":o=u.value,o!=null&&zn(s,!!u.multiple,o,!1)}},Bu=$f,zu=Oi;var qA={usingClientEntryPoint:!1,Events:[El,Wo,fc,xs,Es,$f]},Ml={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KA={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qu(s),s===null?null:s.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||WA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{xi=Xc.inject(KA),dn=Xc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA,un.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(o))throw Error(n(200));return $A(s,o,null,u)},un.createRoot=function(s,o){if(!Jf(s))throw Error(n(299));var u=!1,d="",m=Vv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Qf(s,1,!1,null,null,u,!1,d,m),s[Kr]=o.current,wl(s.nodeType===8?s.parentNode:s),new Xf(o)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Qu(o),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return Oi(s)},un.hydrate=function(s,o,u){if(!Qc(o))throw Error(n(200));return Yc(null,s,o,!0,u)},un.hydrateRoot=function(s,o,u){if(!Jf(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=Vv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Nv(o,null,s,1,u??null,m,!1,v,T),s[Kr]=o.current,wl(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Gc(o)},un.render=function(s,o,u){if(!Qc(o))throw Error(n(200));return Yc(null,s,o,!1,u)},un.unmountComponentAtNode=function(s){if(!Qc(s))throw Error(n(40));return s._reactRootContainer?(Oi(function(){Yc(null,null,s,!1,function(){s._reactRootContainer=null,s[Kr]=null})}),!0):!1},un.unstable_batchedUpdates=$f,un.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!Qc(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Yc(s,o,u,!1,d)},un.version="18.3.1-next-f1338f8080-20240426",un}var $v;function n2(){if($v)return tp.exports;$v=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=t2(),tp.exports}var Wv;function r2(){if(Wv)return Jc;Wv=1;var t=n2();return Jc.createRoot=t.createRoot,Jc.hydrateRoot=t.hydrateRoot,Jc}var s2=r2();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function i2(t={}){function e(i,a){let{pathname:l="/",search:h="",hash:f=""}=lo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Mp("",{pathname:l,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),h="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof a=="string"?a:su(a))}function r(i,a){Un(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return a2(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o2(){return Math.random().toString(36).substring(2,10)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||r||o2()}}function su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function a2(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let b=g(),F=b==null?null:b-p;p=b,f&&f({action:h,location:j.location,delta:F})}function E(b,F){h="PUSH";let B=Mp(j.location,b,F);n&&n(B,b),p=g()+1;let G=qv(B,p),se=j.createHref(B);try{l.pushState(G,"",se)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(se)}a&&f&&f({action:h,location:j.location,delta:1})}function A(b,F){h="REPLACE";let B=Mp(j.location,b,F);n&&n(B,b),p=g();let G=qv(B,p),se=j.createHref(B);l.replaceState(G,"",se),a&&f&&f({action:h,location:j.location,delta:0})}function V(b){return l2(b)}let j={get action(){return h},get location(){return t(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Hv,_),f=b,()=>{i.removeEventListener(Hv,_),f=null}},createHref(b){return e(i,b)},createURL:V,encodeLocation(b){let F=V(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:A,go(b){return l.go(b)}};return j}function l2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:su(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Gx(t,e,n="/"){return u2(t,e,n,!1)}function u2(t,e,n,r){let i=typeof e=="string"?lo(e):e,a=as(i.pathname||"/",n);if(a==null)return null;let l=Qx(t);c2(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=x2(a);h=w2(l[f],p,r)}return h}function Qx(t,e=[],n=[],r="",i=!1){let a=(l,h,f=i,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;nt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=ss([r,g.relativePath]),E=n.concat(g);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Qx(l.children,e,E,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:y2(_,l.index),routesMeta:E})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let f of Yx(l.path))a(l,h,!0,f)}),e}function Yx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Yx(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function c2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h2=/^:[\w-]+$/,d2=3,f2=2,p2=1,m2=10,g2=-2,Kv=t=>t==="*";function y2(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=g2),e&&(r+=f2),n.filter(i=>!Kv(i)).reduce((i,a)=>i+(h2.test(a)?d2:a===""?p2:m2),r)}function v2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function w2(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:ss([a,_.pathname]),pathnameBase:I2(ss([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ss([a,_.pathnameBase]))}return l}function Ah(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let V=h[E]||"";l=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[g]=void 0:p[g]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function _2(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function as(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E2(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:T2(n,e):e,search:A2(r),hash:C2(i)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dm(t){let e=S2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vm(t,e,n,r=!1){let i;typeof t=="string"?i=lo(t):(i={...t},nt(!i.pathname||!i.pathname.includes("?"),sp("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),sp("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),sp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=E2(i,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ss=t=>t.join("/").replace(/\/\/+/g,"/"),I2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,C2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var b2=["GET",...Xx];new Set(b2);var ba=R.createContext(null);ba.displayName="DataRouter";var td=R.createContext(null);td.displayName="DataRouterState";R.createContext(!1);var Jx=R.createContext({isTransitioning:!1});Jx.displayName="ViewTransition";var R2=R.createContext(new Map);R2.displayName="Fetchers";var k2=R.createContext(null);k2.displayName="Await";var ir=R.createContext(null);ir.displayName="Navigation";var xu=R.createContext(null);xu.displayName="Location";var or=R.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Lm=R.createContext(null);Lm.displayName="RouteError";function N2(t,{relative:e}={}){nt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ir),{hash:i,pathname:a,search:l}=Eu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ss([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Ra(){return R.useContext(xu)!=null}function Mr(){return nt(Ra(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(xu).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e1(t){R.useContext(ir).static||R.useLayoutEffect(t)}function uo(){let{isDataRoute:t}=R.useContext(or);return t?q2():D2()}function D2(){nt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ba),{basename:e,navigator:n}=R.useContext(ir),{matches:r}=R.useContext(or),{pathname:i}=Mr(),a=JSON.stringify(Dm(r)),l=R.useRef(!1);return e1(()=>{l.current=!0}),R.useCallback((f,p={})=>{if(Un(l.current,Zx),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=Vm(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ss([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}R.createContext(null);function V2(){let{matches:t}=R.useContext(or),e=t[t.length-1];return e?e.params:{}}function Eu(t,{relative:e}={}){let{matches:n}=R.useContext(or),{pathname:r}=Mr(),i=JSON.stringify(Dm(n));return R.useMemo(()=>Vm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function L2(t,e){return t1(t,e)}function t1(t,e,n,r,i){nt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(ir),{matches:l}=R.useContext(or),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";n1(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Mr(),A;if(e){let B=typeof e=="string"?lo(e):e;nt(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=E;let V=A.pathname||"/",j=V;if(g!=="/"){let B=g.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(B.length).join("/")}let b=Gx(t,{pathname:j});Un(_||b!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Un(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=U2(b&&b.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:ss([g,a.encodeLocation?a.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:ss([g,a.encodeLocation?a.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),l,n,r,i);return e&&F?R.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function M2(){let t=H2(),e=P2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,l)}var j2=R.createElement(M2,null),O2=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(or.Provider,{value:this.props.routeContext},R.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F2({routeContext:t,match:e,children:n}){let r=R.useContext(ba);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(or.Provider,{value:t},n)}function U2(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:_,errors:E}=n,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let E,A=!1,V=null,j=null;n&&(E=l&&g.route.id?l[g.route.id]:void 0,V=g.route.errorElement||j2,h&&(f<0&&_===0?(n1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):f===_&&(A=!0,j=g.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,_+1)),F=()=>{let B;return E?B=V:A?B=j:g.route.Component?B=R.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,R.createElement(F2,{match:g,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?R.createElement(O2,{location:n.location,revalidation:n.revalidation,component:V,error:E,children:F(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):F()},null)}function Mm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(t){let e=R.useContext(ba);return nt(e,Mm(t)),e}function z2(t){let e=R.useContext(td);return nt(e,Mm(t)),e}function $2(t){let e=R.useContext(or);return nt(e,Mm(t)),e}function jm(t){let e=$2(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function W2(){return jm("useRouteId")}function H2(){let t=R.useContext(Lm),e=z2("useRouteError"),n=jm("useRouteError");return t!==void 0?t:e.errors?.[n]}function q2(){let{router:t}=B2("useNavigate"),e=jm("useNavigate"),n=R.useRef(!1);return e1(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{Un(n.current,Zx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Gv={};function n1(t,e,n){!e&&!Gv[t]&&(Gv[t]=!0,Un(!1,n))}R.memo(K2);function K2({routes:t,future:e,state:n,unstable_onError:r}){return t1(t,void 0,n,r,e)}function G2({to:t,replace:e,state:n,relative:r}){nt(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(ir);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(or),{pathname:l}=Mr(),h=uo(),f=Vm(t,Dm(a),l,r==="path"),p=JSON.stringify(f);return R.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function $i(t){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){nt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=lo(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,A=R.useMemo(()=>{let V=as(f,l);return V==null?null:{location:{pathname:V,search:p,hash:g,state:_,key:E},navigationType:r}},[l,f,p,g,_,E,r]);return Un(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(ir.Provider,{value:h},R.createElement(xu.Provider,{children:e,value:A}))}function Y2({children:t,location:e}){return L2(jp(t),e)}function jp(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,jp(r.props.children,a));return}nt(r.type===$i,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=jp(r.props.children,a)),n.push(l)}),n}var ch="get",hh="application/x-www-form-urlencoded";function nd(t){return t!=null&&typeof t.tagName=="string"}function X2(t){return nd(t)&&t.tagName.toLowerCase()==="button"}function J2(t){return nd(t)&&t.tagName.toLowerCase()==="form"}function Z2(t){return nd(t)&&t.tagName.toLowerCase()==="input"}function eC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tC(t,e){return t.button===0&&(!e||e==="_self")&&!eC(t)}var Zc=null;function nC(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var rC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(t){return t!=null&&!rC.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):t}function sC(t,e){let n,r,i,a,l;if(J2(t)){let h=t.getAttribute("action");r=h?as(h,e):null,n=t.getAttribute("method")||ch,i=ip(t.getAttribute("enctype"))||hh,a=new FormData(t)}else if(X2(t)||Z2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?as(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ch,i=ip(t.getAttribute("formenctype"))||ip(h.getAttribute("enctype"))||hh,a=new FormData(h,t),!nC()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,r=null,i=hh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Om(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&as(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lC(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await oC(a,n);return l.links?l.links():[]}return[]}));return dC(r.flat(1).filter(aC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Qv(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function uC(t,e,{includeHydrateFallback:n}={}){return cC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function cC(t){return[...new Set(t)]}function hC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(hC(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function r1(){let t=R.useContext(ba);return Om(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fC(){let t=R.useContext(td);return Om(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fm=R.createContext(void 0);Fm.displayName="FrameworkContext";function s1(){let t=R.useContext(Fm);return Om(t,"You must render this element inside a <HydratedRouter> element"),t}function pC(t,e){let n=R.useContext(Fm),[r,i]=R.useState(!1),[a,l]=R.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let j=F=>{F.forEach(B=>{l(B.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[t]),R.useEffect(()=>{if(r){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[r]);let A=()=>{i(!0)},V=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ol(h,A),onBlur:Ol(f,V),onMouseEnter:Ol(p,A),onMouseLeave:Ol(g,V),onTouchStart:Ol(_,A)}]:[!1,E,{}]}function Ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mC({page:t,...e}){let{router:n}=r1(),r=R.useMemo(()=>Gx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(yC,{page:t,matches:r,...e}):null}function gC(t){let{manifest:e,routeModules:n}=s1(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return lC(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function yC({page:t,matches:e,...n}){let r=Mr(),{manifest:i,routeModules:a}=s1(),{basename:l}=r1(),{loaderData:h,matches:f}=fC(),p=R.useMemo(()=>Qv(t,e,f,i,r,"data"),[t,e,f,i,r]),g=R.useMemo(()=>Qv(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let V=new Set,j=!1;if(e.forEach(F=>{let B=i.routes[F.route.id];!B||!B.hasLoader||(!p.some(G=>G.route.id===F.route.id)&&F.route.id in h&&a[F.route.id]?.shouldRevalidate||B.hasClientLoader?j=!0:V.add(F.route.id))}),V.size===0)return[];let b=iC(t,l,"data");return j&&V.size>0&&b.searchParams.set("_routes",e.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[b.pathname+b.search]},[l,h,r,i,p,e,t,a]),E=R.useMemo(()=>uC(g,i),[g,i]),A=gC(g);return R.createElement(R.Fragment,null,_.map(V=>R.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),E.map(V=>R.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),A.map(({key:V,link:j})=>R.createElement("link",{key:V,nonce:n.nonce,...j})))}function vC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i1&&(window.__reactRouterVersion="7.9.4")}catch{}function wC({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=i2({window:n,v5Compat:!0}));let i=r.current,[a,l]=R.useState({action:i.action,location:i.location}),h=R.useCallback(f=>{R.startTransition(()=>l(f))},[l]);return R.useLayoutEffect(()=>i.listen(h),[i,h]),R.createElement(Q2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},A){let{basename:V}=R.useContext(ir),j=typeof p=="string"&&o1.test(p),b,F=!1;if(typeof p=="string"&&j&&(b=p,i1))try{let P=new URL(window.location.href),D=p.startsWith("//")?new URL(P.protocol+p):new URL(p),L=as(D.pathname,V);D.origin===P.origin&&L!=null?p=L+D.search+D.hash:F=!0}catch{Un(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=N2(p,{relative:i}),[G,se,ne]=pC(r,E),X=TC(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function C(P){e&&e(P),P.defaultPrevented||X(P)}let I=R.createElement("a",{...E,...ne,href:b||B,onClick:F||a?e:C,ref:vC(A,se),target:f,"data-discover":!j&&n==="render"?"true":void 0});return G&&!j?R.createElement(R.Fragment,null,I,R.createElement(mC,{page:B})):I});xn.displayName="Link";var _C=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},g){let _=Eu(l,{relative:p.relative}),E=Mr(),A=R.useContext(td),{navigator:V,basename:j}=R.useContext(ir),b=A!=null&&PC(_)&&h===!0,F=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,B=E.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(B=B.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&j&&(G=as(G,j)||G);const se=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=B===F||!i&&B.startsWith(F)&&B.charAt(se)==="/",X=G!=null&&(G===F||!i&&G.startsWith(F)&&G.charAt(F.length)==="/"),C={isActive:ne,isPending:X,isTransitioning:b},I=ne?e:void 0,P;typeof r=="function"?P=r(C):P=[r,ne?"active":null,X?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(C):a;return R.createElement(xn,{...p,"aria-current":I,className:P,ref:g,style:D,to:l,viewTransition:h},typeof f=="function"?f(C):f)});_C.displayName="NavLink";var xC=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=ch,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},A)=>{let V=AC(),j=CC(h,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&o1.test(h),B=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let se=G.nativeEvent.submitter,ne=se?.getAttribute("formmethod")||l;V(se||G.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return R.createElement("form",{ref:A,method:b,action:j,onSubmit:r?f:B,...E,"data-discover":!F&&t==="render"?"true":void 0})});xC.displayName="Form";function EC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=R.useContext(ba);return nt(e,EC(t)),e}function TC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=uo(),f=Mr(),p=Eu(t,{relative:a});return R.useCallback(g=>{if(tC(g,e)){g.preventDefault();let _=n!==void 0?n:su(f)===su(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var SC=0,IC=()=>`__${String(++SC)}__`;function AC(){let{router:t}=a1("useSubmit"),{basename:e}=R.useContext(ir),n=W2();return R.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=sC(r,e);if(i.navigate===!1){let g=i.fetcherKey||IC();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function CC(t,{relative:e}={}){let{basename:n}=R.useContext(ir),r=R.useContext(or);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Eu(t||".",{relative:e})},l=Mr();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ss([n,a.pathname])),su(a)}function PC(t,{relative:e}={}){let n=R.useContext(Jx);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=a1("useViewTransitionState"),i=Eu(t,{relative:e});if(!n.isTransitioning)return!1;let a=as(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=as(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(i.pathname,l)!=null||Ah(i.pathname,a)!=null}const bC=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;f||(A=64,l||(E=64)),r.push(n[g],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new kC;const E=a<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const V=p<<6&192|_;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NC=function(t){const e=l1(t);return u1.encodeByteArray(e,!0)},Ch=function(t){return NC(t).replace(/\./g,"")},c1=function(t){try{return u1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=()=>DC().__FIREBASE_DEFAULTS__,LC=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return bC()||VC()||LC()||MC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h1=t=>rd()?.emulatorHosts?.[t],jC=t=>{const e=h1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d1=()=>rd()?.config,f1=t=>rd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(l)),""].join(".")}const Kl={};function UC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?t.emulator.push(e):t.prod.push(e);return t}function BC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xv=!1;function m1(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Kl[t]===e||Kl[t]||Xv)return;Kl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=UC().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Xv=!0,l()},E}function g(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=BC(r),A=n("text"),V=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),b=document.getElementById(j)||document.createElement("a"),F=n("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),g(b,j);const se=p();f(B,F),G.append(B,V,b,se),document.body.appendChild(G)}a?(V.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function $C(){const t=rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function GC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QC,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?YC(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new ar(i,h,r)}}function YC(t,e){return t.replace(XC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XC=/\{\$([^}]+)}/g;function JC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Jv(a)&&Jv(l)){if(!ti(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZC(t,e){const n=new eP(t,e);return n.subscribe.bind(n)}class eP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=1e3,rP=2,sP=14400*1e3,iP=.5;function Zv(t,e=nP,n=rP){const r=e*Math.pow(n,t),i=Math.round(iP*r*(Math.random()-.5)*2);return Math.min(sP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lP(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aP(t){return t===Wi?void 0:t}function lP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const cP={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},hP=Ne.INFO,dP={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},fP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sd{constructor(e){this.name=e,this._logLevel=hP,this._logHandler=fP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const pP=(t,e)=>e.some(n=>t instanceof n);let ew,tw;function mP(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gP(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Op=new WeakMap,_1=new WeakMap,ap=new WeakMap,Um=new WeakMap;function yP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&w1.set(n,t)}).catch(()=>{}),Um.set(e,t),e}function vP(t){if(Op.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Op.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wP(t){Fp=t(Fp)}function _P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return _1.set(r,e.sort?e.sort():[e]),Xs(r)}:gP().includes(t)?function(...e){return t.apply(lp(this),e),Xs(w1.get(this))}:function(...e){return Xs(t.apply(lp(this),e))}}function xP(t){return typeof t=="function"?_P(t):(t instanceof IDBTransaction&&vP(t),pP(t,mP())?new Proxy(t,Fp):t)}function Xs(t){if(t instanceof IDBRequest)return yP(t);if(ap.has(t))return ap.get(t);const e=xP(t);return e!==t&&(ap.set(t,e),Um.set(e,t)),e}const lp=t=>Um.get(t);function x1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Xs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Xs(l.result),f.oldVersion,f.newVersion,Xs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const EP=["get","getKey","getAll","getAllKeys","count"],TP=["put","add","delete","clear"],up=new Map;function nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EP.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return up.set(e,a),a}wP(t=>({...t,get:(e,n,r)=>nw(e,n)||t.get(e,n,r),has:(e,n)=>!!nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IP(t){return t.getComponent()?.type==="VERSION"}const Up="@firebase/app",rw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new sd("@firebase/app"),AP="@firebase/app-compat",CP="@firebase/analytics-compat",PP="@firebase/analytics",bP="@firebase/app-check-compat",RP="@firebase/app-check",kP="@firebase/auth",NP="@firebase/auth-compat",DP="@firebase/database",VP="@firebase/data-connect",LP="@firebase/database-compat",MP="@firebase/functions",jP="@firebase/functions-compat",OP="@firebase/installations",FP="@firebase/installations-compat",UP="@firebase/messaging",BP="@firebase/messaging-compat",zP="@firebase/performance",$P="@firebase/performance-compat",WP="@firebase/remote-config",HP="@firebase/remote-config-compat",qP="@firebase/storage",KP="@firebase/storage-compat",GP="@firebase/firestore",QP="@firebase/ai",YP="@firebase/firestore-compat",XP="firebase",JP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",ZP={[Up]:"fire-core",[AP]:"fire-core-compat",[PP]:"fire-analytics",[CP]:"fire-analytics-compat",[RP]:"fire-app-check",[bP]:"fire-app-check-compat",[kP]:"fire-auth",[NP]:"fire-auth-compat",[DP]:"fire-rtdb",[VP]:"fire-data-connect",[LP]:"fire-rtdb-compat",[MP]:"fire-fn",[jP]:"fire-fn-compat",[OP]:"fire-iid",[FP]:"fire-iid-compat",[UP]:"fire-fcm",[BP]:"fire-fcm-compat",[zP]:"fire-perf",[$P]:"fire-perf-compat",[WP]:"fire-rc",[HP]:"fire-rc-compat",[qP]:"fire-gcs",[KP]:"fire-gcs-compat",[GP]:"fire-fst",[YP]:"fire-fst-compat",[QP]:"fire-vertex","fire-js":"fire-js",[XP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,eb=new Map,zp=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(zp.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of Ph.values())sw(n,t);for(const n of eb.values())sw(n,t);return!0}function ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new co("app","Firebase",tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=JP;function E1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Js.create("bad-app-name",{appName:String(i)});if(n||(n=d1()),!n)throw Js.create("no-options");const a=Ph.get(i);if(a){if(ti(n,a.options)&&ti(r,a.config))return a;throw Js.create("duplicate-app",{appName:i})}const l=new uP(i);for(const f of zp.values())l.addComponent(f);const h=new nb(n,r,l);return Ph.set(i,h),h}function Bm(t=Bp){const e=Ph.get(t);if(!e&&t===Bp&&d1())return E1();if(!e)throw Js.create("no-app",{appName:t});return e}function On(t,e,n){let r=ZP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(l.join(" "));return}Vr(new rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firebase-heartbeat-database",sb=1,iu="firebase-heartbeat-store";let cp=null;function T1(){return cp||(cp=x1(rb,sb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Js.create("idb-open",{originalErrorMessage:t.message})})),cp}async function ib(t){try{const n=(await T1()).transaction(iu),r=await n.objectStore(iu).get(S1(t));return await n.done,r}catch(e){if(e instanceof ar)ls.warn(e.message);else{const n=Js.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function iw(t,e){try{const r=(await T1()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,S1(t)),await r.done}catch(n){if(n instanceof ar)ls.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});ls.warn(r.message)}}}function S1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=1024,ab=30;class lb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ow();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ab){const i=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ow(),{heartbeatsToSend:n,unsentEntries:r}=ub(this._heartbeatsCache.heartbeats),i=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ls.warn(e),""}}}function ow(){return new Date().toISOString().substring(0,10)}function ub(t,e=ob){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),aw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ib(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aw(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}function hb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){Vr(new rr("platform-logger",e=>new SP(e),"PRIVATE")),Vr(new rr("heartbeat",e=>new lb(e),"PRIVATE")),On(Up,rw,t),On(Up,rw,"esm2020"),On("fire-js","")}db("");var fb="firebase",pb="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(fb,pb,"app");const I1="@firebase/installations",zm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1e4,C1=`w:${zm}`,P1="FIS_v2",mb="https://firebaseinstallations.googleapis.com/v1",gb=3600*1e3,yb="installations",vb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eo=new co(yb,vb,wb);function b1(t){return t instanceof ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1({projectId:t}){return`${mb}/projects/${t}/installations`}function k1(t){return{token:t.token,requestStatus:2,expiresIn:xb(t.expiresIn),creationTime:Date.now()}}async function N1(t,e){const r=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function D1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _b(t,{refreshToken:e}){const n=D1(t);return n.append("Authorization",Eb(e)),n}async function V1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xb(t){return Number(t.replace("s","000"))}function Eb(t){return`${P1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=R1(t),i=D1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:n,authVersion:P1,appId:t.appId,sdkVersion:C1},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await V1(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:k1(p.authToken)}}else throw await N1("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=/^[cdef][\w-]{21}$/,$p="";function Ab(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Cb(t);return Ib.test(n)?n:$p}catch{return $p}}function Cb(t){return Sb(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;function j1(t,e){const n=id(t);O1(n,e),Pb(n,e)}function O1(t,e){const n=M1.get(t);if(n)for(const r of n)r(e)}function Pb(t,e){const n=bb();n&&n.postMessage({key:t,fid:e}),Rb()}let qi=null;function bb(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{O1(t.data.key,t.data.fid)}),qi}function Rb(){M1.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-installations-database",Nb=1,to="firebase-installations-store";let hp=null;function $m(){return hp||(hp=x1(kb,Nb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),hp}async function bh(t,e){const n=id(t),i=(await $m()).transaction(to,"readwrite"),a=i.objectStore(to),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&j1(t,e.fid),e}async function F1(t){const e=id(t),r=(await $m()).transaction(to,"readwrite");await r.objectStore(to).delete(e),await r.done}async function od(t,e){const n=id(t),i=(await $m()).transaction(to,"readwrite"),a=i.objectStore(to),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&j1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t){let e;const n=await od(t.appConfig,r=>{const i=Db(r),a=Vb(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===$p?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Db(t){const e=t||{fid:Ab(),registrationStatus:0};return U1(e)}function Vb(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Lb(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mb(t)}:{installationEntry:e}}async function Lb(t,e){try{const n=await Tb(t,e);return bh(t.appConfig,n)}catch(n){throw b1(n)&&n.customData.serverCode===409?await F1(t.appConfig):await bh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Mb(t){let e=await lw(t.appConfig);for(;e.registrationStatus===1;)await L1(100),e=await lw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wm(t);return r||n}return e}function lw(t){return od(t,e=>{if(!e)throw eo.create("installation-not-found");return U1(e)})}function U1(t){return jb(t)?{fid:t.fid,registrationStatus:0}:t}function jb(t){return t.registrationStatus===1&&t.registrationTime+A1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob({appConfig:t,heartbeatServiceProvider:e},n){const r=Fb(t,n),i=_b(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:C1,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await V1(()=>fetch(r,h));if(f.ok){const p=await f.json();return k1(p)}else throw await N1("Generate Auth Token",f)}function Fb(t,{fid:e}){return`${R1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(t,e=!1){let n;const r=await od(t.appConfig,a=>{if(!B1(a))throw eo.create("not-registered");const l=a.authToken;if(!e&&zb(l))return a;if(l.requestStatus===1)return n=Ub(t,e),a;{if(!navigator.onLine)throw eo.create("app-offline");const h=Wb(a);return n=Bb(t,h),h}});return n?await n:r.authToken}async function Ub(t,e){let n=await uw(t.appConfig);for(;n.authToken.requestStatus===1;)await L1(100),n=await uw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Hm(t,e):r}function uw(t){return od(t,e=>{if(!B1(e))throw eo.create("not-registered");const n=e.authToken;return Hb(n)?{...e,authToken:{requestStatus:0}}:e})}async function Bb(t,e){try{const n=await Ob(t,e),r={...e,authToken:n};return await bh(t.appConfig,r),n}catch(n){if(b1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await F1(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bh(t.appConfig,r)}throw n}}function B1(t){return t!==void 0&&t.registrationStatus===2}function zb(t){return t.requestStatus===2&&!$b(t)}function $b(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gb}function Wb(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Hb(t){return t.requestStatus===1&&t.requestTime+A1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wm(e);return r?r.catch(console.error):Hm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(t,e=!1){const n=t;return await Gb(n),(await Hm(n,e)).token}async function Gb(t){const{registrationPromise:e}=await Wm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){if(!t||!t.options)throw dp("App Configuration");if(!t.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dp(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="installations",Yb="installations-internal",Xb=t=>{const e=t.getProvider("app").getImmediate(),n=Qb(e),r=ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Jb=t=>{const e=t.getProvider("app").getImmediate(),n=ho(e,z1).getImmediate();return{getId:()=>qb(n),getToken:i=>Kb(n,i)}};function Zb(){Vr(new rr(z1,Xb,"PUBLIC")),Vr(new rr(Yb,Jb,"PRIVATE"))}Zb();On(I1,zm);On(I1,zm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="analytics",eR="firebase_id",tR="origin",nR=60*1e3,rR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new co("analytics","Analytics",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){if(!t.startsWith(qm)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return nn.warn(e.message),""}return t}function $1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function aR(t,e){const n=oR("firebase-js-sdk-policy",{createScriptURL:iR}),r=document.createElement("script"),i=`${qm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function lR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uR(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await $1(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){nn.error(h)}t("config",i,a)}async function cR(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await $1(n);for(const f of l){const p=h.find(_=>_.measurementId===f),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){nn.error(a)}}function hR(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,f]=l;await cR(t,e,n,h,f)}else if(a==="config"){const[h,f]=l;await uR(t,e,n,r,h,f)}else if(a==="consent"){const[h,f]=l;t("consent",h,f)}else if(a==="get"){const[h,f,p]=l;t("get",h,f,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){nn.error(h)}}return i}function dR(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=hR(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function fR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=30,mR=1e3;class gR{constructor(e={},n=mR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const W1=new gR;function yR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function vR(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:yR(n)},i=rR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function wR(t,e=W1,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Tn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new ER;return setTimeout(async()=>{h.abort()},nR),H1({appId:r,apiKey:i,measurementId:a},l,h,e)}async function H1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=W1){const{appId:a,measurementId:l}=t;try{await _R(r,e)}catch(h){if(l)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await vR(t);return i.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!xR(f)){if(i.deleteThrottleMetadata(a),l)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:l};throw h}const p=Number(f?.customData?.httpStatus)===503?Zv(n,i.intervalMillis,pR):Zv(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,g),nn.debug(`Calling attemptFetch again in ${p} millis`),H1(t,g,r,i)}}function _R(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xR(t){if(!(t instanceof ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ER{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TR(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function SR(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(){if(y1())try{await v1()}catch(t){return nn.warn(Tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return nn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AR(t,e,n,r,i,a,l){const h=wR(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>nn.error(E)),e.push(h);const f=IR().then(E=>{if(E)return r.getId()}),[p,g]=await Promise.all([h,f]);fR(a)||aR(a,p.measurementId),i("js",new Date);const _=l?.config??{};return _[tR]="firebase",_.update=!0,g!=null&&(_[eR]=g),i("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.app=e}_delete(){return delete pa[this.app.options.appId],Promise.resolve()}}let pa={},cw=[];const hw={};let fp="dataLayer",PR="gtag",dw,Km,fw=!1;function bR(){const t=[];if(g1()&&t.push("This is a browser extension environment."),GC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});nn.warn(n.message)}}function RR(t,e,n){bR();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(pa[r]!=null)throw Tn.create("already-exists",{id:r});if(!fw){lR(fp);const{wrappedGtag:a,gtagCore:l}=dR(pa,cw,hw,fp,PR);Km=a,dw=l,fw=!0}return pa[r]=AR(t,cw,hw,e,dw,fp,n),new CR(t)}function kR(t=Bm()){t=Nt(t);const e=ho(t,Rh);return e.isInitialized()?e.getImmediate():NR(t)}function NR(t,e={}){const n=ho(t,Rh);if(n.isInitialized()){const i=n.getImmediate();if(ti(e,n.getOptions()))return i;throw Tn.create("already-initialized")}return n.initialize({options:e})}function DR(t,e,n){t=Nt(t),SR(Km,pa[t.app.options.appId],e,n).catch(r=>nn.error(r))}function VR(t,e,n,r){t=Nt(t),TR(Km,pa[t.app.options.appId],e,n,r).catch(i=>nn.error(i))}const pw="@firebase/analytics",mw="0.10.19";function LR(){Vr(new rr(Rh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return RR(r,i,n)},"PUBLIC")),Vr(new rr("analytics-internal",t,"PRIVATE")),On(pw,mw),On(pw,mw,"esm2020");function t(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(r,i,a)=>VR(n,r,i,a),setUserProperties:(r,i)=>DR(n,r,i)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}LR();function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MR=q1,K1=new co("auth","Firebase",q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new sd("@firebase/auth");function jR(t,...e){kh.logLevel<=Ne.WARN&&kh.warn(`Auth (${Na}): ${t}`,...e)}function dh(t,...e){kh.logLevel<=Ne.ERROR&&kh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw Qm(t,...e)}function tr(t,...e){return Qm(t,...e)}function Gm(t,e,n){const r={...MR(),[e]:n};return new co("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return Gm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),Gm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K1.create(t,...e)}function we(t,e,...n){if(!t)throw Qm(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function us(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){return typeof self<"u"&&self.location?.href||""}function FR(){return gw()==="http:"||gw()==="https:"}function gw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||g1()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=zC()||HC()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new Su(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hi(t,e,n,r,i={}){return Q1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Tu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return WC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(p.credentials="include"),G1.fetch()(await Y1(t,t.config.apiHost,n,h),p)})}async function Q1(t,e,n){t._canInitEmulator=!1;const r={...zR,...e};try{const i=new qR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw eh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw eh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gm(t,g,p);Bn(t,g)}}catch(i){if(i instanceof ar)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function Iu(t,e,n,r,i={}){const a=await hi(t,e,n,r,i);return"mfaPendingCredential"in a&&Bn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Y1(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Ym(t.config,i):`${t.config.apiScheme}://${i}`;return $R.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function HR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),WR.get())})}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(t,e,r);return i.customData._tokenResponse=n,i}function yw(t){return t!==void 0&&t.enterprise!==void 0}class KR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GR(t,e){return hi(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function Nh(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=Xm(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Gl(pp(i.auth_time)),issuedAtTime:Gl(pp(i.iat)),expirationTime:Gl(pp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function pp(t){return Number(t)*1e3}function Xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=c1(n);return i?JSON.parse(i):(dh("Failed to decode base64 JWT payload"),null)}catch(i){return dh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vw(t){const e=Xm(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&XR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){const e=t.auth,n=await t.getIdToken(),r=await ou(t,Nh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?X1(i.providerUserInfo):[],l=ek(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function ZR(t){const e=Nt(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ek(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t,e){const n=await Q1(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await Y1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(f.credentials="include"),G1.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nk(t,e){return hi(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await tk(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ma;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(we(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new JR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YR(this,e)}reload(){return ZR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await ou(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:V,stsTokenManager:j}=n;we(_&&j,e,"internal-error");const b=ma.fromJSON(this.name,j);we(typeof _=="string",e,"internal-error"),Hs(r,e.name),Hs(i,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),Hs(a,e.name),Hs(l,e.name),Hs(h,e.name),Hs(f,e.name),Hs(p,e.name),Hs(g,e.name);const F=new Zn({uid:_,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:g});return V&&Array.isArray(V)&&(F.providerData=V.map(B=>({...B}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const a=new Zn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?X1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new ma;h.updateFromIdToken(r);const f=new Zn({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;function rs(t){us(t instanceof Function,"Expected a class definition");let e=ww.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J1.type="NONE";const _w=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,a),this.fullPersistenceKey=fh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(rs(_w),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||rs(_w);const l=fh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const E=await Nh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await Zn._fromGetAccountInfoResponse(e,E,g)}else _=Zn._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ga(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(iE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Z1(t=Xt()){return/firefox\//i.test(t)}function eE(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(t=Xt()){return/crios\//i.test(t)}function nE(t=Xt()){return/iemobile/i.test(t)}function rE(t=Xt()){return/android/i.test(t)}function sE(t=Xt()){return/blackberry/i.test(t)}function iE(t=Xt()){return/webos/i.test(t)}function Jm(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rk(t=Xt()){return Jm(t)&&!!window.navigator?.standalone}function sk(){return qC()&&document.documentMode===10}function oE(t=Xt()){return Jm(t)||rE(t)||iE(t)||sE(t)||/windows phone/i.test(t)||nE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e=[]){let n;switch(t){case"Browser":n=xw(Xt());break;case"Worker":n=`${xw(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e={}){return hi(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=6;class lk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ak,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ew(this),this.idTokenSubscription=new Ew(this),this.beforeStateQueue=new ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(is(this));const n=e?Nt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ok(this),n=new lk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function di(t){return Nt(t)}class Ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ck(t){ad=t}function lE(t){return ad.loadJS(t)}function hk(){return ad.recaptchaEnterpriseScript}function dk(){return ad.gapiScript}function fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pk{constructor(){this.enterprise=new mk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gk="recaptcha-enterprise",uE="NO_RECAPTCHA";class yk{constructor(e){this.type=gk,this.auth=di(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{GR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new KR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;yw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(uE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&yw(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=hk();f.length!==0&&(f+=h),lE(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function Tw(t,e,n,r=!1,i=!1){const a=new yk(t);let l;if(i)l=uE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qp(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Tw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Tw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){const n=ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ti(a,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function wk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _k(t,e,n){const r=di(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cE(e),{host:l,port:h}=xk(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(ti(p,r.config.emulator)&&ti(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ka(l)?(p1(`${a}//${l}${f}`),m1("Auth",!0)):Ek()}function cE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xk(t){const e=cE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Sw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Sw(l)}}}function Sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ek(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Tk(t,e){return hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function Ak(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Zm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,n,"signInWithPassword",Sk);case"emailLink":return Ik(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",Tk);case"emailLink":return Ak(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="http://localhost";class no extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new no(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:Ck,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bk(t){const e=Ul(Bl(t)).link,n=e?Ul(Bl(e)).deep_link_id:null,r=Ul(Bl(t)).deep_link_id;return(r?Ul(Bl(r)).link:null)||r||n||e||t}class eg{constructor(e){const n=Ul(Bl(e)),r=n.apiKey??null,i=n.oobCode??null,a=Pk(n.mode??null);we(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bk(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return we(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Au{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Au{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Au{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e){return Iu(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Zn._fromIdTokenResponse(e,r,i),l=Iw(r);return new ro({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Iw(r);return new ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ar{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vh(e,n,r,i)}}function hE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(t,a,e,r):a})}async function kk(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(is(r));const i="reauthenticate";try{const a=await ou(t,hE(r,i,e,t),n);we(a.idToken,r,"internal-error");const l=Xm(a.idToken);we(l,r,"internal-error");const{sub:h}=l;return we(t.uid===h,r,"user-mismatch"),ro._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(t,e,n=!1){if(En(t.app))return Promise.reject(is(t));const r="signIn",i=await hE(t,r,e),a=await ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Dk(t,e){return dE(di(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(t){const e=di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pE(t,e,n){if(En(t.app))return Promise.reject(is(t));const r=di(t),l=await qp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&fE(t),f}),h=await ro._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function mE(t,e,n){return En(t.app)?Promise.reject(is(t)):Dk(Nt(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fE(t),r})}function Vk(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function Lk(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function ld(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function Mk(t){return Nt(t).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1e3,Ok=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);sk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ok):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const Fk=yE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vE.type="SESSION";const wE=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await Uk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=ng("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function zk(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function $k(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wk(){return navigator?.serviceWorker?.controller||null}function Hk(){return _E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",qk=1,Mh="firebaseLocalStorage",EE="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cd(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function Kk(){const t=indexedDB.deleteDatabase(xE);return new Cu(t).toPromise()}function Kp(){const t=indexedDB.open(xE,qk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mh,{keyPath:EE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await Kk(),e(await Kp()))})})}async function Aw(t,e,n){const r=cd(t,!0).put({[EE]:e,value:n});return new Cu(r).toPromise()}async function Gk(t,e){const n=cd(t,!1).get(e),r=await new Cu(n).toPromise();return r===void 0?null:r.value}function Cw(t,e){const n=cd(t,!0).delete(e);return new Cu(n).toPromise()}const Qk=800,Yk=3;class TE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(Hk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $k(),!this.activeServiceWorker)return;this.sender=new Bk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await Aw(e,Lh,"1"),await Cw(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=cd(i,!1).getAll();return new Cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TE.type="LOCAL";const Xk=TE;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){return e?rs(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jk(t){return dE(t.auth,new rg(t),t.bypassAuthState)}function Zk(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Nk(n,new rg(t),t.bypassAuthState)}async function eN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),kk(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jk;case"linkViaPopup":case"linkViaRedirect":return eN;case"reauthViaPopup":case"reauthViaRedirect":return Zk;default:Bn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Su(2e3,1e4);async function AE(t,e,n){if(En(t.app))return Promise.reject(tr(t,"operation-not-supported-in-this-environment"));const r=di(t);OR(t,e,tg);const i=SE(r,n);return new Ki(r,"signInViaPopup",e,i).executeNotNull()}class Ki extends IE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tN.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="pendingRedirect",ph=new Map;class rN extends IE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await sN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sN(t,e){const n=aN(e),r=oN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iN(t,e){ph.set(t._key(),e)}function oN(t){return rs(t._redirectPersistence)}function aN(t){return fh(nN,t.config.apiKey,t.name)}async function lN(t,e,n=!1){if(En(t.app))return Promise.reject(is(t));const r=di(t),i=SE(r,e),l=await new rN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=600*1e3;class cN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!CE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(tr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function mN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dN(t);for(const n of e)try{if(gN(n))return}catch{}Bn(t,"unauthorized-domain")}function gN(t){const e=Wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!pN.test(n))return!1;if(fN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Su(3e4,6e4);function bw(){const t=Cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vN(t){return new Promise((e,n)=>{function r(){bw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bw(),n(tr(t,"network-request-failed"))},timeout:yN.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)r();else{const i=fk("iframefcb");return Cr()[i]=()=>{gapi.load?r():n(tr(t,"network-request-failed"))},lE(`${dk()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw mh=null,e})}let mh=null;function wN(t){return mh=mh||vN(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Su(5e3,15e3),xN="__/auth/iframe",EN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,EN):`https://${t.config.authDomain}/${xN}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=SN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Tu(r).slice(1)}`}async function AN(t){const e=await wN(t),n=Cr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:IN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=tr(t,"network-request-failed"),h=Cr().setTimeout(()=>{a(l)},_N.get());function f(){Cr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PN=500,bN=600,RN="_blank",kN="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NN(t,e,n,r=PN,i=bN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...CN,width:r.toString(),height:i.toString(),top:a,left:l},p=Xt().toLowerCase();n&&(h=tE(p)?RN:n),Z1(p)&&(e=e||kN,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[A,V])=>`${E}${A}=${V},`,"");if(rk(p)&&h!=="_self")return DN(e||"",h),new Rw(null);const _=window.open(e||"",h,g);we(_,t,"popup-blocked");try{_.focus()}catch{}return new Rw(_)}function DN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",LN="emulator/auth/handler",MN=encodeURIComponent("fac");async function kw(t,e,n,r,i,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof tg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",JC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Au){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${MN}=${encodeURIComponent(f)}`:"";return`${jN(t)}?${Tu(h).slice(1)}${p}`}function jN({config:t}){return t.emulator?Ym(t,LN):`https://${t.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class ON{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wE,this._completeRedirectFn=lN,this._overrideRedirectResult=iN}async _openPopup(e,n,r,i){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await kw(e,n,r,Wp(),i);return NN(e,a,ng())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await kw(e,n,r,Wp(),i);return zk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(us(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AN(e),r=new cN(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},i=>{const a=i?.[0]?.[mp];a!==void 0&&n(!!a),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oE()||eE()||Jm()}}const FN=ON;var Nw="@firebase/auth",Dw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zN(t){Vr(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(t)},p=new uk(r,i,a,f);return wk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new rr("auth-internal",e=>{const n=di(e.getProvider("auth").getImmediate());return(r=>new UN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Nw,Dw,BN(t)),On(Nw,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=300,WN=f1("authIdTokenMaxAge")||$N;let Vw=null;const HN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WN)return;const i=n?.token;Vw!==i&&(Vw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qN(t=Bm()){const e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vk(t,{popupRedirectResolver:FN,persistence:[Xk,Fk,wE]}),r=f1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=HN(a.toString());Lk(n,l,()=>l(n.currentUser)),Vk(n,h=>l(h))}}const i=h1("auth");return i&&_k(n,`http://${i}`),n}function KN(){return document.getElementsByTagName("head")?.[0]??document}ck({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=tr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",KN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zN("Browser");var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,PE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function P(){}P.prototype=I.prototype,C.F=I.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(D,L,z){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return I.prototype[L].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,P){P||(P=0);const D=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)D[L]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(L=0;L<16;++L)D[L]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=C.g[0],P=C.g[1],L=C.g[2];let z=C.g[3],N;N=I+(z^P&(L^z))+D[0]+3614090360&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(L^I&(P^L))+D[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(P^z&(I^P))+D[2]+606105819&4294967295,L=z+(N<<17&4294967295|N>>>15),N=P+(I^L&(z^I))+D[3]+3250441966&4294967295,P=L+(N<<22&4294967295|N>>>10),N=I+(z^P&(L^z))+D[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(L^I&(P^L))+D[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(P^z&(I^P))+D[6]+2821735955&4294967295,L=z+(N<<17&4294967295|N>>>15),N=P+(I^L&(z^I))+D[7]+4249261313&4294967295,P=L+(N<<22&4294967295|N>>>10),N=I+(z^P&(L^z))+D[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(L^I&(P^L))+D[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(P^z&(I^P))+D[10]+4294925233&4294967295,L=z+(N<<17&4294967295|N>>>15),N=P+(I^L&(z^I))+D[11]+2304563134&4294967295,P=L+(N<<22&4294967295|N>>>10),N=I+(z^P&(L^z))+D[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(L^I&(P^L))+D[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(P^z&(I^P))+D[14]+2792965006&4294967295,L=z+(N<<17&4294967295|N>>>15),N=P+(I^L&(z^I))+D[15]+1236535329&4294967295,P=L+(N<<22&4294967295|N>>>10),N=I+(L^z&(P^L))+D[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^L&(I^P))+D[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^P&(z^I))+D[11]+643717713&4294967295,L=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(L^z))+D[0]+3921069994&4294967295,P=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(P^L))+D[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^L&(I^P))+D[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^P&(z^I))+D[15]+3634488961&4294967295,L=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(L^z))+D[4]+3889429448&4294967295,P=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(P^L))+D[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^L&(I^P))+D[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^P&(z^I))+D[3]+4107603335&4294967295,L=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(L^z))+D[8]+1163531501&4294967295,P=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(P^L))+D[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^L&(I^P))+D[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^P&(z^I))+D[7]+1735328473&4294967295,L=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(L^z))+D[12]+2368359562&4294967295,P=L+(N<<20&4294967295|N>>>12),N=I+(P^L^z)+D[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^L)+D[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^P)+D[11]+1839030562&4294967295,L=z+(N<<16&4294967295|N>>>16),N=P+(L^z^I)+D[14]+4259657740&4294967295,P=L+(N<<23&4294967295|N>>>9),N=I+(P^L^z)+D[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^L)+D[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^P)+D[7]+4139469664&4294967295,L=z+(N<<16&4294967295|N>>>16),N=P+(L^z^I)+D[10]+3200236656&4294967295,P=L+(N<<23&4294967295|N>>>9),N=I+(P^L^z)+D[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^L)+D[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^P)+D[3]+3572445317&4294967295,L=z+(N<<16&4294967295|N>>>16),N=P+(L^z^I)+D[6]+76029189&4294967295,P=L+(N<<23&4294967295|N>>>9),N=I+(P^L^z)+D[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^L)+D[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^P)+D[15]+530742520&4294967295,L=z+(N<<16&4294967295|N>>>16),N=P+(L^z^I)+D[2]+3299628645&4294967295,P=L+(N<<23&4294967295|N>>>9),N=I+(L^(P|~z))+D[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~L))+D[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~P))+D[14]+2878612391&4294967295,L=z+(N<<15&4294967295|N>>>17),N=P+(z^(L|~I))+D[5]+4237533241&4294967295,P=L+(N<<21&4294967295|N>>>11),N=I+(L^(P|~z))+D[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~L))+D[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~P))+D[10]+4293915773&4294967295,L=z+(N<<15&4294967295|N>>>17),N=P+(z^(L|~I))+D[1]+2240044497&4294967295,P=L+(N<<21&4294967295|N>>>11),N=I+(L^(P|~z))+D[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~L))+D[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~P))+D[6]+2734768916&4294967295,L=z+(N<<15&4294967295|N>>>17),N=P+(z^(L|~I))+D[13]+1309151649&4294967295,P=L+(N<<21&4294967295|N>>>11),N=I+(L^(P|~z))+D[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~L))+D[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~P))+D[2]+718787259&4294967295,L=z+(N<<15&4294967295|N>>>17),N=P+(z^(L|~I))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const P=I-this.blockSize,D=this.C;let L=this.h,z=0;for(;z<I;){if(L==0)for(;z<=P;)i(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<I;)if(D[L++]=C.charCodeAt(z++),L==this.blockSize){i(this,D),L=0;break}}else for(;z<I;)if(D[L++]=C[z++],L==this.blockSize){i(this,D),L=0;break}}this.h=L,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)C[I++]=this.g[P]>>>D&255;return C};function a(C,I){var P=h;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=I(C)}function l(C,I){this.h=I;const P=[];let D=!0;for(let L=C.length-1;L>=0;L--){const z=C[L]|0;D&&z==I||(P[L]=z,D=!1)}this.g=P}var h={};function f(C){return-128<=C&&C<128?a(C,function(I){return new l([I|0],I<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return b(p(-C));const I=[];let P=1;for(let D=0;C>=P;D++)I[D]=C/P|0,P*=4294967296;return new l(I,0)}function g(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return b(g(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(I,8));let D=_;for(let z=0;z<C.length;z+=8){var L=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+L),I);L<8?(L=p(Math.pow(I,L)),D=D.j(L).add(p(N))):(D=D.j(P),D=D.add(p(N)))}return D}var _=f(0),E=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(j(this))return-b(this).m();let C=0,I=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);C+=(D>=0?D:4294967296+D)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(j(this))return"-"+b(this).toString(C);const I=p(Math.pow(C,6));var P=this;let D="";for(;;){const L=se(P,I).g;P=F(P,L.j(I));let z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=L,V(P))return z+D;for(;z.length<6;)z="0"+z;D=z+D}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function j(C){return C.h==-1}t.l=function(C){return C=F(this,C),j(C)?-1:V(C)?0:1};function b(C){const I=C.g.length,P=[];for(let D=0;D<I;D++)P[D]=~C.g[D];return new l(P,~C.h).add(E)}t.abs=function(){return j(this)?b(this):this},t.add=function(C){const I=Math.max(this.g.length,C.g.length),P=[];let D=0;for(let L=0;L<=I;L++){let z=D+(this.i(L)&65535)+(C.i(L)&65535),N=(z>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);D=N>>>16,z&=65535,N&=65535,P[L]=N<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function F(C,I){return C.add(b(I))}t.j=function(C){if(V(this)||V(C))return _;if(j(this))return j(C)?b(this).j(b(C)):b(b(this).j(C));if(j(C))return b(this.j(b(C)));if(this.l(A)<0&&C.l(A)<0)return p(this.m()*C.m());const I=this.g.length+C.g.length,P=[];for(var D=0;D<2*I;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<C.g.length;L++){const z=this.i(D)>>>16,N=this.i(D)&65535,We=C.i(L)>>>16,ct=C.i(L)&65535;P[2*D+2*L]+=N*ct,B(P,2*D+2*L),P[2*D+2*L+1]+=z*ct,B(P,2*D+2*L+1),P[2*D+2*L+1]+=N*We,B(P,2*D+2*L+1),P[2*D+2*L+2]+=z*We,B(P,2*D+2*L+2)}for(C=0;C<I;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=I;C<2*I;C++)P[C]=0;return new l(P,0)};function B(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function G(C,I){this.g=C,this.h=I}function se(C,I){if(V(I))throw Error("division by zero");if(V(C))return new G(_,_);if(j(C))return I=se(b(C),I),new G(b(I.g),b(I.h));if(j(I))return I=se(C,b(I)),new G(b(I.g),I.h);if(C.g.length>30){if(j(C)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var P=E,D=I;D.l(C)<=0;)P=ne(P),D=ne(D);var L=X(P,1),z=X(D,1);for(D=X(D,2),P=X(P,2);!V(D);){var N=z.add(D);N.l(C)<=0&&(L=L.add(P),z=N),D=X(D,1),P=X(P,1)}return I=F(C,L.j(I)),new G(L,I)}for(L=_;C.l(I)>=0;){for(P=Math.max(1,Math.floor(C.m()/I.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),z=p(P),N=z.j(I);j(N)||N.l(C)>0;)P-=D,z=p(P),N=z.j(I);V(z)&&(z=E),L=L.add(z),C=F(C,N)}return new G(L,C)}t.B=function(C){return se(this,C).h},t.and=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)&C.i(D);return new l(P,this.h&C.h)},t.or=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)|C.i(D);return new l(P,this.h|C.h)},t.xor=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)^C.i(D);return new l(P,this.h^C.h)};function ne(C){const I=C.g.length+1,P=[];for(let D=0;D<I;D++)P[D]=C.i(D)<<1|C.i(D-1)>>>31;return new l(P,C.h)}function X(C,I){const P=I>>5;I%=32;const D=C.g.length-P,L=[];for(let z=0;z<D;z++)L[z]=I>0?C.i(z+P)>>>I|C.i(z+P+1)<<32-I:C.i(z+P);return new l(L,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Zs=l}).apply(typeof Lw<"u"?Lw:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,zl,RE,gh,Gp,kE,NE,DE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var w=0;w<c.length;++w){var x=c[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in x))break e;x=x[W]}c=c[c.length-1],S=x[c],w=w(S),w!=S&&w!=null&&e(x,c,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(w){var x=[],S;for(S in w)Object.prototype.hasOwnProperty.call(w,S)&&x.push([S,w[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,x){return c.call.apply(c.bind,arguments)}function p(c,w,x){return p=f,p.apply(null,arguments)}function g(c,w){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,w){function x(){}x.prototype=w.prototype,c.Z=w.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,W,K){for(var oe=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)oe[Se-2]=arguments[Se];return w.prototype[W].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const w=c.length;if(w>0){const x=Array(w);for(let S=0;S<w;S++)x[S]=c[S];return x}return[]}function V(c,w){for(let S=1;S<arguments.length;S++){const W=arguments[S];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=c.length||0;const K=W.length||0;c.length=x+K;for(let oe=0;oe<K;oe++)c[x+oe]=W[oe]}else c.push(W)}}class j{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(c){l.setTimeout(()=>{throw c},0)}function F(){var c=C;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,x){const S=G.get();S.set(w,x),this.h?this.h.next=S:this.g=S,this.h=S}}var G=new j(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,X=!1,C=new B,I=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(P)}};function P(){for(var c;c=F();){try{c.h.call(c.g)}catch(x){b(x)}var w=G;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}X=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function We(c,w){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}_(We,L),We.prototype.init=function(c,w){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(x=="mouseover"?w=c.fromElement:x=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Ae(c,w,x,S,W){this.listener=c,this.proxy=null,this.src=w,this.type=x,this.capture=!!S,this.ha=W,this.key=++Dt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,w,x){for(const S in c)w.call(x,c[S],S,c)}function ae(c,w){for(const x in c)w.call(void 0,c[x],x,c)}function U(c){const w={};for(const x in c)w[x]=c[x];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(c,w){let x,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(x in S)c[x]=S[x];for(let K=0;K<J.length;K++)x=J[K],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,w,x,S,W){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=ke(c,w,S,W);return oe>-1?(w=c[oe],x||(w.fa=!1)):(w=new Ae(w,this.src,K,!!S,W),w.fa=x,c.push(w)),w};function Re(c,w){const x=w.type;if(x in c.g){var S=c.g[x],W=Array.prototype.indexOf.call(S,w,void 0),K;(K=W>=0)&&Array.prototype.splice.call(S,W,1),K&&(re(w),c.g[x].length==0&&(delete c.g[x],c.h--))}}function ke(c,w,x,S){for(let W=0;W<c.length;++W){const K=c[W];if(!K.da&&K.listener==w&&K.capture==!!x&&K.ha==S)return W}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Oe={};function Ke(c,w,x,S,W){if(Array.isArray(w)){for(let K=0;K<w.length;K++)Ke(c,w[K],x,S,W);return null}return x=Wa(x),c&&c[ct]?c.J(w,x,h(S)?!!S.capture:!1,W):Jt(c,w,x,!1,S,W)}function Jt(c,w,x,S,W,K){if(!w)throw Error("Invalid event type");const oe=h(W)?!!W.capture:!!W;let Se=wo(c);if(Se||(c[ze]=Se=new Pe(c)),x=Se.add(w,x,S,oe,K),x.proxy)return x;if(S=yo(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)z||(W=oe),W===void 0&&(W=!1),c.addEventListener(w.toString(),S,W);else if(c.attachEvent)c.attachEvent(vo(w.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function yo(){function c(x){return w.call(c.src,c.listener,x)}const w=ju;return c}function $a(c,w,x,S,W){if(Array.isArray(w))for(var K=0;K<w.length;K++)$a(c,w[K],x,S,W);else S=h(S)?!!S.capture:!!S,x=Wa(x),c&&c[ct]?(c=c.i,K=String(w).toString(),K in c.g&&(w=c.g[K],x=ke(w,x,S,W),x>-1&&(re(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete c.g[K],c.h--)))):c&&(c=wo(c))&&(w=c.g[w.toString()],c=-1,w&&(c=ke(w,x,S,W)),(x=c>-1?w[c]:null)&&ms(x))}function ms(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[ct])Re(w.i,c);else{var x=c.type,S=c.proxy;w.removeEventListener?w.removeEventListener(x,S,c.capture):w.detachEvent?w.detachEvent(vo(x),S):w.addListener&&w.removeListener&&w.removeListener(S),(x=wo(w))?(Re(x,c),x.h==0&&(x.src=null,w[ze]=null)):re(c)}}}function vo(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function ju(c,w){if(c.da)c=!0;else{w=new We(w,this);const x=c.listener,S=c.ha||c.src;c.fa&&ms(c),c=x.call(S,w)}return c}function wo(c){return c=c[ze],c instanceof Pe?c:null}var mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(c){return typeof c=="function"?c:(c[mi]||(c[mi]=function(w){return c.handleEvent(w)}),c[mi])}function gt(){D.call(this),this.i=new Pe(this),this.M=this,this.G=null}_(gt,D),gt.prototype[ct]=!0,gt.prototype.removeEventListener=function(c,w,x,S){$a(this,c,w,x,S)};function ht(c,w){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=w.type||w,typeof w=="string")w=new L(w,c);else if(w instanceof L)w.target=w.target||c;else{var W=w;w=new L(S,c),Ce(w,W)}W=!0;let K,oe;if(x)for(oe=x.length-1;oe>=0;oe--)K=w.g=x[oe],W=zn(K,S,!0,w)&&W;if(K=w.g=c,W=zn(K,S,!0,w)&&W,W=zn(K,S,!1,w)&&W,x)for(oe=0;oe<x.length;oe++)K=w.g=x[oe],W=zn(K,S,!1,w)&&W}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const x=c.g[w];for(let S=0;S<x.length;S++)re(x[S]);delete c.g[w],c.h--}}this.G=null},gt.prototype.J=function(c,w,x,S){return this.i.add(String(c),w,!1,x,S)},gt.prototype.K=function(c,w,x,S){return this.i.add(String(c),w,!0,x,S)};function zn(c,w,x,S){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let K=0;K<w.length;++K){const oe=w[K];if(oe&&!oe.da&&oe.capture==x){const Se=oe.listener,dt=oe.ha||oe.src;oe.fa&&Re(c.i,oe),W=Se.call(dt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ha(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(c,w||0)}function qa(c){c.g=Ha(()=>{c.g=null,c.i&&(c.i=!1,qa(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class Ou extends D{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){D.call(this),this.h=c,this.g={}}_(gs,D);var Ka=[];function _o(c){fe(c.g,function(w,x){this.g.hasOwnProperty(x)&&ms(w)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),_o(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=l.JSON.stringify,Fu=l.JSON.parse,gi=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function vs(){}function Uu(){}var ws={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xo(){L.call(this,"d")}_(xo,L);function Ga(){L.call(this,"c")}_(Ga,L);var $n={},Eo=null;function _s(){return Eo=Eo||new gt}$n.Ia="serverreachability";function To(c){L.call(this,$n.Ia,c)}_(To,L);function jr(c){const w=_s();ht(w,new To(w))}$n.STAT_EVENT="statevent";function Or(c,w){L.call(this,$n.STAT_EVENT,c),this.stat=w}_(Or,L);function at(c){const w=_s();ht(w,new Or(w,c))}$n.Ja="timingevent";function Qa(c,w){L.call(this,$n.Ja,c),this.size=w}_(Qa,L);function xs(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},w)}function Es(){this.g=!0}Es.prototype.ua=function(){this.g=!1};function Bu(c,w,x,S,W,K){c.info(function(){if(c.g)if(K){var oe="",Se=K.split("&");for(let He=0;He<Se.length;He++){var dt=Se[He].split("=");if(dt.length>1){const yt=dt[0];dt=dt[1];const yn=yt.split("_");oe=yn.length>=2&&yn[1]=="type"?oe+(yt+"="+dt+"&"):oe+(yt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+w+`
`+x+`
`+oe})}function zu(c,w,x,S,W,K,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+w+`
`+x+`
`+K+" "+oe})}function lr(c,w,x,S){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+yi(c,x)+(S?" "+S:"")})}function $u(c,w){c.info(function(){return"TIMEOUT: "+w})}Es.prototype.info=function(){};function yi(c,w){if(!c.g)return w;if(!w)return null;try{const K=JSON.parse(w);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var x=K[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var W=S[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return ys(K)}catch{return w}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wu;function Fr(){}_(Fr,vs),Fr.prototype.g=function(){return new XMLHttpRequest},Wu=new Fr;function ur(c){return encodeURIComponent(String(c))}function So(c){var w=1;c=c.split(":");const x=[];for(;w>0&&c.length;)x.push(c.shift()),w--;return c.length&&x.push(c.join(":")),x}function In(c,w,x,S){this.j=c,this.i=w,this.l=x,this.S=S||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hu}function Hu(){this.i=null,this.g="",this.h=!1}var qu={},Ya={};function Wn(c,w,x){c.M=1,c.A=Br(An(w)),c.u=x,c.R=!0,Xa(c,null)}function Xa(c,w){c.F=Date.now(),vi(c),c.B=An(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),al(x.i,"t",S),c.C=0,x=c.j.L,c.h=new Hu,c.g=nc(c.j,x?w:null,!c.u),c.P>0&&(c.O=new Ou(p(c.Y,c,c.g),c.P)),w=c.V,x=c.g,S=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ka[0]=W.toString()),W=Ka);for(let K=0;K<W.length;K++){const oe=Ke(x,W[K],S||w.handleEvent,!1,w.h||w);if(!oe)break;w.g[oe.key]=oe}w=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),jr(),Bu(c.i,c.v,c.B,c.l,c.S,c.u)}In.prototype.ba=function(c){c=c.target;const w=this.O;w&&gr(c)==3?w.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)e:{const Se=gr(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||ec(this.g)))){this.K||Se!=4||dt==7||(dt==8||He<=0?jr(3):jr(2)),Io(this);var w=this.g.ca();this.X=w;var x=Ku(this);if(this.o=w==200,zu(this.i,this.v,this.B,this.l,this.S,Se,w),this.o){if(this.U&&!this.L){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var K=S;break t}}K=null}if(c=K)lr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,c);else{this.o=!1,this.m=3,at(12),Ur(this),wi(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<x.length;)if(yt=Qu(this,x),yt==Ya){Se==4&&(this.m=4,at(14),c=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==qu){this.m=4,at(15),lr(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else lr(this.i,this.l,yt,null),Xe(this,yt);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||x.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)lr(this.i,this.l,x,"[Invalid Chunked Response]"),Ur(this),wi(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Pi(oe),oe.P=!0,at(11))}}else lr(this.i,this.l,x,null),Xe(this,x);Se==4&&Ur(this),this.o&&!this.K&&(Se==4?Lo(this.j,this):(this.o=!1,vi(this)))}else ul(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Ur(this),wi(this)}}}catch{}finally{}};function Ku(c){if(!Gu(c))return c.g.la();const w=ec(c.g);if(w==="")return"";let x="";const S=w.length,W=gr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ur(c),wi(c),"";c.h.i=new l.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,x+=c.h.i.decode(w[K],{stream:!(W&&K==S-1)});return w.length=0,c.h.g+=x,c.C=0,c.h.g}function Gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qu(c,w){var x=c.C,S=w.indexOf(`
`,x);return S==-1?Ya:(x=Number(w.substring(x,S)),isNaN(x)?qu:(S+=1,S+x>w.length?Ya:(w=w.slice(S,S+x),c.C=S+x,w)))}In.prototype.cancel=function(){this.K=!0,Ur(this)};function vi(c){c.T=Date.now()+c.H,Ja(c,c.H)}function Ja(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xs(p(c.aa,c),w)}function Io(c){c.D&&(l.clearTimeout(c.D),c.D=null)}In.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?($u(this.i,this.B),this.M!=2&&(jr(),at(17)),Ur(this),this.m=2,wi(this)):Ja(this,this.T-c)};function wi(c){c.j.I==0||c.K||Lo(c.j,c)}function Ur(c){Io(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,_o(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function Xe(c,w){try{var x=c.j;if(x.I!=0&&(x.g==c||el(x.h,c))){if(!c.L&&el(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(w)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Vo(x),mn(x);else break e;wr(x),at(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=xs(p(x.Va,x),6e3));_i(x.h)<=1&&x.ta&&(x.ta=void 0)}else gn(x,11)}else if((c.L||x.g==c)&&Vo(x),!N(w))for(W=x.Ba.g.parse(w),w=0;w<W.length;w++){let He=W[w];const yt=He[0];if(!(yt<=x.K))if(x.K=yt,He=He[1],x.I==2)if(He[0]=="c"){x.M=He[1],x.ba=He[2];const yn=He[3];yn!=null&&(x.ka=yn,x.j.info("VER="+x.ka));const qr=He[4];qr!=null&&(x.za=qr,x.j.info("SVER="+x.za));const _r=He[5];_r!=null&&typeof _r=="number"&&_r>0&&(S=1.5*_r,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const xr=c.g;if(xr){const Oo=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oo){var K=S.h;K.g||Oo.indexOf("spdy")==-1&&Oo.indexOf("quic")==-1&&Oo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Co(K,K.h),K.h=null))}if(S.G){const dl=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.wa=dl,Be(S.J,S.G,dl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var oe=c;if(S.na=hl(S,S.L?S.ba:null,S.W),oe.L){xi(S.h,oe);var Se=oe,dt=S.O;dt&&(Se.H=dt),Se.D&&(Io(Se),vi(Se)),S.g=oe}else zt(S);x.i.length>0&&Hr(x)}else He[0]!="stop"&&He[0]!="close"||gn(x,7);else x.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?gn(x,7):No(x):He[0]!="noop"&&x.l&&x.l.qa(He),x.A=0)}}jr(4)}catch{}}var bd=class{constructor(c,w){this.g=c,this.map=w}};function Ao(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function el(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function Co(c,w){c.g?c.g.add(w):c.h=w}function xi(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}Ao.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const x of c.g.values())w=w.concat(x.G);return w}return A(c.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fn(c,w){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let W,K=null;S>=0?(W=c[x].substring(0,S),K=c[x].substring(S+1)):W=c[x],w(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function cr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof cr?(this.l=c.l,Ei(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Is(this,ll(c.i)),this.m=c.m):c&&(w=String(c).match(Yu))?(this.l=!1,Ei(this,w[1]||"",!0),this.o=Ti(w[2]||""),this.g=Ti(w[3]||"",!0),hr(this,w[4]),this.h=Ti(w[5]||"",!0),Is(this,w[6]||"",!0),this.m=Ti(w[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}cr.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(Si(w,nl,!0),":");var x=this.g;return(x||w=="file")&&(c.push("//"),(w=this.o)&&c.push(Si(w,nl,!0),"@"),c.push(ur(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Si(x,x.charAt(0)=="/"?Ii:rl,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Si(x,sl)),c.join("")},cr.prototype.resolve=function(c){const w=An(this);let x=!!c.j;x?Ei(w,c.j):x=!!c.o,x?w.o=c.o:x=!!c.g,x?w.g=c.g:x=c.u!=null;var S=c.h;if(x)hr(w,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var W=w.h.lastIndexOf("/");W!=-1&&(S=w.h.slice(0,W+1)+S)}if(W=S,W==".."||W==".")S="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){S=W.lastIndexOf("/",0)==0,W=W.split("/");const K=[];for(let oe=0;oe<W.length;){const Se=W[oe++];Se=="."?S&&oe==W.length&&K.push(""):Se==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&oe==W.length&&K.push("")):(K.push(Se),S=!0)}S=K.join("/")}else S=W}return x?w.h=S:x=c.i.toString()!=="",x?Is(w,ll(c.i)):x=!!c.m,x&&(w.m=c.m),w};function An(c){return new cr(c)}function Ei(c,w,x){c.j=x?Ti(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Is(c,w,x){w instanceof Le?(c.i=w,bo(c.i,c.l)):(x||(w=Si(w,Rd)),c.i=new Le(w,c.l))}function Be(c,w,x){c.i.set(w,x)}function Br(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,w,x){return typeof c=="string"?(c=encodeURI(c).replace(w,tl),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,Ii=/[#\?]/g,Rd=/[#\?@]/g,sl=/#/g;function Le(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function dr(c){c.g||(c.g=new Map,c.h=0,c.i&&fn(c.i,function(w,x){c.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Le.prototype,t.add=function(c,w){dr(this),this.i=null,c=fr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(w),this.h+=1,this};function il(c,w){dr(c),w=fr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function Po(c,w){return dr(c),w=fr(c,w),c.g.has(w)}t.forEach=function(c,w){dr(this),this.g.forEach(function(x,S){x.forEach(function(W){c.call(w,W,S,this)},this)},this)};function ol(c,w){dr(c);let x=[];if(typeof w=="string")Po(c,w)&&(x=x.concat(c.g.get(fr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)x=x.concat(c[w]);return x}t.set=function(c,w){return dr(this),this.i=null,c=fr(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=ol(this,c),c.length>0?String(c[0]):w):w};function al(c,w,x){il(c,w),x.length>0&&(c.i=null,c.g.set(fr(c,w),A(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let S=0;S<w.length;S++){var x=w[S];const W=ur(x);x=ol(this,x);for(let K=0;K<x.length;K++){let oe=W;x[K]!==""&&(oe+="="+ur(x[K])),c.push(oe)}}return this.i=c.join("&")};function ll(c){const w=new Le;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function fr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function bo(c,w){w&&!c.j&&(dr(c),c.i=null,c.g.forEach(function(x,S){const W=S.toLowerCase();S!=W&&(il(this,S),al(this,W,x))},c)),c.j=w}function pr(c,w){const x=new Es;if(l.Image){const S=new Image;S.onload=g(Vt,x,"TestLoadImage: loaded",!0,w,S),S.onerror=g(Vt,x,"TestLoadImage: error",!1,w,S),S.onabort=g(Vt,x,"TestLoadImage: abort",!1,w,S),S.ontimeout=g(Vt,x,"TestLoadImage: timeout",!1,w,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else w(!1)}function mr(c,w){const x=new Es,S=new AbortController,W=setTimeout(()=>{S.abort(),Vt(x,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(W),K.ok?Vt(x,"TestPingServer: ok",!0,w):Vt(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Vt(x,"TestPingServer: error",!1,w)})}function Vt(c,w,x,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(x)}catch{}}function Ai(){this.g=new gi}function zr(c){this.i=c.Sb||null,this.h=c.ab||!1}_(zr,vs),zr.prototype.g=function(){return new pn(this.i,this.h)};function pn(c,w){gt.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(pn,gt),t=pn.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,Hn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?As(this):Hn(this),this.readyState==3&&Xu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},t.Na=function(c){this.g&&(this.response=c,As(this))},t.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}t.setRequestHeader=function(c,w){this.A.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=w.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ju(c){let w="";return fe(c,function(x,S){w+=S,w+=":",w+=x,w+=`\r
`}),w}function Ro(c,w,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Ju(x),typeof c=="string"?x!=null&&ur(x):Be(c,w,x))}function Ge(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ge,gt);var Zu=/^https?$/i,kd=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,w,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(K){Cs(this,K);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)x.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())x.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),W=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(kd,w,void 0)>=0)||S||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Cs(this,K)}};function Cs(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,Ps(c),Wr(c)}function Ps(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),Wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},t.Xa=function(){$r(this)};function $r(c){if(c.h&&typeof a<"u"){if(c.v&&gr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),gr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var S;if(S=K===0){let oe=String(c.D).match(Yu)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!Zu.test(oe?oe.toLowerCase():"")}x=S}if(x)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var W=gr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",Ps(c)}}finally{Wr(c)}}}}function Wr(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,w||ht(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Fu(w)}};function ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(c){const w={};c=(c.g&&gr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var x=So(c[S]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=w[W]||[];w[W]=K,K.push(x)}ae(w,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||w}function ko(c){this.za=0,this.i=[],this.j=new Es,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yr("baseRetryDelayMs",5e3,c),this.Za=yr("retryDelaySeedMs",1e4,c),this.Ta=yr("forwardChannelMaxRetries",2,c),this.va=yr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new Ai,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ko.prototype,t.ka=8,t.I=1,t.connect=function(c,w,x,S){at(0),this.W=c,this.H=w||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=hl(this,null,this.W),Hr(this)};function No(c){if(Do(c),c.I==3){var w=c.V++,x=An(c.J);if(Be(x,"SID",c.M),Be(x,"RID",w),Be(x,"TYPE","terminate"),vr(c,x),w=new In(c,c.j,w),w.M=2,w.A=Br(An(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=nc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),vi(w)}bi(c)}function mn(c){c.g&&(Pi(c),c.g.cancel(),c.g=null)}function Do(c){mn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Vo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function Hr(c){if(!Za(c.h)&&!c.m){c.m=!0;var w=c.Ea;ne||I(),X||(ne(),X=!0),C.add(w,c),c.D=0}}function tc(c,w){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xs(p(c.Ea,c,w),Mo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new In(this,this.j,c);let K=this.o;if(this.U&&(K?(K=U(K),Ce(K,this.U)):K=this.U),this.u!==null||this.R||(W.J=K,K=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(w+=S,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=cl(this,W,w),x=An(this.J),Be(x,"RID",c),Be(x,"CVER",22),this.G&&Be(x,"X-HTTP-Session-Id",this.G),vr(this,x),K&&(this.R?w="headers="+ur(Ju(K))+"&"+w:this.u&&Ro(x,this.u,K)),Co(this.h,W),this.Ra&&Be(x,"TYPE","init"),this.S?(Be(x,"$req",w),Be(x,"SID","null"),W.U=!0,Wn(W,x,null)):Wn(W,x,w),this.I=2}}else this.I==3&&(c?Ci(this,c):this.i.length==0||Za(this.h)||Ci(this))};function Ci(c,w){var x;w?x=w.l:x=c.V++;const S=An(c.J);Be(S,"SID",c.M),Be(S,"RID",x),Be(S,"AID",c.K),vr(c,S),c.u&&c.o&&Ro(S,c.u,c.o),x=new In(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),w&&(c.i=w.G.concat(c.i)),w=cl(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Co(c.h,x),Wn(x,S,w)}function vr(c,w){c.H&&fe(c.H,function(x,S){Be(w,S,x)}),c.l&&fe({},function(x,S){Be(w,S,x)})}function cl(c,w,x){x=Math.min(c.i.length,x);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Se=-1;for(;;){const dt=["count="+x];Se==-1?x>0?(Se=W[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let He=!0;for(let yt=0;yt<x;yt++){var K=W[yt].g;const yn=W[yt].map;if(K-=Se,K<0)Se=Math.max(0,W[yt].g-100),He=!1;else try{K="req"+K+"_"||"";try{var oe=yn instanceof Map?yn:Object.entries(yn);for(const[qr,_r]of oe){let xr=_r;h(_r)&&(xr=ys(_r)),dt.push(K+qr+"="+encodeURIComponent(xr))}}catch(qr){throw dt.push(K+"type="+encodeURIComponent("_badmap")),qr}}catch{S&&S(yn)}}if(He){oe=dt.join("&");break e}}oe=void 0}return c=c.i.splice(0,x),w.G=c,oe}function zt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;ne||I(),X||(ne(),X=!0),C.add(w,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xs(p(c.Da,c),Mo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,bs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xs(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),mn(this),bs(this))};function Pi(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function bs(c){c.g=new In(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=An(c.na);Be(w,"RID","rpc"),Be(w,"SID",c.M),Be(w,"AID",c.K),Be(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(w,"TO",c.ia),Be(w,"TYPE","xmlhttp"),vr(c,w),c.u&&c.o&&Ro(w,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=Br(An(w)),x.u=null,x.R=!0,Xa(x,c)}t.Va=function(){this.C!=null&&(this.C=null,mn(this),wr(this),at(19))};function Vo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Lo(c,w){var x=null;if(c.g==w){Vo(c),Pi(c),c.g=null;var S=2}else if(el(c.h,w))x=w.G,xi(c.h,w),S=1;else return;if(c.I!=0){if(w.o)if(S==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var W=c.D;S=_s(),ht(S,new Qa(S,x)),Hr(c)}else zt(c);else if(W=w.m,W==3||W==0&&w.X>0||!(S==1&&tc(c,w)||S==2&&wr(c)))switch(x&&x.length>0&&(w=c.h,w.i=w.i.concat(x)),W){case 1:gn(c,5);break;case 4:gn(c,10);break;case 3:gn(c,6);break;default:gn(c,2)}}}function Mo(c,w){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*w}function gn(c,w){if(c.j.info("Error code "+w),w==2){var x=p(c.bb,c),S=c.Ua;const W=!S;S=new cr(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ei(S,"https"),Br(S),W?pr(S.toString(),x):mr(S.toString(),x)}else at(2);c.I=0,c.l&&c.l.pa(w),bi(c),Do(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function bi(c){if(c.I=0,c.ja=[],c.l){const w=dn(c.h);(w.length!=0||c.i.length!=0)&&(V(c.ja,w),V(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function hl(c,w,x){var S=x instanceof cr?An(x):new cr(x);if(S.g!="")w&&(S.g=w+"."+S.g),hr(S,S.u);else{var W=l.location;S=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const K=new cr(null);S&&Ei(K,S),w&&(K.g=w),W&&hr(K,W),x&&(K.h=x),S=K}return x=c.G,w=c.wa,x&&w&&Be(S,x,w),Be(S,"VER",c.ka),vr(c,S),S}function nc(c,w,x){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Ge(new zr({ab:x})):new Ge(c.ma),w.Fa(c.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}t=rc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jo(){}jo.prototype.g=function(c,w){return new Lt(c,w)};function Lt(c,w){gt.call(this),this.g=new ko(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!N(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Rs(this)}_(Lt,gt),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){No(this.g)},Lt.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=ys(c),c=x);w.i.push(new bd(w.Ya++,c)),w.I==3&&Hr(w)},Lt.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Lt.Z.N.call(this)};function sc(c){xo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const x in w){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}_(sc,xo);function ic(){Ga.call(this),this.status=1}_(ic,Ga);function Rs(c){this.g=c}_(Rs,rc),Rs.prototype.ra=function(){ht(this.g,"a")},Rs.prototype.qa=function(c){ht(this.g,new sc(c))},Rs.prototype.pa=function(c){ht(this.g,new ic)},Rs.prototype.oa=function(){ht(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,DE=function(){return new jo},NE=function(){return _s()},kE=$n,Gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,gh=Ts,Ss.COMPLETE="complete",RE=Ss,Uu.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",gt.prototype.listen=gt.prototype.J,zl=Uu,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,bE=Ge}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",jw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new sd("@firebase/firestore");function ia(){return so.logLevel}function ce(t,...e){if(so.logLevel<=Ne.DEBUG){const n=e.map(sg);so.debug(`Firestore (${Va}): ${t}`,...n)}}function cs(t,...e){if(so.logLevel<=Ne.ERROR){const n=e.map(sg);so.error(`Firestore (${Va}): ${t}`,...n)}}function xa(t,...e){if(so.logLevel<=Ne.WARN){const n=e.map(sg);so.warn(`Firestore (${Va}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VE(t,r,n)}function VE(t,e,n){let r=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function $e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VE(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gt.UNAUTHENTICATED)))}shutdown(){}}class QN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YN{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new os,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new os)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new LE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class XN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ow(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Qp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return gp(i)===gp(a)?De(i,a):gp(i)?1:-1}return De(t.length,e.length)}const tD=55296,nD=57343;function gp(t){const e=t.charCodeAt(0);return e>=tD&&e<=nD}function Ea(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return De(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class Ye extends Ar{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Ar{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new Ut([Fw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sD(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!jE(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,$w=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$w);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zw)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$w}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Et("string",qe._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new qe(0,0))}static max(){return new Te(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function iD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ni(i,ge.empty(),e)}function oD(t){return new ni(t.readTime,t.key,lu)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(Te.min(),ge.empty(),lu)}static max(){return new ni(Te.max(),ge.empty(),lu)}}function aD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==lD)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((g=>{l[p]=g,++h,h===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function cD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function fd(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function hD(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="";function dD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ww(e)),e=fD(t.get(n),e);return Ww(e)}function fD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case OE:n+="";break;default:n+=a}}return n}function Ww(t){return t+OE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new er([])}unionWith(e){let n=new At(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new UE("Invalid base64 string: "+a):a}})(e);return new Bt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=pD.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="server_timestamp",zE="__type__",$E="__previous_value__",WE="__local_write_time__";function ag(t){return(t?.mapValue?.fields||{})[zE]?.stringValue===BE}function pd(t){const e=t.mapValue.fields[$E];return ag(e)?pd(e):e}function uu(t){const e=ri(t.mapValue.fields[WE].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i,a,l,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Oh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__type__",gD="__max__",rh={mapValue:{}},qE="__vector__",Fh="value";function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:vD(t)?9007199254740991:yD(t)?10:11:_e(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ri(i.timestampValue),h=ri(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return si(i.bytesValue).isEqual(si(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=mt(i.doubleValue),h=mt(a.doubleValue);return l===h?jh(l)===jh(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Hw(l)!==Hw(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Lr(l[f],h[f])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function hu(t,e){return(t.values||[]).find((n=>Lr(n,e)))!==void 0}function Ta(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=mt(a.integerValue||a.doubleValue),f=mt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(uu(t),uu(e));case 5:return Qp(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=si(a),f=si(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=De(h[p],f[p]);if(g!==0)return g}return De(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=De(mt(a.latitude),mt(l.latitude));return h!==0?h:De(mt(a.longitude),mt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[Fh]?.arrayValue,g=f[Fh]?.arrayValue,_=De(p?.values?.length||0,g?.values?.length||0);return _!==0?_:Gw(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===rh.mapValue&&l===rh.mapValue)return 0;if(a===rh.mapValue)return 1;if(l===rh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=Qp(f[_],g[_]);if(E!==0)return E;const A=Ta(h[f[_]],p[g[_]]);if(A!==0)return A}return De(f.length,g.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=ri(t),r=ri(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Gw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ta(n[i],r[i]);if(a)return a}return De(n.length,r.length)}function Sa(t){return Yp(t)}function Yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return si(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Yp(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Yp(n.fields[l])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function yh(t){switch(ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(t);return e?16+yh(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+yh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fo(r.fields,((a,l)=>{i+=a.length+yh(l)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function Qw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xp(t){return!!t&&"integerValue"in t}function lg(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}function yD(t){return(t?.mapValue?.fields||{})[HE]?.stringValue===qE}function Ql(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ql(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return{...t}}function vD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=Ql(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ln(Ql(this.value))}}function KE(t){const e=[];return fo(t.fields,((n,r)=>{const i=new Ut([n]);if(vh(r)){const a=KE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Qt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function Jw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function wD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class xt extends GE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xD(e,n,r):n==="array-contains"?new SD(e,r):n==="in"?new ID(e,r):n==="not-in"?new AD(e,r):n==="array-contains-any"?new CD(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ED(e,r):new TD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return QE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(t){return t.op==="and"}function YE(t){return _D(t)&&QE(t)}function _D(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Jp(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(YE(t))return t.filters.map((e=>Jp(e))).join(",");{const e=t.filters.map((n=>Jp(n))).join(",");return`${t.op}(${e})`}}function XE(t,e){return t instanceof xt?(function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)})(t,e):t instanceof sr?(function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&XE(l,i.filters[h])),!0):!1})(t,e):void _e(19439)}function JE(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`})(t):t instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"})(t):"Filter"}class xD extends xt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends xt{constructor(e,n){super(e,"in",n),this.keys=ZE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TD extends xt{constructor(e,n){super(e,"not-in",n),this.keys=ZE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZE(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class SD extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&hu(n.arrayValue,this.value)}}class ID extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class AD extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class CD extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function e_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new PD(t,e,n,r,i,a,l)}function ug(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sa(r))).join(",")),e.Te=n}return e.Te}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zw(t.startAt,e.startAt)&&Zw(t.endAt,e.endAt)}function Zp(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bD(t,e,n,r,i,a,l,h){return new ja(t,e,n,r,i,a,l,h)}function hg(t){return new ja(t)}function t_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eT(t){return t.collectionGroup!==null}function Yl(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new At(Ut.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new du(a,r))})),n.has(Ut.keyField().canonicalString())||e.Ie.push(new du(Ut.keyField(),r))}return e.Ie}function Pr(t){const e=Ie(t);return e.Ee||(e.Ee=RD(e,Yl(t))),e.Ee}function RD(t,e){if(t.limitType==="F")return e_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new du(i.field,a)}));const n=t.endAt?new Uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uh(t.startAt.position,t.startAt.inclusive):null;return e_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function em(t,e){const n=t.filters.concat([e]);return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bh(t,e,n){return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return cg(Pr(t),Pr(e))&&t.limitType===e.limitType}function tT(t){return`${ug(Pr(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>JE(i))).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sa(i))).join(",")),`Target(${r})`})(Pr(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Yl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=Jw(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,Yl(r),i)||r.endAt&&!(function(l,h,f){const p=Jw(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,Yl(r),i))})(t,e)}function kD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(const i of Yl(t)){const a=ND(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ND(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ta(f,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return FE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new ot(ge.comparator);function ds(){return DD}const rT=new ot(ge.comparator);function $l(...t){let e=rT;for(const n of t)e=e.insert(n.key,n);return e}function sT(t){let e=rT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Gi(){return Xl()}function iT(){return Xl()}function Xl(){return new po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VD=new ot(ge.comparator),LD=new At(ge.comparator);function Ve(...t){let e=LD;for(const n of t)e=e.add(n);return e}const MD=new At(De);function jD(){return MD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function OD(t,e){return hD(e)?oT(e):dg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function FD(t,e,n){return t instanceof zh?(function(i,a){const l={fields:{[zE]:{stringValue:BE},[WE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ag(a)&&(a=pd(a)),a&&(l.fields[$E]=a),{mapValue:l}})(n,e):t instanceof fu?lT(t,e):t instanceof pu?uT(t,e):(function(i,a){const l=aT(i,a),h=n_(l)+n_(i.Ae);return Xp(l)&&Xp(i.Ae)?oT(h):dg(i.serializer,h)})(t,e)}function UD(t,e,n){return t instanceof fu?lT(t,e):t instanceof pu?uT(t,e):n}function aT(t,e){return t instanceof $h?(function(r){return Xp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class zh extends yd{}class fu extends yd{constructor(e){super(),this.elements=e}}function lT(t,e){const n=cT(e);for(const r of t.elements)n.some((i=>Lr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends yd{constructor(e){super(),this.elements=e}}function uT(t,e){let n=cT(e);for(const r of t.elements)n=n.filter((i=>!Lr(i,r)));return{arrayValue:{values:n}}}class $h extends yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n_(t){return mt(t.integerValue||t.doubleValue)}function cT(t){return lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BD(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?Ea(r.elements,i.elements,Lr):r instanceof $h&&i instanceof $h?Lr(r.Ae,i.Ae):r instanceof zh&&i instanceof zh})(t.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function hT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fg(t.key,nr.none()):new bu(t.key,t.data,nr.none());{const n=t.data,r=Ln.empty();let i=new At(Ut.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new mo(t.key,r,new er(i.toArray()),nr.none())}}function $D(t,e,n){t instanceof bu?(function(i,a,l){const h=i.value.clone(),f=s_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof mo?(function(i,a,l){if(!wh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=s_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(dT(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Jl(t,e,n,r){return t instanceof bu?(function(a,l,h,f){if(!wh(a.precondition,l))return h;const p=a.value.clone(),g=i_(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof mo?(function(a,l,h,f){if(!wh(a.precondition,l))return h;const p=i_(a.fieldTransforms,f,l),g=l.data;return g.setAll(dT(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,h){return wh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function WD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=aT(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function r_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ea(r,i,((a,l)=>BD(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends vd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends vd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function s_(t,e,n){const r=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,UD(l,h,n[i]))}return r}function i_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,FD(a,l,e))}return r}class fg extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&$D(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=hT(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((n,r)=>r_(n,r)))&&Ea(this.baseMutations,e.baseMutations,((n,r)=>r_(n,r)))}}class pg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return VD})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new pg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Me;function QD(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function fT(t){if(t===void 0)return cs("GRPC error has no .code"),Q.UNKNOWN;switch(t){case wt.OK:return Q.OK;case wt.CANCELLED:return Q.CANCELLED;case wt.UNKNOWN:return Q.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Q.INTERNAL;case wt.UNAVAILABLE:return Q.UNAVAILABLE;case wt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case wt.NOT_FOUND:return Q.NOT_FOUND;case wt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case wt.ABORTED:return Q.ABORTED;case wt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case wt.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Zs([4294967295,4294967295],0);function o_(t){const e=YD().encode(t),n=new PE;return n.update(e),new Uint8Array(n.digest())}function a_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,a],0)]}class mg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(XD)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o_(e),[r,i]=a_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new mg(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=o_(e),[r,i]=a_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(Te.min(),i,new ot(De),ds(),Ve())}}class Ru{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pT{constructor(e,n){this.targetId=e,this.Ce=n}}class mT{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l_{constructor(){this.ve=0,this.Fe=u_(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}})),new Ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=u_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=sh(),this.He=sh(),this.Ye=new ot(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Zp(a))if(r===0){const l=new ge(a.path);this.et(n,l,Qt.newNoDocument(l,Te.min()))}else $e(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=si(r).toUint8Array()}catch(f){if(f instanceof UE)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new mg(l,i,a)}catch(f){return xa(f instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&Zp(h.target)){const f=new ge(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Qt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ve();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new wd(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=sh(),this.He=sh(),this.Ye=new ot(De),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new l_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ot(ge.comparator)}function u_(){return new ot(ge.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},e5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t5={and:"AND",or:"OR"};class n5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function Wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r5(t,e){return Wh(t,e.toTimestamp())}function br(t){return $e(!!t,49232),Te.fromTimestamp((function(n){const r=ri(n);return new qe(r.seconds,r.nanos)})(t))}function gg(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yT(t){const e=Ye.fromString(t);return $e(ET(e),10190,{key:e.toString()}),e}function rm(t,e){return gg(t.databaseId,e.path)}function yp(t,e){const n=yT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(wT(n))}function vT(t,e){return gg(t.databaseId,e)}function s5(t){const e=yT(t);return e.length===4?Ye.emptyPath():wT(e)}function sm(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function c_(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function i5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?($e(g===void 0||typeof g=="string",58123),Bt.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const g=p.code===void 0?Q.UNKNOWN:fT(p.code);return new le(g,p.message||"")})(l);n=new mT(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yp(t,r.document.name),a=br(r.document.updateTime),l=r.document.createTime?br(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(i,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new _h(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yp(t,r.document),a=r.readTime?br(r.readTime):Te.min(),l=Qt.newNoDocument(i,a),h=r.removedTargetIds||[];n=new _h([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yp(t,r.document),a=r.removedTargetIds||[];n=new _h([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new GD(i,a),h=r.targetId;n=new pT(h,l)}}return n}function o5(t,e){let n;if(e instanceof bu)n={update:c_(t,e.key,e.value)};else if(e instanceof fg)n={delete:rm(t,e.key)};else if(e instanceof mo)n={update:c_(t,e.key,e.data),updateMask:m5(e.fieldMask)};else{if(!(e instanceof HD))return _e(16599,{Vt:e.type});n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $h)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:r5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(t,e.precondition)),n}function a5(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?br(i.updateTime):br(a);return l.isEqual(Te.min())&&(l=br(a)),new zD(l,i.transformResults||[])})(n,e)))):[]}function l5(t,e){return{documents:[vT(t,e.path)]}}function u5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vT(t,i);const a=(function(p){if(p.length!==0)return xT(sr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:aa(E.field),direction:d5(E.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=tm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function c5(t){let e=s5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(_){const E=_T(_);return E instanceof sr&&YE(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((E=>(function(V){return new du(la(V.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,fd(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,A=_.values||[];return new Uh(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new Uh(A,E)})(n.endAt)),bD(e,i,l,a,h,"F",f,p)}function h5(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=la(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(n.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=la(n.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(la(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((r=>_T(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function d5(t){return ZD[t]}function f5(t){return e5[t]}function p5(t){return t5[t]}function aa(t){return{fieldPath:t.canonicalString()}}function la(t){return Ut.fromServerFormat(t.fieldPath)}function xT(t){return t instanceof xt?(function(n){if(n.op==="=="){if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:f5(n.op),value:n.value}}})(t):t instanceof sr?(function(n){const r=n.getFilters().map((i=>xT(i)));return r.length===1?r[0]:{compositeFilter:{op:p5(n.op),filters:r}}})(t):_e(54877,{filter:t})}function m5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ET(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r,i,a=Te.min(),l=Te.min(),h=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.yt=e}}function y5(t){const e=c5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.Cn=new w5}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ni.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class w5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Ye.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(TT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",_5=1048576;function f_([t,e],[n,r]){const i=De(t,n);return i===0?De(e,r):i}class x5{constructor(e){this.Ir=e,this.buffer=new At(f_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ma(n)?ce(d_,"Ignoring IndexedDB error during garbage collection: ",n):await La(n)}await this.Vr(3e5)}))}}class T5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(dd.ce);const r=new x5(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(h_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),ia()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function S5(t,e){return new T5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.changes=new po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jl(r.mutation,i,er.empty(),qe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Gi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=$l();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=ds();const l=Xl(),h=(function(){return Xl()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof mo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Jl(g.mutation,p,g.mutation.getFieldMask(),qe.now())):l.set(p.key,er.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>h.set(p,new A5(g,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new ot(((l,h)=>l-h)),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||er.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=iT();g.forEach((E=>{if(!a.has(E)){const A=hT(n.get(E),r.get(E));A!==null&&_.set(E,A),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Gi());let h=lu,f=a;return l.next((p=>Y.forEach(p,((g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Ve()))).next((g=>({batchId:h,changes:sT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=$l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=$l();return this.indexManager.getCollectionParents(e,a).next((h=>Y.forEach(h,(f=>{const p=(function(_,E){return new ja(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((_,E)=>{l=l.insert(_,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Qt.newInvalidDocument(g)))}));let h=$l();return l.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Jl(g.mutation,p,er.empty(),qe.now()),gd(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:y5(i.bundledQuery),readTime:br(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),a=n.length+1,l=new ge(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Gi(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Gi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=i)););return Y.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new KD(n,r));let a=this.qr.get(n);a===void 0&&(a=Ve(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new At(Rt.$r),this.Ur=new At(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Rt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new Ye([])),r=new Rt(n,e),i=new Rt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Ye([])),r=new Rt(n,e),i=new Rt(n,e+1);let a=Ve();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Rt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qD(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new Rt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(De);return n.forEach((i=>{const a=new Rt(i,0),l=new Rt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const l=new Rt(new ge(a),0);let h=new At(De);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new Rt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ds();const l=n.path,h=new ge(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||aD(oD(g),r)<=0||(i.has(g.key)||gd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new D5(this)}getSize(e){return Y.resolve(this.size)}}class D5 extends I5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.persistence=e,this.si=new po((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.ui={},this.overlays={},this.ci=new dd(0),this.li=!1,this.li=!0,this.hi=new R5,this.referenceDelegate=e(this),this.Pi=new V5(this),this.indexManager=new v5,this.remoteDocumentCache=(function(i){return new N5(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new g5(n),this.Ii=new P5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new k5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new L5(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class L5 extends uD{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new po((r=>dD(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=S5(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,Te.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ve(),i=Ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KC()?8:cD(Xt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new M5;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ia()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ia()<=Ne.DEBUG&&ce("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ia()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):Y.resolve())}ys(e,n){if(t_(n))return Y.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Bh(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ve(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,Bh(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return t_(n)||i.isEqual(Te.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(ia()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.vs(e,l,n,iD(i,lu)).next((h=>h)))}))}Ds(e,n){let r=new At(nT(e));return n.forEach(((i,a)=>{gd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ia()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",oa(n)),this.ps.getDocumentsMatchingQuery(e,n,ni.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",O5=3e8;class F5{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ot(De),this.xs=new po((a=>ug(a)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function U5(t,e,n,r){return new F5(t,e,n,r)}async function IT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=Ve();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function B5(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,g){const _=p.batch,E=_.keys();let A=Y.resolve();return E.forEach((V=>{A=A.next((()=>g.getEntry(f,V))).next((j=>{const b=p.docVersions.get(V);$e(b!==null,48541),j.version.compareTo(b)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Ve();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function AT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function z5(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((g,_)=>{const E=i.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,_))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Bt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(_,A),(function(j,b,F){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=O5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,A,g)&&h.push(n.Pi.updateTargetData(a,A))}));let f=ds(),p=Ve();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push($5(a,l,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(Te.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(g)}return Y.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function $5(t,e,n){let r=Ve(),i=Ve();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ds();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(_g,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function W5(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function H5(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ys(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function im(t,e,n){const r=Ie(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ma(l))throw l;ce(_g,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function p_(t,e,n){const r=Ie(t);let i=Te.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,g){const _=Ie(f),E=_.xs.get(g);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)})(r,l,Pr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Te.min(),n?a:Ve()))).next((h=>(q5(r,kD(e),h),{documents:h,Qs:a})))))}function q5(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class m_{constructor(){this.activeTargetIds=jD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K5{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(g_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function om(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",Q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=om(),h=this.zo(e,n.toUriEncodedString());ce(vp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),g=ka(p);return this.Jo(e,h,f,r,g).then((_=>(ce(vp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw xa(vp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Va})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=Q5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class J5 extends Y5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=om();return new Promise(((h,f)=>{const p=new bE;p.setWithCredentials(!0),p.listenOnce(RE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const _=p.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case gh.TIMEOUT:ce(Kt,`RPC '${e}' ${l} timed out`),f(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const E=p.getStatus();if(ce(Kt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A?.error;if(V&&V.status&&V.message){const j=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(B)>=0?B:Q.UNKNOWN})(V.status);f(new le(j,V.message))}else f(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);ce(Kt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=om(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DE(),h=NE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Kt,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);this.I_(_);let E=!1,A=!1;const V=new X5({Yo:b=>{A?ce(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(E||(ce(Kt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),ce(Kt,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Zo:()=>_.close()}),j=(b,F,B)=>{b.listen(F,(G=>{try{B(G)}catch(se){setTimeout((()=>{throw se}),0)}}))};return j(_,zl.EventType.OPEN,(()=>{A||(ce(Kt,`RPC '${e}' stream ${i} transport opened.`),V.o_())})),j(_,zl.EventType.CLOSE,(()=>{A||(A=!0,ce(Kt,`RPC '${e}' stream ${i} transport closed`),V.a_(),this.E_(_))})),j(_,zl.EventType.ERROR,(b=>{A||(A=!0,xa(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),V.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),j(_,zl.EventType.MESSAGE,(b=>{if(!A){const F=b.data[0];$e(!!F,16349);const B=F,G=B?.error||B[0]?.error;if(G){ce(Kt,`RPC '${e}' stream ${i} received error:`,G);const se=G.status;let ne=(function(I){const P=wt[I];if(P!==void 0)return fT(P)})(se),X=G.message;ne===void 0&&(ne=Q.INTERNAL,X="Unknown error status: "+se+" with message "+G.message),A=!0,V.a_(new le(ne,X)),_.close()}else ce(Kt,`RPC '${e}' stream ${i} received:`,F),V.u_(F)}})),j(h,kE.STAT_EVENT,(b=>{b.stat===Gp.PROXY?ce(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Gp.NOPROXY&&ce(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new n5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class PT{constructor(e,n,r,i,a,l,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z5 extends PT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i5(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Te.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Te.min():l.readTime?br(l.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sm(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=Zp(f)?{documents:l5(a,f)}:{query:u5(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=gT(a,l.resumeToken);const p=tm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Te.min())>0){h.readTime=Wh(a,l.snapshotVersion.toTimestamp());const p=tm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=h5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.q_(n)}}class eV extends PT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=a5(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>o5(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class nV extends tV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,nm(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,nm(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Q.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class sV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{go(this)&&(ce(io,"Restarting streams for network reachability change."),await(async function(f){const p=Ie(f);p.Ea.add(4),await ku(p),p.Ra.set("Unknown"),p.Ea.delete(4),await xd(p)})(this))}))})),this.Ra=new rV(r,i)}}async function xd(t){if(go(t))for(const e of t.da)await e(!0)}async function ku(t){for(const e of t.da)await e(!1)}function bT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?Tg(n):Oa(n).O_()&&Eg(n,e))}function xg(t,e){const n=Ie(t),r=Oa(n);n.Ia.delete(e),r.O_()&&RT(n,e),n.Ia.size===0&&(r.O_()?r.L_():go(n)&&n.Ra.set("Unknown"))}function Eg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).Y_(e)}function RT(t,e){t.Va.Ue(e),Oa(t).Z_(e)}function Tg(t){t.Va=new JD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.Ra.ua()}function Sg(t){return go(t)&&!Oa(t).x_()&&t.Ia.size>0}function go(t){return Ie(t).Ea.size===0}function kT(t){t.Va=void 0}async function iV(t){t.Ra.set("Online")}async function oV(t){t.Ia.forEach(((e,n)=>{Eg(t,e)}))}async function aV(t,e){kT(t),Sg(t)?(t.Ra.ha(e),Tg(t)):t.Ra.set("Unknown")}async function lV(t,e,n){if(t.Ra.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){ce(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof _h?t.Va.Ze(e):e instanceof pT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await AT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),RT(a,f);const _=new Ys(g.target,f,p,g.sequenceNumber);Eg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(io,"Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!Ma(e))throw e;t.Ea.add(1),await ku(t),t.Ra.set("Offline"),n||(n=()=>AT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xd(t)}))}function NT(t,e){return e().catch((n=>qh(t,n,e)))}async function Ed(t){const e=Ie(t),n=oi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;uV(e);)try{const i=await W5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,cV(e,i)}catch(i){await qh(e,i)}DT(e)&&VT(e)}function uV(t){return go(t)&&t.Ta.length<10}function cV(t,e){t.Ta.push(e);const n=oi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function DT(t){return go(t)&&!oi(t).x_()&&t.Ta.length>0}function VT(t){oi(t).start()}async function hV(t){oi(t).ra()}async function dV(t){const e=oi(t);for(const n of t.Ta)e.ea(n.mutations)}async function fV(t,e,n){const r=t.Ta.shift(),i=pg.from(r,e,n);await NT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ed(t)}async function pV(t,e){e&&oi(t).X_&&await(async function(r,i){if((function(l){return QD(l)&&l!==Q.ABORTED})(i.code)){const a=r.Ta.shift();oi(r).B_(),await NT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ed(r)}})(t,e),DT(t)&&VT(t)}async function w_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(io,"RemoteStore received new credentials");const r=go(n);n.Ea.add(3),await ku(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xd(n)}async function mV(t,e){const n=Ie(t);e?(n.Ea.delete(2),await xd(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Oa(t){return t.ma||(t.ma=(function(n,r,i){const a=Ie(n);return a.sa(),new Z5(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:iV.bind(null,t),t_:oV.bind(null,t),r_:aV.bind(null,t),H_:lV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Sg(t)?Tg(t):t.Ra.set("Unknown")):(await t.ma.stop(),kT(t))}))),t.ma}function oi(t){return t.fa||(t.fa=(function(n,r,i){const a=Ie(n);return a.sa(),new eV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hV.bind(null,t),r_:pV.bind(null,t),ta:dV.bind(null,t),na:fV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ed(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Ig(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(cs("AsyncQueue",`${e}: ${t}`),Ma(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new ot(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Aa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Aa(e,n,va.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yV{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ie(n),a=i.queries;i.queries=x_(),a.forEach(((l,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function x_(){return new po((t=>tT(t)),md)}async function LT(t,e){const n=Ie(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new gV,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=Ag(l,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Cg(n)}async function MT(t,e){const n=Ie(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vV(t,e){const n=Ie(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&Cg(n)}function wV(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Cg(t){t.Ca.forEach((e=>{e.next()}))}var am,E_;(E_=am||(am={})).Ma="default",E_.Cache="cache";class jT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class _V{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=nT(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new __,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,_)=>{const E=i.get(g),A=gd(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;E&&A?E.data.isEqual(A.data)?V!==j&&(r.track({type:3,doc:A}),b=!0):this.su(E,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),b=!0):E&&!A&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(h=!0)),b&&(A?(l=l.add(A),a=j?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,_)=>(function(A,V){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:b})}};return j(A)-j(V)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Aa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new FT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new OT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class xV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EV{constructor(e){this.key=e,this.hu=!1}}class TV{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new po((h=>tT(h)),md),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SV(t,e,n=!0){const r=HT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await UT(r,e,n,!0),i}async function IV(t,e){const n=HT(t);await UT(n,e,!0,!1)}async function UT(t,e,n,r){const i=await H5(t.localStore,Pr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await AV(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&bT(t.remoteStore,i),h}async function AV(t,e,n,r,i){t.pu=(_,E,A)=>(async function(j,b,F,B){let G=b.view.ru(F);G.Cs&&(G=await p_(j.localStore,b.query,!1).then((({documents:C})=>b.view.ru(C,G))));const se=B&&B.targetChanges.get(b.targetId),ne=B&&B.targetMismatches.get(b.targetId)!=null,X=b.view.applyChanges(G,j.isPrimaryClient,se,ne);return S_(j,b.targetId,X.au),X.snapshot})(t,_,E,A);const a=await p_(t.localStore,e,!0),l=new _V(e,a.Qs),h=l.ru(a.documents),f=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);S_(t,n,p.au);const g=new xV(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function CV(t,e,n){const r=Ie(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!md(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xg(r.remoteStore,i.targetId),lm(r,i.targetId)})).catch(La)):(lm(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function PV(t,e){const n=Ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xg(n.remoteStore,r.targetId))}async function bV(t,e,n){const r=MV(t);try{const i=await(function(l,h){const f=Ie(l),p=qe.now(),g=h.reduce(((A,V)=>A.add(V.key)),Ve());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let V=ds(),j=Ve();return f.Ns.getEntries(A,g).next((b=>{V=b,V.forEach(((F,B)=>{B.isValidDocument()||(j=j.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,V))).next((b=>{_=b;const F=[];for(const B of h){const G=WD(B,_.get(B.key).overlayedDocument);G!=null&&F.push(new mo(B.key,G,KE(G.value.mapValue),nr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,F,h)})).next((b=>{E=b;const F=b.applyToLocalDocumentSet(_,j);return f.documentOverlayCache.saveOverlays(A,b.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:sT(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ot(De)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await Nu(r,i.changes),await Ed(r.remoteStore)}catch(i){const a=Ag(i,"Failed to persist write");n.reject(a)}}async function BT(t,e){const n=Ie(t);try{const r=await z5(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?$e(l.hu,14607):i.removedDocuments.size>0&&($e(l.hu,42227),l.hu=!1))})),await Nu(n,r,e)}catch(r){await La(r)}}function T_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Ie(l);f.onlineState=h;let p=!1;f.queries.forEach(((g,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&Cg(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RV(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ot(ge.comparator);l=l.insert(a,Qt.newNoDocument(a,Te.min()));const h=Ve().add(a),f=new wd(Te.min(),new Map,new ot(De),l,h);await BT(r,f),r.du=r.du.remove(a),r.Au.delete(e),bg(r)}else await im(r.localStore,e,!1).then((()=>lm(r,e,n))).catch(La)}async function kV(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await B5(n.localStore,e);$T(n,r,null),zT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,i)}catch(i){await La(i)}}async function NV(t,e,n){const r=Ie(t);try{const i=await(function(l,h){const f=Ie(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>($e(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);$T(r,e,n),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,i)}catch(i){await La(i)}}function zT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $T(t,e,n){const r=Ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||WT(t,r)}))}function WT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bg(t))}function S_(t,e,n){for(const r of n)r instanceof OT?(t.Ru.addReference(r.key,e),DV(t,r)):r instanceof FT?(ce(Pg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WT(t,r.key)):_e(19791,{wu:r})}function DV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Pg,"New document in limbo: "+n),t.Eu.add(r),bg(t))}function bg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new EV(n)),t.du=t.du.insert(n,r),bT(t.remoteStore,new Ys(Pr(hg(n.path)),r,"TargetPurposeLimboResolution",dd.ce))}}async function Nu(t,e,n){const r=Ie(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=wg.As(f.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,p){const g=Ie(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Y.forEach(p,(E=>Y.forEach(E.Es,(A=>g.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>Y.forEach(E.ds,(A=>g.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!Ma(_))throw _;ce(_g,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=g.Ms.get(E),V=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(V);g.Ms=g.Ms.insert(E,j)}}})(r.localStore,a))}async function VV(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(Pg,"User change. New user:",e.toKey());const r=await IT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Q.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ls)}}function LV(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function HT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RV.bind(null,e),e.Pu.H_=vV.bind(null,e.eventManager),e.Pu.yu=wV.bind(null,e.eventManager),e}function MV(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NV.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U5(this.persistence,new j5,e.initialUser,this.serializer)}Cu(e){return new ST(vg.mi,this.serializer)}Du(e){return new K5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class jV extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ST((r=>Hh.mi(r,n)),this.serializer)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await mV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yV})()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=(function(a){return new J5(a)})(e.databaseInfo);return(function(a,l,h,f){return new nV(a,l,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new sV(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>T_(this.syncEngine,n,0)),(function(){return y_.v()?new y_:new G5})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,g){const _=new TV(i,a,l,h,f,p);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);ce(io,"RemoteStore shutting down."),r.Ea.add(5),await ku(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class OV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ce(ai,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(ai,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _p(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await IT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FV(t);ce(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>w_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>w_(e.remoteStore,i))),t._onlineComponents=e}async function FV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ai,"Using user provided OfflineComponentProvider");try{await _p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await _p(t,new Kh)}}else ce(ai,"Using default OfflineComponentProvider"),await _p(t,new jV(void 0));return t._offlineComponents}async function KT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ai,"Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(ce(ai,"Using default OnlineComponentProvider"),await I_(t,new um))),t._onlineComponents}function UV(t){return KT(t).then((e=>e.syncEngine))}async function GT(t){const e=await KT(t),n=e.eventManager;return n.onListen=SV.bind(null,e.syncEngine),n.onUnlisten=CV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PV.bind(null,e.syncEngine),n}function BV(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const g=new qT({next:E=>{g.Nu(),l.enqueueAndForget((()=>MT(a,_)));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new jT(hg(h.path),g,{includeMetadataChanges:!0,qa:!0});return LT(a,_)})(await GT(t),t.asyncQueue,e,n,r))),r.promise}function zV(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const g=new qT({next:E=>{g.Nu(),l.enqueueAndForget((()=>MT(a,_))),E.fromCache&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new jT(h,g,{includeMetadataChanges:!0,qa:!0});return LT(a,_)})(await GT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firestore.googleapis.com",C_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=C_}else this.host=e.host,this.ssl=e.ssl??C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_5)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())})(this),Promise.resolve()}}function $V(t,e,n,r={}){t=hs(t,Td);const i=ka(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(p1(`https://${h}`),m1("Firestore",!0)),a.host!==YT&&a.host!==h&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!ti(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Gt.MOCK_USER;else{p=FC(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Gt(_)}t._authCredentials=new QN(new LE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,Tt._jsonSchema))return new Tt(e,r||null,new ge(Ye.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Et("string",Tt._jsonSchemaVersion),referencePath:Et("string")};class ei extends fi{constructor(e,n,r){super(e,n,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ge(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function oo(t,e,...n){if(t=Nt(t),ME("collection","path",e),t instanceof Td){const r=Ye.fromString(e,...n);return Bw(r),new ei(t,null,r)}{if(!(t instanceof Tt||t instanceof ei))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Bw(r),new ei(t.firestore,null,r)}}function ao(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=ig.newId()),ME("doc","path",e),t instanceof Td){const r=Ye.fromString(e,...n);return Uw(r),new Tt(t,null,new ge(r))}{if(!(t instanceof Tt||t instanceof ei))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Uw(r),new Tt(t.firestore,t instanceof ei?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CT(this,"async_queue_retry"),this._c=()=>{const r=wp();r&&ce(b_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ma(e))throw e;ce(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",k_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ig.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function k_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fa extends Td{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function WV(t,e){const n=typeof t=="object"?t:Bm(),r=typeof t=="string"?t:Oh,i=ho(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=jC("firestore");a&&$V(i,...a)}return i}function Rg(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HV(t),t._firestoreClient}function HV(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new mD(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Bt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Et("string",Mn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Et("string",Rr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new kr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:Et("string",kr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^__.*__$/;class KV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}function JT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class Ng{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&qV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Cc(e,n,r,i=!1){return new Ng({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dg(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new GV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZT(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);nS("Data must be an object, but it was:",l,r);const h=eS(r,l);let f,p;if(a.merge)f=new er(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=YV(e,_,n);if(!l.contains(E))throw new le(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JV(g,E)||g.push(E)}f=new er(g),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new KV(new Ln(h),f,p)}function QV(t,e,n,r=!1){return Vg(n,t.Cc(r?4:3,e))}function Vg(t,e){if(tS(t=Nt(t)))return nS("Unsupported field value:",e,t),eS(t,e);if(t instanceof XT)return(function(r,i){if(!JT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=Vg(h,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Wh(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(i.serializer,a)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:gT(i.serializer,r._byteString)};if(r instanceof Tt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return(function(l,h){return{mapValue:{fields:{[HE]:{stringValue:qE},[Fh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return dg(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${hd(r)}`)})(t,e)}function eS(t,e){const n={};return FE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,((r,i)=>{const a=Vg(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function tS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Rr||t instanceof Mn||t instanceof Tt||t instanceof XT||t instanceof kr)}function nS(t,e,n){if(!tS(n)||!jE(n)){const r=hd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function YV(t,e,n){if((e=Nt(e))instanceof kg)return e._internalPath;if(typeof e=="string")return rS(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const XV=new RegExp("[~\\*/\\[\\]]");function rS(t,e,n){if(e.search(XV)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kg(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(Q.INVALID_ARGUMENT,h+t+f)}function JV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZV extends sS{data(){return super.data()}}function Lg(t,e){return typeof e=="string"?rS(t,e):e instanceof kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class jg extends Mg{}function Og(t,e,...n){let r=[];e instanceof Mg&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof Ug)).length,h=a.filter((f=>f instanceof Fg)).length;if(l>1||l>0&&h>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Fg extends jg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){const n=this._parse(e);return oS(e._query,n),new fi(e.firestore,e.converter,em(e._query,n))}_parse(e){const n=Dg(e.firestore);return(function(a,l,h,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){D_(_,g);const V=[];for(const j of _)V.push(N_(f,a,j));E={arrayValue:{values:V}}}else E=N_(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||D_(_,g),E=QV(h,l,_,g==="in"||g==="not-in");return xt.create(p,g,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)oS(l,f),l=em(l,f)})(e._query,n),new fi(e.firestore,e.converter,em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends jg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bg(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(a,l)})(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new ja(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function iS(t,e="asc"){const n=e,r=Lg("orderBy",t);return Bg._create(r,n)}class zg extends jg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zg(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,Bh(e._query,this._limit,this._limitType))}}function t4(t){return zg._create("limit",t,"F")}function N_(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ge.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qw(t,new ge(r))}if(n instanceof Tt)return Qw(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function D_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n4{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((r=>mt(r.doubleValue)));return new kr(n)}convertGeoPoint(e){return new Rr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ri(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);$e(ET(r),9688,{name:e});const i=new cu(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||cs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xi extends sS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xi._jsonSchema={type:Et("string",Xi._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class xh extends Xi{data(e={}){return super.data(e)}}class wa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new xh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Hl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new xh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Hl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:r4(h.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){t=hs(t,Tt);const e=hs(t.firestore,Fa);return BV(Rg(e),t._key).then((n=>o4(e,t,n)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Et("string",wa._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class lS extends n4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function $g(t){t=hs(t,fi);const e=hs(t.firestore,Fa),n=Rg(e),r=new lS(e);return e4(t._query),zV(n,t._query).then((i=>new wa(e,r,t,i)))}function s4(t,e,n){t=hs(t,Tt);const r=hs(t.firestore,Fa),i=aS(t.converter,e,n);return Wg(r,[ZT(Dg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function i4(t){return Wg(hs(t.firestore,Fa),[new fg(t._key,nr.none())])}function Sd(t,e){const n=hs(t.firestore,Fa),r=ao(t),i=aS(t.converter,e);return Wg(n,[ZT(Dg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then((()=>r))}function Wg(t,e){return(function(r,i){const a=new os;return r.asyncQueue.enqueueAndForget((async()=>bV(await UV(r),i,a))),a.promise})(Rg(t),e)}function o4(t,e,n){const r=n.docs.get(e._key),i=new lS(t);return new Xi(t,i,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Va=i})(Na),Vr(new rr("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Fa(new YN(r.getProvider("auth-internal")),new ZN(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(p.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),On(Mw,jw,e),On(Mw,jw,"esm2020")})();const a4={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Hg=E1(a4);kR(Hg);const kt=qN(Hg),Sn=WV(Hg),uS=new ts,qg=R.createContext({});function Kg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gg=typeof window<"u",cS=Gg?R.useLayoutEffect:R.useEffect,Id=R.createContext(null);function Qg(t,e){t.indexOf(e)===-1&&t.push(e)}function Yg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fs=(t,e,n)=>n>e?e:n<t?t:n;let Xg=()=>{};const ps={},hS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dS(t){return typeof t=="object"&&t!==null}const fS=t=>/^0[^.\s]+$/u.test(t);function Jg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fn=t=>t,l4=(t,e)=>n=>e(t(n)),Du=(...t)=>t.reduce(l4),mu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Zg{constructor(){this.subscriptions=[]}add(e){return Qg(this.subscriptions,e),()=>Yg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nr=t=>t*1e3,jn=t=>t/1e3;function pS(t,e){return e?t*(1e3/e):0}const mS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u4=1e-7,c4=12;function h4(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=mS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>u4&&++h<c4);return l}function Vu(t,e,n,r){if(t===e&&n===r)return Fn;const i=a=>h4(a,0,1,t,n);return a=>a===0||a===1?a:mS(i(a),e,r)}const gS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yS=t=>e=>1-t(1-e),vS=Vu(.33,1.53,.69,.99),ey=yS(vS),wS=gS(ey),_S=t=>(t*=2)<1?.5*ey(t):.5*(2-Math.pow(2,-10*(t-1))),ty=t=>1-Math.sin(Math.acos(t)),xS=yS(ty),ES=gS(ty),d4=Vu(.42,0,1,1),f4=Vu(0,0,.58,1),TS=Vu(.42,0,.58,1),p4=t=>Array.isArray(t)&&typeof t[0]!="number",SS=t=>Array.isArray(t)&&typeof t[0]=="number",m4={linear:Fn,easeIn:d4,easeInOut:TS,easeOut:f4,circIn:ty,circInOut:ES,circOut:xS,backIn:ey,backInOut:wS,backOut:vS,anticipate:_S},g4=t=>typeof t=="string",V_=t=>{if(SS(t)){Xg(t.length===4);const[e,n,r,i]=t;return Vu(e,n,r,i)}else if(g4(t))return m4[t];return t},oh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function y4(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,_=!1,E=!1)=>{const V=E&&i?n:r;return _&&l.add(g),V.has(g)||V.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(h=g,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(g))}};return p}const v4=40;function IS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=oh.reduce((G,se)=>(G[se]=y4(a),G),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:E,render:A,postRender:V}=l,j=()=>{const G=ps.useManualTiming?i.timestamp:performance.now();n=!1,ps.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(G-i.timestamp,v4),1)),i.timestamp=G,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),g.process(i),_.process(i),E.process(i),A.process(i),V.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(j))},b=()=>{n=!0,r=!0,i.isProcessing||t(j)};return{schedule:oh.reduce((G,se)=>{const ne=l[se];return G[se]=(X,C=!1,I=!1)=>(n||b(),ne.schedule(X,C,I)),G},{}),cancel:G=>{for(let se=0;se<oh.length;se++)l[oh[se]].cancel(G)},state:i,steps:l}}const{schedule:tt,cancel:li,state:Ot,steps:xp}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let Eh;function w4(){Eh=void 0}const hn={now:()=>(Eh===void 0&&hn.set(Ot.isProcessing||ps.useManualTiming?Ot.timestamp:performance.now()),Eh),set:t=>{Eh=t,queueMicrotask(w4)}},AS=t=>e=>typeof e=="string"&&e.startsWith(t),ny=AS("--"),_4=AS("var(--"),ry=t=>_4(t)?x4.test(t.split("/*")[0].trim()):!1,x4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Ua,transform:t=>fs(0,1,t)},ah={...Ua,default:1},Zl=t=>Math.round(t*1e5)/1e5,sy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function E4(t){return t==null}const T4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iy=(t,e)=>n=>!!(typeof n=="string"&&T4.test(n)&&n.startsWith(t)||e&&!E4(n)&&Object.prototype.hasOwnProperty.call(n,e)),CS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(sy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},S4=t=>fs(0,255,t),Ep={...Ua,transform:t=>Math.round(S4(t))},Qi={test:iy("rgb","red"),parse:CS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ep.transform(t)+", "+Ep.transform(e)+", "+Ep.transform(n)+", "+Zl(gu.transform(r))+")"};function I4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cm={test:iy("#"),parse:I4,transform:Qi.transform},Lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qs=Lu("deg"),Dr=Lu("%"),xe=Lu("px"),A4=Lu("vh"),C4=Lu("vw"),L_={...Dr,parse:t=>Dr.parse(t)/100,transform:t=>Dr.transform(t*100)},ua={test:iy("hsl","hue"),parse:CS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dr.transform(Zl(e))+", "+Dr.transform(Zl(n))+", "+Zl(gu.transform(r))+")"},_t={test:t=>Qi.test(t)||cm.test(t)||ua.test(t),parse:t=>Qi.test(t)?Qi.parse(t):ua.test(t)?ua.parse(t):cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qi.transform(t):ua.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},P4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b4(t){return isNaN(t)&&typeof t=="string"&&(t.match(sy)?.length||0)+(t.match(P4)?.length||0)>0}const PS="number",bS="color",R4="var",k4="var(",M_="${}",N4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(N4,f=>(_t.test(f)?(r.color.push(a),i.push(bS),n.push(_t.parse(f))):f.startsWith(k4)?(r.var.push(a),i.push(R4),n.push(f)):(r.number.push(a),i.push(PS),n.push(parseFloat(f))),++a,M_)).split(M_);return{values:n,split:h,indexes:r,types:i}}function RS(t){return yu(t).values}function kS(t){const{split:e,types:n}=yu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===PS?a+=Zl(i[l]):h===bS?a+=_t.transform(i[l]):a+=i[l]}return a}}const D4=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function V4(t){const e=RS(t);return kS(t)(e.map(D4))}const ui={test:b4,parse:RS,createTransformer:kS,getAnimatableNone:V4};function Tp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=Tp(f,h,t+1/3),a=Tp(f,h,t),l=Tp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Yh(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,Sp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},M4=[cm,Qi,ua],j4=t=>M4.find(e=>e.test(t));function j_(t){const e=j4(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=L4(n)),n}const O_=(t,e)=>{const n=j_(t),r=j_(e);if(!n||!r)return Yh(t,e);const i={...n};return a=>(i.red=Sp(n.red,r.red,a),i.green=Sp(n.green,r.green,a),i.blue=Sp(n.blue,r.blue,a),i.alpha=it(n.alpha,r.alpha,a),Qi.transform(i))},hm=new Set(["none","hidden"]);function O4(t,e){return hm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function F4(t,e){return n=>it(t,e,n)}function oy(t){return typeof t=="number"?F4:typeof t=="string"?ry(t)?Yh:_t.test(t)?O_:z4:Array.isArray(t)?NS:typeof t=="object"?_t.test(t)?O_:U4:Yh}function NS(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>oy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function U4(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=oy(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function B4(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const z4=(t,e)=>{const n=ui.createTransformer(e),r=yu(t),i=yu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hm.has(t)&&!i.values.length||hm.has(e)&&!r.values.length?O4(t,e):Du(NS(B4(r,i),i.values),n):Yh(t,e)};function DS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):oy(t)(t,e)}const $4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>li(e),now:()=>Ot.isProcessing?Ot.timestamp:hn.now()}},VS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xh=2e4;function ay(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xh;)e+=n,r=t.next(e);return e>=Xh?1/0:e}function W4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ay(r),Xh);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:jn(i)}}const H4=5;function LS(t,e,n){const r=Math.max(e-H4,0);return pS(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ip=.001;function q4({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,a,l=1-e;l=fs(ut.minDamping,ut.maxDamping,l),t=fs(ut.minDuration,ut.maxDuration,jn(t)),l<1?(i=p=>{const g=p*l,_=g*t,E=g-n,A=dm(p,l),V=Math.exp(-_);return Ip-E/A*V},a=p=>{const _=p*l*t,E=_*n+n,A=Math.pow(l,2)*Math.pow(p,2)*t,V=Math.exp(-_),j=dm(Math.pow(p,2),l);return(-i(p)+Ip>0?-1:1)*((E-A)*V)/j}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-Ip+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,f=G4(i,a,h);if(t=Nr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const K4=12;function G4(t,e,n){let r=n;for(let i=1;i<K4;i++)r=r-t(r)/e(r);return r}function dm(t,e){return t*Math.sqrt(1-e*e)}const Q4=["duration","bounce"],Y4=["stiffness","damping","mass"];function F_(t,e){return e.some(n=>t[n]!==void 0)}function X4(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!F_(t,Y4)&&F_(t,Q4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ut.mass,stiffness:i,damping:a}}else{const n=q4(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function Jh(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:A}=X4({...n,velocity:-jn(n.velocity||0)}),V=E||0,j=p/(2*Math.sqrt(f*g)),b=l-a,F=jn(Math.sqrt(f/g)),B=Math.abs(b)<5;r||(r=B?ut.restSpeed.granular:ut.restSpeed.default),i||(i=B?ut.restDelta.granular:ut.restDelta.default);let G;if(j<1){const ne=dm(F,j);G=X=>{const C=Math.exp(-j*F*X);return l-C*((V+j*F*b)/ne*Math.sin(ne*X)+b*Math.cos(ne*X))}}else if(j===1)G=ne=>l-Math.exp(-F*ne)*(b+(V+F*b)*ne);else{const ne=F*Math.sqrt(j*j-1);G=X=>{const C=Math.exp(-j*F*X),I=Math.min(ne*X,300);return l-C*((V+j*F*b)*Math.sinh(I)+ne*b*Math.cosh(I))/ne}}const se={calculatedDuration:A&&_||null,next:ne=>{const X=G(ne);if(A)h.done=ne>=_;else{let C=ne===0?V:0;j<1&&(C=ne===0?Nr(V):LS(G,ne,X));const I=Math.abs(C)<=r,P=Math.abs(l-X)<=i;h.done=I&&P}return h.value=h.done?l:X,h},toString:()=>{const ne=Math.min(ay(se),Xh),X=VS(C=>se.next(ne*C).value,ne,30);return ne+"ms "+X},toTransition:()=>{}};return se}Jh.applyToOptions=t=>{const e=W4(t,100,Jh);return t.ease=e.ease,t.duration=Nr(e.duration),t.type="keyframes",t};function fm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,V=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let j=n*e;const b=_+j,F=l===void 0?b:l(b);F!==b&&(j=F-_);const B=I=>-j*Math.exp(-I/r),G=I=>F+B(I),se=I=>{const P=B(I),D=G(I);E.done=Math.abs(P)<=p,E.value=E.done?F:D};let ne,X;const C=I=>{A(E.value)&&(ne=I,X=Jh({keyframes:[E.value,V(E.value)],velocity:LS(G,I,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return C(0),{calculatedDuration:null,next:I=>{let P=!1;return!X&&ne===void 0&&(P=!0,se(I),C(I)),ne!==void 0&&I>=ne?X.next(I-ne):(!P&&se(I),E)}}}function J4(t,e,n){const r=[],i=n||ps.mix||DS,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Fn:e;h=Du(f,h)}r.push(h)}return r}function Z4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Xg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=J4(e,r,i),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=mu(t[_],t[_+1],g);return h[_](E)};return n?g=>p(fs(t[0],t[a-1],g)):p}function eL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mu(0,e,r);t.push(it(n,1,i))}}function tL(t){const e=[0];return eL(e,t.length-1),e}function nL(t,e){return t.map(n=>n*e)}function rL(t,e){return t.map(()=>e||TS).splice(0,t.length-1)}function eu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=p4(r)?r.map(V_):V_(r),a={done:!1,value:e[0]},l=nL(n&&n.length===e.length?n:tL(e),t),h=Z4(l,e,{ease:Array.isArray(i)?i:rL(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const sL=t=>t!==null;function ly(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(sL),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const iL={decay:fm,inertia:fm,tween:eu,keyframes:eu,spring:Jh};function MS(t){typeof t.type=="string"&&(t.type=iL[t.type])}class uy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const oL=t=>t/100;class cy extends uy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MS(e);const{type:n=eu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||eu;f!==eu&&typeof h[0]!="number"&&(this.mixKeyframes=Du(oL,DS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ay(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:E,repeatDelay:A,type:V,onUpdate:j,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?F<0:F>i;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let G=this.currentTime,se=r;if(_){const I=Math.min(this.currentTime,i)/h;let P=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&P--,P=Math.min(P,_+1),!!(P%2)&&(E==="reverse"?(D=1-D,A&&(D-=A/h)):E==="mirror"&&(se=l)),G=fs(0,1,D)*h}const ne=B?{done:!1,value:g[0]}:se.next(G);a&&(ne.value=a(ne.value));let{done:X}=ne;!B&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return C&&V!==fm&&(ne.value=ly(g,this.options,b,this.speed)),j&&j(ne.value),C&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jn(e)}get time(){return jn(this.currentTime)}set time(e){e=Nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$4,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yi=t=>t*180/Math.PI,pm=t=>{const e=Yi(Math.atan2(t[1],t[0]));return mm(e)},lL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pm,rotateZ:pm,skewX:t=>Yi(Math.atan(t[1])),skewY:t=>Yi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mm=t=>(t=t%360,t<0&&(t+=360),t),U_=pm,B_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),z_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),uL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B_,scaleY:z_,scale:t=>(B_(t)+z_(t))/2,rotateX:t=>mm(Yi(Math.atan2(t[6],t[5]))),rotateY:t=>mm(Yi(Math.atan2(-t[2],t[0]))),rotateZ:U_,rotate:U_,skewX:t=>Yi(Math.atan(t[4])),skewY:t=>Yi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gm(t){return t.includes("scale")?1:0}function ym(t,e){if(!t||t==="none")return gm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=uL,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lL,i=h}if(!i)return gm(e);const a=r[e],l=i[1].split(",").map(hL);return typeof a=="function"?a(l):l[a]}const cL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ym(n,e)};function hL(t){return parseFloat(t.trim())}const Ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],za=new Set(Ba),$_=t=>t===Ua||t===xe,dL=new Set(["x","y","z"]),fL=Ba.filter(t=>!dL.has(t));function pL(t){const e=[];return fL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ji={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ym(e,"x"),y:(t,{transform:e})=>ym(e,"y")};Ji.translateX=Ji.x;Ji.translateY=Ji.y;const Zi=new Set;let vm=!1,wm=!1,_m=!1;function jS(){if(wm){const t=Array.from(Zi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=pL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wm=!1,vm=!1,Zi.forEach(t=>t.complete(_m)),Zi.clear()}function OS(){Zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wm=!0)})}function mL(){_m=!0,OS(),jS(),_m=!1}class hy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),vm||(vm=!0,tt.read(OS),tt.resolveKeyframes(jS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}aL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gL=t=>t.startsWith("--");function yL(t,e,n){gL(e)?t.style.setProperty(e,n):t.style[e]=n}const vL=Jg(()=>window.ScrollTimeline!==void 0),wL={};function _L(t,e){const n=Jg(t);return()=>wL[e]??n()}const FS=_L(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,W_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"?FS()?VS(t,e):"ease-out":SS(t)?ql(t):Array.isArray(t)?t.map(n=>US(n,e)||W_.easeOut):W_[t]}function xL(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const _=US(h,i);Array.isArray(_)&&(g.easing=_);const E={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(g,E)}function BS(t){return typeof t=="function"&&"applyToOptions"in t}function EL({type:t,...e}){return BS(t)&&FS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TL extends uy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Xg(typeof e.type!="string");const p=EL(e);this.animation=xL(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=ly(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):yL(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jn(e)}get time(){return jn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&vL()?(this.animation.timeline=e,Fn):n(this)}}const zS={anticipate:_S,backInOut:wS,circInOut:ES};function SL(t){return t in zS}function IL(t){typeof t.ease=="string"&&SL(t.ease)&&(t.ease=zS[t.ease])}const H_=10;class AL extends TL{constructor(e){IL(e),MS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new cy({...l,autoplay:!1}),f=Nr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-H_).value,h.sample(f).value,H_),h.stop()}}const q_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ui.test(t)||t==="0")&&!t.startsWith("url("));function CL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=q_(i,e),h=q_(a,e);return!l||!h?!1:CL(t)||(n==="spring"||BS(n))&&r}function xm(t){t.duration=0,t.type="keyframes"}const bL=new Set(["opacity","clipPath","filter","transform"]),RL=Jg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kL(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return RL()&&n&&bL.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const NL=40;class DL extends uy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:g,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,..._},A=g?.KeyframeResolver||hy;this.keyframeResolver=new A(h,(V,j,b)=>this.onKeyframesResolved(V,j,E,!b),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=hn.now(),PL(e,a,l,h)||((ps.instantAnimations||!f)&&g?.(ly(e,r,n)),e[0]=e[e.length-1],xm(r),r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>NL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&kL(E)?new AL({...E,element:E.motionValue.owner.current}):new cy(E);A.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const VL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LL(t){const e=VL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function $S(t,e,n=1){const[r,i]=LL(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return hS(l)?parseFloat(l):l}return ry(i)?$S(i,e,n+1):i}function dy(t,e){return t?.[e]??t?.default??t}const WS=new Set(["width","height","top","left","right","bottom",...Ba]),ML={test:t=>t==="auto",parse:t=>t},HS=t=>e=>e.test(t),qS=[Ua,xe,Dr,qs,C4,A4,ML],K_=t=>qS.find(HS(t));function jL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fS(t):!0}const OL=new Set(["brightness","contrast","saturate","opacity"]);function FL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sy)||[];if(!r)return t;const i=n.replace(r,"");let a=OL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const UL=/\b([a-z-]*)\(.*?\)/gu,Em={...ui,getAnimatableNone:t=>{const e=t.match(UL);return e?e.map(FL).join(" "):t}},G_={...Ua,transform:Math.round},BL={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:ah,scaleX:ah,scaleY:ah,scaleZ:ah,skew:qs,skewX:qs,skewY:qs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:gu,originX:L_,originY:L_,originZ:xe},fy={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...BL,zIndex:G_,fillOpacity:gu,strokeOpacity:gu,numOctaves:G_},zL={...fy,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Em,WebkitFilter:Em},KS=t=>zL[t];function GS(t,e){let n=KS(t);return n!==Em&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $L=new Set(["auto","none","0"]);function WL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!$L.has(a)&&yu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=GS(n,i)}class HL extends hy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),ry(p))){const g=$S(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!WS.has(r)||e.length!==2)return;const[i,a]=e,l=K_(i),h=K_(a);if(l!==h)if($_(l)&&$_(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Ji[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||jL(e[i]))&&r.push(i);r.length&&WL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ji[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Ji[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function qL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const QS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YS(t){return dS(t)&&"offsetHeight"in t}const Q_=30,KL=t=>!isNaN(parseFloat(t));class GL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=hn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zg);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Q_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Q_);return pS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ca(t,e){return new GL(t,e)}const{schedule:py}=IS(queueMicrotask,!1),Jn={x:!1,y:!1};function XS(){return Jn.x||Jn.y}function QL(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function JS(t,e){const n=qL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Y_(t){return!(t.pointerType==="touch"||XS())}function YL(t,e,n={}){const[r,i,a]=JS(t,n),l=h=>{if(!Y_(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=_=>{Y_(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const ZS=(t,e)=>e?t===e?!0:ZS(t,e.parentElement):!1,my=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JL(t){return XL.has(t.tagName)||t.tabIndex!==-1}const Th=new WeakSet;function X_(t){return e=>{e.key==="Enter"&&t(e)}}function Ap(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=X_(()=>{if(Th.has(n))return;Ap(n,"down");const i=X_(()=>{Ap(n,"up")}),a=()=>Ap(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function J_(t){return my(t)&&!XS()}function eM(t,e,n={}){const[r,i,a]=JS(t,n),l=h=>{const f=h.currentTarget;if(!J_(h))return;Th.add(f);const p=e(f,h),g=(A,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Th.has(f)&&Th.delete(f),J_(A)&&typeof p=="function"&&p(A,{success:V})},_=A=>{g(A,f===window||f===document||n.useGlobalTarget||ZS(f,A.target))},E=A=>{g(A,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",E,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),YS(h)&&(h.addEventListener("focus",p=>ZL(p,i)),!JL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function eI(t){return dS(t)&&"ownerSVGElement"in t}function tM(t){return eI(t)&&t.tagName==="svg"}const Yt=t=>!!(t&&t.getVelocity),nM=[...qS,_t,ui],rM=t=>nM.find(HS(t)),gy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sM(...t){return e=>{let n=!1;const r=t.map(i=>{const a=Z_(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Z_(t[i],null)}}}}function iM(...t){return R.useCallback(sM(...t),t)}class oM extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=YS(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aM({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),a=R.useRef(null),l=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=R.useContext(gy),f=iM(a,t?.ref);return R.useInsertionEffect(()=>{const{width:p,height:g,top:_,left:E,right:A}=l.current;if(e||!a.current||!p||!g)return;const V=n==="left"?`left: ${E}`:`right: ${A}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");h&&(j.nonce=h);const b=r??document.head;return b.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${V}px !important;
            top: ${_}px !important;
          }
        `),()=>{b.contains(j)&&b.removeChild(j)}},[e]),y.jsx(oM,{isPresent:e,childRef:a,sizeRef:l,children:R.cloneElement(t,{ref:f})})}const lM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,root:f})=>{const p=Kg(uM),g=R.useId();let _=!0,E=R.useMemo(()=>(_=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:A=>{p.set(A,!0);for(const V of p.values())if(!V)return;r&&r()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,r]);return a&&_&&(E={...E}),R.useMemo(()=>{p.forEach((A,V)=>p.set(V,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=y.jsx(aM,{isPresent:n,anchorX:h,root:f,children:t})),y.jsx(Id.Provider,{value:E,children:t})};function uM(){return new Map}function tI(t=!0){const e=R.useContext(Id);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{if(t)return i(a)},[t]);const l=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const lh=t=>t.key||"";function ex(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const yy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",root:f})=>{const[p,g]=tI(l),_=R.useMemo(()=>ex(t),[t]),E=l&&!p?[]:_.map(lh),A=R.useRef(!0),V=R.useRef(_),j=Kg(()=>new Map),[b,F]=R.useState(_),[B,G]=R.useState(_);cS(()=>{A.current=!1,V.current=_;for(let X=0;X<B.length;X++){const C=lh(B[X]);E.includes(C)?j.delete(C):j.get(C)!==!0&&j.set(C,!1)}},[B,E.length,E.join("-")]);const se=[];if(_!==b){let X=[..._];for(let C=0;C<B.length;C++){const I=B[C],P=lh(I);E.includes(P)||(X.splice(C,0,I),se.push(I))}return a==="wait"&&se.length&&(X=se),G(ex(X)),F(_),null}const{forceRender:ne}=R.useContext(qg);return y.jsx(y.Fragment,{children:B.map(X=>{const C=lh(X),I=l&&!p?!1:_===B||E.includes(C),P=()=>{if(j.has(C))j.set(C,!0);else return;let D=!0;j.forEach(L=>{L||(D=!1)}),D&&(ne?.(),G(V.current),l&&g?.(),r&&r())};return y.jsx(lM,{isPresent:I,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:I?void 0:P,anchorX:h,children:X},C)})})},nI=R.createContext({strict:!1}),tx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const t in tx)Pa[t]={isEnabled:e=>tx[t].some(n=>!!e[n])};function cM(t){for(const e in t)Pa[e]={...Pa[e],...t[e]}}const hM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hM.has(t)}let rI=t=>!Zh(t);function dM(t){typeof t=="function"&&(rI=e=>e.startsWith("on")?!Zh(e):t(e))}try{dM(require("@emotion/is-prop-valid").default)}catch{}function fM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(rI(i)||n===!0&&Zh(i)||!e&&!Zh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Ad=R.createContext({});function Cd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wy=["initial",...vy];function Pd(t){return Cd(t.animate)||wy.some(e=>vu(t[e]))}function sI(t){return!!(Pd(t)||t.variants)}function pM(t,e){if(Pd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(r)?r:void 0}}return t.inherit!==!1?e:{}}function mM(t){const{initial:e,animate:n}=pM(t,R.useContext(Ad));return R.useMemo(()=>({initial:e,animate:n}),[nx(e),nx(n)])}function nx(t){return Array.isArray(t)?t.join(" "):t}const wu={};function gM(t){for(const e in t)wu[e]=t[e],ny(e)&&(wu[e].isCSSVariable=!0)}function iI(t,{layout:e,layoutId:n}){return za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wu[t]||t==="opacity")}const yM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vM=Ba.length;function wM(t,e,n){let r="",i=!0;for(let a=0;a<vM;a++){const l=Ba[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=QS(h,fy[l]);if(!f){i=!1;const g=yM[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function _y(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(za.has(f)){l=!0;continue}else if(ny(f)){i[f]=p;continue}else{const g=QS(p,fy[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=wM(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oI(t,e,n){for(const r in e)!Yt(e[r])&&!iI(r,n)&&(t[r]=e[r])}function _M({transformTemplate:t},e){return R.useMemo(()=>{const n=xy();return _y(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xM(t,e){const n=t.style||{},r={};return oI(r,n,t),Object.assign(r,_M(t,e)),r}function EM(t,e){const n={},r=xM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const TM={offset:"stroke-dashoffset",array:"stroke-dasharray"},SM={offset:"strokeDashoffset",array:"strokeDasharray"};function IM(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?TM:SM;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function aI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,g){if(_y(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=g?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&IM(_,i,a,l,!1)}const lI=()=>({...xy(),attrs:{}}),uI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AM(t,e,n,r){const i=R.useMemo(()=>{const a=lI();return aI(a,e,uI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};oI(a,t.style,t),i.style={...a,...i.style}}return i}const CM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ey(t){return typeof t!="string"||t.includes("-")?!1:!!(CM.indexOf(t)>-1||/[A-Z]/u.test(t))}function PM(t,e,n,{latestValues:r},i,a=!1){const h=(Ey(t)?AM:EM)(e,r,i,t),f=fM(e,typeof t=="string",a),p=t!==R.Fragment?{...f,...h,ref:n}:{},{children:g}=e,_=R.useMemo(()=>Yt(g)?g.get():g,[g]);return R.createElement(t,{...p,children:_})}function rx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ty(t,e,n,r){if(typeof e=="function"){const[i,a]=rx(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=rx(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Sh(t){return Yt(t)?t.get():t}function bM({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:RM(n,r,i,t),renderState:e()}}function RM(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Sh(a[E]);let{initial:l,animate:h}=t;const f=Pd(t),p=sI(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Cd(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const V=Ty(t,E[A]);if(V){const{transitionEnd:j,transition:b,...F}=V;for(const B in F){let G=F[B];if(Array.isArray(G)){const se=g?G.length-1:0;G=G[se]}G!==null&&(i[B]=G)}for(const B in j)i[B]=j[B]}}}return i}const cI=t=>(e,n)=>{const r=R.useContext(Ad),i=R.useContext(Id),a=()=>bM(t,e,r,i);return n?a():Kg(a)};function Sy(t,e,n){const{style:r}=t,i={};for(const a in r)(Yt(r[a])||e.style&&Yt(e.style[a])||iI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const kM=cI({scrapeMotionValuesFromProps:Sy,createRenderState:xy});function hI(t,e,n){const r=Sy(t,e,n);for(const i in t)if(Yt(t[i])||Yt(e[i])){const a=Ba.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const NM=cI({scrapeMotionValuesFromProps:hI,createRenderState:lI}),DM=Symbol.for("motionComponentSymbol");function ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VM(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ca(n)&&(n.current=r))},[e])}const Iy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LM="framerAppearId",dI="data-"+Iy(LM),fI=R.createContext({});function MM(t,e,n,r,i){const{visualElement:a}=R.useContext(Ad),l=R.useContext(nI),h=R.useContext(Id),f=R.useContext(gy).reducedMotion,p=R.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=R.useContext(fI);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&jM(p.current,n,i,_);const E=R.useRef(!1);R.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const A=n[dI],V=R.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return cS(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),V.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!V.current&&g.animationState&&g.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),V.current=!1),g.enteringChildren=void 0)}),g}function jM(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pI(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&ca(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function pI(t){if(t)return t.options.allowProjection!==!1?t.projection:pI(t.parent)}function Cp(t,{forwardMotionProps:e=!1}={},n,r){n&&cM(n);const i=Ey(t)?NM:kM;function a(h,f){let p;const g={...R.useContext(gy),...h,layoutId:OM(h)},{isStatic:_}=g,E=mM(h),A=i(h,_);if(!_&&Gg){FM();const V=UM(g);p=V.MeasureLayout,E.visualElement=MM(t,A,g,r,V.ProjectionNode)}return y.jsxs(Ad.Provider,{value:E,children:[p&&E.visualElement?y.jsx(p,{visualElement:E.visualElement,...g}):null,PM(t,h,VM(A,E.visualElement,f),A,_,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=R.forwardRef(a);return l[DM]=t,l}function OM({layoutId:t}){const e=R.useContext(qg).id;return e&&t!==void 0?e+"-"+t:t}function FM(t,e){R.useContext(nI).strict}function UM(t){const{drag:e,layout:n}=Pa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function BM(t,e){if(typeof Proxy>"u")return Cp;const n=new Map,r=(a,l)=>Cp(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Cp(l,void 0,t,e)),n.get(l))})}function mI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $M(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pp(t){return t===void 0||t===1}function Tm({scale:t,scaleX:e,scaleY:n}){return!Pp(t)||!Pp(e)||!Pp(n)}function Hi(t){return Tm(t)||gI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gI(t){return sx(t.x)||sx(t.y)}function sx(t){return t&&t!=="0%"}function ed(t,e,n){const r=t-n,i=e*r;return n+i}function ix(t,e,n,r,i){return i!==void 0&&(t=ed(t,i,r)),ed(t,n,r)+e}function Sm(t,e=0,n=1,r,i){t.min=ix(t.min,e,n,r,i),t.max=ix(t.max,e,n,r,i)}function yI(t,{x:e,y:n}){Sm(t.x,e.translate,e.scale,e.originPoint),Sm(t.y,n.translate,n.scale,n.originPoint)}const ox=.999999999999,ax=1.0000000000001;function WM(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,yI(t,l)),r&&Hi(a.latestValues)&&da(t,a.latestValues))}e.x<ax&&e.x>ox&&(e.x=1),e.y<ax&&e.y>ox&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function lx(t,e,n,r,i=.5){const a=it(t.min,t.max,i);Sm(t,e,n,a,r)}function da(t,e){lx(t.x,e.x,e.scaleX,e.scale,e.originX),lx(t.y,e.y,e.scaleY,e.scale,e.originY)}function vI(t,e){return mI($M(t.getBoundingClientRect(),e))}function HM(t,e,n){const r=vI(t,n),{scroll:i}=e;return i&&(ha(r.x,i.offset.x),ha(r.y,i.offset.y)),r}const ux=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:ux(),y:ux()}),cx=()=>({min:0,max:0}),pt=()=>({x:cx(),y:cx()}),Im={current:null},wI={current:!1};function qM(){if(wI.current=!0,!!Gg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Im.current=t.matches;t.addEventListener("change",e),e()}else Im.current=!1}const KM=new WeakMap;function GM(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Yt(i))t.addValue(r,i);else if(Yt(a))t.addValue(r,Ca(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Ca(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Pd(n),this.isVariantNode=sI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];f[E]!==void 0&&Yt(A)&&A.set(f[E])}}mount(e){this.current=e,KM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wI.current||qM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Im.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),li(this.notifyUpdate),li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=za.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pa){const n=Pa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hx.length;r++){const i=hx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=GM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ca(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(hS(r)||fS(r))?r=parseFloat(r):!rM(r)&&ui.test(n)&&(r=GS(e,n)),this.setBaseTarget(e,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Ty(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Yt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){py.render(this.render)}}class _I extends QM{constructor(){super(...arguments),this.KeyframeResolver=HL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xI(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function YM(t){return window.getComputedStyle(t)}class XM extends _I{constructor(){super(...arguments),this.type="html",this.renderInstance=xI}readValueFromInstance(e,n){if(za.has(n))return this.projection?.isProjecting?gm(n):cL(e,n);{const r=YM(e),i=(ny(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vI(e,n)}build(e,n,r){_y(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sy(e,n,r)}}const EI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JM(t,e,n,r){xI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(EI.has(i)?i:Iy(i),e.attrs[i])}class ZM extends _I{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(za.has(n)){const r=KS(n);return r&&r.default||0}return n=EI.has(n)?n:Iy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return hI(e,n,r)}build(e,n,r){aI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){JM(e,n,r,i)}mount(e){this.isSVGTag=uI(e.tagName),super.mount(e)}}const ej=(t,e)=>Ey(t)?new ZM(e):new XM(e,{allowProjection:t!==R.Fragment});function _a(t,e,n){const r=t.getProps();return Ty(r,e,n!==void 0?n:r.custom,t)}const Am=t=>Array.isArray(t);function tj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ca(n))}function nj(t){return Am(t)?t[t.length-1]||0:t}function rj(t,e){const n=_a(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=nj(a[l]);tj(t,l,h)}}function sj(t){return!!(Yt(t)&&t.add)}function Cm(t,e){const n=t.getValue("willChange");if(sj(n))return n.add(e);if(!n&&ps.WillChange){const r=new ps.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function TI(t){return t.props[dI]}const ij=t=>t!==null;function oj(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(ij),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const aj={type:"spring",stiffness:500,damping:25,restSpeed:10},lj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uj={type:"keyframes",duration:.8},cj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hj=(t,{keyframes:e})=>e.length>2?uj:za.has(t)?t.startsWith("scale")?lj(e[1]):aj:cj;function dj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Ay=(t,e,n,r={},i,a)=>l=>{const h=dy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Nr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};dj(h)||Object.assign(g,hj(t,g)),g.duration&&(g.duration=Nr(g.duration)),g.repeatDelay&&(g.repeatDelay=Nr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(xm(g),g.delay===0&&(_=!0)),(ps.instantAnimations||ps.skipAnimations)&&(_=!0,xm(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=oj(g.keyframes,h);if(E!==void 0){tt.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new cy(g):new DL(g)};function fj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const _=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||p&&fj(p,g))continue;const A={delay:n,...dy(a||{},g)},V=_.get();if(V!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===V&&!A.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const F=TI(t);if(F){const B=window.MotionHandoffAnimation(F,g,tt);B!==null&&(A.startTime=B,j=!0)}}Cm(t,g),_.start(Ay(g,_,E,t.shouldReduceMotion&&WS.has(g)?{type:!1}:A,t,j));const b=_.animation;b&&f.push(b)}return l&&Promise.all(f).then(()=>{tt.update(()=>{l&&rj(t,l)})}),f}function II(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}function Pm(t,e,n={}){const r=_a(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(SI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:_}=i;return pj(t,e,f,p,g,_,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function pj(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Pm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+II(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function mj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Pm(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Pm(t,e,n);else{const i=typeof e=="function"?_a(t,e,n.custom):e;r=Promise.all(SI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function AI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gj=wy.length;function CI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gj;n++){const r=wy[n],i=t.props[r];(vu(i)||i===!1)&&(e[r]=i)}return e}const yj=[...vy].reverse(),vj=vy.length;function wj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mj(t,n,r)))}function _j(t){let e=wj(t),n=dx(),r=!0;const i=f=>(p,g)=>{const _=_a(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:A,...V}=_;p={...p,...V,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=CI(t.parent)||{},_=[],E=new Set;let A={},V=1/0;for(let b=0;b<vj;b++){const F=yj[b],B=n[F],G=p[F]!==void 0?p[F]:g[F],se=vu(G),ne=F===f?B.isActive:null;ne===!1&&(V=b);let X=G===g[F]&&G!==p[F]&&se;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),B.protectedKeys={...A},!B.isActive&&ne===null||!G&&!B.prevProp||Cd(G)||typeof G=="boolean")continue;const C=xj(B.prevProp,G);let I=C||F===f&&B.isActive&&!X&&se||b>V&&se,P=!1;const D=Array.isArray(G)?G:[G];let L=D.reduce(i(F),{});ne===!1&&(L={});const{prevResolvedValues:z={}}=B,N={...z,...L},We=Ae=>{I=!0,E.has(Ae)&&(P=!0,E.delete(Ae)),B.needsAnimating[Ae]=!0;const re=t.getValue(Ae);re&&(re.liveStyle=!1)};for(const Ae in N){const re=L[Ae],fe=z[Ae];if(A.hasOwnProperty(Ae))continue;let ae=!1;Am(re)&&Am(fe)?ae=!AI(re,fe):ae=re!==fe,ae?re!=null?We(Ae):E.add(Ae):re!==void 0&&E.has(Ae)?We(Ae):B.protectedKeys[Ae]=!0}B.prevProp=G,B.prevResolvedValues=L,B.isActive&&(A={...A,...L}),r&&t.blockInitialAnimation&&(I=!1);const ct=X&&C;I&&(!ct||P)&&_.push(...D.map(Ae=>{const re={type:F};if(typeof Ae=="string"&&r&&!ct&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=_a(fe,Ae);if(fe.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};re.delay=II(fe.enteringChildren,t,U)}}return{animation:Ae,options:re}}))}if(E.size){const b={};if(typeof p.initial!="boolean"){const F=_a(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(b.transition=F.transition)}E.forEach(F=>{const B=t.getBaseTarget(F),G=t.getValue(F);G&&(G.liveStyle=!0),b[F]=B??null}),_.push({animation:b})}let j=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const g=l(f);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=dx()}}}function xj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AI(e,t):!1}function zi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dx(){return{animate:zi(!0),whileInView:zi(),whileHover:zi(),whileTap:zi(),whileDrag:zi(),whileFocus:zi(),exit:zi()}}class pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ej extends pi{constructor(e){super(e),e.animationState||(e.animationState=_j(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Tj=0;class Sj extends pi{constructor(){super(...arguments),this.id=Tj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ij={animation:{Feature:Ej},exit:{Feature:Sj}};function _u(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mu(t){return{point:{x:t.pageX,y:t.pageY}}}const Aj=t=>e=>my(e)&&t(e,Mu(e));function tu(t,e,n,r){return _u(t,e,Aj(n),r)}const PI=1e-4,Cj=1-PI,Pj=1+PI,bI=.01,bj=0-bI,Rj=0+bI;function tn(t){return t.max-t.min}function kj(t,e,n){return Math.abs(t-e)<=n}function fx(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Cj&&t.scale<=Pj||isNaN(t.scale))&&(t.scale=1),(t.translate>=bj&&t.translate<=Rj||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){fx(t.x,e.x,n.x,r?r.originX:void 0),fx(t.y,e.y,n.y,r?r.originY:void 0)}function px(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function Nj(t,e,n){px(t.x,e.x,n.x),px(t.y,e.y,n.y)}function mx(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function ru(t,e,n){mx(t.x,e.x,n.x),mx(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const RI=({current:t})=>t?t.ownerDocument.defaultView:null,gx=(t,e)=>Math.abs(t-e);function Dj(t,e){const n=gx(t.x,e.x),r=gx(t.y,e.y);return Math.sqrt(n**2+r**2)}class kI{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Rp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,V=Dj(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!V)return;const{point:j}=E,{timestamp:b}=Ot;this.history.push({...j,timestamp:b});const{onStart:F,onMove:B}=this.handlers;A||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=bp(A,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:V,onSessionEnd:j,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Rp(E.type==="pointercancel"?this.lastMoveEventInfo:bp(A,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,F),j&&j(E,F)},!my(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=Mu(e),f=bp(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=Ot;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=n;_&&_(e,Rp(f,this.history)),this.removeListeners=Du(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),li(this.updatePoint)}}function bp(t,e){return e?{point:e(t.point)}:t}function yx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rp({point:t},e){return{point:t,delta:yx(t,NI(e)),offset:yx(t,Vj(e)),velocity:Lj(e,.1)}}function Vj(t){return t[0]}function NI(t){return t[t.length-1]}function Lj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=NI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Nr(e)));)n--;if(!r)return{x:0,y:0};const a=jn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Mj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function vx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jj(t,{top:e,left:n,bottom:r,right:i}){return{x:vx(t.x,n,i),y:vx(t.y,e,r)}}function wx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Oj(t,e){return{x:wx(t.x,e.x),y:wx(t.y,e.y)}}function Fj(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=mu(e.min,e.max-r,t.min):r>i&&(n=mu(t.min,t.max-i,e.min)),fs(0,1,n)}function Uj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bm=.35;function Bj(t=bm){return t===!1?t=0:t===!0&&(t=bm),{x:_x(t,"left","right"),y:_x(t,"top","bottom")}}function _x(t,e,n){return{min:xx(t,e),max:xx(t,n)}}function xx(t,e){return typeof t=="number"?t:t[e]||0}const zj=new WeakMap;class $j{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(_).point)},l=(_,E)=>{const{drag:A,dragPropagation:V,onDragStart:j}=this.getProps();if(A&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QL(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(F=>{let B=this.getAxisMotionValue(F).get()||0;if(Dr.test(B)){const{projection:G}=this.visualElement;if(G&&G.layout){const se=G.layout.layoutBox[F];se&&(B=tn(se)*(parseFloat(B)/100))}}this.originPoint[F]=B}),j&&tt.postRender(()=>j(_,E)),Cm(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:V,onDirectionLock:j,onDrag:b}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=E;if(V&&this.currentDirection===null){this.currentDirection=Wj(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),b&&b(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new kI(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:RI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&tt.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Mj(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ca(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jj(r.layoutBox,e):this.constraints=!1,this.elastic=Bj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Uj(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ca(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HM(r,i.root,this.visualElement.getTransformPagePoint());let l=Oj(i.layout.layoutBox,a);if(n){const h=n(zM(l));this.hasMutatedConstraints=!!h,h&&(l=mI(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Vn(g=>{if(!uh(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const E=i?200:1e6,A=i?40:1e7,V={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,V)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cm(this.visualElement,e),r.start(Ay(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-it(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ca(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=Fj({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(l=>{if(!uh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(it(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;zj.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ca(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tt.read(r);const l=_u(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=bm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Hj extends pi{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new $j(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ex=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class qj extends pi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new kI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ex(e),onStart:Ex(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=Tx(t,e.target.x),r=Tx(t,e.target.y);return`${n}% ${r}%`}},Kj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ui.parse(t);if(i.length>5)return r;const a=ui.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=it(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let kp=!1;class Gj extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;gM(Qj),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),kp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,kp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),py.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;kp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DI(t){const[e,n]=tI(),r=R.useContext(qg);return y.jsx(Gj,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(fI),isPresent:e,safeToRemove:n})}const Qj={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:Kj};function Yj(t,e,n){const r=Yt(t)?t:Ca(t);return r.start(Ay("",r,e,n)),r.animation}const Xj=(t,e)=>t.depth-e.depth;class Jj{constructor(){this.children=[],this.isDirty=!1}add(e){Qg(this.children,e),this.isDirty=!0}remove(e){Yg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xj),this.isDirty=!1,this.children.forEach(e)}}function Zj(t,e){const n=hn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(li(r),t(a-e))};return tt.setup(r,!0),()=>li(r)}const VI=["TopLeft","TopRight","BottomLeft","BottomRight"],e6=VI.length,Sx=t=>typeof t=="string"?parseFloat(t):t,Ix=t=>typeof t=="number"||xe.test(t);function t6(t,e,n,r,i,a){i?(t.opacity=it(0,n.opacity??1,n6(r)),t.opacityExit=it(e.opacity??1,0,r6(r))):a&&(t.opacity=it(e.opacity??1,n.opacity??1,r));for(let l=0;l<e6;l++){const h=`border${VI[l]}Radius`;let f=Ax(e,h),p=Ax(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Ix(f)===Ix(p)?(t[h]=Math.max(it(Sx(f),Sx(p),r),0),(Dr.test(p)||Dr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function Ax(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const n6=LI(0,.5,xS),r6=LI(.5,.95,Fn);function LI(t,e,n){return r=>r<t?0:r>e?1:n(mu(t,e,r))}function Cx(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){Cx(t.x,e.x),Cx(t.y,e.y)}function Px(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bx(t,e,n,r,i){return t-=e,t=ed(t,1/n,r),i!==void 0&&(t=ed(t,1/i,r)),t}function s6(t,e=0,n=1,r=.5,i,a=t,l=t){if(Dr.test(e)&&(e=parseFloat(e),e=it(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=it(a.min,a.max,r);t===a&&(h-=e),t.min=bx(t.min,e,n,h,i),t.max=bx(t.max,e,n,h,i)}function Rx(t,e,[n,r,i],a,l){s6(t,e[n],e[r],e[i],e.scale,a,l)}const i6=["x","scaleX","originX"],o6=["y","scaleY","originY"];function kx(t,e,n,r){Rx(t.x,e,i6,n?n.x:void 0,r?r.x:void 0),Rx(t.y,e,o6,n?n.y:void 0,r?r.y:void 0)}function Nx(t){return t.translate===0&&t.scale===1}function MI(t){return Nx(t.x)&&Nx(t.y)}function Dx(t,e){return t.min===e.min&&t.max===e.max}function a6(t,e){return Dx(t.x,e.x)&&Dx(t.y,e.y)}function Vx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jI(t,e){return Vx(t.x,e.x)&&Vx(t.y,e.y)}function Lx(t){return tn(t.x)/tn(t.y)}function Mx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class l6{constructor(){this.members=[]}add(e){Qg(this.members,e),e.scheduleRender()}remove(e){if(Yg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u6(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:A,skewY:V}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),V&&(r+=`skewY(${V}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Np=["","X","Y","Z"],c6=1e3;let h6=0;function Dp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OI(r)}function FI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=h6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p6),this.nodes.forEach(v6),this.nodes.forEach(w6),this.nodes.forEach(m6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jj)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Zg),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=eI(l)&&!tM(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,_=0;const E=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{_=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,g&&g(),g=Zj(E,250),Ih.hasAnimatedSinceResize&&(Ih.hasAnimatedSinceResize=!1,this.nodes.forEach(Fx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||S6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:b}=p.getProps(),F=!this.targetLayout||!jI(this.targetLayout,A),B=!_&&E;if(this.options.layoutRoot||this.resumeFrom||B||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...dy(V,"layout"),onPlay:j,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(g,B)}else _||Fx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(y6),this.nodes.forEach(d6),this.nodes.forEach(f6)):this.nodes.forEach(Ox),this.clearAllSnapshots();const h=hn.now();Ot.delta=fs(0,1e3/60,h-Ot.timestamp),Ot.timestamp=h,Ot.isProcessing=!0,xp.update.process(Ot),xp.preRender.process(Ot),xp.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g6),this.sharedNodes.forEach(x6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!MI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||Hi(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),I6(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return pt();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A6))){const{scroll:p}=this.root;p&&(ha(h.x,p.offset.x),ha(h.y,p.offset.y))}return h}removeElementScroll(l){const h=pt();if(Dn(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:_}=p;p!==this.root&&g&&_.layoutScroll&&(g.wasRoot&&Dn(h,l),ha(h.x,g.offset.x),ha(h.y,g.offset.y))}return h}applyTransform(l,h=!1){const f=pt();Dn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&da(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hi(g.latestValues)&&da(f,g.latestValues)}return Hi(this.latestValues)&&da(f,this.latestValues),f}removeTransform(l){const h=pt();Dn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Hi(p.latestValues))continue;Tm(p.latestValues)&&p.updateSnapshot();const g=pt(),_=p.measurePageBox();Dn(g,_),kx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Hi(this.latestValues)&&kx(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),yI(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.target,E.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tm(this.parent.latestValues)||gI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Dn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;WM(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Px(this.prevProjectionDelta.x,this.projectionDelta.x),Px(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=pt(),A=f?f.source:void 0,V=this.layout?this.layout.source:void 0,j=A!==V,b=this.getStack(),F=!b||b.members.length<=1,B=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(T6));this.animationProgress=0;let G;this.mixTargetDelta=se=>{const ne=se/1e3;Ux(_.x,l.x,ne),Ux(_.y,l.y,ne),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E6(this.relativeTarget,this.relativeTargetOrigin,E,ne),G&&a6(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=pt()),Dn(G,this.relativeTarget)),j&&(this.animationValues=g,t6(g,p,this.latestValues,ne,B,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Ih.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ca(0)),this.currentAnimation=Yj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&UI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const _=tn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=tn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Dn(h,f),da(h,g),nu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new l6),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Dp("z",l,p,this.animationValues);for(let g=0;g<Np.length;g++)Dp(`rotate${Np[g]}`,l,p,this.animationValues),Dp(`skew${Np[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Sh(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Sh(h?.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=u6(this.projectionDeltaWithTransform,this.treeScale,g);f&&(_=f(g,_)),l.transform=_;const{x:E,y:A}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const V in wu){if(g[V]===void 0)continue;const{correct:j,applyTo:b,isCSSVariable:F}=wu[V],B=_==="none"?g[V]:j(g[V],p);if(b){const G=b.length;for(let se=0;se<G;se++)l[b[se]]=B}else F?this.options.visualElement.renderState.vars[V]=B:l[V]=B}this.options.layoutId&&(l.pointerEvents=p===this?Sh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(jx),this.root.sharedNodes.clear()}}}function d6(t){t.updateLayout()}function f6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Vn(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],E=tn(_);_.min=n[g].min,_.max=_.min+E}):UI(i,e.layoutBox,n)&&Vn(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],E=tn(n[g]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const l=fa();nu(l,n,e.layoutBox);const h=fa();a?nu(h,t.applyTransform(r,!0),e.measuredBox):nu(h,n,e.layoutBox);const f=!MI(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:_,layout:E}=g;if(_&&E){const A=pt();ru(A,e.layoutBox,_.layoutBox);const V=pt();ru(V,n,E.layoutBox),jI(A,V)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function p6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function m6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function g6(t){t.clearSnapshot()}function jx(t){t.clearMeasurements()}function Ox(t){t.isLayoutDirty=!1}function y6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v6(t){t.resolveTargetDelta()}function w6(t){t.calcProjection()}function _6(t){t.resetSkewAndRotation()}function x6(t){t.removeLeadSnapshot()}function Ux(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bx(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function E6(t,e,n,r){Bx(t.x,e.x,n.x,r),Bx(t.y,e.y,n.y,r)}function T6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S6={duration:.45,ease:[.4,0,.1,1]},zx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$x=zx("applewebkit/")&&!zx("chrome/")?Math.round:Fn;function Wx(t){t.min=$x(t.min),t.max=$x(t.max)}function I6(t){Wx(t.x),Wx(t.y)}function UI(t,e,n){return t==="position"||t==="preserve-aspect"&&!kj(Lx(e),Lx(n),.2)}function A6(t){return t!==t.root&&t.scroll?.wasRoot}const C6=FI({attachResizeListener:(t,e)=>_u(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vp={current:void 0},BI=FI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vp.current){const t=new C6({});t.mount(window),t.setOptions({layoutScroll:!0}),Vp.current=t}return Vp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),P6={pan:{Feature:qj},drag:{Feature:Hj,ProjectionNode:BI,MeasureLayout:DI}};function Hx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&tt.postRender(()=>a(e,Mu(e)))}class b6 extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=YL(e,(n,r)=>(Hx(this.node,r,"Start"),i=>Hx(this.node,i,"End"))))}unmount(){}}class R6 extends pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(_u(this.node.current,"focus",()=>this.onFocus()),_u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&tt.postRender(()=>a(e,Mu(e)))}class k6 extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=eM(e,(n,r)=>(qx(this.node,r,"Start"),(i,{success:a})=>qx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rm=new WeakMap,Lp=new WeakMap,N6=t=>{const e=Rm.get(t.target);e&&e(t)},D6=t=>{t.forEach(N6)};function V6({root:t,...e}){const n=t||document;Lp.has(n)||Lp.set(n,{});const r=Lp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(D6,{root:t,...e})),r[i]}function L6(t,e,n){const r=V6(e);return Rm.set(t,n),r.observe(t),()=>{Rm.delete(t),r.unobserve(t)}}const M6={some:0,all:1};class j6 extends pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:M6[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return L6(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O6(e,n))&&this.startObserver()}unmount(){}}function O6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const F6={inView:{Feature:j6},tap:{Feature:k6},focus:{Feature:R6},hover:{Feature:b6}},U6={layout:{ProjectionNode:BI,MeasureLayout:DI}},B6={...Ij,...F6,...P6,...U6},je=BM(B6,ej),zI=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,i]=R.useState(n==="login"),[a,l]=R.useState(""),[h,f]=R.useState(""),[p,g]=R.useState(!1),[_,E]=R.useState(""),[A,V]=R.useState(""),j=async F=>{F.preventDefault(),g(!0),E(""),V("");try{r?(await mE(kt,a,h),e()):(await pE(kt,a,h),V("Account created successfully! You can now sign in."),i(!0))}catch(B){B instanceof Error?E(B.message):E("An unexpected error occurred")}finally{g(!1)}},b=async()=>{try{await AE(kt,uS),e()}catch(F){F instanceof Error?E(F.message):E("An unexpected error occurred")}};return y.jsx(yy,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),y.jsx(je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:y.jsxs("div",{className:"p-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),y.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[y.jsx("div",{className:"border-t border-gray-200 w-full"}),y.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),y.jsx("input",{type:"email",required:!0,value:a,onChange:F=>l(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsx("input",{type:"password",required:!0,value:h,onChange:F=>f(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),_&&y.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),A&&y.jsx("p",{className:"text-green-500 text-sm text-center",children:A}),y.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:()=>i(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},Cy=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,a]=R.useState(!1),[l,h]=R.useState(null),f=Mr();R.useEffect(()=>{const _=()=>{e(window.scrollY>20)};window.addEventListener("scroll",_);const E=ld(kt,A=>{h(A)});return()=>{window.removeEventListener("scroll",_),E()}},[]);const p=async()=>{await Mk(kt),r(!1)},g=[{name:"Roadmaps",path:"/#roadmaps"},{name:"Projects",path:"/#projects"},{name:"Resources",path:"/#resources"},{name:"Students",path:"/#community"}];return y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[y.jsxs(xn,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),y.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),y.jsx("div",{className:"hidden md:flex items-center gap-8",children:g.map(_=>y.jsx("a",{href:_.path,onClick:E=>{if(f.pathname==="/"&&_.path.startsWith("/#")){E.preventDefault();const A=_.path.substring(2),V=document.getElementById(A);V&&(V.scrollIntoView({behavior:"smooth"}),window.history.pushState(null,"",_.path))}},className:`text-sm font-medium transition-colors ${f.hash===_.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name))}),y.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(xn,{to:"/profile",className:"flex items-center gap-2",children:y.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),y.jsx("button",{onClick:p,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):y.jsxs(y.Fragment,{children:[y.jsx(xn,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),y.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),y.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&y.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[g.map(_=>y.jsx("a",{href:_.path,className:"text-gray-600 font-medium py-2",onClick:E=>{if(r(!1),f.pathname==="/"&&_.path.startsWith("/#")){E.preventDefault();const A=_.path.substring(2),V=document.getElementById(A);V&&(V.scrollIntoView({behavior:"smooth"}),window.history.pushState(null,"",_.path))}},children:_.name},_.name)),y.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?y.jsxs(y.Fragment,{children:[y.jsx(xn,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),y.jsx("button",{onClick:p,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):y.jsxs(y.Fragment,{children:[y.jsx(xn,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),y.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),y.jsx(zI,{isOpen:i,onClose:()=>a(!1)})]})},z6=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return y.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:y.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[y.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:y.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),y.jsxs(je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",y.jsx("br",{}),y.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),y.jsx(je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),y.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:y.jsxs("div",{className:"relative flex items-center",children:[y.jsx("div",{className:"absolute left-4 text-gray-400",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),y.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),y.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[y.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),y.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),y.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),y.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>y.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},$6=()=>{const t=uo(),[e,n]=R.useState([]),[r,i]=R.useState(null),[a,l]=R.useState(!1),[h,f]=R.useState(""),[p,g]=R.useState({title:"",description:"",category:"General",link:""});R.useEffect(()=>{const b=ld(kt,F=>{i(F)});return _(),()=>b()},[]);const _=async()=>{try{const b=oo(Sn,"roadmaps"),F=Og(b,iS("created_at","desc")),G=(await $g(F)).docs.map(se=>({id:se.id,...se.data()}));n(G)}catch(b){console.error("Error fetching roadmaps:",b)}},E=async b=>{if(b.preventDefault(),!!r)try{await Sd(oo(Sn,"roadmaps"),{...p,is_official:!0,created_at:qe.now().toDate().toISOString()}),l(!1),g({title:"",description:"",category:"General",link:""}),_()}catch(F){console.error("Error adding roadmap:",F),alert("Failed to add roadmap.")}},A=async(b,F)=>{if(F.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await i4(ao(Sn,"roadmaps",b)),_()}catch(B){console.error("Error deleting roadmap:",B),alert("Failed to delete roadmap.")}},V=b=>{b.link&&(b.link.startsWith("http")||b.link.startsWith("https"))?window.open(b.link,"_blank"):(t(`/roadmap/${b.id}`),window.scrollTo(0,0))},j=e.filter(b=>b.title.toLowerCase().includes(h.toLowerCase())||b.description.toLowerCase().includes(h.toLowerCase()));return y.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[y.jsxs("div",{className:"container-custom mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),y.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),y.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),y.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:h,onChange:b=>f(b.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),r&&y.jsx("div",{className:"mt-8 flex justify-center",children:y.jsx("button",{onClick:()=>l(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.length===0?y.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):j.map((b,F)=>y.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},onClick:()=>V(b),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[r&&y.jsx("button",{onClick:B=>A(b.id,B),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),y.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:b.title}),y.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:b.description})]},b.id))})]}),a&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,value:p.title,onChange:b=>g({...p,title:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{required:!0,value:p.description,onChange:b=>g({...p,description:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),y.jsx("input",{type:"text",placeholder:"https://...",value:p.link,onChange:b=>g({...p,link:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},W6=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=R.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=R.useState(!1),[h,f]=R.useState(""),[p,g]=R.useState(!1);R.useEffect(()=>{if(t&&kt.currentUser){const E=kt.currentUser;E.email&&i(A=>({...A,author:E.email.split("@")[0]}))}},[t]);const _=async E=>{E.preventDefault(),l(!0),f("");try{await Sd(oo(Sn,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(A=>A.trim()),author:r.author,author_avatar:kt.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:qe.now().toDate().toISOString(),user_id:kt.currentUser?.uid}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),i({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(A){console.error("Error submitting project:",A),f("Failed to submit project. Please try again.")}finally{l(!1)}};return y.jsx(yy,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),y.jsx(je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:y.jsxs("div",{className:"p-6 md:p-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-5xl mb-4",children:""}),y.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),y.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):y.jsxs("form",{onSubmit:_,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),y.jsx("input",{type:"text",required:!0,value:r.title,onChange:E=>i({...r,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{required:!0,value:r.description,onChange:E=>i({...r,description:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),y.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:E=>i({...r,githubUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),y.jsx("input",{type:"url",value:r.liveUrl,onChange:E=>i({...r,liveUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),y.jsx("input",{type:"text",required:!0,value:r.author,onChange:E=>i({...r,author:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),y.jsxs("select",{value:r.language,onChange:E=>i({...r,language:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{children:"JavaScript"}),y.jsx("option",{children:"TypeScript"}),y.jsx("option",{children:"Python"}),y.jsx("option",{children:"Java"}),y.jsx("option",{children:"C++"}),y.jsx("option",{children:"Rust"}),y.jsx("option",{children:"Go"}),y.jsx("option",{children:"Swift"}),y.jsx("option",{children:"Other"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),y.jsx("input",{type:"text",value:r.tags,onChange:E=>i({...r,tags:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),h&&y.jsx("p",{className:"text-red-500 text-sm",children:h}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},H6=()=>{const[t,e]=R.useState("All"),[n,r]=R.useState(""),[i,a]=R.useState([]),[l,h]=R.useState(!0),[f,p]=R.useState(null),[g,_]=R.useState(!1),[E,A]=R.useState(!1),[V,j]=R.useState(""),[b,F]=R.useState(!1);R.useEffect(()=>{B();const C=ld(kt,I=>{p(I)});return()=>C()},[]);const B=async()=>{try{const C=oo(Sn,"projects"),I=Og(C,iS("created_at","desc")),D=(await $g(I)).docs.map(L=>({id:L.id,...L.data()}));a(D)}catch(C){console.error("Error fetching projects:",C)}finally{h(!1)}},G=async C=>{if(C.preventDefault(),!!V)try{await Sd(oo(Sn,"newsletter_subscribers"),{email:V,created_at:qe.now()}),F(!0),j(""),setTimeout(()=>F(!1),3e3)}catch(I){console.error("Error subscribing:",I)}},se=()=>{f?A(!0):_(!0)},ne=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],X=i.filter(C=>{const I=t==="All"||C.category===t,P=C.title.toLowerCase().includes(n.toLowerCase())||C.description.toLowerCase().includes(n.toLowerCase())||C.tags.some(D=>D.toLowerCase().includes(n.toLowerCase()));return I&&P});return y.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),y.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[y.jsxs("div",{children:[y.jsx(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:y.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),y.jsx(je.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),y.jsx(je.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),y.jsxs(je.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:C=>r(C.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),y.jsxs("button",{onClick:se,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[y.jsxs("div",{className:"lg:w-3/4",children:[y.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:ne.map(C=>y.jsx("button",{onClick:()=>e(C),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===C?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:C},C))}),l?y.jsx("div",{className:"flex justify-center py-20",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(C=>y.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[y.jsxs("div",{className:"relative h-48 overflow-hidden",children:[y.jsx("img",{src:C.image_url,alt:C.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),y.jsx("div",{className:"absolute top-4 left-4",children:y.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:C.category})})]}),y.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("img",{src:C.author_avatar,alt:C.author,className:"w-8 h-8 rounded-full border border-gray-100"}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.author}),y.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(C.created_at).toLocaleDateString()]})]}),y.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:C.title}),y.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:C.description}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:C.tags.map(I=>y.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",I]},I))}),y.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),C.likes]}),y.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),C.comments]})]}),y.jsxs("a",{href:C.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},C.id))}),!l&&X.length===0&&y.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),y.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),y.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[y.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),y.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>y.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:y.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${C}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),y.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},C))}),y.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),y.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),y.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),y.jsxs("form",{onSubmit:G,className:"relative z-10",children:[y.jsx("input",{type:"email",placeholder:"Your email",value:V,onChange:C=>j(C.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),y.jsx("button",{type:"submit",disabled:b,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Subscribed!":"Subscribe"})]})]})]})]})]}),y.jsx(zI,{isOpen:g,onClose:()=>_(!1)}),y.jsx(W6,{isOpen:E,onClose:()=>A(!1),onSuccess:B})]})},q6=()=>{const[t,e]=R.useState([]);return R.useEffect(()=>{(async()=>{try{const r=oo(Sn,"users"),i=Og(r,t4(8)),l=(await $g(i)).docs.map(h=>({id:h.id,...h.data()}));e(l)}catch(r){console.error("Error fetching profiles:",r)}})()},[]),y.jsx("section",{id:"community",className:"py-24 bg-white",children:y.jsxs("div",{className:"container-custom mx-auto",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[y.jsxs("div",{className:"max-w-2xl",children:[y.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),y.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),y.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.length===0?y.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):t.map((n,r)=>y.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"group relative bg-white rounded-2xl p-6 border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:[y.jsx("div",{className:"absolute top-4 right-4 text-gray-300 group-hover:text-[#0066FF] transition-colors",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})}),y.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 mb-6 overflow-hidden border-2 border-white shadow-md group-hover:scale-105 transition-transform duration-300",children:y.jsx("img",{src:n.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.full_name}`,alt:n.full_name,className:"w-full h-full object-cover"})}),y.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-1",children:n.full_name}),y.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-4",children:n.role||"Student"}),y.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-6",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),n.university||"University"]}),y.jsxs("div",{className:"border-t border-gray-50 pt-4",children:[y.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-3",children:"Skills"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills&&n.skills.map(i=>y.jsx("span",{className:"px-2.5 py-1 rounded-md bg-gray-50 text-gray-600 text-xs font-medium border border-gray-100",children:i},i))})]}),y.jsx("button",{className:"w-full mt-6 py-2.5 rounded-xl border border-gray-200 text-gray-600 font-medium text-sm hover:bg-gray-50 hover:text-[#0f172a] transition-colors",children:"View Profile"})]},n.id))})]})})},K6=()=>{const t=uo(),[e,n]=R.useState(!0),[r,i]=R.useState(null);Nm.useEffect(()=>{(async()=>{try{const h=kt.currentUser;if(!h){t("/login");return}const f=ao(Sn,"users",h.uid),p=await Qh(f);p.exists()?i(p.data()):t("/onboarding")}catch(h){console.error("Error fetching user data:",h)}finally{n(!1)}})()},[t]);const a=[{id:1,title:"CollabX",description:"A platform for students to collaborate on projects and find learning resources.",stars:124,language:"TypeScript"},{id:2,title:"AI Note Taker",description:"An AI-powered tool that summarizes lecture notes and generates quizzes.",stars:89,language:"Python"}];return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?y.jsx("div",{className:"min-h-screen bg-gray-50 pt-32 pb-20",children:y.jsx("div",{className:"container-custom mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-1",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm text-center",children:[y.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-gray-100 mb-6 overflow-hidden border-4 border-white shadow-lg",children:y.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover"})}),y.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:r.name}),y.jsx("p",{className:"text-[#5865F2] font-medium mb-4",children:r.role}),y.jsx("button",{onClick:()=>t("/onboarding"),className:"mb-6 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded-lg transition-colors",children:"Edit Profile"}),y.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 text-sm mb-6",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),r.institution]}),y.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-8",children:r.bio}),y.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[r.socials?.github&&y.jsx("a",{href:`https://${r.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-50 text-gray-600 hover:bg-[#181717] hover:text-white transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),r.socials?.linkedin&&y.jsx("a",{href:`https://${r.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-50 text-gray-600 hover:bg-[#0077b5] hover:text-white transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t border-gray-100 pt-6",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:r.stats.projects}),y.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Projects"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:r.stats.stars}),y.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Stars"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:r.stats.followers}),y.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Followers"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm mt-6",children:[y.jsx("h3",{className:"font-bold text-[#0f172a] mb-4",children:"Skills"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map(l=>y.jsx("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-600 text-xs font-medium rounded-lg border border-gray-100",children:l},l))})]})]}),y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"font-bold text-[#0f172a]",children:"Featured Projects"}),y.jsx("button",{className:"text-sm text-[#5865F2] font-medium hover:underline",children:"View All"})]}),y.jsx("div",{className:"space-y-4",children:a.map(l=>y.jsxs("div",{className:"group p-4 rounded-xl border border-gray-100 hover:border-[#5865F2]/30 hover:bg-purple-50/30 transition-all cursor-pointer",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h4",{className:"font-bold text-[#0f172a] group-hover:text-[#5865F2] transition-colors",children:l.title}),y.jsx("span",{className:"text-xs font-medium bg-gray-100 text-gray-600 px-2 py-1 rounded-md",children:l.language})]}),y.jsx("p",{className:"text-gray-500 text-sm mb-4",children:l.description}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-yellow-400",children:y.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),l.stars]}),y.jsx("span",{children:"Updated 2 days ago"})]})]},l.id))})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[y.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Recent Activity"}),y.jsx("div",{className:"space-y-6",children:[1,2,3].map(l=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-[#5865F2] shrink-0",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})})}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm text-[#0f172a] font-medium",children:["Commented on ",y.jsx("span",{className:"text-[#5865F2] cursor-pointer",children:'"System Design for Beginners"'})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]},l))})]})]})]})})}):null};function G6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Q6=R.forwardRef(G6);function Y6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const X6=R.forwardRef(Y6);function J6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Z6=R.forwardRef(J6);function e3({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const t3=R.forwardRef(e3),n3=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=R.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:h,type:f,checked:p}=a.target;n(g=>({...g,[l]:f==="checkbox"?p:h}))},i=a=>{a.preventDefault(),console.log("Form submitted:",e)};return y.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:y.jsxs("div",{className:"container-custom mx-auto",children:[y.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[y.jsx(xn,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),y.jsx("span",{children:""}),y.jsx("span",{className:"text-gray-900",children:"Executive Education"}),y.jsx("span",{children:""}),y.jsx("span",{className:"text-gray-400",children:t.title})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[y.jsx("div",{className:"flex items-center gap-4 mb-4",children:y.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:y.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),y.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),y.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),y.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(t3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),y.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(X6,{className:"w-6 h-6 text-[#5865F2] mt-1"}),y.jsxs("div",{children:[y.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Q6,{className:"w-6 h-6 text-[#5865F2] mt-1"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),y.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),y.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[y.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),y.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),y.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),y.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),y.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>y.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[y.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),y.jsx(Z6,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),y.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-24",children:y.jsxs(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[y.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),y.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),y.jsxs("form",{onSubmit:i,className:"space-y-4",children:[y.jsx("div",{children:y.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),y.jsx("div",{children:y.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),y.jsx("div",{children:y.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),y.jsxs("div",{className:"space-y-3 pt-2",children:[y.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[y.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[y.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),y.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),y.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},r3=()=>{const{resourceId:t}=V2(),e=uo(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},i=n(),a=r(t||"");return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx(Cy,{}),y.jsx("main",{className:"pt-32 pb-20 px-6",children:y.jsxs("div",{className:"container-custom mx-auto",children:[y.jsxs(je.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[y.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),y.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,h)=>y.jsxs(je.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),y.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),y.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),y.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),y.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:f=>f.preventDefault(),children:["Access Resource ",y.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},s3=()=>{const t=uo(),[e,n]=R.useState(!0),[r,i]=R.useState(""),[a,l]=R.useState(""),[h,f]=R.useState(!1),[p,g]=R.useState(""),[_,E]=R.useState(""),A=async()=>{try{const b=(await AE(kt,uS)).user,F=ao(Sn,"users",b.uid);(await Qh(F)).exists()?t("/"):t("/onboarding")}catch(j){j instanceof Error?g(j.message):g("An unexpected error occurred")}},V=async j=>{j.preventDefault(),f(!0),g(""),E("");try{if(e){const b=await mE(kt,r,a),F=ao(Sn,"users",b.user.uid);(await Qh(F)).exists()?t("/"):t("/onboarding")}else await pE(kt,r,a),t("/onboarding")}catch(b){b instanceof Error?g(b.message):g("An unexpected error occurred")}finally{f(!1)}};return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),y.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),y.jsxs(je.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:A,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),y.jsx("span",{children:"Continue with Google"})]}),y.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[y.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),y.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),y.jsxs("form",{onSubmit:V,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),y.jsx("input",{type:"email",required:!0,value:r,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),y.jsx("input",{type:"password",required:!0,value:a,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),y.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),y.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),y.jsxs(yy,{children:[p&&y.jsx(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),_&&y.jsx(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:_})]}),y.jsx(je.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:h,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${h?"opacity-70 cursor-not-allowed":""}`,children:h?"Processing...":e?"Sign in":"Sign up"})]}),y.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:y.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},i3=()=>{const t=uo(),[e,n]=R.useState(!1),[r,i]=R.useState(""),[a,l]=R.useState(""),[h,f]=R.useState(""),[p,g]=R.useState(""),[_,E]=R.useState(""),[A,V]=R.useState([]),[j,b]=R.useState(""),[F,B]=R.useState("");Nm.useEffect(()=>{(async()=>{const C=kt.currentUser;if(C){const I=ao(Sn,"users",C.uid),P=await Qh(I);if(P.exists()){const D=P.data();i(D.name||""),l(D.role||""),f(D.institution||""),g(D.bio||""),V(D.skills||[]),b(D.socials?.github||""),B(D.socials?.linkedin||"")}}})()},[]);const G=X=>{X.key==="Enter"&&_.trim()&&(X.preventDefault(),A.length<5&&!A.includes(_.trim())&&(V([...A,_.trim()]),E("")))},se=X=>{V(A.filter(C=>C!==X))},ne=async X=>{X.preventDefault(),n(!0);try{const C=kt.currentUser;if(!C)throw new Error("No user logged in");await s4(ao(Sn,"users",C.uid),{name:r,role:a,institution:h,bio:p,skills:A,socials:{github:j,linkedin:F},stats:{projects:0,stars:0,followers:0,following:0},avatar:C.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:C.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(C){console.error("Error saving profile:",C),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return y.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),y.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),y.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),y.jsx("input",{type:"text",required:!0,value:r,onChange:X=>i(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),y.jsx("input",{type:"text",required:!0,value:a,onChange:X=>l(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),y.jsx("input",{type:"text",required:!0,value:h,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),y.jsx("textarea",{required:!0,value:p,onChange:X=>g(X.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",y.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.map(X=>y.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[X,y.jsx("button",{type:"button",onClick:()=>se(X),className:"hover:text-red-500",children:""})]},X))}),y.jsx("input",{type:"text",value:_,onChange:X=>E(X.target.value),onKeyDown:G,disabled:A.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:A.length>=5?"Max skills reached":"Type skill and press Enter"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),y.jsx("input",{type:"text",value:j,onChange:X=>b(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),y.jsx("input",{type:"text",value:F,onChange:X=>B(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),y.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},o3=()=>y.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:y.jsxs("div",{className:"container-custom mx-auto",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[y.jsxs("div",{className:"col-span-1 md:col-span-1",children:[y.jsxs(xn,{to:"/",className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),y.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),y.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[y.jsx("li",{children:y.jsx(xn,{to:"/#roadmaps",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),y.jsx("li",{children:y.jsx(xn,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),y.jsx("li",{children:y.jsx(xn,{to:"/#community",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),y.jsx("li",{children:y.jsx(xn,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),y.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),y.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),y.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),y.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),y.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),y.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[y.jsx("span",{children:" 2025 CollabX. All rights reserved."}),y.jsx("span",{className:"hidden md:inline",children:"|"}),y.jsx("span",{children:"Powered by Google Cloud"})]}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),a3=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,a]=R.useState(""),[l,h]=R.useState("idle"),f=async p=>{p.preventDefault(),h("submitting");try{await Sd(oo(Sn,"feedback"),{name:t,email:n,message:i,created_at:qe.now()}),h("success"),e(""),r(""),a(""),setTimeout(()=>h("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),h("error"),setTimeout(()=>h("idle"),3e3)}};return y.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:y.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),y.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:y.jsxs("form",{onSubmit:f,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),y.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),y.jsx("textarea",{id:"message",value:i,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),y.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&y.jsx(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&y.jsx(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},Kx=({children:t})=>{const[e,n]=R.useState(!0),[r,i]=R.useState(!1);return R.useEffect(()=>{const a=ld(kt,l=>{i(!!l),n(!1)});return()=>a()},[]),e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?y.jsx(y.Fragment,{children:t}):y.jsx(G2,{to:"/login"})},l3=()=>{const t=Mr();return Nm.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})},100)}},[t]),y.jsxs("main",{className:"bg-white min-h-screen",children:[y.jsx(Cy,{}),y.jsx(z6,{}),y.jsx($6,{}),y.jsx(H6,{}),y.jsx(q6,{}),y.jsx(a3,{})]})},u3=()=>y.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[y.jsx(Cy,{}),y.jsxs(Y2,{children:[y.jsx($i,{path:"/",element:y.jsx(l3,{})}),y.jsx($i,{path:"/profile",element:y.jsx(Kx,{children:y.jsx(K6,{})})}),y.jsx($i,{path:"/onboarding",element:y.jsx(Kx,{children:y.jsx(i3,{})})}),y.jsx($i,{path:"/roadmap/:roadmapId",element:y.jsx(n3,{})}),y.jsx($i,{path:"/resource/:resourceId",element:y.jsx(r3,{})}),y.jsx($i,{path:"/login",element:y.jsx(s3,{})})]}),y.jsx(o3,{})]});s2.createRoot(document.getElementById("root")).render(y.jsx(R.StrictMode,{children:y.jsx(wC,{children:y.jsx(u3,{})})}));
