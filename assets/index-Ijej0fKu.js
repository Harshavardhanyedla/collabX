(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function TE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Cc={},Sm={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function _A(){if(Lx)return Me;Lx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,A={};function C(W,J,ve){this.props=W,this.context=J,this.refs=A,this.updater=ve||T}C.prototype.isReactComponent={},C.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function L(){}L.prototype=C.prototype;function j(W,J,ve){this.props=W,this.context=J,this.refs=A,this.updater=ve||T}var F=j.prototype=new L;F.constructor=j,P(F,C.prototype),F.isPureReactComponent=!0;var $=Array.isArray,K=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(W,J,ve){var xe,De={},Te=null,Be=null;if(J!=null)for(xe in J.ref!==void 0&&(Be=J.ref),J.key!==void 0&&(Te=""+J.key),J)K.call(J,xe)&&!R.hasOwnProperty(xe)&&(De[xe]=J[xe]);var je=arguments.length-2;if(je===1)De.children=ve;else if(1<je){for(var Ve=Array(je),ke=0;ke<je;ke++)Ve[ke]=arguments[ke+2];De.children=Ve}if(W&&W.defaultProps)for(xe in je=W.defaultProps,je)De[xe]===void 0&&(De[xe]=je[xe]);return{$$typeof:t,type:W,key:Te,ref:Be,props:De,_owner:q.current}}function D(W,J){return{$$typeof:t,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function O(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ve){return J[ve]})}var U=/\/+/g;function N(W,J){return typeof W=="object"&&W!==null&&W.key!=null?O(""+W.key):J.toString(36)}function ge(W,J,ve,xe,De){var Te=typeof W;(Te==="undefined"||Te==="boolean")&&(W=null);var Be=!1;if(W===null)Be=!0;else switch(Te){case"string":case"number":Be=!0;break;case"object":switch(W.$$typeof){case t:case e:Be=!0}}if(Be)return Be=W,De=De(Be),W=xe===""?"."+N(Be,0):xe,$(De)?(ve="",W!=null&&(ve=W.replace(U,"$&/")+"/"),ge(De,J,ve,"",function(ke){return ke})):De!=null&&(M(De)&&(De=D(De,ve+(!De.key||Be&&Be.key===De.key?"":(""+De.key).replace(U,"$&/")+"/")+W)),J.push(De)),1;if(Be=0,xe=xe===""?".":xe+":",$(W))for(var je=0;je<W.length;je++){Te=W[je];var Ve=xe+N(Te,je);Be+=ge(Te,J,ve,Ve,De)}else if(Ve=x(W),typeof Ve=="function")for(W=Ve.call(W),je=0;!(Te=W.next()).done;)Te=Te.value,Ve=xe+N(Te,je++),Be+=ge(Te,J,ve,Ve,De);else if(Te==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ze(W,J,ve){if(W==null)return W;var xe=[],De=0;return ge(W,xe,"","",function(Te){return J.call(ve,Te,De++)}),xe}function st(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(ve){(W._status===0||W._status===-1)&&(W._status=1,W._result=ve)},function(ve){(W._status===0||W._status===-1)&&(W._status=2,W._result=ve)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var ye={current:null},re={transition:null},le={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:re,ReactCurrentOwner:q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Ze,forEach:function(W,J,ve){Ze(W,function(){J.apply(this,arguments)},ve)},count:function(W){var J=0;return Ze(W,function(){J++}),J},toArray:function(W){return Ze(W,function(J){return J})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Me.Component=C,Me.Fragment=n,Me.Profiler=s,Me.PureComponent=j,Me.StrictMode=r,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Me.act=ae,Me.cloneElement=function(W,J,ve){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var xe=P({},W.props),De=W.key,Te=W.ref,Be=W._owner;if(J!=null){if(J.ref!==void 0&&(Te=J.ref,Be=q.current),J.key!==void 0&&(De=""+J.key),W.type&&W.type.defaultProps)var je=W.type.defaultProps;for(Ve in J)K.call(J,Ve)&&!R.hasOwnProperty(Ve)&&(xe[Ve]=J[Ve]===void 0&&je!==void 0?je[Ve]:J[Ve])}var Ve=arguments.length-2;if(Ve===1)xe.children=ve;else if(1<Ve){je=Array(Ve);for(var ke=0;ke<Ve;ke++)je[ke]=arguments[ke+2];xe.children=je}return{$$typeof:t,type:W.type,key:De,ref:Te,props:xe,_owner:Be}},Me.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Me.createElement=I,Me.createFactory=function(W){var J=I.bind(null,W);return J.type=W,J},Me.createRef=function(){return{current:null}},Me.forwardRef=function(W){return{$$typeof:u,render:W}},Me.isValidElement=M,Me.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:st}},Me.memo=function(W,J){return{$$typeof:f,type:W,compare:J===void 0?null:J}},Me.startTransition=function(W){var J=re.transition;re.transition={};try{W()}finally{re.transition=J}},Me.unstable_act=ae,Me.useCallback=function(W,J){return ye.current.useCallback(W,J)},Me.useContext=function(W){return ye.current.useContext(W)},Me.useDebugValue=function(){},Me.useDeferredValue=function(W){return ye.current.useDeferredValue(W)},Me.useEffect=function(W,J){return ye.current.useEffect(W,J)},Me.useId=function(){return ye.current.useId()},Me.useImperativeHandle=function(W,J,ve){return ye.current.useImperativeHandle(W,J,ve)},Me.useInsertionEffect=function(W,J){return ye.current.useInsertionEffect(W,J)},Me.useLayoutEffect=function(W,J){return ye.current.useLayoutEffect(W,J)},Me.useMemo=function(W,J){return ye.current.useMemo(W,J)},Me.useReducer=function(W,J,ve){return ye.current.useReducer(W,J,ve)},Me.useRef=function(W){return ye.current.useRef(W)},Me.useState=function(W){return ye.current.useState(W)},Me.useSyncExternalStore=function(W,J,ve){return ye.current.useSyncExternalStore(W,J,ve)},Me.useTransition=function(){return ye.current.useTransition()},Me.version="18.3.1",Me}var Mx;function by(){return Mx||(Mx=1,Sm.exports=_A()),Sm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function bA(){if(Vx)return Cc;Vx=1;var t=by(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,v={},x=null,T=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:x,ref:T,props:v,_owner:s.current}}return Cc.Fragment=n,Cc.jsx=l,Cc.jsxs=l,Cc}var Ox;function EA(){return Ox||(Ox=1,Tm.exports=bA()),Tm.exports}var m=EA(),E=by();const ln=TE(E);var eh={},Cm={exports:{}},zn={},Im={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function TA(){return Fx||(Fx=1,(function(t){function e(re,le){var ae=re.length;re.push(le);e:for(;0<ae;){var W=ae-1>>>1,J=re[W];if(0<s(J,le))re[W]=le,re[ae]=J,ae=W;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],ae=re.pop();if(ae!==le){re[0]=ae;e:for(var W=0,J=re.length,ve=J>>>1;W<ve;){var xe=2*(W+1)-1,De=re[xe],Te=xe+1,Be=re[Te];if(0>s(De,ae))Te<J&&0>s(Be,De)?(re[W]=Be,re[Te]=ae,W=Te):(re[W]=De,re[xe]=ae,W=xe);else if(Te<J&&0>s(Be,ae))re[W]=Be,re[Te]=ae,W=Te;else break e}}return le}function s(re,le){var ae=re.sortIndex-le.sortIndex;return ae!==0?ae:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,v=null,x=3,T=!1,P=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=re)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(f)}}function $(re){if(A=!1,F(re),!P)if(n(d)!==null)P=!0,st(K);else{var le=n(f);le!==null&&ye($,le.startTime-re)}}function K(re,le){P=!1,A&&(A=!1,L(I),I=-1),T=!0;var ae=x;try{for(F(le),v=n(d);v!==null&&(!(v.expirationTime>le)||re&&!O());){var W=v.callback;if(typeof W=="function"){v.callback=null,x=v.priorityLevel;var J=W(v.expirationTime<=le);le=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),F(le)}else r(d);v=n(d)}if(v!==null)var ve=!0;else{var xe=n(f);xe!==null&&ye($,xe.startTime-le),ve=!1}return ve}finally{v=null,x=ae,T=!1}}var q=!1,R=null,I=-1,D=5,M=-1;function O(){return!(t.unstable_now()-M<D)}function U(){if(R!==null){var re=t.unstable_now();M=re;var le=!0;try{le=R(!0,re)}finally{le?N():(q=!1,R=null)}}else q=!1}var N;if(typeof j=="function")N=function(){j(U)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ze=ge.port2;ge.port1.onmessage=U,N=function(){Ze.postMessage(null)}}else N=function(){C(U,0)};function st(re){R=re,q||(q=!0,N())}function ye(re,le){I=C(function(){re(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){P||T||(P=!0,st(K))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(re){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ae=x;x=le;try{return re()}finally{x=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=x;x=re;try{return le()}finally{x=ae}},t.unstable_scheduleCallback=function(re,le,ae){var W=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,re={id:g++,callback:le,priorityLevel:re,startTime:ae,expirationTime:J,sortIndex:-1},ae>W?(re.sortIndex=ae,e(f,re),n(d)===null&&re===n(f)&&(A?(L(I),I=-1):A=!0,ye($,ae-W))):(re.sortIndex=J,e(d,re),P||T||(P=!0,st(K))),re},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(re){var le=x;return function(){var ae=x;x=le;try{return re.apply(this,arguments)}finally{x=ae}}}})(Rm)),Rm}var Ux;function SA(){return Ux||(Ux=1,Im.exports=TA()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function CA(){if(Bx)return zn;Bx=1;var t=by(),e=SA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(i){return d.call(v,i)?!0:d.call(g,i)?!1:f.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,c,p){if(o===null||typeof o>"u"||T(i,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,c,p,y,w,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(L,j);C[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(L,j);C[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(L,j);C[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,p){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,c,y,p)&&(c=null),p||y===null?x(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?i.setAttributeNS(p,o,c):i.setAttribute(o,c))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,W;function J(i){if(W===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var ve=!1;function xe(i,o){if(!i||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){p=X}i.call(o.prototype)}else{try{throw Error()}catch(X){p=X}i()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),w=p.stack.split(`
`),S=y.length-1,V=w.length-1;1<=S&&0<=V&&y[S]!==w[V];)V--;for(;1<=S&&0<=V;S--,V--)if(y[S]!==w[V]){if(S!==1||V!==1)do if(S--,V--,0>V||y[S]!==w[V]){var B=`
`+y[S].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=S&&0<=V);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function De(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ze:return o=i.displayName||null,o!==null?o:Te(i.type)||"Memo";case st:o=i._payload,i=i._init;try{return Te(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ve(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(i){var o=Ve(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){p=""+S,w.call(this,S)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dr(i){i._valueTracker||(i._valueTracker=ke(i))}function dn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return i&&(p=Ve(i)?i.checked?"true":"false":i.value),i=p,i!==c?(o.setValue(i),!0):!1}function Cn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hn(i,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Pr(i,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=je(o.value!=null?o.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Xn(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function ts(i,o){Xn(i,o);var c=je(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?dt(i,o.type,c):o.hasOwnProperty("defaultValue")&&dt(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function fi(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function dt(i,o,c){(o!=="number"||Cn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ye=Array.isArray;function fn(i,o,c,p){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&p&&(i[c].defaultSelected=!0)}else{for(c=""+je(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ns(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function pi(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Ye(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:je(c)}}function go(i,o){var c=je(o.value),p=je(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function rs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var In,ss=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,p,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(In=In||document.createElement("div"),In.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=In.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function is(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(i){vo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Xt[o]=Xt[i]})});function os(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Xt.hasOwnProperty(i)&&Xt[i]?(""+o).trim():o+"px"}function mi(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=os(c,o[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,y):i[c]=y}}var Ms=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(i,o){if(o){if(Ms[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function gi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function yi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Dr=null,jr=null,Le=null;function Mt(i){if(i=dc(i)){if(typeof Dr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=md(o),Dr(i.stateNode,i.type,o))}}function xt(i){jr?Le?Le.push(i):Le=[i]:jr=i}function Yt(){if(jr){var i=jr,o=Le;if(Le=jr=null,Mt(i),o)for(i=0;i<o.length;i++)Mt(o[i])}}function Jt(i,o){return i(o)}function zt(){}var Et=!1;function Lr(i,o,c){if(Et)return i(o,c);Et=!0;try{return Jt(i,o,c)}finally{Et=!1,(jr!==null||Le!==null)&&(zt(),Yt())}}function it(i,o){var c=i.stateNode;if(c===null)return null;var p=md(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Zt=!1;if(u)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Zt=!1}function Mn(i,o,c,p,y,w,S,V,B){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ne){this.onError(ne)}}var Rn=!1,pn=null,An=!1,$t=null,vi={onError:function(i){Rn=!0,pn=i}};function Ku(i,o,c,p,y,w,S,V,B){Rn=!1,pn=null,Mn.apply(vi,arguments)}function Fl(i,o,c,p,y,w,S,V,B){if(Ku.apply(this,arguments),Rn){if(Rn){var X=pn;Rn=!1,pn=null}else throw Error(n(198));An||(An=!0,$t=X)}}function Mr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Ul(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Qu(i){if(Mr(i)!==i)throw Error(n(188))}function Xu(i){var o=i.alternate;if(!o){if(o=Mr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,p=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Qu(y),i;if(w===p)return Qu(y),o;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=w;else{for(var S=!1,V=y.child;V;){if(V===c){S=!0,c=y,p=w;break}if(V===p){S=!0,p=y,c=w;break}V=V.sibling}if(!S){for(V=w.child;V;){if(V===c){S=!0,c=w,p=y;break}if(V===p){S=!0,p=w,c=y;break}V=V.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Yu(i){return i=Xu(i),i!==null?wo(i):null}function wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=wo(i);if(o!==null)return o;i=i.sibling}return null}var Bl=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,xo=e.unstable_shouldYield,Vs=e.unstable_requestPaint,ot=e.unstable_now,tp=e.unstable_getCurrentPriorityLevel,ya=e.unstable_ImmediatePriority,zl=e.unstable_UserBlockingPriority,_o=e.unstable_NormalPriority,$l=e.unstable_LowPriority,va=e.unstable_IdlePriority,bo=null,Jn=null;function Ju(i){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(bo,i,void 0,(i.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:Eo,as=Math.log,hr=Math.LN2;function Eo(i){return i>>>=0,i===0?32:31-(as(i)/hr|0)|0}var ls=64,wi=4194304;function Ke(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Os(i,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes,S=c&268435455;if(S!==0){var V=S&~y;V!==0?p=Ke(V):(w&=S,w!==0&&(p=Ke(w)))}else S=c&~y,S!==0?p=Ke(S):w!==0&&(p=Ke(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)c=31-Zn(o),y=1<<c,p|=i[c],o&=~y;return p}function To(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(i,o){for(var c=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var S=31-Zn(w),V=1<<S,B=y[S];B===-1?((V&c)===0||(V&p)!==0)&&(y[S]=To(V,o)):B<=o&&(i.expiredLanes|=V),w&=~V}}function Wl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ql(){var i=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),i}function Hl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Co(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zn(o),i[o]=c}function np(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-Zn(c),w=1<<y;o[y]=0,p[y]=-1,i[y]=-1,c&=~w}}function Gl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var p=31-Zn(c),y=1<<p;y&o|i[p]&o&&(i[p]|=o),c&=~y}}var ze=0;function cs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Kl,wa,Ql,Xl,Yl,us=!1,xa=[],ds=null,hs=null,en=null,Io=new Map,Fs=new Map,er=[],Zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xi(i,o){switch(i){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Io.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(o.pointerId)}}function Vr(i,o,c,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},o!==null&&(o=dc(o),o!==null&&wa(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function ed(i,o,c,p,y){switch(o){case"focusin":return ds=Vr(ds,i,o,c,p,y),!0;case"dragenter":return hs=Vr(hs,i,o,c,p,y),!0;case"mouseover":return en=Vr(en,i,o,c,p,y),!0;case"pointerover":var w=y.pointerId;return Io.set(w,Vr(Io.get(w)||null,i,o,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Fs.set(w,Vr(Fs.get(w)||null,i,o,c,p,y)),!0}return!1}function _a(i){var o=Po(i.target);if(o!==null){var c=Mr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ul(c),o!==null){i.blockedOn=o,Yl(i.priority,function(){Ql(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=ba(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Nr=p,c.target.dispatchEvent(p),Nr=null}else return o=dc(c),o!==null&&wa(o),i.blockedOn=c,!1;o.shift()}return!0}function td(i,o,c){tt(i)&&c.delete(o)}function rp(){us=!1,ds!==null&&tt(ds)&&(ds=null),hs!==null&&tt(hs)&&(hs=null),en!==null&&tt(en)&&(en=null),Io.forEach(td),Fs.forEach(td)}function _i(i,o){i.blockedOn===o&&(i.blockedOn=null,us||(us=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rp)))}function bi(i){function o(y){return _i(y,i)}if(0<xa.length){_i(xa[0],i);for(var c=1;c<xa.length;c++){var p=xa[c];p.blockedOn===i&&(p.blockedOn=null)}}for(ds!==null&&_i(ds,i),hs!==null&&_i(hs,i),en!==null&&_i(en,i),Io.forEach(o),Fs.forEach(o),c=0;c<er.length;c++)p=er[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<er.length&&(c=er[0],c.blockedOn===null);)_a(c),c.blockedOn===null&&er.shift()}var Us=$.ReactCurrentBatchConfig,Bs=!0;function fs(i,o,c,p){var y=ze,w=Us.transition;Us.transition=null;try{ze=1,Jl(i,o,c,p)}finally{ze=y,Us.transition=w}}function nd(i,o,c,p){var y=ze,w=Us.transition;Us.transition=null;try{ze=4,Jl(i,o,c,p)}finally{ze=y,Us.transition=w}}function Jl(i,o,c,p){if(Bs){var y=ba(i,o,c,p);if(y===null)pp(i,o,p,ps,c),xi(i,p);else if(ed(y,i,o,c,p))p.stopPropagation();else if(xi(i,p),o&4&&-1<Zu.indexOf(i)){for(;y!==null;){var w=dc(y);if(w!==null&&Kl(w),w=ba(i,o,c,p),w===null&&pp(i,o,p,ps,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else pp(i,o,p,null,c)}}var ps=null;function ba(i,o,c,p){if(ps=null,i=yi(p),i=Po(i),i!==null)if(o=Mr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Ul(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ps=i,null}function Ea(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tp()){case ya:return 1;case zl:return 4;case _o:case $l:return 16;case va:return 536870912;default:return 16}default:return 16}}var tr=null,Ta=null,zs=null;function rd(){if(zs)return zs;var i,o=Ta,c=o.length,p,y="value"in tr?tr.value:tr.textContent,w=y.length;for(i=0;i<c&&o[i]===y[i];i++);var S=c-i;for(p=1;p<=S&&o[c-p]===y[w-p];p++);return zs=y.slice(i,1<p?1-p:void 0)}function Ro(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ms(){return!0}function Zl(){return!1}function mn(i){function o(c,p,y,w,S){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(c=i[V],this[V]=c?c(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ms:Zl,this.isPropagationStopped=Zl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),o}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=mn(gs),Ei=ae({},gs,{view:0,detail:0}),Sa=mn(Ei),Ca,Ia,nr,ko=ae({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nr&&(nr&&i.type==="mousemove"?(Ca=i.screenX-nr.screenX,Ia=i.screenY-nr.screenY):Ia=Ca=0,nr=i),Ca)},movementY:function(i){return"movementY"in i?i.movementY:Ia}}),ec=mn(ko),sd=ae({},ko,{dataTransfer:0}),id=mn(sd),Ra=ae({},Ei,{relatedTarget:0}),tn=mn(Ra),od=ae({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=mn(od),Ti=ae({},gs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=mn(Ti),_=ae({},gs,{data:0}),b=mn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Y[i])?!!o[i]:!1}function Pe(){return oe}var Tt=ae({},Ei,{key:function(i){if(i.key){var o=k[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),et=mn(Tt),At=ae({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=mn(At),$s=ae({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),ys=mn($s),vs=ae({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aa=mn(vs),tc=ae({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=mn(tc),gR=[9,13,27,32],sp=u&&"CompositionEvent"in window,nc=null;u&&"documentMode"in document&&(nc=document.documentMode);var yR=u&&"TextEvent"in window&&!nc,Iv=u&&(!sp||nc&&8<nc&&11>=nc),Rv=" ",Av=!1;function kv(i,o){switch(i){case"keyup":return gR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ka=!1;function vR(i,o){switch(i){case"compositionend":return Pv(o);case"keypress":return o.which!==32?null:(Av=!0,Rv);case"textInput":return i=o.data,i===Rv&&Av?null:i;default:return null}}function wR(i,o){if(ka)return i==="compositionend"||!sp&&kv(i,o)?(i=rd(),zs=Ta=tr=null,ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Iv&&o.locale!=="ko"?null:o.data;default:return null}}var xR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!xR[i.type]:o==="textarea"}function Dv(i,o,c,p){xt(p),o=hd(o,"onChange"),0<o.length&&(c=new Ao("onChange","change",null,c,p),i.push({event:c,listeners:o}))}var rc=null,sc=null;function _R(i){Yv(i,0)}function ld(i){var o=La(i);if(dn(o))return i}function bR(i,o){if(i==="change")return o}var jv=!1;if(u){var ip;if(u){var op="oninput"in document;if(!op){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),op=typeof Lv.oninput=="function"}ip=op}else ip=!1;jv=ip&&(!document.documentMode||9<document.documentMode)}function Mv(){rc&&(rc.detachEvent("onpropertychange",Vv),sc=rc=null)}function Vv(i){if(i.propertyName==="value"&&ld(sc)){var o=[];Dv(o,sc,i,yi(i)),Lr(_R,o)}}function ER(i,o,c){i==="focusin"?(Mv(),rc=o,sc=c,rc.attachEvent("onpropertychange",Vv)):i==="focusout"&&Mv()}function TR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ld(sc)}function SR(i,o){if(i==="click")return ld(o)}function CR(i,o){if(i==="input"||i==="change")return ld(o)}function IR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Or=typeof Object.is=="function"?Object.is:IR;function ic(i,o){if(Or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(o,y)||!Or(i[y],o[y]))return!1}return!0}function Ov(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fv(i,o){var c=Ov(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=o&&p>=o)return{node:c,offset:o-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ov(c)}}function Uv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Uv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Bv(){for(var i=window,o=Cn();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Cn(i.document)}return o}function ap(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function RR(i){var o=Bv(),c=i.focusedElem,p=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Uv(c.ownerDocument.documentElement,c)){if(p!==null&&ap(c)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!i.extend&&w>p&&(y=p,p=w,w=y),y=Fv(c,w);var S=Fv(c,p);y&&S&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),w>p?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var AR=u&&"documentMode"in document&&11>=document.documentMode,Pa=null,lp=null,oc=null,cp=!1;function zv(i,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;cp||Pa==null||Pa!==Cn(p)||(p=Pa,"selectionStart"in p&&ap(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),oc&&ic(oc,p)||(oc=p,p=hd(lp,"onSelect"),0<p.length&&(o=new Ao("onSelect","select",null,o,c),i.push({event:o,listeners:p}),o.target=Pa)))}function cd(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Na={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},up={},$v={};u&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ud(i){if(up[i])return up[i];if(!Na[i])return i;var o=Na[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in $v)return up[i]=o[c];return i}var Wv=ud("animationend"),qv=ud("animationiteration"),Hv=ud("animationstart"),Gv=ud("transitionend"),Kv=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(i,o){Kv.set(i,o),a(o,[i])}for(var dp=0;dp<Qv.length;dp++){var hp=Qv[dp],kR=hp.toLowerCase(),PR=hp[0].toUpperCase()+hp.slice(1);Si(kR,"on"+PR)}Si(Wv,"onAnimationEnd"),Si(qv,"onAnimationIteration"),Si(Hv,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Gv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function Xv(i,o,c){var p=i.type||"unknown-event";i.currentTarget=c,Fl(p,o,void 0,i),i.currentTarget=null}function Yv(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],y=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var S=p.length-1;0<=S;S--){var V=p[S],B=V.instance,X=V.currentTarget;if(V=V.listener,B!==w&&y.isPropagationStopped())break e;Xv(y,V,X),w=B}else for(S=0;S<p.length;S++){if(V=p[S],B=V.instance,X=V.currentTarget,V=V.listener,B!==w&&y.isPropagationStopped())break e;Xv(y,V,X),w=B}}}if(An)throw i=$t,An=!1,$t=null,i}function at(i,o){var c=o[xp];c===void 0&&(c=o[xp]=new Set);var p=i+"__bubble";c.has(p)||(Jv(o,i,2,!1),c.add(p))}function fp(i,o,c){var p=0;o&&(p|=4),Jv(c,i,p,o)}var dd="_reactListening"+Math.random().toString(36).slice(2);function lc(i){if(!i[dd]){i[dd]=!0,r.forEach(function(c){c!=="selectionchange"&&(NR.has(c)||fp(c,!1,i),fp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[dd]||(o[dd]=!0,fp("selectionchange",!1,o))}}function Jv(i,o,c,p){switch(Ea(o)){case 1:var y=fs;break;case 4:y=nd;break;default:y=Jl}c=y.bind(null,o,c,i),y=void 0,!Zt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function pp(i,o,c,p,y){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(S===4)for(S=p.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;S=S.return}for(;V!==null;){if(S=Po(V),S===null)return;if(B=S.tag,B===5||B===6){p=w=S;continue e}V=V.parentNode}}p=p.return}Lr(function(){var X=w,ne=yi(c),se=[];e:{var te=Kv.get(i);if(te!==void 0){var ue=Ao,fe=i;switch(i){case"keypress":if(Ro(c)===0)break e;case"keydown":case"keyup":ue=et;break;case"focusin":fe="focus",ue=tn;break;case"focusout":fe="blur",ue=tn;break;case"beforeblur":case"afterblur":ue=tn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=ys;break;case Wv:case qv:case Hv:ue=ad;break;case Gv:ue=Aa;break;case"scroll":ue=Sa;break;case"wheel":ue=mR;break;case"copy":case"cut":case"paste":ue=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=rr}var pe=(o&4)!==0,St=!pe&&i==="scroll",H=pe?te!==null?te+"Capture":null:te;pe=[];for(var z=X,Q;z!==null;){Q=z;var ie=Q.stateNode;if(Q.tag===5&&ie!==null&&(Q=ie,H!==null&&(ie=it(z,H),ie!=null&&pe.push(cc(z,ie,Q)))),St)break;z=z.return}0<pe.length&&(te=new ue(te,fe,null,c,ne),se.push({event:te,listeners:pe}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",te&&c!==Nr&&(fe=c.relatedTarget||c.fromElement)&&(Po(fe)||fe[Ws]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=X,fe=fe?Po(fe):null,fe!==null&&(St=Mr(fe),fe!==St||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=X),ue!==fe)){if(pe=ec,ie="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(pe=rr,ie="onPointerLeave",H="onPointerEnter",z="pointer"),St=ue==null?te:La(ue),Q=fe==null?te:La(fe),te=new pe(ie,z+"leave",ue,c,ne),te.target=St,te.relatedTarget=Q,ie=null,Po(ne)===X&&(pe=new pe(H,z+"enter",fe,c,ne),pe.target=Q,pe.relatedTarget=St,ie=pe),St=ie,ue&&fe)t:{for(pe=ue,H=fe,z=0,Q=pe;Q;Q=Da(Q))z++;for(Q=0,ie=H;ie;ie=Da(ie))Q++;for(;0<z-Q;)pe=Da(pe),z--;for(;0<Q-z;)H=Da(H),Q--;for(;z--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=Da(pe),H=Da(H)}pe=null}else pe=null;ue!==null&&Zv(se,te,ue,pe,!1),fe!==null&&St!==null&&Zv(se,St,fe,pe,!0)}}e:{if(te=X?La(X):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var me=bR;else if(Nv(te))if(jv)me=CR;else{me=TR;var _e=ER}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=SR);if(me&&(me=me(i,X))){Dv(se,me,c,ne);break e}_e&&_e(i,te,X),i==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&dt(te,"number",te.value)}switch(_e=X?La(X):window,i){case"focusin":(Nv(_e)||_e.contentEditable==="true")&&(Pa=_e,lp=X,oc=null);break;case"focusout":oc=lp=Pa=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,zv(se,c,ne);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":zv(se,c,ne)}var be;if(sp)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ka?kv(i,c)&&(Re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(Iv&&c.locale!=="ko"&&(ka||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ka&&(be=rd()):(tr=ne,Ta="value"in tr?tr.value:tr.textContent,ka=!0)),_e=hd(X,Re),0<_e.length&&(Re=new b(Re,i,null,c,ne),se.push({event:Re,listeners:_e}),be?Re.data=be:(be=Pv(c),be!==null&&(Re.data=be)))),(be=yR?vR(i,c):wR(i,c))&&(X=hd(X,"onBeforeInput"),0<X.length&&(ne=new b("onBeforeInput","beforeinput",null,c,ne),se.push({event:ne,listeners:X}),ne.data=be))}Yv(se,o)})}function cc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function hd(i,o){for(var c=o+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=it(i,c),w!=null&&p.unshift(cc(i,w,y)),w=it(i,o),w!=null&&p.push(cc(i,w,y))),i=i.return}return p}function Da(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Zv(i,o,c,p,y){for(var w=o._reactName,S=[];c!==null&&c!==p;){var V=c,B=V.alternate,X=V.stateNode;if(B!==null&&B===p)break;V.tag===5&&X!==null&&(V=X,y?(B=it(c,w),B!=null&&S.unshift(cc(c,B,V))):y||(B=it(c,w),B!=null&&S.push(cc(c,B,V)))),c=c.return}S.length!==0&&i.push({event:o,listeners:S})}var DR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function ew(i){return(typeof i=="string"?i:""+i).replace(DR,`
`).replace(jR,"")}function fd(i,o,c){if(o=ew(o),ew(i)!==o&&c)throw Error(n(425))}function pd(){}var mp=null,gp=null;function yp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(i){return tw.resolve(null).then(i).catch(VR)}:vp;function VR(i){setTimeout(function(){throw i})}function wp(i,o){var c=o,p=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){i.removeChild(y),bi(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);bi(o)}function Ci(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function nw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var ja=Math.random().toString(36).slice(2),ws="__reactFiber$"+ja,uc="__reactProps$"+ja,Ws="__reactContainer$"+ja,xp="__reactEvents$"+ja,OR="__reactListeners$"+ja,FR="__reactHandles$"+ja;function Po(i){var o=i[ws];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Ws]||c[ws]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=nw(i);i!==null;){if(c=i[ws])return c;i=nw(i)}return o}i=c,c=i.parentNode}return null}function dc(i){return i=i[ws]||i[Ws],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function La(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function md(i){return i[uc]||null}var _p=[],Ma=-1;function Ii(i){return{current:i}}function lt(i){0>Ma||(i.current=_p[Ma],_p[Ma]=null,Ma--)}function nt(i,o){Ma++,_p[Ma]=i.current,i.current=o}var Ri={},gn=Ii(Ri),Vn=Ii(!1),No=Ri;function Va(i,o){var c=i.type.contextTypes;if(!c)return Ri;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=o[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function On(i){return i=i.childContextTypes,i!=null}function gd(){lt(Vn),lt(gn)}function rw(i,o,c){if(gn.current!==Ri)throw Error(n(168));nt(gn,o),nt(Vn,c)}function sw(i,o,c){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,Be(i)||"Unknown",y));return ae({},c,p)}function yd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ri,No=gn.current,nt(gn,i),nt(Vn,Vn.current),!0}function iw(i,o,c){var p=i.stateNode;if(!p)throw Error(n(169));c?(i=sw(i,o,No),p.__reactInternalMemoizedMergedChildContext=i,lt(Vn),lt(gn),nt(gn,i)):lt(Vn),nt(Vn,c)}var qs=null,vd=!1,bp=!1;function ow(i){qs===null?qs=[i]:qs.push(i)}function UR(i){vd=!0,ow(i)}function Ai(){if(!bp&&qs!==null){bp=!0;var i=0,o=ze;try{var c=qs;for(ze=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}qs=null,vd=!1}catch(y){throw qs!==null&&(qs=qs.slice(i+1)),Bl(ya,Ai),y}finally{ze=o,bp=!1}}return null}var Oa=[],Fa=0,wd=null,xd=0,fr=[],pr=0,Do=null,Hs=1,Gs="";function jo(i,o){Oa[Fa++]=xd,Oa[Fa++]=wd,wd=i,xd=o}function aw(i,o,c){fr[pr++]=Hs,fr[pr++]=Gs,fr[pr++]=Do,Do=i;var p=Hs;i=Gs;var y=32-Zn(p)-1;p&=~(1<<y),c+=1;var w=32-Zn(o)+y;if(30<w){var S=y-y%5;w=(p&(1<<S)-1).toString(32),p>>=S,y-=S,Hs=1<<32-Zn(o)+y|c<<y|p,Gs=w+i}else Hs=1<<w|c<<y|p,Gs=i}function Ep(i){i.return!==null&&(jo(i,1),aw(i,1,0))}function Tp(i){for(;i===wd;)wd=Oa[--Fa],Oa[Fa]=null,xd=Oa[--Fa],Oa[Fa]=null;for(;i===Do;)Do=fr[--pr],fr[pr]=null,Gs=fr[--pr],fr[pr]=null,Hs=fr[--pr],fr[pr]=null}var sr=null,ir=null,ht=!1,Fr=null;function lw(i,o){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function cw(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,sr=i,ir=Ci(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,sr=i,ir=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Do!==null?{id:Hs,overflow:Gs}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,sr=i,ir=null,!0):!1;default:return!1}}function Sp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cp(i){if(ht){var o=ir;if(o){var c=o;if(!cw(i,o)){if(Sp(i))throw Error(n(418));o=Ci(c.nextSibling);var p=sr;o&&cw(i,o)?lw(p,c):(i.flags=i.flags&-4097|2,ht=!1,sr=i)}}else{if(Sp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ht=!1,sr=i}}}function uw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sr=i}function _d(i){if(i!==sr)return!1;if(!ht)return uw(i),ht=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!yp(i.type,i.memoizedProps)),o&&(o=ir)){if(Sp(i))throw dw(),Error(n(418));for(;o;)lw(i,o),o=Ci(o.nextSibling)}if(uw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){ir=Ci(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}ir=null}}else ir=sr?Ci(i.stateNode.nextSibling):null;return!0}function dw(){for(var i=ir;i;)i=Ci(i.nextSibling)}function Ua(){ir=sr=null,ht=!1}function Ip(i){Fr===null?Fr=[i]:Fr.push(i)}var BR=$.ReactCurrentBatchConfig;function hc(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,i));var y=p,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(S){var V=y.refs;S===null?delete V[w]:V[w]=S},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function bd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function hw(i){var o=i._init;return o(i._payload)}function fw(i){function o(H,z){if(i){var Q=H.deletions;Q===null?(H.deletions=[z],H.flags|=16):Q.push(z)}}function c(H,z){if(!i)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function p(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function y(H,z){return H=Vi(H,z),H.index=0,H.sibling=null,H}function w(H,z,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<z?(H.flags|=2,z):Q):(H.flags|=2,z)):(H.flags|=1048576,z)}function S(H){return i&&H.alternate===null&&(H.flags|=2),H}function V(H,z,Q,ie){return z===null||z.tag!==6?(z=vm(Q,H.mode,ie),z.return=H,z):(z=y(z,Q),z.return=H,z)}function B(H,z,Q,ie){var me=Q.type;return me===R?ne(H,z,Q.props.children,ie,Q.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===st&&hw(me)===z.type)?(ie=y(z,Q.props),ie.ref=hc(H,z,Q),ie.return=H,ie):(ie=Hd(Q.type,Q.key,Q.props,null,H.mode,ie),ie.ref=hc(H,z,Q),ie.return=H,ie)}function X(H,z,Q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=wm(Q,H.mode,ie),z.return=H,z):(z=y(z,Q.children||[]),z.return=H,z)}function ne(H,z,Q,ie,me){return z===null||z.tag!==7?(z=zo(Q,H.mode,ie,me),z.return=H,z):(z=y(z,Q),z.return=H,z)}function se(H,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=vm(""+z,H.mode,Q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return Q=Hd(z.type,z.key,z.props,null,H.mode,Q),Q.ref=hc(H,null,z),Q.return=H,Q;case q:return z=wm(z,H.mode,Q),z.return=H,z;case st:var ie=z._init;return se(H,ie(z._payload),Q)}if(Ye(z)||le(z))return z=zo(z,H.mode,Q,null),z.return=H,z;bd(H,z)}return null}function te(H,z,Q,ie){var me=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return me!==null?null:V(H,z,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return Q.key===me?B(H,z,Q,ie):null;case q:return Q.key===me?X(H,z,Q,ie):null;case st:return me=Q._init,te(H,z,me(Q._payload),ie)}if(Ye(Q)||le(Q))return me!==null?null:ne(H,z,Q,ie,null);bd(H,Q)}return null}function ue(H,z,Q,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(Q)||null,V(z,H,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case K:return H=H.get(ie.key===null?Q:ie.key)||null,B(z,H,ie,me);case q:return H=H.get(ie.key===null?Q:ie.key)||null,X(z,H,ie,me);case st:var _e=ie._init;return ue(H,z,Q,_e(ie._payload),me)}if(Ye(ie)||le(ie))return H=H.get(Q)||null,ne(z,H,ie,me,null);bd(z,ie)}return null}function fe(H,z,Q,ie){for(var me=null,_e=null,be=z,Re=z=0,Ht=null;be!==null&&Re<Q.length;Re++){be.index>Re?(Ht=be,be=null):Ht=be.sibling;var Ge=te(H,be,Q[Re],ie);if(Ge===null){be===null&&(be=Ht);break}i&&be&&Ge.alternate===null&&o(H,be),z=w(Ge,z,Re),_e===null?me=Ge:_e.sibling=Ge,_e=Ge,be=Ht}if(Re===Q.length)return c(H,be),ht&&jo(H,Re),me;if(be===null){for(;Re<Q.length;Re++)be=se(H,Q[Re],ie),be!==null&&(z=w(be,z,Re),_e===null?me=be:_e.sibling=be,_e=be);return ht&&jo(H,Re),me}for(be=p(H,be);Re<Q.length;Re++)Ht=ue(be,H,Re,Q[Re],ie),Ht!==null&&(i&&Ht.alternate!==null&&be.delete(Ht.key===null?Re:Ht.key),z=w(Ht,z,Re),_e===null?me=Ht:_e.sibling=Ht,_e=Ht);return i&&be.forEach(function(Oi){return o(H,Oi)}),ht&&jo(H,Re),me}function pe(H,z,Q,ie){var me=le(Q);if(typeof me!="function")throw Error(n(150));if(Q=me.call(Q),Q==null)throw Error(n(151));for(var _e=me=null,be=z,Re=z=0,Ht=null,Ge=Q.next();be!==null&&!Ge.done;Re++,Ge=Q.next()){be.index>Re?(Ht=be,be=null):Ht=be.sibling;var Oi=te(H,be,Ge.value,ie);if(Oi===null){be===null&&(be=Ht);break}i&&be&&Oi.alternate===null&&o(H,be),z=w(Oi,z,Re),_e===null?me=Oi:_e.sibling=Oi,_e=Oi,be=Ht}if(Ge.done)return c(H,be),ht&&jo(H,Re),me;if(be===null){for(;!Ge.done;Re++,Ge=Q.next())Ge=se(H,Ge.value,ie),Ge!==null&&(z=w(Ge,z,Re),_e===null?me=Ge:_e.sibling=Ge,_e=Ge);return ht&&jo(H,Re),me}for(be=p(H,be);!Ge.done;Re++,Ge=Q.next())Ge=ue(be,H,Re,Ge.value,ie),Ge!==null&&(i&&Ge.alternate!==null&&be.delete(Ge.key===null?Re:Ge.key),z=w(Ge,z,Re),_e===null?me=Ge:_e.sibling=Ge,_e=Ge);return i&&be.forEach(function(xA){return o(H,xA)}),ht&&jo(H,Re),me}function St(H,z,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:e:{for(var me=Q.key,_e=z;_e!==null;){if(_e.key===me){if(me=Q.type,me===R){if(_e.tag===7){c(H,_e.sibling),z=y(_e,Q.props.children),z.return=H,H=z;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===st&&hw(me)===_e.type){c(H,_e.sibling),z=y(_e,Q.props),z.ref=hc(H,_e,Q),z.return=H,H=z;break e}c(H,_e);break}else o(H,_e);_e=_e.sibling}Q.type===R?(z=zo(Q.props.children,H.mode,ie,Q.key),z.return=H,H=z):(ie=Hd(Q.type,Q.key,Q.props,null,H.mode,ie),ie.ref=hc(H,z,Q),ie.return=H,H=ie)}return S(H);case q:e:{for(_e=Q.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){c(H,z.sibling),z=y(z,Q.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else o(H,z);z=z.sibling}z=wm(Q,H.mode,ie),z.return=H,H=z}return S(H);case st:return _e=Q._init,St(H,z,_e(Q._payload),ie)}if(Ye(Q))return fe(H,z,Q,ie);if(le(Q))return pe(H,z,Q,ie);bd(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(c(H,z.sibling),z=y(z,Q),z.return=H,H=z):(c(H,z),z=vm(Q,H.mode,ie),z.return=H,H=z),S(H)):c(H,z)}return St}var Ba=fw(!0),pw=fw(!1),Ed=Ii(null),Td=null,za=null,Rp=null;function Ap(){Rp=za=Td=null}function kp(i){var o=Ed.current;lt(Ed),i._currentValue=o}function Pp(i,o,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===c)break;i=i.return}}function $a(i,o){Td=i,Rp=za=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Fn=!0),i.firstContext=null)}function mr(i){var o=i._currentValue;if(Rp!==i)if(i={context:i,memoizedValue:o,next:null},za===null){if(Td===null)throw Error(n(308));za=i,Td.dependencies={lanes:0,firstContext:i}}else za=za.next=i;return o}var Lo=null;function Np(i){Lo===null?Lo=[i]:Lo.push(i)}function mw(i,o,c,p){var y=o.interleaved;return y===null?(c.next=c,Np(o)):(c.next=y.next,y.next=c),o.interleaved=c,Ks(i,p)}function Ks(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var ki=!1;function Dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Pi(i,o,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,Ks(i,c)}return y=p.interleaved,y===null?(o.next=o,Np(p)):(o.next=y.next,y.next=o),p.interleaved=o,Ks(i,c)}function Sd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Gl(i,c)}}function yw(i,o){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=S:w=w.next=S,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Cd(i,o,c,p){var y=i.updateQueue;ki=!1;var w=y.firstBaseUpdate,S=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var B=V,X=B.next;B.next=null,S===null?w=X:S.next=X,S=B;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==S&&(V===null?ne.firstBaseUpdate=X:V.next=X,ne.lastBaseUpdate=B))}if(w!==null){var se=y.baseState;S=0,ne=X=B=null,V=w;do{var te=V.lane,ue=V.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var fe=i,pe=V;switch(te=o,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){se=fe.call(ue,se,te);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ue,se,te):fe,te==null)break e;se=ae({},se,te);break e;case 2:ki=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,te=y.effects,te===null?y.effects=[V]:te.push(V))}else ue={eventTime:ue,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(X=ne=ue,B=se):ne=ne.next=ue,S|=te;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;te=V,V=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(B=se),y.baseState=B,y.firstBaseUpdate=X,y.lastBaseUpdate=ne,o=y.shared.interleaved,o!==null){y=o;do S|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);Oo|=S,i.lanes=S,i.memoizedState=se}}function vw(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var fc={},xs=Ii(fc),pc=Ii(fc),mc=Ii(fc);function Mo(i){if(i===fc)throw Error(n(174));return i}function jp(i,o){switch(nt(mc,o),nt(pc,i),nt(xs,fc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Yn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Yn(o,i)}lt(xs),nt(xs,o)}function Wa(){lt(xs),lt(pc),lt(mc)}function ww(i){Mo(mc.current);var o=Mo(xs.current),c=Yn(o,i.type);o!==c&&(nt(pc,i),nt(xs,c))}function Lp(i){pc.current===i&&(lt(xs),lt(pc))}var mt=Ii(0);function Id(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Mp=[];function Vp(){for(var i=0;i<Mp.length;i++)Mp[i]._workInProgressVersionPrimary=null;Mp.length=0}var Rd=$.ReactCurrentDispatcher,Op=$.ReactCurrentBatchConfig,Vo=0,gt=null,Ot=null,Wt=null,Ad=!1,gc=!1,yc=0,zR=0;function yn(){throw Error(n(321))}function Fp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Or(i[c],o[c]))return!1;return!0}function Up(i,o,c,p,y,w){if(Vo=w,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rd.current=i===null||i.memoizedState===null?HR:GR,i=c(p,y),gc){w=0;do{if(gc=!1,yc=0,25<=w)throw Error(n(301));w+=1,Wt=Ot=null,o.updateQueue=null,Rd.current=KR,i=c(p,y)}while(gc)}if(Rd.current=Nd,o=Ot!==null&&Ot.next!==null,Vo=0,Wt=Ot=gt=null,Ad=!1,o)throw Error(n(300));return i}function Bp(){var i=yc!==0;return yc=0,i}function _s(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?gt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function gr(){if(Ot===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=Wt===null?gt.memoizedState:Wt.next;if(o!==null)Wt=o,Ot=i;else{if(i===null)throw Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Wt===null?gt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function vc(i,o){return typeof o=="function"?o(i):o}function zp(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var p=Ot,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var S=y.next;y.next=w.next,w.next=S}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var V=S=null,B=null,X=w;do{var ne=X.lane;if((Vo&ne)===ne)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:i(p,X.action);else{var se={lane:ne,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(V=B=se,S=p):B=B.next=se,gt.lanes|=ne,Oo|=ne}X=X.next}while(X!==null&&X!==w);B===null?S=p:B.next=V,Or(p,o.memoizedState)||(Fn=!0),o.memoizedState=p,o.baseState=S,o.baseQueue=B,c.lastRenderedState=p}if(i=c.interleaved,i!==null){y=i;do w=y.lane,gt.lanes|=w,Oo|=w,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function $p(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var p=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do w=i(w,S.action),S=S.next;while(S!==y);Or(w,o.memoizedState)||(Fn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,p]}function xw(){}function _w(i,o){var c=gt,p=gr(),y=o(),w=!Or(p.memoizedState,y);if(w&&(p.memoizedState=y,Fn=!0),p=p.queue,Wp(Tw.bind(null,c,p,i),[i]),p.getSnapshot!==o||w||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,wc(9,Ew.bind(null,c,p,y,o),void 0,null),qt===null)throw Error(n(349));(Vo&30)!==0||bw(c,o,y)}return y}function bw(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Ew(i,o,c,p){o.value=c,o.getSnapshot=p,Sw(o)&&Cw(i)}function Tw(i,o,c){return c(function(){Sw(o)&&Cw(i)})}function Sw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Or(i,c)}catch{return!0}}function Cw(i){var o=Ks(i,1);o!==null&&$r(o,i,1,-1)}function Iw(i){var o=_s();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:i},o.queue=i,i=i.dispatch=qR.bind(null,gt,i),[o.memoizedState,i]}function wc(i,o,c,p){return i={tag:i,create:o,destroy:c,deps:p,next:null},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,o.lastEffect=i)),i}function Rw(){return gr().memoizedState}function kd(i,o,c,p){var y=_s();gt.flags|=i,y.memoizedState=wc(1|o,c,void 0,p===void 0?null:p)}function Pd(i,o,c,p){var y=gr();p=p===void 0?null:p;var w=void 0;if(Ot!==null){var S=Ot.memoizedState;if(w=S.destroy,p!==null&&Fp(p,S.deps)){y.memoizedState=wc(o,c,w,p);return}}gt.flags|=i,y.memoizedState=wc(1|o,c,w,p)}function Aw(i,o){return kd(8390656,8,i,o)}function Wp(i,o){return Pd(2048,8,i,o)}function kw(i,o){return Pd(4,2,i,o)}function Pw(i,o){return Pd(4,4,i,o)}function Nw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Dw(i,o,c){return c=c!=null?c.concat([i]):null,Pd(4,4,Nw.bind(null,o,i),c)}function qp(){}function jw(i,o){var c=gr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Fp(o,p[1])?p[0]:(c.memoizedState=[i,o],i)}function Lw(i,o){var c=gr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Fp(o,p[1])?p[0]:(i=i(),c.memoizedState=[i,o],i)}function Mw(i,o,c){return(Vo&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=c):(Or(c,o)||(c=ql(),gt.lanes|=c,Oo|=c,i.baseState=!0),o)}function $R(i,o){var c=ze;ze=c!==0&&4>c?c:4,i(!0);var p=Op.transition;Op.transition={};try{i(!1),o()}finally{ze=c,Op.transition=p}}function Vw(){return gr().memoizedState}function WR(i,o,c){var p=Li(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Ow(i))Fw(o,c);else if(c=mw(i,o,c,p),c!==null){var y=Pn();$r(c,i,p,y),Uw(c,o,p)}}function qR(i,o,c){var p=Li(i),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ow(i))Fw(o,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var S=o.lastRenderedState,V=w(S,c);if(y.hasEagerState=!0,y.eagerState=V,Or(V,S)){var B=o.interleaved;B===null?(y.next=y,Np(o)):(y.next=B.next,B.next=y),o.interleaved=y;return}}catch{}finally{}c=mw(i,o,y,p),c!==null&&(y=Pn(),$r(c,i,p,y),Uw(c,o,p))}}function Ow(i){var o=i.alternate;return i===gt||o!==null&&o===gt}function Fw(i,o){gc=Ad=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Uw(i,o,c){if((c&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Gl(i,c)}}var Nd={readContext:mr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},HR={readContext:mr,useCallback:function(i,o){return _s().memoizedState=[i,o===void 0?null:o],i},useContext:mr,useEffect:Aw,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,kd(4194308,4,Nw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return kd(4194308,4,i,o)},useInsertionEffect:function(i,o){return kd(4,2,i,o)},useMemo:function(i,o){var c=_s();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var p=_s();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=WR.bind(null,gt,i),[p.memoizedState,i]},useRef:function(i){var o=_s();return i={current:i},o.memoizedState=i},useState:Iw,useDebugValue:qp,useDeferredValue:function(i){return _s().memoizedState=i},useTransition:function(){var i=Iw(!1),o=i[0];return i=$R.bind(null,i[1]),_s().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var p=gt,y=_s();if(ht){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),qt===null)throw Error(n(349));(Vo&30)!==0||bw(p,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,Aw(Tw.bind(null,p,w,i),[i]),p.flags|=2048,wc(9,Ew.bind(null,p,w,c,o),void 0,null),c},useId:function(){var i=_s(),o=qt.identifierPrefix;if(ht){var c=Gs,p=Hs;c=(p&~(1<<32-Zn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=yc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=zR++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},GR={readContext:mr,useCallback:jw,useContext:mr,useEffect:Wp,useImperativeHandle:Dw,useInsertionEffect:kw,useLayoutEffect:Pw,useMemo:Lw,useReducer:zp,useRef:Rw,useState:function(){return zp(vc)},useDebugValue:qp,useDeferredValue:function(i){var o=gr();return Mw(o,Ot.memoizedState,i)},useTransition:function(){var i=zp(vc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:xw,useSyncExternalStore:_w,useId:Vw,unstable_isNewReconciler:!1},KR={readContext:mr,useCallback:jw,useContext:mr,useEffect:Wp,useImperativeHandle:Dw,useInsertionEffect:kw,useLayoutEffect:Pw,useMemo:Lw,useReducer:$p,useRef:Rw,useState:function(){return $p(vc)},useDebugValue:qp,useDeferredValue:function(i){var o=gr();return Ot===null?o.memoizedState=i:Mw(o,Ot.memoizedState,i)},useTransition:function(){var i=$p(vc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:xw,useSyncExternalStore:_w,useId:Vw,unstable_isNewReconciler:!1};function Ur(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Hp(i,o,c,p){o=i.memoizedState,c=c(p,o),c=c==null?o:ae({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Dd={isMounted:function(i){return(i=i._reactInternals)?Mr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var p=Pn(),y=Li(i),w=Qs(p,y);w.payload=o,c!=null&&(w.callback=c),o=Pi(i,w,y),o!==null&&($r(o,i,y,p),Sd(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var p=Pn(),y=Li(i),w=Qs(p,y);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Pi(i,w,y),o!==null&&($r(o,i,y,p),Sd(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Pn(),p=Li(i),y=Qs(c,p);y.tag=2,o!=null&&(y.callback=o),o=Pi(i,y,p),o!==null&&($r(o,i,p,c),Sd(o,i,p))}};function Bw(i,o,c,p,y,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,S):o.prototype&&o.prototype.isPureReactComponent?!ic(c,p)||!ic(y,w):!0}function zw(i,o,c){var p=!1,y=Ri,w=o.contextType;return typeof w=="object"&&w!==null?w=mr(w):(y=On(o)?No:gn.current,p=o.contextTypes,w=(p=p!=null)?Va(i,y):Ri),o=new o(c,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dd,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),o}function $w(i,o,c,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==i&&Dd.enqueueReplaceState(o,o.state,null)}function Gp(i,o,c,p){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Dp(i);var w=o.contextType;typeof w=="object"&&w!==null?y.context=mr(w):(w=On(o)?No:gn.current,y.context=Va(i,w)),y.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hp(i,o,w,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Dd.enqueueReplaceState(y,y.state,null),Cd(i,c,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function qa(i,o){try{var c="",p=o;do c+=De(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:y,digest:null}}function Kp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Qp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function Ww(i,o,c){c=Qs(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Ud||(Ud=!0,um=p),Qp(i,o)},c}function qw(i,o,c){c=Qs(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Qp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Qp(i,o),typeof p!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function Hw(i,o,c){var p=i.pingCache;if(p===null){p=i.pingCache=new QR;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),i=cA.bind(null,i,o,c),o.then(i,i))}function Gw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Kw(i,o,c,p,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Qs(-1,1),o.tag=2,Pi(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var XR=$.ReactCurrentOwner,Fn=!1;function kn(i,o,c,p){o.child=i===null?pw(o,null,c,p):Ba(o,i.child,c,p)}function Qw(i,o,c,p,y){c=c.render;var w=o.ref;return $a(o,y),p=Up(i,o,c,p,w,y),c=Bp(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Xs(i,o,y)):(ht&&c&&Ep(o),o.flags|=1,kn(i,o,p,y),o.child)}function Xw(i,o,c,p,y){if(i===null){var w=c.type;return typeof w=="function"&&!ym(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Yw(i,o,w,p,y)):(i=Hd(c.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&y)===0){var S=w.memoizedProps;if(c=c.compare,c=c!==null?c:ic,c(S,p)&&i.ref===o.ref)return Xs(i,o,y)}return o.flags|=1,i=Vi(w,p),i.ref=o.ref,i.return=o,o.child=i}function Yw(i,o,c,p,y){if(i!==null){var w=i.memoizedProps;if(ic(w,p)&&i.ref===o.ref)if(Fn=!1,o.pendingProps=p=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Fn=!0);else return o.lanes=i.lanes,Xs(i,o,y)}return Xp(i,o,c,p,y)}function Jw(i,o,c){var p=o.pendingProps,y=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ga,or),or|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,nt(Ga,or),or|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,nt(Ga,or),or|=p}else w!==null?(p=w.baseLanes|c,o.memoizedState=null):p=c,nt(Ga,or),or|=p;return kn(i,o,y,c),o.child}function Zw(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Xp(i,o,c,p,y){var w=On(c)?No:gn.current;return w=Va(o,w),$a(o,y),c=Up(i,o,c,p,w,y),p=Bp(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Xs(i,o,y)):(ht&&p&&Ep(o),o.flags|=1,kn(i,o,c,y),o.child)}function ex(i,o,c,p,y){if(On(c)){var w=!0;yd(o)}else w=!1;if($a(o,y),o.stateNode===null)Ld(i,o),zw(o,c,p),Gp(o,c,p,y),p=!0;else if(i===null){var S=o.stateNode,V=o.memoizedProps;S.props=V;var B=S.context,X=c.contextType;typeof X=="object"&&X!==null?X=mr(X):(X=On(c)?No:gn.current,X=Va(o,X));var ne=c.getDerivedStateFromProps,se=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==p||B!==X)&&$w(o,S,p,X),ki=!1;var te=o.memoizedState;S.state=te,Cd(o,p,S,y),B=o.memoizedState,V!==p||te!==B||Vn.current||ki?(typeof ne=="function"&&(Hp(o,c,ne,p),B=o.memoizedState),(V=ki||Bw(o,c,V,p,te,B,X))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=B),S.props=p,S.state=B,S.context=X,p=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,gw(i,o),V=o.memoizedProps,X=o.type===o.elementType?V:Ur(o.type,V),S.props=X,se=o.pendingProps,te=S.context,B=c.contextType,typeof B=="object"&&B!==null?B=mr(B):(B=On(c)?No:gn.current,B=Va(o,B));var ue=c.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==se||te!==B)&&$w(o,S,p,B),ki=!1,te=o.memoizedState,S.state=te,Cd(o,p,S,y);var fe=o.memoizedState;V!==se||te!==fe||Vn.current||ki?(typeof ue=="function"&&(Hp(o,c,ue,p),fe=o.memoizedState),(X=ki||Bw(o,c,X,p,te,fe,B)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,fe,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,fe,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),S.props=p,S.state=fe,S.context=B,p=X):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),p=!1)}return Yp(i,o,c,p,w,y)}function Yp(i,o,c,p,y,w){Zw(i,o);var S=(o.flags&128)!==0;if(!p&&!S)return y&&iw(o,c,!1),Xs(i,o,w);p=o.stateNode,XR.current=o;var V=S&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&S?(o.child=Ba(o,i.child,null,w),o.child=Ba(o,null,V,w)):kn(i,o,V,w),o.memoizedState=p.state,y&&iw(o,c,!0),o.child}function tx(i){var o=i.stateNode;o.pendingContext?rw(i,o.pendingContext,o.pendingContext!==o.context):o.context&&rw(i,o.context,!1),jp(i,o.containerInfo)}function nx(i,o,c,p,y){return Ua(),Ip(y),o.flags|=256,kn(i,o,c,p),o.child}var Jp={dehydrated:null,treeContext:null,retryLane:0};function Zp(i){return{baseLanes:i,cachePool:null,transitions:null}}function rx(i,o,c){var p=o.pendingProps,y=mt.current,w=!1,S=(o.flags&128)!==0,V;if((V=S)||(V=i!==null&&i.memoizedState===null?!1:(y&2)!==0),V?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),nt(mt,y&1),i===null)return Cp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=p.children,i=p.fallback,w?(p=o.mode,w=o.child,S={mode:"hidden",children:S},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=Gd(S,p,0,null),i=zo(i,p,c,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Zp(c),o.memoizedState=Jp,i):em(o,S));if(y=i.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return YR(i,o,S,p,V,y,c);if(w){w=p.fallback,S=o.mode,y=i.child,V=y.sibling;var B={mode:"hidden",children:p.children};return(S&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=B,o.deletions=null):(p=Vi(y,B),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Vi(V,w):(w=zo(w,S,c,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,S=i.child.memoizedState,S=S===null?Zp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=i.childLanes&~c,o.memoizedState=Jp,p}return w=i.child,i=w.sibling,p=Vi(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=p,o.memoizedState=null,p}function em(i,o){return o=Gd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function jd(i,o,c,p){return p!==null&&Ip(p),Ba(o,i.child,null,c),i=em(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function YR(i,o,c,p,y,w,S){if(c)return o.flags&256?(o.flags&=-257,p=Kp(Error(n(422))),jd(i,o,S,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=p.fallback,y=o.mode,p=Gd({mode:"visible",children:p.children},y,0,null),w=zo(w,y,S,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&Ba(o,i.child,null,S),o.child.memoizedState=Zp(S),o.memoizedState=Jp,w);if((o.mode&1)===0)return jd(i,o,S,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(n(419)),p=Kp(w,p,void 0),jd(i,o,S,p)}if(V=(S&i.childLanes)!==0,Fn||V){if(p=qt,p!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|S))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ks(i,y),$r(p,i,y,-1))}return gm(),p=Kp(Error(n(421))),jd(i,o,S,p)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=uA.bind(null,i),y._reactRetry=o,null):(i=w.treeContext,ir=Ci(y.nextSibling),sr=o,ht=!0,Fr=null,i!==null&&(fr[pr++]=Hs,fr[pr++]=Gs,fr[pr++]=Do,Hs=i.id,Gs=i.overflow,Do=o),o=em(o,p.children),o.flags|=4096,o)}function sx(i,o,c){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Pp(i.return,o,c)}function tm(i,o,c,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function ix(i,o,c){var p=o.pendingProps,y=p.revealOrder,w=p.tail;if(kn(i,o,p.children,c),p=mt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sx(i,c,o);else if(i.tag===19)sx(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(nt(mt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Id(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),tm(o,!1,y,c,w);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Id(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}tm(o,!0,c,null,w);break;case"together":tm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ld(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Xs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Oo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Vi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Vi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function JR(i,o,c){switch(o.tag){case 3:tx(o),Ua();break;case 5:ww(o);break;case 1:On(o.type)&&yd(o);break;case 4:jp(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;nt(Ed,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(nt(mt,mt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?rx(i,o,c):(nt(mt,mt.current&1),i=Xs(i,o,c),i!==null?i.sibling:null);nt(mt,mt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(i.flags&128)!==0){if(p)return ix(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),nt(mt,mt.current),p)break;return null;case 22:case 23:return o.lanes=0,Jw(i,o,c)}return Xs(i,o,c)}var ox,nm,ax,lx;ox=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},nm=function(){},ax=function(i,o,c,p){var y=i.memoizedProps;if(y!==p){i=o.stateNode,Mo(xs.current);var w=null;switch(c){case"input":y=hn(i,y),p=hn(i,p),w=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":y=ns(i,y),p=ns(i,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=pd)}Ln(c,p);var S;c=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var V=y[X];for(S in V)V.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var B=p[X];if(V=y?.[X],p.hasOwnProperty(X)&&B!==V&&(B!=null||V!=null))if(X==="style")if(V){for(S in V)!V.hasOwnProperty(S)||B&&B.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in B)B.hasOwnProperty(S)&&V[S]!==B[S]&&(c||(c={}),c[S]=B[S])}else c||(w||(w=[]),w.push(X,c)),c=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(w=w||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&at("scroll",i),w||V===B||(w=[])):(w=w||[]).push(X,B))}c&&(w=w||[]).push("style",c);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},lx=function(i,o,c,p){c!==p&&(o.flags|=4)};function xc(i,o){if(!ht)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=c,o}function ZR(i,o,c){var p=o.pendingProps;switch(Tp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return On(o.type)&&gd(),vn(o),null;case 3:return p=o.stateNode,Wa(),lt(Vn),lt(gn),Vp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(_d(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fr!==null&&(fm(Fr),Fr=null))),nm(i,o),vn(o),null;case 5:Lp(o);var y=Mo(mc.current);if(c=o.type,i!==null&&o.stateNode!=null)ax(i,o,c,p,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return vn(o),null}if(i=Mo(xs.current),_d(o)){p=o.stateNode,c=o.type;var w=o.memoizedProps;switch(p[ws]=o,p[uc]=w,i=(o.mode&1)!==0,c){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<ac.length;y++)at(ac[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":Pr(p,w),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},at("invalid",p);break;case"textarea":pi(p,w),at("invalid",p)}Ln(c,w),y=null;for(var S in w)if(w.hasOwnProperty(S)){var V=w[S];S==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&fd(p.textContent,V,i),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&fd(p.textContent,V,i),y=["children",""+V]):s.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&at("scroll",p)}switch(c){case"input":dr(p),fi(p,w,!0);break;case"textarea":dr(p),rs(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=pd)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yo(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=S.createElement(c,{is:p.is}):(i=S.createElement(c),c==="select"&&(S=i,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):i=S.createElementNS(i,c),i[ws]=o,i[uc]=p,ox(i,o,!1,!1),o.stateNode=i;e:{switch(S=gi(c,p),c){case"dialog":at("cancel",i),at("close",i),y=p;break;case"iframe":case"object":case"embed":at("load",i),y=p;break;case"video":case"audio":for(y=0;y<ac.length;y++)at(ac[y],i);y=p;break;case"source":at("error",i),y=p;break;case"img":case"image":case"link":at("error",i),at("load",i),y=p;break;case"details":at("toggle",i),y=p;break;case"input":Pr(i,p),y=hn(i,p),at("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),at("invalid",i);break;case"textarea":pi(i,p),y=ns(i,p),at("invalid",i);break;default:y=p}Ln(c,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var B=V[w];w==="style"?mi(i,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&ss(i,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&is(i,B):typeof B=="number"&&is(i,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?B!=null&&w==="onScroll"&&at("scroll",i):B!=null&&F(i,w,B,S))}switch(c){case"input":dr(i),fi(i,p,!1);break;case"textarea":dr(i),rs(i);break;case"option":p.value!=null&&i.setAttribute("value",""+je(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?fn(i,!!p.multiple,w,!1):p.defaultValue!=null&&fn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=pd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(i&&o.stateNode!=null)lx(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Mo(mc.current),Mo(xs.current),_d(o)){if(p=o.stateNode,c=o.memoizedProps,p[ws]=o,(w=p.nodeValue!==c)&&(i=sr,i!==null))switch(i.tag){case 3:fd(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fd(p.nodeValue,c,(i.mode&1)!==0)}w&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ws]=o,o.stateNode=p}return vn(o),null;case 13:if(lt(mt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ht&&ir!==null&&(o.mode&1)!==0&&(o.flags&128)===0)dw(),Ua(),o.flags|=98560,w=!1;else if(w=_d(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ws]=o}else Ua(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),w=!1}else Fr!==null&&(fm(Fr),Fr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(mt.current&1)!==0?Ft===0&&(Ft=3):gm())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return Wa(),nm(i,o),i===null&&lc(o.stateNode.containerInfo),vn(o),null;case 10:return kp(o.type._context),vn(o),null;case 17:return On(o.type)&&gd(),vn(o),null;case 19:if(lt(mt),w=o.memoizedState,w===null)return vn(o),null;if(p=(o.flags&128)!==0,S=w.rendering,S===null)if(p)xc(w,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Id(i),S!==null){for(o.flags|=128,xc(w,!1),p=S.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)w=c,i=p,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,i=S.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return nt(mt,mt.current&1|2),o.child}i=i.sibling}w.tail!==null&&ot()>Ka&&(o.flags|=128,p=!0,xc(w,!1),o.lanes=4194304)}else{if(!p)if(i=Id(S),i!==null){if(o.flags|=128,p=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),xc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!ht)return vn(o),null}else 2*ot()-w.renderingStartTime>Ka&&c!==1073741824&&(o.flags|=128,p=!0,xc(w,!1),o.lanes=4194304);w.isBackwards?(S.sibling=o.child,o.child=S):(c=w.last,c!==null?c.sibling=S:o.child=S,w.last=S)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,c=mt.current,nt(mt,p?c&1|2:c&1),o):(vn(o),null);case 22:case 23:return mm(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(or&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function eA(i,o){switch(Tp(o),o.tag){case 1:return On(o.type)&&gd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Wa(),lt(Vn),lt(gn),Vp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Lp(o),null;case 13:if(lt(mt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ua()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(mt),null;case 4:return Wa(),null;case 10:return kp(o.type._context),null;case 22:case 23:return mm(),null;case 24:return null;default:return null}}var Md=!1,wn=!1,tA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ha(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){_t(i,o,p)}else c.current=null}function rm(i,o,c){try{c()}catch(p){_t(i,o,p)}}var cx=!1;function nA(i,o){if(mp=Bs,i=Bv(),ap(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var S=0,V=-1,B=-1,X=0,ne=0,se=i,te=null;t:for(;;){for(var ue;se!==c||y!==0&&se.nodeType!==3||(V=S+y),se!==w||p!==0&&se.nodeType!==3||(B=S+p),se.nodeType===3&&(S+=se.nodeValue.length),(ue=se.firstChild)!==null;)te=se,se=ue;for(;;){if(se===i)break t;if(te===c&&++X===y&&(V=S),te===w&&++ne===p&&(B=S),(ue=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ue}c=V===-1||B===-1?null:{start:V,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(gp={focusedElem:i,selectionRange:c},Bs=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,St=fe.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Ur(o.type,pe),St);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){_t(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=cx,cx=!1,fe}function _c(i,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&rm(o,c,w)}y=y.next}while(y!==p)}}function Vd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function sm(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function ux(i){var o=i.alternate;o!==null&&(i.alternate=null,ux(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ws],delete o[uc],delete o[xp],delete o[OR],delete o[FR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function dx(i){return i.tag===5||i.tag===3||i.tag===4}function hx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function im(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=pd));else if(p!==4&&(i=i.child,i!==null))for(im(i,o,c),i=i.sibling;i!==null;)im(i,o,c),i=i.sibling}function om(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(om(i,o,c),i=i.sibling;i!==null;)om(i,o,c),i=i.sibling}var nn=null,Br=!1;function Ni(i,o,c){for(c=c.child;c!==null;)fx(i,o,c),c=c.sibling}function fx(i,o,c){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(bo,c)}catch{}switch(c.tag){case 5:wn||Ha(c,o);case 6:var p=nn,y=Br;nn=null,Ni(i,o,c),nn=p,Br=y,nn!==null&&(Br?(i=nn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(Br?(i=nn,c=c.stateNode,i.nodeType===8?wp(i.parentNode,c):i.nodeType===1&&wp(i,c),bi(i)):wp(nn,c.stateNode));break;case 4:p=nn,y=Br,nn=c.stateNode.containerInfo,Br=!0,Ni(i,o,c),nn=p,Br=y;break;case 0:case 11:case 14:case 15:if(!wn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&rm(c,o,S),y=y.next}while(y!==p)}Ni(i,o,c);break;case 1:if(!wn&&(Ha(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){_t(c,o,V)}Ni(i,o,c);break;case 21:Ni(i,o,c);break;case 22:c.mode&1?(wn=(p=wn)||c.memoizedState!==null,Ni(i,o,c),wn=p):Ni(i,o,c);break;default:Ni(i,o,c)}}function px(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new tA),o.forEach(function(p){var y=dA.bind(null,i,p);c.has(p)||(c.add(p),p.then(y,y))})}}function zr(i,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=i,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 5:nn=V.stateNode,Br=!1;break e;case 3:nn=V.stateNode.containerInfo,Br=!0;break e;case 4:nn=V.stateNode.containerInfo,Br=!0;break e}V=V.return}if(nn===null)throw Error(n(160));fx(w,S,y),nn=null,Br=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(X){_t(y,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)mx(o,i),o=o.sibling}function mx(i,o){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zr(o,i),bs(i),p&4){try{_c(3,i,i.return),Vd(3,i)}catch(pe){_t(i,i.return,pe)}try{_c(5,i,i.return)}catch(pe){_t(i,i.return,pe)}}break;case 1:zr(o,i),bs(i),p&512&&c!==null&&Ha(c,c.return);break;case 5:if(zr(o,i),bs(i),p&512&&c!==null&&Ha(c,c.return),i.flags&32){var y=i.stateNode;try{is(y,"")}catch(pe){_t(i,i.return,pe)}}if(p&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,S=c!==null?c.memoizedProps:w,V=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&Xn(y,w),gi(V,S);var X=gi(V,w);for(S=0;S<B.length;S+=2){var ne=B[S],se=B[S+1];ne==="style"?mi(y,se):ne==="dangerouslySetInnerHTML"?ss(y,se):ne==="children"?is(y,se):F(y,ne,se,X)}switch(V){case"input":ts(y,w);break;case"textarea":go(y,w);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?fn(y,!!w.multiple,ue,!1):te!==!!w.multiple&&(w.defaultValue!=null?fn(y,!!w.multiple,w.defaultValue,!0):fn(y,!!w.multiple,w.multiple?[]:"",!1))}y[uc]=w}catch(pe){_t(i,i.return,pe)}}break;case 6:if(zr(o,i),bs(i),p&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(pe){_t(i,i.return,pe)}}break;case 3:if(zr(o,i),bs(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{bi(o.containerInfo)}catch(pe){_t(i,i.return,pe)}break;case 4:zr(o,i),bs(i);break;case 13:zr(o,i),bs(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(cm=ot())),p&4&&px(i);break;case 22:if(ne=c!==null&&c.memoizedState!==null,i.mode&1?(wn=(X=wn)||ne,zr(o,i),wn=X):zr(o,i),bs(i),p&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(se=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:_c(4,te,te.return);break;case 1:Ha(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){p=te,c=te.return;try{o=p,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){_t(p,c,pe)}}break;case 5:Ha(te,te.return);break;case 22:if(te.memoizedState!==null){vx(se);continue}}ue!==null?(ue.return=te,he=ue):vx(se)}ne=ne.sibling}e:for(ne=null,se=i;;){if(se.tag===5){if(ne===null){ne=se;try{y=se.stateNode,X?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=se.stateNode,B=se.memoizedProps.style,S=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=os("display",S))}catch(pe){_t(i,i.return,pe)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(pe){_t(i,i.return,pe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:zr(o,i),bs(i),p&4&&px(i);break;case 21:break;default:zr(o,i),bs(i)}}function bs(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(dx(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(is(y,""),p.flags&=-33);var w=hx(i);om(i,w,y);break;case 3:case 4:var S=p.stateNode.containerInfo,V=hx(i);im(i,V,S);break;default:throw Error(n(161))}}catch(B){_t(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function rA(i,o,c){he=i,gx(i)}function gx(i,o,c){for(var p=(i.mode&1)!==0;he!==null;){var y=he,w=y.child;if(y.tag===22&&p){var S=y.memoizedState!==null||Md;if(!S){var V=y.alternate,B=V!==null&&V.memoizedState!==null||wn;V=Md;var X=wn;if(Md=S,(wn=B)&&!X)for(he=y;he!==null;)S=he,B=S.child,S.tag===22&&S.memoizedState!==null?wx(y):B!==null?(B.return=S,he=B):wx(y);for(;w!==null;)he=w,gx(w),w=w.sibling;he=y,Md=V,wn=X}yx(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,he=w):yx(i)}}function yx(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||Vd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!wn)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:Ur(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&vw(o,w,p);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}vw(o,S,c)}break;case 5:var V=o.stateNode;if(c===null&&o.flags&4){c=V;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ne=X.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&bi(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||o.flags&512&&sm(o)}catch(te){_t(o,o.return,te)}}if(o===i){he=null;break}if(c=o.sibling,c!==null){c.return=o.return,he=c;break}he=o.return}}function vx(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var c=o.sibling;if(c!==null){c.return=o.return,he=c;break}he=o.return}}function wx(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Vd(4,o)}catch(B){_t(o,c,B)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(B){_t(o,y,B)}}var w=o.return;try{sm(o)}catch(B){_t(o,w,B)}break;case 5:var S=o.return;try{sm(o)}catch(B){_t(o,S,B)}}}catch(B){_t(o,o.return,B)}if(o===i){he=null;break}var V=o.sibling;if(V!==null){V.return=o.return,he=V;break}he=o.return}}var sA=Math.ceil,Od=$.ReactCurrentDispatcher,am=$.ReactCurrentOwner,yr=$.ReactCurrentBatchConfig,He=0,qt=null,kt=null,rn=0,or=0,Ga=Ii(0),Ft=0,bc=null,Oo=0,Fd=0,lm=0,Ec=null,Un=null,cm=0,Ka=1/0,Ys=null,Ud=!1,um=null,Di=null,Bd=!1,ji=null,zd=0,Tc=0,dm=null,$d=-1,Wd=0;function Pn(){return(He&6)!==0?ot():$d!==-1?$d:$d=ot()}function Li(i){return(i.mode&1)===0?1:(He&2)!==0&&rn!==0?rn&-rn:BR.transition!==null?(Wd===0&&(Wd=ql()),Wd):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Ea(i.type)),i)}function $r(i,o,c,p){if(50<Tc)throw Tc=0,dm=null,Error(n(185));Co(i,c,p),((He&2)===0||i!==qt)&&(i===qt&&((He&2)===0&&(Fd|=c),Ft===4&&Mi(i,rn)),Bn(i,p),c===1&&He===0&&(o.mode&1)===0&&(Ka=ot()+500,vd&&Ai()))}function Bn(i,o){var c=i.callbackNode;So(i,o);var p=Os(i,i===qt?rn:0);if(p===0)c!==null&&ga(c),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(c!=null&&ga(c),o===1)i.tag===0?UR(_x.bind(null,i)):ow(_x.bind(null,i)),MR(function(){(He&6)===0&&Ai()}),c=null;else{switch(cs(p)){case 1:c=ya;break;case 4:c=zl;break;case 16:c=_o;break;case 536870912:c=va;break;default:c=_o}c=Ax(c,xx.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function xx(i,o){if($d=-1,Wd=0,(He&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Qa()&&i.callbackNode!==c)return null;var p=Os(i,i===qt?rn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=qd(i,p);else{o=p;var y=He;He|=2;var w=Ex();(qt!==i||rn!==o)&&(Ys=null,Ka=ot()+500,Uo(i,o));do try{aA();break}catch(V){bx(i,V)}while(!0);Ap(),Od.current=w,He=y,kt!==null?o=0:(qt=null,rn=0,o=Ft)}if(o!==0){if(o===2&&(y=Wl(i),y!==0&&(p=y,o=hm(i,y))),o===1)throw c=bc,Uo(i,0),Mi(i,p),Bn(i,ot()),c;if(o===6)Mi(i,p);else{if(y=i.current.alternate,(p&30)===0&&!iA(y)&&(o=qd(i,p),o===2&&(w=Wl(i),w!==0&&(p=w,o=hm(i,w))),o===1))throw c=bc,Uo(i,0),Mi(i,p),Bn(i,ot()),c;switch(i.finishedWork=y,i.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Bo(i,Un,Ys);break;case 3:if(Mi(i,p),(p&130023424)===p&&(o=cm+500-ot(),10<o)){if(Os(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Pn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=vp(Bo.bind(null,i,Un,Ys),o);break}Bo(i,Un,Ys);break;case 4:if(Mi(i,p),(p&4194240)===p)break;for(o=i.eventTimes,y=-1;0<p;){var S=31-Zn(p);w=1<<S,S=o[S],S>y&&(y=S),p&=~w}if(p=y,p=ot()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*sA(p/1960))-p,10<p){i.timeoutHandle=vp(Bo.bind(null,i,Un,Ys),p);break}Bo(i,Un,Ys);break;case 5:Bo(i,Un,Ys);break;default:throw Error(n(329))}}}return Bn(i,ot()),i.callbackNode===c?xx.bind(null,i):null}function hm(i,o){var c=Ec;return i.current.memoizedState.isDehydrated&&(Uo(i,o).flags|=256),i=qd(i,o),i!==2&&(o=Un,Un=c,o!==null&&fm(o)),i}function fm(i){Un===null?Un=i:Un.push.apply(Un,i)}function iA(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Or(w(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Mi(i,o){for(o&=~lm,o&=~Fd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-Zn(o),p=1<<c;i[c]=-1,o&=~p}}function _x(i){if((He&6)!==0)throw Error(n(327));Qa();var o=Os(i,0);if((o&1)===0)return Bn(i,ot()),null;var c=qd(i,o);if(i.tag!==0&&c===2){var p=Wl(i);p!==0&&(o=p,c=hm(i,p))}if(c===1)throw c=bc,Uo(i,0),Mi(i,o),Bn(i,ot()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bo(i,Un,Ys),Bn(i,ot()),null}function pm(i,o){var c=He;He|=1;try{return i(o)}finally{He=c,He===0&&(Ka=ot()+500,vd&&Ai())}}function Fo(i){ji!==null&&ji.tag===0&&(He&6)===0&&Qa();var o=He;He|=1;var c=yr.transition,p=ze;try{if(yr.transition=null,ze=1,i)return i()}finally{ze=p,yr.transition=c,He=o,(He&6)===0&&Ai()}}function mm(){or=Ga.current,lt(Ga)}function Uo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,LR(c)),kt!==null)for(c=kt.return;c!==null;){var p=c;switch(Tp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&gd();break;case 3:Wa(),lt(Vn),lt(gn),Vp();break;case 5:Lp(p);break;case 4:Wa();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:kp(p.type._context);break;case 22:case 23:mm()}c=c.return}if(qt=i,kt=i=Vi(i.current,null),rn=or=o,Ft=0,bc=null,lm=Fd=Oo=0,Un=Ec=null,Lo!==null){for(o=0;o<Lo.length;o++)if(c=Lo[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var S=w.next;w.next=y,p.next=S}c.pending=p}Lo=null}return i}function bx(i,o){do{var c=kt;try{if(Ap(),Rd.current=Nd,Ad){for(var p=gt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Ad=!1}if(Vo=0,Wt=Ot=gt=null,gc=!1,yc=0,am.current=null,c===null||c.return===null){Ft=1,bc=o,kt=null;break}e:{var w=i,S=c.return,V=c,B=o;if(o=rn,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,ne=V,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Gw(S);if(ue!==null){ue.flags&=-257,Kw(ue,S,V,w,o),ue.mode&1&&Hw(w,X,o),o=ue,B=X;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(B),o.updateQueue=pe}else fe.add(B);break e}else{if((o&1)===0){Hw(w,X,o),gm();break e}B=Error(n(426))}}else if(ht&&V.mode&1){var St=Gw(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Kw(St,S,V,w,o),Ip(qa(B,V));break e}}w=B=qa(B,V),Ft!==4&&(Ft=2),Ec===null?Ec=[w]:Ec.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Ww(w,B,o);yw(w,H);break e;case 1:V=B;var z=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Di===null||!Di.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ie=qw(w,V,o);yw(w,ie);break e}}w=w.return}while(w!==null)}Sx(c)}catch(me){o=me,kt===c&&c!==null&&(kt=c=c.return);continue}break}while(!0)}function Ex(){var i=Od.current;return Od.current=Nd,i===null?Nd:i}function gm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),qt===null||(Oo&268435455)===0&&(Fd&268435455)===0||Mi(qt,rn)}function qd(i,o){var c=He;He|=2;var p=Ex();(qt!==i||rn!==o)&&(Ys=null,Uo(i,o));do try{oA();break}catch(y){bx(i,y)}while(!0);if(Ap(),He=c,Od.current=p,kt!==null)throw Error(n(261));return qt=null,rn=0,Ft}function oA(){for(;kt!==null;)Tx(kt)}function aA(){for(;kt!==null&&!xo();)Tx(kt)}function Tx(i){var o=Rx(i.alternate,i,or);i.memoizedProps=i.pendingProps,o===null?Sx(i):kt=o,am.current=null}function Sx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=ZR(c,o,or),c!==null){kt=c;return}}else{if(c=eA(c,o),c!==null){c.flags&=32767,kt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,kt=null;return}}if(o=o.sibling,o!==null){kt=o;return}kt=o=i}while(o!==null);Ft===0&&(Ft=5)}function Bo(i,o,c){var p=ze,y=yr.transition;try{yr.transition=null,ze=1,lA(i,o,c,p)}finally{yr.transition=y,ze=p}return null}function lA(i,o,c,p){do Qa();while(ji!==null);if((He&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(np(i,w),i===qt&&(kt=qt=null,rn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Bd||(Bd=!0,Ax(_o,function(){return Qa(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=yr.transition,yr.transition=null;var S=ze;ze=1;var V=He;He|=4,am.current=null,nA(i,c),mx(c,i),RR(gp),Bs=!!mp,gp=mp=null,i.current=c,rA(c),Vs(),He=V,ze=S,yr.transition=w}else i.current=c;if(Bd&&(Bd=!1,ji=i,zd=y),w=i.pendingLanes,w===0&&(Di=null),Ju(c.stateNode),Bn(i,ot()),o!==null)for(p=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ud)throw Ud=!1,i=um,um=null,i;return(zd&1)!==0&&i.tag!==0&&Qa(),w=i.pendingLanes,(w&1)!==0?i===dm?Tc++:(Tc=0,dm=i):Tc=0,Ai(),null}function Qa(){if(ji!==null){var i=cs(zd),o=yr.transition,c=ze;try{if(yr.transition=null,ze=16>i?16:i,ji===null)var p=!1;else{if(i=ji,ji=null,zd=0,(He&6)!==0)throw Error(n(331));var y=He;for(He|=4,he=i.current;he!==null;){var w=he,S=w.child;if((he.flags&16)!==0){var V=w.deletions;if(V!==null){for(var B=0;B<V.length;B++){var X=V[B];for(he=X;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:_c(8,ne,w)}var se=ne.child;if(se!==null)se.return=ne,he=se;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(ux(ne),ne===X){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var fe=w.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var St=pe.sibling;pe.sibling=null,pe=St}while(pe!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,he=S;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:_c(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,he=H;break e}he=w.return}}var z=i.current;for(he=z;he!==null;){S=he;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,he=Q;else e:for(S=z;he!==null;){if(V=he,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Vd(9,V)}}catch(me){_t(V,V.return,me)}if(V===S){he=null;break e}var ie=V.sibling;if(ie!==null){ie.return=V.return,he=ie;break e}he=V.return}}if(He=y,Ai(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(bo,i)}catch{}p=!0}return p}finally{ze=c,yr.transition=o}}return!1}function Cx(i,o,c){o=qa(c,o),o=Ww(i,o,1),i=Pi(i,o,1),o=Pn(),i!==null&&(Co(i,1,o),Bn(i,o))}function _t(i,o,c){if(i.tag===3)Cx(i,i,c);else for(;o!==null;){if(o.tag===3){Cx(o,i,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Di===null||!Di.has(p))){i=qa(c,i),i=qw(o,i,1),o=Pi(o,i,1),i=Pn(),o!==null&&(Co(o,1,i),Bn(o,i));break}}o=o.return}}function cA(i,o,c){var p=i.pingCache;p!==null&&p.delete(o),o=Pn(),i.pingedLanes|=i.suspendedLanes&c,qt===i&&(rn&c)===c&&(Ft===4||Ft===3&&(rn&130023424)===rn&&500>ot()-cm?Uo(i,0):lm|=c),Bn(i,o)}function Ix(i,o){o===0&&((i.mode&1)===0?o=1:(o=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var c=Pn();i=Ks(i,o),i!==null&&(Co(i,o,c),Bn(i,c))}function uA(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Ix(i,c)}function dA(i,o){var c=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Ix(i,c)}var Rx;Rx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Vn.current)Fn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Fn=!1,JR(i,o,c);Fn=(i.flags&131072)!==0}else Fn=!1,ht&&(o.flags&1048576)!==0&&aw(o,xd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Ld(i,o),i=o.pendingProps;var y=Va(o,gn.current);$a(o,c),y=Up(null,o,p,i,y,c);var w=Bp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,On(p)?(w=!0,yd(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Dp(o),y.updater=Dd,o.stateNode=y,y._reactInternals=o,Gp(o,p,i,c),o=Yp(null,o,p,!0,w,c)):(o.tag=0,ht&&w&&Ep(o),kn(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(Ld(i,o),i=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=fA(p),i=Ur(p,i),y){case 0:o=Xp(null,o,p,i,c);break e;case 1:o=ex(null,o,p,i,c);break e;case 11:o=Qw(null,o,p,i,c);break e;case 14:o=Xw(null,o,p,Ur(p.type,i),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Ur(p,y),Xp(i,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Ur(p,y),ex(i,o,p,y,c);case 3:e:{if(tx(o),i===null)throw Error(n(387));p=o.pendingProps,w=o.memoizedState,y=w.element,gw(i,o),Cd(o,p,null,c);var S=o.memoizedState;if(p=S.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=qa(Error(n(423)),o),o=nx(i,o,p,c,y);break e}else if(p!==y){y=qa(Error(n(424)),o),o=nx(i,o,p,c,y);break e}else for(ir=Ci(o.stateNode.containerInfo.firstChild),sr=o,ht=!0,Fr=null,c=pw(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ua(),p===y){o=Xs(i,o,c);break e}kn(i,o,p,c)}o=o.child}return o;case 5:return ww(o),i===null&&Cp(o),p=o.type,y=o.pendingProps,w=i!==null?i.memoizedProps:null,S=y.children,yp(p,y)?S=null:w!==null&&yp(p,w)&&(o.flags|=32),Zw(i,o),kn(i,o,S,c),o.child;case 6:return i===null&&Cp(o),null;case 13:return rx(i,o,c);case 4:return jp(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ba(o,null,p,c):kn(i,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Ur(p,y),Qw(i,o,p,y,c);case 7:return kn(i,o,o.pendingProps,c),o.child;case 8:return kn(i,o,o.pendingProps.children,c),o.child;case 12:return kn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,w=o.memoizedProps,S=y.value,nt(Ed,p._currentValue),p._currentValue=S,w!==null)if(Or(w.value,S)){if(w.children===y.children&&!Vn.current){o=Xs(i,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var V=w.dependencies;if(V!==null){S=w.child;for(var B=V.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=Qs(-1,c&-c),B.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ne=X.pending;ne===null?B.next=B:(B.next=ne.next,ne.next=B),X.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),Pp(w.return,c,o),V.lanes|=c;break}B=B.next}}else if(w.tag===10)S=w.type===o.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(n(341));S.lanes|=c,V=S.alternate,V!==null&&(V.lanes|=c),Pp(S,c,o),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===o){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}kn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,$a(o,c),y=mr(y),p=p(y),o.flags|=1,kn(i,o,p,c),o.child;case 14:return p=o.type,y=Ur(p,o.pendingProps),y=Ur(p.type,y),Xw(i,o,p,y,c);case 15:return Yw(i,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Ur(p,y),Ld(i,o),o.tag=1,On(p)?(i=!0,yd(o)):i=!1,$a(o,c),zw(o,p,y),Gp(o,p,y,c),Yp(null,o,p,!0,i,c);case 19:return ix(i,o,c);case 22:return Jw(i,o,c)}throw Error(n(156,o.tag))};function Ax(i,o){return Bl(i,o)}function hA(i,o,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,o,c,p){return new hA(i,o,c,p)}function ym(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fA(i){if(typeof i=="function")return ym(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===Ze)return 14}return 2}function Vi(i,o){var c=i.alternate;return c===null?(c=vr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Hd(i,o,c,p,y,w){var S=2;if(p=i,typeof i=="function")ym(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case R:return zo(c.children,y,w,o);case I:S=8,y|=8;break;case D:return i=vr(12,c,o,y|2),i.elementType=D,i.lanes=w,i;case N:return i=vr(13,c,o,y),i.elementType=N,i.lanes=w,i;case ge:return i=vr(19,c,o,y),i.elementType=ge,i.lanes=w,i;case ye:return Gd(c,y,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:S=10;break e;case O:S=9;break e;case U:S=11;break e;case Ze:S=14;break e;case st:S=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=vr(S,c,o,y),o.elementType=i,o.type=p,o.lanes=w,o}function zo(i,o,c,p){return i=vr(7,i,p,o),i.lanes=c,i}function Gd(i,o,c,p){return i=vr(22,i,p,o),i.elementType=ye,i.lanes=c,i.stateNode={isHidden:!1},i}function vm(i,o,c){return i=vr(6,i,null,o),i.lanes=c,i}function wm(i,o,c){return o=vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function pA(i,o,c,p,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function xm(i,o,c,p,y,w,S,V,B){return i=new pA(i,o,c,V,B),o===1?(o=1,w===!0&&(o|=8)):o=0,w=vr(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(w),i}function mA(i,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:i,containerInfo:o,implementation:c}}function kx(i){if(!i)return Ri;i=i._reactInternals;e:{if(Mr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(On(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(On(c))return sw(i,c,o)}return o}function Px(i,o,c,p,y,w,S,V,B){return i=xm(c,p,!0,i,y,w,S,V,B),i.context=kx(null),c=i.current,p=Pn(),y=Li(c),w=Qs(p,y),w.callback=o??null,Pi(c,w,y),i.current.lanes=y,Co(i,y,p),Bn(i,p),i}function Kd(i,o,c,p){var y=o.current,w=Pn(),S=Li(y);return c=kx(c),o.context===null?o.context=c:o.pendingContext=c,o=Qs(w,S),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Pi(y,o,S),i!==null&&($r(i,y,S,w),Sd(i,y,S)),S}function Qd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Nx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function _m(i,o){Nx(i,o),(i=i.alternate)&&Nx(i,o)}function gA(){return null}var Dx=typeof reportError=="function"?reportError:function(i){console.error(i)};function bm(i){this._internalRoot=i}Xd.prototype.render=bm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Kd(i,o,null,null)},Xd.prototype.unmount=bm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Fo(function(){Kd(null,i,null,null)}),o[Ws]=null}};function Xd(i){this._internalRoot=i}Xd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Xl();i={blockedOn:null,target:i,priority:o};for(var c=0;c<er.length&&o!==0&&o<er[c].priority;c++);er.splice(c,0,i),c===0&&_a(i)}};function Em(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jx(){}function yA(i,o,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var X=Qd(S);w.call(X)}}var S=Px(o,p,i,0,null,!1,!1,"",jx);return i._reactRootContainer=S,i[Ws]=S.current,lc(i.nodeType===8?i.parentNode:i),Fo(),S}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var X=Qd(B);V.call(X)}}var B=xm(i,0,!1,null,null,!1,!1,"",jx);return i._reactRootContainer=B,i[Ws]=B.current,lc(i.nodeType===8?i.parentNode:i),Fo(function(){Kd(o,B,c,p)}),B}function Jd(i,o,c,p,y){var w=c._reactRootContainer;if(w){var S=w;if(typeof y=="function"){var V=y;y=function(){var B=Qd(S);V.call(B)}}Kd(o,S,i,y)}else S=yA(c,o,i,y,p);return Qd(S)}Kl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ke(o.pendingLanes);c!==0&&(Gl(o,c|1),Bn(o,ot()),(He&6)===0&&(Ka=ot()+500,Ai()))}break;case 13:Fo(function(){var p=Ks(i,1);if(p!==null){var y=Pn();$r(p,i,1,y)}}),_m(i,1)}},wa=function(i){if(i.tag===13){var o=Ks(i,134217728);if(o!==null){var c=Pn();$r(o,i,134217728,c)}_m(i,134217728)}},Ql=function(i){if(i.tag===13){var o=Li(i),c=Ks(i,o);if(c!==null){var p=Pn();$r(c,i,o,p)}_m(i,o)}},Xl=function(){return ze},Yl=function(i,o){var c=ze;try{return ze=i,o()}finally{ze=c}},Dr=function(i,o,c){switch(o){case"input":if(ts(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==i&&p.form===i.form){var y=md(p);if(!y)throw Error(n(90));dn(p),ts(p,y)}}}break;case"textarea":go(i,c);break;case"select":o=c.value,o!=null&&fn(i,!!c.multiple,o,!1)}},Jt=pm,zt=Fo;var vA={usingClientEntryPoint:!1,Events:[dc,La,md,xt,Yt,pm]},Sc={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wA={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Yu(i),i===null?null:i.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||gA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{bo=Zd.inject(wA),Jn=Zd}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vA,zn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(o))throw Error(n(200));return mA(i,o,null,c)},zn.createRoot=function(i,o){if(!Em(i))throw Error(n(299));var c=!1,p="",y=Dx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=xm(i,1,!1,null,null,c,!1,p,y),i[Ws]=o.current,lc(i.nodeType===8?i.parentNode:i),new bm(o)},zn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Yu(o),i=i===null?null:i.stateNode,i},zn.flushSync=function(i){return Fo(i)},zn.hydrate=function(i,o,c){if(!Yd(o))throw Error(n(200));return Jd(null,i,o,!0,c)},zn.hydrateRoot=function(i,o,c){if(!Em(i))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",S=Dx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=Px(o,null,i,1,c??null,y,!1,w,S),i[Ws]=o.current,lc(i),p)for(i=0;i<p.length;i++)c=p[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Xd(o)},zn.render=function(i,o,c){if(!Yd(o))throw Error(n(200));return Jd(null,i,o,!1,c)},zn.unmountComponentAtNode=function(i){if(!Yd(i))throw Error(n(40));return i._reactRootContainer?(Fo(function(){Jd(null,null,i,!1,function(){i._reactRootContainer=null,i[Ws]=null})}),!0):!1},zn.unstable_batchedUpdates=pm,zn.unstable_renderSubtreeIntoContainer=function(i,o,c,p){if(!Yd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Jd(i,o,c,!1,p)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var zx;function SE(){if(zx)return Cm.exports;zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cm.exports=CA(),Cm.exports}var $x;function IA(){if($x)return eh;$x=1;var t=SE();return eh.createRoot=t.createRoot,eh.hydrateRoot=t.hydrateRoot,eh}var RA=IA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wx="popstate";function AA(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:d=""}=ca(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),wg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:eu(a))}function r(s,a){Cr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return PA(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kA(){return Math.random().toString(36).substring(2,10)}function qx(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||r||kA()}}function eu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let C=g(),L=C==null?null:C-f;f=C,d&&d({action:u,location:A.location,delta:L})}function x(C,L){u="PUSH";let j=wg(A.location,C,L);n&&n(j,C),f=g()+1;let F=qx(j,f),$=A.createHref(j);try{l.pushState(F,"",$)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign($)}a&&d&&d({action:u,location:A.location,delta:1})}function T(C,L){u="REPLACE";let j=wg(A.location,C,L);n&&n(j,C),f=g();let F=qx(j,f),$=A.createHref(j);l.replaceState(F,"",$),a&&d&&d({action:u,location:A.location,delta:0})}function P(C){return NA(C)}let A={get action(){return u},get location(){return t(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Wx,v),d=C,()=>{s.removeEventListener(Wx,v),d=null}},createHref(C){return e(s,C)},createURL:P,encodeLocation(C){let L=P(C);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:T,go(C){return l.go(C)}};return A}function NA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:eu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CE(t,e,n="/"){return DA(t,e,n,!1)}function DA(t,e,n,r){let s=typeof e=="string"?ca(e):e,a=oi(s.pathname||"/",n);if(a==null)return null;let l=IE(t);jA(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=qA(a);u=$A(l[d],f,r)}return u}function IE(t,e=[],n=[],r="",s=!1){let a=(l,u,d=s,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;pt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ni([r,g.relativePath]),x=n.concat(g);l.children&&l.children.length>0&&(pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),IE(l.children,e,x,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:BA(v,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of RE(l.path))a(l,u,!0,d)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=RE(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function jA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LA=/^:[\w-]+$/,MA=3,VA=2,OA=1,FA=10,UA=-2,Hx=t=>t==="*";function BA(t,e){let n=t.split("/"),r=n.length;return n.some(Hx)&&(r+=UA),e&&(r+=VA),n.filter(s=>!Hx(s)).reduce((s,a)=>s+(LA.test(a)?MA:a===""?OA:FA),r)}function zA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $A(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Lh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),x=d.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Lh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ni([a,v.pathname]),pathnameBase:QA(ni([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=ni([a,v.pathnameBase]))}return l}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:v},x)=>{if(g==="*"){let P=u[x]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const T=u[x];return v&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function WA(t,e=!1,n=!0){Cr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:GA(n,e):e,search:XA(r),hash:YA(s)}}function GA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Am(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t){let e=KA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ty(t,e,n,r=!1){let s;typeof t=="string"?s=ca(t):(s={...t},pt(!s.pathname||!s.pathname.includes("?"),Am("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Am("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Am("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=HA(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ni=t=>t.join("/").replace(/\/\/+/g,"/"),QA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var ZA=["GET",...AE];new Set(ZA);var Tl=E.createContext(null);Tl.displayName="DataRouter";var pf=E.createContext(null);pf.displayName="DataRouterState";E.createContext(!1);var kE=E.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var ek=E.createContext(new Map);ek.displayName="Fetchers";var tk=E.createContext(null);tk.displayName="Await";var Jr=E.createContext(null);Jr.displayName="Navigation";var Eu=E.createContext(null);Eu.displayName="Location";var Zr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var Sy=E.createContext(null);Sy.displayName="RouteError";function nk(t,{relative:e}={}){pt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Jr),{hash:s,pathname:a,search:l}=Tu(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:ni([n,a])),r.createHref({pathname:u,search:l,hash:s})}function Sl(){return E.useContext(Eu)!=null}function es(){return pt(Sl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Eu).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NE(t){E.useContext(Jr).static||E.useLayoutEffect(t)}function Ls(){let{isDataRoute:t}=E.useContext(Zr);return t?mk():rk()}function rk(){pt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Tl),{basename:e,navigator:n}=E.useContext(Jr),{matches:r}=E.useContext(Zr),{pathname:s}=es(),a=JSON.stringify(Ey(r)),l=E.useRef(!1);return NE(()=>{l.current=!0}),E.useCallback((d,f={})=>{if(Cr(l.current,PE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Ty(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ni([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,a,s,t])}E.createContext(null);function DE(){let{matches:t}=E.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function Tu(t,{relative:e}={}){let{matches:n}=E.useContext(Zr),{pathname:r}=es(),s=JSON.stringify(Ey(n));return E.useMemo(()=>Ty(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function sk(t,e){return jE(t,e)}function jE(t,e,n,r,s){pt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Jr),{matches:l}=E.useContext(Zr),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";LE(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=es(),T;if(e){let j=typeof e=="string"?ca(e):e;pt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=x;let P=T.pathname||"/",A=P;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+P.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=CE(t,{pathname:A});Cr(v||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Cr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ck(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ni([g,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:ni([g,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&L?E.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function ik(){let t=pk(),e=JA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,l)}var ok=E.createElement(ik,null),ak=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Zr.Provider,{value:this.props.routeContext},E.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lk({routeContext:t,match:e,children:n}){let r=E.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Zr.Provider,{value:t},n)}function ck(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:v,errors:x}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,g,v)=>{let x,T=!1,P=null,A=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,P=g.route.errorElement||ok,u&&(d<0&&v===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):d===v&&(T=!0,A=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),L=()=>{let j;return x?j=P:T?j=A:g.route.Component?j=E.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=f,E.createElement(lk,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?E.createElement(ak,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):L()},null)}function Cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uk(t){let e=E.useContext(Tl);return pt(e,Cy(t)),e}function dk(t){let e=E.useContext(pf);return pt(e,Cy(t)),e}function hk(t){let e=E.useContext(Zr);return pt(e,Cy(t)),e}function Iy(t){let e=hk(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fk(){return Iy("useRouteId")}function pk(){let t=E.useContext(Sy),e=dk("useRouteError"),n=Iy("useRouteError");return t!==void 0?t:e.errors?.[n]}function mk(){let{router:t}=uk("useNavigate"),e=Iy("useNavigate"),n=E.useRef(!1);return NE(()=>{n.current=!0}),E.useCallback(async(s,a={})=>{Cr(n.current,PE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Gx={};function LE(t,e,n){!e&&!Gx[t]&&(Gx[t]=!0,Cr(!1,n))}E.memo(gk);function gk({routes:t,future:e,state:n,unstable_onError:r}){return jE(t,void 0,n,r,e)}function yk({to:t,replace:e,state:n,relative:r}){pt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(Jr);Cr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(Zr),{pathname:l}=es(),u=Ls(),d=Ty(t,Ey(a),l,r==="path"),f=JSON.stringify(d);return E.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Js(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){pt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ca(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:x="default"}=n,T=E.useMemo(()=>{let P=oi(d,l);return P==null?null:{location:{pathname:P,search:f,hash:g,state:v,key:x},navigationType:r}},[l,d,f,g,v,x,r]);return Cr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(Jr.Provider,{value:u},E.createElement(Eu.Provider,{children:e,value:T}))}function wk({children:t,location:e}){return sk(xg(t),e)}function xg(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let a=[...e,s];if(r.type===E.Fragment){n.push.apply(n,xg(r.props.children,a));return}pt(r.type===Js,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xg(r.props.children,a)),n.push(l)}),n}var vh="get",wh="application/x-www-form-urlencoded";function mf(t){return t!=null&&typeof t.tagName=="string"}function xk(t){return mf(t)&&t.tagName.toLowerCase()==="button"}function _k(t){return mf(t)&&t.tagName.toLowerCase()==="form"}function bk(t){return mf(t)&&t.tagName.toLowerCase()==="input"}function Ek(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tk(t,e){return t.button===0&&(!e||e==="_self")&&!Ek(t)}var th=null;function Sk(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var Ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(t){return t!=null&&!Ck.has(t)?(Cr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function Ik(t,e){let n,r,s,a,l;if(_k(t)){let u=t.getAttribute("action");r=u?oi(u,e):null,n=t.getAttribute("method")||vh,s=km(t.getAttribute("enctype"))||wh,a=new FormData(t)}else if(xk(t)||bk(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?oi(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||vh,s=km(t.getAttribute("formenctype"))||km(u.getAttribute("enctype"))||wh,a=new FormData(u,t),!Sk()){let{name:f,type:g,value:v}=t;if(g==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,v)}}else{if(mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,r=null,s=wh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ry(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&oi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Ak(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pk(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await Ak(a,n);return l.links?l.links():[]}return[]}));return Lk(r.flat(1).filter(kk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Kx(t,e,n,r,s,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Nk(t,e,{includeHydrateFallback:n}={}){return Dk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Dk(t){return[...new Set(t)]}function jk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Lk(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(jk(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function ME(){let t=E.useContext(Tl);return Ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Mk(){let t=E.useContext(pf);return Ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ay=E.createContext(void 0);Ay.displayName="FrameworkContext";function VE(){let t=E.useContext(Ay);return Ry(t,"You must render this element inside a <HydratedRouter> element"),t}function Vk(t,e){let n=E.useContext(Ay),[r,s]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,x=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=L=>{L.forEach(j=>{l(j.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),E.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{s(!0)},P=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Ic(u,T),onBlur:Ic(d,P),onMouseEnter:Ic(f,T),onMouseLeave:Ic(g,P),onTouchStart:Ic(v,T)}]:[!1,x,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ok({page:t,...e}){let{router:n}=ME(),r=E.useMemo(()=>CE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(Uk,{page:t,matches:r,...e}):null}function Fk(t){let{manifest:e,routeModules:n}=VE(),[r,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return Pk(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function Uk({page:t,matches:e,...n}){let r=es(),{manifest:s,routeModules:a}=VE(),{basename:l}=ME(),{loaderData:u,matches:d}=Mk(),f=E.useMemo(()=>Kx(t,e,d,s,r,"data"),[t,e,d,s,r]),g=E.useMemo(()=>Kx(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,A=!1;if(e.forEach(L=>{let j=s.routes[L.route.id];!j||!j.hasLoader||(!f.some(F=>F.route.id===L.route.id)&&L.route.id in u&&a[L.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:P.add(L.route.id))}),P.size===0)return[];let C=Rk(t,l,"data");return A&&P.size>0&&C.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[C.pathname+C.search]},[l,u,r,s,f,e,t,a]),x=E.useMemo(()=>Nk(g,s),[g,s]),T=Fk(g);return E.createElement(E.Fragment,null,v.map(P=>E.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),x.map(P=>E.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),T.map(({key:P,link:A})=>E.createElement("link",{key:P,nonce:n.nonce,...A})))}function Bk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.9.4")}catch{}function zk({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=AA({window:n,v5Compat:!0}));let s=r.current,[a,l]=E.useState({action:s.action,location:s.location}),u=E.useCallback(d=>{E.startTransition(()=>l(d))},[l]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(vk,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:v,...x},T){let{basename:P}=E.useContext(Jr),A=typeof f=="string"&&FE.test(f),C,L=!1;if(typeof f=="string"&&A&&(C=f,OE))try{let D=new URL(window.location.href),M=f.startsWith("//")?new URL(D.protocol+f):new URL(f),O=oi(M.pathname,P);M.origin===D.origin&&O!=null?f=O+M.search+M.hash:L=!0}catch{Cr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=nk(f,{relative:s}),[F,$,K]=Vk(r,x),q=Hk(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function R(D){e&&e(D),D.defaultPrevented||q(D)}let I=E.createElement("a",{...x,...K,href:C||j,onClick:L||a?e:R,ref:Bk(T,$),target:d,"data-discover":!A&&n==="render"?"true":void 0});return F&&!A?E.createElement(E.Fragment,null,I,E.createElement(Ok,{page:j})):I});on.displayName="Link";var $k=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...f},g){let v=Tu(l,{relative:f.relative}),x=es(),T=E.useContext(pf),{navigator:P,basename:A}=E.useContext(Jr),C=T!=null&&Yk(v)&&u===!0,L=P.encodeLocation?P.encodeLocation(v).pathname:v.pathname,j=x.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(j=j.toLowerCase(),F=F?F.toLowerCase():null,L=L.toLowerCase()),F&&A&&(F=oi(F,A)||F);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let K=j===L||!s&&j.startsWith(L)&&j.charAt($)==="/",q=F!=null&&(F===L||!s&&F.startsWith(L)&&F.charAt(L.length)==="/"),R={isActive:K,isPending:q,isTransitioning:C},I=K?e:void 0,D;typeof r=="function"?D=r(R):D=[r,K?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(R):a;return E.createElement(on,{...f,"aria-current":I,className:D,ref:g,style:M,to:l,viewTransition:u},typeof d=="function"?d(R):d)});$k.displayName="NavLink";var Wk=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=vh,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,...x},T)=>{let P=Qk(),A=Xk(u,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&FE.test(u),j=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,K=$?.getAttribute("formmethod")||l;P($||F.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:v})};return E.createElement("form",{ref:T,method:C,action:A,onSubmit:r?d:j,...x,"data-discover":!L&&t==="render"?"true":void 0})});Wk.displayName="Form";function qk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(t){let e=E.useContext(Tl);return pt(e,qk(t)),e}function Hk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Ls(),d=es(),f=Tu(t,{relative:a});return E.useCallback(g=>{if(Tk(g,e)){g.preventDefault();let v=n!==void 0?n:eu(d)===eu(f);u(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,f,n,r,e,t,s,a,l])}var Gk=0,Kk=()=>`__${String(++Gk)}__`;function Qk(){let{router:t}=UE("useSubmit"),{basename:e}=E.useContext(Jr),n=fk();return E.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=Ik(r,e);if(s.navigate===!1){let g=s.fetcherKey||Kk();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Xk(t,{relative:e}={}){let{basename:n}=E.useContext(Jr),r=E.useContext(Zr);pt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Tu(t||".",{relative:e})},l=es();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ni([n,a.pathname])),eu(a)}function Yk(t,{relative:e}={}){let n=E.useContext(kE);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UE("useViewTransitionState"),s=Tu(t,{relative:e});if(!n.isTransitioning)return!1;let a=oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(s.pathname,l)!=null||Lh(s.pathname,a)!=null}var Pc=SE();const Jk=()=>{};var Qx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let x=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(x=64)),r.push(n[g],n[v],n[x],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||f==null||v==null)throw new eP;const x=a<<2|u>>4;if(r.push(x),f!==64){const T=u<<4&240|f>>2;if(r.push(T),v!==64){const P=f<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tP=function(t){const e=BE(t);return zE.encodeByteArray(e,!0)},Mh=function(t){return tP(t).replace(/\./g,"")},$E=function(t){try{return zE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=()=>nP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof Qx>"u")return;const t=Qx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$E(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return Jk()||rP()||sP()||iP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>gf()?.emulatorHosts?.[t],qE=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HE=()=>gf()?.config,GE=t=>gf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ky(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(l)),""].join(".")}const Fc={};function aP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function lP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xx=!1;function Py(t,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Fc[t]===e||Fc[t]||Xx)return;Fc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=aP().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Xx=!0,l()},x}function g(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=lP(r),T=n("text"),P=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),j=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;u(F),g(C,A);const $=f();d(j,L),F.append(j,P,C,$),document.body.appendChild(F)}a?(P.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function uP(){const t=gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fP(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pP(){return!uP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XE(){try{return typeof indexedDB=="object"}catch{return!1}}function YE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function mP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gP,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?yP(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new kr(s,u,r)}}function yP(t,e){return t.replace(vP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vP=/\{\$([^}]+)}/g;function wP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Yx(a)&&Yx(l)){if(!Yi(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xP(t,e){const n=new _P(t,e);return n.subscribe.bind(n)}class _P{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pm),s.error===void 0&&(s.error=Pm),s.complete===void 0&&(s.complete=Pm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=1e3,TP=2,SP=14400*1e3,CP=.5;function Jx(t,e=EP,n=TP){const r=e*Math.pow(n,t),s=Math.round(CP*r*(Math.random()-.5)*2);return Math.min(SP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ir{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AP(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RP(t){return t===Wo?void 0:t}function AP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const PP={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},NP=Oe.INFO,DP={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},jP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=jP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const LP=(t,e)=>e.some(n=>t instanceof n);let Zx,e_;function MP(){return Zx||(Zx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,_g=new WeakMap,ZE=new WeakMap,Nm=new WeakMap,Ny=new WeakMap;function OP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Gi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,t)}).catch(()=>{}),Ny.set(e,t),e}function FP(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});_g.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UP(t){bg=t(bg)}function BP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dm(this),e,...n);return ZE.set(r,e.sort?e.sort():[e]),Gi(r)}:VP().includes(t)?function(...e){return t.apply(Dm(this),e),Gi(JE.get(this))}:function(...e){return Gi(t.apply(Dm(this),e))}}function zP(t){return typeof t=="function"?BP(t):(t instanceof IDBTransaction&&FP(t),LP(t,MP())?new Proxy(t,bg):t)}function Gi(t){if(t instanceof IDBRequest)return OP(t);if(Nm.has(t))return Nm.get(t);const e=zP(t);return e!==t&&(Nm.set(t,e),Ny.set(e,t)),e}const Dm=t=>Ny.get(t);function eT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Gi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Gi(l.result),d.oldVersion,d.newVersion,Gi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const $P=["get","getKey","getAll","getAllKeys","count"],WP=["put","add","delete","clear"],jm=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=WP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$P.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return jm.set(e,a),a}UP(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HP(t){return t.getComponent()?.type==="VERSION"}const Eg="@firebase/app",n_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new yf("@firebase/app"),GP="@firebase/app-compat",KP="@firebase/analytics-compat",QP="@firebase/analytics",XP="@firebase/app-check-compat",YP="@firebase/app-check",JP="@firebase/auth",ZP="@firebase/auth-compat",eN="@firebase/database",tN="@firebase/data-connect",nN="@firebase/database-compat",rN="@firebase/functions",sN="@firebase/functions-compat",iN="@firebase/installations",oN="@firebase/installations-compat",aN="@firebase/messaging",lN="@firebase/messaging-compat",cN="@firebase/performance",uN="@firebase/performance-compat",dN="@firebase/remote-config",hN="@firebase/remote-config-compat",fN="@firebase/storage",pN="@firebase/storage-compat",mN="@firebase/firestore",gN="@firebase/ai",yN="@firebase/firestore-compat",vN="firebase",wN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",xN={[Eg]:"fire-core",[GP]:"fire-core-compat",[QP]:"fire-analytics",[KP]:"fire-analytics-compat",[YP]:"fire-app-check",[XP]:"fire-app-check-compat",[JP]:"fire-auth",[ZP]:"fire-auth-compat",[eN]:"fire-rtdb",[tN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[rN]:"fire-fn",[sN]:"fire-fn-compat",[iN]:"fire-iid",[oN]:"fire-iid-compat",[aN]:"fire-fcm",[lN]:"fire-fcm-compat",[cN]:"fire-perf",[uN]:"fire-perf-compat",[dN]:"fire-rc",[hN]:"fire-rc-compat",[fN]:"fire-gcs",[pN]:"fire-gcs-compat",[mN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,_N=new Map,Sg=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){const e=t.name;if(Sg.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of Vh.values())r_(n,t);for(const n of _N.values())r_(n,t);return!0}function ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new ua("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=wN;function tT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=HE()),!n)throw Ki.create("no-options");const a=Vh.get(s);if(a){if(Yi(n,a.options)&&Yi(r,a.config))return a;throw Ki.create("duplicate-app",{appName:s})}const l=new kP(s);for(const d of Sg.values())l.addComponent(d);const u=new EN(n,r,l);return Vh.set(s,u),u}function vf(t=Tg){const e=Vh.get(t);if(!e&&t===Tg&&HE())return tT();if(!e)throw Ki.create("no-app",{appName:t});return e}function Kn(t,e,n){let r=xN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(l.join(" "));return}Gr(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="firebase-heartbeat-database",SN=1,tu="firebase-heartbeat-store";let Lm=null;function nT(){return Lm||(Lm=eT(TN,SN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Lm}async function CN(t){try{const n=(await nT()).transaction(tu),r=await n.objectStore(tu).get(rT(t));return await n.done,r}catch(e){if(e instanceof kr)ai.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});ai.warn(n.message)}}}async function s_(t,e){try{const r=(await nT()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,rT(t)),await r.done}catch(n){if(n instanceof kr)ai.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});ai.warn(r.message)}}}function rT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,RN=30;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>RN){const s=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i_(),{heartbeatsToSend:n,unsentEntries:r}=kN(this._heartbeatsCache.heartbeats),s=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ai.warn(e),""}}}function i_(){return new Date().toISOString().substring(0,10)}function kN(t,e=IN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),o_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XE()?YE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o_(t){return Mh(JSON.stringify({version:2,heartbeats:t})).length}function NN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){Gr(new Ir("platform-logger",e=>new qP(e),"PRIVATE")),Gr(new Ir("heartbeat",e=>new AN(e),"PRIVATE")),Kn(Eg,n_,t),Kn(Eg,n_,"esm2020"),Kn("fire-js","")}DN("");var jN="firebase",LN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(jN,LN,"app");const sT="@firebase/installations",Dy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1e4,oT=`w:${Dy}`,aT="FIS_v2",MN="https://firebaseinstallations.googleapis.com/v1",VN=3600*1e3,ON="installations",FN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new ua(ON,FN,UN);function lT(t){return t instanceof kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT({projectId:t}){return`${MN}/projects/${t}/installations`}function uT(t){return{token:t.token,requestStatus:2,expiresIn:zN(t.expiresIn),creationTime:Date.now()}}async function dT(t,e){const r=(await e.json()).error;return ta.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BN(t,{refreshToken:e}){const n=hT(t);return n.append("Authorization",$N(e)),n}async function fT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zN(t){return Number(t.replace("s","000"))}function $N(t){return`${aT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cT(t),s=hT(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:aT,appId:t.appId,sdkVersion:oT},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await fT(()=>fetch(r,u));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:uT(f.authToken)}}else throw await dT("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^[cdef][\w-]{21}$/,Cg="";function GN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=KN(t);return HN.test(n)?n:Cg}catch{return Cg}}function KN(t){return qN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function gT(t,e){const n=wf(t);yT(n,e),QN(n,e)}function yT(t,e){const n=mT.get(t);if(n)for(const r of n)r(e)}function QN(t,e){const n=XN();n&&n.postMessage({key:t,fid:e}),YN()}let Ho=null;function XN(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{yT(t.data.key,t.data.fid)}),Ho}function YN(){mT.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebase-installations-database",ZN=1,na="firebase-installations-store";let Mm=null;function jy(){return Mm||(Mm=eT(JN,ZN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(na)}}})),Mm}async function Oh(t,e){const n=wf(t),s=(await jy()).transaction(na,"readwrite"),a=s.objectStore(na),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&gT(t,e.fid),e}async function vT(t){const e=wf(t),r=(await jy()).transaction(na,"readwrite");await r.objectStore(na).delete(e),await r.done}async function xf(t,e){const n=wf(t),s=(await jy()).transaction(na,"readwrite"),a=s.objectStore(na),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&gT(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(t){let e;const n=await xf(t.appConfig,r=>{const s=eD(r),a=tD(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Cg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eD(t){const e=t||{fid:GN(),registrationStatus:0};return wT(e)}function tD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ta.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rD(t)}:{installationEntry:e}}async function nD(t,e){try{const n=await WN(t,e);return Oh(t.appConfig,n)}catch(n){throw lT(n)&&n.customData.serverCode===409?await vT(t.appConfig):await Oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rD(t){let e=await a_(t.appConfig);for(;e.registrationStatus===1;)await pT(100),e=await a_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ly(t);return r||n}return e}function a_(t){return xf(t,e=>{if(!e)throw ta.create("installation-not-found");return wT(e)})}function wT(t){return sD(t)?{fid:t.fid,registrationStatus:0}:t}function sD(t){return t.registrationStatus===1&&t.registrationTime+iT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD({appConfig:t,heartbeatServiceProvider:e},n){const r=oD(t,n),s=BN(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:oT,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await fT(()=>fetch(r,u));if(d.ok){const f=await d.json();return uT(f)}else throw await dT("Generate Auth Token",d)}function oD(t,{fid:e}){return`${cT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(t,e=!1){let n;const r=await xf(t.appConfig,a=>{if(!xT(a))throw ta.create("not-registered");const l=a.authToken;if(!e&&cD(l))return a;if(l.requestStatus===1)return n=aD(t,e),a;{if(!navigator.onLine)throw ta.create("app-offline");const u=dD(a);return n=lD(t,u),u}});return n?await n:r.authToken}async function aD(t,e){let n=await l_(t.appConfig);for(;n.authToken.requestStatus===1;)await pT(100),n=await l_(t.appConfig);const r=n.authToken;return r.requestStatus===0?My(t,e):r}function l_(t){return xf(t,e=>{if(!xT(e))throw ta.create("not-registered");const n=e.authToken;return hD(n)?{...e,authToken:{requestStatus:0}}:e})}async function lD(t,e){try{const n=await iD(t,e),r={...e,authToken:n};return await Oh(t.appConfig,r),n}catch(n){if(lT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Oh(t.appConfig,r)}throw n}}function xT(t){return t!==void 0&&t.registrationStatus===2}function cD(t){return t.requestStatus===2&&!uD(t)}function uD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VN}function dD(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function hD(t){return t.requestStatus===1&&t.requestTime+iT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ly(e);return r?r.catch(console.error):My(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e=!1){const n=t;return await mD(n),(await My(n,e)).token}async function mD(t){const{registrationPromise:e}=await Ly(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){if(!t||!t.options)throw Vm("App Configuration");if(!t.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vm(t){return ta.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="installations",yD="installations-internal",vD=t=>{const e=t.getProvider("app").getImmediate(),n=gD(e),r=ao(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wD=t=>{const e=t.getProvider("app").getImmediate(),n=ao(e,_T).getImmediate();return{getId:()=>fD(n),getToken:s=>pD(n,s)}};function xD(){Gr(new Ir(_T,vD,"PUBLIC")),Gr(new Ir(yD,wD,"PRIVATE"))}xD();Kn(sT,Dy);Kn(sT,Dy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="analytics",_D="firebase_id",bD="origin",ED=60*1e3,TD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new ua("analytics","Analytics",SD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){if(!t.startsWith(Vy)){const e=ur.create("invalid-gtag-resource",{gtagURL:t});return jn.warn(e.message),""}return t}function bT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ID(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function RD(t,e){const n=ID("firebase-js-sdk-policy",{createScriptURL:CD}),r=document.createElement("script"),s=`${Vy}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function AD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kD(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await bT(n)).find(f=>f.measurementId===s);d&&await e[d.appId]}}catch(u){jn.error(u)}t("config",s,a)}async function PD(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await bT(n);for(const d of l){const f=u.find(v=>v.measurementId===d),g=f&&e[f.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){jn.error(a)}}function ND(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[u,d]=l;await PD(t,e,n,u,d)}else if(a==="config"){const[u,d]=l;await kD(t,e,n,r,u,d)}else if(a==="consent"){const[u,d]=l;t("consent",u,d)}else if(a==="get"){const[u,d,f]=l;t("get",u,d,f)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){jn.error(u)}}return s}function DD(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=ND(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function jD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Vy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=30,MD=1e3;class VD{constructor(e={},n=MD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ET=new VD;function OD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FD(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:OD(n)},s=TD.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function UD(t,e=ET,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw ur.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw ur.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new $D;return setTimeout(async()=>{u.abort()},ED),TT({appId:r,apiKey:s,measurementId:a},l,u,e)}async function TT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=ET){const{appId:a,measurementId:l}=t;try{await BD(r,e)}catch(u){if(l)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await FD(t);return s.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!zD(d)){if(s.deleteThrottleMetadata(a),l)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw u}const f=Number(d?.customData?.httpStatus)===503?Jx(n,s.intervalMillis,LD):Jx(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(a,g),jn.debug(`Calling attemptFetch again in ${f} millis`),TT(t,g,r,s)}}function BD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zD(t){if(!(t instanceof kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $D{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function qD(t,e,n,r){if(r&&r.global){const s={};for(const a of Object.keys(n))s[`user_properties.${a}`]=n[a];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(){if(XE())try{await YE()}catch(t){return jn.warn(ur.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return jn.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GD(t,e,n,r,s,a,l){const u=UD(t);u.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>jn.error(x)),e.push(u);const d=HD().then(x=>{if(x)return r.getId()}),[f,g]=await Promise.all([u,d]);jD(a)||RD(a,f.measurementId),s("js",new Date);const v=l?.config??{};return v[bD]="firebase",v.update=!0,g!=null&&(v[_D]=g),s("config",f.measurementId,v),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.app=e}_delete(){return delete al[this.app.options.appId],Promise.resolve()}}let al={},c_=[];const u_={};let Om="dataLayer",QD="gtag",d_,Oy,h_=!1;function XD(){const t=[];if(QE()&&t.push("This is a browser extension environment."),mP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ur.create("invalid-analytics-context",{errorInfo:e});jn.warn(n.message)}}function YD(t,e,n){XD();const r=t.options.appId;if(!r)throw ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(al[r]!=null)throw ur.create("already-exists",{id:r});if(!h_){AD(Om);const{wrappedGtag:a,gtagCore:l}=DD(al,c_,u_,Om,QD);Oy=a,d_=l,h_=!0}return al[r]=GD(t,c_,u_,e,d_,Om,n),new KD(t)}function JD(t=vf()){t=ct(t);const e=ao(t,Fh);return e.isInitialized()?e.getImmediate():ZD(t)}function ZD(t,e={}){const n=ao(t,Fh);if(n.isInitialized()){const s=n.getImmediate();if(Yi(e,n.getOptions()))return s;throw ur.create("already-initialized")}return n.initialize({options:e})}function e5(t,e,n){t=ct(t),qD(Oy,al[t.app.options.appId],e,n).catch(r=>jn.error(r))}function t5(t,e,n,r){t=ct(t),WD(Oy,al[t.app.options.appId],e,n,r).catch(s=>jn.error(s))}const f_="@firebase/analytics",p_="0.10.19";function n5(){Gr(new Ir(Fh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return YD(r,s,n)},"PUBLIC")),Gr(new Ir("analytics-internal",t,"PRIVATE")),Kn(f_,p_),Kn(f_,p_,"esm2020");function t(e){try{const n=e.getProvider(Fh).getImmediate();return{logEvent:(r,s,a)=>t5(n,r,s,a),setUserProperties:(r,s)=>e5(n,r,s)}}catch(n){throw ur.create("interop-component-reg-failed",{reason:n})}}}n5();function ST(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r5=ST,CT=new ua("auth","Firebase",ST());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new yf("@firebase/auth");function s5(t,...e){Uh.logLevel<=Oe.WARN&&Uh.warn(`Auth (${da}): ${t}`,...e)}function xh(t,...e){Uh.logLevel<=Oe.ERROR&&Uh.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw Uy(t,...e)}function Hr(t,...e){return Uy(t,...e)}function Fy(t,e,n){const r={...r5(),[e]:n};return new ua("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return Fy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(t,"argument-error"),Fy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CT.create(t,...e)}function Se(t,e,...n){if(!t)throw Uy(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function li(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){return typeof self<"u"&&self.location?.href||""}function o5(){return m_()==="http:"||m_()==="https:"}function m_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o5()||QE()||"connection"in navigator)?navigator.onLine:!0}function l5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=cP()||hP()}get(){return a5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d5=new Cu(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function co(t,e,n,r,s={}){return RT(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Su({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return dP()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&oo(t.emulatorConfig.host)&&(f.credentials="include"),IT.fetch()(await AT(t,t.config.apiHost,n,u),f)})}async function RT(t,e,n){t._canInitEmulator=!1;const r={...c5,...e};try{const s=new f5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw nh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw nh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Fy(t,g,f);Rr(t,g)}}catch(s){if(s instanceof kr)throw s;Rr(t,"network-request-failed",{message:String(s)})}}async function Iu(t,e,n,r,s={}){const a=await co(t,e,n,r,s);return"mfaPendingCredential"in a&&Rr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AT(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?By(t.config,s):`${t.config.apiScheme}://${s}`;return u5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function h5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),d5.get())})}}function nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hr(t,e,r);return s.customData._tokenResponse=n,s}function g_(t){return t!==void 0&&t.enterprise!==void 0}class p5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m5(t,e){return co(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return co(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y5(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=zy(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Uc(Fm(s.auth_time)),issuedAtTime:Uc(Fm(s.iat)),expirationTime:Uc(Fm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Fm(t){return Number(t)*1e3}function zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=$E(n);return s?JSON.parse(s):(xh("Failed to decode base64 JWT payload"),null)}catch(s){return xh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function y_(t){const e=zy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&v5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){const e=t.auth,n=await t.getIdToken(),r=await nu(t,Bh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?kT(s.providerUserInfo):[],l=_5(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Rg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function x5(t){const e=ct(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e){const n=await RT(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await AT(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&oo(t.emulatorConfig.host)&&(d.credentials="include"),IT.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E5(t,e){return co(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await b5(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ll;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new w5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y5(this,e)}reload(){return x5(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await nu(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:P,stsTokenManager:A}=n;Se(v&&A,e,"internal-error");const C=ll.fromJSON(this.name,A);Se(typeof v=="string",e,"internal-error"),Fi(r,e.name),Fi(s,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),Fi(a,e.name),Fi(l,e.name),Fi(u,e.name),Fi(d,e.name),Fi(f,e.name),Fi(g,e.name);const L=new qr({uid:v,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:f,lastLoginAt:g});return P&&Array.isArray(P)&&(L.providerData=P.map(j=>({...j}))),d&&(L._redirectEventId=d),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new ll;s.updateFromServerResponse(n);const a=new qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?kT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new ll;u.updateFromIdToken(r);const d=new qr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function ti(t){li(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const w_=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,a),this.fullPersistenceKey=_h("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(ti(w_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||ti(w_);const l=_h(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(l);if(g){let v;if(typeof g=="string"){const x=await Bh(e,{idToken:g}).catch(()=>{});if(!x)break;v=await qr._fromGetAccountInfoResponse(e,x,g)}else v=qr._fromJSON(e,g);f!==a&&(u=v),a=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new cl(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new cl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(OT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NT(t=Tn()){return/firefox\//i.test(t)}function DT(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(t=Tn()){return/crios\//i.test(t)}function LT(t=Tn()){return/iemobile/i.test(t)}function MT(t=Tn()){return/android/i.test(t)}function VT(t=Tn()){return/blackberry/i.test(t)}function OT(t=Tn()){return/webos/i.test(t)}function $y(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T5(t=Tn()){return $y(t)&&!!window.navigator?.standalone}function S5(){return fP()&&document.documentMode===10}function FT(t=Tn()){return $y(t)||MT(t)||OT(t)||VT(t)||/windows phone/i.test(t)||LT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e=[]){let n;switch(t){case"Browser":n=x_(Tn());break;case"Worker":n=`${x_(Tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e={}){return co(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=6;class A5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new C5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ri(this));const n=e?ct(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I5(this),n=new A5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uo(t){return ct(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=xP(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(t){_f=t}function BT(t){return _f.loadJS(t)}function N5(){return _f.recaptchaEnterpriseScript}function D5(){return _f.gapiScript}function j5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class L5{constructor(){this.enterprise=new M5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const V5="recaptcha-enterprise",zT="NO_RECAPTCHA";class O5{constructor(e){this.type=V5,this.auth=uo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{m5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new p5(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function s(a,l,u){const d=window.grecaptcha;g_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(zT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L5().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&g_(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=N5();d.length!==0&&(d+=u),BT(d).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function b_(t,e,n,r=!1,s=!1){const a=new O5(t);let l;if(s)l=zT;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ag(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await b_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await b_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){const n=ao(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Yi(a,e??{}))return s;Rr(s,"already-initialized")}return n.initialize({options:e})}function U5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function B5(t,e,n){const r=uo(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=$T(e),{host:l,port:u}=z5(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Yi(f,r.config.emulator)&&Yi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,oo(l)?(ky(`${a}//${l}${d}`),Py("Auth",!0)):$5()}function $T(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z5(t){const e=$T(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:E_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:E_(l)}}}function E_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function W5(t,e){return co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function G5(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Wy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,n,"signInWithPassword",q5);case"emailLink":return H5(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,r,"signUpPassword",W5);case"emailLink":return G5(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="http://localhost";class ra extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ra(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:K5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X5(t){const e=Nc(Dc(t)).link,n=e?Nc(Dc(e)).deep_link_id:null,r=Nc(Dc(t)).deep_link_id;return(r?Nc(Dc(r)).link:null)||r||n||e||t}class qy{constructor(e){const n=Nc(Dc(e)),r=n.apiKey??null,s=n.oobCode??null,a=Q5(n.mode??null);Se(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=X5(e);try{return new qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qy.parseLink(n);return Se(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ru{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Ru{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ru{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){return Iu(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await qr._fromIdTokenResponse(e,r,s),l=T_(r);return new sa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=T_(r);return new sa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function T_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function WT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,a,e,r):a})}async function J5(t,e,n=!1){const r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(ri(r));const s="reauthenticate";try{const a=await nu(t,WT(r,s,e,t),n);Se(a.idToken,r,"internal-error");const l=zy(a.idToken);Se(l,r,"internal-error");const{sub:u}=l;return Se(t.uid===u,r,"user-mismatch"),sa._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(t,e,n=!1){if(qn(t.app))return Promise.reject(ri(t));const r="signIn",s=await WT(t,r,e),a=await sa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function e4(t,e){return qT(uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GT(t,e,n){if(qn(t.app))return Promise.reject(ri(t));const r=uo(t),l=await Ag(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y5).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&HT(t),d}),u=await sa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function KT(t,e,n){return qn(t.app)?Promise.reject(ri(t)):e4(ct(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HT(t),r})}function t4(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function n4(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Au(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function r4(t){return ct(t).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1e3,i4=10;class XT extends QT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);S5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XT.type="LOCAL";const o4=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends QT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YT.type="SESSION";const JT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async f=>f(n.origin,a)),d=await a4(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=Gy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function c4(t){Ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function u4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d4(){return navigator?.serviceWorker?.controller||null}function h4(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",f4=1,qh="firebaseLocalStorage",tS="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function p4(){const t=indexedDB.deleteDatabase(eS);return new ku(t).toPromise()}function kg(){const t=indexedDB.open(eS,f4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qh,{keyPath:tS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await p4(),e(await kg()))})})}async function S_(t,e,n){const r=Ef(t,!0).put({[tS]:e,value:n});return new ku(r).toPromise()}async function m4(t,e){const n=Ef(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function C_(t,e){const n=Ef(t,!0).delete(e);return new ku(n).toPromise()}const g4=800,y4=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(h4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await u4(),!this.activeServiceWorker)return;this.sender=new l4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await S_(e,Wh,"1"),await C_(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ef(s,!1).getAll();return new ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const v4=nS;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){return e?ti(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w4(t){return qT(t.auth,new Ky(t),t.bypassAuthState)}function x4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Z5(n,new Ky(t),t.bypassAuthState)}async function _4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),J5(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w4;case"linkViaPopup":case"linkViaRedirect":return _4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:Rr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Cu(2e3,1e4);async function iS(t,e,n){if(qn(t.app))return Promise.reject(Hr(t,"operation-not-supported-in-this-environment"));const r=uo(t);i5(t,e,Hy);const s=rS(r,n);return new Go(r,"signInViaPopup",e,s).executeNotNull()}class Go extends sS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b4.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="pendingRedirect",bh=new Map;class T4 extends sS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await S4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S4(t,e){const n=R4(e),r=I4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function C4(t,e){bh.set(t._key(),e)}function I4(t){return ti(t._redirectPersistence)}function R4(t){return _h(E4,t.config.apiKey,t.name)}async function A4(t,e,n=!1){if(qn(t.app))return Promise.reject(ri(t));const r=uo(t),s=rS(r,e),l=await new T4(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=600*1e3;class P4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k4&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function N4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e={}){return co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L4=/^https?/;async function M4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D4(t);for(const n of e)try{if(V4(n))return}catch{}Rr(t,"unauthorized-domain")}function V4(t){const e=Ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!L4.test(n))return!1;if(j4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Cu(3e4,6e4);function R_(){const t=Ss().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F4(t){return new Promise((e,n)=>{function r(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Hr(t,"network-request-failed"))},timeout:O4.get()})}if(Ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ss().gapi?.load)r();else{const s=j5("iframefcb");return Ss()[s]=()=>{gapi.load?r():n(Hr(t,"network-request-failed"))},BT(`${D5()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function U4(t){return Eh=Eh||F4(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Cu(5e3,15e3),z4="__/auth/iframe",$4="emulator/auth/iframe",W4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H4(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?By(e,$4):`https://${t.config.authDomain}/${z4}`,r={apiKey:e.apiKey,appName:t.name,v:da},s=q4.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Su(r).slice(1)}`}async function G4(t){const e=await U4(t),n=Ss().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:H4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Hr(t,"network-request-failed"),u=Ss().setTimeout(()=>{a(l)},B4.get());function d(){Ss().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q4=500,X4=600,Y4="_blank",J4="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z4(t,e,n,r=Q4,s=X4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...K4,width:r.toString(),height:s.toString(),top:a,left:l},f=Tn().toLowerCase();n&&(u=jT(f)?Y4:n),NT(f)&&(e=e||J4,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[T,P])=>`${x}${T}=${P},`,"");if(T5(f)&&u!=="_self")return ej(e||"",u),new A_(null);const v=window.open(e||"",u,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new A_(v)}function ej(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="__/auth/handler",nj="emulator/auth/handler",rj=encodeURIComponent("fac");async function k_(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:s};if(e instanceof Hy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",wP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Ru){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),f=d?`#${rj}=${encodeURIComponent(d)}`:"";return`${sj(t)}?${Su(u).slice(1)}${f}`}function sj({config:t}){return t.emulator?By(t,nj):`https://${t.authDomain}/${tj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class ij{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=A4,this._overrideRedirectResult=C4}async _openPopup(e,n,r,s){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await k_(e,n,r,Ig(),s);return Z4(e,a,Gy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await k_(e,n,r,Ig(),s);return c4(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G4(e),r=new P4(e);return n.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},s=>{const a=s?.[0]?.[Um];a!==void 0&&n(!!a),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||DT()||$y()}}const oj=ij;var P_="@firebase/auth",N_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){Gr(new Ir("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},f=new k5(r,s,a,d);return U5(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Ir("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(r=>new aj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(P_,N_,lj(t)),Kn(P_,N_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=300,dj=GE("authIdTokenMaxAge")||uj;let D_=null;const hj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dj)return;const s=n?.token;D_!==s&&(D_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fj(t=vf()){const e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F5(t,{popupRedirectResolver:oj,persistence:[v4,o4,JT]}),r=GE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=hj(a.toString());n4(n,l,()=>l(n.currentUser)),t4(n,u=>l(u))}}const s=WE("auth");return s&&B5(n,`http://${s}`),n}function pj(){return document.getElementsByTagName("head")?.[0]??document}P5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Hr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",pj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,aS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function D(){}D.prototype=I.prototype,R.F=I.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(M,O,U){for(var N=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)N[ge-2]=arguments[ge];return I.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,I,D){D||(D=0);const M=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)M[O]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(O=0;O<16;++O)M[O]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=R.g[0],D=R.g[1],O=R.g[2];let U=R.g[3],N;N=I+(U^D&(O^U))+M[0]+3614090360&4294967295,I=D+(N<<7&4294967295|N>>>25),N=U+(O^I&(D^O))+M[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(D^U&(I^D))+M[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=D+(I^O&(U^I))+M[3]+3250441966&4294967295,D=O+(N<<22&4294967295|N>>>10),N=I+(U^D&(O^U))+M[4]+4118548399&4294967295,I=D+(N<<7&4294967295|N>>>25),N=U+(O^I&(D^O))+M[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(D^U&(I^D))+M[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=D+(I^O&(U^I))+M[7]+4249261313&4294967295,D=O+(N<<22&4294967295|N>>>10),N=I+(U^D&(O^U))+M[8]+1770035416&4294967295,I=D+(N<<7&4294967295|N>>>25),N=U+(O^I&(D^O))+M[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(D^U&(I^D))+M[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=D+(I^O&(U^I))+M[11]+2304563134&4294967295,D=O+(N<<22&4294967295|N>>>10),N=I+(U^D&(O^U))+M[12]+1804603682&4294967295,I=D+(N<<7&4294967295|N>>>25),N=U+(O^I&(D^O))+M[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(D^U&(I^D))+M[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=D+(I^O&(U^I))+M[15]+1236535329&4294967295,D=O+(N<<22&4294967295|N>>>10),N=I+(O^U&(D^O))+M[1]+4129170786&4294967295,I=D+(N<<5&4294967295|N>>>27),N=U+(D^O&(I^D))+M[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^D&(U^I))+M[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=D+(U^I&(O^U))+M[0]+3921069994&4294967295,D=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(D^O))+M[5]+3593408605&4294967295,I=D+(N<<5&4294967295|N>>>27),N=U+(D^O&(I^D))+M[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^D&(U^I))+M[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=D+(U^I&(O^U))+M[4]+3889429448&4294967295,D=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(D^O))+M[9]+568446438&4294967295,I=D+(N<<5&4294967295|N>>>27),N=U+(D^O&(I^D))+M[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^D&(U^I))+M[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=D+(U^I&(O^U))+M[8]+1163531501&4294967295,D=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(D^O))+M[13]+2850285829&4294967295,I=D+(N<<5&4294967295|N>>>27),N=U+(D^O&(I^D))+M[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^D&(U^I))+M[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=D+(U^I&(O^U))+M[12]+2368359562&4294967295,D=O+(N<<20&4294967295|N>>>12),N=I+(D^O^U)+M[5]+4294588738&4294967295,I=D+(N<<4&4294967295|N>>>28),N=U+(I^D^O)+M[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^D)+M[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=D+(O^U^I)+M[14]+4259657740&4294967295,D=O+(N<<23&4294967295|N>>>9),N=I+(D^O^U)+M[1]+2763975236&4294967295,I=D+(N<<4&4294967295|N>>>28),N=U+(I^D^O)+M[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^D)+M[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=D+(O^U^I)+M[10]+3200236656&4294967295,D=O+(N<<23&4294967295|N>>>9),N=I+(D^O^U)+M[13]+681279174&4294967295,I=D+(N<<4&4294967295|N>>>28),N=U+(I^D^O)+M[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^D)+M[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=D+(O^U^I)+M[6]+76029189&4294967295,D=O+(N<<23&4294967295|N>>>9),N=I+(D^O^U)+M[9]+3654602809&4294967295,I=D+(N<<4&4294967295|N>>>28),N=U+(I^D^O)+M[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^D)+M[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=D+(O^U^I)+M[2]+3299628645&4294967295,D=O+(N<<23&4294967295|N>>>9),N=I+(O^(D|~U))+M[0]+4096336452&4294967295,I=D+(N<<6&4294967295|N>>>26),N=U+(D^(I|~O))+M[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~D))+M[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=D+(U^(O|~I))+M[5]+4237533241&4294967295,D=O+(N<<21&4294967295|N>>>11),N=I+(O^(D|~U))+M[12]+1700485571&4294967295,I=D+(N<<6&4294967295|N>>>26),N=U+(D^(I|~O))+M[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~D))+M[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=D+(U^(O|~I))+M[1]+2240044497&4294967295,D=O+(N<<21&4294967295|N>>>11),N=I+(O^(D|~U))+M[8]+1873313359&4294967295,I=D+(N<<6&4294967295|N>>>26),N=U+(D^(I|~O))+M[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~D))+M[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=D+(U^(O|~I))+M[13]+1309151649&4294967295,D=O+(N<<21&4294967295|N>>>11),N=I+(O^(D|~U))+M[4]+4149444226&4294967295,I=D+(N<<6&4294967295|N>>>26),N=U+(D^(I|~O))+M[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~D))+M[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=D+(U^(O|~I))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const D=I-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<I;){if(O==0)for(;U<=D;)s(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<I;)if(M[O++]=R.charCodeAt(U++),O==this.blockSize){s(this,M),O=0;break}}else for(;U<I;)if(M[O++]=R[U++],O==this.blockSize){s(this,M),O=0;break}}this.h=O,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)R[I++]=this.g[D]>>>M&255;return R};function a(R,I){var D=u;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=I(R)}function l(R,I){this.h=I;const D=[];let M=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;M&&U==I||(D[O]=U,M=!1)}this.g=D}var u={};function d(R){return-128<=R&&R<128?a(R,function(I){return new l([I|0],I<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return C(f(-R));const I=[];let D=1;for(let M=0;R>=D;M++)I[M]=R/D|0,D*=4294967296;return new l(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return C(g(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(I,8));let M=v;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const N=parseInt(R.substring(U,U+O),I);O<8?(O=f(Math.pow(I,O)),M=M.j(O).add(f(N))):(M=M.j(D),M=M.add(f(N)))}return M}var v=d(0),x=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-C(this).m();let R=0,I=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);R+=(M>=0?M:4294967296+M)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(A(this))return"-"+C(this).toString(R);const I=f(Math.pow(R,6));var D=this;let M="";for(;;){const O=$(D,I).g;D=L(D,O.j(I));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=O,P(D))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=L(this,R),A(R)?-1:P(R)?0:1};function C(R){const I=R.g.length,D=[];for(let M=0;M<I;M++)D[M]=~R.g[M];return new l(D,~R.h).add(x)}t.abs=function(){return A(this)?C(this):this},t.add=function(R){const I=Math.max(this.g.length,R.g.length),D=[];let M=0;for(let O=0;O<=I;O++){let U=M+(this.i(O)&65535)+(R.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=N>>>16,U&=65535,N&=65535,D[O]=N<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function L(R,I){return R.add(C(I))}t.j=function(R){if(P(this)||P(R))return v;if(A(this))return A(R)?C(this).j(C(R)):C(C(this).j(R));if(A(R))return C(this.j(C(R)));if(this.l(T)<0&&R.l(T)<0)return f(this.m()*R.m());const I=this.g.length+R.g.length,D=[];for(var M=0;M<2*I;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const U=this.i(M)>>>16,N=this.i(M)&65535,ge=R.i(O)>>>16,Ze=R.i(O)&65535;D[2*M+2*O]+=N*Ze,j(D,2*M+2*O),D[2*M+2*O+1]+=U*Ze,j(D,2*M+2*O+1),D[2*M+2*O+1]+=N*ge,j(D,2*M+2*O+1),D[2*M+2*O+2]+=U*ge,j(D,2*M+2*O+2)}for(R=0;R<I;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=I;R<2*I;R++)D[R]=0;return new l(D,0)};function j(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function F(R,I){this.g=R,this.h=I}function $(R,I){if(P(I))throw Error("division by zero");if(P(R))return new F(v,v);if(A(R))return I=$(C(R),I),new F(C(I.g),C(I.h));if(A(I))return I=$(R,C(I)),new F(C(I.g),I.h);if(R.g.length>30){if(A(R)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var D=x,M=I;M.l(R)<=0;)D=K(D),M=K(M);var O=q(D,1),U=q(M,1);for(M=q(M,2),D=q(D,2);!P(M);){var N=U.add(M);N.l(R)<=0&&(O=O.add(D),U=N),M=q(M,1),D=q(D,1)}return I=L(R,O.j(I)),new F(O,I)}for(O=v;R.l(I)>=0;){for(D=Math.max(1,Math.floor(R.m()/I.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=f(D),N=U.j(I);A(N)||N.l(R)>0;)D-=M,U=f(D),N=U.j(I);P(U)&&(U=x),O=O.add(U),R=L(R,N)}return new F(O,R)}t.B=function(R){return $(this,R).h},t.and=function(R){const I=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<I;M++)D[M]=this.i(M)&R.i(M);return new l(D,this.h&R.h)},t.or=function(R){const I=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<I;M++)D[M]=this.i(M)|R.i(M);return new l(D,this.h|R.h)},t.xor=function(R){const I=Math.max(this.g.length,R.g.length),D=[];for(let M=0;M<I;M++)D[M]=this.i(M)^R.i(M);return new l(D,this.h^R.h)};function K(R){const I=R.g.length+1,D=[];for(let M=0;M<I;M++)D[M]=R.i(M)<<1|R.i(M-1)>>>31;return new l(D,R.h)}function q(R,I){const D=I>>5;I%=32;const M=R.g.length-D,O=[];for(let U=0;U<M;U++)O[U]=I>0?R.i(U+D)>>>I|R.i(U+D+1)<<32-I:R.i(U+D);return new l(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Qi=l}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lS,jc,cS,Th,Pg,uS,dS,hS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(h,_){if(_)e:{var b=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var G=h[k];if(!(G in b))break e;b=b[G]}h=h[h.length-1],k=b[h],_=_(k),_!=k&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var b=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&b.push([k,_[k]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,b){return h.call.apply(h.bind,arguments)}function f(h,_,b){return f=d,f.apply(null,arguments)}function g(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function v(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(k,G,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return _.prototype[G].apply(k,oe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function T(h){const _=h.length;if(_>0){const b=Array(_);for(let k=0;k<_;k++)b[k]=h[k];return b}return[]}function P(h,_){for(let k=1;k<arguments.length;k++){const G=arguments[k];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=h.length||0;const Y=G.length||0;h.length=b+Y;for(let oe=0;oe<Y;oe++)h[b+oe]=G[oe]}else h.push(G)}}class A{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(h){l.setTimeout(()=>{throw h},0)}function L(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,b){const k=F.get();k.set(_,b),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new A(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let K,q=!1,R=new j,I=()=>{const h=Promise.resolve(void 0);K=()=>{h.then(D)}};function D(){for(var h;h=L();){try{h.h.call(h.g)}catch(b){C(b)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}q=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};l.addEventListener("test",b,_),l.removeEventListener("test",b,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ge(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ge,O),ge.prototype.init=function(h,_){const b=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),st=0;function ye(h,_,b,k,G){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!k,this.ha=G,this.key=++st,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,b){for(const k in h)_.call(b,h[k],k,h)}function ae(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function W(h){const _={};for(const b in h)_[b]=h[b];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(h,_){let b,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(b in k)h[b]=k[b];for(let Y=0;Y<J.length;Y++)b=J[Y],Object.prototype.hasOwnProperty.call(k,b)&&(h[b]=k[b])}}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,_,b,k,G){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const oe=Te(h,_,k,G);return oe>-1?(_=h[oe],b||(_.fa=!1)):(_=new ye(_,this.src,Y,!!k,G),_.fa=b,h.push(_)),_};function De(h,_){const b=_.type;if(b in h.g){var k=h.g[b],G=Array.prototype.indexOf.call(k,_,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(k,G,1),Y&&(re(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Te(h,_,b,k){for(let G=0;G<h.length;++G){const Y=h[G];if(!Y.da&&Y.listener==_&&Y.capture==!!b&&Y.ha==k)return G}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),je={};function Ve(h,_,b,k,G){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)Ve(h,_[Y],b,k,G);return null}return b=fi(b),h&&h[Ze]?h.J(_,b,u(k)?!!k.capture:!1,G):ke(h,_,b,!1,k,G)}function ke(h,_,b,k,G,Y){if(!_)throw Error("Invalid event type");const oe=u(G)?!!G.capture:!!G;let Pe=Xn(h);if(Pe||(h[Be]=Pe=new xe(h)),b=Pe.add(_,b,k,oe,Y),b.proxy)return b;if(k=dr(),b.proxy=k,k.src=h,k.listener=b,h.addEventListener)U||(G=oe),G===void 0&&(G=!1),h.addEventListener(_.toString(),k,G);else if(h.attachEvent)h.attachEvent(hn(_.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function dr(){function h(b){return _.call(h.src,h.listener,b)}const _=Pr;return h}function dn(h,_,b,k,G){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)dn(h,_[Y],b,k,G);else k=u(k)?!!k.capture:!!k,b=fi(b),h&&h[Ze]?(h=h.i,Y=String(_).toString(),Y in h.g&&(_=h.g[Y],b=Te(_,b,k,G),b>-1&&(re(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Xn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Te(_,b,k,G)),(b=h>-1?_[h]:null)&&Cn(b))}function Cn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ze])De(_.i,h);else{var b=h.type,k=h.proxy;_.removeEventListener?_.removeEventListener(b,k,h.capture):_.detachEvent?_.detachEvent(hn(b),k):_.addListener&&_.removeListener&&_.removeListener(k),(b=Xn(_))?(De(b,h),b.h==0&&(b.src=null,_[Be]=null)):re(h)}}}function hn(h){return h in je?je[h]:je[h]="on"+h}function Pr(h,_){if(h.da)h=!0;else{_=new ge(_,this);const b=h.listener,k=h.ha||h.src;h.fa&&Cn(h),h=b.call(k,_)}return h}function Xn(h){return h=h[Be],h instanceof xe?h:null}var ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function fi(h){return typeof h=="function"?h:(h[ts]||(h[ts]=function(_){return h.handleEvent(_)}),h[ts])}function dt(){M.call(this),this.i=new xe(this),this.M=this,this.G=null}v(dt,M),dt.prototype[Ze]=!0,dt.prototype.removeEventListener=function(h,_,b,k){dn(this,h,_,b,k)};function Ye(h,_){var b,k=h.G;if(k)for(b=[];k;k=k.G)b.push(k);if(h=h.M,k=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var G=_;_=new O(k,h),ve(_,G)}G=!0;let Y,oe;if(b)for(oe=b.length-1;oe>=0;oe--)Y=_.g=b[oe],G=fn(Y,k,!0,_)&&G;if(Y=_.g=h,G=fn(Y,k,!0,_)&&G,G=fn(Y,k,!1,_)&&G,b)for(oe=0;oe<b.length;oe++)Y=_.g=b[oe],G=fn(Y,k,!1,_)&&G}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let k=0;k<b.length;k++)re(b[k]);delete h.g[_],h.h--}}this.G=null},dt.prototype.J=function(h,_,b,k){return this.i.add(String(h),_,!1,b,k)},dt.prototype.K=function(h,_,b,k){return this.i.add(String(h),_,!0,b,k)};function fn(h,_,b,k){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Y=0;Y<_.length;++Y){const oe=_[Y];if(oe&&!oe.da&&oe.capture==b){const Pe=oe.listener,Tt=oe.ha||oe.src;oe.fa&&De(h.i,oe),G=Pe.call(Tt,k)!==!1&&G}}return G&&!k.defaultPrevented}function ns(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(h,_||0)}function pi(h){h.g=ns(()=>{h.g=null,h.i&&(h.i=!1,pi(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class go extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(h){M.call(this),this.h=h,this.g={}}v(rs,M);var yo=[];function Yn(h){le(h.g,function(_,b){this.g.hasOwnProperty(b)&&Cn(_)},h),h.g={}}rs.prototype.N=function(){rs.Z.N.call(this),Yn(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=l.JSON.stringify,ss=l.JSON.parse,is=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Xt(){}function vo(){}var os={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mi(){O.call(this,"d")}v(mi,O);function Ms(){O.call(this,"c")}v(Ms,O);var Ln={},gi=null;function Nr(){return gi=gi||new dt}Ln.Ia="serverreachability";function yi(h){O.call(this,Ln.Ia,h)}v(yi,O);function Dr(h){const _=Nr();Ye(_,new yi(_))}Ln.STAT_EVENT="statevent";function jr(h,_){O.call(this,Ln.STAT_EVENT,h),this.stat=_}v(jr,O);function Le(h){const _=Nr();Ye(_,new jr(_,h))}Ln.Ja="timingevent";function Mt(h,_){O.call(this,Ln.Ja,h),this.size=_}v(Mt,O);function xt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function Yt(){this.g=!0}Yt.prototype.ua=function(){this.g=!1};function Jt(h,_,b,k,G,Y){h.info(function(){if(h.g)if(Y){var oe="",Pe=Y.split("&");for(let et=0;et<Pe.length;et++){var Tt=Pe[et].split("=");if(Tt.length>1){const At=Tt[0];Tt=Tt[1];const rr=At.split("_");oe=rr.length>=2&&rr[1]=="type"?oe+(At+"="+Tt+"&"):oe+(At+"=redacted&")}}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+_+`
`+b+`
`+oe})}function zt(h,_,b,k,G,Y,oe){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+_+`
`+b+`
`+Y+" "+oe})}function Et(h,_,b,k){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+it(h,b)+(k?" "+k:"")})}function Lr(h,_){h.info(function(){return"TIMEOUT: "+_})}Yt.prototype.info=function(){};function it(h,_){if(!h.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var k=b[1];if(Array.isArray(k)&&!(k.length<1)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(let oe=1;oe<k.length;oe++)k[oe]=""}}}}return In(Y)}catch{return _}}var Zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mn;function Rn(){}v(Rn,Xt),Rn.prototype.g=function(){return new XMLHttpRequest},Mn=new Rn;function pn(h){return encodeURIComponent(String(h))}function An(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function $t(h,_,b,k){this.j=h,this.i=_,this.l=b,this.S=k||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Ku={},Fl={};function Mr(h,_,b){h.M=1,h.A=Os(hr(_)),h.u=b,h.R=!0,Ul(h,null)}function Ul(h,_){h.F=Date.now(),wo(h),h.B=hr(h.A);var b=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),Xl(b.i,"t",k),h.C=0,b=h.j.L,h.h=new vi,h.g=sd(h.j,b?_:null,!h.u),h.P>0&&(h.O=new go(f(h.Y,h,h.g),h.P)),_=h.V,b=h.g,k=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(yo[0]=G.toString()),G=yo);for(let Y=0;Y<G.length;Y++){const oe=Ve(b,G[Y],k||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=h.J?W(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Dr(),Jt(h.i,h.v,h.B,h.l,h.S,h.u)}$t.prototype.ba=function(h){h=h.target;const _=this.O;_&&fs(h)==3?_.j():this.Y(h)},$t.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=fs(this.g),Tt=this.g.ya(),et=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||nd(this.g)))){this.K||Pe!=4||Tt==7||(Tt==8||et<=0?Dr(3):Dr(2)),ga(this);var _=this.g.ca();this.X=_;var b=Qu(this);if(this.o=_==200,zt(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var Y=k;break t}}Y=null}if(h=Y)Et(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,h);else{this.o=!1,this.m=3,Le(12),Vs(this),xo(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<b.length;)if(At=Yu(this,b),At==Fl){Pe==4&&(this.m=4,Le(14),h=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ku){this.m=4,Le(15),Et(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Et(this.i,this.l,At,null),ot(this,At);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||b.length!=0||this.h.h||(this.m=1,Le(16),h=!1),this.o=this.o&&h,!h)Et(this.i,this.l,b,"[Invalid Chunked Response]"),Vs(this),xo(this);else if(b.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ao(oe),oe.P=!0,Le(11))}}else Et(this.i,this.l,b,null),ot(this,b);Pe==4&&Vs(this),this.o&&!this.K&&(Pe==4?Ca(this.j,this):(this.o=!1,wo(this)))}else Jl(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),Vs(this),xo(this)}}}catch{}finally{}};function Qu(h){if(!Xu(h))return h.g.la();const _=nd(h.g);if(_==="")return"";let b="";const k=_.length,G=fs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vs(h),xo(h),"";h.h.i=new l.TextDecoder}for(let Y=0;Y<k;Y++)h.h.h=!0,b+=h.h.i.decode(_[Y],{stream:!(G&&Y==k-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function Xu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yu(h,_){var b=h.C,k=_.indexOf(`
`,b);return k==-1?Fl:(b=Number(_.substring(b,k)),isNaN(b)?Ku:(k+=1,k+b>_.length?Fl:(_=_.slice(k,k+b),h.C=k+b,_)))}$t.prototype.cancel=function(){this.K=!0,Vs(this)};function wo(h){h.T=Date.now()+h.H,Bl(h,h.H)}function Bl(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xt(f(h.aa,h),_)}function ga(h){h.D&&(l.clearTimeout(h.D),h.D=null)}$t.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Lr(this.i,this.B),this.M!=2&&(Dr(),Le(17)),Vs(this),this.m=2,xo(this)):Bl(this,this.T-h)};function xo(h){h.j.I==0||h.K||Ca(h.j,h)}function Vs(h){ga(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Yn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ot(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||$l(b.h,h))){if(!h.L&&$l(b.h,h)&&b.I==3){try{var k=b.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Sa(b),tr(b);else break e;gs(b),Le(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xt(f(b.Va,b),6e3));_o(b.h)<=1&&b.ta&&(b.ta=void 0)}else nr(b,11)}else if((h.L||b.g==h)&&Sa(b),!N(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let et=G[_];const At=et[0];if(!(At<=b.K))if(b.K=At,et=et[1],b.I==2)if(et[0]=="c"){b.M=et[1],b.ba=et[2];const rr=et[3];rr!=null&&(b.ka=rr,b.j.info("VER="+b.ka));const $s=et[4];$s!=null&&(b.za=$s,b.j.info("SVER="+b.za));const ys=et[5];ys!=null&&typeof ys=="number"&&ys>0&&(k=1.5*ys,b.O=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const vs=h.g;if(vs){const Aa=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var Y=k.h;Y.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(va(Y,Y.h),Y.h=null))}if(k.G){const tc=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(k.wa=tc,Ke(k.J,k.G,tc))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),k=b;var oe=h;if(k.na=ec(k,k.L?k.ba:null,k.W),oe.L){bo(k.h,oe);var Pe=oe,Tt=k.O;Tt&&(Pe.H=Tt),Pe.D&&(ga(Pe),wo(Pe)),k.g=oe}else mn(k);b.i.length>0&&zs(b)}else et[0]!="stop"&&et[0]!="close"||nr(b,7);else b.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?nr(b,7):Ea(b):et[0]!="noop"&&b.l&&b.l.qa(et),b.A=0)}}Dr(4)}catch{}}var tp=class{constructor(h,_){this.g=h,this.map=_}};function ya(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _o(h){return h.h?1:h.g?h.g.size:0}function $l(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function va(h,_){h.g?h.g.add(_):h.h=_}function bo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ya.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return T(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const k=h[b].indexOf("=");let G,Y=null;k>=0?(G=h[b].substring(0,k),Y=h[b].substring(k+1)):G=h[b],_(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function as(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof as?(this.l=h.l,Eo(this,h.j),this.o=h.o,this.g=h.g,ls(this,h.u),this.h=h.h,wi(this,Yl(h.i)),this.m=h.m):h&&(_=String(h).match(Ju))?(this.l=!1,Eo(this,_[1]||"",!0),this.o=To(_[2]||""),this.g=To(_[3]||"",!0),ls(this,_[4]),this.h=To(_[5]||"",!0),wi(this,_[6]||"",!0),this.m=To(_[7]||"")):(this.l=!1,this.i=new ze(null,this.l))}as.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(So(_,ql,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(So(_,ql,!0),"@"),h.push(pn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(So(b,b.charAt(0)=="/"?Co:Hl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",So(b,Gl)),h.join("")},as.prototype.resolve=function(h){const _=hr(this);let b=!!h.j;b?Eo(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var k=h.h;if(b)ls(_,h.u);else if(b=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var G=_.h.lastIndexOf("/");G!=-1&&(k=_.h.slice(0,G+1)+k)}if(G=k,G==".."||G==".")k="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){k=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let oe=0;oe<G.length;){const Pe=G[oe++];Pe=="."?k&&oe==G.length&&Y.push(""):Pe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),k&&oe==G.length&&Y.push("")):(Y.push(Pe),k=!0)}k=Y.join("/")}else k=G}return b?_.h=k:b=h.i.toString()!=="",b?wi(_,Yl(h.i)):b=!!h.m,b&&(_.m=h.m),_};function hr(h){return new as(h)}function Eo(h,_,b){h.j=b?To(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ls(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function wi(h,_,b){_ instanceof ze?(h.i=_,xa(h.i,h.l)):(b||(_=So(_,np)),h.i=new ze(_,h.l))}function Ke(h,_,b){h.i.set(_,b)}function Os(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function To(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function So(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,Wl),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ql=/[#\/\?@]/g,Hl=/[#\?:]/g,Co=/[#\?]/g,np=/[#\?@]/g,Gl=/#/g;function ze(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function cs(h){h.g||(h.g=new Map,h.h=0,h.i&&Zn(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=ze.prototype,t.add=function(h,_){cs(this),this.i=null,h=us(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function Kl(h,_){cs(h),_=us(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function wa(h,_){return cs(h),_=us(h,_),h.g.has(_)}t.forEach=function(h,_){cs(this),this.g.forEach(function(b,k){b.forEach(function(G){h.call(_,G,k,this)},this)},this)};function Ql(h,_){cs(h);let b=[];if(typeof _=="string")wa(h,_)&&(b=b.concat(h.g.get(us(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}t.set=function(h,_){return cs(this),this.i=null,h=us(this,h),wa(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ql(this,h),h.length>0?String(h[0]):_):_};function Xl(h,_,b){Kl(h,_),b.length>0&&(h.i=null,h.g.set(us(h,_),T(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var b=_[k];const G=pn(b);b=Ql(this,b);for(let Y=0;Y<b.length;Y++){let oe=G;b[Y]!==""&&(oe+="="+pn(b[Y])),h.push(oe)}}return this.i=h.join("&")};function Yl(h){const _=new ze;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function us(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function xa(h,_){_&&!h.j&&(cs(h),h.i=null,h.g.forEach(function(b,k){const G=k.toLowerCase();k!=G&&(Kl(this,k),Xl(this,G,b))},h)),h.j=_}function ds(h,_){const b=new Yt;if(l.Image){const k=new Image;k.onload=g(en,b,"TestLoadImage: loaded",!0,_,k),k.onerror=g(en,b,"TestLoadImage: error",!1,_,k),k.onabort=g(en,b,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(en,b,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else _(!1)}function hs(h,_){const b=new Yt,k=new AbortController,G=setTimeout(()=>{k.abort(),en(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:k.signal}).then(Y=>{clearTimeout(G),Y.ok?en(b,"TestPingServer: ok",!0,_):en(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),en(b,"TestPingServer: error",!1,_)})}function en(h,_,b,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(b)}catch{}}function Io(){this.g=new is}function Fs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Fs,Xt),Fs.prototype.g=function(){return new er(this.i,this.h)};function er(h,_){dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(er,dt),t=er.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Vr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?xi(this):Vr(this),this.readyState==3&&Zu(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,xi(this))},t.Na=function(h){this.g&&(this.response=h,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vr(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function Vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ed(h){let _="";return le(h,function(b,k){_+=k,_+=":",_+=b,_+=`\r
`}),_}function _a(h,_,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=ed(b),typeof h=="string"?b!=null&&pn(b):Ke(h,_,b))}function tt(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(tt,dt);var td=/^https?$/i,rp=["POST","PUT"];t=tt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mn.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Y){_i(this,Y);return}if(h=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)b.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())b.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(rp,_,void 0)>=0)||k||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of b)this.g.setRequestHeader(Y,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){_i(this,Y)}};function _i(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,bi(h),Bs(h)}function bi(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ye(this,"complete"),Ye(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},t.Xa=function(){Us(this)};function Us(h){if(h.h&&typeof a<"u"){if(h.v&&fs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ye(h,"readystatechange"),fs(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var k;if(k=Y===0){let oe=String(h.D).match(Ju)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),k=!td.test(oe?oe.toLowerCase():"")}b=k}if(b)Ye(h,"complete"),Ye(h,"success");else{h.o=6;try{var G=fs(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",bi(h)}}finally{Bs(h)}}}}function Bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Ye(h,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ss(_)}};function nd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(h){const _={};h=(h.g&&fs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(N(h[k]))continue;var b=An(h[k]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=_[G]||[];_[G]=Y,Y.push(b)}ae(_,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function ba(h){this.za=0,this.i=[],this.j=new Yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ps("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ps("baseRetryDelayMs",5e3,h),this.Za=ps("retryDelaySeedMs",1e4,h),this.Ta=ps("forwardChannelMaxRetries",2,h),this.va=ps("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ya(h&&h.concurrentRequestLimit),this.Ba=new Io,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ba.prototype,t.ka=8,t.I=1,t.connect=function(h,_,b,k){Le(0),this.W=h,this.H=_||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.J=ec(this,null,this.W),zs(this)};function Ea(h){if(Ta(h),h.I==3){var _=h.V++,b=hr(h.J);if(Ke(b,"SID",h.M),Ke(b,"RID",_),Ke(b,"TYPE","terminate"),ms(h,b),_=new $t(h,h.j,_),_.M=2,_.A=Os(hr(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&l.Image&&(new Image().src=_.A,b=!0),b||(_.g=sd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),wo(_)}ko(h)}function tr(h){h.g&&(Ao(h),h.g.cancel(),h.g=null)}function Ta(h){tr(h),h.v&&(l.clearTimeout(h.v),h.v=null),Sa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function zs(h){if(!zl(h.h)&&!h.m){h.m=!0;var _=h.Ea;K||I(),q||(K(),q=!0),R.add(_,h),h.D=0}}function rd(h,_){return _o(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xt(f(h.Ea,h,_),Ia(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new $t(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=W(Y),ve(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Zl(this,G,_),b=hr(this.J),Ke(b,"RID",h),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),ms(this,b),Y&&(this.R?_="headers="+pn(ed(Y))+"&"+_:this.u&&_a(b,this.u,Y)),va(this.h,G),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",_),Ke(b,"SID","null"),G.U=!0,Mr(G,b,null)):Mr(G,b,_),this.I=2}}else this.I==3&&(h?Ro(this,h):this.i.length==0||zl(this.h)||Ro(this))};function Ro(h,_){var b;_?b=_.l:b=h.V++;const k=hr(h.J);Ke(k,"SID",h.M),Ke(k,"RID",b),Ke(k,"AID",h.K),ms(h,k),h.u&&h.o&&_a(k,h.u,h.o),b=new $t(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Zl(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),va(h.h,b),Mr(b,k,_)}function ms(h,_){h.H&&le(h.H,function(b,k){Ke(_,k,b)}),h.l&&le({},function(b,k){Ke(_,k,b)})}function Zl(h,_,b){b=Math.min(h.i.length,b);const k=h.l?f(h.l.Ka,h.l,h):null;e:{var G=h.i;let Pe=-1;for(;;){const Tt=["count="+b];Pe==-1?b>0?(Pe=G[0].g,Tt.push("ofs="+Pe)):Pe=0:Tt.push("ofs="+Pe);let et=!0;for(let At=0;At<b;At++){var Y=G[At].g;const rr=G[At].map;if(Y-=Pe,Y<0)Pe=Math.max(0,G[At].g-100),et=!1;else try{Y="req"+Y+"_"||"";try{var oe=rr instanceof Map?rr:Object.entries(rr);for(const[$s,ys]of oe){let vs=ys;u(ys)&&(vs=In(ys)),Tt.push(Y+$s+"="+encodeURIComponent(vs))}}catch($s){throw Tt.push(Y+"type="+encodeURIComponent("_badmap")),$s}}catch{k&&k(rr)}}if(et){oe=Tt.join("&");break e}}oe=void 0}return h=h.i.splice(0,b),_.G=h,oe}function mn(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;K||I(),q||(K(),q=!0),R.add(_,h),h.A=0}}function gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xt(f(h.Da,h),Ia(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Ei(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xt(f(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),tr(this),Ei(this))};function Ao(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Ei(h){h.g=new $t(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=hr(h.na);Ke(_,"RID","rpc"),Ke(_,"SID",h.M),Ke(_,"AID",h.K),Ke(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(_,"TO",h.ia),Ke(_,"TYPE","xmlhttp"),ms(h,_),h.u&&h.o&&_a(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Os(hr(_)),b.u=null,b.R=!0,Ul(b,h)}t.Va=function(){this.C!=null&&(this.C=null,tr(this),gs(this),Le(19))};function Sa(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Ca(h,_){var b=null;if(h.g==_){Sa(h),Ao(h),h.g=null;var k=2}else if($l(h.h,_))b=_.G,bo(h.h,_),k=1;else return;if(h.I!=0){if(_.o)if(k==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;k=Nr(),Ye(k,new Mt(k,b)),zs(h)}else mn(h);else if(G=_.m,G==3||G==0&&_.X>0||!(k==1&&rd(h,_)||k==2&&gs(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),G){case 1:nr(h,5);break;case 4:nr(h,10);break;case 3:nr(h,6);break;default:nr(h,2)}}}function Ia(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function nr(h,_){if(h.j.info("Error code "+_),_==2){var b=f(h.bb,h),k=h.Ua;const G=!k;k=new as(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Eo(k,"https"),Os(k),G?ds(k.toString(),b):hs(k.toString(),b)}else Le(2);h.I=0,h.l&&h.l.pa(_),ko(h),Ta(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function ko(h){if(h.I=0,h.ja=[],h.l){const _=Jn(h.h);(_.length!=0||h.i.length!=0)&&(P(h.ja,_),P(h.ja,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.oa()}}function ec(h,_,b){var k=b instanceof as?hr(b):new as(b);if(k.g!="")_&&(k.g=_+"."+k.g),ls(k,k.u);else{var G=l.location;k=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Y=new as(null);k&&Eo(Y,k),_&&(Y.g=_),G&&ls(Y,G),b&&(Y.h=b),k=Y}return b=h.G,_=h.wa,b&&_&&Ke(k,b,_),Ke(k,"VER",h.ka),ms(h,k),k}function sd(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new tt(new Fs({ab:b})):new tt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function id(){}t=id.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ra(){}Ra.prototype.g=function(h,_){return new tn(h,_)};function tn(h,_){dt.call(this),this.g=new ba(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ti(this)}v(tn,dt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ea(this.g)},tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=In(h),h=b);_.i.push(new tp(_.Ya++,h)),_.I==3&&zs(_)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ea(this.g),delete this.g,tn.Z.N.call(this)};function od(h){mi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(od,mi);function ad(){Ms.call(this),this.status=1}v(ad,Ms);function Ti(h){this.g=h}v(Ti,id),Ti.prototype.ra=function(){Ye(this.g,"a")},Ti.prototype.qa=function(h){Ye(this.g,new od(h))},Ti.prototype.pa=function(h){Ye(this.g,new ad)},Ti.prototype.oa=function(){Ye(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,hS=function(){return new Ra},dS=function(){return Nr()},uS=Ln,Pg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,Th=Zt,Vt.COMPLETE="complete",cS=Vt,vo.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",dt.prototype.listen=dt.prototype.J,jc=vo,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,lS=tt}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",M_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new yf("@firebase/firestore");function Ya(){return ia.logLevel}function de(t,...e){if(ia.logLevel<=Oe.DEBUG){const n=e.map(Qy);ia.debug(`Firestore (${Il}): ${t}`,...n)}}function ci(t,...e){if(ia.logLevel<=Oe.ERROR){const n=e.map(Qy);ia.error(`Firestore (${Il}): ${t}`,...n)}}function ml(t,...e){if(ia.logLevel<=Oe.WARN){const n=e.map(Qy);ia.warn(`Firestore (${Il}): ${t}`,...n)}}function Qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fS(t,r,n)}function fS(t,e,n){let r=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ci(r),new Error(r)}function Je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fS(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yj{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new pS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class vj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_j(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Ng(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Bm(s)===Bm(a)?Fe(s,a):Bm(s)?1:-1}return Fe(t.length,e.length)}const bj=55296,Ej=57343;function Bm(t){const e=t.charCodeAt(0);return e>=bj&&e<=Ej}function gl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__name__";class Es{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Es.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Es.isNumericId(e),s=Es.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Es.extractNumericId(e).compare(Es.extractNumericId(n)):Ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class rt extends Es{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const Tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Es{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return Tj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new cn([O_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sj(t,e,n,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F_(t){if(!we.isDocumentKey(t))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U_(t){if(we.isDocumentKey(t))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!gS(t))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,z_=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z_);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B_)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:jt("string",Xe._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Xe(0,0))}static max(){return new Ae(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function Cj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Ji(s,we.empty(),e)}function Ij(t){return new Ji(t.readTime,t.key,su)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(Ae.min(),we.empty(),su)}static max(){return new Ji(Ae.max(),we.empty(),su)}}function Rj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==Aj)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(d=>r(d)))})),l=!0,a===s&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((s=>s?ee.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new ee(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function Pj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-1;function Cf(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function Nj(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="";function Dj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$_(e)),e=jj(t.get(n),e);return $_(e)}function jj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case yS:n+="";break;default:n+=a}}return n}function $_(t){return t+yS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new an(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new Bt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wS("Invalid base64 string: "+a):a}})(e);return new un(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Lj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=Lj.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="server_timestamp",_S="__type__",bS="__previous_value__",ES="__local_write_time__";function Jy(t){return(t?.mapValue?.fields||{})[_S]?.stringValue===xS}function If(t){const e=t.mapValue.fields[bS];return Jy(e)?If(e):e}function iu(t){const e=Zi(t.mapValue.fields[ES].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,s,a,l,u,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const Gh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Gh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",Vj="__max__",ih={mapValue:{}},SS="__vector__",Kh="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:Fj(t)?9007199254740991:Oj(t)?10:11:Ce(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Zi(s.timestampValue),u=Zi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return eo(s.bytesValue).isEqual(eo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return It(s.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return It(s.integerValue)===It(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=It(s.doubleValue),u=It(a.doubleValue);return l===u?Hh(l)===Hh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(W_(l)!==W_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ns(l[d],u[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function au(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function yl(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=It(a.integerValue||a.doubleValue),d=It(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return H_(t.timestampValue,e.timestampValue);case 4:return H_(iu(t),iu(e));case 5:return Ng(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=eo(a),d=eo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=Fe(u[f],d[f]);if(g!==0)return g}return Fe(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Fe(It(a.latitude),It(l.latitude));return u!==0?u:Fe(It(a.longitude),It(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return G_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},f=u[Kh]?.arrayValue,g=d[Kh]?.arrayValue,v=Fe(f?.values?.length||0,g?.values?.length||0);return v!==0?v:G_(f,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ih.mapValue&&l===ih.mapValue)return 0;if(a===ih.mapValue)return 1;if(l===ih.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const x=Ng(d[v],g[v]);if(x!==0)return x;const T=yl(u[d[v]],f[g[v]]);if(T!==0)return T}return Fe(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function H_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Zi(t),r=Zi(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function G_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=yl(n[s],r[s]);if(a)return a}return Fe(n.length,r.length)}function vl(t){return Dg(t)}function Dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Dg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Dg(n.fields[l])}`;return s+"}"})(t.mapValue):Ce(61005,{value:t})}function Sh(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(t);return e?16+Sh(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Sh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ho(r.fields,((a,l)=>{s+=a.length+Sh(l)})),s})(t.mapValue);default:throw Ce(13486,{value:t})}}function K_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jg(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function Q_(t){return!!t&&"nullValue"in t}function X_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ch(t){return!!t&&"mapValue"in t}function Oj(t){return(t?.mapValue?.fields||{})[TS]?.stringValue===SS}function Bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return{...t}}function Fj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Vj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=cn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Bc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ho(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Hn(Bc(this.value))}}function CS(t){const e=[];return ho(t.fields,((n,r)=>{const s=new cn([n]);if(Ch(r)){const a=CS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new bn(e,0,Ae.min(),Ae.min(),Ae.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,s){return new bn(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new bn(e,2,n,Ae.min(),Ae.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ae.min(),Ae.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),n.key):r=yl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class Dt extends IS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zj(e,n,r):n==="array-contains"?new qj(e,r):n==="in"?new Hj(e,r):n==="not-in"?new Gj(e,r):n==="array-contains-any"?new Kj(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $j(e,r):new Wj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return RS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RS(t){return t.op==="and"}function AS(t){return Bj(t)&&RS(t)}function Bj(t){for(const e of t.filters)if(e instanceof Qr)return!1;return!0}function Lg(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(AS(t))return t.filters.map((e=>Lg(e))).join(",");{const e=t.filters.map((n=>Lg(n))).join(",");return`${t.op}(${e})`}}function kS(t,e){return t instanceof Dt?(function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)})(t,e):t instanceof Qr?(function(r,s){return s instanceof Qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&kS(l,s.filters[u])),!0):!1})(t,e):void Ce(19439)}function PS(t){return t instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(t):t instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"})(t):"Filter"}class zj extends Dt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class $j extends Dt{constructor(e,n){super(e,"in",n),this.keys=NS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Wj extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=NS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NS(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class qj extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&au(n.arrayValue,this.value)}}class Hj extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class Gj extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class Kj extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Z_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new Qj(t,e,n,r,s,a,l)}function e0(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vl(r))).join(",")),e.Te=n}return e.Te}function t0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J_(t.startAt,e.startAt)&&J_(t.endAt,e.endAt)}function Mg(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Xj(t,e,n,r,s,a,l,u){return new kl(t,e,n,r,s,a,l,u)}function n0(t){return new kl(t)}function e1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DS(t){return t.collectionGroup!==null}function zc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Bt(cn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new lu(a,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new lu(cn.keyField(),r))}return e.Ie}function Cs(t){const e=Ne(t);return e.Ee||(e.Ee=Yj(e,zc(t))),e.Ee}function Yj(t,e){if(t.limitType==="F")return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new lu(s.field,a)}));const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vg(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xh(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return t0(Cs(t),Cs(e))&&t.limitType===e.limitType}function jS(t){return`${e0(Cs(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>PS(s))).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>vl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>vl(s))).join(",")),`Target(${r})`})(Cs(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of zc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const f=Y_(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,zc(r),s)||r.endAt&&!(function(l,u,d){const f=Y_(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,zc(r),s))})(t,e)}function Jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LS(t){return(e,n)=>{let r=!1;for(const s of zc(t)){const a=Zj(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Zj(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?yl(d,f):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new vt(we.comparator);function ui(){return eL}const MS=new vt(we.comparator);function Lc(...t){let e=MS;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=MS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ko(){return $c()}function OS(){return $c()}function $c(){return new ha((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tL=new vt(we.comparator),nL=new Bt(we.comparator);function Ue(...t){let e=nL;for(const n of t)e=e.add(n);return e}const rL=new Bt(Fe);function sL(){return rL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function US(t,e){return Nj(e)?FS(e):r0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function iL(t,e,n){return t instanceof cu?(function(s,a){const l={fields:{[_S]:{stringValue:xS},[ES]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Jy(a)&&(a=If(a)),a&&(l.fields[bS]=a),{mapValue:l}})(n,e):t instanceof uu?zS(t,e):t instanceof du?$S(t,e):(function(s,a){const l=BS(s,a),u=t1(l)+t1(s.Ae);return jg(l)&&jg(s.Ae)?FS(u):r0(s.serializer,u)})(t,e)}function oL(t,e,n){return t instanceof uu?zS(t,e):t instanceof du?$S(t,e):n}function BS(t,e){return t instanceof hu?(function(r){return jg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cu extends kf{}class uu extends kf{constructor(e){super(),this.elements=e}}function zS(t,e){const n=WS(e);for(const r of t.elements)n.some((s=>Ns(s,r)))||n.push(r);return{arrayValue:{values:n}}}class du extends kf{constructor(e){super(),this.elements=e}}function $S(t,e){let n=WS(e);for(const r of t.elements)n=n.filter((s=>!Ns(s,r)));return{arrayValue:{values:n}}}class hu extends kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function t1(t){return It(t.integerValue||t.doubleValue)}function WS(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.field=e,this.transform=n}}function aL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof uu&&s instanceof uu||r instanceof du&&s instanceof du?gl(r.elements,s.elements,Ns):r instanceof hu&&s instanceof hu?Ns(r.Ae,s.Ae):r instanceof cu&&s instanceof cu})(t.transform,e.transform)}class lL{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function HS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s0(t.key,Tr.none()):new Nu(t.key,t.data,Tr.none());{const n=t.data,r=Hn.empty();let s=new Bt(cn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new fo(t.key,r,new ar(s.toArray()),Tr.none())}}function cL(t,e,n){t instanceof Nu?(function(s,a,l){const u=s.value.clone(),d=r1(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof fo?(function(s,a,l){if(!Ih(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=r1(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(GS(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Wc(t,e,n,r){return t instanceof Nu?(function(a,l,u,d){if(!Ih(a.precondition,l))return u;const f=a.value.clone(),g=s1(a.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof fo?(function(a,l,u,d){if(!Ih(a.precondition,l))return u;const f=s1(a.fieldTransforms,d,l),g=l.data;return g.setAll(GS(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return Ih(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function uL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=BS(r.transform,s||null);a!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,a))}return n||null}function n1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gl(r,s,((a,l)=>aL(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fo extends Pf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function r1(t,e,n){const r=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,oL(l,u,n[s]))}return r}function s1(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,iL(a,l,e))}return r}class s0 extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dL extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&cL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OS();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const d=HS(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,r)=>n1(n,r)))&&gl(this.baseMutations,e.baseMutations,((n,r)=>n1(n,r)))}}class i0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return tL})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new i0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,qe;function mL(t){switch(t){case Z.OK:return Ce(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function KS(t){if(t===void 0)return ci("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Pt.OK:return Z.OK;case Pt.CANCELLED:return Z.CANCELLED;case Pt.UNKNOWN:return Z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Z.INTERNAL;case Pt.UNAVAILABLE:return Z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Z.NOT_FOUND;case Pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pt.ABORTED:return Z.ABORTED;case Pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pt.DATA_LOSS:return Z.DATA_LOSS;default:return Ce(39323,{code:t})}}(qe=Pt||(Pt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new Qi([4294967295,4294967295],0);function i1(t){const e=gL().encode(t),n=new aS;return n.update(e),new Uint8Array(n.digest())}function o1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([s,a],0)]}class o0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mc(`Invalid padding: ${n}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qi.fromNumber(r)));return s.compare(yL)===1&&(s=new Qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i1(e),[r,s]=o1(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new o0(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=i1(e),[r,s]=o1(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(Ae.min(),s,new vt(Fe),ui(),Ue())}}class Du{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class QS{constructor(e,n){this.targetId=e,this.Ce=n}}class XS{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class a1{constructor(){this.ve=0,this.Fe=l1(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:a})}})),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=l1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vL{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=oh(),this.He=oh(),this.Ye=new vt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Mg(a))if(r===0){const l=new we(a.path);this.et(n,l,bn.newNoDocument(l,Ae.min()))}else Je(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=eo(r).toUint8Array()}catch(d){if(d instanceof wS)return ml("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new o0(l,s,a)}catch(d){return ml(d instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Mg(u.target)){const d=new we(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,bn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ue();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Nf(e,n,this.Ye,this.je,r);return this.je=ui(),this.Je=oh(),this.He=oh(),this.Ye=new vt(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new a1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new vt(we.comparator)}function l1(){return new vt(we.comparator)}const wL={asc:"ASCENDING",desc:"DESCENDING"},xL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_L={and:"AND",or:"OR"};class bL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EL(t,e){return Yh(t,e.toTimestamp())}function Is(t){return Je(!!t,49232),Ae.fromTimestamp((function(n){const r=Zi(n);return new Xe(r.seconds,r.nanos)})(t))}function a0(t,e){return Fg(t,e).canonicalString()}function Fg(t,e){const n=(function(s){return new rt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function JS(t){const e=rt.fromString(t);return Je(rC(e),10190,{key:e.toString()}),e}function Ug(t,e){return a0(t.databaseId,e.path)}function zm(t,e){const n=JS(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(eC(n))}function ZS(t,e){return a0(t.databaseId,e)}function TL(t){const e=JS(t);return e.length===4?rt.emptyPath():eC(e)}function Bg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eC(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function c1(t,e,n){return{name:Ug(t,e),fields:n.value.mapValue.fields}}function SL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ce(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(Je(g===void 0||typeof g=="string",58123),un.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),un.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const g=f.code===void 0?Z.UNKNOWN:KS(f.code);return new ce(g,f.message||"")})(l);n=new XS(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zm(t,r.document.name),a=Is(r.document.updateTime),l=r.document.createTime?Is(r.document.createTime):Ae.min(),u=new Hn({mapValue:{fields:r.document.fields}}),d=bn.newFoundDocument(s,a,l,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Rh(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zm(t,r.document),a=r.readTime?Is(r.readTime):Ae.min(),l=bn.newNoDocument(s,a),u=r.removedTargetIds||[];n=new Rh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zm(t,r.document),a=r.removedTargetIds||[];n=new Rh([],a,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new pL(s,a),u=r.targetId;n=new QS(u,l)}}return n}function CL(t,e){let n;if(e instanceof Nu)n={update:c1(t,e.key,e.value)};else if(e instanceof s0)n={delete:Ug(t,e.key)};else if(e instanceof fo)n={update:c1(t,e.key,e.data),updateMask:LL(e.fieldMask)};else{if(!(e instanceof dL))return Ce(16599,{Vt:e.type});n={verify:Ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof cu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof du)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:EL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function IL(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Is(s.updateTime):Is(a);return l.isEqual(Ae.min())&&(l=Is(a)),new lL(l,s.transformResults||[])})(n,e)))):[]}function RL(t,e){return{documents:[ZS(t,e.path)]}}function AL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZS(t,s);const a=(function(f){if(f.length!==0)return nC(Qr.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(x){return{field:Za(x.field),direction:NL(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Og(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function kL(t){let e=TL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Je(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const x=tC(v);return x instanceof Qr&&AS(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((x=>(function(P){return new lu(el(P.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let x;return x=typeof v=="object"?v.value:v,Cf(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(v){const x=!!v.before,T=v.values||[];return new Qh(T,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const x=!v.before,T=v.values||[];return new Qh(T,x)})(n.endAt)),Xj(e,s,l,a,u,"F",d,f)}function PL(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=el(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=el(n.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(n.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dt.create(el(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((r=>tC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function NL(t){return wL[t]}function DL(t){return xL[t]}function jL(t){return _L[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return cn.fromServerFormat(t.fieldPath)}function nC(t){return t instanceof Dt?(function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:DL(n.op),value:n.value}}})(t):t instanceof Qr?(function(n){const r=n.getFilters().map((s=>nC(s)));return r.length===1?r[0]:{compositeFilter:{op:jL(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function LL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,s,a=Ae.min(),l=Ae.min(),u=un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.yt=e}}function VL(t){const e=kL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.Cn=new FL}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ji.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class FL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(rt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(sC,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LruGarbageCollector",UL=1048576;function h1([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class BL{constructor(e){this.Ir=e,this.buffer=new Bt(h1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(d1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?de(d1,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class $L{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Sf.ce);const r=new BL(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(u1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Ya()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function WL(t,e){return new $L(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Wc(r.mutation,s,ar.empty(),Xe.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const s=Ko();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=Lc();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=ui();const l=$c(),u=(function(){return $c()})();return n.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof fo)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Wc(g.mutation,f,g.mutation.getFieldMask(),Xe.now())):l.set(f.key,ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>u.set(f,new HL(g,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=$c();let s=new vt(((l,u)=>l-u)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=r.get(d)||ar.empty();g=u.applyToLocalView(f,g),r.set(d,g);const v=(s.get(u.batchId)||Ue()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,v=OS();g.forEach((x=>{if(!a.has(x)){const T=HS(n.get(x),r.get(x));T!==null&&v.set(x,T),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ee.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ee.resolve(Ko());let u=su,d=a;return l.next((f=>ee.forEach(f,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Ue()))).next((g=>({batchId:u,changes:VS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let s=Lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Lc();return this.indexManager.getCollectionParents(e,a).next((u=>ee.forEach(u,(d=>{const f=(function(v,x){return new kl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,bn.newInvalidDocument(g)))}));let u=Lc();return l.forEach(((d,f)=>{const g=a.get(d);g!==void 0&&Wc(g.mutation,f,ar.empty(),Xe.now()),Af(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Is(s.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:VL(s.bundledQuery),readTime:Is(s.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.overlays=new vt(we.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return ee.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=Ko(),a=n.length+1,l=new we(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new vt(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=Ko(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Ko(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=s)););return ee.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new fL(n,r));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Qr=new Bt(Kt.$r),this.Ur=new Bt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new we(new rt([])),r=new Kt(n,e),s=new Kt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new rt([])),r=new Kt(n,e),s=new Kt(n,e+1);let a=Ue();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hL(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Kt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Yy:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Fe);return n.forEach((s=>{const a=new Kt(s,0),l=new Kt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new Kt(new we(a),0);let u=new Bt(Fe);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(d.Yr)),!0)}),l),ee.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(s=>{const a=new Kt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),s=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.ri=e,this.docs=(function(){return new vt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():bn.newInvalidDocument(s))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ui();const l=n.path,u=new we(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Rj(Ij(g),r)<=0||(s.has(g.key)||Af(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZL(this)}getSize(e){return ee.resolve(this.size)}}class ZL extends qL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.persistence=e,this.si=new ha((n=>e0(n)),t0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new l0,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ee.waitFor(a).next((()=>s))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new XL,this.referenceDelegate=e(this),this.Pi=new eM(this),this.indexManager=new OL,this.remoteDocumentCache=(function(s){return new JL(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ML(n),this.Ii=new KL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new tM(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tM extends kj{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Ri=new l0,this.Vi=null}static mi(e){return new c0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const s=we.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.pi=new ha((r=>Dj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=WL(this,n)}static mi(e,n){return new Jh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?ee.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ae.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new u0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pP()?8:Pj(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new nM;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ya()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ya()<=Oe.DEBUG&&de("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ya()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):ee.resolve())}ys(e,n){if(e1(n))return ee.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Xh(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ue(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,u);return this.Cs(n,f,l,d.readTime)?this.ys(e,Xh(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,s){return e1(n)||s.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?ee.resolve(null):(Ya()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ja(n)),this.vs(e,l,n,Cj(s,su)).next((u=>u)))}))}Ds(e,n){let r=new Bt(LS(e));return n.forEach(((s,a)=>{Af(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Ya()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",sM=3e8;class iM{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new vt(Fe),this.xs=new ha((a=>e0(a)),t0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oM(t,e,n,r){return new iM(t,e,n,r)}async function oC(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=Ue();for(const f of s){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function aM(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const v=f.batch,x=v.keys();let T=ee.resolve();return x.forEach((P=>{T=T.next((()=>g.getEntry(d,P))).next((A=>{const C=f.docVersions.get(P);Je(C!==null,48541),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),g.addEntry(A)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Ue();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function aC(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lM(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const x=s.get(v);if(!x)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(A,C,L){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=sM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(x,T,g)&&u.push(n.Pi.updateTargetData(a,T))}));let d=ui(),f=Ue();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(cM(a,l,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(Ae.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return ee.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=s,a)))}function cM(t,e,n){let r=Ue(),s=Ue();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ui();return n.forEach(((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(d0,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function uM(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dM(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,ee.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Hi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function zg(t,e,n){const r=Ne(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Al(l))throw l;de(d0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function f1(t,e,n){const r=Ne(t);let s=Ae.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const v=Ne(d),x=v.xs.get(g);return x!==void 0?ee.resolve(v.Ms.get(x)):v.Pi.getTargetData(f,g)})(r,l,Cs(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ae.min(),n?a:Ue()))).next((u=>(hM(r,Jj(e),u),{documents:u,Qs:a})))))}function hM(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class p1{constructor(){this.activeTargetIds=sL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fM{constructor(){this.Mo=new p1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="ConnectivityMonitor";class g1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(m1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(m1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function $g(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",mM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=$g(),u=this.zo(e,n.toUriEncodedString());de($m,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:f}=new URL(u),g=oo(f);return this.Jo(e,u,d,r,g).then((v=>(de($m,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw ml($m,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=mM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class vM extends gM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=$g();return new Promise(((u,d)=>{const f=new lS;f.setWithCredentials(!0),f.listenOnce(cS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Th.NO_ERROR:const v=f.getResponseJson();de(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Th.TIMEOUT:de(xn,`RPC '${e}' ${l} timed out`),d(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const x=f.getStatus();if(de(xn,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T?.error;if(P&&P.status&&P.message){const A=(function(L){const j=L.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN})(P.status);d(new ce(A,P.message))}else d(new ce(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{de(xn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(xn,`RPC '${e}' ${l} sending request:`,s),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=$g(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hS(),u=dS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");de(xn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let x=!1,T=!1;const P=new yM({Yo:C=>{T?de(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(x||(de(xn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),de(xn,`RPC '${e}' stream ${s} sending:`,C),v.send(C))},Zo:()=>v.close()}),A=(C,L,j)=>{C.listen(L,(F=>{try{j(F)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(v,jc.EventType.OPEN,(()=>{T||(de(xn,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),A(v,jc.EventType.CLOSE,(()=>{T||(T=!0,de(xn,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(v))})),A(v,jc.EventType.ERROR,(C=>{T||(T=!0,ml(xn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),P.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),A(v,jc.EventType.MESSAGE,(C=>{if(!T){const L=C.data[0];Je(!!L,16349);const j=L,F=j?.error||j[0]?.error;if(F){de(xn,`RPC '${e}' stream ${s} received error:`,F);const $=F.status;let K=(function(I){const D=Pt[I];if(D!==void 0)return KS(D)})($),q=F.message;K===void 0&&(K=Z.INTERNAL,q="Unknown error status: "+$+" with message "+F.message),T=!0,P.a_(new ce(K,q)),v.close()}else de(xn,`RPC '${e}' stream ${s} received:`,L),P.u_(L)}})),A(u,uS.STAT_EVENT,(C=>{C.stat===Pg.PROXY?de(xn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Pg.NOPROXY&&de(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new bL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="PersistentStream";class cC{constructor(e,n,r,s,a,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wM extends cC{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SL(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Is(l.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Bg(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=Mg(d)?{documents:RL(a,d)}:{query:AL(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=YS(a,l.resumeToken);const f=Og(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ae.min())>0){u.readTime=Yh(a,l.snapshotVersion.toTimestamp());const f=Og(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=PL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Bg(this.serializer),n.removeTarget=e,this.q_(n)}}class xM extends cC{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IL(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>CL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{}class bM extends _M{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Fg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Z.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Fg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class TM{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{fa(this)&&(de(oa,"Restarting streams for network reachability change."),await(async function(d){const f=Ne(d);f.Ea.add(4),await ju(f),f.Ra.set("Unknown"),f.Ea.delete(4),await jf(f)})(this))}))})),this.Ra=new EM(r,s)}}async function jf(t){if(fa(t))for(const e of t.da)await e(!0)}async function ju(t){for(const e of t.da)await e(!1)}function uC(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),m0(n)?p0(n):Pl(n).O_()&&f0(n,e))}function h0(t,e){const n=Ne(t),r=Pl(n);n.Ia.delete(e),r.O_()&&dC(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function f0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Y_(e)}function dC(t,e){t.Va.Ue(e),Pl(t).Z_(e)}function p0(t){t.Va=new vL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Ra.ua()}function m0(t){return fa(t)&&!Pl(t).x_()&&t.Ia.size>0}function fa(t){return Ne(t).Ea.size===0}function hC(t){t.Va=void 0}async function SM(t){t.Ra.set("Online")}async function CM(t){t.Ia.forEach(((e,n)=>{f0(t,e)}))}async function IM(t,e){hC(t),m0(t)?(t.Ra.ha(e),p0(t)):t.Ra.set("Unknown")}async function RM(t,e,n){if(t.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){de(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof Rh?t.Va.Ze(e):e instanceof QS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await aC(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(un.EMPTY_BYTE_STRING,g.snapshotVersion)),dC(a,d);const v=new Hi(g.target,d,f,g.sequenceNumber);f0(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){de(oa,"Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!Al(e))throw e;t.Ea.add(1),await ju(t),t.Ra.set("Offline"),n||(n=()=>aC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jf(t)}))}function fC(t,e){return e().catch((n=>Zh(t,n,e)))}async function Lf(t){const e=Ne(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yy;for(;AM(e);)try{const s=await uM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,kM(e,s)}catch(s){await Zh(e,s)}pC(e)&&mC(e)}function AM(t){return fa(t)&&t.Ta.length<10}function kM(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pC(t){return fa(t)&&!no(t).x_()&&t.Ta.length>0}function mC(t){no(t).start()}async function PM(t){no(t).ra()}async function NM(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function DM(t,e,n){const r=t.Ta.shift(),s=i0.from(r,e,n);await fC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Lf(t)}async function jM(t,e){e&&no(t).X_&&await(async function(r,s){if((function(l){return mL(l)&&l!==Z.ABORTED})(s.code)){const a=r.Ta.shift();no(r).B_(),await fC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Lf(r)}})(t,e),pC(t)&&mC(t)}async function v1(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(oa,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await ju(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jf(n)}async function LM(t,e){const n=Ne(t);e?(n.Ea.delete(2),await jf(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function Pl(t){return t.ma||(t.ma=(function(n,r,s){const a=Ne(n);return a.sa(),new wM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:SM.bind(null,t),t_:CM.bind(null,t),r_:IM.bind(null,t),H_:RM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),m0(t)?p0(t):t.Ra.set("Unknown")):(await t.ma.stop(),hC(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,s){const a=Ne(n);return a.sa(),new xM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PM.bind(null,t),r_:jM.bind(null,t),ta:NM.bind(null,t),na:DM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lf(t)):(await t.fa.stop(),t.Ta.length>0&&(de(oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new g0(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(t,e){if(ci("AsyncQueue",`${e}: ${t}`),Al(t))return new ce(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ga=new vt(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xl{constructor(e,n,r,s,a,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new xl(e,n,dl.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VM{constructor(){this.queries=x1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ne(n),a=s.queries;s.queries=x1(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function x1(){return new ha((t=>jS(t)),Rf)}async function gC(t,e){const n=Ne(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new MM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=y0(l,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&v0(n)}async function yC(t,e){const n=Ne(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OM(t,e){const n=Ne(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&v0(n)}function FM(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function v0(t){t.Ca.forEach((e=>{e.next()}))}var Wg,_1;(_1=Wg||(Wg={})).Ma="default",_1.Cache="cache";class vC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.key=e}}class xC{constructor(e){this.key=e}}class UM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=LS(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new w1,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const x=s.get(g),T=Af(this.query,v)?v:null,P=!!x&&this.mutatedKeys.has(x.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;x&&T?x.data.isEqual(T.data)?P!==A&&(r.track({type:3,doc:T}),C=!0):this.su(x,T)||(r.track({type:2,doc:T}),C=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(u=!0)):!x&&T?(r.track({type:0,doc:T}),C=!0):x&&!T&&(r.track({type:1,doc:x}),C=!0,(d||f)&&(u=!0)),C&&(T?(l=l.add(T),a=A?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,P){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:C})}};return A(T)-A(P)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new xl(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w0="SyncEngine";class BM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zM{constructor(e){this.key=e,this.hu=!1}}class $M{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ha((u=>jS(u)),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new vt(we.comparator),this.Au=new Map,this.Ru=new l0,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WM(t,e,n=!0){const r=CC(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await _C(r,e,n,!0),s}async function qM(t,e){const n=CC(t);await _C(n,e,!0,!1)}async function _C(t,e,n,r){const s=await dM(t.localStore,Cs(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await HM(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&uC(t.remoteStore,s),u}async function HM(t,e,n,r,s){t.pu=(v,x,T)=>(async function(A,C,L,j){let F=C.view.ru(L);F.Cs&&(F=await f1(A.localStore,C.query,!1).then((({documents:R})=>C.view.ru(R,F))));const $=j&&j.targetChanges.get(C.targetId),K=j&&j.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(F,A.isPrimaryClient,$,K);return E1(A,C.targetId,q.au),q.snapshot})(t,v,x,T);const a=await f1(t.localStore,e,!0),l=new UM(e,a.Qs),u=l.ru(a.documents),d=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(u,t.isPrimaryClient,d);E1(t,n,f.au);const g=new BM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function GM(t,e,n){const r=Ne(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Rf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&h0(r.remoteStore,s.targetId),qg(r,s.targetId)})).catch(Rl)):(qg(r,s.targetId),await zg(r.localStore,s.targetId,!0))}async function KM(t,e){const n=Ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h0(n.remoteStore,r.targetId))}async function QM(t,e,n){const r=n6(t);try{const s=await(function(l,u){const d=Ne(l),f=Xe.now(),g=u.reduce(((T,P)=>T.add(P.key)),Ue());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let P=ui(),A=Ue();return d.Ns.getEntries(T,g).next((C=>{P=C,P.forEach(((L,j)=>{j.isValidDocument()||(A=A.add(L))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,P))).next((C=>{v=C;const L=[];for(const j of u){const F=uL(j,v.get(j.key).overlayedDocument);F!=null&&L.push(new fo(j.key,F,CS(F.value.mapValue),Tr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,L,u)})).next((C=>{x=C;const L=C.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(T,C.batchId,L)}))})).then((()=>({batchId:x.batchId,changes:VS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new vt(Fe)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,n),await Lu(r,s.changes),await Lf(r.remoteStore)}catch(s){const a=y0(s,"Failed to persist write");n.reject(a)}}async function bC(t,e){const n=Ne(t);try{const r=await lM(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Je(l.hu,14607):s.removedDocuments.size>0&&(Je(l.hu,42227),l.hu=!1))})),await Lu(n,r,e)}catch(r){await Rl(r)}}function b1(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ne(l);d.onlineState=u;let f=!1;d.queries.forEach(((g,v)=>{for(const x of v.Sa)x.va(u)&&(f=!0)})),f&&v0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XM(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new vt(we.comparator);l=l.insert(a,bn.newNoDocument(a,Ae.min()));const u=Ue().add(a),d=new Nf(Ae.min(),new Map,new vt(Fe),l,u);await bC(r,d),r.du=r.du.remove(a),r.Au.delete(e),x0(r)}else await zg(r.localStore,e,!1).then((()=>qg(r,e,n))).catch(Rl)}async function YM(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await aM(n.localStore,e);TC(n,r,null),EC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,s)}catch(s){await Rl(s)}}async function JM(t,e,n){const r=Ne(t);try{const s=await(function(l,u){const d=Ne(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((v=>(Je(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);TC(r,e,n),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,s)}catch(s){await Rl(s)}}function EC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function TC(t,e,n){const r=Ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||SC(t,r)}))}function SC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(h0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),x0(t))}function E1(t,e,n){for(const r of n)r instanceof wC?(t.Ru.addReference(r.key,e),ZM(t,r)):r instanceof xC?(de(w0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SC(t,r.key)):Ce(19791,{wu:r})}function ZM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(w0,"New document in limbo: "+n),t.Eu.add(r),x0(t))}function x0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new zM(n)),t.du=t.du.insert(n,r),uC(t.remoteStore,new Hi(Cs(n0(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function Lu(t,e,n){const r=Ne(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=u0.As(d.targetId,f);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,f){const g=Ne(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ee.forEach(f,(x=>ee.forEach(x.Es,(T=>g.persistence.referenceDelegate.addReference(v,x.targetId,T))).next((()=>ee.forEach(x.ds,(T=>g.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))))))}catch(v){if(!Al(v))throw v;de(d0,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const T=g.Ms.get(x),P=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(P);g.Ms=g.Ms.insert(x,A)}}})(r.localStore,a))}async function e6(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(w0,"User change. New user:",e.toKey());const r=await oC(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new ce(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function t6(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let s=Ue();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function CC(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XM.bind(null,e),e.Pu.H_=OM.bind(null,e.eventManager),e.Pu.yu=FM.bind(null,e.eventManager),e}function n6(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JM.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oM(this.persistence,new rM,e.initialUser,this.serializer)}Cu(e){return new iC(c0.mi,this.serializer)}Du(e){return new fM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class r6 extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new iC((r=>Jh.mi(r,n)),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e6.bind(null,this.syncEngine),await LM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VM})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=(function(a){return new vM(a)})(e.databaseInfo);return(function(a,l,u,d){return new bM(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new TM(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>b1(this.syncEngine,n,0)),(function(){return g1.v()?new g1:new pM})())}createSyncEngine(e,n){return(function(s,a,l,u,d,f,g){const v=new $M(s,a,l,u,d,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);de(oa,"RemoteStore shutting down."),r.Ea.add(5),await ju(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class s6{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=Xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{de(ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(t,e){t.asyncQueue.verifyOperationInProgress(),de(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await oC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function T1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i6(t);de(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>v1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>v1(e.remoteStore,s))),t._onlineComponents=e}async function i6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(ro,"Using user provided OfflineComponentProvider");try{await qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await qm(t,new ef)}}else de(ro,"Using default OfflineComponentProvider"),await qm(t,new r6(void 0));return t._offlineComponents}async function RC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(ro,"Using user provided OnlineComponentProvider"),await T1(t,t._uninitializedComponentsProvider._online)):(de(ro,"Using default OnlineComponentProvider"),await T1(t,new Hg))),t._onlineComponents}function o6(t){return RC(t).then((e=>e.syncEngine))}async function AC(t){const e=await RC(t),n=e.eventManager;return n.onListen=WM.bind(null,e.syncEngine),n.onUnlisten=GM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KM.bind(null,e.syncEngine),n}function a6(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const g=new IC({next:x=>{g.Nu(),l.enqueueAndForget((()=>yC(a,v)));const T=x.docs.has(u);!T&&x.fromCache?f.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?f.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new vC(n0(u.path),g,{includeMetadataChanges:!0,qa:!0});return gC(a,v)})(await AC(t),t.asyncQueue,e,n,r))),r.promise}function l6(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const g=new IC({next:x=>{g.Nu(),l.enqueueAndForget((()=>yC(a,v))),x.fromCache&&d.source==="server"?f.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new vC(u,g,{includeMetadataChanges:!0,qa:!0});return gC(a,v)})(await AC(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firestore.googleapis.com",C1=!0;class I1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PC,this.ssl=C1}else this.host=e.host,this.ssl=e.ssl??C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UL)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mj;switch(r.type){case"firstParty":return new wj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=S1.get(n);r&&(de("ComponentProvider","Removing Datastore"),S1.delete(n),r.terminate())})(this),Promise.resolve()}}function c6(t,e,n,r={}){t=Kr(t,Mf);const s=oo(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(ky(`https://${u}`),Py("Firestore",!0)),a.host!==PC&&a.host!==u&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:s,emulatorOptions:r};if(!Yi(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=_n.MOCK_USER;else{f=KE(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _n(v)}t._authCredentials=new gj(new pS(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,Rt._jsonSchema))return new Rt(e,r||null,new we(rt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:jt("string",Rt._jsonSchemaVersion),referencePath:jt("string")};class Xi extends po{constructor(e,n,r){super(e,n,n0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new we(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Sn(t,e,...n){if(t=ct(t),mS("collection","path",e),t instanceof Mf){const r=rt.fromString(e,...n);return U_(r),new Xi(t,null,r)}{if(!(t instanceof Rt||t instanceof Xi))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return U_(r),new Xi(t.firestore,null,r)}}function Lt(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Xy.newId()),mS("doc","path",e),t instanceof Mf){const r=rt.fromString(e,...n);return F_(r),new Rt(t,null,new we(r))}{if(!(t instanceof Rt||t instanceof Xi))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return F_(r),new Rt(t.firestore,t instanceof Xi?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class A1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lC(this,"async_queue_retry"),this._c=()=>{const r=Wm();r&&de(R1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;de(R1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",k1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=g0.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:k1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function k1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pa extends Mf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new A1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A1(e),this._firestoreClient=void 0,await e}}}function u6(t,e){const n=typeof t=="object"?t:vf(),r=typeof t=="string"?t:Gh,s=ao(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=qE("firestore");a&&c6(s,...a)}return s}function _0(t){if(t._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d6(t),t._firestoreClient}function d6(t){const e=t._freezeSettings(),n=(function(s,a,l,u){return new Mj(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new s6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(un.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:jt("string",br._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:jt("string",Rs._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:jt("string",As._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^__.*__$/;class f6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class NC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class b0{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DC(this.Ac)&&h6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Cc(e,n,r,s=!1){return new b0({Ac:e,methodName:n,Dc:r,path:cn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new p6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jC(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);S0("Data must be an object, but it was:",l,r);const u=LC(r,l);let d,f;if(a.merge)d=new ar(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const x=Gg(e,v,n);if(!l.contains(x))throw new ce(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);VC(g,x)||g.push(x)}d=new ar(g),f=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=l.fieldTransforms;return new f6(new Hn(u),d,f)}class Ff extends Mu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}class E0 extends Mu{_toFieldTransform(e){return new qS(e.path,new cu)}isEqual(e){return e instanceof E0}}class T0 extends Mu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new hu(e.serializer,US(e.serializer,this.Fc));return new qS(e.path,n)}isEqual(e){return e instanceof T0&&this.Fc===e.Fc}}function m6(t,e,n,r){const s=t.Cc(1,e,n);S0("Data must be an object, but it was:",s,r);const a=[],l=Hn.empty();ho(r,((d,f)=>{const g=C0(e,d,n);f=ct(f);const v=s.yc(g);if(f instanceof Ff)a.push(g);else{const x=Vu(f,v);x!=null&&(a.push(g),l.set(g,x))}}));const u=new ar(a);return new NC(l,u,s.fieldTransforms)}function g6(t,e,n,r,s,a){const l=t.Cc(1,e,n),u=[Gg(e,r,n)],d=[s];if(a.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(Gg(e,a[x])),d.push(a[x+1]);const f=[],g=Hn.empty();for(let x=u.length-1;x>=0;--x)if(!VC(f,u[x])){const T=u[x];let P=d[x];P=ct(P);const A=l.yc(T);if(P instanceof Ff)f.push(T);else{const C=Vu(P,A);C!=null&&(f.push(T),g.set(T,C))}}const v=new ar(f);return new NC(g,v,l.fieldTransforms)}function y6(t,e,n,r=!1){return Vu(n,t.Cc(r?4:3,e))}function Vu(t,e){if(MC(t=ct(t)))return S0("Unsupported field value:",e,t),LC(t,e);if(t instanceof Mu)return(function(r,s){if(!DC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let d=Vu(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return US(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:Yh(s.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(s.serializer,a)}}if(r instanceof Rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:YS(s.serializer,r._byteString)};if(r instanceof Rt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:a0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof As)return(function(l,u){return{mapValue:{fields:{[TS]:{stringValue:SS},[Kh]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return r0(u.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Tf(r)}`)})(t,e)}function LC(t,e){const n={};return vS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,((r,s)=>{const a=Vu(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function MC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Rs||t instanceof br||t instanceof Rt||t instanceof Mu||t instanceof As)}function S0(t,e,n){if(!MC(n)||!gS(n)){const r=Tf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Gg(t,e,n){if((e=ct(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return C0(t,e);throw tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const v6=new RegExp("[~\\*/\\[\\]]");function C0(t,e,n){if(e.search(v6)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ce(Z.INVALID_ARGUMENT,u+t+d)}function VC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w6 extends OC{data(){return super.data()}}function Uf(t,e){return typeof e=="string"?C0(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class R0 extends I0{}function Xr(t,e,...n){let r=[];e instanceof I0&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof A0)).length,u=a.filter((d=>d instanceof Bf)).length;if(l>1||l>0&&u>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Bf extends R0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return FC(e._query,n),new po(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=Of(e.firestore);return(function(a,l,u,d,f,g,v){let x;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){N1(v,g);const P=[];for(const A of v)P.push(P1(d,a,A));x={arrayValue:{values:P}}}else x=P1(d,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||N1(v,g),x=y6(u,l,v,g==="in"||g==="not-in");return Dt.create(f,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(t,e,n){const r=e,s=Uf("where",t);return Bf._create(s,r,n)}class A0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new A0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)FC(l,d),l=Vg(l,d)})(e._query,n),new po(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends R0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k0(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(a,l)})(e._query,this._field,this._direction);return new po(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new kl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function zf(t,e="asc"){const n=e,r=Uf("orderBy",t);return k0._create(r,n)}class P0 extends R0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new P0(e,n,r)}_apply(e){return new po(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function _6(t){return P0._create("limit",t,"F")}function P1(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!we.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K_(t,new we(r))}if(n instanceof Rt)return K_(t,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function N1(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FC(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b6{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Kh].arrayValue?.values?.map((r=>It(r.doubleValue)));return new As(n)}convertGeoPoint(e){return new Rs(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=If(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Je(rC(r),9688,{name:e});const s=new ou(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(n)||ci(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yo extends OC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yo._jsonSchema={type:jt("string",Yo._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Ah extends Yo{data(e={}){return super.data(e)}}class hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Ah(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Vc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Ah(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Vc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:E6(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){t=Kr(t,Rt);const e=Kr(t.firestore,pa);return a6(_0(e),t._key).then((n=>T6(e,t,n)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:jt("string",hl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class BC extends b6{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Ar(t){t=Kr(t,po);const e=Kr(t.firestore,pa),n=_0(e),r=new BC(e);return x6(t._query),l6(n,t._query).then((s=>new hl(e,r,t,s)))}function zC(t,e,n){t=Kr(t,Rt);const r=Kr(t.firestore,pa),s=UC(t.converter,e,n);return $f(r,[jC(Of(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function Ou(t,e,n,...r){t=Kr(t,Rt);const s=Kr(t.firestore,pa),a=Of(s);let l;return l=typeof(e=ct(e))=="string"||e instanceof Vf?g6(a,"updateDoc",t._key,e,n,r):m6(a,"updateDoc",t._key,e),$f(s,[l.toMutation(t._key,Tr.exists(!0))])}function N0(t){return $f(Kr(t.firestore,pa),[new s0(t._key,Tr.none())])}function ma(t,e){const n=Kr(t.firestore,pa),r=Lt(t),s=UC(t.converter,e);return $f(n,[jC(Of(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function $f(t,e){return(function(r,s){const a=new si;return r.asyncQueue.enqueueAndForget((async()=>QM(await o6(r),s,a))),a.promise})(_0(t),e)}function T6(t,e,n){const r=n.docs.get(e._key),s=new BC(t);return new Yo(t,s,e._key,r,new Vc(n.hasPendingWrites,n.fromCache),e.converter)}function nf(){return new E0("serverTimestamp")}function S6(t){return new T0("increment",t)}(function(e,n=!0){(function(s){Il=s})(da),Gr(new Ir("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new pa(new yj(r.getProvider("auth-internal")),new xj(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(f.options.projectId,g)})(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Kn(L_,M_,e),Kn(L_,M_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebasestorage.googleapis.com",WC="storageBucket",C6=120*1e3,I6=600*1e3,R6=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends kr{constructor(e,n,r=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Hm(t){return"storage/"+t}function D0(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(ut.UNKNOWN,t)}function A6(t){return new wt(ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k6(t){return new wt(ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(ut.UNAUTHENTICATED,t)}function N6(){return new wt(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D6(t){return new wt(ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qC(){return new wt(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HC(){return new wt(ut.CANCELED,"User canceled the upload/download.")}function j6(t){return new wt(ut.INVALID_URL,"Invalid URL '"+t+"'.")}function L6(t){return new wt(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function M6(){return new wt(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WC+"' property when initializing the app?")}function GC(){return new wt(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V6(){return new wt(ut.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function O6(){return new wt(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function F6(t){return new wt(ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kg(t){return new wt(ut.INVALID_ARGUMENT,t)}function KC(){return new wt(ut.APP_DELETED,"The Firebase app was deleted.")}function U6(t){return new wt(ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qc(t,e){return new wt(ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rc(t){throw new wt(ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(r.path==="")return r;throw L6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),P={bucket:1,path:3},A=n===$C?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",L=new RegExp(`^https?://${A}/${s}/${C}`,"i"),F=[{regex:u,indices:d,postModify:a},{regex:T,indices:P,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<F.length;$++){const K=F[$],q=K.regex.exec(e);if(q){const R=q[K.indices.bucket];let I=q[K.indices.path];I||(I=""),r=new cr(R,I),K.postModify(r);break}}if(r==null)throw j6(e);return r}}class B6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function d(){return u===2}let f=!1;function g(...C){f||(f=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,t(T,d())},C)}function x(){a&&clearTimeout(a)}function T(C,...L){if(f){x();return}if(C){x(),g.call(null,C,...L);return}if(d()||l){x(),g.call(null,C,...L);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let P=!1;function A(C){P||(P=!0,x(),!f&&(s!==null?(C||(u=2),clearTimeout(s),v(0)):C||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,A(!0)},n),A}function $6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){return t!==void 0}function q6(t){return typeof t=="function"}function H6(t){return typeof t=="object"&&!Array.isArray(t)}function Wf(t){return typeof t=="string"||t instanceof String}function D1(t){return j0()&&t instanceof Blob}function j0(){return typeof Blob<"u"}function j1(t,e,n,r){if(r<e)throw Kg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Kg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Jo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jo||(Jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,s,a,l,u,d,f,g,v,x=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,A)=>{this.resolve_=P,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new lh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Jo.NO_ERROR,d=a.getStatus();if(!u||XC(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Jo.ABORT;r(!1,new lh(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new lh(f,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());W6(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=D0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?KC():HC();l(d)}else{const d=qC();l(d)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=z6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function K6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Q6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function X6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Y6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function J6(t,e,n,r,s,a,l=!0,u=!1){const d=QC(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return X6(g,e),K6(g,n),Q6(g,a),Y6(g,r),new G6(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eV(...t){const e=Z6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(j0())return new Blob(t);throw new wt(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(typeof atob>"u")throw F6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,n){this.data=e,this.contentType=n||null}}function rV(t,e){switch(t){case Ts.RAW:return new Gm(YC(e));case Ts.BASE64:case Ts.BASE64URL:return new Gm(JC(t,e));case Ts.DATA_URL:return new Gm(iV(e),oV(e))}throw D0()}function YC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sV(t){let e;try{e=decodeURIComponent(t)}catch{throw qc(Ts.DATA_URL,"Malformed data URL.")}return YC(e)}function JC(t,e){switch(t){case Ts.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw qc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ts.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw qc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nV(e)}catch(s){throw s.message.includes("polyfill")?s:qc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ZC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qc(Ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iV(t){const e=new ZC(t);return e.base64?JC(Ts.BASE64,e.rest):sV(e.rest)}function oV(t){return new ZC(t).contentType}function aV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){let r=0,s="";D1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(D1(this.data_)){const r=this.data_,s=tV(r,e,n);return s===null?null:new qi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qi(r,!0)}}static getBlob(...e){if(j0()){const n=e.map(r=>r instanceof qi?r.data_:r);return new qi(eV.apply(null,n))}else{const n=e.map(l=>Wf(l)?rV(Ts.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new qi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){let e;try{e=JSON.parse(t)}catch{return null}return H6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){return e}class Nn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||uV}}let ch=null;function dV(t){return!Wf(t)||t.length<2?t:tI(t)}function nI(){if(ch)return ch;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));function e(a,l){return dV(l)}const n=new Nn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new Nn("size");return s.xform=r,t.push(s),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),ch=t,ch}function hV(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new cr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function fV(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return hV(r,t),r}function rI(t,e,n){const r=eI(e);return r===null?null:fV(t,r,n)}function pV(t,e,n,r){const s=eI(e);if(s===null||!Wf(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const g=t.bucket,v=t.fullPath,x="/b/"+l(g)+"/o/"+l(v),T=Fu(x,n,r),P=QC({alt:"media",token:f});return T+P})[0]}function sI(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Nl{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){if(!t)throw D0()}function L0(t,e){function n(r,s){const a=rI(t,s,e);return ii(a!==null),a}return n}function mV(t,e){function n(r,s){const a=rI(t,s,e);return ii(a!==null),pV(a,s,t.host,t._protocol)}return n}function Uu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=N6():s=P6():n.getStatus()===402?s=k6(t.bucket):n.getStatus()===403?s=D6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function iI(t){const e=Uu(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=A6(t.path)),a.serverResponse=s.serverResponse,a}return n}function gV(t,e,n){const r=e.fullServerUrl(),s=Fu(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new Nl(s,a,L0(t,n),l);return u.errorHandler=iI(e),u}function yV(t,e,n){const r=e.fullServerUrl(),s=Fu(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new Nl(s,a,mV(t,n),l);return u.errorHandler=iI(e),u}function vV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vV(null,e)),r}function wV(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let $=0;$<2;$++)F=F+Math.random().toString().slice(2);return F}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=oI(e,r,s),g=sI(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,x=`\r
--`+d+"--",T=qi.getBlob(v,r,x);if(T===null)throw GC();const P={name:f.fullPath},A=Fu(a,t.host,t._protocol),C="POST",L=t.maxUploadRetryTime,j=new Nl(A,C,L0(t,n),L);return j.urlParams=P,j.headers=l,j.body=T.uploadData(),j.errorHandler=Uu(e),j}class rf{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function M0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ii(!1)}return ii(!!n&&(e||["active"]).indexOf(n)!==-1),n}function xV(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l=oI(e,r,s),u={name:l.fullPath},d=Fu(a,t.host,t._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},v=sI(l,n),x=t.maxUploadRetryTime;function T(A){M0(A);let C;try{C=A.getResponseHeader("X-Goog-Upload-URL")}catch{ii(!1)}return ii(Wf(C)),C}const P=new Nl(d,f,T,x);return P.urlParams=u,P.headers=g,P.body=v,P.errorHandler=Uu(e),P}function _V(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function a(f){const g=M0(f,["active","final"]);let v=null;try{v=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ii(!1)}v||ii(!1);const x=Number(v);return ii(!isNaN(x)),new rf(x,r.size(),g==="final")}const l="POST",u=t.maxUploadRetryTime,d=new Nl(n,l,a,u);return d.headers=s,d.errorHandler=Uu(e),d}const L1=256*1024;function bV(t,e,n,r,s,a,l,u){const d=new rf(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw V6();const f=d.total-d.current;let g=f;s>0&&(g=Math.min(g,s));const v=d.current,x=v+g;let T="";g===0?T="finalize":f===g?T="upload, finalize":T="upload";const P={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${d.current}`},A=r.slice(v,x);if(A===null)throw GC();function C($,K){const q=M0($,["active","final"]),R=d.current+g,I=r.size();let D;return q==="final"?D=L0(e,a)($,K):D=null,new rf(R,I,q==="final",D)}const L="POST",j=e.maxUploadRetryTime,F=new Nl(n,L,C,j);return F.headers=P,F.body=A.uploadData(),F.progressCallback=u||null,F.errorHandler=Uu(t),F}const Wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Km(t){switch(t){case"running":case"pausing":case"canceling":return Wn.RUNNING;case"paused":return Wn.PAUSED;case"success":return Wn.SUCCESS;case"canceled":return Wn.CANCELED;case"error":return Wn.ERROR;default:return Wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r){if(q6(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class TV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Rc("cannot .send() more than once");if(oo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SV extends TV{initXhr(){this.xhr_.responseType="text"}}function tl(){return new SV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=nI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(ut.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(XC(s.status,[]))if(a)s=qC();else{this.sleepTime=Math.max(this.sleepTime*2,R6),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(ut.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=xV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,tl,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=_V(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,tl,n,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=L1*this._chunkMultiplier,n=new rf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let l;try{l=bV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const u=this._ref.storage._makeRequest(l,tl,s,a,!1);this._request=u,u.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){L1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=gV(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,tl,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=wV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,tl,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=HC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Km(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const a=new EV(n||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Km(this._state)){case Wn.SUCCESS:Xa(this._resolve.bind(null,this.snapshot))();break;case Wn.CANCELED:case Wn.ERROR:const n=this._reject;Xa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Km(this._state)){case Wn.RUNNING:case Wn.PAUSED:e.next&&Xa(e.next.bind(e,this.snapshot))();break;case Wn.SUCCESS:e.complete&&Xa(e.complete.bind(e))();break;case Wn.CANCELED:case Wn.ERROR:e.error&&Xa(e.error.bind(e,this._error))();break;default:e.error&&Xa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new aa(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tI(this._location.path)}get storage(){return this._service}get parent(){const e=lV(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw U6(e)}}function IV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new CV(t,new qi(e),n)}function RV(t){t._throwIfRoot("getDownloadURL");const e=yV(t.storage,t._location,nI());return t.storage.makeRequestWithTokens(e,tl).then(n=>{if(n===null)throw O6();return n})}function AV(t,e){const n=cV(t._location.path,e),r=new cr(t._location.bucket,n);return new aa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return/^[A-Za-z]+:\/\//.test(t)}function PV(t,e){return new aa(t,e)}function aI(t,e){if(t instanceof V0){const n=t;if(n._bucket==null)throw M6();const r=new aa(n,n._bucket);return e!=null?aI(r,e):r}else return e!==void 0?AV(t,e):t}function NV(t,e){if(e&&kV(e)){if(t instanceof V0)return PV(t,e);throw Kg("To use ref(service, url), the first argument must be a Storage instance.")}else return aI(t,e)}function M1(t,e){const n=e?.[WC];return n==null?null:cr.makeFromBucketSpec(n,t)}function DV(t,e,n,r={}){t.host=`${e}:${n}`;const s=oo(e);s&&(ky(`https://${t.host}/b`),Py("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:KE(a,t.app.options.projectId))}class V0{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=$C,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C6,this._maxUploadRetryTime=I6,this._requests=new Set,s!=null?this._bucket=cr.makeFromBucketSpec(s,this._host):this._bucket=M1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=M1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new B6(KC());{const l=J6(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const V1="@firebase/storage",O1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="storage";function jV(t,e,n){return t=ct(t),IV(t,e,n)}function LV(t){return t=ct(t),RV(t)}function MV(t,e){return t=ct(t),NV(t,e)}function VV(t=vf(),e){t=ct(t);const r=ao(t,lI).getImmediate({identifier:e}),s=qE("storage");return s&&OV(r,...s),r}function OV(t,e,n,r={}){DV(t,e,n,r)}function FV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new V0(n,r,s,e,da)}function UV(){Gr(new Ir(lI,FV,"PUBLIC").setMultipleInstances(!0)),Kn(V1,O1,""),Kn(V1,O1,"esm2020")}UV();const BV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},qf=tT(BV);JD(qf);const Qe=fj(qf),We=u6(qf),zV=VV(qf),cI=new Zs,O0=E.createContext({});function F0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const U0=typeof window<"u",uI=U0?E.useLayoutEffect:E.useEffect,Hf=E.createContext(null);function B0(t,e){t.indexOf(e)===-1&&t.push(e)}function z0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const di=(t,e,n)=>n>e?e:n<t?t:n;let $0=()=>{};const hi={},dI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hI(t){return typeof t=="object"&&t!==null}const fI=t=>/^0[^.\s]+$/u.test(t);function W0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sr=t=>t,$V=(t,e)=>n=>e(t(n)),Bu=(...t)=>t.reduce($V),fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class q0{constructor(){this.subscriptions=[]}add(e){return B0(this.subscriptions,e),()=>z0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ks=t=>t*1e3,Er=t=>t/1e3;function pI(t,e){return e?t*(1e3/e):0}const mI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WV=1e-7,qV=12;function HV(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=mI(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>WV&&++u<qV);return l}function zu(t,e,n,r){if(t===e&&n===r)return Sr;const s=a=>HV(a,0,1,t,n);return a=>a===0||a===1?a:mI(s(a),e,r)}const gI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yI=t=>e=>1-t(1-e),vI=zu(.33,1.53,.69,.99),H0=yI(vI),wI=gI(H0),xI=t=>(t*=2)<1?.5*H0(t):.5*(2-Math.pow(2,-10*(t-1))),G0=t=>1-Math.sin(Math.acos(t)),_I=yI(G0),bI=gI(G0),GV=zu(.42,0,1,1),KV=zu(0,0,.58,1),EI=zu(.42,0,.58,1),QV=t=>Array.isArray(t)&&typeof t[0]!="number",TI=t=>Array.isArray(t)&&typeof t[0]=="number",XV={linear:Sr,easeIn:GV,easeInOut:EI,easeOut:KV,circIn:G0,circInOut:bI,circOut:_I,backIn:H0,backInOut:wI,backOut:vI,anticipate:xI},YV=t=>typeof t=="string",F1=t=>{if(TI(t)){$0(t.length===4);const[e,n,r,s]=t;return zu(e,n,r,s)}else if(YV(t))return XV[t];return t},uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(f.schedule(g),t()),g(u)}const f={schedule:(g,v=!1,x=!1)=>{const P=x&&s?n:r;return v&&l.add(g),P.has(g)||P.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,f.process(g))}};return f}const ZV=40;function SI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=uh.reduce((F,$)=>(F[$]=JV(a),F),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:g,update:v,preRender:x,render:T,postRender:P}=l,A=()=>{const F=hi.useManualTiming?s.timestamp:performance.now();n=!1,hi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,ZV),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),d.process(s),f.process(s),g.process(s),v.process(s),x.process(s),T.process(s),P.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},C=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:uh.reduce((F,$)=>{const K=l[$];return F[$]=(q,R=!1,I=!1)=>(n||C(),K.schedule(q,R,I)),F},{}),cancel:F=>{for(let $=0;$<uh.length;$++)l[uh[$]].cancel(F)},state:s,steps:l}}const{schedule:ft,cancel:so,state:sn,steps:Qm}=SI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let kh;function eO(){kh=void 0}const Gn={now:()=>(kh===void 0&&Gn.set(sn.isProcessing||hi.useManualTiming?sn.timestamp:performance.now()),kh),set:t=>{kh=t,queueMicrotask(eO)}},CI=t=>e=>typeof e=="string"&&e.startsWith(t),K0=CI("--"),tO=CI("var(--"),Q0=t=>tO(t)?nO.test(t.split("/*")[0].trim()):!1,nO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pu={...Dl,transform:t=>di(0,1,t)},dh={...Dl,default:1},Hc=t=>Math.round(t*1e5)/1e5,X0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rO(t){return t==null}const sO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y0=(t,e)=>n=>!!(typeof n=="string"&&sO.test(n)&&n.startsWith(t)||e&&!rO(n)&&Object.prototype.hasOwnProperty.call(n,e)),II=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(X0);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},iO=t=>di(0,255,t),Xm={...Dl,transform:t=>Math.round(iO(t))},Qo={test:Y0("rgb","red"),parse:II("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xm.transform(t)+", "+Xm.transform(e)+", "+Xm.transform(n)+", "+Hc(pu.transform(r))+")"};function oO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Qg={test:Y0("#"),parse:oO,transform:Qo.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=$u("deg"),Ps=$u("%"),Ie=$u("px"),aO=$u("vh"),lO=$u("vw"),U1={...Ps,parse:t=>Ps.parse(t)/100,transform:t=>Ps.transform(t*100)},nl={test:Y0("hsl","hue"),parse:II("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ps.transform(Hc(e))+", "+Ps.transform(Hc(n))+", "+Hc(pu.transform(r))+")"},Nt={test:t=>Qo.test(t)||Qg.test(t)||nl.test(t),parse:t=>Qo.test(t)?Qo.parse(t):nl.test(t)?nl.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qo.transform(t):nl.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},cO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uO(t){return isNaN(t)&&typeof t=="string"&&(t.match(X0)?.length||0)+(t.match(cO)?.length||0)>0}const RI="number",AI="color",dO="var",hO="var(",B1="${}",fO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(fO,d=>(Nt.test(d)?(r.color.push(a),s.push(AI),n.push(Nt.parse(d))):d.startsWith(hO)?(r.var.push(a),s.push(dO),n.push(d)):(r.number.push(a),s.push(RI),n.push(parseFloat(d))),++a,B1)).split(B1);return{values:n,split:u,indexes:r,types:s}}function kI(t){return mu(t).values}function PI(t){const{split:e,types:n}=mu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===RI?a+=Hc(s[l]):u===AI?a+=Nt.transform(s[l]):a+=s[l]}return a}}const pO=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function mO(t){const e=kI(t);return PI(t)(e.map(pO))}const io={test:uO,parse:kI,createTransformer:PI,getAnimatableNone:mO};function Ym(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=Ym(d,u,t+1/3),a=Ym(d,u,t),l=Ym(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sf(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,Jm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},yO=[Qg,Qo,nl],vO=t=>yO.find(e=>e.test(t));function z1(t){const e=vO(t);if(!e)return!1;let n=e.parse(t);return e===nl&&(n=gO(n)),n}const $1=(t,e)=>{const n=z1(t),r=z1(e);if(!n||!r)return sf(t,e);const s={...n};return a=>(s.red=Jm(n.red,r.red,a),s.green=Jm(n.green,r.green,a),s.blue=Jm(n.blue,r.blue,a),s.alpha=yt(n.alpha,r.alpha,a),Qo.transform(s))},Xg=new Set(["none","hidden"]);function wO(t,e){return Xg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xO(t,e){return n=>yt(t,e,n)}function J0(t){return typeof t=="number"?xO:typeof t=="string"?Q0(t)?sf:Nt.test(t)?$1:EO:Array.isArray(t)?NI:typeof t=="object"?Nt.test(t)?$1:_O:sf}function NI(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>J0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function _O(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=J0(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function bO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const EO=(t,e)=>{const n=io.createTransformer(e),r=mu(t),s=mu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Xg.has(t)&&!s.values.length||Xg.has(e)&&!r.values.length?wO(t,e):Bu(NI(bO(r,s),s.values),n):sf(t,e)};function DI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):J0(t)(t,e)}const TO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>so(e),now:()=>sn.isProcessing?sn.timestamp:Gn.now()}},jI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},of=2e4;function Z0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<of;)e+=n,r=t.next(e);return e>=of?1/0:e}function SO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Z0(r),of);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Er(s)}}const CO=5;function LI(t,e,n){const r=Math.max(e-CO,0);return pI(n-t(r),e-r)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zm=.001;function IO({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:r=bt.mass}){let s,a,l=1-e;l=di(bt.minDamping,bt.maxDamping,l),t=di(bt.minDuration,bt.maxDuration,Er(t)),l<1?(s=f=>{const g=f*l,v=g*t,x=g-n,T=Yg(f,l),P=Math.exp(-v);return Zm-x/T*P},a=f=>{const v=f*l*t,x=v*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,P=Math.exp(-v),A=Yg(Math.pow(f,2),l);return(-s(f)+Zm>0?-1:1)*((x-T)*P)/A}):(s=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Zm+g*v},a=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const u=5/t,d=AO(s,a,u);if(t=ks(t),isNaN(d))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const RO=12;function AO(t,e,n){let r=n;for(let s=1;s<RO;s++)r=r-t(r)/e(r);return r}function Yg(t,e){return t*Math.sqrt(1-e*e)}const kO=["duration","bounce"],PO=["stiffness","damping","mass"];function W1(t,e){return e.some(n=>t[n]!==void 0)}function NO(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!W1(t,PO)&&W1(t,kO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:bt.mass,stiffness:s,damping:a}}else{const n=IO(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function af(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:f,mass:g,duration:v,velocity:x,isResolvedFromDuration:T}=NO({...n,velocity:-Er(n.velocity||0)}),P=x||0,A=f/(2*Math.sqrt(d*g)),C=l-a,L=Er(Math.sqrt(d/g)),j=Math.abs(C)<5;r||(r=j?bt.restSpeed.granular:bt.restSpeed.default),s||(s=j?bt.restDelta.granular:bt.restDelta.default);let F;if(A<1){const K=Yg(L,A);F=q=>{const R=Math.exp(-A*L*q);return l-R*((P+A*L*C)/K*Math.sin(K*q)+C*Math.cos(K*q))}}else if(A===1)F=K=>l-Math.exp(-L*K)*(C+(P+L*C)*K);else{const K=L*Math.sqrt(A*A-1);F=q=>{const R=Math.exp(-A*L*q),I=Math.min(K*q,300);return l-R*((P+A*L*C)*Math.sinh(I)+K*C*Math.cosh(I))/K}}const $={calculatedDuration:T&&v||null,next:K=>{const q=F(K);if(T)u.done=K>=v;else{let R=K===0?P:0;A<1&&(R=K===0?ks(P):LI(F,K,q));const I=Math.abs(R)<=r,D=Math.abs(l-q)<=s;u.done=I&&D}return u.value=u.done?l:q,u},toString:()=>{const K=Math.min(Z0($),of),q=jI(R=>$.next(K*R).value,K,30);return K+"ms "+q},toTransition:()=>{}};return $}af.applyToOptions=t=>{const e=SO(t,100,af);return t.ease=e.ease,t.duration=ks(e.duration),t.type="keyframes",t};function Jg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},T=I=>u!==void 0&&I<u||d!==void 0&&I>d,P=I=>u===void 0?d:d===void 0||Math.abs(u-I)<Math.abs(d-I)?u:d;let A=n*e;const C=v+A,L=l===void 0?C:l(C);L!==C&&(A=L-v);const j=I=>-A*Math.exp(-I/r),F=I=>L+j(I),$=I=>{const D=j(I),M=F(I);x.done=Math.abs(D)<=f,x.value=x.done?L:M};let K,q;const R=I=>{T(x.value)&&(K=I,q=af({keyframes:[x.value,P(x.value)],velocity:LI(F,I,x.value),damping:s,stiffness:a,restDelta:f,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let D=!1;return!q&&K===void 0&&(D=!0,$(I),R(I)),K!==void 0&&I>=K?q.next(I-K):(!D&&$(I),x)}}}function DO(t,e,n){const r=[],s=n||hi.mix||DI,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Sr:e;u=Bu(d,u)}r.push(u)}return r}function jO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if($0(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=DO(e,r,s),d=u.length,f=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=fu(t[v],t[v+1],g);return u[v](x)};return n?g=>f(di(t[0],t[a-1],g)):f}function LO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fu(0,e,r);t.push(yt(n,1,s))}}function MO(t){const e=[0];return LO(e,t.length-1),e}function VO(t,e){return t.map(n=>n*e)}function OO(t,e){return t.map(()=>e||EI).splice(0,t.length-1)}function Gc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=QV(r)?r.map(F1):F1(r),a={done:!1,value:e[0]},l=VO(n&&n.length===e.length?n:MO(e),t),u=jO(l,e,{ease:Array.isArray(s)?s:OO(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const FO=t=>t!==null;function ev(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(FO),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const UO={decay:Jg,inertia:Jg,tween:Gc,keyframes:Gc,spring:af};function MI(t){typeof t.type=="string"&&(t.type=UO[t.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const BO=t=>t/100;class nv extends tv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MI(e);const{type:n=Gc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const d=n||Gc;d!==Gc&&typeof u[0]!="number"&&(this.mixKeyframes=Bu(BO,DI(u[0],u[1])),u=[0,100]);const f=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Z0(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:T,type:P,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?L<0:L>s;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,$=r;if(v){const I=Math.min(this.currentTime,s)/u;let D=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(x==="reverse"?(M=1-M,T&&(M-=T/u)):x==="mirror"&&($=l)),F=di(0,1,M)*u}const K=j?{done:!1,value:g[0]}:$.next(F);a&&(K.value=a(K.value));let{done:q}=K;!j&&d!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return R&&P!==Jg&&(K.value=ev(g,this.options,C,this.speed)),A&&A(K.value),R&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Er(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Er(e)}get time(){return Er(this.currentTime)}set time(e){e=ks(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Er(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=TO,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function zO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xo=t=>t*180/Math.PI,Zg=t=>{const e=Xo(Math.atan2(t[1],t[0]));return ey(e)},$O={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zg,rotateZ:Zg,skewX:t=>Xo(Math.atan(t[1])),skewY:t=>Xo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ey=t=>(t=t%360,t<0&&(t+=360),t),q1=Zg,H1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),G1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:H1,scaleY:G1,scale:t=>(H1(t)+G1(t))/2,rotateX:t=>ey(Xo(Math.atan2(t[6],t[5]))),rotateY:t=>ey(Xo(Math.atan2(-t[2],t[0]))),rotateZ:q1,rotate:q1,skewX:t=>Xo(Math.atan(t[4])),skewY:t=>Xo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ty(t){return t.includes("scale")?1:0}function ny(t,e){if(!t||t==="none")return ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=WO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$O,s=u}if(!s)return ty(e);const a=r[e],l=s[1].split(",").map(HO);return typeof a=="function"?a(l):l[a]}const qO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ny(n,e)};function HO(t){return parseFloat(t.trim())}const jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ll=new Set(jl),K1=t=>t===Dl||t===Ie,GO=new Set(["x","y","z"]),KO=jl.filter(t=>!GO.has(t));function QO(t){const e=[];return KO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ny(e,"x"),y:(t,{transform:e})=>ny(e,"y")};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const ea=new Set;let ry=!1,sy=!1,iy=!1;function VI(){if(sy){const t=Array.from(ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=QO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sy=!1,ry=!1,ea.forEach(t=>t.complete(iy)),ea.clear()}function OI(){ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function XO(){iy=!0,OI(),VI(),iy=!1}class rv{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),ry||(ry=!0,ft.read(OI),ft.resolveKeyframes(VI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}zO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YO=t=>t.startsWith("--");function JO(t,e,n){YO(e)?t.style.setProperty(e,n):t.style[e]=n}const ZO=W0(()=>window.ScrollTimeline!==void 0),e3={};function t3(t,e){const n=W0(t);return()=>e3[e]??n()}const FI=t3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Q1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oc([0,.65,.55,1]),circOut:Oc([.55,0,1,.45]),backIn:Oc([.31,.01,.66,-.59]),backOut:Oc([.33,1.53,.69,.99])};function UI(t,e){if(t)return typeof t=="function"?FI()?jI(t,e):"ease-out":TI(t)?Oc(t):Array.isArray(t)?t.map(n=>UI(n,e)||Q1.easeOut):Q1[t]}function n3(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const g={[e]:n};d&&(g.offset=d);const v=UI(u,s);Array.isArray(v)&&(g.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(g,x)}function BI(t){return typeof t=="function"&&"applyToOptions"in t}function r3({type:t,...e}){return BI(t)&&FI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class s3 extends tv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,$0(typeof e.type!="string");const f=r3(e);this.animation=n3(n,r,s,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=ev(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):JO(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Er(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Er(e)}get time(){return Er(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ks(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ZO()?(this.animation.timeline=e,Sr):n(this)}}const zI={anticipate:xI,backInOut:wI,circInOut:bI};function i3(t){return t in zI}function o3(t){typeof t.ease=="string"&&i3(t.ease)&&(t.ease=zI[t.ease])}const X1=10;class a3 extends s3{constructor(e){o3(e),MI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new nv({...l,autoplay:!1}),d=ks(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-X1).value,u.sample(d).value,X1),u.stop()}}const Y1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function l3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c3(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Y1(s,e),u=Y1(a,e);return!l||!u?!1:l3(t)||(n==="spring"||BI(n))&&r}function oy(t){t.duration=0,t.type="keyframes"}const u3=new Set(["opacity","clipPath","filter","transform"]),d3=W0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h3(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return d3()&&n&&u3.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const f3=40;class p3 extends tv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:f,element:g,...v},T=g?.KeyframeResolver||rv;this.keyframeResolver=new T(u,(P,A,C)=>this.onKeyframesResolved(P,A,x,!C),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Gn.now(),c3(e,a,l,u)||((hi.instantAnimations||!d)&&g?.(ev(e,r,n)),e[0]=e[e.length-1],oy(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>f3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!f&&h3(x)?new a3({...x,element:x.motionValue.owner.current}):new nv(x);T.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),XO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g3(t){const e=m3.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function $I(t,e,n=1){const[r,s]=g3(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return dI(l)?parseFloat(l):l}return Q0(s)?$I(s,e,n+1):s}function sv(t,e){return t?.[e]??t?.default??t}const WI=new Set(["width","height","top","left","right","bottom",...jl]),y3={test:t=>t==="auto",parse:t=>t},qI=t=>e=>e.test(t),HI=[Dl,Ie,Ps,Ui,lO,aO,y3],J1=t=>HI.find(qI(t));function v3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fI(t):!0}const w3=new Set(["brightness","contrast","saturate","opacity"]);function x3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(X0)||[];if(!r)return t;const s=n.replace(r,"");let a=w3.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const _3=/\b([a-z-]*)\(.*?\)/gu,ay={...io,getAnimatableNone:t=>{const e=t.match(_3);return e?e.map(x3).join(" "):t}},Z1={...Dl,transform:Math.round},b3={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:dh,scaleX:dh,scaleY:dh,scaleZ:dh,skew:Ui,skewX:Ui,skewY:Ui,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:pu,originX:U1,originY:U1,originZ:Ie},iv={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...b3,zIndex:Z1,fillOpacity:pu,strokeOpacity:pu,numOctaves:Z1},E3={...iv,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:ay,WebkitFilter:ay},GI=t=>E3[t];function KI(t,e){let n=GI(t);return n!==ay&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T3=new Set(["auto","none","0"]);function S3(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!T3.has(a)&&mu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=KI(n,s)}class C3 extends rv{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Q0(f))){const g=$I(f,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!WI.has(r)||e.length!==2)return;const[s,a]=e,l=J1(s),u=J1(a);if(l!==u)if(K1(l)&&K1(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Zo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||v3(e[s]))&&r.push(s);r.length&&S3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Zo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function I3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const QI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function XI(t){return hI(t)&&"offsetHeight"in t}const eb=30,R3=t=>!isNaN(parseFloat(t));class A3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Gn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new q0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,eb);return pI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new A3(t,e)}const{schedule:ov}=SI(queueMicrotask,!1),Wr={x:!1,y:!1};function YI(){return Wr.x||Wr.y}function k3(t){return t==="x"||t==="y"?Wr[t]?null:(Wr[t]=!0,()=>{Wr[t]=!1}):Wr.x||Wr.y?null:(Wr.x=Wr.y=!0,()=>{Wr.x=Wr.y=!1})}function JI(t,e){const n=I3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function tb(t){return!(t.pointerType==="touch"||YI())}function P3(t,e,n={}){const[r,s,a]=JI(t,n),l=u=>{if(!tb(u))return;const{target:d}=u,f=e(d,u);if(typeof f!="function"||!d)return;const g=v=>{tb(v)&&(f(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const ZI=(t,e)=>e?t===e?!0:ZI(t,e.parentElement):!1,av=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D3(t){return N3.has(t.tagName)||t.tabIndex!==-1}const Ph=new WeakSet;function nb(t){return e=>{e.key==="Enter"&&t(e)}}function eg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=nb(()=>{if(Ph.has(n))return;eg(n,"down");const s=nb(()=>{eg(n,"up")}),a=()=>eg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rb(t){return av(t)&&!YI()}function L3(t,e,n={}){const[r,s,a]=JI(t,n),l=u=>{const d=u.currentTarget;if(!rb(u))return;Ph.add(d);const f=e(d,u),g=(T,P)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Ph.has(d)&&Ph.delete(d),rb(T)&&typeof f=="function"&&f(T,{success:P})},v=T=>{g(T,d===window||d===document||n.useGlobalTarget||ZI(d,T.target))},x=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),XI(u)&&(u.addEventListener("focus",f=>j3(f,s)),!D3(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function e2(t){return hI(t)&&"ownerSVGElement"in t}function M3(t){return e2(t)&&t.tagName==="svg"}const En=t=>!!(t&&t.getVelocity),V3=[...HI,Nt,io],O3=t=>V3.find(qI(t)),lv=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F3(...t){return e=>{let n=!1;const r=t.map(s=>{const a=sb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():sb(t[s],null)}}}}function U3(...t){return E.useCallback(F3(...t),t)}class B3 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=XI(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function z3({children:t,isPresent:e,anchorX:n,root:r}){const s=E.useId(),a=E.useRef(null),l=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=E.useContext(lv),d=U3(a,t?.ref);return E.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:x,right:T}=l.current;if(e||!a.current||!f||!g)return;const P=n==="left"?`left: ${x}`:`right: ${T}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const C=r??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${P}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[e]),m.jsx(B3,{isPresent:e,childRef:a,sizeRef:l,children:E.cloneElement(t,{ref:d})})}const $3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:d})=>{const f=F0(W3),g=E.useId();let v=!0,x=E.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{f.set(T,!0);for(const P of f.values())if(!P)return;r&&r()},register:T=>(f.set(T,!1),()=>f.delete(T))}),[n,f,r]);return a&&v&&(x={...x}),E.useMemo(()=>{f.forEach((T,P)=>f.set(P,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(z3,{isPresent:n,anchorX:u,root:d,children:t})),m.jsx(Hf.Provider,{value:x,children:t})};function W3(){return new Map}function t2(t=!0){const e=E.useContext(Hf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const l=E.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const hh=t=>t.key||"";function ib(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const la=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,g]=t2(l),v=E.useMemo(()=>ib(t),[t]),x=l&&!f?[]:v.map(hh),T=E.useRef(!0),P=E.useRef(v),A=F0(()=>new Map),[C,L]=E.useState(v),[j,F]=E.useState(v);uI(()=>{T.current=!1,P.current=v;for(let q=0;q<j.length;q++){const R=hh(j[q]);x.includes(R)?A.delete(R):A.get(R)!==!0&&A.set(R,!1)}},[j,x.length,x.join("-")]);const $=[];if(v!==C){let q=[...v];for(let R=0;R<j.length;R++){const I=j[R],D=hh(I);x.includes(D)||(q.splice(R,0,I),$.push(I))}return a==="wait"&&$.length&&(q=$),F(ib(q)),L(v),null}const{forceRender:K}=E.useContext(O0);return m.jsx(m.Fragment,{children:j.map(q=>{const R=hh(q),I=l&&!f?!1:v===j||x.includes(R),D=()=>{if(A.has(R))A.set(R,!0);else return;let M=!0;A.forEach(O=>{O||(M=!1)}),M&&(K?.(),F(P.current),l&&g?.(),r&&r())};return m.jsx($3,{isPresent:I,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:d,onExitComplete:I?void 0:D,anchorX:u,children:q},R)})})},n2=E.createContext({strict:!1}),ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in ob)bl[t]={isEnabled:e=>ob[t].some(n=>!!e[n])};function q3(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const H3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H3.has(t)}let r2=t=>!lf(t);function G3(t){typeof t=="function"&&(r2=e=>e.startsWith("on")?!lf(e):t(e))}try{G3(require("@emotion/is-prop-valid").default)}catch{}function K3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(r2(s)||n===!0&&lf(s)||!e&&!lf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Gf=E.createContext({});function Kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gu(t){return typeof t=="string"||Array.isArray(t)}const cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...cv];function Qf(t){return Kf(t.animate)||uv.some(e=>gu(t[e]))}function s2(t){return!!(Qf(t)||t.variants)}function Q3(t,e){if(Qf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gu(n)?n:void 0,animate:gu(r)?r:void 0}}return t.inherit!==!1?e:{}}function X3(t){const{initial:e,animate:n}=Q3(t,E.useContext(Gf));return E.useMemo(()=>({initial:e,animate:n}),[ab(e),ab(n)])}function ab(t){return Array.isArray(t)?t.join(" "):t}const yu={};function Y3(t){for(const e in t)yu[e]=t[e],K0(e)&&(yu[e].isCSSVariable=!0)}function i2(t,{layout:e,layoutId:n}){return Ll.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yu[t]||t==="opacity")}const J3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z3=jl.length;function eF(t,e,n){let r="",s=!0;for(let a=0;a<Z3;a++){const l=jl[a],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=QI(u,iv[l]);if(!d){s=!1;const g=J3[l]||l;r+=`${g}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function dv(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const d in e){const f=e[d];if(Ll.has(d)){l=!0;continue}else if(K0(d)){s[d]=f;continue}else{const g=QI(f,iv[d]);d.startsWith("origin")?(u=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=eF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${f} ${g}`}}const hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o2(t,e,n){for(const r in e)!En(e[r])&&!i2(r,n)&&(t[r]=e[r])}function tF({transformTemplate:t},e){return E.useMemo(()=>{const n=hv();return dv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nF(t,e){const n=t.style||{},r={};return o2(r,n,t),Object.assign(r,tF(t,e)),r}function rF(t,e){const n={},r=nF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sF={offset:"stroke-dashoffset",array:"stroke-dasharray"},iF={offset:"strokeDashoffset",array:"strokeDasharray"};function oF(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?sF:iF;t[a.offset]=Ie.transform(-r);const l=Ie.transform(e),u=Ie.transform(n);t[a.array]=`${l} ${u}`}function a2(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,g){if(dv(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&oF(v,s,a,l,!1)}const l2=()=>({...hv(),attrs:{}}),c2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aF(t,e,n,r){const s=E.useMemo(()=>{const a=l2();return a2(a,e,c2(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};o2(a,t.style,t),s.style={...a,...s.style}}return s}const lF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(t){return typeof t!="string"||t.includes("-")?!1:!!(lF.indexOf(t)>-1||/[A-Z]/u.test(t))}function cF(t,e,n,{latestValues:r},s,a=!1){const u=(fv(t)?aF:rF)(e,r,s,t),d=K3(e,typeof t=="string",a),f=t!==E.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=E.useMemo(()=>En(g)?g.get():g,[g]);return E.createElement(t,{...f,children:v})}function lb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function pv(t,e,n,r){if(typeof e=="function"){const[s,a]=lb(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=lb(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Nh(t){return En(t)?t.get():t}function uF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:dF(n,r,s,t),renderState:e()}}function dF(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=Nh(a[x]);let{initial:l,animate:u}=t;const d=Qf(t),f=s2(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Kf(v)){const x=Array.isArray(v)?v:[v];for(let T=0;T<x.length;T++){const P=pv(t,x[T]);if(P){const{transitionEnd:A,transition:C,...L}=P;for(const j in L){let F=L[j];if(Array.isArray(F)){const $=g?F.length-1:0;F=F[$]}F!==null&&(s[j]=F)}for(const j in A)s[j]=A[j]}}}return s}const u2=t=>(e,n)=>{const r=E.useContext(Gf),s=E.useContext(Hf),a=()=>uF(t,e,r,s);return n?a():F0(a)};function mv(t,e,n){const{style:r}=t,s={};for(const a in r)(En(r[a])||e.style&&En(e.style[a])||i2(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const hF=u2({scrapeMotionValuesFromProps:mv,createRenderState:hv});function d2(t,e,n){const r=mv(t,e,n);for(const s in t)if(En(t[s])||En(e[s])){const a=jl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const fF=u2({scrapeMotionValuesFromProps:d2,createRenderState:l2}),pF=Symbol.for("motionComponentSymbol");function rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mF(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rl(n)&&(n.current=r))},[e])}const gv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gF="framerAppearId",h2="data-"+gv(gF),f2=E.createContext({});function yF(t,e,n,r,s){const{visualElement:a}=E.useContext(Gf),l=E.useContext(n2),u=E.useContext(Hf),d=E.useContext(lv).reducedMotion,f=E.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,v=E.useContext(f2);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&vF(f.current,n,s,v);const x=E.useRef(!1);E.useInsertionEffect(()=>{g&&x.current&&g.update(n,u)});const T=n[h2],P=E.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return uI(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),P.current&&g.animationState&&g.animationState.animateChanges())}),E.useEffect(()=>{g&&(!P.current&&g.animationState&&g.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),P.current=!1),g.enteringChildren=void 0)}),g}function vF(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p2(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&rl(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:f})}function p2(t){if(t)return t.options.allowProjection!==!1?t.projection:p2(t.parent)}function tg(t,{forwardMotionProps:e=!1}={},n,r){n&&q3(n);const s=fv(t)?fF:hF;function a(u,d){let f;const g={...E.useContext(lv),...u,layoutId:wF(u)},{isStatic:v}=g,x=X3(u),T=s(u,v);if(!v&&U0){xF();const P=_F(g);f=P.MeasureLayout,x.visualElement=yF(t,T,g,r,P.ProjectionNode)}return m.jsxs(Gf.Provider,{value:x,children:[f&&x.visualElement?m.jsx(f,{visualElement:x.visualElement,...g}):null,cF(t,u,mF(T,x.visualElement,d),T,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(a);return l[pF]=t,l}function wF({layoutId:t}){const e=E.useContext(O0).id;return e&&t!==void 0?e+"-"+t:t}function xF(t,e){E.useContext(n2).strict}function _F(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function bF(t,e){if(typeof Proxy>"u")return tg;const n=new Map,r=(a,l)=>tg(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,tg(l,void 0,t,e)),n.get(l))})}function m2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ng(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!ng(t)||!ng(e)||!ng(n)}function qo(t){return ly(t)||g2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g2(t){return cb(t.x)||cb(t.y)}function cb(t){return t&&t!=="0%"}function cf(t,e,n){const r=t-n,s=e*r;return n+s}function ub(t,e,n,r,s){return s!==void 0&&(t=cf(t,s,r)),cf(t,n,r)+e}function cy(t,e=0,n=1,r,s){t.min=ub(t.min,e,n,r,s),t.max=ub(t.max,e,n,r,s)}function y2(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const db=.999999999999,hb=1.0000000000001;function SF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&il(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,y2(t,l)),r&&qo(a.latestValues)&&il(t,a.latestValues))}e.x<hb&&e.x>db&&(e.x=1),e.y<hb&&e.y>db&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function fb(t,e,n,r,s=.5){const a=yt(t.min,t.max,s);cy(t,e,n,a,r)}function il(t,e){fb(t.x,e.x,e.scaleX,e.scale,e.originX),fb(t.y,e.y,e.scaleY,e.scale,e.originY)}function v2(t,e){return m2(TF(t.getBoundingClientRect(),e))}function CF(t,e,n){const r=v2(t,n),{scroll:s}=e;return s&&(sl(r.x,s.offset.x),sl(r.y,s.offset.y)),r}const pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:pb(),y:pb()}),mb=()=>({min:0,max:0}),Ct=()=>({x:mb(),y:mb()}),uy={current:null},w2={current:!1};function IF(){if(w2.current=!0,!!U0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uy.current=t.matches;t.addEventListener("change",e),e()}else uy.current=!1}const RF=new WeakMap;function AF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(En(s))t.addValue(r,s);else if(En(a))t.addValue(r,_l(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,_l(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Gn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ft.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Qf(n),this.isVariantNode=s2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const T=v[x];d[x]!==void 0&&En(T)&&T.set(d[x])}}mount(e){this.current=e,RF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),w2.current||IF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ll.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gb.length;r++){const s=gb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=AF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dI(r)||fI(r))?r=parseFloat(r):!O3(r)&&io.test(n)&&(r=KI(e,n)),this.setBaseTarget(e,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=pv(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!En(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new q0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ov.render(this.render)}}class x2 extends kF{constructor(){super(...arguments),this.KeyframeResolver=C3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _2(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function PF(t){return window.getComputedStyle(t)}class NF extends x2{constructor(){super(...arguments),this.type="html",this.renderInstance=_2}readValueFromInstance(e,n){if(Ll.has(n))return this.projection?.isProjecting?ty(n):qO(e,n);{const r=PF(e),s=(K0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return v2(e,n)}build(e,n,r){dv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mv(e,n,r)}}const b2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DF(t,e,n,r){_2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(b2.has(s)?s:gv(s),e.attrs[s])}class jF extends x2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ll.has(n)){const r=GI(n);return r&&r.default||0}return n=b2.has(n)?n:gv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return d2(e,n,r)}build(e,n,r){a2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){DF(e,n,r,s)}mount(e){this.isSVGTag=c2(e.tagName),super.mount(e)}}const LF=(t,e)=>fv(t)?new jF(e):new NF(e,{allowProjection:t!==E.Fragment});function fl(t,e,n){const r=t.getProps();return pv(r,e,n!==void 0?n:r.custom,t)}const dy=t=>Array.isArray(t);function MF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function VF(t){return dy(t)?t[t.length-1]||0:t}function OF(t,e){const n=fl(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=VF(a[l]);MF(t,l,u)}}function FF(t){return!!(En(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(FF(n))return n.add(e);if(!n&&hi.WillChange){const r=new hi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function E2(t){return t.props[h2]}const UF=t=>t!==null;function BF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(UF),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const zF={type:"spring",stiffness:500,damping:25,restSpeed:10},$F=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WF={type:"keyframes",duration:.8},qF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HF=(t,{keyframes:e})=>e.length>2?WF:Ll.has(t)?t.startsWith("scale")?$F(e[1]):zF:qF;function GF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const yv=(t,e,n,r={},s,a)=>l=>{const u=sv(r,t)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ks(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};GF(u)||Object.assign(g,HF(t,g)),g.duration&&(g.duration=ks(g.duration)),g.repeatDelay&&(g.repeatDelay=ks(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(oy(g),g.delay===0&&(v=!0)),(hi.instantAnimations||hi.skipAnimations)&&(v=!0,oy(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const x=BF(g.keyframes,u);if(x!==void 0){ft.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new nv(g):new p3(g)};function KF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function T2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||f&&KF(f,g))continue;const T={delay:n,...sv(a||{},g)},P=v.get();if(P!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===P&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const L=E2(t);if(L){const j=window.MotionHandoffAnimation(L,g,ft);j!==null&&(T.startTime=j,A=!0)}}hy(t,g),v.start(yv(g,v,x,t.shouldReduceMotion&&WI.has(g)?{type:!1}:T,t,A));const C=v.animation;C&&d.push(C)}return l&&Promise.all(d).then(()=>{ft.update(()=>{l&&OF(t,l)})}),d}function S2(t,e,n,r=0,s=1){const a=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}function fy(t,e,n={}){const r=fl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(T2(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=s;return QF(t,e,d,f,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,f]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function QF(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(fy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+S2(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function XF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>fy(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=fy(t,e,n);else{const s=typeof e=="function"?fl(t,e,n.custom):e;r=Promise.all(T2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function C2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const YF=uv.length;function I2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?I2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<YF;n++){const r=uv[n],s=t.props[r];(gu(s)||s===!1)&&(e[r]=s)}return e}const JF=[...cv].reverse(),ZF=cv.length;function eU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>XF(t,n,r)))}function tU(t){let e=eU(t),n=yb(),r=!0;const s=d=>(f,g)=>{const v=fl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:T,...P}=v;f={...f,...P,...T}}return f};function a(d){e=d(t)}function l(d){const{props:f}=t,g=I2(t.parent)||{},v=[],x=new Set;let T={},P=1/0;for(let C=0;C<ZF;C++){const L=JF[C],j=n[L],F=f[L]!==void 0?f[L]:g[L],$=gu(F),K=L===d?j.isActive:null;K===!1&&(P=C);let q=F===g[L]&&F!==f[L]&&$;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),j.protectedKeys={...T},!j.isActive&&K===null||!F&&!j.prevProp||Kf(F)||typeof F=="boolean")continue;const R=nU(j.prevProp,F);let I=R||L===d&&j.isActive&&!q&&$||C>P&&$,D=!1;const M=Array.isArray(F)?F:[F];let O=M.reduce(s(L),{});K===!1&&(O={});const{prevResolvedValues:U={}}=j,N={...U,...O},ge=ye=>{I=!0,x.has(ye)&&(D=!0,x.delete(ye)),j.needsAnimating[ye]=!0;const re=t.getValue(ye);re&&(re.liveStyle=!1)};for(const ye in N){const re=O[ye],le=U[ye];if(T.hasOwnProperty(ye))continue;let ae=!1;dy(re)&&dy(le)?ae=!C2(re,le):ae=re!==le,ae?re!=null?ge(ye):x.add(ye):re!==void 0&&x.has(ye)?ge(ye):j.protectedKeys[ye]=!0}j.prevProp=F,j.prevResolvedValues=O,j.isActive&&(T={...T,...O}),r&&t.blockInitialAnimation&&(I=!1);const Ze=q&&R;I&&(!Ze||D)&&v.push(...M.map(ye=>{const re={type:L};if(typeof ye=="string"&&r&&!Ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,ae=fl(le,ye);if(le.enteringChildren&&ae){const{delayChildren:W}=ae.transition||{};re.delay=S2(le.enteringChildren,t,W)}}return{animation:ye,options:re}}))}if(x.size){const C={};if(typeof f.initial!="boolean"){const L=fl(t,Array.isArray(f.initial)?f.initial[0]:f.initial);L&&L.transition&&(C.transition=L.transition)}x.forEach(L=>{const j=t.getBaseTarget(L),F=t.getValue(L);F&&(F.liveStyle=!0),C[L]=j??null}),v.push({animation:C})}let A=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),n[d].isActive=f;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=yb()}}}function nU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!C2(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yb(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rU extends mo{constructor(e){super(e),e.animationState||(e.animationState=tU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sU=0;class iU extends mo{constructor(){super(...arguments),this.id=sU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const oU={animation:{Feature:rU},exit:{Feature:iU}};function vu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const aU=t=>e=>av(e)&&t(e,Wu(e));function Kc(t,e,n,r){return vu(t,e,aU(n),r)}const R2=1e-4,lU=1-R2,cU=1+R2,A2=.01,uU=0-A2,dU=0+A2;function Dn(t){return t.max-t.min}function hU(t,e,n){return Math.abs(t-e)<=n}function vb(t,e,n,r=.5){t.origin=r,t.originPoint=yt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lU&&t.scale<=cU||isNaN(t.scale))&&(t.scale=1),(t.translate>=uU&&t.translate<=dU||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,r){vb(t.x,e.x,n.x,r?r.originX:void 0),vb(t.y,e.y,n.y,r?r.originY:void 0)}function wb(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function fU(t,e,n){wb(t.x,e.x,n.x),wb(t.y,e.y,n.y)}function xb(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Xc(t,e,n){xb(t.x,e.x,n.x),xb(t.y,e.y,n.y)}function xr(t){return[t("x"),t("y")]}const k2=({current:t})=>t?t.ownerDocument.defaultView:null,_b=(t,e)=>Math.abs(t-e);function pU(t,e){const n=_b(t.x,e.x),r=_b(t.y,e.y);return Math.sqrt(n**2+r**2)}class P2{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=sg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,P=pU(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!P)return;const{point:A}=x,{timestamp:C}=sn;this.history.push({...A,timestamp:C});const{onStart:L,onMove:j}=this.handlers;T||(L&&L(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,x)},this.handlePointerMove=(x,T)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=rg(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(x,T)=>{this.end();const{onEnd:P,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=sg(x.type==="pointercancel"?this.lastMoveEventInfo:rg(T,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,L),A&&A(x,L)},!av(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Wu(e),d=rg(u,this.transformPagePoint),{point:f}=d,{timestamp:g}=sn;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,sg(d,this.history)),this.removeListeners=Bu(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function rg(t,e){return e?{point:e(t.point)}:t}function bb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sg({point:t},e){return{point:t,delta:bb(t,N2(e)),offset:bb(t,mU(e)),velocity:gU(e,.1)}}function mU(t){return t[0]}function N2(t){return t[t.length-1]}function gU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=N2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ks(e)));)n--;if(!r)return{x:0,y:0};const a=Er(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function yU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yt(n,t,r.max):Math.min(t,n)),t}function Eb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vU(t,{top:e,left:n,bottom:r,right:s}){return{x:Eb(t.x,n,s),y:Eb(t.y,e,r)}}function Tb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wU(t,e){return{x:Tb(t.x,e.x),y:Tb(t.y,e.y)}}function xU(t,e){let n=.5;const r=Dn(t),s=Dn(e);return s>r?n=fu(e.min,e.max-r,t.min):r>s&&(n=fu(t.min,t.max-s,e.min)),di(0,1,n)}function _U(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function bU(t=py){return t===!1?t=0:t===!0&&(t=py),{x:Sb(t,"left","right"),y:Sb(t,"top","bottom")}}function Sb(t,e,n){return{min:Cb(t,e),max:Cb(t,n)}}function Cb(t,e){return typeof t=="number"?t:t[e]||0}const EU=new WeakMap;class TU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(v).point)},l=(v,x)=>{const{drag:T,dragPropagation:P,onDragStart:A}=this.getProps();if(T&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k3(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(L=>{let j=this.getAxisMotionValue(L).get()||0;if(Ps.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[L];$&&(j=Dn($)*(parseFloat(j)/100))}}this.originPoint[L]=j}),A&&ft.postRender(()=>A(v,x)),hy(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:T,dragDirectionLock:P,onDirectionLock:A,onDrag:C}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:L}=x;if(P&&this.currentDirection===null){this.currentDirection=SU(L),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",x.point,L),this.updateAxis("y",x.point,L),this.visualElement.render(),C&&C(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>xr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new P2(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:k2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ft.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!fh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=yU(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=vU(r.layoutBox,e):this.constraints=!1,this.elastic=bU(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_U(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=CF(r,s.root,this.visualElement.getTransformPagePoint());let l=wU(s.layout.layoutBox,a);if(n){const u=n(EF(l));this.hasMutatedConstraints=!!u,u&&(l=m2(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=xr(g=>{if(!fh(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const x=s?200:1e6,T=s?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,P)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hy(this.visualElement,e),r.start(yv(e,r,0,n,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xr(n=>{const{drag:r}=this.getProps();if(!fh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-yt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=xU({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xr(l=>{if(!fh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(yt(d,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;EU.set(this.visualElement,this);const e=this.visualElement.current,n=Kc(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();rl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ft.read(r);const l=vu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(xr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=py,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function SU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CU extends mo{constructor(e){super(e),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new TU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ib=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class IU extends mo{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(e){this.session=new P2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ib(e),onStart:Ib(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ft.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ac={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=Rb(t,e.target.x),r=Rb(t,e.target.y);return`${n}% ${r}%`}},RU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=io.parse(t);if(s.length>5)return r;const a=io.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const f=yt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};let ig=!1;class AU extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Y3(kU),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),ig&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,ig=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ft.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ov.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;ig=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function D2(t){const[e,n]=t2(),r=E.useContext(O0);return m.jsx(AU,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(f2),isPresent:e,safeToRemove:n})}const kU={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:RU};function PU(t,e,n){const r=En(t)?t:_l(t);return r.start(yv("",r,e,n)),r.animation}const NU=(t,e)=>t.depth-e.depth;class DU{constructor(){this.children=[],this.isDirty=!1}add(e){B0(this.children,e),this.isDirty=!0}remove(e){z0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NU),this.isDirty=!1,this.children.forEach(e)}}function jU(t,e){const n=Gn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(so(r),t(a-e))};return ft.setup(r,!0),()=>so(r)}const j2=["TopLeft","TopRight","BottomLeft","BottomRight"],LU=j2.length,Ab=t=>typeof t=="string"?parseFloat(t):t,kb=t=>typeof t=="number"||Ie.test(t);function MU(t,e,n,r,s,a){s?(t.opacity=yt(0,n.opacity??1,VU(r)),t.opacityExit=yt(e.opacity??1,0,OU(r))):a&&(t.opacity=yt(e.opacity??1,n.opacity??1,r));for(let l=0;l<LU;l++){const u=`border${j2[l]}Radius`;let d=Pb(e,u),f=Pb(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||kb(d)===kb(f)?(t[u]=Math.max(yt(Ab(d),Ab(f),r),0),(Ps.test(f)||Ps.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,r))}function Pb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VU=L2(0,.5,_I),OU=L2(.5,.95,Sr);function L2(t,e,n){return r=>r<t?0:r>e?1:n(fu(t,e,r))}function Nb(t,e){t.min=e.min,t.max=e.max}function wr(t,e){Nb(t.x,e.x),Nb(t.y,e.y)}function Db(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function jb(t,e,n,r,s){return t-=e,t=cf(t,1/n,r),s!==void 0&&(t=cf(t,1/s,r)),t}function FU(t,e=0,n=1,r=.5,s,a=t,l=t){if(Ps.test(e)&&(e=parseFloat(e),e=yt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=yt(a.min,a.max,r);t===a&&(u-=e),t.min=jb(t.min,e,n,u,s),t.max=jb(t.max,e,n,u,s)}function Lb(t,e,[n,r,s],a,l){FU(t,e[n],e[r],e[s],e.scale,a,l)}const UU=["x","scaleX","originX"],BU=["y","scaleY","originY"];function Mb(t,e,n,r){Lb(t.x,e,UU,n?n.x:void 0,r?r.x:void 0),Lb(t.y,e,BU,n?n.y:void 0,r?r.y:void 0)}function Vb(t){return t.translate===0&&t.scale===1}function M2(t){return Vb(t.x)&&Vb(t.y)}function Ob(t,e){return t.min===e.min&&t.max===e.max}function zU(t,e){return Ob(t.x,e.x)&&Ob(t.y,e.y)}function Fb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V2(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function Ub(t){return Dn(t.x)/Dn(t.y)}function Bb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $U{constructor(){this.members=[]}add(e){B0(this.members,e),e.scheduleRender()}remove(e){if(z0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WU(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:x,skewX:T,skewY:P}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),T&&(r+=`skewX(${T}deg) `),P&&(r+=`skewY(${P}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const og=["","X","Y","Z"],qU=1e3;let HU=0;function ag(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function O2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=E2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&O2(r)}function F2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=HU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QU),this.nodes.forEach(ZU),this.nodes.forEach(e9),this.nodes.forEach(XU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new q0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=e2(l)&&!M3(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=jU(x,250),Dh.hasAnimatedSinceResize&&(Dh.hasAnimatedSinceResize=!1,this.nodes.forEach(Wb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||f.getDefaultTransition()||i9,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=f.getProps(),L=!this.targetLayout||!V2(this.targetLayout,T),j=!v&&x;if(this.options.layoutRoot||this.resumeFrom||j||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...sv(P,"layout"),onPlay:A,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||Wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($b);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JU),this.nodes.forEach(GU),this.nodes.forEach(KU)):this.nodes.forEach($b),this.clearAllSnapshots();const u=Gn.now();sn.delta=di(0,1e3/60,u-sn.timestamp),sn.timestamp=u,sn.isProcessing=!0,Qm.update.process(sn),Qm.preRender.process(sn),Qm.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YU),this.sharedNodes.forEach(n9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!M2(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||qo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),o9(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ct();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(a9))){const{scroll:f}=this.root;f&&(sl(u.x,f.offset.x),sl(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Ct();if(wr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&wr(u,l),sl(u.x,g.offset.x),sl(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=Ct();wr(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&il(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qo(g.latestValues)&&il(d,g.latestValues)}return qo(this.latestValues)&&il(d,this.latestValues),d}removeTransform(l){const u=Ct();wr(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qo(f.latestValues))continue;ly(f.latestValues)&&f.updateSnapshot();const g=Ct(),v=f.measurePageBox();wr(g,v),Mb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return qo(this.latestValues)&&Mb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Xc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wr(this.target,this.layout.layoutBox),y2(this.target,this.targetDelta)):wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Xc(this.relativeTargetOrigin,this.target,x.target),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||g2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;wr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;SF(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ct());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Db(this.prevProjectionDelta.x,this.projectionDelta.x),Db(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Bb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},v=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Ct(),T=d?d.source:void 0,P=this.layout?this.layout.source:void 0,A=T!==P,C=this.getStack(),L=!C||C.members.length<=1,j=!!(A&&!L&&this.options.crossfade===!0&&!this.path.some(s9));this.animationProgress=0;let F;this.mixTargetDelta=$=>{const K=$/1e3;qb(v.x,l.x,K),qb(v.y,l.y,K),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r9(this.relativeTarget,this.relativeTargetOrigin,x,K),F&&zU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ct()),wr(F,this.relativeTarget)),A&&(this.animationValues=g,MU(g,f,this.latestValues,K,j,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Dh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=PU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&U2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ct();const v=Dn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=Dn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}wr(u,d),il(u,g),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $U),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&ag("z",l,f,this.animationValues);for(let g=0;g<og.length;g++)ag(`rotate${og[g]}`,l,f,this.animationValues),ag(`skew${og[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Nh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Nh(u?.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=WU(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x,y:T}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,f.animationValues?l.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const P in yu){if(g[P]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:L}=yu[P],j=v==="none"?g[P]:A(g[P],f);if(C){const F=C.length;for(let $=0;$<F;$++)l[C[$]]=j}else L?this.options.visualElement.renderState.vars[P]=j:l[P]=j}this.options.layoutId&&(l.pointerEvents=f===this?Nh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function GU(t){t.updateLayout()}function KU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?xr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],x=Dn(v);v.min=n[g].min,v.max=v.min+x}):U2(s,e.layoutBox,n)&&xr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],x=Dn(n[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=ol();Qc(l,n,e.layoutBox);const u=ol();a?Qc(u,t.applyTransform(r,!0),e.measuredBox):Qc(u,n,e.layoutBox);const d=!M2(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const T=Ct();Xc(T,e.layoutBox,v.layoutBox);const P=Ct();Xc(P,n,x.layoutBox),V2(T,P)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function QU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YU(t){t.clearSnapshot()}function zb(t){t.clearMeasurements()}function $b(t){t.isLayoutDirty=!1}function JU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Wb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZU(t){t.resolveTargetDelta()}function e9(t){t.calcProjection()}function t9(t){t.resetSkewAndRotation()}function n9(t){t.removeLeadSnapshot()}function qb(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hb(t,e,n,r){t.min=yt(e.min,n.min,r),t.max=yt(e.max,n.max,r)}function r9(t,e,n,r){Hb(t.x,e.x,n.x,r),Hb(t.y,e.y,n.y,r)}function s9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const i9={duration:.45,ease:[.4,0,.1,1]},Gb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kb=Gb("applewebkit/")&&!Gb("chrome/")?Math.round:Sr;function Qb(t){t.min=Kb(t.min),t.max=Kb(t.max)}function o9(t){Qb(t.x),Qb(t.y)}function U2(t,e,n){return t==="position"||t==="preserve-aspect"&&!hU(Ub(e),Ub(n),.2)}function a9(t){return t!==t.root&&t.scroll?.wasRoot}const l9=F2({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lg={current:void 0},B2=F2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new l9({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),c9={pan:{Feature:IU},drag:{Feature:CU,ProjectionNode:B2,MeasureLayout:D2}};function Xb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ft.postRender(()=>a(e,Wu(e)))}class u9 extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=P3(e,(n,r)=>(Xb(this.node,r,"Start"),s=>Xb(this.node,s,"End"))))}unmount(){}}class d9 extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bu(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ft.postRender(()=>a(e,Wu(e)))}class h9 extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=L3(e,(n,r)=>(Yb(this.node,r,"Start"),(s,{success:a})=>Yb(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,cg=new WeakMap,f9=t=>{const e=my.get(t.target);e&&e(t)},p9=t=>{t.forEach(f9)};function m9({root:t,...e}){const n=t||document;cg.has(n)||cg.set(n,{});const r=cg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(p9,{root:t,...e})),r[s]}function g9(t,e,n){const r=m9(e);return my.set(t,n),r.observe(t),()=>{my.delete(t),r.unobserve(t)}}const y9={some:0,all:1};class v9 extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:y9[s]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=f?g:v;x&&x(d)};return g9(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(w9(e,n))&&this.startObserver()}unmount(){}}function w9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const x9={inView:{Feature:v9},tap:{Feature:h9},focus:{Feature:d9},hover:{Feature:u9}},_9={layout:{ProjectionNode:B2,MeasureLayout:D2}},b9={...oU,...x9,...c9,..._9},Ee=bF(b9,LF),z2=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=E.useState(n==="login"),[a,l]=E.useState(""),[u,d]=E.useState(""),[f,g]=E.useState(!1),[v,x]=E.useState(""),[T,P]=E.useState(""),A=async L=>{L.preventDefault(),g(!0),x(""),P("");try{r?(await KT(Qe,a,u),e()):(await GT(Qe,a,u),P("Account created successfully! You can now sign in."),s(!0))}catch(j){j instanceof Error?x(j.message):x("An unexpected error occurred")}finally{g(!1)}},C=async()=>{try{await iS(Qe,cI),e()}catch(L){L instanceof Error?x(L.message):x("An unexpected error occurred")}};return m.jsx(la,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),m.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[m.jsx("div",{className:"border-t border-gray-200 w-full"}),m.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",required:!0,value:a,onChange:L=>l(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:u,onChange:L=>d(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&m.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&m.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),m.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:f?"Processing...":r?"Sign In":"Sign Up"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},$2=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[s,a]=E.useState(!1),[l,u]=E.useState(null),d=es();E.useEffect(()=>{const v=()=>{e(window.scrollY>20)};window.addEventListener("scroll",v);const x=Au(Qe,T=>{u(T)});return()=>{window.removeEventListener("scroll",v),x()}},[]);const f=async()=>{await r4(Qe),r(!1)},g=[{name:"Roadmaps",path:"/#roadmaps",isHash:!0},{name:"Projects",path:"/#projects",isHash:!0},{name:"Resources",path:"/#resources",isHash:!0},{name:"Students",path:"/students",isHash:!1}];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[m.jsxs(on,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),m.jsx("div",{className:"hidden md:flex items-center gap-8",children:g.map(v=>v.isHash?m.jsx(on,{to:v.path,className:`text-sm font-medium transition-colors ${d.pathname==="/"&&d.hash===v.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:v.name},v.name):m.jsx(on,{to:v.path,className:`text-sm font-medium transition-colors ${d.pathname===v.path?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:v.name},v.name))}),m.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(on,{to:"/profile",className:"flex items-center gap-2",children:m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),m.jsx("button",{onClick:f,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),m.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),m.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&m.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[g.map(v=>v.isHash?m.jsx(on,{to:v.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:v.name},v.name):m.jsx(on,{to:v.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:v.name},v.name)),m.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),m.jsx("button",{onClick:f,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),m.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),m.jsx(z2,{isOpen:s,onClose:()=>a(!1)})]})},E9=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return m.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:m.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[m.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:m.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),m.jsxs(Ee.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",m.jsx("br",{}),m.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),m.jsx(Ee.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),m.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("div",{className:"absolute left-4 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),m.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[m.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),m.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),m.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[m.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),m.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>m.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},T9=()=>{const t=Ls(),[e,n]=E.useState([]),[r,s]=E.useState(null),[a,l]=E.useState(!1),[u,d]=E.useState(!1),[f,g]=E.useState(""),[v,x]=E.useState({title:"",description:"",category:"General",link:""});E.useEffect(()=>{const j=Au(Qe,async F=>{if(s(F),F)try{const $=await Ds(Lt(We,"users",F.uid));$.exists()&&l($.data().role==="admin"||$.data().isAdmin===!0)}catch($){console.error("Error checking admin status:",$),l(!1)}else l(!1)});return T(),()=>j()},[]);const T=async()=>{try{const j=Sn(We,"roadmaps"),F=Xr(j,zf("created_at","desc")),K=(await Ar(F)).docs.map(q=>({id:q.id,...q.data()}));n(K)}catch(j){console.error("Error fetching roadmaps:",j)}},P=async j=>{if(j.preventDefault(),!!r)try{await ma(Sn(We,"roadmaps"),{...v,is_official:!0,created_at:Xe.now().toDate().toISOString()}),d(!1),x({title:"",description:"",category:"General",link:""}),T()}catch(F){console.error("Error adding roadmap:",F),alert("Failed to add roadmap.")}},A=async(j,F)=>{if(F.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await N0(Lt(We,"roadmaps",j)),T()}catch($){console.error("Error deleting roadmap:",$),alert("Failed to delete roadmap.")}},C=j=>{j.link&&(j.link.startsWith("http")||j.link.startsWith("https"))?window.open(j.link,"_blank"):(t(`/roadmap/${j.id}`),window.scrollTo(0,0))},L=e.filter(j=>j.title.toLowerCase().includes(f.toLowerCase())||j.description.toLowerCase().includes(f.toLowerCase()));return m.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),m.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),m.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:f,onChange:j=>g(j.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),a&&m.jsx("div",{className:"mt-8 flex justify-center",children:m.jsx("button",{onClick:()=>d(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):L.map((j,F)=>m.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},onClick:()=>C(j),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[a&&m.jsx("button",{onClick:$=>A(j.id,$),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:j.title}),m.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:j.description})]},j.id))})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),m.jsxs("form",{onSubmit:P,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",required:!0,value:v.title,onChange:j=>x({...v,title:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:v.description,onChange:j=>x({...v,description:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),m.jsx("input",{type:"text",placeholder:"https://...",value:v.link,onChange:j=>x({...v,link:j.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},S9=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=E.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=E.useState(!1),[u,d]=E.useState(""),[f,g]=E.useState(!1);E.useEffect(()=>{if(t&&Qe.currentUser){const x=Qe.currentUser;x.email&&s(T=>({...T,author:x.email.split("@")[0]}))}},[t]);const v=async x=>{x.preventDefault(),l(!0),d("");try{await ma(Sn(We,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(T=>T.trim()),author:r.author,author_avatar:Qe.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:Xe.now().toDate().toISOString(),user_id:Qe.currentUser?.uid}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(T){console.error("Error submitting project:",T),d("Failed to submit project. Please try again.")}finally{l(!1)}};return m.jsx(la,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),f?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-5xl mb-4",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),m.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),m.jsx("input",{type:"text",required:!0,value:r.title,onChange:x=>s({...r,title:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:r.description,onChange:x=>s({...r,description:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),m.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:x=>s({...r,githubUrl:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),m.jsx("input",{type:"url",value:r.liveUrl,onChange:x=>s({...r,liveUrl:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),m.jsx("input",{type:"text",required:!0,value:r.author,onChange:x=>s({...r,author:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),m.jsxs("select",{value:r.language,onChange:x=>s({...r,language:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{children:"JavaScript"}),m.jsx("option",{children:"TypeScript"}),m.jsx("option",{children:"Python"}),m.jsx("option",{children:"Java"}),m.jsx("option",{children:"C++"}),m.jsx("option",{children:"Rust"}),m.jsx("option",{children:"Go"}),m.jsx("option",{children:"Swift"}),m.jsx("option",{children:"Other"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",value:r.tags,onChange:x=>s({...r,tags:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),u&&m.jsx("p",{className:"text-red-500 text-sm",children:u}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},C9=()=>{const[t,e]=E.useState("All"),[n,r]=E.useState(""),[s,a]=E.useState([]),[l,u]=E.useState(!0),[d,f]=E.useState(null),[g,v]=E.useState(!1),[x,T]=E.useState(!1),[P,A]=E.useState(""),[C,L]=E.useState(!1);E.useEffect(()=>{j();const R=Au(Qe,I=>{f(I)});return()=>R()},[]);const j=async()=>{try{const R=Sn(We,"projects"),I=Xr(R,zf("created_at","desc")),M=(await Ar(I)).docs.map(O=>({id:O.id,...O.data()}));a(M)}catch(R){console.error("Error fetching projects:",R)}finally{u(!1)}},F=async R=>{if(R.preventDefault(),!!P)try{await ma(Sn(We,"newsletter_subscribers"),{email:P,created_at:Xe.now()}),L(!0),A(""),setTimeout(()=>L(!1),3e3)}catch(I){console.error("Error subscribing:",I)}},$=()=>{d?T(!0):v(!0)},K=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],q=s.filter(R=>{const I=t==="All"||R.category===t,D=R.title.toLowerCase().includes(n.toLowerCase())||R.description.toLowerCase().includes(n.toLowerCase())||R.tags.some(M=>M.toLowerCase().includes(n.toLowerCase()));return I&&D});return m.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[m.jsxs("div",{children:[m.jsx(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),m.jsx(Ee.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),m.jsx(Ee.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),m.jsxs(Ee.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:R=>r(R.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),m.jsxs("button",{onClick:$,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsxs("div",{className:"lg:w-3/4",children:[m.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:K.map(R=>m.jsx("button",{onClick:()=>e(R),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===R?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:R},R))}),l?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(R=>m.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-4 left-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:R.category})})]}),m.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("img",{src:R.author_avatar,alt:R.author,className:"w-8 h-8 rounded-full border border-gray-100"}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:R.author}),m.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(R.created_at).toLocaleDateString()]})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:R.title}),m.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:R.description}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.tags.map(I=>m.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",I]},I))}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),R.likes]}),m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),R.comments]})]}),m.jsxs("a",{href:R.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},R.id))}),!l&&q.length===0&&m.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),m.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),m.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>m.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:m.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${R}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),m.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},R))}),m.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),m.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),m.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),m.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),m.jsxs("form",{onSubmit:F,className:"relative z-10",children:[m.jsx("input",{type:"email",placeholder:"Your email",value:P,onChange:R=>A(R.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),m.jsx("button",{type:"submit",disabled:C,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:C?"Subscribed!":"Subscribe"})]})]})]})]})]}),m.jsx(z2,{isOpen:g,onClose:()=>v(!1)}),m.jsx(S9,{isOpen:x,onClose:()=>T(!1),onSuccess:j})]})},I9=()=>{const t=Ls(),[e,n]=E.useState([]),[r,s]=E.useState(!0),[a,l]=E.useState(!1),[u,d]=E.useState(!1),[f,g]=E.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});E.useEffect(()=>{v();const C=Au(Qe,async L=>{if(L)try{const j=await Ds(Lt(We,"users",L.uid));j.exists()&&l(j.data().role==="admin"||j.data().isAdmin===!0)}catch(j){console.error("Error checking admin status:",j),l(!1)}else l(!1)});return()=>C()},[]);const v=async()=>{try{const C=Sn(We,"resources"),L=Xr(C),F=(await Ar(L)).docs.map($=>({id:$.id,...$.data()}));F.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(F)}catch(C){console.error("Error fetching resources:",C)}finally{s(!1)}},x=async C=>{if(C.preventDefault(),!(!f.title||!f.description))try{await ma(Sn(We,"resources"),f),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(L){console.error("Error adding resource:",L)}},T=async(C,L)=>{if(L.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await N0(Lt(We,"resources",C)),v()}catch(j){console.error("Error deleting resource:",j)}},P={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},A={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return m.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"container-custom relative z-10",children:[m.jsxs(Ee.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),m.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&m.jsx("div",{className:"mb-8 flex justify-center",children:m.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&m.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Title",value:f.title,onChange:C=>g({...f,title:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsx("textarea",{placeholder:"Description",value:f.description,onChange:C=>g({...f,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:f.icon,onChange:C=>g({...f,icon:C.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),m.jsxs("select",{value:f.color,onChange:C=>g({...f,color:C.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[m.jsx("option",{value:"badge-blue",children:"Blue"}),m.jsx("option",{value:"badge-yellow",children:"Yellow"}),m.jsx("option",{value:"badge-green",children:"Green"}),m.jsx("option",{value:"badge-purple",children:"Purple"}),m.jsx("option",{value:"badge-red",children:"Red"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx(Ee.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:P,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(C=>m.jsxs(Ee.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:A,whileHover:{scale:1.03},onClick:()=>t(`/resource/${C.id}`),children:[a&&m.jsx("button",{onClick:L=>T(C.id,L),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),m.jsx("div",{className:"mb-6 flex justify-center",children:m.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:C.icon})}),m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:C.title}),m.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:C.description}),m.jsx("div",{className:"mt-auto text-center",children:m.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",m.jsx("span",{children:""})]})})]},C.id))})]})]})},Jb=20,W2=async(t,e)=>{const n=Qe.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=Lt(We,"userActivity",`${n.uid}_${r}`),a=await Ds(s);if(a.exists()&&a.data().connectionRequestsSent>=Jb)throw new Error(`Daily limit of ${Jb} requests reached.`);const l=Lt(We,"blocks",`${t}_${n.uid}`);if((await Ds(l)).exists())throw new Error("This user has blocked you.");const d=Sn(We,"connections"),f=Xr(d,lr("requesterId","==",n.uid),lr("recipientId","==",t));if(!(await Ar(f)).empty)throw new Error("Connection request already exists.");await ma(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:nf(),updatedAt:nf()}),await zC(s,{userId:n.uid,date:r,connectionRequestsSent:S6(1)},{merge:!0})},R9=async t=>{const e=Lt(We,"connections",t);await Ou(e,{status:"accepted",updatedAt:nf()})},A9=async t=>{const e=Lt(We,"connections",t);await Ou(e,{status:"ignored",updatedAt:nf()})},k9=async t=>{const e=Qe.currentUser;if(!e)return"none";const n=Sn(We,"connections"),r=Xr(n,lr("requesterId","==",e.uid),lr("recipientId","==",t)),s=await Ar(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const a=Xr(n,lr("requesterId","==",t),lr("recipientId","==",e.uid)),l=await Ar(a);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},P9=async()=>{const t=Qe.currentUser;if(!t)return[];const e=Sn(We,"connections"),n=Xr(e,lr("recipientId","==",t.uid),lr("status","==","pending"),zf("createdAt","desc"));return(await Ar(n)).docs.map(s=>({id:s.id,...s.data()}))},q2=({student:t,onClick:e})=>{const[n,r]=E.useState("none"),[s,a]=E.useState(!1),l=Qe.currentUser;E.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const v=await k9(t.uid);r(v)}catch(v){console.error("Error fetching status:",v)}})()},[t.uid,l]);const u=async g=>{if(g.stopPropagation(),!!l){a(!0);try{await W2(t.uid),r("pending")}catch(v){const x=v;console.error("Error connecting:",x),alert(x.message)}finally{a(!1)}}},d=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},f=n==="pending"||n==="connected"||t.uid===l?.uid;return m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[m.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:m.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:m.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:m.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),m.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),m.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),m.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),t.mutualConnectionsCount!==void 0&&t.mutualConnectionsCount>0&&m.jsxs("div",{className:"text-[10px] text-gray-400 mb-4 flex items-center gap-1",children:[m.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(g=>m.jsx("div",{className:"w-4 h-4 rounded-full border border-white bg-gray-200 overflow-hidden",children:m.jsx("img",{src:`https://i.pravatar.cc/150?u=${t.uid}${g}`,alt:"",className:"w-full h-full"})},g))}),m.jsxs("span",{children:[t.mutualConnectionsCount," mutual connections"]})]}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((g,v)=>m.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:g},v)),t.skills?.length>3&&m.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),m.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[m.jsx("button",{onClick:u,disabled:f||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:d()}),m.jsx("button",{className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"View Profile"})]})]})]})},N9=()=>{const t=Ls(),[e,n]=E.useState([]);return E.useEffect(()=>{(async()=>{try{const s=Sn(We,"users"),a=Xr(s,_6(8)),u=(await Ar(a)).docs.map(d=>{const f=d.data();return{uid:d.id,...f,name:f.name||f.full_name||"Anonymous",avatar:f.avatar||f.avatar_url||"",institution:f.institution||f.university||"University",skills:f.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),m.jsx("section",{id:"community",className:"py-24 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),m.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>m.jsx(q2,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})},D9=async(t,e)=>{try{return(await ma(Sn(We,"projects"),{...e,userId:t,createdAt:Xe.now()})).id}catch(n){throw console.error("Error adding project:",n),n}},j9=async(t,e)=>{try{const n=Lt(We,"projects",t);await Ou(n,{...e,updatedAt:Xe.now()})}catch(n){throw console.error("Error updating project:",n),n}},L9=async t=>{try{await N0(Lt(We,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},Zb=async t=>{try{const e=Xr(Sn(We,"projects"),lr("userId","==",t),zf("createdAt","desc"));return(await Ar(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching user projects:",e),e}};var gy=function(t,e){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},gy(t,e)};function M9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gt=function(){return Gt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gt.apply(this,arguments)};var ug,eE;function V9(){if(eE)return ug;eE=1;var t=!1,e,n,r,s,a,l,u,d,f,g,v,x,T,P,A;function C(){if(!t){t=!0;var j=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),$=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(x=/\b(iPhone|iP[ao]d)/.exec(j),T=/\b(iP[ao]d)/.exec(j),g=/Android/i.exec(j),P=/FBAN\/\w+;/i.exec(j),A=/Mobile/i.exec(j),v=!!/Win64/.exec(j),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var K=/(?:Trident\/(\d+.\d+))/.exec(j);l=K?parseFloat(K[1])+4:e,n=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,s=F[4]?parseFloat(F[4]):NaN,s?(F=/(?:Chrome\/(\d+\.\d+))/.exec(j),a=F&&F[1]?parseFloat(F[1]):NaN):a=NaN}else e=n=r=a=s=NaN;if($){if($[1]){var q=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=q?parseFloat(q[1].replace("_",".")):!0}else u=!1;d=!!$[2],f=!!$[3]}else u=d=f=!1}}var L={ie:function(){return C()||e},ieCompatibilityMode:function(){return C()||l>e},ie64:function(){return L.ie()&&v},firefox:function(){return C()||n},opera:function(){return C()||r},webkit:function(){return C()||s},safari:function(){return L.webkit()},chrome:function(){return C()||a},windows:function(){return C()||d},osx:function(){return C()||u},linux:function(){return C()||f},iphone:function(){return C()||x},mobile:function(){return C()||x||T||g||A},nativeApp:function(){return C()||P},android:function(){return C()||g},ipad:function(){return C()||T}};return ug=L,ug}var dg,tE;function O9(){if(tE)return dg;tE=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return dg=e,dg}var hg,nE;function F9(){if(nE)return hg;nE=1;var t=O9(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var u=document.createElement("div");u.setAttribute(a,"return;"),l=typeof u[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return hg=n,hg}var fg,rE;function U9(){if(rE)return fg;rE=1;var t=V9(),e=F9(),n=10,r=40,s=800;function a(l){var u=0,d=0,f=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),f=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(f=l.deltaX),(f||g)&&l.deltaMode&&(l.deltaMode==1?(f*=r,g*=r):(f*=s,g*=s)),f&&!u&&(u=f<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:f,pixelY:g}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},fg=a,fg}var pg,sE;function B9(){return sE||(sE=1,pg=U9()),pg}var z9=B9();const $9=TE(z9);function W9(t,e,n,r,s,a){a===void 0&&(a=0);var l=El(t,e,a),u=l.width,d=l.height,f=Math.min(u,n),g=Math.min(d,r);return f>g*s?{width:g*s,height:g}:{width:f,height:f/s}}function q9(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function kc(t,e,n,r,s){s===void 0&&(s=0);var a=El(e.width,e.height,s),l=a.width,u=a.height;return{x:iE(t.x,l,n.width,r),y:iE(t.y,u,n.height,r)}}function iE(t,e,n,r){var s=e*r/2-n/2;return Xf(t,-s,s)}function oE(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function aE(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function H9(t,e,n,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var u=l?G9:K9,d=El(e.width,e.height,a),f=El(e.naturalWidth,e.naturalHeight,a),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(f.width,g.width*f.width/100)),x=Math.round(u(f.height,g.height*f.height/100)),T=f.width>=f.height*r,P=T?{width:Math.round(x*r),height:x}:{width:v,height:Math.round(v/r)},A=Gt(Gt({},P),{x:Math.round(u(f.width-P.width,g.x*f.width/100)),y:Math.round(u(f.height-P.height,g.y*f.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:A}}function G9(t,e){return Math.min(t,Math.max(0,e))}function K9(t,e){return e}function Q9(t,e,n,r,s,a){var l=El(e.width,e.height,n),u=Xf(r.width/l.width*(100/t.width),s,a),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function X9(t,e,n){var r=q9(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Y9(t,e,n,r,s,a){n===void 0&&(n=0);var l=El(e.naturalWidth,e.naturalHeight,n),u=Xf(X9(t,e,r),s,a),d=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:f,zoom:u}}function lE(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function J9(t){return t*Math.PI/180}function El(t,e,n){var r=J9(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Xf(t,e,n){return Math.min(Math.max(t,e),n)}function ph(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Z9=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,e7=1,t7=3,n7=1,r7=(function(t){M9(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=E.createRef(),n.imageRef=E.createRef(),n.videoRef=E.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=Q9(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,l=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=Y9(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=u.crop,l=u.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,a,l,u,d,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,x=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=f.offsetWidth<v||f.offsetHeight<x,P=v/x,A=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":A=g>P?{width:n.containerRect.height*P,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/P};break;case"horizontal-cover":A={width:n.containerRect.width,height:n.containerRect.width/P};break;case"vertical-cover":A={width:n.containerRect.height*P,height:n.containerRect.height};break}else A={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=Gt(Gt({},A),{naturalWidth:v,naturalHeight:x}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var C=n.props.cropSize?n.props.cropSize:W9(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==C.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==C.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(C),n.setState({cropSize:C},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(C),C}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,a,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Gt({},n.props.crop),(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s)},n.onDrag=function(r){var s=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||a===void 0)){var l=s-n.dragStartPosition.x,u=a-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},f=n.props.restrictPosition?kc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),a=$9(r).pixelY,l=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,a=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(a+u.y)/d}},n.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=Xf(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),x={x:v.x*f-g.x,y:v.y*f-g.y},T=n.props.restrictPosition?kc(x,n.mediaSize,n.state.cropSize,f,n.props.rotation):x;n.props.onCropChange(T)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?kc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return H9(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var a=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;a={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var f=n.props.restrictPosition?kc(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.previousCropSize=n.state.cropSize,n.props.onCropChange(f),n.emitCropData()}},n.onKeyDown=function(r){var s,a,l=n.props,u=l.crop,d=l.onCropChange,f=l.keyboardStep,g=l.zoom,v=l.rotation,x=f;if(n.state.cropSize){r.shiftKey&&(x*=.2);var T=Gt({},u);switch(r.key){case"ArrowUp":T.y-=x,r.preventDefault();break;case"ArrowDown":T.y+=x,r.preventDefault();break;case"ArrowLeft":T.x-=x,r.preventDefault();break;case"ArrowRight":T.x+=x,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=kc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s),d(T)}},n.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(s=n.props).onInteractionEnd)===null||a===void 0||a.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Z9,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,a,l,u,d,f,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var x=this.getObjectFit();x!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:x},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,g=d/f;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=oE(r,s),this.lastPinchRotation=aE(r,s),this.onDragStart(lE(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),a=e.getTouchPoint(n.touches[1]),l=lE(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=oE(s,a),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var f=aE(s,a),g=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,s=this.props,a=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,f=s.transform,g=s.crop,v=g.x,x=g.y,T=s.rotation,P=s.zoom,A=s.cropShape,C=s.showGrid,L=s.roundCropAreaPixels,j=s.style,F=j.containerStyle,$=j.cropAreaStyle,K=j.mediaStyle,q=s.classes,R=q.containerClassName,I=q.cropAreaClassName,D=q.mediaClassName,M=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return E.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return n.containerRef=U},"data-testid":"container",style:F,className:ph("reactEasyCrop_Container",R)},a?E.createElement("img",Gt({alt:"",className:ph("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},u,{src:a,ref:this.imageRef,style:Gt(Gt({},K),{transform:f||"translate(".concat(v,"px, ").concat(x,"px) rotate(").concat(T,"deg) scale(").concat(P,")")}),onLoad:this.onMediaLoad})):l&&E.createElement("video",Gt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ph("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Gt(Gt({},K),{transform:f||"translate(".concat(v,"px, ").concat(x,"px) rotate(").concat(T,"deg) scale(").concat(P,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(O){return E.createElement("source",Gt({key:O.src},O))})),this.state.cropSize&&E.createElement("div",Gt({ref:this.cropperRef,style:Gt(Gt({},$),{width:L?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:L?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ph("reactEasyCrop_CropArea",A==="round"&&"reactEasyCrop_CropAreaRound",C&&"reactEasyCrop_CropAreaGrid",I)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:t7,minZoom:e7,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:n7},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(E.Component);const s7=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=E.useState(null),[a,l]=E.useState({x:0,y:0}),[u,d]=E.useState(1),[f,g]=E.useState(null),[v,x]=E.useState(!1),[T,P]=E.useState(!1),A=E.useCallback(($,K)=>{g(K)},[]),C=async $=>{if($.target.files&&$.target.files.length>0){const K=$.target.files[0],q=new FileReader;q.addEventListener("load",()=>{s(q.result),P(!0)}),q.readAsDataURL(K)}},L=$=>new Promise((K,q)=>{const R=new Image;R.addEventListener("load",()=>K(R)),R.addEventListener("error",I=>q(I)),R.setAttribute("crossOrigin","anonymous"),R.src=$}),j=async($,K)=>{const q=await L($),R=document.createElement("canvas"),I=R.getContext("2d");if(!I)throw new Error("No 2d context");return R.width=K.width,R.height=K.height,I.drawImage(q,K.x,K.y,K.width,K.height,0,0,K.width,K.height),new Promise((D,M)=>{R.toBlob(O=>{if(!O){M(new Error("Canvas is empty"));return}D(O)},"image/jpeg")})},F=async()=>{if(!(!r||!f)){x(!0);try{const $=await j(r,f),K=MV(zV,`avatars/${t}_${Date.now()}.jpg`),q=await jV(K,$),R=await LV(q.ref);await Ou(Lt(We,"users",t),{avatar:R}),n(R),P(!1),s(null)}catch($){console.error("Error uploading avatar:",$),alert("Failed to upload image.")}finally{x(!1)}}};return m.jsxs("div",{className:"relative group",children:[m.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[m.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),m.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"}),m.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),m.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),m.jsx(la,{children:T&&r&&m.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[m.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),m.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),m.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),m.jsx("div",{className:"relative h-96 bg-gray-900",children:m.jsx(r7,{image:r,crop:a,zoom:u,aspect:1,onCropChange:l,onCropComplete:A,onZoomChange:d})}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),m.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:$=>d(Number($.target.value)),className:"flex-grow accent-[#0066FF]"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{onClick:F,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function i7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return E.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Yf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ml(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function vv(t){return"nodeType"in t}function Qn(t){var e,n;return t?Ml(t)?t:vv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function wv(t){const{Document:e}=Qn(t);return t instanceof e}function qu(t){return Ml(t)?!1:t instanceof Qn(t).HTMLElement}function H2(t){return t instanceof Qn(t).SVGElement}function Vl(t){return t?Ml(t)?t.document:vv(t)?wv(t)?t:qu(t)||H2(t)?t.ownerDocument:document:document:document}const js=Yf?E.useLayoutEffect:E.useEffect;function xv(t){const e=E.useRef(t);return js(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function o7(){const t=E.useRef(null),e=E.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=E.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function wu(t,e){e===void 0&&(e=[t]);const n=E.useRef(t);return js(()=>{n.current!==t&&(n.current=t)},e),n}function Hu(t,e){const n=E.useRef();return E.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function uf(t){const e=xv(t),n=E.useRef(null),r=E.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function yy(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}let mg={};function Gu(t,e){return E.useMemo(()=>{if(e)return e;const n=mg[t]==null?0:mg[t]+1;return mg[t]=n,t+"-"+n},[t,e])}function G2(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[d,f]of u){const g=a[d];g!=null&&(a[d]=g+t*f)}return a},{...e})}}const pl=G2(1),xu=G2(-1);function a7(t){return"clientX"in t&&"clientY"in t}function _v(t){if(!t)return!1;const{KeyboardEvent:e}=Qn(t.target);return e&&t instanceof e}function l7(t){if(!t)return!1;const{TouchEvent:e}=Qn(t.target);return e&&t instanceof e}function vy(t){if(l7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return a7(t)?{x:t.clientX,y:t.clientY}:null}const _u=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[_u.Translate.toString(t),_u.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),cE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function c7(t){return t.matches(cE)?t:t.querySelector(cE)}const u7={display:"none"};function d7(t){let{id:e,value:n}=t;return ln.createElement("div",{id:e,style:u7},n)}function h7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ln.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function f7(){const[t,e]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const K2=E.createContext(null);function p7(t){const e=E.useContext(K2);E.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function m7(){const[t]=E.useState(()=>new Set),e=E.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[E.useCallback(r=>{let{type:s,event:a}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[t]),e]}const g7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},y7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function v7(t){let{announcements:e=y7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=g7}=t;const{announce:a,announcement:l}=f7(),u=Gu("DndLiveRegion"),[d,f]=E.useState(!1);if(E.useEffect(()=>{f(!0)},[]),p7(E.useMemo(()=>({onDragStart(v){let{active:x}=v;a(e.onDragStart({active:x}))},onDragMove(v){let{active:x,over:T}=v;e.onDragMove&&a(e.onDragMove({active:x,over:T}))},onDragOver(v){let{active:x,over:T}=v;a(e.onDragOver({active:x,over:T}))},onDragEnd(v){let{active:x,over:T}=v;a(e.onDragEnd({active:x,over:T}))},onDragCancel(v){let{active:x,over:T}=v;a(e.onDragCancel({active:x,over:T}))}}),[a,e])),!d)return null;const g=ln.createElement(ln.Fragment,null,ln.createElement(d7,{id:r,value:s.draggable}),ln.createElement(h7,{id:u,announcement:l}));return n?Pc.createPortal(g,n):g}var Ut;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function df(){}function uE(t,e){return E.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function w7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return E.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Yr=Object.freeze({x:0,y:0});function Q2(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function X2(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function x7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function dE(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function Y2(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function hE(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const _7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=hE(e,e.left,e.top),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=Q2(hE(d),s);a.push({id:u,data:{droppableContainer:l,value:f}})}}return a.sort(X2)},b7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=dE(e),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=dE(d),g=s.reduce((x,T,P)=>x+Q2(f[P],T),0),v=Number((g/4).toFixed(4));a.push({id:u,data:{droppableContainer:l,value:v}})}}return a.sort(X2)};function E7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=a-n;if(r<s&&n<a){const d=e.width*e.height,f=t.width*t.height,g=l*u,v=g/(d+f-g);return Number(v.toFixed(4))}return 0}const T7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=E7(u,e);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(x7)};function S7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function J2(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Yr}function C7(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const I7=C7(1);function R7(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function A7(t,e,n){const r=R7(e);if(!r)return t;const{scaleX:s,scaleY:a,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),f=t.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=a?t.height/a:t.height;return{width:g,height:v,top:f,right:d+g,bottom:f+v,left:d}}const k7={ignoreTransform:!1};function Ol(t,e){e===void 0&&(e=k7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:g}=Qn(t).getComputedStyle(t);f&&(n=A7(n,f,g))}const{top:r,left:s,width:a,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:u,right:d}}function fE(t){return Ol(t,{ignoreTransform:!0})}function P7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function N7(t,e){return e===void 0&&(e=Qn(t).getComputedStyle(t)),e.position==="fixed"}function D7(t,e){e===void 0&&(e=Qn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?n.test(a):!1})}function Jf(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(wv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!qu(s)||H2(s)||n.includes(s))return n;const a=Qn(t).getComputedStyle(s);return s!==t&&D7(s,a)&&n.push(s),N7(s,a)?n:r(s.parentNode)}return t?r(t):n}function Z2(t){const[e]=Jf(t,1);return e??null}function gg(t){return!Yf||!t?null:Ml(t)?t:vv(t)?wv(t)||t===Vl(t).scrollingElement?window:qu(t)?t:null:null}function eR(t){return Ml(t)?t.scrollX:t.scrollLeft}function tR(t){return Ml(t)?t.scrollY:t.scrollTop}function wy(t){return{x:eR(t),y:tR(t)}}var Qt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Qt||(Qt={}));function nR(t){return!Yf||!t?!1:t===document.scrollingElement}function rR(t){const e={x:0,y:0},n=nR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const j7={x:.2,y:.2};function L7(t,e,n,r,s){let{top:a,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=j7);const{isTop:f,isBottom:g,isLeft:v,isRight:x}=rR(t),T={x:0,y:0},P={x:0,y:0},A={height:e.height*s.y,width:e.width*s.x};return!f&&a<=e.top+A.height?(T.y=Qt.Backward,P.y=r*Math.abs((e.top+A.height-a)/A.height)):!g&&d>=e.bottom-A.height&&(T.y=Qt.Forward,P.y=r*Math.abs((e.bottom-A.height-d)/A.height)),!x&&u>=e.right-A.width?(T.x=Qt.Forward,P.x=r*Math.abs((e.right-A.width-u)/A.width)):!v&&l<=e.left+A.width&&(T.x=Qt.Backward,P.x=r*Math.abs((e.left+A.width-l)/A.width)),{direction:T,speed:P}}function M7(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function sR(t){return t.reduce((e,n)=>pl(e,wy(n)),Yr)}function V7(t){return t.reduce((e,n)=>e+eR(n),0)}function O7(t){return t.reduce((e,n)=>e+tR(n),0)}function F7(t,e){if(e===void 0&&(e=Ol),!t)return;const{top:n,left:r,bottom:s,right:a}=e(t);Z2(t)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const U7=[["x",["left","right"],V7],["y",["top","bottom"],O7]];class bv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Jf(n),s=sR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,u]of U7)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),g=s[a]-f;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Yc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function B7(t){const{EventTarget:e}=Qn(t);return t instanceof e?t:Vl(t)}function yg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var _r;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(_r||(_r={}));function pE(t){t.preventDefault()}function z7(t){t.stopPropagation()}var $e;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})($e||($e={}));const iR={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},$7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case $e.Right:return{...n,x:n.x+25};case $e.Left:return{...n,x:n.x-25};case $e.Down:return{...n,y:n.y+25};case $e.Up:return{...n,y:n.y-25}}};class Ev{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Yc(Vl(n)),this.windowListeners=new Yc(Qn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_r.Resize,this.handleCancel),this.windowListeners.add(_r.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_r.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&F7(r),n(Yr)}handleKeyDown(e){if(_v(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=iR,coordinateGetter:l=$7,scrollBehavior:u="smooth"}=s,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=r.current,g=f?{x:f.left,y:f.top}:Yr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const x=xu(v,g),T={x:0,y:0},{scrollableAncestors:P}=r.current;for(const A of P){const C=e.code,{isTop:L,isRight:j,isLeft:F,isBottom:$,maxScroll:K,minScroll:q}=rR(A),R=M7(A),I={x:Math.min(C===$e.Right?R.right-R.width/2:R.right,Math.max(C===$e.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(C===$e.Down?R.bottom-R.height/2:R.bottom,Math.max(C===$e.Down?R.top:R.top+R.height/2,v.y))},D=C===$e.Right&&!j||C===$e.Left&&!F,M=C===$e.Down&&!$||C===$e.Up&&!L;if(D&&I.x!==v.x){const O=A.scrollLeft+x.x,U=C===$e.Right&&O<=K.x||C===$e.Left&&O>=q.x;if(U&&!x.y){A.scrollTo({left:O,behavior:u});return}U?T.x=A.scrollLeft-O:T.x=C===$e.Right?A.scrollLeft-K.x:A.scrollLeft-q.x,T.x&&A.scrollBy({left:-T.x,behavior:u});break}else if(M&&I.y!==v.y){const O=A.scrollTop+x.y,U=C===$e.Down&&O<=K.y||C===$e.Up&&O>=q.y;if(U&&!x.x){A.scrollTo({top:O,behavior:u});return}U?T.y=A.scrollTop-O:T.y=C===$e.Down?A.scrollTop-K.y:A.scrollTop-q.y,T.y&&A.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,pl(xu(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ev.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=iR,onActivation:s}=e,{active:a}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function mE(t){return!!(t&&"distance"in t)}function gE(t){return!!(t&&"delay"in t)}class Tv{constructor(e,n,r){var s;r===void 0&&(r=B7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:l}=a;this.props=e,this.events=n,this.document=Vl(l),this.documentListeners=new Yc(this.document),this.listeners=new Yc(r),this.windowListeners=new Yc(Qn(l)),this.initialCoordinates=(s=vy(a))!=null?s:Yr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(_r.Resize,this.handleCancel),this.windowListeners.add(_r.DragStart,pE),this.windowListeners.add(_r.VisibilityChange,this.handleCancel),this.windowListeners.add(_r.ContextMenu,pE),this.documentListeners.add(_r.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(mE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(_r.Click,z7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_r.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const d=(n=vy(e))!=null?n:Yr,f=xu(s,d);if(!r&&u){if(mE(u)){if(u.tolerance!=null&&yg(f,u.tolerance))return this.handleCancel();if(yg(f,u.distance))return this.handleStart()}if(gE(u)&&yg(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const W7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sv extends Tv{constructor(e){const{event:n}=e,r=Vl(n.target);super(e,W7,r)}}Sv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const q7={move:{name:"mousemove"},end:{name:"mouseup"}};var xy;(function(t){t[t.RightClick=2]="RightClick"})(xy||(xy={}));class H7 extends Tv{constructor(e){super(e,q7,Vl(e.event.target))}}H7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===xy.RightClick?!1:(r?.({event:n}),!0)}}];const vg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class G7 extends Tv{constructor(e){super(e,vg)}static setup(){return window.addEventListener(vg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(vg.move.name,e)};function e(){}}}G7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Jc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Jc||(Jc={}));var hf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(hf||(hf={}));function K7(t){let{acceleration:e,activator:n=Jc.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=hf.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:g,delta:v,threshold:x}=t;const T=X7({delta:v,disabled:!a}),[P,A]=o7(),C=E.useRef({x:0,y:0}),L=E.useRef({x:0,y:0}),j=E.useMemo(()=>{switch(n){case Jc.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Jc.DraggableRect:return s}},[n,s,d]),F=E.useRef(null),$=E.useCallback(()=>{const q=F.current;if(!q)return;const R=C.current.x*L.current.x,I=C.current.y*L.current.y;q.scrollBy(R,I)},[]),K=E.useMemo(()=>u===hf.TreeOrder?[...f].reverse():f,[u,f]);E.useEffect(()=>{if(!a||!f.length||!j){A();return}for(const q of K){if(r?.(q)===!1)continue;const R=f.indexOf(q),I=g[R];if(!I)continue;const{direction:D,speed:M}=L7(q,I,j,e,x);for(const O of["x","y"])T[O][D[O]]||(M[O]=0,D[O]=0);if(M.x>0||M.y>0){A(),F.current=q,P($,l),C.current=M,L.current=D;return}}C.current={x:0,y:0},L.current={x:0,y:0},A()},[e,$,r,A,a,l,JSON.stringify(j),JSON.stringify(T),P,f,K,g,JSON.stringify(x)])}const Q7={x:{[Qt.Backward]:!1,[Qt.Forward]:!1},y:{[Qt.Backward]:!1,[Qt.Forward]:!1}};function X7(t){let{delta:e,disabled:n}=t;const r=yy(e);return Hu(s=>{if(n||!r||!s)return Q7;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Qt.Backward]:s.x[Qt.Backward]||a.x===-1,[Qt.Forward]:s.x[Qt.Forward]||a.x===1},y:{[Qt.Backward]:s.y[Qt.Backward]||a.y===-1,[Qt.Forward]:s.y[Qt.Forward]||a.y===1}}},[n,e,r])}function Y7(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Hu(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function J7(t,e){return E.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...a]},[]),[t,e])}var bu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(bu||(bu={}));var _y;(function(t){t.Optimized="optimized"})(_y||(_y={}));const yE=new Map;function Z7(t,e){let{dragging:n,dependencies:r,config:s}=e;const[a,l]=E.useState(null),{frequency:u,measure:d,strategy:f}=s,g=E.useRef(t),v=C(),x=wu(v),T=E.useCallback(function(L){L===void 0&&(L=[]),!x.current&&l(j=>j===null?L:j.concat(L.filter(F=>!j.includes(F))))},[x]),P=E.useRef(null),A=Hu(L=>{if(v&&!n)return yE;if(!L||L===yE||g.current!==t||a!=null){const j=new Map;for(let F of t){if(!F)continue;if(a&&a.length>0&&!a.includes(F.id)&&F.rect.current){j.set(F.id,F.rect.current);continue}const $=F.node.current,K=$?new bv(d($),$):null;F.rect.current=K,K&&j.set(F.id,K)}return j}return L},[t,a,n,v,d]);return E.useEffect(()=>{g.current=t},[t]),E.useEffect(()=>{v||T()},[n,v]),E.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),E.useEffect(()=>{v||typeof u!="number"||P.current!==null||(P.current=setTimeout(()=>{T(),P.current=null},u))},[u,v,T,...r]),{droppableRects:A,measureDroppableContainers:T,measuringScheduled:a!=null};function C(){switch(f){case bu.Always:return!1;case bu.BeforeDragging:return n;default:return!n}}}function oR(t,e){return Hu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function e8(t,e){return oR(t,e)}function t8(t){let{callback:e,disabled:n}=t;const r=xv(e),s=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return E.useEffect(()=>()=>s?.disconnect(),[s]),s}function Zf(t){let{callback:e,disabled:n}=t;const r=xv(e),s=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return E.useEffect(()=>()=>s?.disconnect(),[s]),s}function n8(t){return new bv(Ol(t),t)}function vE(t,e,n){e===void 0&&(e=n8);const[r,s]=E.useState(null);function a(){s(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=t8({callback(d){if(t)for(const f of d){const{type:g,target:v}=f;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){a();break}}}}),u=Zf({callback:a});return js(()=>{a(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function r8(t){const e=oR(t);return J2(t,e)}const wE=[];function s8(t){const e=E.useRef(t),n=Hu(r=>t?r&&r!==wE&&t&&e.current&&t.parentNode===e.current.parentNode?r:Jf(t):wE,[t]);return E.useEffect(()=>{e.current=t},[t]),n}function i8(t){const[e,n]=E.useState(null),r=E.useRef(t),s=E.useCallback(a=>{const l=gg(a.target);l&&n(u=>u?(u.set(l,wy(l)),new Map(u)):null)},[]);return E.useEffect(()=>{const a=r.current;if(t!==a){l(a);const u=t.map(d=>{const f=gg(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,wy(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(a)};function l(u){u.forEach(d=>{const f=gg(d);f?.removeEventListener("scroll",s)})}},[s,t]),E.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,l)=>pl(a,l),Yr):sR(t):Yr,[t,e])}function xE(t,e){e===void 0&&(e=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},e),E.useEffect(()=>{const r=t!==Yr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?xu(t,n.current):Yr}function o8(t){E.useEffect(()=>{if(!Yf)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function a8(t,e){return E.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,e)},n},{}),[t,e])}function aR(t){return E.useMemo(()=>t?P7(t):null,[t])}const _E=[];function l8(t,e){e===void 0&&(e=Ol);const[n]=t,r=aR(n?Qn(n):null),[s,a]=E.useState(_E);function l(){a(()=>t.length?t.map(d=>nR(d)?r:new bv(e(d),d)):_E)}const u=Zf({callback:l});return js(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function c8(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qu(e)?e:t}function u8(t){let{measure:e}=t;const[n,r]=E.useState(null),s=E.useCallback(f=>{for(const{target:g}of f)if(qu(g)){r(v=>{const x=e(g);return v?{...v,width:x.width,height:x.height}:x});break}},[e]),a=Zf({callback:s}),l=E.useCallback(f=>{const g=c8(f);a?.disconnect(),g&&a?.observe(g),r(g?e(g):null)},[e,a]),[u,d]=uf(l);return E.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const d8=[{sensor:Sv,options:{}},{sensor:Ev,options:{}}],h8={current:{}},jh={draggable:{measure:fE},droppable:{measure:fE,strategy:bu.WhileDragging,frequency:_y.Optimized},dragOverlay:{measure:Ol}};class Zc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const f8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:df},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:jh,measureDroppableContainers:df,windowRect:null,measuringScheduled:!1},p8={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:df,draggableNodes:new Map,over:null,measureDroppableContainers:df},ep=E.createContext(p8),lR=E.createContext(f8);function m8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zc}}}function g8(t,e){switch(e.type){case Ut.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ut.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Zc(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Ut.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Zc(t.droppable.containers);return l.set(n,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case Ut.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Zc(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function y8(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=E.useContext(ep),a=yy(r),l=yy(n?.id);return E.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!_v(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const g of[d.current,f.current]){if(!g)continue;const v=c7(g);if(v){v.focus();break}}})}},[r,e,s,l,a]),null}function v8(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),n):n}function w8(t){return E.useMemo(()=>({draggable:{...jh.draggable,...t?.draggable},droppable:{...jh.droppable,...t?.droppable},dragOverlay:{...jh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function x8(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const a=E.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;js(()=>{if(!l&&!u||!e){a.current=!1;return}if(a.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const g=n(f),v=J2(g,r);if(l||(v.x=0),u||(v.y=0),a.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=Z2(f);x&&x.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const cR=E.createContext({...Yr,scaleX:1,scaleY:1});var Bi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Bi||(Bi={}));const _8=E.memo(function(e){var n,r,s,a;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:g=d8,collisionDetection:v=T7,measuring:x,modifiers:T,...P}=e;const A=E.useReducer(g8,void 0,m8),[C,L]=A,[j,F]=m7(),[$,K]=E.useState(Bi.Uninitialized),q=$===Bi.Initialized,{draggable:{active:R,nodes:I,translate:D},droppable:{containers:M}}=C,O=R!=null?I.get(R):null,U=E.useRef({initial:null,translated:null}),N=E.useMemo(()=>{var Le;return R!=null?{id:R,data:(Le=O?.data)!=null?Le:h8,rect:U}:null},[R,O]),ge=E.useRef(null),[Ze,st]=E.useState(null),[ye,re]=E.useState(null),le=wu(P,Object.values(P)),ae=Gu("DndDescribedBy",l),W=E.useMemo(()=>M.getEnabled(),[M]),J=w8(x),{droppableRects:ve,measureDroppableContainers:xe,measuringScheduled:De}=Z7(W,{dragging:q,dependencies:[D.x,D.y],config:J.droppable}),Te=Y7(I,R),Be=E.useMemo(()=>ye?vy(ye):null,[ye]),je=jr(),Ve=e8(Te,J.draggable.measure);x8({activeNode:R!=null?I.get(R):null,config:je.layoutShiftCompensation,initialRect:Ve,measure:J.draggable.measure});const ke=vE(Te,J.draggable.measure,Ve),dr=vE(Te?Te.parentElement:null),dn=E.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=M.getNodeFor((n=dn.current.over)==null?void 0:n.id),hn=u8({measure:J.dragOverlay.measure}),Pr=(r=hn.nodeRef.current)!=null?r:Te,Xn=q?(s=hn.rect)!=null?s:ke:null,ts=!!(hn.nodeRef.current&&hn.rect),fi=r8(ts?null:ke),dt=aR(Pr?Qn(Pr):null),Ye=s8(q?Cn??Te:null),fn=l8(Ye),ns=v8(T,{transform:{x:D.x-fi.x,y:D.y-fi.y,scaleX:1,scaleY:1},activatorEvent:ye,active:N,activeNodeRect:ke,containerNodeRect:dr,draggingNodeRect:Xn,over:dn.current.over,overlayNodeRect:hn.rect,scrollableAncestors:Ye,scrollableAncestorRects:fn,windowRect:dt}),pi=Be?pl(Be,D):null,go=i8(Ye),rs=xE(go),yo=xE(go,[ke]),Yn=pl(ns,rs),In=Xn?I7(Xn,ns):null,ss=N&&In?v({active:N,collisionRect:In,droppableRects:ve,droppableContainers:W,pointerCoordinates:pi}):null,is=Y2(ss,"id"),[Xt,vo]=E.useState(null),os=ts?ns:pl(ns,yo),mi=S7(os,(a=Xt?.rect)!=null?a:null,ke),Ms=E.useRef(null),Ln=E.useCallback((Le,Mt)=>{let{sensor:xt,options:Yt}=Mt;if(ge.current==null)return;const Jt=I.get(ge.current);if(!Jt)return;const zt=Le.nativeEvent,Et=new xt({active:ge.current,activeNode:Jt,event:zt,options:Yt,context:dn,onAbort(it){if(!I.get(it))return;const{onDragAbort:Vt}=le.current,Mn={id:it};Vt?.(Mn),j({type:"onDragAbort",event:Mn})},onPending(it,Zt,Vt,Mn){if(!I.get(it))return;const{onDragPending:pn}=le.current,An={id:it,constraint:Zt,initialCoordinates:Vt,offset:Mn};pn?.(An),j({type:"onDragPending",event:An})},onStart(it){const Zt=ge.current;if(Zt==null)return;const Vt=I.get(Zt);if(!Vt)return;const{onDragStart:Mn}=le.current,Rn={activatorEvent:zt,active:{id:Zt,data:Vt.data,rect:U}};Pc.unstable_batchedUpdates(()=>{Mn?.(Rn),K(Bi.Initializing),L({type:Ut.DragStart,initialCoordinates:it,active:Zt}),j({type:"onDragStart",event:Rn}),st(Ms.current),re(zt)})},onMove(it){L({type:Ut.DragMove,coordinates:it})},onEnd:Lr(Ut.DragEnd),onCancel:Lr(Ut.DragCancel)});Ms.current=Et;function Lr(it){return async function(){const{active:Vt,collisions:Mn,over:Rn,scrollAdjustedTranslate:pn}=dn.current;let An=null;if(Vt&&pn){const{cancelDrop:$t}=le.current;An={activatorEvent:zt,active:Vt,collisions:Mn,delta:pn,over:Rn},it===Ut.DragEnd&&typeof $t=="function"&&await Promise.resolve($t(An))&&(it=Ut.DragCancel)}ge.current=null,Pc.unstable_batchedUpdates(()=>{L({type:it}),K(Bi.Uninitialized),vo(null),st(null),re(null),Ms.current=null;const $t=it===Ut.DragEnd?"onDragEnd":"onDragCancel";if(An){const vi=le.current[$t];vi?.(An),j({type:$t,event:An})}})}}},[I]),gi=E.useCallback((Le,Mt)=>(xt,Yt)=>{const Jt=xt.nativeEvent,zt=I.get(Yt);if(ge.current!==null||!zt||Jt.dndKit||Jt.defaultPrevented)return;const Et={active:zt};Le(xt,Mt.options,Et)===!0&&(Jt.dndKit={capturedBy:Mt.sensor},ge.current=Yt,Ln(xt,Mt))},[I,Ln]),Nr=J7(g,gi);o8(g),js(()=>{ke&&$===Bi.Initializing&&K(Bi.Initialized)},[ke,$]),E.useEffect(()=>{const{onDragMove:Le}=le.current,{active:Mt,activatorEvent:xt,collisions:Yt,over:Jt}=dn.current;if(!Mt||!xt)return;const zt={active:Mt,activatorEvent:xt,collisions:Yt,delta:{x:Yn.x,y:Yn.y},over:Jt};Pc.unstable_batchedUpdates(()=>{Le?.(zt),j({type:"onDragMove",event:zt})})},[Yn.x,Yn.y]),E.useEffect(()=>{const{active:Le,activatorEvent:Mt,collisions:xt,droppableContainers:Yt,scrollAdjustedTranslate:Jt}=dn.current;if(!Le||ge.current==null||!Mt||!Jt)return;const{onDragOver:zt}=le.current,Et=Yt.get(is),Lr=Et&&Et.rect.current?{id:Et.id,rect:Et.rect.current,data:Et.data,disabled:Et.disabled}:null,it={active:Le,activatorEvent:Mt,collisions:xt,delta:{x:Jt.x,y:Jt.y},over:Lr};Pc.unstable_batchedUpdates(()=>{vo(Lr),zt?.(it),j({type:"onDragOver",event:it})})},[is]),js(()=>{dn.current={activatorEvent:ye,active:N,activeNode:Te,collisionRect:In,collisions:ss,droppableRects:ve,draggableNodes:I,draggingNode:Pr,draggingNodeRect:Xn,droppableContainers:M,over:Xt,scrollableAncestors:Ye,scrollAdjustedTranslate:Yn},U.current={initial:Xn,translated:In}},[N,Te,ss,In,I,Pr,Xn,ve,M,Xt,Ye,Yn]),K7({...je,delta:D,draggingRect:In,pointerCoordinates:pi,scrollableAncestors:Ye,scrollableAncestorRects:fn});const yi=E.useMemo(()=>({active:N,activeNode:Te,activeNodeRect:ke,activatorEvent:ye,collisions:ss,containerNodeRect:dr,dragOverlay:hn,draggableNodes:I,droppableContainers:M,droppableRects:ve,over:Xt,measureDroppableContainers:xe,scrollableAncestors:Ye,scrollableAncestorRects:fn,measuringConfiguration:J,measuringScheduled:De,windowRect:dt}),[N,Te,ke,ye,ss,dr,hn,I,M,ve,Xt,xe,Ye,fn,J,De,dt]),Dr=E.useMemo(()=>({activatorEvent:ye,activators:Nr,active:N,activeNodeRect:ke,ariaDescribedById:{draggable:ae},dispatch:L,draggableNodes:I,over:Xt,measureDroppableContainers:xe}),[ye,Nr,N,ke,L,ae,I,Xt,xe]);return ln.createElement(K2.Provider,{value:F},ln.createElement(ep.Provider,{value:Dr},ln.createElement(lR.Provider,{value:yi},ln.createElement(cR.Provider,{value:mi},f)),ln.createElement(y8,{disabled:u?.restoreFocus===!1})),ln.createElement(v7,{...u,hiddenTextDescribedById:ae}));function jr(){const Le=Ze?.autoScrollEnabled===!1,Mt=typeof d=="object"?d.enabled===!1:d===!1,xt=q&&!Le&&!Mt;return typeof d=="object"?{...d,enabled:xt}:{enabled:xt}}}),b8=E.createContext(null),bE="button",E8="Draggable";function T8(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const a=Gu(E8),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:g,draggableNodes:v,over:x}=E.useContext(ep),{role:T=bE,roleDescription:P="draggable",tabIndex:A=0}=s??{},C=d?.id===e,L=E.useContext(C?cR:b8),[j,F]=uf(),[$,K]=uf(),q=a8(l,e),R=wu(n);js(()=>(v.set(e,{id:e,key:a,node:j,activatorNode:$,data:R}),()=>{const D=v.get(e);D&&D.key===a&&v.delete(e)}),[v,e]);const I=E.useMemo(()=>({role:T,tabIndex:A,"aria-disabled":r,"aria-pressed":C&&T===bE?!0:void 0,"aria-roledescription":P,"aria-describedby":g.draggable}),[r,T,A,C,P,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:I,isDragging:C,listeners:r?void 0:q,node:j,over:x,setNodeRef:F,setActivatorNodeRef:K,transform:L}}function S8(){return E.useContext(lR)}const C8="Droppable",I8={timeout:25};function R8(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const a=Gu(C8),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=E.useContext(ep),g=E.useRef({disabled:n}),v=E.useRef(!1),x=E.useRef(null),T=E.useRef(null),{disabled:P,updateMeasurementsFor:A,timeout:C}={...I8,...s},L=wu(A??r),j=E.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{f(Array.isArray(L.current)?L.current:[L.current]),T.current=null},C)},[C]),F=Zf({callback:j,disabled:P||!l}),$=E.useCallback((I,D)=>{F&&(D&&(F.unobserve(D),v.current=!1),I&&F.observe(I))},[F]),[K,q]=uf($),R=wu(e);return E.useEffect(()=>{!F||!K.current||(F.disconnect(),v.current=!1,F.observe(K.current))},[K,F]),E.useEffect(()=>(u({type:Ut.RegisterDroppable,element:{id:r,key:a,disabled:n,node:K,rect:x,data:R}}),()=>u({type:Ut.UnregisterDroppable,key:a,id:r})),[r]),E.useEffect(()=>{n!==g.current.disabled&&(u({type:Ut.SetDroppableDisabled,id:r,key:a,disabled:n}),g.current.disabled=n)},[r,a,n,u]),{active:l,rect:x,isOver:d?.id===r,node:K,over:d,setNodeRef:q}}function Cv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function A8(t,e){return t.reduce((n,r,s)=>{const a=e.get(r);return a&&(n[s]=a),n},Array(t.length))}function mh(t){return t!==null&&t>=0}function k8(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function P8(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const uR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const a=Cv(e,r,n),l=e[s],u=a[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},gh={scaleX:1,scaleY:1},N8=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:l}=t;const u=(e=a[n])!=null?e:r;if(!u)return null;if(s===n){const f=a[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...gh}:null}const d=D8(a,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,...gh}:s<n&&s>=l?{x:0,y:u.height+d,...gh}:{x:0,y:0,...gh}};function D8(t,e,n){const r=t[e],s=t[e-1],a=t[e+1];return r?n<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const dR="Sortable",hR=ln.createContext({activeIndex:-1,containerId:dR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:uR,disabled:{draggable:!1,droppable:!1}});function j8(t){let{children:e,id:n,items:r,strategy:s=uR,disabled:a=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:f,measureDroppableContainers:g}=S8(),v=Gu(dR,n),x=u.rect!==null,T=E.useMemo(()=>r.map(q=>typeof q=="object"&&"id"in q?q.id:q),[r]),P=l!=null,A=l?T.indexOf(l.id):-1,C=f?T.indexOf(f.id):-1,L=E.useRef(T),j=!k8(T,L.current),F=C!==-1&&A===-1||j,$=P8(a);js(()=>{j&&P&&g(T)},[j,T,P,g]),E.useEffect(()=>{L.current=T},[T]);const K=E.useMemo(()=>({activeIndex:A,containerId:v,disabled:$,disableTransforms:F,items:T,overIndex:C,useDragOverlay:x,sortedRects:A8(T,d),strategy:s}),[A,v,$.draggable,$.droppable,F,T,C,d,x,s]);return ln.createElement(hR.Provider,{value:K},e)}const L8=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Cv(n,r,s).indexOf(e)},M8=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:u,previousContainerId:d,transition:f}=t;return!f||!r||u!==a&&s===l?!1:n?!0:l!==s&&e===d},V8={duration:200,easing:"ease"},fR="transform",O8=_u.Transition.toString({property:fR,duration:0,easing:"linear"}),F8={roleDescription:"sortable"};function U8(t){let{disabled:e,index:n,node:r,rect:s}=t;const[a,l]=E.useState(null),u=E.useRef(n);return js(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const f=Ol(r.current,{ignoreTransform:!0}),g={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),E.useEffect(()=>{a&&l(null)},[a]),a}function B8(t){let{animateLayoutChanges:e=M8,attributes:n,disabled:r,data:s,getNewIndex:a=L8,id:l,strategy:u,resizeObserverConfig:d,transition:f=V8}=t;const{items:g,containerId:v,activeIndex:x,disabled:T,disableTransforms:P,sortedRects:A,overIndex:C,useDragOverlay:L,strategy:j}=E.useContext(hR),F=z8(r,T),$=g.indexOf(l),K=E.useMemo(()=>({sortable:{containerId:v,index:$,items:g},...s}),[v,s,$,g]),q=E.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:R,node:I,isOver:D,setNodeRef:M}=R8({id:l,data:K,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...d}}),{active:O,activatorEvent:U,activeNodeRect:N,attributes:ge,setNodeRef:Ze,listeners:st,isDragging:ye,over:re,setActivatorNodeRef:le,transform:ae}=T8({id:l,data:K,attributes:{...F8,...n},disabled:F.draggable}),W=i7(M,Ze),J=!!O,ve=J&&!P&&mh(x)&&mh(C),xe=!L&&ye,De=xe&&ve?ae:null,Be=ve?De??(u??j)({rects:A,activeNodeRect:N,activeIndex:x,overIndex:C,index:$}):null,je=mh(x)&&mh(C)?a({id:l,items:g,activeIndex:x,overIndex:C}):$,Ve=O?.id,ke=E.useRef({activeId:Ve,items:g,newIndex:je,containerId:v}),dr=g!==ke.current.items,dn=e({active:O,containerId:v,isDragging:ye,isSorting:J,id:l,index:$,items:g,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:f,wasDragging:ke.current.activeId!=null}),Cn=U8({disabled:!dn,index:$,node:I,rect:R});return E.useEffect(()=>{J&&ke.current.newIndex!==je&&(ke.current.newIndex=je),v!==ke.current.containerId&&(ke.current.containerId=v),g!==ke.current.items&&(ke.current.items=g)},[J,je,v,g]),E.useEffect(()=>{if(Ve===ke.current.activeId)return;if(Ve!=null&&ke.current.activeId==null){ke.current.activeId=Ve;return}const Pr=setTimeout(()=>{ke.current.activeId=Ve},50);return()=>clearTimeout(Pr)},[Ve]),{active:O,activeIndex:x,attributes:ge,data:K,rect:R,index:$,newIndex:je,items:g,isOver:D,isSorting:J,isDragging:ye,listeners:st,node:I,overIndex:C,over:re,setNodeRef:W,setActivatorNodeRef:le,setDroppableNodeRef:M,setDraggableNodeRef:Ze,transform:Cn??Be,transition:hn()};function hn(){if(Cn||dr&&ke.current.newIndex===$)return O8;if(!(xe&&!_v(U)||!f)&&(J||dn))return _u.Transition.toString({...f,property:fR})}}function z8(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function ff(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const $8=[$e.Down,$e.Right,$e.Up,$e.Left],W8=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:u}}=e;if($8.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];a.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=s.get(v.id);if(x)switch(t.code){case $e.Down:r.top<x.top&&d.push(v);break;case $e.Up:r.top>x.top&&d.push(v);break;case $e.Left:r.left>x.left&&d.push(v);break;case $e.Right:r.left<x.left&&d.push(v);break}});const f=b7({collisionRect:r,droppableRects:s,droppableContainers:d});let g=Y2(f,"id");if(g===l?.id&&f.length>1&&(g=f[1].id),g!=null){const v=a.get(n.id),x=a.get(g),T=x?s.get(x.id):null,P=x?.node.current;if(P&&T&&v&&x){const C=Jf(P).some((q,R)=>u[R]!==q),L=pR(v,x),j=q8(v,x),F=C||!L?{x:0,y:0}:{x:j?r.width-T.width:0,y:j?r.height-T.height:0},$={x:T.left,y:T.top};return F.x&&F.y?$:xu($,F)}}}};function pR(t,e){return!ff(t)||!ff(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function q8(t,e){return!ff(t)||!ff(e)||!pR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const H8=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:u,transition:d,isDragging:f}=B8({id:t}),g={transform:_u.Transform.toString(u),transition:d,zIndex:f?50:"auto"};return m.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${f?"shadow-lg ring-2 ring-blue-100":""}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[n&&m.jsx("button",{...s,...a,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),m.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&m.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},G8=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],K8=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=E.useState(""),[a,l]=E.useState(!1),u=w7(uE(Sv),uE(Ev,{coordinateGetter:W8})),d=x=>{const{active:T,over:P}=x;if(P&&T.id!==P.id){const A=t.indexOf(T.id),C=t.indexOf(P.id);n(Cv(t,A,C))}},f=x=>{const T=x.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=x=>{n(t.filter(T=>T!==x))},v=G8.filter(x=>x.toLowerCase().includes(r.toLowerCase())&&!t.includes(x));return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:r,onChange:x=>{s(x.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:x=>{x.key==="Enter"&&f(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),a&&r&&v.length>0&&m.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(x=>m.jsx("button",{onClick:()=>f(x),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:x},x))})]}),m.jsx(_8,{sensors:u,collisionDetection:_7,onDragEnd:d,children:m.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.jsx(j8,{items:t,strategy:N8,children:t.map(x=>m.jsx(H8,{id:x,skill:x,isOwnProfile:e,onRemove:g},x))})})}),t.length===0&&m.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},Q8=({onActionComplete:t})=>{const[e,n]=E.useState([]),[r,s]=E.useState(!0),a=async()=>{s(!0);try{const d=await P9(),f=await Promise.all(d.map(async g=>{const v=await Ds(Lt(We,"users",g.requesterId));if(v.exists()){const x=v.data();return{...g,requesterName:x.name,requesterAvatar:x.avatar}}return g}));n(f)}catch(d){console.error("Error loading incoming requests:",d)}finally{s(!1)}};E.useEffect(()=>{a()},[]);const l=async d=>{try{await R9(d),n(f=>f.filter(g=>g.id!==d)),t()}catch(f){console.error("Error accepting request:",f)}},u=async d=>{try{await A9(d),n(f=>f.filter(g=>g.id!==d)),t()}catch(f){console.error("Error ignoring request:",f)}};return r||e.length===0?null:m.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",m.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),m.jsx("div",{className:"space-y-4",children:e.map(d=>m.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[m.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:m.jsx("img",{src:d.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${d.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-grow text-center md:text-left",children:[m.jsx("h4",{className:"font-bold text-gray-900",children:d.requesterName||"Anonymous Student"}),d.note&&m.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',d.note,'"']})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>u(d.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),m.jsx("button",{onClick:()=>l(d.id),className:"px-6 py-2 text-xs font-bold bg-[#0066FF] text-white rounded-xl shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all",children:"Accept"})]})]},d.id))})]})},EE=()=>{const t=Ls(),{userId:e}=DE(),[n,r]=E.useState(!0),[s,a]=E.useState(null),[l,u]=E.useState(!1),[d,f]=E.useState("none"),[g,v]=E.useState(!1),[x,T]=E.useState([]),[P,A]=E.useState(!1),[C,L]=E.useState(null),[j,F]=E.useState(!1),[$,K]=E.useState(!1),[q,R]=E.useState("");ln.useEffect(()=>{(async()=>{try{const N=Qe.currentUser;if(!N){t("/login");return}const ge=e||N.uid;u(ge===N.uid);const Ze=Lt(We,"users",ge),st=await Ds(Ze);if(st.exists()){const re=st.data();if(a(re),ge!==N.uid){const le=Sn(We,"connections"),ae=Xr(le,lr("requesterId","==",N.uid),lr("recipientId","==",ge)),W=Xr(le,lr("requesterId","==",ge),lr("recipientId","==",N.uid)),[J,ve]=await Promise.all([Ar(ae),Ar(W)]);if(J.empty){if(!ve.empty){const xe=ve.docs[0].data().status;f(xe==="accepted"?"connected":"received")}}else{const xe=J.docs[0].data().status;f(xe==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const ye=await Zb(ge);T(ye)}catch(N){console.error("Error fetching user data:",N)}finally{r(!1)}})()},[t,e]);const I=async()=>{const U=e||s?.uid;if(!(!Qe.currentUser||!U)){if(!$){K(!0);return}v(!0);try{await W2(U,q),f("pending"),K(!1),R("")}catch(N){const ge=N;console.error("Error sending connection request:",ge),alert(ge.message)}finally{v(!1)}}},D=async U=>{if(U.preventDefault(),!(!Qe.currentUser||!C)){F(!0);try{C.id?await j9(C.id,C):await D9(Qe.currentUser.uid,C);const N=await Zb(s?.uid||Qe.currentUser.uid);T(N),A(!1),L(null)}catch(N){console.error("Error saving project:",N),alert("Failed to save project.")}finally{F(!1)}}},M=async U=>{if(window.confirm("Are you sure you want to delete this project?"))try{await L9(U),T(N=>N.filter(ge=>ge.id!==U))}catch(N){console.error("Error deleting project:",N),alert("Failed to delete project.")}},O=async U=>{if(!(!Qe.currentUser||!s))try{const N=Lt(We,"users",s.uid||Qe.currentUser.uid);await Ou(N,{skills:U}),a(ge=>ge?{...ge,skills:U}:null)}catch(N){console.error("Error updating skills:",N),alert("Failed to update skills.")}};return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),m.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?m.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[m.jsxs("div",{className:"relative h-44 md:h-80 w-full overflow-hidden",style:{transform:"translateZ(0)"},children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20",style:{transform:"translateZ(0)"}}),m.jsx(Ee.div,{animate:{scale:[1,1.1,1],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute top-[-10%] right-[-5%] w-64 h-64 bg-white/10 rounded-full blur-3xl pointer-events-none"}),m.jsx(Ee.div,{animate:{y:[0,20,0],opacity:[.2,.25,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute bottom-[-5%] left-[5%] w-48 h-48 bg-blue-400/20 rounded-full blur-2xl pointer-events-none"})]}),m.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-40 relative z-10",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l&&m.jsx(Q8,{onActionComplete:()=>{}}),m.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 overflow-hidden",children:m.jsx("div",{className:"p-8 md:p-10",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-end text-center md:text-left",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#0066FF] to-[#00E0FF] rounded-full blur-md opacity-20 group-hover:opacity-40 transition-opacity"}),l?m.jsx(s7,{userId:Qe.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:U=>a(N=>N?{...N,avatar:U}:null)}):m.jsx("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:m.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})]}),m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight",children:s.name}),s.isAdmin&&m.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[10px] font-black uppercase rounded-md border border-blue-200",children:"Admin"})]}),m.jsx("p",{className:"text-blue-600 font-semibold text-xl mb-4",children:s.role}),m.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-y-3 gap-x-6 text-sm text-gray-500 font-medium",children:[m.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-100",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-[#0066FF]",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),s.institution]}),m.jsxs("span",{className:"text-[#0066FF] font-bold cursor-pointer hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-transparent hover:border-blue-100",children:[s.connectionCount||0," connections"]})]})]}),m.jsx("div",{className:"flex gap-3 w-full md:w-auto mt-6 md:mt-0",children:l?m.jsx("button",{onClick:()=>t("/onboarding"),className:"flex-1 md:flex-none px-8 py-3 bg-[#0066FF] text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20 hover:scale-[1.02] active:scale-[0.98]",children:"Edit Profile"}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:I,disabled:d!=="none"||g,className:`flex-1 md:flex-none px-8 py-3 rounded-2xl font-bold text-sm transition-all shadow-xl ${d==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20 hover:scale-[1.02]":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:g?"...":d==="pending"?"Pending":d==="connected"?"Connected":d==="received"?"Accept Request":"Connect"}),m.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 border-2 border-gray-100 text-[#0f172a] rounded-2xl font-bold text-sm hover:bg-gray-50 transition-all",children:"Message"})]})})]})})}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[m.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] mb-6 flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"About"]}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-lg whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-10",children:[m.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),m.jsxs("div",{className:"flex gap-2",children:[l&&m.jsx("button",{onClick:()=>{L({title:"",description:"",role:"",techStack:[],duration:"",githubUrl:"",liveUrl:""}),A(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl hover:bg-blue-100 transition-all",children:"+ Add Project"}),m.jsx("button",{className:"px-4 py-2 text-sm text-[#0066FF] font-bold hover:bg-blue-50 rounded-xl transition-all border border-transparent hover:border-blue-100",children:"View All"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.length>0?x.map(U=>m.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 hover:border-[#0066FF]/30 hover:bg-[#0066FF]/[0.02] transition-all cursor-pointer group flex flex-col h-full relative",children:[l&&m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:N=>{N.stopPropagation(),L(U),A(!0)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-blue-600",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),m.jsx("button",{onClick:N=>{N.stopPropagation(),M(U.id)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-red-600",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),m.jsx("h4",{className:"font-bold text-xl text-[#0f172a] group-hover:text-[#0066FF] mb-1 transition-colors",children:U.title}),m.jsx("p",{className:"text-blue-600 text-xs font-bold mb-3",children:U.role}),m.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-3 leading-relaxed flex-grow",children:U.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex flex-wrap gap-2",children:U.techStack?.slice(0,3).map(N=>m.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-[10px] font-bold border border-gray-100 uppercase",children:N},N))}),m.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:U.duration})]})]},U.id)):m.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:[m.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."}),l&&m.jsx("p",{className:"text-sm text-blue-500 mt-2 cursor-pointer hover:underline",onClick:()=>A(!0),children:"Add your first project"})]})})]})]}),m.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[m.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",style:{willChange:"transform"},children:[m.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-8 uppercase tracking-widest text-center",children:"Social Links"}),m.jsxs("div",{className:"space-y-4",children:[s.socials?.linkedin?m.jsxs("a",{href:s.socials.linkedin.startsWith("http")?s.socials.linkedin:`https://${s.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#0077b5] hover:bg-blue-50/10 transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0077b5]/10 text-[#0077b5] flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"LinkedIn"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"LinkedNot Found"}),s.socials?.github?m.jsxs("a",{href:s.socials.github.startsWith("http")?s.socials.github:`https://${s.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-black hover:bg-gray-50 transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 text-black flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"GitHub"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"No Commits Yet"}),s.socials?.twitter?m.jsxs("a",{href:s.socials.twitter.startsWith("http")?s.socials.twitter:`https://${s.socials.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#1DA1F2] hover:bg-[#1DA1F2]/[0.02] transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1DA1F2]/10 text-[#1DA1F2] flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M22 4.01c-.78.35-1.63.58-2.52.7a4.41 4.41 0 0 0 1.93-2.43 8.78 8.78 0 0 1-2.79 1.07 4.39 4.39 0 0 0-7.49 4c-3.66-.18-6.9-1.94-9.08-4.6a4.39 4.39 0 0 0 1.36 5.85 4.38 4.38 0 0 1-1.99-.55v.06a4.4 4.4 0 0 0 3.51 4.3 4.38 4.38 0 0 1-1.97.07 4.4 4.4 0 0 0 4.1 3.05 8.79 8.79 0 0 1-5.46 1.88c-.35 0-.7-.02-1.05-.06a12.42 12.42 0 0 0 6.72 1.97c8.06 0 12.48-6.68 12.48-12.48 0-.19 0-.38-.01-.57A8.92 8.92 0 0 0 22 4.01z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"Twitter / X"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"Not on X"})]})]}),m.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:m.jsx(K8,{skills:s.skills||[],isOwnProfile:l,onUpdate:O})}),m.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-[#0066FF] rounded-3xl shadow-xl shadow-blue-900/20 p-8 text-white text-center",children:[m.jsx("h3",{className:"font-black text-xl mb-8 uppercase tracking-widest",children:"Network"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[m.jsx("div",{className:"absolute left-1/2 top-4 bottom-4 w-px bg-white/20 -translate-x-1/2"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.followers||0}),m.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Founders"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.projects||0}),m.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Collabs"})]})]}),!l&&m.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[m.jsx("p",{className:"text-xs font-bold text-white/80 mb-4 uppercase tracking-tighter",children:"Mutual Connections"}),m.jsxs("div",{className:"flex justify-center -space-x-3",children:[[1,2,3,4].map(U=>m.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-white overflow-hidden shadow-lg relative z-[10-i]",children:m.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=friend${U+s.uid}`,alt:"",className:"w-full h-full object-cover"})},U)),m.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-blue-400 flex items-center justify-center text-[10px] font-black shadow-lg relative z-0",children:["+",Math.floor(Math.random()*20)+5]})]})]})]})]})]})}),m.jsx(la,{children:P&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),className:"absolute inset-0 bg-black/70"}),m.jsxs(Ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsx("h3",{className:"text-2xl font-black text-[#0f172a]",children:C?.id?"Edit Project":"Add New Project"}),m.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-200 rounded-xl transition-colors text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:D,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Project Title"}),m.jsx("input",{required:!0,type:"text",value:C?.title||"",onChange:U=>L(N=>({...N,title:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. CollabX Networking Module"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Your Role"}),m.jsx("input",{required:!0,type:"text",value:C?.role||"",onChange:U=>L(N=>({...N,role:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. Lead Designer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Duration"}),m.jsx("input",{required:!0,type:"text",value:C?.duration||"",onChange:U=>L(N=>({...N,duration:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. 3 Months"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Description"}),m.jsx("textarea",{required:!0,rows:4,value:C?.description||"",onChange:U=>L(N=>({...N,description:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Tell us about the project goal and your impact..."})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Tech Stack (Comma Separated)"}),m.jsx("input",{type:"text",value:C?.techStack?.join(", ")||"",onChange:U=>L(N=>({...N,techStack:U.target.value.split(",").map(ge=>ge.trim()).filter(ge=>ge!=="")})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. React, Firebase, Tailwind"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"GitHub URL"}),m.jsx("input",{type:"url",value:C?.githubUrl||"",onChange:U=>L(N=>({...N,githubUrl:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://github.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Live Demo URL"}),m.jsx("input",{type:"url",value:C?.liveUrl||"",onChange:U=>L(N=>({...N,liveUrl:U.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://collabx.app/..."})]})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 px-8 py-4 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:j,className:"flex-[2] px-8 py-4 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:j?"Saving...":C?.id?"Update Project":"Add Project"})]})]})]})]})}),m.jsx(la,{children:$&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>K(!1),className:"absolute inset-0 bg-[#0f172a]/60"}),m.jsxs(Ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 bg-gray-50/50",children:[m.jsx("h3",{className:"text-xl font-black text-[#0f172a]",children:"Send Connection Request"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"LinkedIn-style personalized note (optional)"})]}),m.jsxs("div",{className:"p-8 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Message (Max 300 chars)"}),m.jsx("textarea",{rows:4,maxLength:300,value:q,onChange:U=>R(U.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Hi! I saw your project and would love to connect..."}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[q.length,"/300"]})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>K(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{onClick:I,disabled:g,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:g?"Sending...":"Send Request"})]})]})]})]})})]}):null};function X8({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Y8=E.forwardRef(X8);function J8({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Z8=E.forwardRef(J8);function eB({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const tB=E.forwardRef(eB);function nB({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rB=E.forwardRef(nB),sB=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=E.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:u,type:d,checked:f}=a.target;n(g=>({...g,[l]:d==="checkbox"?f:u}))},s=a=>{a.preventDefault(),console.log("Form submitted:",e)};return m.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[m.jsx(on,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-900",children:"Executive Education"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:t.title})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[m.jsx("div",{className:"flex items-center gap-4 mb-4",children:m.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:m.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),m.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),m.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),m.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(rB,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),m.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Z8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Y8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[m.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[m.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),m.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),m.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),m.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>m.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[m.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),m.jsx(tB,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),m.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsx("div",{className:"sticky top-24",children:m.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),m.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsx("div",{children:m.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsxs("div",{className:"space-y-3 pt-2",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),m.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},iB=()=>{const{resourceId:t}=DE(),e=Ls(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),a=r(t||"");return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsx($2,{}),m.jsx("main",{className:"pt-32 pb-20 px-6",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs(Ee.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[m.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),m.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>m.jsxs(Ee.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),m.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),m.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),m.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:d=>d.preventDefault(),children:["Access Resource ",m.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},oB=()=>{const t=Ls(),[e,n]=E.useState(!0),[r,s]=E.useState(""),[a,l]=E.useState(""),[u,d]=E.useState(!1),[f,g]=E.useState(""),[v,x]=E.useState(""),T=async()=>{try{const C=(await iS(Qe,cI)).user,L=Lt(We,"users",C.uid);(await Ds(L)).exists()?t("/"):t("/onboarding")}catch(A){A instanceof Error?g(A.message):g("An unexpected error occurred")}},P=async A=>{A.preventDefault(),d(!0),g(""),x("");try{if(e){const C=await KT(Qe,r,a),L=Lt(We,"users",C.user.uid);(await Ds(L)).exists()?t("/"):t("/onboarding")}else await GT(Qe,r,a),t("/onboarding")}catch(C){C instanceof Error?g(C.message):g("An unexpected error occurred")}finally{d(!1)}};return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),m.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),m.jsxs(Ee.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),m.jsx("span",{children:"Continue with Google"})]}),m.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[m.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),m.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),m.jsxs("form",{onSubmit:P,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),m.jsx("input",{type:"email",required:!0,value:r,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),m.jsx("input",{type:"password",required:!0,value:a,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),m.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),m.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),m.jsxs(la,{children:[f&&m.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:f}),v&&m.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),m.jsx(Ee.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),m.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:m.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},aB=()=>{const t=Ls(),[e,n]=E.useState(!1),[r,s]=E.useState(""),[a,l]=E.useState(""),[u,d]=E.useState(""),[f,g]=E.useState(""),[v,x]=E.useState(""),[T,P]=E.useState([]),[A,C]=E.useState(""),[L,j]=E.useState("");ln.useEffect(()=>{(async()=>{const R=Qe.currentUser;if(R){const I=Lt(We,"users",R.uid),D=await Ds(I);if(D.exists()){const M=D.data();s(M.name||""),l(M.role||""),d(M.institution||""),g(M.bio||""),P(M.skills||[]),C(M.socials?.github||""),j(M.socials?.linkedin||"")}}})()},[]);const F=q=>{q.key==="Enter"&&v.trim()&&(q.preventDefault(),T.length<5&&!T.includes(v.trim())&&(P([...T,v.trim()]),x("")))},$=q=>{P(T.filter(R=>R!==q))},K=async q=>{q.preventDefault(),n(!0);try{const R=Qe.currentUser;if(!R)throw new Error("No user logged in");await zC(Lt(We,"users",R.uid),{name:r,role:a,institution:u,bio:f,skills:T,socials:{github:A,linkedin:L},stats:{projects:0,stars:0,followers:0,following:0},avatar:R.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:R.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(R){console.error("Error saving profile:",R),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:m.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),m.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),m.jsxs("form",{onSubmit:K,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:q=>s(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),m.jsx("input",{type:"text",required:!0,value:a,onChange:q=>l(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),m.jsx("input",{type:"text",required:!0,value:u,onChange:q=>d(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),m.jsx("textarea",{required:!0,value:f,onChange:q=>g(q.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",m.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(q=>m.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[q,m.jsx("button",{type:"button",onClick:()=>$(q),className:"hover:text-red-500",children:""})]},q))}),m.jsx("input",{type:"text",value:v,onChange:q=>x(q.target.value),onKeyDown:F,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),m.jsx("input",{type:"text",value:A,onChange:q=>C(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),m.jsx("input",{type:"text",value:L,onChange:q=>j(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),m.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},lB=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>m.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[m.jsx("div",{className:"flex-grow",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"",children:"University (All)"}),m.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),m.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"",children:"Role (All)"}),m.jsx("option",{value:"Frontend",children:"Frontend"}),m.jsx("option",{value:"Backend",children:"Backend"}),m.jsx("option",{value:"Fullstack",children:"Fullstack"}),m.jsx("option",{value:"Designer",children:"Designer"}),m.jsx("option",{value:"Researcher",children:"Researcher"})]}),m.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"recent",children:"Recently Active"}),m.jsx("option",{value:"connections",children:"Most Connections"}),m.jsx("option",{value:"university",children:"Same University"})]})]})]})}),cB=()=>{const t=Ls(),[e,n]=E.useState([]),[r,s]=E.useState(!0),[a,l]=E.useState(""),[u,d]=E.useState({institution:"",role:""}),[f,g]=E.useState("recent"),[v,x]=E.useState(null);E.useEffect(()=>{(async()=>{try{const C=Qe.currentUser;if(C){const F=Lt(We,"users",C.uid),$=await Ds(F);$.exists()&&x($.data())}const L=await Ar(Sn(We,"users")),j=[];L.forEach(F=>{const $=F.data();F.id!==C?.uid&&j.push({...$,uid:F.id})}),n(j)}catch(C){console.error("Error fetching students:",C)}finally{s(!1)}})()},[]);const T=E.useMemo(()=>e.filter(A=>{const C=a.toLowerCase(),L=A.name.toLowerCase().includes(C)||A.role.toLowerCase().includes(C)||A.headline&&A.headline.toLowerCase().includes(C)||A.skills?.some($=>$.toLowerCase().includes(C)),j=!u.institution||A.institution===u.institution,F=!u.role||A.role.toLowerCase().includes(u.role.toLowerCase());return L&&j&&F}).sort((A,C)=>{if(f==="connections")return(C.connectionCount||0)-(A.connectionCount||0);if(f==="university"&&v?.institution){const L=A.institution===v.institution?1:0;return(C.institution===v.institution?1:0)-L}return 0}),[e,a,u,f,v]),P=()=>m.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm p-4 h-[320px] animate-pulse",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),m.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),m.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return m.jsx("div",{className:"min-h-screen bg-[#F8FAFC] pt-24 pb-20",children:m.jsxs("div",{className:"container-custom mx-auto px-4",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#0f172a] mb-4",children:"Network & Collaborate"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Connect with ambitious students from top universities and build your community."})]}),m.jsx(lB,{onSearchChange:l,onFilterChange:(A,C)=>d(L=>({...L,[A]:C})),onSortChange:g}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r?Array.from({length:8}).map((A,C)=>m.jsx(P,{},C)):m.jsx(la,{children:T.length>0?T.map(A=>m.jsx(q2,{student:A,onClick:()=>t(`/profile/${A.uid}`)},A.uid)):m.jsxs("div",{className:"col-span-full py-20 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),m.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search query."})]})})})]})})},uB=()=>m.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[m.jsxs("div",{className:"col-span-1 md:col-span-1",children:[m.jsxs(on,{to:"/",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx(on,{to:"/#resources",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),m.jsx("li",{children:m.jsx(on,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),m.jsx("li",{children:m.jsx(on,{to:"/students",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),m.jsx("li",{children:m.jsx(on,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"https://x.com/x_collab56418",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),m.jsx("a",{href:"https://www.linkedin.com/company/105358117/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),m.jsx("a",{href:"https://github.com/Harshavardhanyedla/collabX",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),m.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[m.jsx("span",{children:" 2026 CollabX. All rights reserved."}),m.jsx("span",{className:"hidden md:inline",children:"|"}),m.jsx("span",{children:"Powered by Google Cloud"})]}),m.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),dB=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[s,a]=E.useState(""),[l,u]=E.useState("idle"),d=async f=>{f.preventDefault(),u("submitting");try{await ma(Sn(We,"feedback"),{name:t,email:n,message:s,created_at:Xe.now()}),u("success"),e(""),r(""),a(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return m.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:m.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:m.jsxs("form",{onSubmit:d,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),m.jsx("input",{type:"text",id:"name",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:n,onChange:f=>r(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),m.jsx("textarea",{id:"message",value:s,onChange:f=>a(f.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),m.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&m.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&m.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},yh=({children:t})=>{const[e,n]=E.useState(!0),[r,s]=E.useState(!1);return E.useEffect(()=>{const a=Au(Qe,l=>{s(!!l),n(!1)});return()=>a()},[]),e?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?m.jsx(m.Fragment,{children:t}):m.jsx(yk,{to:"/login"})},hB=()=>{const{pathname:t,hash:e}=es();return E.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},fB=()=>{const t=es();return ln.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),m.jsxs("main",{className:"bg-white min-h-screen",children:[m.jsx(E9,{}),m.jsx(T9,{}),m.jsx(C9,{}),m.jsx(I9,{}),m.jsx(N9,{}),m.jsx(dB,{})]})},pB=()=>m.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[m.jsx(hB,{}),m.jsx($2,{}),m.jsxs(wk,{children:[m.jsx(Js,{path:"/",element:m.jsx(fB,{})}),m.jsx(Js,{path:"/profile",element:m.jsx(yh,{children:m.jsx(EE,{})})}),m.jsx(Js,{path:"/profile/:userId",element:m.jsx(yh,{children:m.jsx(EE,{})})}),m.jsx(Js,{path:"/students",element:m.jsx(yh,{children:m.jsx(cB,{})})}),m.jsx(Js,{path:"/onboarding",element:m.jsx(yh,{children:m.jsx(aB,{})})}),m.jsx(Js,{path:"/roadmap/:roadmapId",element:m.jsx(sB,{})}),m.jsx(Js,{path:"/resource/:resourceId",element:m.jsx(iB,{})}),m.jsx(Js,{path:"/login",element:m.jsx(oB,{})})]}),m.jsx(uB,{})]});RA.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(zk,{children:m.jsx(pB,{})})}));
