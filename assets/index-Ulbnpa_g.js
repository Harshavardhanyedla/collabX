(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function J2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sp={exports:{}},Ml={},ip={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Z2(){if(Mv)return Pe;Mv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function b(B,J,Ce){this.props=B,this.context=J,this.refs=L,this.updater=Ce||A}b.prototype.isReactComponent={},b.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=b.prototype;function U(B,J,Ce){this.props=B,this.context=J,this.refs=L,this.updater=Ce||A}var G=U.prototype=new F;G.constructor=U,D(G,b.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ne=Object.prototype.hasOwnProperty,X={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(B,J,Ce){var be,Re={},ke=null,ze=null;if(J!=null)for(be in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(ke=""+J.key),J)ne.call(J,be)&&!C.hasOwnProperty(be)&&(Re[be]=J[be]);var Oe=arguments.length-2;if(Oe===1)Re.children=Ce;else if(1<Oe){for(var Ke=Array(Oe),Zt=0;Zt<Oe;Zt++)Ke[Zt]=arguments[Zt+2];Re.children=Ke}if(B&&B.defaultProps)for(be in Oe=B.defaultProps,Oe)Re[be]===void 0&&(Re[be]=Oe[be]);return{$$typeof:t,type:B,key:ke,ref:ze,props:Re,_owner:X.current}}function P(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ce){return J[Ce]})}var z=/\/+/g;function N(B,J){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):J.toString(36)}function We(B,J,Ce,be,Re){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(ke){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,Re=Re(ze),B=be===""?"."+N(ze,0):be,re(Re)?(Ce="",B!=null&&(Ce=B.replace(z,"$&/")+"/"),We(Re,J,Ce,"",function(Zt){return Zt})):Re!=null&&(V(Re)&&(Re=P(Re,Ce+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+B)),J.push(Re)),1;if(ze=0,be=be===""?".":be+":",re(B))for(var Oe=0;Oe<B.length;Oe++){ke=B[Oe];var Ke=be+N(ke,Oe);ze+=We(ke,J,Ce,Ke,Re)}else if(Ke=E(B),typeof Ke=="function")for(B=Ke.call(B),Oe=0;!(ke=B.next()).done;)ke=ke.value,Ke=be+N(ke,Oe++),ze+=We(ke,J,Ce,Ke,Re);else if(ke==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function ct(B,J,Ce){if(B==null)return B;var be=[],Re=0;return We(B,be,"","",function(ke){return J.call(Ce,ke,Re++)}),be}function Dt(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(Ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ce)},function(Ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ce)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Ae={current:null},se={transition:null},fe={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:se,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ct,forEach:function(B,J,Ce){ct(B,function(){J.apply(this,arguments)},Ce)},count:function(B){var J=0;return ct(B,function(){J++}),J},toArray:function(B){return ct(B,function(J){return J})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Pe.Component=b,Pe.Fragment=n,Pe.Profiler=i,Pe.PureComponent=U,Pe.StrictMode=r,Pe.Suspense=f,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Pe.act=ae,Pe.cloneElement=function(B,J,Ce){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var be=D({},B.props),Re=B.key,ke=B.ref,ze=B._owner;if(J!=null){if(J.ref!==void 0&&(ke=J.ref,ze=X.current),J.key!==void 0&&(Re=""+J.key),B.type&&B.type.defaultProps)var Oe=B.type.defaultProps;for(Ke in J)ne.call(J,Ke)&&!C.hasOwnProperty(Ke)&&(be[Ke]=J[Ke]===void 0&&Oe!==void 0?Oe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)be.children=Ce;else if(1<Ke){Oe=Array(Ke);for(var Zt=0;Zt<Ke;Zt++)Oe[Zt]=arguments[Zt+2];be.children=Oe}return{$$typeof:t,type:B.type,key:Re,ref:ke,props:be,_owner:ze}},Pe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Pe.createElement=I,Pe.createFactory=function(B){var J=I.bind(null,B);return J.type=B,J},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(B){return{$$typeof:h,render:B}},Pe.isValidElement=V,Pe.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Dt}},Pe.memo=function(B,J){return{$$typeof:p,type:B,compare:J===void 0?null:J}},Pe.startTransition=function(B){var J=se.transition;se.transition={};try{B()}finally{se.transition=J}},Pe.unstable_act=ae,Pe.useCallback=function(B,J){return Ae.current.useCallback(B,J)},Pe.useContext=function(B){return Ae.current.useContext(B)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(B){return Ae.current.useDeferredValue(B)},Pe.useEffect=function(B,J){return Ae.current.useEffect(B,J)},Pe.useId=function(){return Ae.current.useId()},Pe.useImperativeHandle=function(B,J,Ce){return Ae.current.useImperativeHandle(B,J,Ce)},Pe.useInsertionEffect=function(B,J){return Ae.current.useInsertionEffect(B,J)},Pe.useLayoutEffect=function(B,J){return Ae.current.useLayoutEffect(B,J)},Pe.useMemo=function(B,J){return Ae.current.useMemo(B,J)},Pe.useReducer=function(B,J,Ce){return Ae.current.useReducer(B,J,Ce)},Pe.useRef=function(B){return Ae.current.useRef(B)},Pe.useState=function(B){return Ae.current.useState(B)},Pe.useSyncExternalStore=function(B,J,Ce){return Ae.current.useSyncExternalStore(B,J,Ce)},Pe.useTransition=function(){return Ae.current.useTransition()},Pe.version="18.3.1",Pe}var Ov;function jm(){return Ov||(Ov=1,ip.exports=Z2()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function eA(){if(Fv)return Ml;Fv=1;var t=jm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var y,_={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:h,key:E,ref:A,props:_,_owner:i.current}}return Ml.Fragment=n,Ml.jsx=l,Ml.jsxs=l,Ml}var Uv;function tA(){return Uv||(Uv=1,sp.exports=eA()),sp.exports}var g=tA(),R=jm();const Mm=J2(R);var eh={},op={exports:{}},cn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function nA(){return Bv||(Bv=1,(function(t){function e(se,fe){var ae=se.length;se.push(fe);e:for(;0<ae;){var B=ae-1>>>1,J=se[B];if(0<i(J,fe))se[B]=fe,se[ae]=J,ae=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var fe=se[0],ae=se.pop();if(ae!==fe){se[0]=ae;e:for(var B=0,J=se.length,Ce=J>>>1;B<Ce;){var be=2*(B+1)-1,Re=se[be],ke=be+1,ze=se[ke];if(0>i(Re,ae))ke<J&&0>i(ze,Re)?(se[B]=ze,se[ke]=ae,B=ke):(se[B]=Re,se[be]=ae,B=be);else if(ke<J&&0>i(ze,ae))se[B]=ze,se[ke]=ae,B=ke;else break e}}return fe}function i(se,fe){var ae=se.sortIndex-fe.sortIndex;return ae!==0?ae:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],y=1,_=null,E=3,A=!1,D=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=se)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(p)}}function re(se){if(L=!1,G(se),!D)if(n(f)!==null)D=!0,Dt(ne);else{var fe=n(p);fe!==null&&Ae(re,fe.startTime-se)}}function ne(se,fe){D=!1,L&&(L=!1,F(I),I=-1),A=!0;var ae=E;try{for(G(fe),_=n(f);_!==null&&(!(_.expirationTime>fe)||se&&!j());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var J=B(_.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(f)&&r(f),G(fe)}else r(f);_=n(f)}if(_!==null)var Ce=!0;else{var be=n(p);be!==null&&Ae(re,be.startTime-fe),Ce=!1}return Ce}finally{_=null,E=ae,A=!1}}var X=!1,C=null,I=-1,P=5,V=-1;function j(){return!(t.unstable_now()-V<P)}function z(){if(C!==null){var se=t.unstable_now();V=se;var fe=!0;try{fe=C(!0,se)}finally{fe?N():(X=!1,C=null)}}else X=!1}var N;if(typeof U=="function")N=function(){U(z)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ct=We.port2;We.port1.onmessage=z,N=function(){ct.postMessage(null)}}else N=function(){b(z,0)};function Dt(se){C=se,X||(X=!0,N())}function Ae(se,fe){I=b(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,Dt(ne))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return se()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=E;E=se;try{return fe()}finally{E=ae}},t.unstable_scheduleCallback=function(se,fe,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,se={id:y++,callback:fe,priorityLevel:se,startTime:ae,expirationTime:J,sortIndex:-1},ae>B?(se.sortIndex=ae,e(p,se),n(f)===null&&se===n(p)&&(L?(F(I),I=-1):L=!0,Ae(re,ae-B))):(se.sortIndex=J,e(f,se),D||A||(D=!0,Dt(ne))),se},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(se){var fe=E;return function(){var ae=E;E=fe;try{return se.apply(this,arguments)}finally{E=ae}}}})(lp)),lp}var zv;function rA(){return zv||(zv=1,ap.exports=nA()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function sA(){if($v)return cn;$v=1;var t=jm(),e=rA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(s){return f.call(_,s)?!0:f.call(y,s)?!1:p.test(s)?_[s]=!0:(y[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(s,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new L(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,U);b[o]=new L(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,U);b[o]=new L(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,U);b[o]=new L(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function G(s,o,u,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),X=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),se=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,B;function J(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var Ce=!1;function be(s,o){if(!s||Ce)return"";Ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){d=q}s.call(o.prototype)}else{try{throw Error()}catch(q){d=q}s()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,k=v.length-1;1<=T&&0<=k&&m[T]!==v[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==v[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==v[k]){var M=`
`+m[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=k);break}}}finally{Ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function Re(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case X:return"Portal";case P:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case We:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ct:return o=s.displayName||null,o!==null?o:ke(s.type)||"Memo";case Dt:o=s._payload,s=s._init;try{return ke(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zt(s){var o=Ke(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yo(s){s._valueTracker||(s._valueTracker=Zt(s))}function $a(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ke(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function ys(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vo(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Fu(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function wo(s,o){o=o.checked,o!=null&&G(s,"checked",o,!1)}function vi(s,o){wo(s,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?gt(s,o.type,u):o.hasOwnProperty("defaultValue")&&gt(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Wa(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function gt(s,o,u){(o!=="number"||ys(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ht=Array.isArray;function zn(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ha(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qa(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ht(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function Uu(s,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function vs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ka(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ka(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ws,Bu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ws.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function wi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zu=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(s){zu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),_s[o]=_s[s]})});function xs(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||_s.hasOwnProperty(s)&&_s[s]?(""+o).trim():o+"px"}function xo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=xs(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Ga=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $n(s,o){if(o){if(Ga[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Eo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function To(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Or=null,Fr=null,at=null;function Qa(s){if(s=El(s)){if(typeof Or!="function")throw Error(n(280));var o=s.stateNode;o&&(o=mc(o),Or(s.stateNode,s.type,o))}}function Ts(s){Fr?at?at.push(s):at=[s]:Fr=s}function Ss(){if(Fr){var s=Fr,o=at;if(at=Fr=null,Qa(s),o)for(s=0;s<o.length;s++)Qa(o[s])}}function $u(s,o){return s(o)}function Wu(){}var lr=!1;function Hu(s,o,u){if(lr)return s(o,u);lr=!0;try{return $u(s,o,u)}finally{lr=!1,(Fr!==null||at!==null)&&(Wu(),Ss())}}function _i(s,o){var u=s.stateNode;if(u===null)return null;var d=mc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Is=!1;if(h)try{var As={};Object.defineProperty(As,"passive",{get:function(){Is=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Is=!1}function qu(s,o,u,d,m,v,T,k,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Ur=!1,ur=null,So=!1,In=null,Ku={onError:function(s){Ur=!0,ur=s}};function Gu(s,o,u,d,m,v,T,k,M){Ur=!1,ur=null,qu.apply(Ku,arguments)}function Ya(s,o,u,d,m,v,T,k,M){if(Gu.apply(this,arguments),Ur){if(Ur){var q=ur;Ur=!1,ur=null}else throw Error(n(198));So||(So=!0,In=q)}}function Wn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Xa(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Qu(s){if(Wn(s)!==s)throw Error(n(188))}function Yu(s){var o=s.alternate;if(!o){if(o=Wn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Qu(m),s;if(v===d)return Qu(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,k=m.child;k;){if(k===u){T=!0,u=m,d=v;break}if(k===d){T=!0,d=m,u=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===u){T=!0,u=v,d=m;break}if(k===d){T=!0,d=v,u=m;break}k=k.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Xu(s){return s=Yu(s),s!==null?xi(s):null}function xi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=xi(s);if(o!==null)return o;s=s.sibling}return null}var Ja=e.unstable_scheduleCallback,Io=e.unstable_cancelCallback,Ei=e.unstable_shouldYield,Br=e.unstable_requestPaint,Xe=e.unstable_now,Vd=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,Za=e.unstable_UserBlockingPriority,Ti=e.unstable_NormalPriority,el=e.unstable_LowPriority,Co=e.unstable_IdlePriority,Si=null,fn=null;function Ju(s){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Si,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ii,cr=Math.log,An=Math.LN2;function Ii(s){return s>>>=0,s===0?32:31-(cr(s)/An|0)|0}var hr=64,Cs=4194304;function Be(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zr(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var k=T&~m;k!==0?d=Be(k):(v&=T,v!==0&&(d=Be(v)))}else T=u&~m,T!==0?d=Be(T):v!==0&&(d=Be(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-pn(o),m=1<<u,d|=s[u],o&=~m;return d}function Ai(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-pn(v),k=1<<T,M=m[T];M===-1?((k&u)===0||(k&d)!==0)&&(m[T]=Ai(k,o)):M<=o&&(s.expiredLanes|=k),v&=~k}}function tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function nl(){var s=hr;return hr<<=1,(hr&4194240)===0&&(hr=64),s}function rl(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function bi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-pn(o),s[o]=u}function Ld(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-pn(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function sl(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-pn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var Le=0;function dr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var il,bo,ol,al,ll,fr=!1,Po=[],pr=null,mr=null,Vt=null,Pi=new Map,$r=new Map,mn=[],Zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bs(s,o){switch(s){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Pi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(o.pointerId)}}function Hn(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=El(o),o!==null&&bo(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function ec(s,o,u,d,m){switch(o){case"focusin":return pr=Hn(pr,s,o,u,d,m),!0;case"dragenter":return mr=Hn(mr,s,o,u,d,m),!0;case"mouseover":return Vt=Hn(Vt,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Pi.set(v,Hn(Pi.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,$r.set(v,Hn($r.get(v)||null,s,o,u,d,m)),!0}return!1}function Ro(s){var o=Di(s.target);if(o!==null){var u=Wn(o);if(u!==null){if(o=u.tag,o===13){if(o=Xa(u),o!==null){s.blockedOn=o,ll(s.priority,function(){ol(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Es=d,u.target.dispatchEvent(d),Es=null}else return o=El(u),o!==null&&bo(o),s.blockedOn=u,!1;o.shift()}return!0}function tc(s,o,u){Ge(s)&&u.delete(o)}function jd(){fr=!1,pr!==null&&Ge(pr)&&(pr=null),mr!==null&&Ge(mr)&&(mr=null),Vt!==null&&Ge(Vt)&&(Vt=null),Pi.forEach(tc),$r.forEach(tc)}function Ps(s,o){s.blockedOn===o&&(s.blockedOn=null,fr||(fr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jd)))}function Rs(s){function o(m){return Ps(m,s)}if(0<Po.length){Ps(Po[0],s);for(var u=1;u<Po.length;u++){var d=Po[u];d.blockedOn===s&&(d.blockedOn=null)}}for(pr!==null&&Ps(pr,s),mr!==null&&Ps(mr,s),Vt!==null&&Ps(Vt,s),Pi.forEach(o),$r.forEach(o),u=0;u<mn.length;u++)d=mn[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<mn.length&&(u=mn[0],u.blockedOn===null);)Ro(u),u.blockedOn===null&&mn.shift()}var Wr=re.ReactCurrentBatchConfig,Hr=!0;function gr(s,o,u,d){var m=Le,v=Wr.transition;Wr.transition=null;try{Le=1,ul(s,o,u,d)}finally{Le=m,Wr.transition=v}}function nc(s,o,u,d){var m=Le,v=Wr.transition;Wr.transition=null;try{Le=4,ul(s,o,u,d)}finally{Le=m,Wr.transition=v}}function ul(s,o,u,d){if(Hr){var m=ko(s,o,u,d);if(m===null)Kd(s,o,d,yr,u),bs(s,d);else if(ec(m,s,o,u,d))d.stopPropagation();else if(bs(s,d),o&4&&-1<Zu.indexOf(s)){for(;m!==null;){var v=El(m);if(v!==null&&il(v),v=ko(s,o,u,d),v===null&&Kd(s,o,d,yr,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else Kd(s,o,d,null,u)}}var yr=null;function ko(s,o,u,d){if(yr=null,s=To(d),s=Di(s),s!==null)if(o=Wn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Xa(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return yr=s,null}function No(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vd()){case Ao:return 1;case Za:return 4;case Ti:case el:return 16;case Co:return 536870912;default:return 16}default:return 16}}var gn=null,Do=null,qr=null;function rc(){if(qr)return qr;var s,o=Do,u=o.length,d,m="value"in gn?gn.value:gn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var T=u-s;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return qr=m.slice(s,1<d?1-d:void 0)}function Ri(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vr(){return!0}function cl(){return!1}function zt(s){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vr:cl,this.isPropagationStopped=cl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),o}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=zt(wr),ks=ae({},wr,{view:0,detail:0}),Vo=zt(ks),Lo,jo,yn,Ni=ae({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yn&&(yn&&s.type==="mousemove"?(Lo=s.screenX-yn.screenX,jo=s.screenY-yn.screenY):jo=Lo=0,yn=s),Lo)},movementY:function(s){return"movementY"in s?s.movementY:jo}}),hl=zt(Ni),sc=ae({},Ni,{dataTransfer:0}),ic=zt(sc),Mo=ae({},ks,{relatedTarget:0}),Lt=zt(Mo),oc=ae({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=zt(oc),Ns=ae({},wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=zt(Ns),w=ae({},wr,{data:0}),x=zt(w),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=K[s])?!!o[s]:!1}function Se(){return oe}var dt=ae({},ks,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ri(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(s){return s.type==="keypress"?Ri(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ri(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),He=zt(dt),yt=ae({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=zt(yt),Kr=ae({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),_r=zt(Kr),xr=ae({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=zt(xr),dl=ae({},Ni,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=zt(dl),KI=[9,13,27,32],Md=h&&"CompositionEvent"in window,fl=null;h&&"documentMode"in document&&(fl=document.documentMode);var GI=h&&"TextEvent"in window&&!fl,Py=h&&(!Md||fl&&8<fl&&11>=fl),Ry=" ",ky=!1;function Ny(s,o){switch(s){case"keyup":return KI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function QI(s,o){switch(s){case"compositionend":return Dy(o);case"keypress":return o.which!==32?null:(ky=!0,Ry);case"textInput":return s=o.data,s===Ry&&ky?null:s;default:return null}}function YI(s,o){if(Fo)return s==="compositionend"||!Md&&Ny(s,o)?(s=rc(),qr=Do=gn=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Py&&o.locale!=="ko"?null:o.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!XI[s.type]:o==="textarea"}function Ly(s,o,u,d){Ts(d),o=dc(o,"onChange"),0<o.length&&(u=new ki("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var pl=null,ml=null;function JI(s){Zy(s,0)}function lc(s){var o=Wo(s);if($a(o))return s}function ZI(s,o){if(s==="change")return o}var jy=!1;if(h){var Od;if(h){var Fd="oninput"in document;if(!Fd){var My=document.createElement("div");My.setAttribute("oninput","return;"),Fd=typeof My.oninput=="function"}Od=Fd}else Od=!1;jy=Od&&(!document.documentMode||9<document.documentMode)}function Oy(){pl&&(pl.detachEvent("onpropertychange",Fy),ml=pl=null)}function Fy(s){if(s.propertyName==="value"&&lc(ml)){var o=[];Ly(o,ml,s,To(s)),Hu(JI,o)}}function e2(s,o,u){s==="focusin"?(Oy(),pl=o,ml=u,pl.attachEvent("onpropertychange",Fy)):s==="focusout"&&Oy()}function t2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lc(ml)}function n2(s,o){if(s==="click")return lc(o)}function r2(s,o){if(s==="input"||s==="change")return lc(o)}function s2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var qn=typeof Object.is=="function"?Object.is:s2;function gl(s,o){if(qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!qn(s[m],o[m]))return!1}return!0}function Uy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function By(s,o){var u=Uy(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uy(u)}}function zy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?zy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $y(){for(var s=window,o=ys();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ys(s.document)}return o}function Ud(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function i2(s){var o=$y(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&zy(u.ownerDocument.documentElement,u)){if(d!==null&&Ud(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=By(u,v);var T=By(u,d);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var o2=h&&"documentMode"in document&&11>=document.documentMode,Uo=null,Bd=null,yl=null,zd=!1;function Wy(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zd||Uo==null||Uo!==ys(d)||(d=Uo,"selectionStart"in d&&Ud(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yl&&gl(yl,d)||(yl=d,d=dc(Bd,"onSelect"),0<d.length&&(o=new ki("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Uo)))}function uc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Bo={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},$d={},Hy={};h&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function cc(s){if($d[s])return $d[s];if(!Bo[s])return s;var o=Bo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Hy)return $d[s]=o[u];return s}var qy=cc("animationend"),Ky=cc("animationiteration"),Gy=cc("animationstart"),Qy=cc("transitionend"),Yy=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(s,o){Yy.set(s,o),a(o,[s])}for(var Wd=0;Wd<Xy.length;Wd++){var Hd=Xy[Wd],a2=Hd.toLowerCase(),l2=Hd[0].toUpperCase()+Hd.slice(1);Ds(a2,"on"+l2)}Ds(qy,"onAnimationEnd"),Ds(Ky,"onAnimationIteration"),Ds(Gy,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(Qy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Jy(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Ya(d,o,void 0,s),s.currentTarget=null}function Zy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],M=k.instance,q=k.currentTarget;if(k=k.listener,M!==v&&m.isPropagationStopped())break e;Jy(m,k,q),v=M}else for(T=0;T<d.length;T++){if(k=d[T],M=k.instance,q=k.currentTarget,k=k.listener,M!==v&&m.isPropagationStopped())break e;Jy(m,k,q),v=M}}}if(So)throw s=In,So=!1,In=null,s}function Je(s,o){var u=o[Zd];u===void 0&&(u=o[Zd]=new Set);var d=s+"__bubble";u.has(d)||(e0(o,s,2,!1),u.add(d))}function qd(s,o,u){var d=0;o&&(d|=4),e0(u,s,d,o)}var hc="_reactListening"+Math.random().toString(36).slice(2);function wl(s){if(!s[hc]){s[hc]=!0,r.forEach(function(u){u!=="selectionchange"&&(u2.has(u)||qd(u,!1,s),qd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[hc]||(o[hc]=!0,qd("selectionchange",!1,o))}}function e0(s,o,u,d){switch(No(o)){case 1:var m=gr;break;case 4:m=nc;break;default:m=ul}u=m.bind(null,o,u,s),m=void 0,!Is||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Kd(s,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;k!==null;){if(T=Di(k),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}k=k.parentNode}}d=d.return}Hu(function(){var q=v,ee=To(u),te=[];e:{var Z=Yy.get(s);if(Z!==void 0){var ue=ki,de=s;switch(s){case"keypress":if(Ri(u)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":de="focus",ue=Lt;break;case"focusout":de="blur",ue=Lt;break;case"beforeblur":case"afterblur":ue=Lt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=_r;break;case qy:case Ky:case Gy:ue=ac;break;case Qy:ue=Oo;break;case"scroll":ue=Vo;break;case"wheel":ue=qI;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=vn}var pe=(o&4)!==0,ft=!pe&&s==="scroll",$=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=q,H;O!==null;){H=O;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=_i(O,$),ie!=null&&pe.push(_l(O,ie,H)))),ft)break;O=O.return}0<pe.length&&(Z=new ue(Z,de,null,u,ee),te.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&u!==Es&&(de=u.relatedTarget||u.fromElement)&&(Di(de)||de[Gr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?Di(de):null,de!==null&&(ft=Wn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(pe=hl,ie="onMouseLeave",$="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(pe=vn,ie="onPointerLeave",$="onPointerEnter",O="pointer"),ft=ue==null?Z:Wo(ue),H=de==null?Z:Wo(de),Z=new pe(ie,O+"leave",ue,u,ee),Z.target=ft,Z.relatedTarget=H,ie=null,Di(ee)===q&&(pe=new pe($,O+"enter",de,u,ee),pe.target=H,pe.relatedTarget=ft,ie=pe),ft=ie,ue&&de)t:{for(pe=ue,$=de,O=0,H=pe;H;H=zo(H))O++;for(H=0,ie=$;ie;ie=zo(ie))H++;for(;0<O-H;)pe=zo(pe),O--;for(;0<H-O;)$=zo($),H--;for(;O--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=zo(pe),$=zo($)}pe=null}else pe=null;ue!==null&&t0(te,Z,ue,pe,!1),de!==null&&ft!==null&&t0(te,ft,de,pe,!0)}}e:{if(Z=q?Wo(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=ZI;else if(Vy(Z))if(jy)me=r2;else{me=t2;var ye=e2}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=n2);if(me&&(me=me(s,q))){Ly(te,me,u,ee);break e}ye&&ye(s,Z,q),s==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&gt(Z,"number",Z.value)}switch(ye=q?Wo(q):window,s){case"focusin":(Vy(ye)||ye.contentEditable==="true")&&(Uo=ye,Bd=q,yl=null);break;case"focusout":yl=Bd=Uo=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Wy(te,u,ee);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":Wy(te,u,ee)}var ve;if(Md)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Fo?Ny(s,u)&&(Ee="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Py&&u.locale!=="ko"&&(Fo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Fo&&(ve=rc()):(gn=ee,Do="value"in gn?gn.value:gn.textContent,Fo=!0)),ye=dc(q,Ee),0<ye.length&&(Ee=new x(Ee,s,null,u,ee),te.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Dy(u),ve!==null&&(Ee.data=ve)))),(ve=GI?QI(s,u):YI(s,u))&&(q=dc(q,"onBeforeInput"),0<q.length&&(ee=new x("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:q}),ee.data=ve))}Zy(te,o)})}function _l(s,o,u){return{instance:s,listener:o,currentTarget:u}}function dc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=_i(s,u),v!=null&&d.unshift(_l(s,v,m)),v=_i(s,o),v!=null&&d.push(_l(s,v,m))),s=s.return}return d}function zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t0(s,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var k=u,M=k.alternate,q=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&q!==null&&(k=q,m?(M=_i(u,v),M!=null&&T.unshift(_l(u,M,k))):m||(M=_i(u,v),M!=null&&T.push(_l(u,M,k)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function n0(s){return(typeof s=="string"?s:""+s).replace(c2,`
`).replace(h2,"")}function fc(s,o,u){if(o=n0(o),n0(s)!==o&&u)throw Error(n(425))}function pc(){}var Gd=null,Qd=null;function Yd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(s){return r0.resolve(null).then(s).catch(p2)}:Xd;function p2(s){setTimeout(function(){throw s})}function Jd(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),Rs(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Rs(o)}function Vs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function s0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Er="__reactFiber$"+$o,xl="__reactProps$"+$o,Gr="__reactContainer$"+$o,Zd="__reactEvents$"+$o,m2="__reactListeners$"+$o,g2="__reactHandles$"+$o;function Di(s){var o=s[Er];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Gr]||u[Er]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=s0(s);s!==null;){if(u=s[Er])return u;s=s0(s)}return o}s=u,u=s.parentNode}return null}function El(s){return s=s[Er]||s[Gr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function mc(s){return s[xl]||null}var ef=[],Ho=-1;function Ls(s){return{current:s}}function Ze(s){0>Ho||(s.current=ef[Ho],ef[Ho]=null,Ho--)}function Qe(s,o){Ho++,ef[Ho]=s.current,s.current=o}var js={},$t=Ls(js),sn=Ls(!1),Vi=js;function qo(s,o){var u=s.type.contextTypes;if(!u)return js;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function on(s){return s=s.childContextTypes,s!=null}function gc(){Ze(sn),Ze($t)}function i0(s,o,u){if($t.current!==js)throw Error(n(168));Qe($t,o),Qe(sn,u)}function o0(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,ze(s)||"Unknown",m));return ae({},u,d)}function yc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||js,Vi=$t.current,Qe($t,s),Qe(sn,sn.current),!0}function a0(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=o0(s,o,Vi),d.__reactInternalMemoizedMergedChildContext=s,Ze(sn),Ze($t),Qe($t,s)):Ze(sn),Qe(sn,u)}var Qr=null,vc=!1,tf=!1;function l0(s){Qr===null?Qr=[s]:Qr.push(s)}function y2(s){vc=!0,l0(s)}function Ms(){if(!tf&&Qr!==null){tf=!0;var s=0,o=Le;try{var u=Qr;for(Le=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Qr=null,vc=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(s+1)),Ja(Ao,Ms),m}finally{Le=o,tf=!1}}return null}var Ko=[],Go=0,wc=null,_c=0,Cn=[],bn=0,Li=null,Yr=1,Xr="";function ji(s,o){Ko[Go++]=_c,Ko[Go++]=wc,wc=s,_c=o}function u0(s,o,u){Cn[bn++]=Yr,Cn[bn++]=Xr,Cn[bn++]=Li,Li=s;var d=Yr;s=Xr;var m=32-pn(d)-1;d&=~(1<<m),u+=1;var v=32-pn(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Yr=1<<32-pn(o)+m|u<<m|d,Xr=v+s}else Yr=1<<v|u<<m|d,Xr=s}function nf(s){s.return!==null&&(ji(s,1),u0(s,1,0))}function rf(s){for(;s===wc;)wc=Ko[--Go],Ko[Go]=null,_c=Ko[--Go],Ko[Go]=null;for(;s===Li;)Li=Cn[--bn],Cn[bn]=null,Xr=Cn[--bn],Cn[bn]=null,Yr=Cn[--bn],Cn[bn]=null}var wn=null,_n=null,et=!1,Kn=null;function c0(s,o){var u=Nn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function h0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,wn=s,_n=Vs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,wn=s,_n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Li!==null?{id:Yr,overflow:Xr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Nn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,wn=s,_n=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function of(s){if(et){var o=_n;if(o){var u=o;if(!h0(s,o)){if(sf(s))throw Error(n(418));o=Vs(u.nextSibling);var d=wn;o&&h0(s,o)?c0(d,u):(s.flags=s.flags&-4097|2,et=!1,wn=s)}}else{if(sf(s))throw Error(n(418));s.flags=s.flags&-4097|2,et=!1,wn=s}}}function d0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function xc(s){if(s!==wn)return!1;if(!et)return d0(s),et=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Yd(s.type,s.memoizedProps)),o&&(o=_n)){if(sf(s))throw f0(),Error(n(418));for(;o;)c0(s,o),o=Vs(o.nextSibling)}if(d0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){_n=Vs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}_n=null}}else _n=wn?Vs(s.stateNode.nextSibling):null;return!0}function f0(){for(var s=_n;s;)s=Vs(s.nextSibling)}function Qo(){_n=wn=null,et=!1}function af(s){Kn===null?Kn=[s]:Kn.push(s)}var v2=re.ReactCurrentBatchConfig;function Tl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var k=m.refs;T===null?delete k[v]:k[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Ec(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function p0(s){var o=s._init;return o(s._payload)}function m0(s){function o($,O){if(s){var H=$.deletions;H===null?($.deletions=[O],$.flags|=16):H.push(O)}}function u($,O){if(!s)return null;for(;O!==null;)o($,O),O=O.sibling;return null}function d($,O){for($=new Map;O!==null;)O.key!==null?$.set(O.key,O):$.set(O.index,O),O=O.sibling;return $}function m($,O){return $=Hs($,O),$.index=0,$.sibling=null,$}function v($,O,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<O?($.flags|=2,O):H):($.flags|=2,O)):($.flags|=1048576,O)}function T($){return s&&$.alternate===null&&($.flags|=2),$}function k($,O,H,ie){return O===null||O.tag!==6?(O=Jf(H,$.mode,ie),O.return=$,O):(O=m(O,H),O.return=$,O)}function M($,O,H,ie){var me=H.type;return me===C?ee($,O,H.props.children,ie,H.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Dt&&p0(me)===O.type)?(ie=m(O,H.props),ie.ref=Tl($,O,H),ie.return=$,ie):(ie=qc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Tl($,O,H),ie.return=$,ie)}function q($,O,H,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Zf(H,$.mode,ie),O.return=$,O):(O=m(O,H.children||[]),O.return=$,O)}function ee($,O,H,ie,me){return O===null||O.tag!==7?(O=Wi(H,$.mode,ie,me),O.return=$,O):(O=m(O,H),O.return=$,O)}function te($,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Jf(""+O,$.mode,H),O.return=$,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:return H=qc(O.type,O.key,O.props,null,$.mode,H),H.ref=Tl($,null,O),H.return=$,H;case X:return O=Zf(O,$.mode,H),O.return=$,O;case Dt:var ie=O._init;return te($,ie(O._payload),H)}if(ht(O)||fe(O))return O=Wi(O,$.mode,H,null),O.return=$,O;Ec($,O)}return null}function Z($,O,H,ie){var me=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:k($,O,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===me?M($,O,H,ie):null;case X:return H.key===me?q($,O,H,ie):null;case Dt:return me=H._init,Z($,O,me(H._payload),ie)}if(ht(H)||fe(H))return me!==null?null:ee($,O,H,ie,null);Ec($,H)}return null}function ue($,O,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,k(O,$,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return $=$.get(ie.key===null?H:ie.key)||null,M(O,$,ie,me);case X:return $=$.get(ie.key===null?H:ie.key)||null,q(O,$,ie,me);case Dt:var ye=ie._init;return ue($,O,H,ye(ie._payload),me)}if(ht(ie)||fe(ie))return $=$.get(H)||null,ee(O,$,ie,me,null);Ec(O,ie)}return null}function de($,O,H,ie){for(var me=null,ye=null,ve=O,Ee=O=0,Rt=null;ve!==null&&Ee<H.length;Ee++){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var Ue=Z($,ve,H[Ee],ie);if(Ue===null){ve===null&&(ve=Rt);break}s&&ve&&Ue.alternate===null&&o($,ve),O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue,ve=Rt}if(Ee===H.length)return u($,ve),et&&ji($,Ee),me;if(ve===null){for(;Ee<H.length;Ee++)ve=te($,H[Ee],ie),ve!==null&&(O=v(ve,O,Ee),ye===null?me=ve:ye.sibling=ve,ye=ve);return et&&ji($,Ee),me}for(ve=d($,ve);Ee<H.length;Ee++)Rt=ue(ve,$,Ee,H[Ee],ie),Rt!==null&&(s&&Rt.alternate!==null&&ve.delete(Rt.key===null?Ee:Rt.key),O=v(Rt,O,Ee),ye===null?me=Rt:ye.sibling=Rt,ye=Rt);return s&&ve.forEach(function(qs){return o($,qs)}),et&&ji($,Ee),me}function pe($,O,H,ie){var me=fe(H);if(typeof me!="function")throw Error(n(150));if(H=me.call(H),H==null)throw Error(n(151));for(var ye=me=null,ve=O,Ee=O=0,Rt=null,Ue=H.next();ve!==null&&!Ue.done;Ee++,Ue=H.next()){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var qs=Z($,ve,Ue.value,ie);if(qs===null){ve===null&&(ve=Rt);break}s&&ve&&qs.alternate===null&&o($,ve),O=v(qs,O,Ee),ye===null?me=qs:ye.sibling=qs,ye=qs,ve=Rt}if(Ue.done)return u($,ve),et&&ji($,Ee),me;if(ve===null){for(;!Ue.done;Ee++,Ue=H.next())Ue=te($,Ue.value,ie),Ue!==null&&(O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return et&&ji($,Ee),me}for(ve=d($,ve);!Ue.done;Ee++,Ue=H.next())Ue=ue(ve,$,Ee,Ue.value,ie),Ue!==null&&(s&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ee:Ue.key),O=v(Ue,O,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return s&&ve.forEach(function(X2){return o($,X2)}),et&&ji($,Ee),me}function ft($,O,H,ie){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var me=H.key,ye=O;ye!==null;){if(ye.key===me){if(me=H.type,me===C){if(ye.tag===7){u($,ye.sibling),O=m(ye,H.props.children),O.return=$,$=O;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Dt&&p0(me)===ye.type){u($,ye.sibling),O=m(ye,H.props),O.ref=Tl($,ye,H),O.return=$,$=O;break e}u($,ye);break}else o($,ye);ye=ye.sibling}H.type===C?(O=Wi(H.props.children,$.mode,ie,H.key),O.return=$,$=O):(ie=qc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Tl($,O,H),ie.return=$,$=ie)}return T($);case X:e:{for(ye=H.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){u($,O.sibling),O=m(O,H.children||[]),O.return=$,$=O;break e}else{u($,O);break}else o($,O);O=O.sibling}O=Zf(H,$.mode,ie),O.return=$,$=O}return T($);case Dt:return ye=H._init,ft($,O,ye(H._payload),ie)}if(ht(H))return de($,O,H,ie);if(fe(H))return pe($,O,H,ie);Ec($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(u($,O.sibling),O=m(O,H),O.return=$,$=O):(u($,O),O=Jf(H,$.mode,ie),O.return=$,$=O),T($)):u($,O)}return ft}var Yo=m0(!0),g0=m0(!1),Tc=Ls(null),Sc=null,Xo=null,lf=null;function uf(){lf=Xo=Sc=null}function cf(s){var o=Tc.current;Ze(Tc),s._currentValue=o}function hf(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Jo(s,o){Sc=s,lf=Xo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(an=!0),s.firstContext=null)}function Pn(s){var o=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:o,next:null},Xo===null){if(Sc===null)throw Error(n(308));Xo=s,Sc.dependencies={lanes:0,firstContext:s}}else Xo=Xo.next=s;return o}var Mi=null;function df(s){Mi===null?Mi=[s]:Mi.push(s)}function y0(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,df(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(s,d)}function Jr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Os=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Zr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Fs(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Fe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Jr(s,u)}return m=d.interleaved,m===null?(o.next=o,df(d)):(o.next=m.next,m.next=o),d.interleaved=o,Jr(s,u)}function Ic(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,sl(s,u)}}function w0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Ac(s,o,u,d){var m=s.updateQueue;Os=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,q=M.next;M.next=null,T===null?v=q:T.next=q,T=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=q:k.next=q,ee.lastBaseUpdate=M))}if(v!==null){var te=m.baseState;T=0,ee=q=M=null,k=v;do{var Z=k.lane,ue=k.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=s,pe=k;switch(Z=o,ue=u,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){te=de.call(ue,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Z=typeof de=="function"?de.call(ue,te,Z):de,Z==null)break e;te=ae({},te,Z);break e;case 2:Os=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(q=ee=ue,M=te):ee=ee.next=ue,T|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(M=te),m.baseState=M,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ui|=T,s.lanes=T,s.memoizedState=te}}function _0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Sl={},Tr=Ls(Sl),Il=Ls(Sl),Al=Ls(Sl);function Oi(s){if(s===Sl)throw Error(n(174));return s}function pf(s,o){switch(Qe(Al,o),Qe(Il,s),Qe(Tr,Sl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_o(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=_o(o,s)}Ze(Tr),Qe(Tr,o)}function Zo(){Ze(Tr),Ze(Il),Ze(Al)}function x0(s){Oi(Al.current);var o=Oi(Tr.current),u=_o(o,s.type);o!==u&&(Qe(Il,s),Qe(Tr,u))}function mf(s){Il.current===s&&(Ze(Tr),Ze(Il))}var rt=Ls(0);function Cc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gf=[];function yf(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var bc=re.ReactCurrentDispatcher,vf=re.ReactCurrentBatchConfig,Fi=0,st=null,It=null,bt=null,Pc=!1,Cl=!1,bl=0,w2=0;function Wt(){throw Error(n(321))}function wf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!qn(s[u],o[u]))return!1;return!0}function _f(s,o,u,d,m,v){if(Fi=v,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,bc.current=s===null||s.memoizedState===null?T2:S2,s=u(d,m),Cl){v=0;do{if(Cl=!1,bl=0,25<=v)throw Error(n(301));v+=1,bt=It=null,o.updateQueue=null,bc.current=I2,s=u(d,m)}while(Cl)}if(bc.current=Nc,o=It!==null&&It.next!==null,Fi=0,bt=It=st=null,Pc=!1,o)throw Error(n(300));return s}function xf(){var s=bl!==0;return bl=0,s}function Sr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?st.memoizedState=bt=s:bt=bt.next=s,bt}function Rn(){if(It===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=bt===null?st.memoizedState:bt.next;if(o!==null)bt=o,It=s;else{if(s===null)throw Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},bt===null?st.memoizedState=bt=s:bt=bt.next=s}return bt}function Pl(s,o){return typeof o=="function"?o(s):o}function Ef(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=It,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var k=T=null,M=null,q=v;do{var ee=q.lane;if((Fi&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:s(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(k=M=te,T=d):M=M.next=te,st.lanes|=ee,Ui|=ee}q=q.next}while(q!==null&&q!==v);M===null?T=d:M.next=k,qn(d,o.memoizedState)||(an=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,st.lanes|=v,Ui|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Tf(s){var o=Rn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=s(v,T.action),T=T.next;while(T!==m);qn(v,o.memoizedState)||(an=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function E0(){}function T0(s,o){var u=st,d=Rn(),m=o(),v=!qn(d.memoizedState,m);if(v&&(d.memoizedState=m,an=!0),d=d.queue,Sf(A0.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Rl(9,I0.bind(null,u,d,m,o),void 0,null),Pt===null)throw Error(n(349));(Fi&30)!==0||S0(u,o,m)}return m}function S0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function I0(s,o,u,d){o.value=u,o.getSnapshot=d,C0(o)&&b0(s)}function A0(s,o,u){return u(function(){C0(o)&&b0(s)})}function C0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!qn(s,u)}catch{return!0}}function b0(s){var o=Jr(s,1);o!==null&&Xn(o,s,1,-1)}function P0(s){var o=Sr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:s},o.queue=s,s=s.dispatch=E2.bind(null,st,s),[o.memoizedState,s]}function Rl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function R0(){return Rn().memoizedState}function Rc(s,o,u,d){var m=Sr();st.flags|=s,m.memoizedState=Rl(1|o,u,void 0,d===void 0?null:d)}function kc(s,o,u,d){var m=Rn();d=d===void 0?null:d;var v=void 0;if(It!==null){var T=It.memoizedState;if(v=T.destroy,d!==null&&wf(d,T.deps)){m.memoizedState=Rl(o,u,v,d);return}}st.flags|=s,m.memoizedState=Rl(1|o,u,v,d)}function k0(s,o){return Rc(8390656,8,s,o)}function Sf(s,o){return kc(2048,8,s,o)}function N0(s,o){return kc(4,2,s,o)}function D0(s,o){return kc(4,4,s,o)}function V0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function L0(s,o,u){return u=u!=null?u.concat([s]):null,kc(4,4,V0.bind(null,o,s),u)}function If(){}function j0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function M0(s,o){var u=Rn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function O0(s,o,u){return(Fi&21)===0?(s.baseState&&(s.baseState=!1,an=!0),s.memoizedState=u):(qn(u,o)||(u=nl(),st.lanes|=u,Ui|=u,s.baseState=!0),o)}function _2(s,o){var u=Le;Le=u!==0&&4>u?u:4,s(!0);var d=vf.transition;vf.transition={};try{s(!1),o()}finally{Le=u,vf.transition=d}}function F0(){return Rn().memoizedState}function x2(s,o,u){var d=$s(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},U0(s))B0(o,u);else if(u=y0(s,o,u,d),u!==null){var m=tn();Xn(u,s,d,m),z0(u,o,d)}}function E2(s,o,u){var d=$s(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(U0(s))B0(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,k=v(T,u);if(m.hasEagerState=!0,m.eagerState=k,qn(k,T)){var M=o.interleaved;M===null?(m.next=m,df(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=y0(s,o,m,d),u!==null&&(m=tn(),Xn(u,s,d,m),z0(u,o,d))}}function U0(s){var o=s.alternate;return s===st||o!==null&&o===st}function B0(s,o){Cl=Pc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function z0(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,sl(s,u)}}var Nc={readContext:Pn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},T2={readContext:Pn,useCallback:function(s,o){return Sr().memoizedState=[s,o===void 0?null:o],s},useContext:Pn,useEffect:k0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Rc(4194308,4,V0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Rc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Rc(4,2,s,o)},useMemo:function(s,o){var u=Sr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Sr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=x2.bind(null,st,s),[d.memoizedState,s]},useRef:function(s){var o=Sr();return s={current:s},o.memoizedState=s},useState:P0,useDebugValue:If,useDeferredValue:function(s){return Sr().memoizedState=s},useTransition:function(){var s=P0(!1),o=s[0];return s=_2.bind(null,s[1]),Sr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=st,m=Sr();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pt===null)throw Error(n(349));(Fi&30)!==0||S0(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,k0(A0.bind(null,d,v,s),[s]),d.flags|=2048,Rl(9,I0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Sr(),o=Pt.identifierPrefix;if(et){var u=Xr,d=Yr;u=(d&~(1<<32-pn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=bl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=w2++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},S2={readContext:Pn,useCallback:j0,useContext:Pn,useEffect:Sf,useImperativeHandle:L0,useInsertionEffect:N0,useLayoutEffect:D0,useMemo:M0,useReducer:Ef,useRef:R0,useState:function(){return Ef(Pl)},useDebugValue:If,useDeferredValue:function(s){var o=Rn();return O0(o,It.memoizedState,s)},useTransition:function(){var s=Ef(Pl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:E0,useSyncExternalStore:T0,useId:F0,unstable_isNewReconciler:!1},I2={readContext:Pn,useCallback:j0,useContext:Pn,useEffect:Sf,useImperativeHandle:L0,useInsertionEffect:N0,useLayoutEffect:D0,useMemo:M0,useReducer:Tf,useRef:R0,useState:function(){return Tf(Pl)},useDebugValue:If,useDeferredValue:function(s){var o=Rn();return It===null?o.memoizedState=s:O0(o,It.memoizedState,s)},useTransition:function(){var s=Tf(Pl)[0],o=Rn().memoizedState;return[s,o]},useMutableSource:E0,useSyncExternalStore:T0,useId:F0,unstable_isNewReconciler:!1};function Gn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Af(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Dc={isMounted:function(s){return(s=s._reactInternals)?Wn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=tn(),m=$s(s),v=Zr(d,m);v.payload=o,u!=null&&(v.callback=u),o=Fs(s,v,m),o!==null&&(Xn(o,s,m,d),Ic(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=tn(),m=$s(s),v=Zr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Fs(s,v,m),o!==null&&(Xn(o,s,m,d),Ic(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=tn(),d=$s(s),m=Zr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Fs(s,m,d),o!==null&&(Xn(o,s,d,u),Ic(o,s,d))}};function $0(s,o,u,d,m,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!gl(u,d)||!gl(m,v):!0}function W0(s,o,u){var d=!1,m=js,v=o.contextType;return typeof v=="object"&&v!==null?v=Pn(v):(m=on(o)?Vi:$t.current,d=o.contextTypes,v=(d=d!=null)?qo(s,m):js),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function H0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Dc.enqueueReplaceState(o,o.state,null)}function Cf(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},ff(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Pn(v):(v=on(o)?Vi:$t.current,m.context=qo(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Af(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Dc.enqueueReplaceState(m,m.state,null),Ac(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ea(s,o){try{var u="",d=o;do u+=Re(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function bf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Pf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var A2=typeof WeakMap=="function"?WeakMap:Map;function q0(s,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Uc||(Uc=!0,Wf=d),Pf(s,o)},u}function K0(s,o,u){u=Zr(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Pf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Pf(s,o),typeof d!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function G0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new A2;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=U2.bind(null,s,o,u),o.then(s,s))}function Q0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Y0(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Fs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var C2=re.ReactCurrentOwner,an=!1;function en(s,o,u,d){o.child=s===null?g0(o,null,u,d):Yo(o,s.child,u,d)}function X0(s,o,u,d,m){u=u.render;var v=o.ref;return Jo(o,m),d=_f(s,o,u,d,v,m),u=xf(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(et&&u&&nf(o),o.flags|=1,en(s,o,d,m),o.child)}function J0(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!Xf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Z0(s,o,v,d,m)):(s=qc(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(T,d)&&s.ref===o.ref)return es(s,o,m)}return o.flags|=1,s=Hs(v,d),s.ref=o.ref,s.return=o,o.child=s}function Z0(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(gl(v,d)&&s.ref===o.ref)if(an=!1,o.pendingProps=d=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(an=!0);else return o.lanes=s.lanes,es(s,o,m)}return Rf(s,o,u,d,m)}function ev(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(na,xn),xn|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(na,xn),xn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Qe(na,xn),xn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Qe(na,xn),xn|=d;return en(s,o,m,u),o.child}function tv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rf(s,o,u,d,m){var v=on(u)?Vi:$t.current;return v=qo(o,v),Jo(o,m),u=_f(s,o,u,d,v,m),d=xf(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(et&&d&&nf(o),o.flags|=1,en(s,o,u,m),o.child)}function nv(s,o,u,d,m){if(on(u)){var v=!0;yc(o)}else v=!1;if(Jo(o,m),o.stateNode===null)Lc(s,o),W0(o,u,d),Cf(o,u,d,m),d=!0;else if(s===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var M=T.context,q=u.contextType;typeof q=="object"&&q!==null?q=Pn(q):(q=on(u)?Vi:$t.current,q=qo(o,q));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||M!==q)&&H0(o,T,d,q),Os=!1;var Z=o.memoizedState;T.state=Z,Ac(o,d,T,m),M=o.memoizedState,k!==d||Z!==M||sn.current||Os?(typeof ee=="function"&&(Af(o,u,ee,d),M=o.memoizedState),(k=Os||$0(o,u,k,d,Z,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=q,d=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,v0(s,o),k=o.memoizedProps,q=o.type===o.elementType?k:Gn(o.type,k),T.props=q,te=o.pendingProps,Z=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=Pn(M):(M=on(u)?Vi:$t.current,M=qo(o,M));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||Z!==M)&&H0(o,T,d,M),Os=!1,Z=o.memoizedState,T.state=Z,Ac(o,d,T,m);var de=o.memoizedState;k!==te||Z!==de||sn.current||Os?(typeof ue=="function"&&(Af(o,u,ue,d),de=o.memoizedState),(q=Os||$0(o,u,q,d,Z,de,M)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=q):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),d=!1)}return kf(s,o,u,d,v,m)}function kf(s,o,u,d,m,v){tv(s,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&a0(o,u,!1),es(s,o,v);d=o.stateNode,C2.current=o;var k=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&T?(o.child=Yo(o,s.child,null,v),o.child=Yo(o,null,k,v)):en(s,o,k,v),o.memoizedState=d.state,m&&a0(o,u,!0),o.child}function rv(s){var o=s.stateNode;o.pendingContext?i0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&i0(s,o.context,!1),pf(s,o.containerInfo)}function sv(s,o,u,d,m){return Qo(),af(m),o.flags|=256,en(s,o,u,d),o.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Df(s){return{baseLanes:s,cachePool:null,transitions:null}}function iv(s,o,u){var d=o.pendingProps,m=rt.current,v=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(rt,m&1),s===null)return of(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Kc(T,d,0,null),s=Wi(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Df(u),o.memoizedState=Nf,s):Vf(o,T));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return b2(s,o,T,d,k,m,u);if(v){v=d.fallback,T=o.mode,m=s.child,k=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Hs(m,M),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?v=Hs(k,v):(v=Wi(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=s.child.memoizedState,T=T===null?Df(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,o.memoizedState=Nf,d}return v=s.child,s=v.sibling,d=Hs(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Vf(s,o){return o=Kc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Vc(s,o,u,d){return d!==null&&af(d),Yo(o,s.child,null,u),s=Vf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function b2(s,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=bf(Error(n(422))),Vc(s,o,T,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Kc({mode:"visible",children:d.children},m,0,null),v=Wi(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Yo(o,s.child,null,T),o.child.memoizedState=Df(T),o.memoizedState=Nf,v);if((o.mode&1)===0)return Vc(s,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=bf(v,d,void 0),Vc(s,o,T,d)}if(k=(T&s.childLanes)!==0,an||k){if(d=Pt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(s,m),Xn(d,s,m,-1))}return Yf(),d=bf(Error(n(421))),Vc(s,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=B2.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,_n=Vs(m.nextSibling),wn=o,et=!0,Kn=null,s!==null&&(Cn[bn++]=Yr,Cn[bn++]=Xr,Cn[bn++]=Li,Yr=s.id,Xr=s.overflow,Li=o),o=Vf(o,d.children),o.flags|=4096,o)}function ov(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),hf(s.return,o,u)}function Lf(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function av(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(en(s,o,d.children,u),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ov(s,u,o);else if(s.tag===19)ov(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Qe(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Cc(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Lf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Cc(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Lf(o,!0,u,null,v);break;case"together":Lf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function es(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ui|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Hs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Hs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function P2(s,o,u){switch(o.tag){case 3:rv(o),Qo();break;case 5:x0(o);break;case 1:on(o.type)&&yc(o);break;case 4:pf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Qe(Tc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?iv(s,o,u):(Qe(rt,rt.current&1),s=es(s,o,u),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return av(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,ev(s,o,u)}return es(s,o,u)}var lv,jf,uv,cv;lv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},jf=function(){},uv=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,Oi(Tr.current);var v=null;switch(u){case"input":m=vo(s,m),d=vo(s,d),v=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":m=Ha(s,m),d=Ha(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=pc)}$n(u,d);var T;u=null;for(q in m)if(!d.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var k=m[q];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in d){var M=d[q];if(k=m?.[q],d.hasOwnProperty(q)&&M!==k&&(M!=null||k!=null))if(q==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Je("scroll",s),v||k===M||(v=[])):(v=v||[]).push(q,M))}u&&(v=v||[]).push("style",u);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},cv=function(s,o,u,d){u!==d&&(o.flags|=4)};function kl(s,o){if(!et)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function R2(s,o,u){var d=o.pendingProps;switch(rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return on(o.type)&&gc(),Ht(o),null;case 3:return d=o.stateNode,Zo(),Ze(sn),Ze($t),yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(xc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Kn!==null&&(Kf(Kn),Kn=null))),jf(s,o),Ht(o),null;case 5:mf(o);var m=Oi(Al.current);if(u=o.type,s!==null&&o.stateNode!=null)uv(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Ht(o),null}if(s=Oi(Tr.current),xc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Er]=o,d[xl]=v,s=(o.mode&1)!==0,u){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(m=0;m<vl.length;m++)Je(vl[m],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Fu(d,v),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Je("invalid",d);break;case"textarea":qa(d,v),Je("invalid",d)}$n(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var k=v[T];T==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&fc(d.textContent,k,s),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&fc(d.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Je("scroll",d)}switch(u){case"input":yo(d),Wa(d,v,!0);break;case"textarea":yo(d),vs(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=pc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ka(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[Er]=o,s[xl]=d,lv(s,o,!1,!1),o.stateNode=s;e:{switch(T=Eo(u,d),u){case"dialog":Je("cancel",s),Je("close",s),m=d;break;case"iframe":case"object":case"embed":Je("load",s),m=d;break;case"video":case"audio":for(m=0;m<vl.length;m++)Je(vl[m],s);m=d;break;case"source":Je("error",s),m=d;break;case"img":case"image":case"link":Je("error",s),Je("load",s),m=d;break;case"details":Je("toggle",s),m=d;break;case"input":Fu(s,d),m=vo(s,d),Je("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Je("invalid",s);break;case"textarea":qa(s,d),m=Ha(s,d),Je("invalid",s);break;default:m=d}$n(u,m),k=m;for(v in k)if(k.hasOwnProperty(v)){var M=k[v];v==="style"?xo(s,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Bu(s,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&wi(s,M):typeof M=="number"&&wi(s,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Je("scroll",s):M!=null&&G(s,v,M,T))}switch(u){case"input":yo(s),Wa(s,d,!1);break;case"textarea":yo(s),vs(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Oe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?zn(s,!!d.multiple,v,!1):d.defaultValue!=null&&zn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=pc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(s&&o.stateNode!=null)cv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Oi(Al.current),Oi(Tr.current),xc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Er]=o,(v=d.nodeValue!==u)&&(s=wn,s!==null))switch(s.tag){case 3:fc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&fc(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Er]=o,o.stateNode=d}return Ht(o),null;case 13:if(Ze(rt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(et&&_n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)f0(),Qo(),o.flags|=98560,v=!1;else if(v=xc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Er]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else Kn!==null&&(Kf(Kn),Kn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?At===0&&(At=3):Yf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Zo(),jf(s,o),s===null&&wl(o.stateNode.containerInfo),Ht(o),null;case 10:return cf(o.type._context),Ht(o),null;case 17:return on(o.type)&&gc(),Ht(o),null;case 19:if(Ze(rt),v=o.memoizedState,v===null)return Ht(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)kl(v,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Cc(s),T!==null){for(o.flags|=128,kl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Xe()>ra&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304)}else{if(!d)if(s=Cc(T),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),kl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!et)return Ht(o),null}else 2*Xe()-v.renderingStartTime>ra&&u!==1073741824&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,u=rt.current,Qe(rt,d?u&1|2:u&1),o):(Ht(o),null);case 22:case 23:return Qf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(xn&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function k2(s,o){switch(rf(o),o.tag){case 1:return on(o.type)&&gc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Zo(),Ze(sn),Ze($t),yf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mf(o),null;case 13:if(Ze(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Qo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ze(rt),null;case 4:return Zo(),null;case 10:return cf(o.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var jc=!1,qt=!1,N2=typeof WeakSet=="function"?WeakSet:Set,he=null;function ta(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){lt(s,o,d)}else u.current=null}function Mf(s,o,u){try{u()}catch(d){lt(s,o,d)}}var hv=!1;function D2(s,o){if(Gd=Hr,s=$y(),Ud(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,k=-1,M=-1,q=0,ee=0,te=s,Z=null;t:for(;;){for(var ue;te!==u||m!==0&&te.nodeType!==3||(k=T+m),te!==v||d!==0&&te.nodeType!==3||(M=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===s)break t;if(Z===u&&++q===m&&(k=T),Z===v&&++ee===d&&(M=T),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qd={focusedElem:s,selectionRange:u},Hr=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,ft=de.memoizedState,$=o.stateNode,O=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Gn(o.type,pe),ft);$.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=hv,hv=!1,de}function Nl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Mf(o,u,v)}m=m.next}while(m!==d)}}function Mc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Of(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function dv(s){var o=s.alternate;o!==null&&(s.alternate=null,dv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Er],delete o[xl],delete o[Zd],delete o[m2],delete o[g2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fv(s){return s.tag===5||s.tag===3||s.tag===4}function pv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ff(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=pc));else if(d!==4&&(s=s.child,s!==null))for(Ff(s,o,u),s=s.sibling;s!==null;)Ff(s,o,u),s=s.sibling}function Uf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Uf(s,o,u),s=s.sibling;s!==null;)Uf(s,o,u),s=s.sibling}var jt=null,Qn=!1;function Us(s,o,u){for(u=u.child;u!==null;)mv(s,o,u),u=u.sibling}function mv(s,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Si,u)}catch{}switch(u.tag){case 5:qt||ta(u,o);case 6:var d=jt,m=Qn;jt=null,Us(s,o,u),jt=d,Qn=m,jt!==null&&(Qn?(s=jt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):jt.removeChild(u.stateNode));break;case 18:jt!==null&&(Qn?(s=jt,u=u.stateNode,s.nodeType===8?Jd(s.parentNode,u):s.nodeType===1&&Jd(s,u),Rs(s)):Jd(jt,u.stateNode));break;case 4:d=jt,m=Qn,jt=u.stateNode.containerInfo,Qn=!0,Us(s,o,u),jt=d,Qn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Mf(u,o,T),m=m.next}while(m!==d)}Us(s,o,u);break;case 1:if(!qt&&(ta(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){lt(u,o,k)}Us(s,o,u);break;case 21:Us(s,o,u);break;case 22:u.mode&1?(qt=(d=qt)||u.memoizedState!==null,Us(s,o,u),qt=d):Us(s,o,u);break;default:Us(s,o,u)}}function gv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new N2),o.forEach(function(d){var m=z2.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Yn(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:jt=k.stateNode,Qn=!1;break e;case 3:jt=k.stateNode.containerInfo,Qn=!0;break e;case 4:jt=k.stateNode.containerInfo,Qn=!0;break e}k=k.return}if(jt===null)throw Error(n(160));mv(v,T,m),jt=null,Qn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(q){lt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)yv(o,s),o=o.sibling}function yv(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yn(o,s),Ir(s),d&4){try{Nl(3,s,s.return),Mc(3,s)}catch(pe){lt(s,s.return,pe)}try{Nl(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Yn(o,s),Ir(s),d&512&&u!==null&&ta(u,u.return);break;case 5:if(Yn(o,s),Ir(s),d&512&&u!==null&&ta(u,u.return),s.flags&32){var m=s.stateNode;try{wi(m,"")}catch(pe){lt(s,s.return,pe)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&wo(m,v),Eo(k,T);var q=Eo(k,v);for(T=0;T<M.length;T+=2){var ee=M[T],te=M[T+1];ee==="style"?xo(m,te):ee==="dangerouslySetInnerHTML"?Bu(m,te):ee==="children"?wi(m,te):G(m,ee,te,q)}switch(k){case"input":vi(m,v);break;case"textarea":Uu(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?zn(m,!!v.multiple,ue,!1):Z!==!!v.multiple&&(v.defaultValue!=null?zn(m,!!v.multiple,v.defaultValue,!0):zn(m,!!v.multiple,v.multiple?[]:"",!1))}m[xl]=v}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Yn(o,s),Ir(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Yn(o,s),Ir(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Rs(o.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Yn(o,s),Ir(s);break;case 13:Yn(o,s),Ir(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($f=Xe())),d&4&&gv(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(qt=(q=qt)||ee,Yn(o,s),qt=q):Yn(o,s),Ir(s),d&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Nl(4,Z,Z.return);break;case 1:ta(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){d=Z,u=Z.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){lt(d,u,pe)}}break;case 5:ta(Z,Z.return);break;case 22:if(Z.memoizedState!==null){_v(te);continue}}ue!==null?(ue.return=Z,he=ue):_v(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{m=te.stateNode,q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=xs("display",T))}catch(pe){lt(s,s.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Yn(o,s),Ir(s),d&4&&gv(s);break;case 21:break;default:Yn(o,s),Ir(s)}}function Ir(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(fv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(wi(m,""),d.flags&=-33);var v=pv(s);Uf(s,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,k=pv(s);Ff(s,k,T);break;default:throw Error(n(161))}}catch(M){lt(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function V2(s,o,u){he=s,vv(s)}function vv(s,o,u){for(var d=(s.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||jc;if(!T){var k=m.alternate,M=k!==null&&k.memoizedState!==null||qt;k=jc;var q=qt;if(jc=T,(qt=M)&&!q)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?xv(m):M!==null?(M.return=T,he=M):xv(m);for(;v!==null;)he=v,vv(v),v=v.sibling;he=m,jc=k,qt=q}wv(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):wv(s)}}function wv(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Mc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!qt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Gn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&_0(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}_0(o,T,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Rs(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&Of(o)}catch(Z){lt(o,o.return,Z)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function _v(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function xv(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Mc(4,o)}catch(M){lt(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){lt(o,m,M)}}var v=o.return;try{Of(o)}catch(M){lt(o,v,M)}break;case 5:var T=o.return;try{Of(o)}catch(M){lt(o,T,M)}}}catch(M){lt(o,o.return,M)}if(o===s){he=null;break}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break}he=o.return}}var L2=Math.ceil,Oc=re.ReactCurrentDispatcher,Bf=re.ReactCurrentOwner,kn=re.ReactCurrentBatchConfig,Fe=0,Pt=null,vt=null,Mt=0,xn=0,na=Ls(0),At=0,Dl=null,Ui=0,Fc=0,zf=0,Vl=null,ln=null,$f=0,ra=1/0,ts=null,Uc=!1,Wf=null,Bs=null,Bc=!1,zs=null,zc=0,Ll=0,Hf=null,$c=-1,Wc=0;function tn(){return(Fe&6)!==0?Xe():$c!==-1?$c:$c=Xe()}function $s(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Mt!==0?Mt&-Mt:v2.transition!==null?(Wc===0&&(Wc=nl()),Wc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:No(s.type)),s)}function Xn(s,o,u,d){if(50<Ll)throw Ll=0,Hf=null,Error(n(185));bi(s,u,d),((Fe&2)===0||s!==Pt)&&(s===Pt&&((Fe&2)===0&&(Fc|=u),At===4&&Ws(s,Mt)),un(s,d),u===1&&Fe===0&&(o.mode&1)===0&&(ra=Xe()+500,vc&&Ms()))}function un(s,o){var u=s.callbackNode;Ci(s,o);var d=zr(s,s===Pt?Mt:0);if(d===0)u!==null&&Io(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Io(u),o===1)s.tag===0?y2(Tv.bind(null,s)):l0(Tv.bind(null,s)),f2(function(){(Fe&6)===0&&Ms()}),u=null;else{switch(dr(d)){case 1:u=Ao;break;case 4:u=Za;break;case 16:u=Ti;break;case 536870912:u=Co;break;default:u=Ti}u=kv(u,Ev.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Ev(s,o){if($c=-1,Wc=0,(Fe&6)!==0)throw Error(n(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var d=zr(s,s===Pt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Hc(s,d);else{o=d;var m=Fe;Fe|=2;var v=Iv();(Pt!==s||Mt!==o)&&(ts=null,ra=Xe()+500,zi(s,o));do try{O2();break}catch(k){Sv(s,k)}while(!0);uf(),Oc.current=v,Fe=m,vt!==null?o=0:(Pt=null,Mt=0,o=At)}if(o!==0){if(o===2&&(m=tl(s),m!==0&&(d=m,o=qf(s,m))),o===1)throw u=Dl,zi(s,0),Ws(s,d),un(s,Xe()),u;if(o===6)Ws(s,d);else{if(m=s.current.alternate,(d&30)===0&&!j2(m)&&(o=Hc(s,d),o===2&&(v=tl(s),v!==0&&(d=v,o=qf(s,v))),o===1))throw u=Dl,zi(s,0),Ws(s,d),un(s,Xe()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:$i(s,ln,ts);break;case 3:if(Ws(s,d),(d&130023424)===d&&(o=$f+500-Xe(),10<o)){if(zr(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){tn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Xd($i.bind(null,s,ln,ts),o);break}$i(s,ln,ts);break;case 4:if(Ws(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var T=31-pn(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*L2(d/1960))-d,10<d){s.timeoutHandle=Xd($i.bind(null,s,ln,ts),d);break}$i(s,ln,ts);break;case 5:$i(s,ln,ts);break;default:throw Error(n(329))}}}return un(s,Xe()),s.callbackNode===u?Ev.bind(null,s):null}function qf(s,o){var u=Vl;return s.current.memoizedState.isDehydrated&&(zi(s,o).flags|=256),s=Hc(s,o),s!==2&&(o=ln,ln=u,o!==null&&Kf(o)),s}function Kf(s){ln===null?ln=s:ln.push.apply(ln,s)}function j2(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!qn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(s,o){for(o&=~zf,o&=~Fc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-pn(o),d=1<<u;s[u]=-1,o&=~d}}function Tv(s){if((Fe&6)!==0)throw Error(n(327));sa();var o=zr(s,0);if((o&1)===0)return un(s,Xe()),null;var u=Hc(s,o);if(s.tag!==0&&u===2){var d=tl(s);d!==0&&(o=d,u=qf(s,d))}if(u===1)throw u=Dl,zi(s,0),Ws(s,o),un(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,$i(s,ln,ts),un(s,Xe()),null}function Gf(s,o){var u=Fe;Fe|=1;try{return s(o)}finally{Fe=u,Fe===0&&(ra=Xe()+500,vc&&Ms())}}function Bi(s){zs!==null&&zs.tag===0&&(Fe&6)===0&&sa();var o=Fe;Fe|=1;var u=kn.transition,d=Le;try{if(kn.transition=null,Le=1,s)return s()}finally{Le=d,kn.transition=u,Fe=o,(Fe&6)===0&&Ms()}}function Qf(){xn=na.current,Ze(na)}function zi(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,d2(u)),vt!==null)for(u=vt.return;u!==null;){var d=u;switch(rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gc();break;case 3:Zo(),Ze(sn),Ze($t),yf();break;case 5:mf(d);break;case 4:Zo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:cf(d.type._context);break;case 22:case 23:Qf()}u=u.return}if(Pt=s,vt=s=Hs(s.current,null),Mt=xn=o,At=0,Dl=null,zf=Fc=Ui=0,ln=Vl=null,Mi!==null){for(o=0;o<Mi.length;o++)if(u=Mi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Mi=null}return s}function Sv(s,o){do{var u=vt;try{if(uf(),bc.current=Nc,Pc){for(var d=st.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Pc=!1}if(Fi=0,bt=It=st=null,Cl=!1,bl=0,Bf.current=null,u===null||u.return===null){At=1,Dl=o,vt=null;break}e:{var v=s,T=u.return,k=u,M=o;if(o=Mt,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Q0(T);if(ue!==null){ue.flags&=-257,Y0(ue,T,k,v,o),ue.mode&1&&G0(v,q,o),o=ue,M=q;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else de.add(M);break e}else{if((o&1)===0){G0(v,q,o),Yf();break e}M=Error(n(426))}}else if(et&&k.mode&1){var ft=Q0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Y0(ft,T,k,v,o),af(ea(M,k));break e}}v=M=ea(M,k),At!==4&&(At=2),Vl===null?Vl=[v]:Vl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=q0(v,M,o);w0(v,$);break e;case 1:k=M;var O=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Bs===null||!Bs.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=K0(v,k,o);w0(v,ie);break e}}v=v.return}while(v!==null)}Cv(u)}catch(me){o=me,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function Iv(){var s=Oc.current;return Oc.current=Nc,s===null?Nc:s}function Yf(){(At===0||At===3||At===2)&&(At=4),Pt===null||(Ui&268435455)===0&&(Fc&268435455)===0||Ws(Pt,Mt)}function Hc(s,o){var u=Fe;Fe|=2;var d=Iv();(Pt!==s||Mt!==o)&&(ts=null,zi(s,o));do try{M2();break}catch(m){Sv(s,m)}while(!0);if(uf(),Fe=u,Oc.current=d,vt!==null)throw Error(n(261));return Pt=null,Mt=0,At}function M2(){for(;vt!==null;)Av(vt)}function O2(){for(;vt!==null&&!Ei();)Av(vt)}function Av(s){var o=Rv(s.alternate,s,xn);s.memoizedProps=s.pendingProps,o===null?Cv(s):vt=o,Bf.current=null}function Cv(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=R2(u,o,xn),u!==null){vt=u;return}}else{if(u=k2(u,o),u!==null){u.flags&=32767,vt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=s}while(o!==null);At===0&&(At=5)}function $i(s,o,u){var d=Le,m=kn.transition;try{kn.transition=null,Le=1,F2(s,o,u,d)}finally{kn.transition=m,Le=d}return null}function F2(s,o,u,d){do sa();while(zs!==null);if((Fe&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ld(s,v),s===Pt&&(vt=Pt=null,Mt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bc||(Bc=!0,kv(Ti,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=kn.transition,kn.transition=null;var T=Le;Le=1;var k=Fe;Fe|=4,Bf.current=null,D2(s,u),yv(u,s),i2(Qd),Hr=!!Gd,Qd=Gd=null,s.current=u,V2(u),Br(),Fe=k,Le=T,kn.transition=v}else s.current=u;if(Bc&&(Bc=!1,zs=s,zc=m),v=s.pendingLanes,v===0&&(Bs=null),Ju(u.stateNode),un(s,Xe()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Uc)throw Uc=!1,s=Wf,Wf=null,s;return(zc&1)!==0&&s.tag!==0&&sa(),v=s.pendingLanes,(v&1)!==0?s===Hf?Ll++:(Ll=0,Hf=s):Ll=0,Ms(),null}function sa(){if(zs!==null){var s=dr(zc),o=kn.transition,u=Le;try{if(kn.transition=null,Le=16>s?16:s,zs===null)var d=!1;else{if(s=zs,zs=null,zc=0,(Fe&6)!==0)throw Error(n(331));var m=Fe;for(Fe|=4,he=s.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var k=v.deletions;if(k!==null){for(var M=0;M<k.length;M++){var q=k[M];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Nl(8,ee,v)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(dv(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var ft=pe.sibling;pe.sibling=null,pe=ft}while(pe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Nl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var O=s.current;for(he=O;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=O;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Mc(9,k)}}catch(me){lt(k,k.return,me)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=m,Ms(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Si,s)}catch{}d=!0}return d}finally{Le=u,kn.transition=o}}return!1}function bv(s,o,u){o=ea(u,o),o=q0(s,o,1),s=Fs(s,o,1),o=tn(),s!==null&&(bi(s,1,o),un(s,o))}function lt(s,o,u){if(s.tag===3)bv(s,s,u);else for(;o!==null;){if(o.tag===3){bv(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))){s=ea(u,s),s=K0(o,s,1),o=Fs(o,s,1),s=tn(),o!==null&&(bi(o,1,s),un(o,s));break}}o=o.return}}function U2(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=tn(),s.pingedLanes|=s.suspendedLanes&u,Pt===s&&(Mt&u)===u&&(At===4||At===3&&(Mt&130023424)===Mt&&500>Xe()-$f?zi(s,0):zf|=u),un(s,o)}function Pv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var u=tn();s=Jr(s,o),s!==null&&(bi(s,o,u),un(s,u))}function B2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Pv(s,u)}function z2(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),Pv(s,u)}var Rv;Rv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||sn.current)an=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return an=!1,P2(s,o,u);an=(s.flags&131072)!==0}else an=!1,et&&(o.flags&1048576)!==0&&u0(o,_c,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Lc(s,o),s=o.pendingProps;var m=qo(o,$t.current);Jo(o,u),m=_f(null,o,d,s,m,u);var v=xf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(d)?(v=!0,yc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ff(o),m.updater=Dc,o.stateNode=m,m._reactInternals=o,Cf(o,d,s,u),o=kf(null,o,d,!0,v,u)):(o.tag=0,et&&v&&nf(o),en(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Lc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=W2(d),s=Gn(d,s),m){case 0:o=Rf(null,o,d,s,u);break e;case 1:o=nv(null,o,d,s,u);break e;case 11:o=X0(null,o,d,s,u);break e;case 14:o=J0(null,o,d,Gn(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),Rf(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),nv(s,o,d,m,u);case 3:e:{if(rv(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,v0(s,o),Ac(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ea(Error(n(423)),o),o=sv(s,o,d,u,m);break e}else if(d!==m){m=ea(Error(n(424)),o),o=sv(s,o,d,u,m);break e}else for(_n=Vs(o.stateNode.containerInfo.firstChild),wn=o,et=!0,Kn=null,u=g0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),d===m){o=es(s,o,u);break e}en(s,o,d,u)}o=o.child}return o;case 5:return x0(o),s===null&&of(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,T=m.children,Yd(d,m)?T=null:v!==null&&Yd(d,v)&&(o.flags|=32),tv(s,o),en(s,o,T,u),o.child;case 6:return s===null&&of(o),null;case 13:return iv(s,o,u);case 4:return pf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Yo(o,null,d,u):en(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),X0(s,o,d,m,u);case 7:return en(s,o,o.pendingProps,u),o.child;case 8:return en(s,o,o.pendingProps.children,u),o.child;case 12:return en(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Qe(Tc,d._currentValue),d._currentValue=T,v!==null)if(qn(v.value,T)){if(v.children===m.children&&!sn.current){o=es(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){T=v.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),hf(v.return,u,o),k.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),hf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}en(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Jo(o,u),m=Pn(m),d=d(m),o.flags|=1,en(s,o,d,u),o.child;case 14:return d=o.type,m=Gn(d,o.pendingProps),m=Gn(d.type,m),J0(s,o,d,m,u);case 15:return Z0(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),Lc(s,o),o.tag=1,on(d)?(s=!0,yc(o)):s=!1,Jo(o,u),W0(o,d,m),Cf(o,d,m,u),kf(null,o,d,!0,s,u);case 19:return av(s,o,u);case 22:return ev(s,o,u)}throw Error(n(156,o.tag))};function kv(s,o){return Ja(s,o)}function $2(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,o,u,d){return new $2(s,o,u,d)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function W2(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===ct)return 14}return 2}function Hs(s,o){var u=s.alternate;return u===null?(u=Nn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function qc(s,o,u,d,m,v){var T=2;if(d=s,typeof s=="function")Xf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case C:return Wi(u.children,m,v,o);case I:T=8,m|=8;break;case P:return s=Nn(12,u,o,m|2),s.elementType=P,s.lanes=v,s;case N:return s=Nn(13,u,o,m),s.elementType=N,s.lanes=v,s;case We:return s=Nn(19,u,o,m),s.elementType=We,s.lanes=v,s;case Ae:return Kc(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case j:T=9;break e;case z:T=11;break e;case ct:T=14;break e;case Dt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Nn(T,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function Wi(s,o,u,d){return s=Nn(7,s,d,o),s.lanes=u,s}function Kc(s,o,u,d){return s=Nn(22,s,d,o),s.elementType=Ae,s.lanes=u,s.stateNode={isHidden:!1},s}function Jf(s,o,u){return s=Nn(6,s,null,o),s.lanes=u,s}function Zf(s,o,u){return o=Nn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function H2(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ep(s,o,u,d,m,v,T,k,M){return s=new H2(s,o,u,k,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Nn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(v),s}function q2(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function Nv(s){if(!s)return js;s=s._reactInternals;e:{if(Wn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(on(u))return o0(s,u,o)}return o}function Dv(s,o,u,d,m,v,T,k,M){return s=ep(u,d,!0,s,m,v,T,k,M),s.context=Nv(null),u=s.current,d=tn(),m=$s(u),v=Zr(d,m),v.callback=o??null,Fs(u,v,m),s.current.lanes=m,bi(s,m,d),un(s,d),s}function Gc(s,o,u,d){var m=o.current,v=tn(),T=$s(m);return u=Nv(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,T),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Fs(m,o,T),s!==null&&(Xn(s,m,T,v),Ic(s,m,T)),T}function Qc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Vv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function tp(s,o){Vv(s,o),(s=s.alternate)&&Vv(s,o)}function K2(){return null}var Lv=typeof reportError=="function"?reportError:function(s){console.error(s)};function np(s){this._internalRoot=s}Yc.prototype.render=np.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Gc(s,o,null,null)},Yc.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Bi(function(){Gc(null,s,null,null)}),o[Gr]=null}};function Yc(s){this._internalRoot=s}Yc.prototype.unstable_scheduleHydration=function(s){if(s){var o=al();s={blockedOn:null,target:s,priority:o};for(var u=0;u<mn.length&&o!==0&&o<mn[u].priority;u++);mn.splice(u,0,s),u===0&&Ro(s)}};function rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jv(){}function G2(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var q=Qc(T);v.call(q)}}var T=Dv(o,d,s,0,null,!1,!1,"",jv);return s._reactRootContainer=T,s[Gr]=T.current,wl(s.nodeType===8?s.parentNode:s),Bi(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var q=Qc(M);k.call(q)}}var M=ep(s,0,!1,null,null,!1,!1,"",jv);return s._reactRootContainer=M,s[Gr]=M.current,wl(s.nodeType===8?s.parentNode:s),Bi(function(){Gc(o,M,u,d)}),M}function Jc(s,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var k=m;m=function(){var M=Qc(T);k.call(M)}}Gc(o,T,s,m)}else T=G2(u,o,s,m,d);return Qc(T)}il=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Be(o.pendingLanes);u!==0&&(sl(o,u|1),un(o,Xe()),(Fe&6)===0&&(ra=Xe()+500,Ms()))}break;case 13:Bi(function(){var d=Jr(s,1);if(d!==null){var m=tn();Xn(d,s,1,m)}}),tp(s,1)}},bo=function(s){if(s.tag===13){var o=Jr(s,134217728);if(o!==null){var u=tn();Xn(o,s,134217728,u)}tp(s,134217728)}},ol=function(s){if(s.tag===13){var o=$s(s),u=Jr(s,o);if(u!==null){var d=tn();Xn(u,s,o,d)}tp(s,o)}},al=function(){return Le},ll=function(s,o){var u=Le;try{return Le=s,o()}finally{Le=u}},Or=function(s,o,u){switch(o){case"input":if(vi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=mc(d);if(!m)throw Error(n(90));$a(d),vi(d,m)}}}break;case"textarea":Uu(s,u);break;case"select":o=u.value,o!=null&&zn(s,!!u.multiple,o,!1)}},$u=Gf,Wu=Bi;var Q2={usingClientEntryPoint:!1,Events:[El,Wo,mc,Ts,Ss,Gf]},jl={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xu(s),s===null?null:s.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Si=Zc.inject(Y2),fn=Zc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2,cn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(o))throw Error(n(200));return q2(s,o,null,u)},cn.createRoot=function(s,o){if(!rp(s))throw Error(n(299));var u=!1,d="",m=Lv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ep(s,1,!1,null,null,u,!1,d,m),s[Gr]=o.current,wl(s.nodeType===8?s.parentNode:s),new np(o)},cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Xu(o),s=s===null?null:s.stateNode,s},cn.flushSync=function(s){return Bi(s)},cn.hydrate=function(s,o,u){if(!Xc(o))throw Error(n(200));return Jc(null,s,o,!0,u)},cn.hydrateRoot=function(s,o,u){if(!rp(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=Lv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Dv(o,null,s,1,u??null,m,!1,v,T),s[Gr]=o.current,wl(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Yc(o)},cn.render=function(s,o,u){if(!Xc(o))throw Error(n(200));return Jc(null,s,o,!1,u)},cn.unmountComponentAtNode=function(s){if(!Xc(s))throw Error(n(40));return s._reactRootContainer?(Bi(function(){Jc(null,null,s,!1,function(){s._reactRootContainer=null,s[Gr]=null})}),!0):!1},cn.unstable_batchedUpdates=Gf,cn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!Xc(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Jc(s,o,u,!1,d)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Wv;function iA(){if(Wv)return op.exports;Wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=sA(),op.exports}var Hv;function oA(){if(Hv)return eh;Hv=1;var t=iA();return eh.createRoot=t.createRoot,eh.hydrateRoot=t.hydrateRoot,eh}var aA=oA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qv="popstate";function lA(t={}){function e(i,a){let{pathname:l="/",search:h="",hash:f=""}=uo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Bp("",{pathname:l,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),h="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof a=="string"?a:su(a))}function r(i,a){Un(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return cA(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function Kv(t,e){return{usr:t.state,key:t.key,idx:e}}function Bp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||uA()}}function su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){h="POP";let b=y(),F=b==null?null:b-p;p=b,f&&f({action:h,location:L.location,delta:F})}function E(b,F){h="PUSH";let U=Bp(L.location,b,F);n&&n(U,b),p=y()+1;let G=Kv(U,p),re=L.createHref(U);try{l.pushState(G,"",re)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(re)}a&&f&&f({action:h,location:L.location,delta:1})}function A(b,F){h="REPLACE";let U=Bp(L.location,b,F);n&&n(U,b),p=y();let G=Kv(U,p),re=L.createHref(U);l.replaceState(G,"",re),a&&f&&f({action:h,location:L.location,delta:0})}function D(b){return hA(b)}let L={get action(){return h},get location(){return t(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(qv,_),f=b,()=>{i.removeEventListener(qv,_),f=null}},createHref(b){return e(i,b)},createURL:D,encodeLocation(b){let F=D(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:A,go(b){return l.go(b)}};return L}function hA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:su(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Yx(t,e,n="/"){return dA(t,e,n,!1)}function dA(t,e,n,r){let i=typeof e=="string"?uo(e):e,a=us(i.pathname||"/",n);if(a==null)return null;let l=Xx(t);fA(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=SA(a);h=EA(l[f],p,r)}return h}function Xx(t,e=[],n=[],r="",i=!1){let a=(l,h,f=i,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;nt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=os([r,y.relativePath]),E=n.concat(y);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xx(l.children,e,E,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:_A(_,l.index),routesMeta:E})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let f of Jx(l.path))a(l,h,!0,f)}),e}function Jx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Jx(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function fA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pA=/^:[\w-]+$/,mA=3,gA=2,yA=1,vA=10,wA=-2,Gv=t=>t==="*";function _A(t,e){let n=t.split("/"),r=n.length;return n.some(Gv)&&(r+=wA),e&&(r+=gA),n.filter(i=>!Gv(i)).reduce((i,a)=>i+(pA.test(a)?mA:a===""?yA:vA),r)}function xA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EA(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:os([a,_.pathname]),pathnameBase:bA(os([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=os([a,_.pathnameBase]))}return l}function Ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=h[E]||"";l=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function TA(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:AA(n,e):e,search:PA(r),hash:RA(i)}}function AA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t){let e=CA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fm(t,e,n,r=!1){let i;typeof t=="string"?i=uo(t):(i={...t},nt(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=IA(i,h),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var os=t=>t.join("/").replace(/\/\/+/g,"/"),bA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Zx=["POST","PUT","PATCH","DELETE"];new Set(Zx);var NA=["GET",...Zx];new Set(NA);var Pa=R.createContext(null);Pa.displayName="DataRouter";var sd=R.createContext(null);sd.displayName="DataRouterState";R.createContext(!1);var e1=R.createContext({isTransitioning:!1});e1.displayName="ViewTransition";var DA=R.createContext(new Map);DA.displayName="Fetchers";var VA=R.createContext(null);VA.displayName="Await";var ir=R.createContext(null);ir.displayName="Navigation";var xu=R.createContext(null);xu.displayName="Location";var or=R.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Um=R.createContext(null);Um.displayName="RouteError";function LA(t,{relative:e}={}){nt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ir),{hash:i,pathname:a,search:l}=Eu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:os([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Ra(){return R.useContext(xu)!=null}function Mr(){return nt(Ra(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(xu).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n1(t){R.useContext(ir).static||R.useLayoutEffect(t)}function di(){let{isDataRoute:t}=R.useContext(or);return t?GA():jA()}function jA(){nt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Pa),{basename:e,navigator:n}=R.useContext(ir),{matches:r}=R.useContext(or),{pathname:i}=Mr(),a=JSON.stringify(Om(r)),l=R.useRef(!1);return n1(()=>{l.current=!0}),R.useCallback((f,p={})=>{if(Un(l.current,t1),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=Fm(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:os([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,i,t])}R.createContext(null);function r1(){let{matches:t}=R.useContext(or),e=t[t.length-1];return e?e.params:{}}function Eu(t,{relative:e}={}){let{matches:n}=R.useContext(or),{pathname:r}=Mr(),i=JSON.stringify(Om(n));return R.useMemo(()=>Fm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function MA(t,e){return s1(t,e)}function s1(t,e,n,r,i){nt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(ir),{matches:l}=R.useContext(or),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";i1(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=Mr(),A;if(e){let U=typeof e=="string"?uo(e):e;nt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=E;let D=A.pathname||"/",L=D;if(y!=="/"){let U=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let b=Yx(t,{pathname:L});Un(_||b!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Un(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=zA(b&&b.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:os([y,a.encodeLocation?a.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:os([y,a.encodeLocation?a.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),l,n,r,i);return e&&F?R.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function OA(){let t=KA(),e=kA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,l)}var FA=R.createElement(OA,null),UA=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(or.Provider,{value:this.props.routeContext},R.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BA({routeContext:t,match:e,children:n}){let r=R.useContext(Pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(or.Provider,{value:t},n)}function zA(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:E}=n,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,y,_)=>{let E,A=!1,D=null,L=null;n&&(E=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||FA,h&&(f<0&&_===0?(i1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):f===_&&(A=!0,L=y.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,_+1)),F=()=>{let U;return E?U=D:A?U=L:y.route.Component?U=R.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,R.createElement(BA,{match:y,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:U})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?R.createElement(UA,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:F(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):F()},null)}function Bm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(t){let e=R.useContext(Pa);return nt(e,Bm(t)),e}function WA(t){let e=R.useContext(sd);return nt(e,Bm(t)),e}function HA(t){let e=R.useContext(or);return nt(e,Bm(t)),e}function zm(t){let e=HA(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qA(){return zm("useRouteId")}function KA(){let t=R.useContext(Um),e=WA("useRouteError"),n=zm("useRouteError");return t!==void 0?t:e.errors?.[n]}function GA(){let{router:t}=$A("useNavigate"),e=zm("useNavigate"),n=R.useRef(!1);return n1(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{Un(n.current,t1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Qv={};function i1(t,e,n){!e&&!Qv[t]&&(Qv[t]=!0,Un(!1,n))}R.memo(QA);function QA({routes:t,future:e,state:n,unstable_onError:r}){return s1(t,void 0,n,r,e)}function YA({to:t,replace:e,state:n,relative:r}){nt(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(ir);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(or),{pathname:l}=Mr(),h=di(),f=Fm(t,Om(a),l,r==="path"),p=JSON.stringify(f);return R.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function ns(t){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){nt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=uo(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,A=R.useMemo(()=>{let D=us(f,l);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:E},navigationType:r}},[l,f,p,y,_,E,r]);return Un(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(ir.Provider,{value:h},R.createElement(xu.Provider,{children:e,value:A}))}function JA({children:t,location:e}){return MA(zp(t),e)}function zp(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,zp(r.props.children,a));return}nt(r.type===ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=zp(r.props.children,a)),n.push(l)}),n}var fh="get",ph="application/x-www-form-urlencoded";function id(t){return t!=null&&typeof t.tagName=="string"}function ZA(t){return id(t)&&t.tagName.toLowerCase()==="button"}function eC(t){return id(t)&&t.tagName.toLowerCase()==="form"}function tC(t){return id(t)&&t.tagName.toLowerCase()==="input"}function nC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rC(t,e){return t.button===0&&(!e||e==="_self")&&!nC(t)}var th=null;function sC(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var iC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(t){return t!=null&&!iC.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):t}function oC(t,e){let n,r,i,a,l;if(eC(t)){let h=t.getAttribute("action");r=h?us(h,e):null,n=t.getAttribute("method")||fh,i=cp(t.getAttribute("enctype"))||ph,a=new FormData(t)}else if(ZA(t)||tC(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?us(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||fh,i=cp(t.getAttribute("formenctype"))||cp(h.getAttribute("enctype"))||ph,a=new FormData(h,t),!sC()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,r=null,i=ph,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cC(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await lC(a,n);return l.links?l.links():[]}return[]}));return pC(r.flat(1).filter(uC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yv(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function hC(t,e,{includeHydrateFallback:n}={}){return dC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dC(t){return[...new Set(t)]}function fC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(fC(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function o1(){let t=R.useContext(Pa);return $m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mC(){let t=R.useContext(sd);return $m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wm=R.createContext(void 0);Wm.displayName="FrameworkContext";function a1(){let t=R.useContext(Wm);return $m(t,"You must render this element inside a <HydratedRouter> element"),t}function gC(t,e){let n=R.useContext(Wm),[r,i]=R.useState(!1),[a,l]=R.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let L=F=>{F.forEach(U=>{l(U.isIntersecting)})},b=new IntersectionObserver(L,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[t]),R.useEffect(()=>{if(r){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[r]);let A=()=>{i(!0)},D=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ol(h,A),onBlur:Ol(f,D),onMouseEnter:Ol(p,A),onMouseLeave:Ol(y,D),onTouchStart:Ol(_,A)}]:[!1,E,{}]}function Ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yC({page:t,...e}){let{router:n}=o1(),r=R.useMemo(()=>Yx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(wC,{page:t,matches:r,...e}):null}function vC(t){let{manifest:e,routeModules:n}=a1(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return cC(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function wC({page:t,matches:e,...n}){let r=Mr(),{manifest:i,routeModules:a}=a1(),{basename:l}=o1(),{loaderData:h,matches:f}=mC(),p=R.useMemo(()=>Yv(t,e,f,i,r,"data"),[t,e,f,i,r]),y=R.useMemo(()=>Yv(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,L=!1;if(e.forEach(F=>{let U=i.routes[F.route.id];!U||!U.hasLoader||(!p.some(G=>G.route.id===F.route.id)&&F.route.id in h&&a[F.route.id]?.shouldRevalidate||U.hasClientLoader?L=!0:D.add(F.route.id))}),D.size===0)return[];let b=aC(t,l,"data");return L&&D.size>0&&b.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[b.pathname+b.search]},[l,h,r,i,p,e,t,a]),E=R.useMemo(()=>hC(y,i),[y,i]),A=vC(y);return R.createElement(R.Fragment,null,_.map(D=>R.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>R.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:L})=>R.createElement("link",{key:D,nonce:n.nonce,...L})))}function _C(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l1&&(window.__reactRouterVersion="7.9.4")}catch{}function xC({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=lA({window:n,v5Compat:!0}));let i=r.current,[a,l]=R.useState({action:i.action,location:i.location}),h=R.useCallback(f=>{R.startTransition(()=>l(f))},[l]);return R.useLayoutEffect(()=>i.listen(h),[i,h]),R.createElement(XA,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:D}=R.useContext(ir),L=typeof p=="string"&&u1.test(p),b,F=!1;if(typeof p=="string"&&L&&(b=p,l1))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),j=us(V.pathname,D);V.origin===P.origin&&j!=null?p=j+V.search+V.hash:F=!0}catch{Un(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=LA(p,{relative:i}),[G,re,ne]=gC(r,E),X=IC(p,{replace:l,state:h,target:f,preventScrollReset:y,relative:i,viewTransition:_});function C(P){e&&e(P),P.defaultPrevented||X(P)}let I=R.createElement("a",{...E,...ne,href:b||U,onClick:F||a?e:C,ref:_C(A,re),target:f,"data-discover":!L&&n==="render"?"true":void 0});return G&&!L?R.createElement(R.Fragment,null,I,R.createElement(yC,{page:U})):I});En.displayName="Link";var EC=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},y){let _=Eu(l,{relative:p.relative}),E=Mr(),A=R.useContext(sd),{navigator:D,basename:L}=R.useContext(ir),b=A!=null&&RC(_)&&h===!0,F=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,U=E.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(U=U.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&L&&(G=us(G,L)||G);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=U===F||!i&&U.startsWith(F)&&U.charAt(re)==="/",X=G!=null&&(G===F||!i&&G.startsWith(F)&&G.charAt(F.length)==="/"),C={isActive:ne,isPending:X,isTransitioning:b},I=ne?e:void 0,P;typeof r=="function"?P=r(C):P=[r,ne?"active":null,X?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(C):a;return R.createElement(En,{...p,"aria-current":I,className:P,ref:y,style:V,to:l,viewTransition:h},typeof f=="function"?f(C):f)});EC.displayName="NavLink";var TC=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=fh,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let D=bC(),L=PC(h,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&u1.test(h),U=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ne=re?.getAttribute("formmethod")||l;D(re||G.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return R.createElement("form",{ref:A,method:b,action:L,onSubmit:r?f:U,...E,"data-discover":!F&&t==="render"?"true":void 0})});TC.displayName="Form";function SC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c1(t){let e=R.useContext(Pa);return nt(e,SC(t)),e}function IC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=di(),f=Mr(),p=Eu(t,{relative:a});return R.useCallback(y=>{if(rC(y,e)){y.preventDefault();let _=n!==void 0?n:su(f)===su(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var AC=0,CC=()=>`__${String(++AC)}__`;function bC(){let{router:t}=c1("useSubmit"),{basename:e}=R.useContext(ir),n=qA();return R.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=oC(r,e);if(i.navigate===!1){let y=i.fetcherKey||CC();await t.fetch(y,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function PC(t,{relative:e}={}){let{basename:n}=R.useContext(ir),r=R.useContext(or);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Eu(t||".",{relative:e})},l=Mr();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:os([n,a.pathname])),su(a)}function RC(t,{relative:e}={}){let n=R.useContext(e1);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c1("useViewTransitionState"),i=Eu(t,{relative:e});if(!n.isTransitioning)return!1;let a=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ph(i.pathname,l)!=null||Ph(i.pathname,a)!=null}const kC=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;f||(A=64,l||(E=64)),r.push(n[y],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new DC;const E=a<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(t){const e=h1(t);return d1.encodeByteArray(e,!0)},Rh=function(t){return VC(t).replace(/\./g,"")},f1=function(t){try{return d1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=()=>LC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f1(t[1]);return e&&JSON.parse(e)},od=()=>{try{return kC()||jC()||MC()||OC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p1=t=>od()?.emulatorHosts?.[t],FC=t=>{const e=p1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m1=()=>od()?.config,g1=t=>od()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(l)),""].join(".")}const Kl={};function zC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?t.emulator.push(e):t.prod.push(e);return t}function $C(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jv=!1;function v1(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Kl[t]===e||Kl[t]||Jv)return;Kl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=zC().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Jv=!0,l()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=$C(r),A=n("text"),D=document.getElementById(A)||document.createElement("span"),L=n("learnmore"),b=document.getElementById(L)||document.createElement("a"),F=n("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),y(b,L);const re=p();f(U,F),G.append(U,D,b,re),document.body.appendChild(G)}a?(D.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function HC(){const t=od()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QC(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _1(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function YC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XC,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?JC(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new ar(i,h,r)}}function JC(t,e){return t.replace(ZC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZC=/\{\$([^}]+)}/g;function eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Zv(a)&&Zv(l)){if(!ri(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tb(t,e){const n=new nb(t,e);return n.subscribe.bind(n)}class nb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hp),i.error===void 0&&(i.error=hp),i.complete===void 0&&(i.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1e3,ib=2,ob=14400*1e3,ab=.5;function ew(t,e=sb,n=ib){const r=e*Math.pow(n,t),i=Math.round(ab*r*(Math.random()-.5)*2);return Math.min(ob,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ub(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(t){return t===qi?void 0:t}function cb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const db={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},fb=Ne.INFO,pb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},mb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=fb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const gb=(t,e)=>e.some(n=>t instanceof n);let tw,nw;function yb(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,$p=new WeakMap,T1=new WeakMap,dp=new WeakMap,Hm=new WeakMap;function wb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Zs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function _b(t){if($p.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});$p.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xb(t){Wp=t(Wp)}function Eb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fp(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),Zs(r)}:vb().includes(t)?function(...e){return t.apply(fp(this),e),Zs(E1.get(this))}:function(...e){return Zs(t.apply(fp(this),e))}}function Tb(t){return typeof t=="function"?Eb(t):(t instanceof IDBTransaction&&_b(t),gb(t,yb())?new Proxy(t,Wp):t)}function Zs(t){if(t instanceof IDBRequest)return wb(t);if(dp.has(t))return dp.get(t);const e=Tb(t);return e!==t&&(dp.set(t,e),Hm.set(e,t)),e}const fp=t=>Hm.get(t);function S1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Zs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Zs(l.result),f.oldVersion,f.newVersion,Zs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Sb=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],pp=new Map;function rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ib.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sb.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return pp.set(e,a),a}xb(t=>({...t,get:(e,n,r)=>rw(e,n)||t.get(e,n,r),has:(e,n)=>!!rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cb(t){return t.getComponent()?.type==="VERSION"}const Hp="@firebase/app",sw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new ad("@firebase/app"),bb="@firebase/app-compat",Pb="@firebase/analytics-compat",Rb="@firebase/analytics",kb="@firebase/app-check-compat",Nb="@firebase/app-check",Db="@firebase/auth",Vb="@firebase/auth-compat",Lb="@firebase/database",jb="@firebase/data-connect",Mb="@firebase/database-compat",Ob="@firebase/functions",Fb="@firebase/functions-compat",Ub="@firebase/installations",Bb="@firebase/installations-compat",zb="@firebase/messaging",$b="@firebase/messaging-compat",Wb="@firebase/performance",Hb="@firebase/performance-compat",qb="@firebase/remote-config",Kb="@firebase/remote-config-compat",Gb="@firebase/storage",Qb="@firebase/storage-compat",Yb="@firebase/firestore",Xb="@firebase/ai",Jb="@firebase/firestore-compat",Zb="firebase",eP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",tP={[Hp]:"fire-core",[bb]:"fire-core-compat",[Rb]:"fire-analytics",[Pb]:"fire-analytics-compat",[Nb]:"fire-app-check",[kb]:"fire-app-check-compat",[Db]:"fire-auth",[Vb]:"fire-auth-compat",[Lb]:"fire-rtdb",[jb]:"fire-data-connect",[Mb]:"fire-rtdb-compat",[Ob]:"fire-fn",[Fb]:"fire-fn-compat",[Ub]:"fire-iid",[Bb]:"fire-iid-compat",[zb]:"fire-fcm",[$b]:"fire-fcm-compat",[Wb]:"fire-perf",[Hb]:"fire-perf-compat",[qb]:"fire-rc",[Kb]:"fire-rc-compat",[Gb]:"fire-gcs",[Qb]:"fire-gcs-compat",[Yb]:"fire-fst",[Jb]:"fire-fst-compat",[Xb]:"fire-vertex","fire-js":"fire-js",[Zb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,nP=new Map,Kp=new Map;function iw(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(Kp.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of kh.values())iw(n,t);for(const n of nP.values())iw(n,t);return!0}function ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new co("app","Firebase",rP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=eP;function I1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=m1()),!n)throw ei.create("no-options");const a=kh.get(i);if(a){if(ri(n,a.options)&&ri(r,a.config))return a;throw ei.create("duplicate-app",{appName:i})}const l=new hb(i);for(const f of Kp.values())l.addComponent(f);const h=new sP(n,r,l);return kh.set(i,h),h}function qm(t=qp){const e=kh.get(t);if(!e&&t===qp&&m1())return I1();if(!e)throw ei.create("no-app",{appName:t});return e}function On(t,e,n){let r=tP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(l.join(" "));return}Vr(new rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",oP=1,iu="firebase-heartbeat-store";let mp=null;function A1(){return mp||(mp=S1(iP,oP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),mp}async function aP(t){try{const n=(await A1()).transaction(iu),r=await n.objectStore(iu).get(C1(t));return await n.done,r}catch(e){if(e instanceof ar)cs.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function ow(t,e){try{const r=(await A1()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,C1(t)),await r.done}catch(n){if(n instanceof ar)cs.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function C1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1024,uP=30;class cP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>uP){const i=fP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aw(),{heartbeatsToSend:n,unsentEntries:r}=hP(this._heartbeatsCache.heartbeats),i=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return cs.warn(e),""}}}function aw(){return new Date().toISOString().substring(0,10)}function hP(t,e=lP){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),lw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _1()?x1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lw(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}function fP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){Vr(new rr("platform-logger",e=>new Ab(e),"PRIVATE")),Vr(new rr("heartbeat",e=>new cP(e),"PRIVATE")),On(Hp,sw,t),On(Hp,sw,"esm2020"),On("fire-js","")}pP("");var mP="firebase",gP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(mP,gP,"app");const b1="@firebase/installations",Km="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1e4,R1=`w:${Km}`,k1="FIS_v2",yP="https://firebaseinstallations.googleapis.com/v1",vP=3600*1e3,wP="installations",_P="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},no=new co(wP,_P,xP);function N1(t){return t instanceof ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1({projectId:t}){return`${yP}/projects/${t}/installations`}function V1(t){return{token:t.token,requestStatus:2,expiresIn:TP(t.expiresIn),creationTime:Date.now()}}async function L1(t,e){const r=(await e.json()).error;return no.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function j1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EP(t,{refreshToken:e}){const n=j1(t);return n.append("Authorization",SP(e)),n}async function M1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function TP(t){return Number(t.replace("s","000"))}function SP(t){return`${k1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=D1(t),i=j1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:n,authVersion:k1,appId:t.appId,sdkVersion:R1},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await M1(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:V1(p.authToken)}}else throw await L1("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^[cdef][\w-]{21}$/,Gp="";function bP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PP(t);return CP.test(n)?n:Gp}catch{return Gp}}function PP(t){return AP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;function U1(t,e){const n=ld(t);B1(n,e),RP(n,e)}function B1(t,e){const n=F1.get(t);if(n)for(const r of n)r(e)}function RP(t,e){const n=kP();n&&n.postMessage({key:t,fid:e}),NP()}let Gi=null;function kP(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=t=>{B1(t.data.key,t.data.fid)}),Gi}function NP(){F1.size===0&&Gi&&(Gi.close(),Gi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebase-installations-database",VP=1,ro="firebase-installations-store";let gp=null;function Gm(){return gp||(gp=S1(DP,VP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),gp}async function Nh(t,e){const n=ld(t),i=(await Gm()).transaction(ro,"readwrite"),a=i.objectStore(ro),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&U1(t,e.fid),e}async function z1(t){const e=ld(t),r=(await Gm()).transaction(ro,"readwrite");await r.objectStore(ro).delete(e),await r.done}async function ud(t,e){const n=ld(t),i=(await Gm()).transaction(ro,"readwrite"),a=i.objectStore(ro),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&U1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(t){let e;const n=await ud(t.appConfig,r=>{const i=LP(r),a=jP(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Gp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function LP(t){const e=t||{fid:bP(),registrationStatus:0};return $1(e)}function jP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(no.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OP(t)}:{installationEntry:e}}async function MP(t,e){try{const n=await IP(t,e);return Nh(t.appConfig,n)}catch(n){throw N1(n)&&n.customData.serverCode===409?await z1(t.appConfig):await Nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function OP(t){let e=await uw(t.appConfig);for(;e.registrationStatus===1;)await O1(100),e=await uw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qm(t);return r||n}return e}function uw(t){return ud(t,e=>{if(!e)throw no.create("installation-not-found");return $1(e)})}function $1(t){return FP(t)?{fid:t.fid,registrationStatus:0}:t}function FP(t){return t.registrationStatus===1&&t.registrationTime+P1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP({appConfig:t,heartbeatServiceProvider:e},n){const r=BP(t,n),i=EP(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:R1,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await M1(()=>fetch(r,h));if(f.ok){const p=await f.json();return V1(p)}else throw await L1("Generate Auth Token",f)}function BP(t,{fid:e}){return`${D1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e=!1){let n;const r=await ud(t.appConfig,a=>{if(!W1(a))throw no.create("not-registered");const l=a.authToken;if(!e&&WP(l))return a;if(l.requestStatus===1)return n=zP(t,e),a;{if(!navigator.onLine)throw no.create("app-offline");const h=qP(a);return n=$P(t,h),h}});return n?await n:r.authToken}async function zP(t,e){let n=await cw(t.appConfig);for(;n.authToken.requestStatus===1;)await O1(100),n=await cw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ym(t,e):r}function cw(t){return ud(t,e=>{if(!W1(e))throw no.create("not-registered");const n=e.authToken;return KP(n)?{...e,authToken:{requestStatus:0}}:e})}async function $P(t,e){try{const n=await UP(t,e),r={...e,authToken:n};return await Nh(t.appConfig,r),n}catch(n){if(N1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z1(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Nh(t.appConfig,r)}throw n}}function W1(t){return t!==void 0&&t.registrationStatus===2}function WP(t){return t.requestStatus===2&&!HP(t)}function HP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vP}function qP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function KP(t){return t.requestStatus===1&&t.requestTime+P1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t){const e=t,{installationEntry:n,registrationPromise:r}=await Qm(e);return r?r.catch(console.error):Ym(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e=!1){const n=t;return await YP(n),(await Ym(n,e)).token}async function YP(t){const{registrationPromise:e}=await Qm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){if(!t||!t.options)throw yp("App Configuration");if(!t.name)throw yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yp(t){return no.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="installations",JP="installations-internal",ZP=t=>{const e=t.getProvider("app").getImmediate(),n=XP(e),r=ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eR=t=>{const e=t.getProvider("app").getImmediate(),n=ho(e,H1).getImmediate();return{getId:()=>GP(n),getToken:i=>QP(n,i)}};function tR(){Vr(new rr(H1,ZP,"PUBLIC")),Vr(new rr(JP,eR,"PRIVATE"))}tR();On(b1,Km);On(b1,Km,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",nR="firebase_id",rR="origin",sR=60*1e3,iR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new co("analytics","Analytics",oR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){if(!t.startsWith(Xm)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return rn.warn(e.message),""}return t}function q1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function lR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function uR(t,e){const n=lR("firebase-js-sdk-policy",{createScriptURL:aR}),r=document.createElement("script"),i=`${Xm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function cR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function hR(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await q1(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){rn.error(h)}t("config",i,a)}async function dR(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await q1(n);for(const f of l){const p=h.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){rn.error(a)}}function fR(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,f]=l;await dR(t,e,n,h,f)}else if(a==="config"){const[h,f]=l;await hR(t,e,n,r,h,f)}else if(a==="consent"){const[h,f]=l;t("consent",h,f)}else if(a==="get"){const[h,f,p]=l;t("get",h,f,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){rn.error(h)}}return i}function pR(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=fR(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function mR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=30,yR=1e3;class vR{constructor(e={},n=yR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const K1=new vR;function wR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _R(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:wR(n)},i=iR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function xR(t,e=K1,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Sn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Sn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new SR;return setTimeout(async()=>{h.abort()},sR),G1({appId:r,apiKey:i,measurementId:a},l,h,e)}async function G1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=K1){const{appId:a,measurementId:l}=t;try{await ER(r,e)}catch(h){if(l)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await _R(t);return i.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!TR(f)){if(i.deleteThrottleMetadata(a),l)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:l};throw h}const p=Number(f?.customData?.httpStatus)===503?ew(n,i.intervalMillis,gR):ew(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,y),rn.debug(`Calling attemptFetch again in ${p} millis`),G1(t,y,r,i)}}function ER(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TR(t){if(!(t instanceof ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class SR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IR(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function AR(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(){if(_1())try{await x1()}catch(t){return rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bR(t,e,n,r,i,a,l){const h=xR(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>rn.error(E)),e.push(h);const f=CR().then(E=>{if(E)return r.getId()}),[p,y]=await Promise.all([h,f]);mR(a)||uR(a,p.measurementId),i("js",new Date);const _=l?.config??{};return _[rR]="firebase",_.update=!0,y!=null&&(_[nR]=y),i("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.app=e}_delete(){return delete pa[this.app.options.appId],Promise.resolve()}}let pa={},hw=[];const dw={};let vp="dataLayer",RR="gtag",fw,Jm,pw=!1;function kR(){const t=[];if(w1()&&t.push("This is a browser extension environment."),YC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function NR(t,e,n){kR();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(pa[r]!=null)throw Sn.create("already-exists",{id:r});if(!pw){cR(vp);const{wrappedGtag:a,gtagCore:l}=pR(pa,hw,dw,vp,RR);Jm=a,fw=l,pw=!0}return pa[r]=bR(t,hw,dw,e,fw,vp,n),new PR(t)}function DR(t=qm()){t=Nt(t);const e=ho(t,Dh);return e.isInitialized()?e.getImmediate():VR(t)}function VR(t,e={}){const n=ho(t,Dh);if(n.isInitialized()){const i=n.getImmediate();if(ri(e,n.getOptions()))return i;throw Sn.create("already-initialized")}return n.initialize({options:e})}function LR(t,e,n){t=Nt(t),AR(Jm,pa[t.app.options.appId],e,n).catch(r=>rn.error(r))}function jR(t,e,n,r){t=Nt(t),IR(Jm,pa[t.app.options.appId],e,n,r).catch(i=>rn.error(i))}const mw="@firebase/analytics",gw="0.10.19";function MR(){Vr(new rr(Dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return NR(r,i,n)},"PUBLIC")),Vr(new rr("analytics-internal",t,"PRIVATE")),On(mw,gw),On(mw,gw,"esm2020");function t(e){try{const n=e.getProvider(Dh).getImmediate();return{logEvent:(r,i,a)=>jR(n,r,i,a),setUserProperties:(r,i)=>LR(n,r,i)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}MR();function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=Q1,Y1=new co("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new ad("@firebase/auth");function FR(t,...e){Vh.logLevel<=Ne.WARN&&Vh.warn(`Auth (${Na}): ${t}`,...e)}function mh(t,...e){Vh.logLevel<=Ne.ERROR&&Vh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw eg(t,...e)}function tr(t,...e){return eg(t,...e)}function Zm(t,e,n){const r={...OR(),[e]:n};return new co("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return Zm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),Zm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y1.create(t,...e)}function we(t,e,...n){if(!t)throw eg(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function hs(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return typeof self<"u"&&self.location?.href||""}function BR(){return yw()==="http:"||yw()==="https:"}function yw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||w1()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=WC()||KC()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new Su(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pi(t,e,n,r,i={}){return J1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Tu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return qC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(p.credentials="include"),X1.fetch()(await Z1(t,t.config.apiHost,n,h),p)})}async function J1(t,e,n){t._canInitEmulator=!1;const r={...WR,...e};try{const i=new GR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw nh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw nh(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zm(t,y,p);Bn(t,y)}}catch(i){if(i instanceof ar)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function Iu(t,e,n,r,i={}){const a=await pi(t,e,n,r,i);return"mfaPendingCredential"in a&&Bn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Z1(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`;return HR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function KR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),qR.get())})}}function nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(t,e,r);return i.customData._tokenResponse=n,i}function vw(t){return t!==void 0&&t.enterprise!==void 0}class QR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(t,e){return pi(t,"GET","/v2/recaptchaConfig",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function Lh(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JR(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=ng(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Gl(wp(i.auth_time)),issuedAtTime:Gl(wp(i.iat)),expirationTime:Gl(wp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function wp(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=f1(n);return i?JSON.parse(i):(mh("Failed to decode base64 JWT payload"),null)}catch(i){return mh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ww(t){const e=ng(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&ZR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){const e=t.auth,n=await t.getIdToken(),r=await ou(t,Lh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?eE(i.providerUserInfo):[],l=nk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Yp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function tk(t){const e=Nt(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e){const n=await J1(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await Z1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(f.credentials="include"),X1.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sk(t,e){return pi(t,"POST","/v2/accounts:revokeToken",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await rk(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ma;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(we(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JR(this,e)}reload(){return tk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await ou(this,XR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:L}=n;we(_&&L,e,"internal-error");const b=ma.fromJSON(this.name,L);we(typeof _=="string",e,"internal-error"),Ks(r,e.name),Ks(i,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),Ks(a,e.name),Ks(l,e.name),Ks(h,e.name),Ks(f,e.name),Ks(p,e.name),Ks(y,e.name);const F=new Zn({uid:_,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(U=>({...U}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const a=new Zn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?eE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new ma;h.updateFromIdToken(r);const f=new Zn({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Yp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function is(t){hs(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tE.type="NONE";const xw=tE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=gh(this.userKey,i.apiKey,a),this.fullPersistenceKey=gh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(is(xw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||is(xw);const l=gh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(l);if(y){let _;if(typeof y=="string"){const E=await Lh(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Zn._fromGetAccountInfoResponse(e,E,y)}else _=Zn._fromJSON(e,y);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ga(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aE(e))return"Blackberry";if(lE(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(oE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nE(t=Jt()){return/firefox\//i.test(t)}function rE(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(t=Jt()){return/crios\//i.test(t)}function iE(t=Jt()){return/iemobile/i.test(t)}function oE(t=Jt()){return/android/i.test(t)}function aE(t=Jt()){return/blackberry/i.test(t)}function lE(t=Jt()){return/webos/i.test(t)}function rg(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ik(t=Jt()){return rg(t)&&!!window.navigator?.standalone}function ok(){return GC()&&document.documentMode===10}function uE(t=Jt()){return rg(t)||oE(t)||lE(t)||aE(t)||/windows phone/i.test(t)||iE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t,e=[]){let n;switch(t){case"Browser":n=Ew(Jt());break;case"Worker":n=`${Ew(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e={}){return pi(t,"GET","/v2/passwordPolicy",fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=6;class ck{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new ak(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(as(this));const n=e?Nt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lk(this),n=new ck(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mi(t){return Nt(t)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=tb(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dk(t){cd=t}function hE(t){return cd.loadJS(t)}function fk(){return cd.recaptchaEnterpriseScript}function pk(){return cd.gapiScript}function mk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gk{constructor(){this.enterprise=new yk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vk="recaptcha-enterprise",dE="NO_RECAPTCHA";class wk{constructor(e){this.type=vk,this.auth=mi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{YR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new QR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;vw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(dE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&vw(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=fk();f.length!==0&&(f+=h),hE(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function Sw(t,e,n,r=!1,i=!1){const a=new wk(t);let l;if(i)l=dE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Xp(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Sw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Sw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){const n=ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ri(a,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function xk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ek(t,e,n){const r=mi(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=fE(e),{host:l,port:h}=Tk(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(ri(p,r.config.emulator)&&ri(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ka(l)?(y1(`${a}//${l}${f}`),v1("Auth",!0)):Sk()}function fE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tk(t){const e=fE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Iw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Iw(l)}}}function Iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Sk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function Ik(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function bk(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends sg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,n,"signInWithPassword",Ak);case"emailLink":return Ck(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,r,"signUpPassword",Ik);case"emailLink":return bk(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="http://localhost";class so extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new so(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:Pk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kk(t){const e=Ul(Bl(t)).link,n=e?Ul(Bl(e)).deep_link_id:null,r=Ul(Bl(t)).deep_link_id;return(r?Ul(Bl(r)).link:null)||r||n||e||t}class ig{constructor(e){const n=Ul(Bl(e)),r=n.apiKey??null,i=n.oobCode??null,a=Rk(n.mode??null);we(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kk(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ig.parseLink(n);return we(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Au{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Au{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Au{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Iu(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Zn._fromIdTokenResponse(e,r,i),l=Aw(r);return new io({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Aw(r);return new io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Aw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends ar{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function pE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,a,e,r):a})}async function Dk(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(as(r));const i="reauthenticate";try{const a=await ou(t,pE(r,i,e,t),n);we(a.idToken,r,"internal-error");const l=ng(a.idToken);we(l,r,"internal-error");const{sub:h}=l;return we(t.uid===h,r,"user-mismatch"),io._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(t,e,n=!1){if(Tn(t.app))return Promise.reject(as(t));const r="signIn",i=await pE(t,r,e),a=await io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Lk(t,e){return mE(mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(t){const e=mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yE(t,e,n){if(Tn(t.app))return Promise.reject(as(t));const r=mi(t),l=await Xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&gE(t),f}),h=await io._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function vE(t,e,n){return Tn(t.app)?Promise.reject(as(t)):Lk(Nt(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gE(t),r})}function jk(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function Mk(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function hd(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function Ok(t){return Nt(t).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=1e3,Uk=10;class _E extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ok()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_E.type="LOCAL";const Bk=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xE.type="SESSION";const EE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await zk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=ag("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Wk(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function Hk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qk(){return navigator?.serviceWorker?.controller||null}function Kk(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebaseLocalStorageDb",Gk=1,Fh="firebaseLocalStorage",IE="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function Qk(){const t=indexedDB.deleteDatabase(SE);return new Cu(t).toPromise()}function Jp(){const t=indexedDB.open(SE,Gk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:IE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await Qk(),e(await Jp()))})})}async function Cw(t,e,n){const r=fd(t,!0).put({[IE]:e,value:n});return new Cu(r).toPromise()}async function Yk(t,e){const n=fd(t,!1).get(e),r=await new Cu(n).toPromise();return r===void 0?null:r.value}function bw(t,e){const n=fd(t,!0).delete(e);return new Cu(n).toPromise()}const Xk=800,Jk=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(Kk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Hk(),!this.activeServiceWorker)return;this.sender=new $k(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await Cw(e,Oh,"1"),await bw(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=fd(i,!1).getAll();return new Cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const Zk=AE;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e){return e?is(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(t){return mE(t.auth,new lg(t),t.bypassAuthState)}function tN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Vk(n,new lg(t),t.bypassAuthState)}async function nN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Dk(n,new lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Bn(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Su(2e3,1e4);async function PE(t,e,n){if(Tn(t.app))return Promise.reject(tr(t,"operation-not-supported-in-this-environment"));const r=mi(t);UR(t,e,og);const i=CE(r,n);return new Qi(r,"signInViaPopup",e,i).executeNotNull()}class Qi extends bE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}Qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",yh=new Map;class iN extends bE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(t,e){const n=uN(e),r=lN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aN(t,e){yh.set(t._key(),e)}function lN(t){return is(t._redirectPersistence)}function uN(t){return gh(sN,t.config.apiKey,t.name)}async function cN(t,e,n=!1){if(Tn(t.app))return Promise.reject(as(t));const r=mi(t),i=CE(r,e),l=await new iN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=600*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(tr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pN(t);for(const n of e)try{if(vN(n))return}catch{}Bn(t,"unauthorized-domain")}function vN(t){const e=Qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!gN.test(n))return!1;if(mN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Su(3e4,6e4);function Rw(){const t=Cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _N(t){return new Promise((e,n)=>{function r(){Rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rw(),n(tr(t,"network-request-failed"))},timeout:wN.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)r();else{const i=mk("iframefcb");return Cr()[i]=()=>{gapi.load?r():n(tr(t,"network-request-failed"))},hE(`${pk()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw vh=null,e})}let vh=null;function xN(t){return vh=vh||_N(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Su(5e3,15e3),TN="__/auth/iframe",SN="emulator/auth/iframe",IN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,SN):`https://${t.config.authDomain}/${TN}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=AN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Tu(r).slice(1)}`}async function bN(t){const e=await xN(t),n=Cr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:CN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=tr(t,"network-request-failed"),h=Cr().setTimeout(()=>{a(l)},EN.get());function f(){Cr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RN=500,kN=600,NN="_blank",DN="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(t,e,n,r=RN,i=kN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...PN,width:r.toString(),height:i.toString(),top:a,left:l},p=Jt().toLowerCase();n&&(h=sE(p)?NN:n),nE(p)&&(e=e||DN,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(ik(p)&&h!=="_self")return LN(e||"",h),new kw(null);const _=window.open(e||"",h,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new kw(_)}function LN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",MN="emulator/auth/handler",ON=encodeURIComponent("fac");async function Nw(t,e,n,r,i,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof og){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",eb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof Au){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${ON}=${encodeURIComponent(f)}`:"";return`${FN(t)}?${Tu(h).slice(1)}${p}`}function FN({config:t}){return t.emulator?tg(t,MN):`https://${t.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class UN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=cN,this._overrideRedirectResult=aN}async _openPopup(e,n,r,i){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Nw(e,n,r,Qp(),i);return VN(e,a,ag())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Nw(e,n,r,Qp(),i);return Wk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(hs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bN(e),r=new dN(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{const a=i?.[0]?.[_p];a!==void 0&&n(!!a),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uE()||rE()||rg()}}const BN=UN;var Dw="@firebase/auth",Vw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WN(t){Vr(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(t)},p=new hk(r,i,a,f);return xk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new rr("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(r=>new zN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Dw,Vw,$N(t)),On(Dw,Vw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=300,qN=g1("authIdTokenMaxAge")||HN;let Lw=null;const KN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qN)return;const i=n?.token;Lw!==i&&(Lw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GN(t=qm()){const e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_k(t,{popupRedirectResolver:BN,persistence:[Zk,Bk,EE]}),r=g1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=KN(a.toString());Mk(n,l,()=>l(n.currentUser)),jk(n,h=>l(h))}}const i=p1("auth");return i&&Ek(n,`http://${i}`),n}function QN(){return document.getElementsByTagName("head")?.[0]??document}dk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=tr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",QN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WN("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,kE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function P(){}P.prototype=I.prototype,C.F=I.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(V,j,z){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return I.prototype[j].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,P){P||(P=0);const V=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)V[j]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(j=0;j<16;++j)V[j]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=C.g[0],P=C.g[1],j=C.g[2];let z=C.g[3],N;N=I+(z^P&(j^z))+V[0]+3614090360&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(j^I&(P^j))+V[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(P^z&(I^P))+V[2]+606105819&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(I^j&(z^I))+V[3]+3250441966&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(z^P&(j^z))+V[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(j^I&(P^j))+V[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(P^z&(I^P))+V[6]+2821735955&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(I^j&(z^I))+V[7]+4249261313&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(z^P&(j^z))+V[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(j^I&(P^j))+V[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(P^z&(I^P))+V[10]+4294925233&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(I^j&(z^I))+V[11]+2304563134&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(z^P&(j^z))+V[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=z+(j^I&(P^j))+V[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=j+(P^z&(I^P))+V[14]+2792965006&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(I^j&(z^I))+V[15]+1236535329&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(j^z&(P^j))+V[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(I^P))+V[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(z^I))+V[11]+643717713&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(j^z))+V[0]+3921069994&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(P^j))+V[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(I^P))+V[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(z^I))+V[15]+3634488961&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(j^z))+V[4]+3889429448&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(P^j))+V[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(I^P))+V[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(z^I))+V[3]+4107603335&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(j^z))+V[8]+1163531501&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^z&(P^j))+V[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(I^P))+V[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(z^I))+V[7]+1735328473&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^I&(j^z))+V[12]+2368359562&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(P^j^z)+V[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^j)+V[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^P)+V[11]+1839030562&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^I)+V[14]+4259657740&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^z)+V[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^j)+V[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^P)+V[7]+4139469664&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^I)+V[10]+3200236656&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^z)+V[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^j)+V[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^P)+V[3]+3572445317&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^I)+V[6]+76029189&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^z)+V[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=z+(I^P^j)+V[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=j+(z^I^P)+V[15]+530742520&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^I)+V[2]+3299628645&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(j^(P|~z))+V[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~j))+V[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~P))+V[14]+2878612391&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~I))+V[5]+4237533241&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~z))+V[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~j))+V[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~P))+V[10]+4293915773&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~I))+V[1]+2240044497&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~z))+V[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~j))+V[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~P))+V[6]+2734768916&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~I))+V[13]+1309151649&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~z))+V[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=z+(P^(I|~j))+V[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=j+(I^(z|~P))+V[2]+718787259&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~I))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const P=I-this.blockSize,V=this.C;let j=this.h,z=0;for(;z<I;){if(j==0)for(;z<=P;)i(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<I;)if(V[j++]=C.charCodeAt(z++),j==this.blockSize){i(this,V),j=0;break}}else for(;z<I;)if(V[j++]=C[z++],j==this.blockSize){i(this,V),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)C[I++]=this.g[P]>>>V&255;return C};function a(C,I){var P=h;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=I(C)}function l(C,I){this.h=I;const P=[];let V=!0;for(let j=C.length-1;j>=0;j--){const z=C[j]|0;V&&z==I||(P[j]=z,V=!1)}this.g=P}var h={};function f(C){return-128<=C&&C<128?a(C,function(I){return new l([I|0],I<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return b(p(-C));const I=[];let P=1;for(let V=0;C>=P;V++)I[V]=C/P|0,P*=4294967296;return new l(I,0)}function y(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return b(y(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(I,8));let V=_;for(let z=0;z<C.length;z+=8){var j=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+j),I);j<8?(j=p(Math.pow(I,j)),V=V.j(j).add(p(N))):(V=V.j(P),V=V.add(p(N)))}return V}var _=f(0),E=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(L(this))return-b(this).m();let C=0,I=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);C+=(V>=0?V:4294967296+V)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(L(this))return"-"+b(this).toString(C);const I=p(Math.pow(C,6));var P=this;let V="";for(;;){const j=re(P,I).g;P=F(P,j.j(I));let z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=j,D(P))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=F(this,C),L(C)?-1:D(C)?0:1};function b(C){const I=C.g.length,P=[];for(let V=0;V<I;V++)P[V]=~C.g[V];return new l(P,~C.h).add(E)}t.abs=function(){return L(this)?b(this):this},t.add=function(C){const I=Math.max(this.g.length,C.g.length),P=[];let V=0;for(let j=0;j<=I;j++){let z=V+(this.i(j)&65535)+(C.i(j)&65535),N=(z>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);V=N>>>16,z&=65535,N&=65535,P[j]=N<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function F(C,I){return C.add(b(I))}t.j=function(C){if(D(this)||D(C))return _;if(L(this))return L(C)?b(this).j(b(C)):b(b(this).j(C));if(L(C))return b(this.j(b(C)));if(this.l(A)<0&&C.l(A)<0)return p(this.m()*C.m());const I=this.g.length+C.g.length,P=[];for(var V=0;V<2*I;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<C.g.length;j++){const z=this.i(V)>>>16,N=this.i(V)&65535,We=C.i(j)>>>16,ct=C.i(j)&65535;P[2*V+2*j]+=N*ct,U(P,2*V+2*j),P[2*V+2*j+1]+=z*ct,U(P,2*V+2*j+1),P[2*V+2*j+1]+=N*We,U(P,2*V+2*j+1),P[2*V+2*j+2]+=z*We,U(P,2*V+2*j+2)}for(C=0;C<I;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=I;C<2*I;C++)P[C]=0;return new l(P,0)};function U(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function G(C,I){this.g=C,this.h=I}function re(C,I){if(D(I))throw Error("division by zero");if(D(C))return new G(_,_);if(L(C))return I=re(b(C),I),new G(b(I.g),b(I.h));if(L(I))return I=re(C,b(I)),new G(b(I.g),I.h);if(C.g.length>30){if(L(C)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=I;V.l(C)<=0;)P=ne(P),V=ne(V);var j=X(P,1),z=X(V,1);for(V=X(V,2),P=X(P,2);!D(V);){var N=z.add(V);N.l(C)<=0&&(j=j.add(P),z=N),V=X(V,1),P=X(P,1)}return I=F(C,j.j(I)),new G(j,I)}for(j=_;C.l(I)>=0;){for(P=Math.max(1,Math.floor(C.m()/I.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=p(P),N=z.j(I);L(N)||N.l(C)>0;)P-=V,z=p(P),N=z.j(I);D(z)&&(z=E),j=j.add(z),C=F(C,N)}return new G(j,C)}t.B=function(C){return re(this,C).h},t.and=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)&C.i(V);return new l(P,this.h&C.h)},t.or=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)|C.i(V);return new l(P,this.h|C.h)},t.xor=function(C){const I=Math.max(this.g.length,C.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)^C.i(V);return new l(P,this.h^C.h)};function ne(C){const I=C.g.length+1,P=[];for(let V=0;V<I;V++)P[V]=C.i(V)<<1|C.i(V-1)>>>31;return new l(P,C.h)}function X(C,I){const P=I>>5;I%=32;const V=C.g.length-P,j=[];for(let z=0;z<V;z++)j[z]=I>0?C.i(z+P)>>>I|C.i(z+P+1)<<32-I:C.i(z+P);return new l(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,ti=l}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,zl,DE,wh,Zp,VE,LE,jE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var w=0;w<c.length;++w){var x=c[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in x))break e;x=x[W]}c=c[c.length-1],S=x[c],w=w(S),w!=S&&w!=null&&e(x,c,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(w){var x=[],S;for(S in w)Object.prototype.hasOwnProperty.call(w,S)&&x.push([S,w[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,x){return c.call.apply(c.bind,arguments)}function p(c,w,x){return p=f,p.apply(null,arguments)}function y(c,w){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,w){function x(){}x.prototype=w.prototype,c.Z=w.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,W,K){for(var oe=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)oe[Se-2]=arguments[Se];return w.prototype[W].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const w=c.length;if(w>0){const x=Array(w);for(let S=0;S<w;S++)x[S]=c[S];return x}return[]}function D(c,w){for(let S=1;S<arguments.length;S++){const W=arguments[S];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=c.length||0;const K=W.length||0;c.length=x+K;for(let oe=0;oe<K;oe++)c[x+oe]=W[oe]}else c.push(W)}}class L{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(c){l.setTimeout(()=>{throw c},0)}function F(){var c=C;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,x){const S=G.get();S.set(w,x),this.h?this.h.next=S:this.g=S,this.h=S}}var G=new L(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,X=!1,C=new U,I=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(P)}};function P(){for(var c;c=F();){try{c.h.call(c.g)}catch(x){b(x)}var w=G;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}X=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function We(c,w){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}_(We,j),We.prototype.init=function(c,w){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(x=="mouseover"?w=c.fromElement:x=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Ae(c,w,x,S,W){this.listener=c,this.proxy=null,this.src=w,this.type=x,this.capture=!!S,this.ha=W,this.key=++Dt,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,w,x){for(const S in c)w.call(x,c[S],S,c)}function ae(c,w){for(const x in c)w.call(void 0,c[x],x,c)}function B(c){const w={};for(const x in c)w[x]=c[x];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(c,w){let x,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(x in S)c[x]=S[x];for(let K=0;K<J.length;K++)x=J[K],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function be(c){this.src=c,this.g={},this.h=0}be.prototype.add=function(c,w,x,S,W){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=ke(c,w,S,W);return oe>-1?(w=c[oe],x||(w.fa=!1)):(w=new Ae(w,this.src,K,!!S,W),w.fa=x,c.push(w)),w};function Re(c,w){const x=w.type;if(x in c.g){var S=c.g[x],W=Array.prototype.indexOf.call(S,w,void 0),K;(K=W>=0)&&Array.prototype.splice.call(S,W,1),K&&(se(w),c.g[x].length==0&&(delete c.g[x],c.h--))}}function ke(c,w,x,S){for(let W=0;W<c.length;++W){const K=c[W];if(!K.da&&K.listener==w&&K.capture==!!x&&K.ha==S)return W}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Oe={};function Ke(c,w,x,S,W){if(Array.isArray(w)){for(let K=0;K<w.length;K++)Ke(c,w[K],x,S,W);return null}return x=Wa(x),c&&c[ct]?c.J(w,x,h(S)?!!S.capture:!1,W):Zt(c,w,x,!1,S,W)}function Zt(c,w,x,S,W,K){if(!w)throw Error("Invalid event type");const oe=h(W)?!!W.capture:!!W;let Se=wo(c);if(Se||(c[ze]=Se=new be(c)),x=Se.add(w,x,S,oe,K),x.proxy)return x;if(S=yo(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)z||(W=oe),W===void 0&&(W=!1),c.addEventListener(w.toString(),S,W);else if(c.attachEvent)c.attachEvent(vo(w.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function yo(){function c(x){return w.call(c.src,c.listener,x)}const w=Fu;return c}function $a(c,w,x,S,W){if(Array.isArray(w))for(var K=0;K<w.length;K++)$a(c,w[K],x,S,W);else S=h(S)?!!S.capture:!!S,x=Wa(x),c&&c[ct]?(c=c.i,K=String(w).toString(),K in c.g&&(w=c.g[K],x=ke(w,x,S,W),x>-1&&(se(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete c.g[K],c.h--)))):c&&(c=wo(c))&&(w=c.g[w.toString()],c=-1,w&&(c=ke(w,x,S,W)),(x=c>-1?w[c]:null)&&ys(x))}function ys(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[ct])Re(w.i,c);else{var x=c.type,S=c.proxy;w.removeEventListener?w.removeEventListener(x,S,c.capture):w.detachEvent?w.detachEvent(vo(x),S):w.addListener&&w.removeListener&&w.removeListener(S),(x=wo(w))?(Re(x,c),x.h==0&&(x.src=null,w[ze]=null)):se(c)}}}function vo(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Fu(c,w){if(c.da)c=!0;else{w=new We(w,this);const x=c.listener,S=c.ha||c.src;c.fa&&ys(c),c=x.call(S,w)}return c}function wo(c){return c=c[ze],c instanceof be?c:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(c){return typeof c=="function"?c:(c[vi]||(c[vi]=function(w){return c.handleEvent(w)}),c[vi])}function gt(){V.call(this),this.i=new be(this),this.M=this,this.G=null}_(gt,V),gt.prototype[ct]=!0,gt.prototype.removeEventListener=function(c,w,x,S){$a(this,c,w,x,S)};function ht(c,w){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=w.type||w,typeof w=="string")w=new j(w,c);else if(w instanceof j)w.target=w.target||c;else{var W=w;w=new j(S,c),Ce(w,W)}W=!0;let K,oe;if(x)for(oe=x.length-1;oe>=0;oe--)K=w.g=x[oe],W=zn(K,S,!0,w)&&W;if(K=w.g=c,W=zn(K,S,!0,w)&&W,W=zn(K,S,!1,w)&&W,x)for(oe=0;oe<x.length;oe++)K=w.g=x[oe],W=zn(K,S,!1,w)&&W}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const x=c.g[w];for(let S=0;S<x.length;S++)se(x[S]);delete c.g[w],c.h--}}this.G=null},gt.prototype.J=function(c,w,x,S){return this.i.add(String(c),w,!1,x,S)},gt.prototype.K=function(c,w,x,S){return this.i.add(String(c),w,!0,x,S)};function zn(c,w,x,S){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let K=0;K<w.length;++K){const oe=w[K];if(oe&&!oe.da&&oe.capture==x){const Se=oe.listener,dt=oe.ha||oe.src;oe.fa&&Re(c.i,oe),W=Se.call(dt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ha(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(c,w||0)}function qa(c){c.g=Ha(()=>{c.g=null,c.i&&(c.i=!1,qa(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class Uu extends V{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){V.call(this),this.h=c,this.g={}}_(vs,V);var Ka=[];function _o(c){fe(c.g,function(w,x){this.g.hasOwnProperty(x)&&ys(w)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),_o(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=l.JSON.stringify,Bu=l.JSON.parse,wi=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function _s(){}function zu(){}var xs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xo(){j.call(this,"d")}_(xo,j);function Ga(){j.call(this,"c")}_(Ga,j);var $n={},Eo=null;function Es(){return Eo=Eo||new gt}$n.Ia="serverreachability";function To(c){j.call(this,$n.Ia,c)}_(To,j);function Or(c){const w=Es();ht(w,new To(w))}$n.STAT_EVENT="statevent";function Fr(c,w){j.call(this,$n.STAT_EVENT,c),this.stat=w}_(Fr,j);function at(c){const w=Es();ht(w,new Fr(w,c))}$n.Ja="timingevent";function Qa(c,w){j.call(this,$n.Ja,c),this.size=w}_(Qa,j);function Ts(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},w)}function Ss(){this.g=!0}Ss.prototype.ua=function(){this.g=!1};function $u(c,w,x,S,W,K){c.info(function(){if(c.g)if(K){var oe="",Se=K.split("&");for(let He=0;He<Se.length;He++){var dt=Se[He].split("=");if(dt.length>1){const yt=dt[0];dt=dt[1];const vn=yt.split("_");oe=vn.length>=2&&vn[1]=="type"?oe+(yt+"="+dt+"&"):oe+(yt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+w+`
`+x+`
`+oe})}function Wu(c,w,x,S,W,K,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+w+`
`+x+`
`+K+" "+oe})}function lr(c,w,x,S){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+_i(c,x)+(S?" "+S:"")})}function Hu(c,w){c.info(function(){return"TIMEOUT: "+w})}Ss.prototype.info=function(){};function _i(c,w){if(!c.g)return w;if(!w)return null;try{const K=JSON.parse(w);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var x=K[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var W=S[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return ws(K)}catch{return w}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},As={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qu;function Ur(){}_(Ur,_s),Ur.prototype.g=function(){return new XMLHttpRequest},qu=new Ur;function ur(c){return encodeURIComponent(String(c))}function So(c){var w=1;c=c.split(":");const x=[];for(;w>0&&c.length;)x.push(c.shift()),w--;return c.length&&x.push(c.join(":")),x}function In(c,w,x,S){this.j=c,this.i=w,this.l=x,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ku}function Ku(){this.i=null,this.g="",this.h=!1}var Gu={},Ya={};function Wn(c,w,x){c.M=1,c.A=zr(An(w)),c.u=x,c.R=!0,Xa(c,null)}function Xa(c,w){c.F=Date.now(),xi(c),c.B=An(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),al(x.i,"t",S),c.C=0,x=c.j.L,c.h=new Ku,c.g=sc(c.j,x?w:null,!c.u),c.P>0&&(c.O=new Uu(p(c.Y,c,c.g),c.P)),w=c.V,x=c.g,S=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ka[0]=W.toString()),W=Ka);for(let K=0;K<W.length;K++){const oe=Ke(x,W[K],S||w.handleEvent,!1,w.h||w);if(!oe)break;w.g[oe.key]=oe}w=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),Or(),$u(c.i,c.v,c.B,c.l,c.S,c.u)}In.prototype.ba=function(c){c=c.target;const w=this.O;w&&gr(c)==3?w.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)e:{const Se=gr(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||nc(this.g)))){this.K||Se!=4||dt==7||(dt==8||He<=0?Or(3):Or(2)),Io(this);var w=this.g.ca();this.X=w;var x=Qu(this);if(this.o=w==200,Wu(this.i,this.v,this.B,this.l,this.S,Se,w),this.o){if(this.U&&!this.L){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var K=S;break t}}K=null}if(c=K)lr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,c);else{this.o=!1,this.m=3,at(12),Br(this),Ei(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<x.length;)if(yt=Xu(this,x),yt==Ya){Se==4&&(this.m=4,at(14),c=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Gu){this.m=4,at(15),lr(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else lr(this.i,this.l,yt,null),Xe(this,yt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||x.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)lr(this.i,this.l,x,"[Invalid Chunked Response]"),Br(this),Ei(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ki(oe),oe.P=!0,at(11))}}else lr(this.i,this.l,x,null),Xe(this,x);Se==4&&Br(this),this.o&&!this.K&&(Se==4?Lo(this.j,this):(this.o=!1,xi(this)))}else ul(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Br(this),Ei(this)}}}catch{}finally{}};function Qu(c){if(!Yu(c))return c.g.la();const w=nc(c.g);if(w==="")return"";let x="";const S=w.length,W=gr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Br(c),Ei(c),"";c.h.i=new l.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,x+=c.h.i.decode(w[K],{stream:!(W&&K==S-1)});return w.length=0,c.h.g+=x,c.C=0,c.h.g}function Yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xu(c,w){var x=c.C,S=w.indexOf(`
`,x);return S==-1?Ya:(x=Number(w.substring(x,S)),isNaN(x)?Gu:(S+=1,S+x>w.length?Ya:(w=w.slice(S,S+x),c.C=S+x,w)))}In.prototype.cancel=function(){this.K=!0,Br(this)};function xi(c){c.T=Date.now()+c.H,Ja(c,c.H)}function Ja(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ts(p(c.aa,c),w)}function Io(c){c.D&&(l.clearTimeout(c.D),c.D=null)}In.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Hu(this.i,this.B),this.M!=2&&(Or(),at(17)),Br(this),this.m=2,Ei(this)):Ja(this,this.T-c)};function Ei(c){c.j.I==0||c.K||Lo(c.j,c)}function Br(c){Io(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,_o(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function Xe(c,w){try{var x=c.j;if(x.I!=0&&(x.g==c||el(x.h,c))){if(!c.L&&el(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(w)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Vo(x),gn(x);else break e;wr(x),at(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ts(p(x.Va,x),6e3));Ti(x.h)<=1&&x.ta&&(x.ta=void 0)}else yn(x,11)}else if((c.L||x.g==c)&&Vo(x),!N(w))for(W=x.Ba.g.parse(w),w=0;w<W.length;w++){let He=W[w];const yt=He[0];if(!(yt<=x.K))if(x.K=yt,He=He[1],x.I==2)if(He[0]=="c"){x.M=He[1],x.ba=He[2];const vn=He[3];vn!=null&&(x.ka=vn,x.j.info("VER="+x.ka));const Kr=He[4];Kr!=null&&(x.za=Kr,x.j.info("SVER="+x.za));const _r=He[5];_r!=null&&typeof _r=="number"&&_r>0&&(S=1.5*_r,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const xr=c.g;if(xr){const Oo=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oo){var K=S.h;K.g||Oo.indexOf("spdy")==-1&&Oo.indexOf("quic")==-1&&Oo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Co(K,K.h),K.h=null))}if(S.G){const dl=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.wa=dl,Be(S.J,S.G,dl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var oe=c;if(S.na=hl(S,S.L?S.ba:null,S.W),oe.L){Si(S.h,oe);var Se=oe,dt=S.O;dt&&(Se.H=dt),Se.D&&(Io(Se),xi(Se)),S.g=oe}else zt(S);x.i.length>0&&qr(x)}else He[0]!="stop"&&He[0]!="close"||yn(x,7);else x.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?yn(x,7):No(x):He[0]!="noop"&&x.l&&x.l.qa(He),x.A=0)}}Or(4)}catch{}}var Vd=class{constructor(c,w){this.g=c,this.map=w}};function Ao(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function el(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function Co(c,w){c.g?c.g.add(w):c.h=w}function Si(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}Ao.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const x of c.g.values())w=w.concat(x.G);return w}return A(c.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,w){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let W,K=null;S>=0?(W=c[x].substring(0,S),K=c[x].substring(S+1)):W=c[x],w(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function cr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof cr?(this.l=c.l,Ii(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Cs(this,ll(c.i)),this.m=c.m):c&&(w=String(c).match(Ju))?(this.l=!1,Ii(this,w[1]||"",!0),this.o=Ai(w[2]||""),this.g=Ai(w[3]||"",!0),hr(this,w[4]),this.h=Ai(w[5]||"",!0),Cs(this,w[6]||"",!0),this.m=Ai(w[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}cr.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(Ci(w,nl,!0),":");var x=this.g;return(x||w=="file")&&(c.push("//"),(w=this.o)&&c.push(Ci(w,nl,!0),"@"),c.push(ur(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Ci(x,x.charAt(0)=="/"?bi:rl,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Ci(x,sl)),c.join("")},cr.prototype.resolve=function(c){const w=An(this);let x=!!c.j;x?Ii(w,c.j):x=!!c.o,x?w.o=c.o:x=!!c.g,x?w.g=c.g:x=c.u!=null;var S=c.h;if(x)hr(w,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var W=w.h.lastIndexOf("/");W!=-1&&(S=w.h.slice(0,W+1)+S)}if(W=S,W==".."||W==".")S="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){S=W.lastIndexOf("/",0)==0,W=W.split("/");const K=[];for(let oe=0;oe<W.length;){const Se=W[oe++];Se=="."?S&&oe==W.length&&K.push(""):Se==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&oe==W.length&&K.push("")):(K.push(Se),S=!0)}S=K.join("/")}else S=W}return x?w.h=S:x=c.i.toString()!=="",x?Cs(w,ll(c.i)):x=!!c.m,x&&(w.m=c.m),w};function An(c){return new cr(c)}function Ii(c,w,x){c.j=x?Ai(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Cs(c,w,x){w instanceof Le?(c.i=w,Po(c.i,c.l)):(x||(w=Ci(w,Ld)),c.i=new Le(w,c.l))}function Be(c,w,x){c.i.set(w,x)}function zr(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ci(c,w,x){return typeof c=="string"?(c=encodeURI(c).replace(w,tl),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,bi=/[#\?]/g,Ld=/[#\?@]/g,sl=/#/g;function Le(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function dr(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(w,x){c.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Le.prototype,t.add=function(c,w){dr(this),this.i=null,c=fr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(w),this.h+=1,this};function il(c,w){dr(c),w=fr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function bo(c,w){return dr(c),w=fr(c,w),c.g.has(w)}t.forEach=function(c,w){dr(this),this.g.forEach(function(x,S){x.forEach(function(W){c.call(w,W,S,this)},this)},this)};function ol(c,w){dr(c);let x=[];if(typeof w=="string")bo(c,w)&&(x=x.concat(c.g.get(fr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)x=x.concat(c[w]);return x}t.set=function(c,w){return dr(this),this.i=null,c=fr(this,c),bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=ol(this,c),c.length>0?String(c[0]):w):w};function al(c,w,x){il(c,w),x.length>0&&(c.i=null,c.g.set(fr(c,w),A(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let S=0;S<w.length;S++){var x=w[S];const W=ur(x);x=ol(this,x);for(let K=0;K<x.length;K++){let oe=W;x[K]!==""&&(oe+="="+ur(x[K])),c.push(oe)}}return this.i=c.join("&")};function ll(c){const w=new Le;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function fr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function Po(c,w){w&&!c.j&&(dr(c),c.i=null,c.g.forEach(function(x,S){const W=S.toLowerCase();S!=W&&(il(this,S),al(this,W,x))},c)),c.j=w}function pr(c,w){const x=new Ss;if(l.Image){const S=new Image;S.onload=y(Vt,x,"TestLoadImage: loaded",!0,w,S),S.onerror=y(Vt,x,"TestLoadImage: error",!1,w,S),S.onabort=y(Vt,x,"TestLoadImage: abort",!1,w,S),S.ontimeout=y(Vt,x,"TestLoadImage: timeout",!1,w,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else w(!1)}function mr(c,w){const x=new Ss,S=new AbortController,W=setTimeout(()=>{S.abort(),Vt(x,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(W),K.ok?Vt(x,"TestPingServer: ok",!0,w):Vt(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Vt(x,"TestPingServer: error",!1,w)})}function Vt(c,w,x,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(x)}catch{}}function Pi(){this.g=new wi}function $r(c){this.i=c.Sb||null,this.h=c.ab||!1}_($r,_s),$r.prototype.g=function(){return new mn(this.i,this.h)};function mn(c,w){gt.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(mn,gt),t=mn.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,Hn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?bs(this):Hn(this),this.readyState==3&&Zu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},t.Na=function(c){this.g&&(this.response=c,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}t.setRequestHeader=function(c,w){this.A.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=w.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ec(c){let w="";return fe(c,function(x,S){w+=S,w+=":",w+=x,w+=`\r
`}),w}function Ro(c,w,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=ec(x),typeof c=="string"?x!=null&&ur(x):Be(c,w,x))}function Ge(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ge,gt);var tc=/^https?$/i,jd=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,w,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(K){Ps(this,K);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)x.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())x.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),W=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(jd,w,void 0)>=0)||S||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ps(this,K)}};function Ps(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,Rs(c),Hr(c)}function Rs(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},t.Xa=function(){Wr(this)};function Wr(c){if(c.h&&typeof a<"u"){if(c.v&&gr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),gr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var S;if(S=K===0){let oe=String(c.D).match(Ju)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!tc.test(oe?oe.toLowerCase():"")}x=S}if(x)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var W=gr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",Rs(c)}}finally{Hr(c)}}}}function Hr(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,w||ht(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Bu(w)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(c){const w={};c=(c.g&&gr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var x=So(c[S]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=w[W]||[];w[W]=K,K.push(x)}ae(w,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||w}function ko(c){this.za=0,this.i=[],this.j=new Ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yr("baseRetryDelayMs",5e3,c),this.Za=yr("retryDelaySeedMs",1e4,c),this.Ta=yr("forwardChannelMaxRetries",2,c),this.va=yr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new Pi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ko.prototype,t.ka=8,t.I=1,t.connect=function(c,w,x,S){at(0),this.W=c,this.H=w||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=hl(this,null,this.W),qr(this)};function No(c){if(Do(c),c.I==3){var w=c.V++,x=An(c.J);if(Be(x,"SID",c.M),Be(x,"RID",w),Be(x,"TYPE","terminate"),vr(c,x),w=new In(c,c.j,w),w.M=2,w.A=zr(An(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=sc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),xi(w)}Ni(c)}function gn(c){c.g&&(ki(c),c.g.cancel(),c.g=null)}function Do(c){gn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Vo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function qr(c){if(!Za(c.h)&&!c.m){c.m=!0;var w=c.Ea;ne||I(),X||(ne(),X=!0),C.add(w,c),c.D=0}}function rc(c,w){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ts(p(c.Ea,c,w),jo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new In(this,this.j,c);let K=this.o;if(this.U&&(K?(K=B(K),Ce(K,this.U)):K=this.U),this.u!==null||this.R||(W.J=K,K=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(w+=S,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=cl(this,W,w),x=An(this.J),Be(x,"RID",c),Be(x,"CVER",22),this.G&&Be(x,"X-HTTP-Session-Id",this.G),vr(this,x),K&&(this.R?w="headers="+ur(ec(K))+"&"+w:this.u&&Ro(x,this.u,K)),Co(this.h,W),this.Ra&&Be(x,"TYPE","init"),this.S?(Be(x,"$req",w),Be(x,"SID","null"),W.U=!0,Wn(W,x,null)):Wn(W,x,w),this.I=2}}else this.I==3&&(c?Ri(this,c):this.i.length==0||Za(this.h)||Ri(this))};function Ri(c,w){var x;w?x=w.l:x=c.V++;const S=An(c.J);Be(S,"SID",c.M),Be(S,"RID",x),Be(S,"AID",c.K),vr(c,S),c.u&&c.o&&Ro(S,c.u,c.o),x=new In(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),w&&(c.i=w.G.concat(c.i)),w=cl(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Co(c.h,x),Wn(x,S,w)}function vr(c,w){c.H&&fe(c.H,function(x,S){Be(w,S,x)}),c.l&&fe({},function(x,S){Be(w,S,x)})}function cl(c,w,x){x=Math.min(c.i.length,x);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Se=-1;for(;;){const dt=["count="+x];Se==-1?x>0?(Se=W[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let He=!0;for(let yt=0;yt<x;yt++){var K=W[yt].g;const vn=W[yt].map;if(K-=Se,K<0)Se=Math.max(0,W[yt].g-100),He=!1;else try{K="req"+K+"_"||"";try{var oe=vn instanceof Map?vn:Object.entries(vn);for(const[Kr,_r]of oe){let xr=_r;h(_r)&&(xr=ws(_r)),dt.push(K+Kr+"="+encodeURIComponent(xr))}}catch(Kr){throw dt.push(K+"type="+encodeURIComponent("_badmap")),Kr}}catch{S&&S(vn)}}if(He){oe=dt.join("&");break e}}oe=void 0}return c=c.i.splice(0,x),w.G=c,oe}function zt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;ne||I(),X||(ne(),X=!0),C.add(w,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ts(p(c.Da,c),jo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,ks(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ts(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),gn(this),ks(this))};function ki(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function ks(c){c.g=new In(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=An(c.na);Be(w,"RID","rpc"),Be(w,"SID",c.M),Be(w,"AID",c.K),Be(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(w,"TO",c.ia),Be(w,"TYPE","xmlhttp"),vr(c,w),c.u&&c.o&&Ro(w,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=zr(An(w)),x.u=null,x.R=!0,Xa(x,c)}t.Va=function(){this.C!=null&&(this.C=null,gn(this),wr(this),at(19))};function Vo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Lo(c,w){var x=null;if(c.g==w){Vo(c),ki(c),c.g=null;var S=2}else if(el(c.h,w))x=w.G,Si(c.h,w),S=1;else return;if(c.I!=0){if(w.o)if(S==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var W=c.D;S=Es(),ht(S,new Qa(S,x)),qr(c)}else zt(c);else if(W=w.m,W==3||W==0&&w.X>0||!(S==1&&rc(c,w)||S==2&&wr(c)))switch(x&&x.length>0&&(w=c.h,w.i=w.i.concat(x)),W){case 1:yn(c,5);break;case 4:yn(c,10);break;case 3:yn(c,6);break;default:yn(c,2)}}}function jo(c,w){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*w}function yn(c,w){if(c.j.info("Error code "+w),w==2){var x=p(c.bb,c),S=c.Ua;const W=!S;S=new cr(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ii(S,"https"),zr(S),W?pr(S.toString(),x):mr(S.toString(),x)}else at(2);c.I=0,c.l&&c.l.pa(w),Ni(c),Do(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Ni(c){if(c.I=0,c.ja=[],c.l){const w=fn(c.h);(w.length!=0||c.i.length!=0)&&(D(c.ja,w),D(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function hl(c,w,x){var S=x instanceof cr?An(x):new cr(x);if(S.g!="")w&&(S.g=w+"."+S.g),hr(S,S.u);else{var W=l.location;S=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const K=new cr(null);S&&Ii(K,S),w&&(K.g=w),W&&hr(K,W),x&&(K.h=x),S=K}return x=c.G,w=c.wa,x&&w&&Be(S,x,w),Be(S,"VER",c.ka),vr(c,S),S}function sc(c,w,x){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Ge(new $r({ab:x})):new Ge(c.ma),w.Fa(c.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}t=ic.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Mo(){}Mo.prototype.g=function(c,w){return new Lt(c,w)};function Lt(c,w){gt.call(this),this.g=new ko(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!N(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Ns(this)}_(Lt,gt),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){No(this.g)},Lt.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=ws(c),c=x);w.i.push(new Vd(w.Ya++,c)),w.I==3&&qr(w)},Lt.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Lt.Z.N.call(this)};function oc(c){xo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const x in w){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}_(oc,xo);function ac(){Ga.call(this),this.status=1}_(ac,Ga);function Ns(c){this.g=c}_(Ns,ic),Ns.prototype.ra=function(){ht(this.g,"a")},Ns.prototype.qa=function(c){ht(this.g,new oc(c))},Ns.prototype.pa=function(c){ht(this.g,new ac)},Ns.prototype.oa=function(){ht(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,jE=function(){return new Mo},LE=function(){return Es()},VE=$n,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,wh=Is,As.COMPLETE="complete",DE=As,zu.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",gt.prototype.listen=gt.prototype.J,zl=zu,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,NE=Ge}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",Ow="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new ad("@firebase/firestore");function ia(){return oo.logLevel}function ce(t,...e){if(oo.logLevel<=Ne.DEBUG){const n=e.map(ug);oo.debug(`Firestore (${Va}): ${t}`,...n)}}function ds(t,...e){if(oo.logLevel<=Ne.ERROR){const n=e.map(ug);oo.error(`Firestore (${Va}): ${t}`,...n)}}function xa(t,...e){if(oo.logLevel<=Ne.WARN){const n=e.map(ug);oo.warn(`Firestore (${Va}): ${t}`,...n)}}function ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ME(t,r,n)}function ME(t,e,n){let r=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function $e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ME(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gt.UNAUTHENTICATED)))}shutdown(){}}class XN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JN{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ls,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ls)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new OE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class ZN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=n5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function em(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return xp(i)===xp(a)?De(i,a):xp(i)?1:-1}return De(t.length,e.length)}const r5=55296,s5=57343;function xp(t){const e=t.charCodeAt(0);return e>=r5&&e<=s5}function Ea(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return De(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Ye extends Ar{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const i5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Ar{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return i5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uw}static keyField(){return new Ut([Uw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o5(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bw(t){if(!ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zw(t){if(ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pd(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!UE(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=-62135596800,Ww=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ww);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$w)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ww}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Et("string",qe._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new qe(0,0))}static max(){return new Te(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function a5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new si(i,ge.empty(),e)}function l5(t){return new si(t.readTime,t.key,lu)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(Te.min(),ge.empty(),lu)}static max(){return new si(Te.max(),ge.empty(),lu)}}function u5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==c5)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{l[p]=y,++h,h===a&&r(l)}),(y=>i(y)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function d5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function gd(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function f5(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function p5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hw(e)),e=m5(t.get(n),e);return Hw(e)}function m5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case BE:n+="";break;default:n+=a}}return n}function Hw(t){return t+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new er([])}unionWith(e){let n=new Ct(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $E("Invalid base64 string: "+a):a}})(e);return new Bt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const g5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=g5.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",HE="__type__",qE="__previous_value__",KE="__local_write_time__";function dg(t){return(t?.mapValue?.fields||{})[HE]?.stringValue===WE}function yd(t){const e=t.mapValue.fields[qE];return dg(e)?yd(e):e}function uu(t){const e=ii(t.mapValue.fields[KE].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,i,a,l,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Bh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",v5="__max__",ih={mapValue:{}},QE="__vector__",zh="value";function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:_5(t)?9007199254740991:w5(t)?10:11:_e(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ii(i.timestampValue),h=ii(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return oi(i.bytesValue).isEqual(oi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=mt(i.doubleValue),h=mt(a.doubleValue);return l===h?Uh(l)===Uh(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(qw(l)!==qw(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Lr(l[f],h[f])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function hu(t,e){return(t.values||[]).find((n=>Lr(n,e)))!==void 0}function Ta(t,e){if(t===e)return 0;const n=ai(t),r=ai(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=mt(a.integerValue||a.doubleValue),f=mt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Gw(t.timestampValue,e.timestampValue);case 4:return Gw(uu(t),uu(e));case 5:return em(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=oi(a),f=oi(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=De(h[p],f[p]);if(y!==0)return y}return De(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=De(mt(a.latitude),mt(l.latitude));return h!==0?h:De(mt(a.longitude),mt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Qw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[zh]?.arrayValue,y=f[zh]?.arrayValue,_=De(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Qw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ih.mapValue&&l===ih.mapValue)return 0;if(a===ih.mapValue)return 1;if(l===ih.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=em(f[_],y[_]);if(E!==0)return E;const A=Ta(h[f[_]],p[y[_]]);if(A!==0)return A}return De(f.length,y.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=ii(t),r=ii(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Qw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ta(n[i],r[i]);if(a)return a}return De(n.length,r.length)}function Sa(t){return tm(t)}function tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=tm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${tm(n.fields[l])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function _h(t){switch(ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+_h(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fo(r.fields,((a,l)=>{i+=a.length+_h(l)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function Yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nm(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function Xw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function w5(t){return(t?.mapValue?.fields||{})[GE]?.stringValue===QE}function Ql(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ql(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return{...t}}function _5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===v5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=Ql(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ln(Ql(this.value))}}function YE(t){const e=[];return fo(t.fields,((n,r)=>{const i=new Ut([n]);if(xh(r)){const a=YE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Qt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function Zw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function e_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function x5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{}class xt extends XE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T5(e,n,r):n==="array-contains"?new A5(e,r):n==="in"?new C5(e,r):n==="not-in"?new b5(e,r):n==="array-contains-any"?new P5(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S5(e,r):new I5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends XE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return JE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JE(t){return t.op==="and"}function ZE(t){return E5(t)&&JE(t)}function E5(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function rm(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(ZE(t))return t.filters.map((e=>rm(e))).join(",");{const e=t.filters.map((n=>rm(n))).join(",");return`${t.op}(${e})`}}function eT(t,e){return t instanceof xt?(function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)})(t,e):t instanceof sr?(function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&eT(l,i.filters[h])),!0):!1})(t,e):void _e(19439)}function tT(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`})(t):t instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(tT).join(" ,")+"}"})(t):"Filter"}class T5 extends xt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class S5 extends xt{constructor(e,n){super(e,"in",n),this.keys=nT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I5 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=nT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nT(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class A5 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&hu(n.arrayValue,this.value)}}class C5 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class b5 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class P5 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function t_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new R5(t,e,n,r,i,a,l)}function pg(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sa(r))).join(",")),e.Te=n}return e.Te}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e_(t.startAt,e.startAt)&&e_(t.endAt,e.endAt)}function sm(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k5(t,e,n,r,i,a,l,h){return new Ma(t,e,n,r,i,a,l,h)}function gg(t){return new Ma(t)}function n_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rT(t){return t.collectionGroup!==null}function Yl(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Ct(Ut.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new du(a,r))})),n.has(Ut.keyField().canonicalString())||e.Ie.push(new du(Ut.keyField(),r))}return e.Ie}function br(t){const e=Ie(t);return e.Ee||(e.Ee=N5(e,Yl(t))),e.Ee}function N5(t,e){if(t.limitType==="F")return t_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new du(i.field,a)}));const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return t_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e){const n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wh(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return mg(br(t),br(e))&&t.limitType===e.limitType}function sT(t){return`${pg(br(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>tT(i))).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sa(i))).join(",")),`Target(${r})`})(br(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Yl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=Zw(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,Yl(r),i)||r.endAt&&!(function(l,h,f){const p=Zw(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,Yl(r),i))})(t,e)}function D5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iT(t){return(e,n)=>{let r=!1;for(const i of Yl(t)){const a=V5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function V5(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ta(f,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new ot(ge.comparator);function ps(){return L5}const oT=new ot(ge.comparator);function $l(...t){let e=oT;for(const n of t)e=e.insert(n.key,n);return e}function aT(t){let e=oT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yi(){return Xl()}function lT(){return Xl()}function Xl(){return new po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const j5=new ot(ge.comparator),M5=new Ct(ge.comparator);function Ve(...t){let e=M5;for(const n of t)e=e.add(n);return e}const O5=new Ct(De);function F5(){return O5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function uT(t){return{integerValue:""+t}}function U5(t,e){return f5(e)?uT(e):yg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function B5(t,e,n){return t instanceof Hh?(function(i,a){const l={fields:{[HE]:{stringValue:WE},[KE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dg(a)&&(a=yd(a)),a&&(l.fields[qE]=a),{mapValue:l}})(n,e):t instanceof fu?hT(t,e):t instanceof pu?dT(t,e):(function(i,a){const l=cT(i,a),h=r_(l)+r_(i.Ae);return nm(l)&&nm(i.Ae)?uT(h):yg(i.serializer,h)})(t,e)}function z5(t,e,n){return t instanceof fu?hT(t,e):t instanceof pu?dT(t,e):n}function cT(t,e){return t instanceof qh?(function(r){return nm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Hh extends _d{}class fu extends _d{constructor(e){super(),this.elements=e}}function hT(t,e){const n=fT(e);for(const r of t.elements)n.some((i=>Lr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends _d{constructor(e){super(),this.elements=e}}function dT(t,e){let n=fT(e);for(const r of t.elements)n=n.filter((i=>!Lr(i,r)));return{arrayValue:{values:n}}}class qh extends _d{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r_(t){return mt(t.integerValue||t.doubleValue)}function fT(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $5(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?Ea(r.elements,i.elements,Lr):r instanceof qh&&i instanceof qh?Lr(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh})(t.transform,e.transform)}class W5{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xd{}function pT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vg(t.key,nr.none()):new Pu(t.key,t.data,nr.none());{const n=t.data,r=Ln.empty();let i=new Ct(Ut.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new mo(t.key,r,new er(i.toArray()),nr.none())}}function H5(t,e,n){t instanceof Pu?(function(i,a,l){const h=i.value.clone(),f=i_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof mo?(function(i,a,l){if(!Eh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=i_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(mT(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Jl(t,e,n,r){return t instanceof Pu?(function(a,l,h,f){if(!Eh(a.precondition,l))return h;const p=a.value.clone(),y=o_(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof mo?(function(a,l,h,f){if(!Eh(a.precondition,l))return h;const p=o_(a.fieldTransforms,f,l),y=l.data;return y.setAll(mT(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,h){return Eh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function q5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=cT(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ea(r,i,((a,l)=>$5(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends xd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends xd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function i_(t,e,n){const r=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,z5(l,h,n[i]))}return r}function o_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,B5(a,l,e))}return r}class vg extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K5 extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&H5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=pT(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((n,r)=>s_(n,r)))&&Ea(this.baseMutations,e.baseMutations,((n,r)=>s_(n,r)))}}class wg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return j5})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new wg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Me;function X5(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function gT(t){if(t===void 0)return ds("GRPC error has no .code"),Q.UNKNOWN;switch(t){case wt.OK:return Q.OK;case wt.CANCELLED:return Q.CANCELLED;case wt.UNKNOWN:return Q.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Q.INTERNAL;case wt.UNAVAILABLE:return Q.UNAVAILABLE;case wt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case wt.NOT_FOUND:return Q.NOT_FOUND;case wt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case wt.ABORTED:return Q.ABORTED;case wt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case wt.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new ti([4294967295,4294967295],0);function a_(t){const e=J5().encode(t),n=new kE;return n.update(e),new Uint8Array(n.digest())}function l_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ti([n,r],0),new ti([i,a],0)]}class _g{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ti.fromNumber(r)));return i.compare(Z5)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a_(e),[r,i]=l_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new _g(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=a_(e),[r,i]=l_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(Te.min(),i,new ot(De),ps(),Ve())}}class Ru{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class yT{constructor(e,n){this.targetId=e,this.Ce=n}}class vT{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}})),new Ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=oh(),this.He=oh(),this.Ye=new ot(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(sm(a))if(r===0){const l=new ge(a.path);this.et(n,l,Qt.newNoDocument(l,Te.min()))}else $e(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=oi(r).toUint8Array()}catch(f){if(f instanceof $E)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _g(l,i,a)}catch(f){return xa(f instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&sm(h.target)){const f=new ge(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Qt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ve();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Ed(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=oh(),this.He=oh(),this.Ye=new ot(De),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new u_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ot(ge.comparator)}function c_(){return new ot(ge.comparator)}const tD={asc:"ASCENDING",desc:"DESCENDING"},nD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class sD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iD(t,e){return Kh(t,e.toTimestamp())}function Pr(t){return $e(!!t,49232),Te.fromTimestamp((function(n){const r=ii(n);return new qe(r.seconds,r.nanos)})(t))}function xg(t,e){return am(t,e).canonicalString()}function am(t,e){const n=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _T(t){const e=Ye.fromString(t);return $e(IT(e),10190,{key:e.toString()}),e}function lm(t,e){return xg(t.databaseId,e.path)}function Ep(t,e){const n=_T(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(ET(n))}function xT(t,e){return xg(t.databaseId,e)}function oD(t){const e=_T(t);return e.length===4?Ye.emptyPath():ET(e)}function um(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ET(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function h_(t,e,n){return{name:lm(t,e),fields:n.value.mapValue.fields}}function aD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),Bt.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Bt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const y=p.code===void 0?Q.UNKNOWN:gT(p.code);return new le(y,p.message||"")})(l);n=new vT(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ep(t,r.document.name),a=Pr(r.document.updateTime),l=r.document.createTime?Pr(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(i,a,l,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Th(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ep(t,r.document),a=r.readTime?Pr(r.readTime):Te.min(),l=Qt.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Th([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ep(t,r.document),a=r.removedTargetIds||[];n=new Th([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Y5(i,a),h=r.targetId;n=new yT(h,l)}}return n}function lD(t,e){let n;if(e instanceof Pu)n={update:h_(t,e.key,e.value)};else if(e instanceof vg)n={delete:lm(t,e.key)};else if(e instanceof mo)n={update:h_(t,e.key,e.data),updateMask:yD(e.fieldMask)};else{if(!(e instanceof K5))return _e(16599,{Vt:e.type});n={verify:lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof Hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qh)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:iD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(t,e.precondition)),n}function uD(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Pr(i.updateTime):Pr(a);return l.isEqual(Te.min())&&(l=Pr(a)),new W5(l,i.transformResults||[])})(n,e)))):[]}function cD(t,e){return{documents:[xT(t,e.path)]}}function hD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xT(t,i);const a=(function(p){if(p.length!==0)return ST(sr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:aa(E.field),direction:pD(E.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=om(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function dD(t){let e=oD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const E=TT(_);return E instanceof sr&&ZE(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((E=>(function(D){return new du(la(D.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,gd(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,A=_.values||[];return new $h(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new $h(A,E)})(n.endAt)),k5(e,i,l,a,h,"F",f,p)}function fD(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=la(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(n.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=la(n.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(la(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((r=>TT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function pD(t){return tD[t]}function mD(t){return nD[t]}function gD(t){return rD[t]}function aa(t){return{fieldPath:t.canonicalString()}}function la(t){return Ut.fromServerFormat(t.fieldPath)}function ST(t){return t instanceof xt?(function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(Xw(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:mD(n.op),value:n.value}}})(t):t instanceof sr?(function(n){const r=n.getFilters().map((i=>ST(i)));return r.length===1?r[0]:{compositeFilter:{op:gD(n.op),filters:r}}})(t):_e(54877,{filter:t})}function yD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,i,a=Te.min(),l=Te.min(),h=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.yt=e}}function wD(t){const e=dD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(si.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Ye.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(AT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",ED=1048576;function p_([t,e],[n,r]){const i=De(t,n);return i===0?De(e,r):i}class TD{constructor(e){this.Ir=e,this.buffer=new Ct(p_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(f_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?ce(f_,"Ignoring IndexedDB error during garbage collection: ",n):await La(n)}await this.Vr(3e5)}))}}class ID{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(md.ce);const r=new TD(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(d_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),ia()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function AD(t,e){return new ID(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jl(r.mutation,i,er.empty(),qe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Yi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=$l();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=ps();const l=Xl(),h=(function(){return Xl()})();return n.forEach(((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof mo)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Jl(y.mutation,p,y.mutation.getFieldMask(),qe.now())):l.set(p.key,er.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>l.set(p,y))),n.forEach(((p,y)=>h.set(p,new bD(y,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new ot(((l,h)=>l-h)),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||er.empty();y=h.applyToLocalView(p,y),r.set(f,y);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=lT();y.forEach((E=>{if(!a.has(E)){const A=pT(n.get(E),r.get(E));A!==null&&_.set(E,A),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Yi());let h=lu,f=a;return l.next((p=>Y.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?Y.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Ve()))).next((y=>({batchId:h,changes:aT(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=$l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=$l();return this.indexManager.getCollectionParents(e,a).next((h=>Y.forEach(h,(f=>{const p=(function(_,E){return new Ma(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((_,E)=>{l=l.insert(_,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Qt.newInvalidDocument(y)))}));let h=$l();return l.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&Jl(y.mutation,p,er.empty(),qe.now()),wd(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:wD(i.bundledQuery),readTime:Pr(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Yi(),a=n.length+1,l=new ge(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ot(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Yi(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Yi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=i)););return Y.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Q5(n,r));let a=this.qr.get(n);a===void 0&&(a=Ve(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Qr=new Ct(kt.$r),this.Ur=new Ct(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new Ye([])),r=new kt(n,e),i=new kt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Ye([])),r=new kt(n,e),i=new kt(n,e+1);let a=Ve();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(kt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G5(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?hg:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(De);return n.forEach((i=>{const a=new kt(i,0),l=new kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const l=new kt(new ge(a),0);let h=new Ct(De);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new kt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new kt(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ps();const l=n.path,h=new ge(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||u5(l5(y),r)<=0||(i.has(y.key)||wd(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new LD(this)}getSize(e){return Y.resolve(this.size)}}class LD extends CD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.persistence=e,this.si=new po((n=>pg(n)),mg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new ND,this.referenceDelegate=e(this),this.Pi=new jD(this),this.indexManager=new _D,this.remoteDocumentCache=(function(i){return new VD(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vD(n),this.Ii=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new MD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class MD extends h5{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new po((r=>p5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=AD(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,Te.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ve(),i=Ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Sg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QC()?8:d5(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new OD;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ia()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ia()<=Ne.DEBUG&&ce("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ia()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):Y.resolve())}ys(e,n){if(n_(n))return Y.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wh(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ve(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,Wh(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return n_(n)||i.isEqual(Te.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(ia()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.vs(e,l,n,a5(i,lu)).next((h=>h)))}))}Ds(e,n){let r=new Ct(iT(e));return n.forEach(((i,a)=>{wd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ia()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",oa(n)),this.ps.getDocumentsMatchingQuery(e,n,si.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",UD=3e8;class BD{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ot(De),this.xs=new po((a=>pg(a)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zD(t,e,n,r){return new BD(t,e,n,r)}async function bT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=Ve();for(const p of i){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function $D(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const _=p.batch,E=_.keys();let A=Y.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(f,D))).next((L=>{const b=p.docVersions.get(D);$e(b!==null,48541),L.version.compareTo(b)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Ve();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function PT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WD(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=i.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,_))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Bt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),i=i.insert(_,A),(function(L,b,F){return L.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=UD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,A,y)&&h.push(n.Pi.updateTargetData(a,A))}));let f=ps(),p=Ve();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(HD(a,l,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!r.isEqual(Te.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(y)}return Y.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function HD(t,e,n){let r=Ve(),i=Ve();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ps();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(Ig,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function qD(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KD(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Js(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cm(t,e,n){const r=Ie(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ja(l))throw l;ce(Ig,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function m_(t,e,n){const r=Ie(t);let i=Te.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,y){const _=Ie(f),E=_.xs.get(y);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)})(r,l,br(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Te.min(),n?a:Ve()))).next((h=>(GD(r,D5(e),h),{documents:h,Qs:a})))))}function GD(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class g_{constructor(){this.activeTargetIds=F5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QD{constructor(){this.Mo=new g_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function hm(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",XD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=hm(),h=this.zo(e,n.toUriEncodedString());ce(Tp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),y=ka(p);return this.Jo(e,h,f,r,y).then((_=>(ce(Tp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw xa(Tp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Va})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=XD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class e4 extends JD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=hm();return new Promise(((h,f)=>{const p=new NE;p.setWithCredentials(!0),p.listenOnce(DE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const _=p.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case wh.TIMEOUT:ce(Kt,`RPC '${e}' ${l} timed out`),f(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const E=p.getStatus();if(ce(Kt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const L=(function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(U)>=0?U:Q.UNKNOWN})(D.status);f(new le(L,D.message))}else f(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);ce(Kt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=hm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jE(),h=LE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");ce(Kt,`Creating RPC '${e}' stream ${i}: ${y}`,f);const _=l.createWebChannel(y,f);this.I_(_);let E=!1,A=!1;const D=new ZD({Yo:b=>{A?ce(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(E||(ce(Kt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),ce(Kt,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Zo:()=>_.close()}),L=(b,F,U)=>{b.listen(F,(G=>{try{U(G)}catch(re){setTimeout((()=>{throw re}),0)}}))};return L(_,zl.EventType.OPEN,(()=>{A||(ce(Kt,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),L(_,zl.EventType.CLOSE,(()=>{A||(A=!0,ce(Kt,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(_))})),L(_,zl.EventType.ERROR,(b=>{A||(A=!0,xa(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),D.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),L(_,zl.EventType.MESSAGE,(b=>{if(!A){const F=b.data[0];$e(!!F,16349);const U=F,G=U?.error||U[0]?.error;if(G){ce(Kt,`RPC '${e}' stream ${i} received error:`,G);const re=G.status;let ne=(function(I){const P=wt[I];if(P!==void 0)return gT(P)})(re),X=G.message;ne===void 0&&(ne=Q.INTERNAL,X="Unknown error status: "+re+" with message "+G.message),A=!0,D.a_(new le(ne,X)),_.close()}else ce(Kt,`RPC '${e}' stream ${i} received:`,F),D.u_(F)}})),L(h,VE.STAT_EVENT,(b=>{b.stat===Zp.PROXY?ce(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Zp.NOPROXY&&ce(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new sD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class kT{constructor(e,n,r,i,a,l,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t4 extends kT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Te.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Te.min():l.readTime?Pr(l.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=um(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=sm(f)?{documents:cD(a,f)}:{query:hD(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=wT(a,l.resumeToken);const p=om(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Te.min())>0){h.readTime=Kh(a,l.snapshotVersion.toTimestamp());const p=om(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=fD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=um(this.serializer),n.removeTarget=e,this.q_(n)}}class n4 extends kT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uD(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{}class s4 extends r4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,am(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,am(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Q.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class i4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class o4{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{go(this)&&(ce(ao,"Restarting streams for network reachability change."),await(async function(f){const p=Ie(f);p.Ea.add(4),await ku(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sd(p)})(this))}))})),this.Ra=new i4(r,i)}}async function Sd(t){if(go(t))for(const e of t.da)await e(!0)}async function ku(t){for(const e of t.da)await e(!1)}function NT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pg(n)?bg(n):Oa(n).O_()&&Cg(n,e))}function Ag(t,e){const n=Ie(t),r=Oa(n);n.Ia.delete(e),r.O_()&&DT(n,e),n.Ia.size===0&&(r.O_()?r.L_():go(n)&&n.Ra.set("Unknown"))}function Cg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).Y_(e)}function DT(t,e){t.Va.Ue(e),Oa(t).Z_(e)}function bg(t){t.Va=new eD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.Ra.ua()}function Pg(t){return go(t)&&!Oa(t).x_()&&t.Ia.size>0}function go(t){return Ie(t).Ea.size===0}function VT(t){t.Va=void 0}async function a4(t){t.Ra.set("Online")}async function l4(t){t.Ia.forEach(((e,n)=>{Cg(t,e)}))}async function u4(t,e){VT(t),Pg(t)?(t.Ra.ha(e),bg(t)):t.Ra.set("Unknown")}async function c4(t,e,n){if(t.Ra.set("Online"),e instanceof vT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){ce(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Th?t.Va.Ze(e):e instanceof yT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await PT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(Bt.EMPTY_BYTE_STRING,y.snapshotVersion)),DT(a,f);const _=new Js(y.target,f,p,y.sequenceNumber);Cg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(ao,"Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!ja(e))throw e;t.Ea.add(1),await ku(t),t.Ra.set("Offline"),n||(n=()=>PT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sd(t)}))}function LT(t,e){return e().catch((n=>Qh(t,n,e)))}async function Id(t){const e=Ie(t),n=li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;h4(e);)try{const i=await qD(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,d4(e,i)}catch(i){await Qh(e,i)}jT(e)&&MT(e)}function h4(t){return go(t)&&t.Ta.length<10}function d4(t,e){t.Ta.push(e);const n=li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jT(t){return go(t)&&!li(t).x_()&&t.Ta.length>0}function MT(t){li(t).start()}async function f4(t){li(t).ra()}async function p4(t){const e=li(t);for(const n of t.Ta)e.ea(n.mutations)}async function m4(t,e,n){const r=t.Ta.shift(),i=wg.from(r,e,n);await LT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Id(t)}async function g4(t,e){e&&li(t).X_&&await(async function(r,i){if((function(l){return X5(l)&&l!==Q.ABORTED})(i.code)){const a=r.Ta.shift();li(r).B_(),await LT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Id(r)}})(t,e),jT(t)&&MT(t)}async function __(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(ao,"RemoteStore received new credentials");const r=go(n);n.Ea.add(3),await ku(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function y4(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Oa(t){return t.ma||(t.ma=(function(n,r,i){const a=Ie(n);return a.sa(),new t4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:a4.bind(null,t),t_:l4.bind(null,t),r_:u4.bind(null,t),H_:c4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Pg(t)?bg(t):t.Ra.set("Unknown")):(await t.ma.stop(),VT(t))}))),t.ma}function li(t){return t.fa||(t.fa=(function(n,r,i){const a=Ie(n);return a.sa(),new n4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:f4.bind(null,t),r_:g4.bind(null,t),ta:p4.bind(null,t),na:m4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Rg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(t,e){if(ds("AsyncQueue",`${e}: ${t}`),ja(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.ga=new ot(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Aa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Aa(e,n,va.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class w4{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ie(n),a=i.queries;i.queries=E_(),a.forEach(((l,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function E_(){return new po((t=>sT(t)),vd)}async function OT(t,e){const n=Ie(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new v4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=kg(l,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ng(n)}async function FT(t,e){const n=Ie(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _4(t,e){const n=Ie(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&Ng(n)}function x4(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Ng(t){t.Ca.forEach((e=>{e.next()}))}var dm,T_;(T_=dm||(dm={})).Ma="default",T_.Cache="cache";class UT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class E4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=iT(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new x_,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,_)=>{const E=i.get(y),A=wd(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;E&&A?E.data.isEqual(A.data)?D!==L&&(r.track({type:3,doc:A}),b=!0):this.su(E,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),b=!0):E&&!A&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(h=!0)),b&&(A?(l=l.add(A),a=L?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,_)=>(function(A,D){const L=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:b})}};return L(A)-L(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Aa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new zT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new BT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class T4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S4{constructor(e){this.key=e,this.hu=!1}}class I4{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new po((h=>sT(h)),vd),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A4(t,e,n=!0){const r=GT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $T(r,e,n,!0),i}async function C4(t,e){const n=GT(t);await $T(n,e,!0,!1)}async function $T(t,e,n,r){const i=await KD(t.localStore,br(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await b4(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&NT(t.remoteStore,i),h}async function b4(t,e,n,r,i){t.pu=(_,E,A)=>(async function(L,b,F,U){let G=b.view.ru(F);G.Cs&&(G=await m_(L.localStore,b.query,!1).then((({documents:C})=>b.view.ru(C,G))));const re=U&&U.targetChanges.get(b.targetId),ne=U&&U.targetMismatches.get(b.targetId)!=null,X=b.view.applyChanges(G,L.isPrimaryClient,re,ne);return I_(L,b.targetId,X.au),X.snapshot})(t,_,E,A);const a=await m_(t.localStore,e,!0),l=new E4(e,a.Qs),h=l.ru(a.documents),f=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);I_(t,n,p.au);const y=new T4(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function P4(t,e,n){const r=Ie(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!vd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ag(r.remoteStore,i.targetId),fm(r,i.targetId)})).catch(La)):(fm(r,i.targetId),await cm(r.localStore,i.targetId,!0))}async function R4(t,e){const n=Ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(n.remoteStore,r.targetId))}async function k4(t,e,n){const r=O4(t);try{const i=await(function(l,h){const f=Ie(l),p=qe.now(),y=h.reduce(((A,D)=>A.add(D.key)),Ve());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=ps(),L=Ve();return f.Ns.getEntries(A,y).next((b=>{D=b,D.forEach(((F,U)=>{U.isValidDocument()||(L=L.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,D))).next((b=>{_=b;const F=[];for(const U of h){const G=q5(U,_.get(U.key).overlayedDocument);G!=null&&F.push(new mo(U.key,G,YE(G.value.mapValue),nr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,F,h)})).next((b=>{E=b;const F=b.applyToLocalDocumentSet(_,L);return f.documentOverlayCache.saveOverlays(A,b.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:aT(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ot(De)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await Nu(r,i.changes),await Id(r.remoteStore)}catch(i){const a=kg(i,"Failed to persist write");n.reject(a)}}async function WT(t,e){const n=Ie(t);try{const r=await WD(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?$e(l.hu,14607):i.removedDocuments.size>0&&($e(l.hu,42227),l.hu=!1))})),await Nu(n,r,e)}catch(r){await La(r)}}function S_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Ie(l);f.onlineState=h;let p=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&Ng(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N4(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ot(ge.comparator);l=l.insert(a,Qt.newNoDocument(a,Te.min()));const h=Ve().add(a),f=new Ed(Te.min(),new Map,new ot(De),l,h);await WT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Vg(r)}else await cm(r.localStore,e,!1).then((()=>fm(r,e,n))).catch(La)}async function D4(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await $D(n.localStore,e);qT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,i)}catch(i){await La(i)}}async function V4(t,e,n){const r=Ie(t);try{const i=await(function(l,h){const f=Ie(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>($e(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);qT(r,e,n),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,i)}catch(i){await La(i)}}function HT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qT(t,e,n){const r=Ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||KT(t,r)}))}function KT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ag(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vg(t))}function I_(t,e,n){for(const r of n)r instanceof BT?(t.Ru.addReference(r.key,e),L4(t,r)):r instanceof zT?(ce(Dg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KT(t,r.key)):_e(19791,{wu:r})}function L4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Dg,"New document in limbo: "+n),t.Eu.add(r),Vg(t))}function Vg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new S4(n)),t.du=t.du.insert(n,r),NT(t.remoteStore,new Js(br(gg(n.path)),r,"TargetPurposeLimboResolution",md.ce))}}async function Nu(t,e,n){const r=Ie(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Sg.As(f.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,p){const y=Ie(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Y.forEach(p,(E=>Y.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>Y.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!ja(_))throw _;ce(Ig,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.Ms.get(E),D=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,L)}}})(r.localStore,a))}async function j4(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(Dg,"User change. New user:",e.toKey());const r=await bT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Q.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ls)}}function M4(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function GT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N4.bind(null,e),e.Pu.H_=_4.bind(null,e.eventManager),e.Pu.yu=x4.bind(null,e.eventManager),e}function O4(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V4.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zD(this.persistence,new FD,e.initialUser,this.serializer)}Cu(e){return new CT(Tg.mi,this.serializer)}Du(e){return new QD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class F4 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new CT((r=>Gh.mi(r,n)),this.serializer)}}class pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),await y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w4})()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=(function(a){return new e4(a)})(e.databaseInfo);return(function(a,l,h,f){return new s4(a,l,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new o4(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>S_(this.syncEngine,n,0)),(function(){return v_.v()?new v_:new YD})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,y){const _=new I4(i,a,l,h,f,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);ce(ao,"RemoteStore shutting down."),r.Ea.add(5),await ku(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class U4{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ce(ui,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(ui,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function A_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B4(t);ce(ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>__(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>__(e.remoteStore,i))),t._onlineComponents=e}async function B4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ui,"Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new Yh)}}else ce(ui,"Using default OfflineComponentProvider"),await Ip(t,new F4(void 0));return t._offlineComponents}async function YT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ui,"Using user provided OnlineComponentProvider"),await A_(t,t._uninitializedComponentsProvider._online)):(ce(ui,"Using default OnlineComponentProvider"),await A_(t,new pm))),t._onlineComponents}function z4(t){return YT(t).then((e=>e.syncEngine))}async function XT(t){const e=await YT(t),n=e.eventManager;return n.onListen=A4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R4.bind(null,e.syncEngine),n}function $4(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new QT({next:E=>{y.Nu(),l.enqueueAndForget((()=>FT(a,_)));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new UT(gg(h.path),y,{includeMetadataChanges:!0,qa:!0});return OT(a,_)})(await XT(t),t.asyncQueue,e,n,r))),r.promise}function W4(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new QT({next:E=>{y.Nu(),l.enqueueAndForget((()=>FT(a,_))),E.fromCache&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new UT(h,y,{includeMetadataChanges:!0,qa:!0});return OT(a,_)})(await XT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firestore.googleapis.com",b_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=b_}else this.host=e.host,this.ssl=e.ssl??b_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ED)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YN;switch(r.type){case"firstParty":return new e5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),C_.delete(n),r.terminate())})(this),Promise.resolve()}}function H4(t,e,n,r={}){t=fs(t,Ad);const i=ka(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(y1(`https://${h}`),v1("Firestore",!0)),a.host!==ZT&&a.host!==h&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!ri(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Gt.MOCK_USER;else{p=BC(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Gt(_)}t._authCredentials=new XN(new OE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Tt._jsonSchema))return new Tt(e,r||null,new ge(Ye.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Et("string",Tt._jsonSchemaVersion),referencePath:Et("string")};class ni extends gi{constructor(e,n,r){super(e,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ge(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function jr(t,e,...n){if(t=Nt(t),FE("collection","path",e),t instanceof Ad){const r=Ye.fromString(e,...n);return zw(r),new ni(t,null,r)}{if(!(t instanceof Tt||t instanceof ni))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return zw(r),new ni(t.firestore,null,r)}}function lo(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=cg.newId()),FE("doc","path",e),t instanceof Ad){const r=Ye.fromString(e,...n);return Bw(r),new Tt(t,null,new ge(r))}{if(!(t instanceof Tt||t instanceof ni))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Bw(r),new Tt(t.firestore,t instanceof ni?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RT(this,"async_queue_retry"),this._c=()=>{const r=Sp();r&&ce(R_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ja(e))throw e;ce(R_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",N_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Rg.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fa extends Ad{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new k_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function q4(t,e){const n=typeof t=="object"?t:qm(),r=typeof t=="string"?t:Bh,i=ho(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=FC("firestore");a&&H4(i,...a)}return i}function Lg(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K4(t),t._firestoreClient}function K4(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new y5(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,JT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new U4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Bt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Et("string",jn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Et("string",Rr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new kr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:Et("string",kr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=/^__.*__$/;class Q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function tS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class Mg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tS(this.Ac)&&G4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Y4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}Cc(e,n,r,i=!1){return new Mg({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new Y4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);iS("Data must be an object, but it was:",l,r);const h=rS(r,l);let f,p;if(a.merge)f=new er(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=J4(e,_,n);if(!l.contains(E))throw new le(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);eV(y,E)||y.push(E)}f=new er(y),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new Q4(new Ln(h),f,p)}function X4(t,e,n,r=!1){return Fg(n,t.Cc(r?4:3,e))}function Fg(t,e){if(sS(t=Nt(t)))return iS("Unsupported field value:",e,t),rS(t,e);if(t instanceof eS)return(function(r,i){if(!tS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=Fg(h,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Kh(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,a)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:wT(i.serializer,r._byteString)};if(r instanceof Tt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return(function(l,h){return{mapValue:{fields:{[GE]:{stringValue:QE},[zh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return yg(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${pd(r)}`)})(t,e)}function rS(t,e){const n={};return zE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,((r,i)=>{const a=Fg(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function sS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Rr||t instanceof jn||t instanceof Tt||t instanceof eS||t instanceof kr)}function iS(t,e,n){if(!sS(n)||!UE(n)){const r=pd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function J4(t,e,n){if((e=Nt(e))instanceof jg)return e._internalPath;if(typeof e=="string")return oS(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z4=new RegExp("[~\\*/\\[\\]]");function oS(t,e,n){if(e.search(Z4)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jg(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(Q.INVALID_ARGUMENT,h+t+f)}function eV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tV extends aS{data(){return super.data()}}function Cd(t,e){return typeof e=="string"?oS(t,e):e instanceof jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class Bg extends Ug{}function bd(t,e,...n){let r=[];e instanceof Ug&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof zg)).length,h=a.filter((f=>f instanceof Pd)).length;if(l>1||l>0&&h>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Pd extends Bg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pd(e,n,r)}_apply(e){const n=this._parse(e);return uS(e._query,n),new gi(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=Og(e.firestore);return(function(a,l,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){L_(_,y);const D=[];for(const L of _)D.push(V_(f,a,L));E={arrayValue:{values:D}}}else E=V_(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||L_(_,y),E=X4(h,l,_,y==="in"||y==="not-in");return xt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function D_(t,e,n){const r=e,i=Cd("where",t);return Pd._create(i,r,n)}class zg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)uS(l,f),l=im(l,f)})(e._query,n),new gi(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends Bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $g(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(a,l)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ma(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function lS(t,e="asc"){const n=e,r=Cd("orderBy",t);return $g._create(r,n)}class Wg extends Bg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wg(e,n,r)}_apply(e){return new gi(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}function rV(t){return Wg._create("limit",t,"F")}function V_(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rT(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ge.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yw(t,new ge(r))}if(n instanceof Tt)return Yw(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(n)}.`)}function L_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sV{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((r=>mt(r.doubleValue)));return new kr(n)}convertGeoPoint(e){return new Rr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ii(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);$e(IT(r),9688,{name:e});const i=new cu(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||ds(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zi extends aS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zi._jsonSchema={type:Et("string",Zi._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Sh extends Zi{data(e={}){return super.data(e)}}class wa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new Sh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Hl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Sh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Hl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:iV(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){t=fs(t,Tt);const e=fs(t.firestore,Fa);return $4(Lg(e),t._key).then((n=>lV(e,t,n)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Et("string",wa._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class hS extends sV{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Du(t){t=fs(t,gi);const e=fs(t.firestore,Fa),n=Lg(e),r=new hS(e);return nV(t._query),W4(n,t._query).then((i=>new wa(e,r,t,i)))}function oV(t,e,n){t=fs(t,Tt);const r=fs(t.firestore,Fa),i=cS(t.converter,e,n);return Hg(r,[nS(Og(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function aV(t){return Hg(fs(t.firestore,Fa),[new vg(t._key,nr.none())])}function Vu(t,e){const n=fs(t.firestore,Fa),r=lo(t),i=cS(t.converter,e);return Hg(n,[nS(Og(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then((()=>r))}function Hg(t,e){return(function(r,i){const a=new ls;return r.asyncQueue.enqueueAndForget((async()=>k4(await z4(r),i,a))),a.promise})(Lg(t),e)}function lV(t,e,n){const r=n.docs.get(e._key),i=new hS(t);return new Zi(t,i,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Va=i})(Na),Vr(new rr("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Fa(new JN(r.getProvider("auth-internal")),new t5(l,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(p.options.projectId,y)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),On(Mw,Ow,e),On(Mw,Ow,"esm2020")})();const uV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},qg=I1(uV);DR(qg);const St=GN(qg),Xt=q4(qg),dS=new rs,Kg=R.createContext({});function Gg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qg=typeof window<"u",fS=Qg?R.useLayoutEffect:R.useEffect,Rd=R.createContext(null);function Yg(t,e){t.indexOf(e)===-1&&t.push(e)}function Xg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ms=(t,e,n)=>n>e?e:n<t?t:n;let Jg=()=>{};const gs={},pS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mS(t){return typeof t=="object"&&t!==null}const gS=t=>/^0[^.\s]+$/u.test(t);function Zg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fn=t=>t,cV=(t,e)=>n=>e(t(n)),Lu=(...t)=>t.reduce(cV),mu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ey{constructor(){this.subscriptions=[]}add(e){return Yg(this.subscriptions,e),()=>Xg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nr=t=>t*1e3,Mn=t=>t/1e3;function yS(t,e){return e?t*(1e3/e):0}const vS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hV=1e-7,dV=12;function fV(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=vS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>hV&&++h<dV);return l}function ju(t,e,n,r){if(t===e&&n===r)return Fn;const i=a=>fV(a,0,1,t,n);return a=>a===0||a===1?a:vS(i(a),e,r)}const wS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_S=t=>e=>1-t(1-e),xS=ju(.33,1.53,.69,.99),ty=_S(xS),ES=wS(ty),TS=t=>(t*=2)<1?.5*ty(t):.5*(2-Math.pow(2,-10*(t-1))),ny=t=>1-Math.sin(Math.acos(t)),SS=_S(ny),IS=wS(ny),pV=ju(.42,0,1,1),mV=ju(0,0,.58,1),AS=ju(.42,0,.58,1),gV=t=>Array.isArray(t)&&typeof t[0]!="number",CS=t=>Array.isArray(t)&&typeof t[0]=="number",yV={linear:Fn,easeIn:pV,easeInOut:AS,easeOut:mV,circIn:ny,circInOut:IS,circOut:SS,backIn:ty,backInOut:ES,backOut:xS,anticipate:TS},vV=t=>typeof t=="string",j_=t=>{if(CS(t)){Jg(t.length===4);const[e,n,r,i]=t;return ju(e,n,r,i)}else if(vV(t))return yV[t];return t},lh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wV(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,E=!1)=>{const D=E&&i?n:r;return _&&l.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(h=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(y))}};return p}const _V=40;function bS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=lh.reduce((G,re)=>(G[re]=wV(a),G),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:A,postRender:D}=l,L=()=>{const G=gs.useManualTiming?i.timestamp:performance.now();n=!1,gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(G-i.timestamp,_V),1)),i.timestamp=G,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),y.process(i),_.process(i),E.process(i),A.process(i),D.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(L))},b=()=>{n=!0,r=!0,i.isProcessing||t(L)};return{schedule:lh.reduce((G,re)=>{const ne=l[re];return G[re]=(X,C=!1,I=!1)=>(n||b(),ne.schedule(X,C,I)),G},{}),cancel:G=>{for(let re=0;re<lh.length;re++)l[lh[re]].cancel(G)},state:i,steps:l}}const{schedule:tt,cancel:ci,state:Ot,steps:Ap}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let Ih;function xV(){Ih=void 0}const dn={now:()=>(Ih===void 0&&dn.set(Ot.isProcessing||gs.useManualTiming?Ot.timestamp:performance.now()),Ih),set:t=>{Ih=t,queueMicrotask(xV)}},PS=t=>e=>typeof e=="string"&&e.startsWith(t),ry=PS("--"),EV=PS("var(--"),sy=t=>EV(t)?TV.test(t.split("/*")[0].trim()):!1,TV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Ua,transform:t=>ms(0,1,t)},uh={...Ua,default:1},Zl=t=>Math.round(t*1e5)/1e5,iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SV(t){return t==null}const IV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(t,e)=>n=>!!(typeof n=="string"&&IV.test(n)&&n.startsWith(t)||e&&!SV(n)&&Object.prototype.hasOwnProperty.call(n,e)),RS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(iy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},AV=t=>ms(0,255,t),Cp={...Ua,transform:t=>Math.round(AV(t))},Xi={test:oy("rgb","red"),parse:RS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cp.transform(t)+", "+Cp.transform(e)+", "+Cp.transform(n)+", "+Zl(gu.transform(r))+")"};function CV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mm={test:oy("#"),parse:CV,transform:Xi.transform},Mu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gs=Mu("deg"),Dr=Mu("%"),xe=Mu("px"),bV=Mu("vh"),PV=Mu("vw"),M_={...Dr,parse:t=>Dr.parse(t)/100,transform:t=>Dr.transform(t*100)},ua={test:oy("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dr.transform(Zl(e))+", "+Dr.transform(Zl(n))+", "+Zl(gu.transform(r))+")"},_t={test:t=>Xi.test(t)||mm.test(t)||ua.test(t),parse:t=>Xi.test(t)?Xi.parse(t):ua.test(t)?ua.parse(t):mm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xi.transform(t):ua.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},RV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kV(t){return isNaN(t)&&typeof t=="string"&&(t.match(iy)?.length||0)+(t.match(RV)?.length||0)>0}const kS="number",NS="color",NV="var",DV="var(",O_="${}",VV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(VV,f=>(_t.test(f)?(r.color.push(a),i.push(NS),n.push(_t.parse(f))):f.startsWith(DV)?(r.var.push(a),i.push(NV),n.push(f)):(r.number.push(a),i.push(kS),n.push(parseFloat(f))),++a,O_)).split(O_);return{values:n,split:h,indexes:r,types:i}}function DS(t){return yu(t).values}function VS(t){const{split:e,types:n}=yu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===kS?a+=Zl(i[l]):h===NS?a+=_t.transform(i[l]):a+=i[l]}return a}}const LV=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function jV(t){const e=DS(t);return VS(t)(e.map(LV))}const hi={test:kV,parse:DS,createTransformer:VS,getAnimatableNone:jV};function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=bp(f,h,t+1/3),a=bp(f,h,t),l=bp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Zh(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,Pp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},OV=[mm,Xi,ua],FV=t=>OV.find(e=>e.test(t));function F_(t){const e=FV(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=MV(n)),n}const U_=(t,e)=>{const n=F_(t),r=F_(e);if(!n||!r)return Zh(t,e);const i={...n};return a=>(i.red=Pp(n.red,r.red,a),i.green=Pp(n.green,r.green,a),i.blue=Pp(n.blue,r.blue,a),i.alpha=it(n.alpha,r.alpha,a),Xi.transform(i))},gm=new Set(["none","hidden"]);function UV(t,e){return gm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BV(t,e){return n=>it(t,e,n)}function ay(t){return typeof t=="number"?BV:typeof t=="string"?sy(t)?Zh:_t.test(t)?U_:WV:Array.isArray(t)?LS:typeof t=="object"?_t.test(t)?U_:zV:Zh}function LS(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>ay(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function zV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ay(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function $V(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const WV=(t,e)=>{const n=hi.createTransformer(e),r=yu(t),i=yu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?gm.has(t)&&!i.values.length||gm.has(e)&&!r.values.length?UV(t,e):Lu(LS($V(r,i),i.values),n):Zh(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):ay(t)(t,e)}const HV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>ci(e),now:()=>Ot.isProcessing?Ot.timestamp:dn.now()}},MS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ed=2e4;function ly(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ed;)e+=n,r=t.next(e);return e>=ed?1/0:e}function qV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ly(r),ed);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Mn(i)}}const KV=5;function OS(t,e,n){const r=Math.max(e-KV,0);return yS(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rp=.001;function GV({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,a,l=1-e;l=ms(ut.minDamping,ut.maxDamping,l),t=ms(ut.minDuration,ut.maxDuration,Mn(t)),l<1?(i=p=>{const y=p*l,_=y*t,E=y-n,A=ym(p,l),D=Math.exp(-_);return Rp-E/A*D},a=p=>{const _=p*l*t,E=_*n+n,A=Math.pow(l,2)*Math.pow(p,2)*t,D=Math.exp(-_),L=ym(Math.pow(p,2),l);return(-i(p)+Rp>0?-1:1)*((E-A)*D)/L}):(i=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Rp+y*_},a=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=YV(i,a,h);if(t=Nr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const QV=12;function YV(t,e,n){let r=n;for(let i=1;i<QV;i++)r=r-t(r)/e(r);return r}function ym(t,e){return t*Math.sqrt(1-e*e)}const XV=["duration","bounce"],JV=["stiffness","damping","mass"];function B_(t,e){return e.some(n=>t[n]!==void 0)}function ZV(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!B_(t,JV)&&B_(t,XV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ms(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ut.mass,stiffness:i,damping:a}}else{const n=GV(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function td(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=ZV({...n,velocity:-Mn(n.velocity||0)}),D=E||0,L=p/(2*Math.sqrt(f*y)),b=l-a,F=Mn(Math.sqrt(f/y)),U=Math.abs(b)<5;r||(r=U?ut.restSpeed.granular:ut.restSpeed.default),i||(i=U?ut.restDelta.granular:ut.restDelta.default);let G;if(L<1){const ne=ym(F,L);G=X=>{const C=Math.exp(-L*F*X);return l-C*((D+L*F*b)/ne*Math.sin(ne*X)+b*Math.cos(ne*X))}}else if(L===1)G=ne=>l-Math.exp(-F*ne)*(b+(D+F*b)*ne);else{const ne=F*Math.sqrt(L*L-1);G=X=>{const C=Math.exp(-L*F*X),I=Math.min(ne*X,300);return l-C*((D+L*F*b)*Math.sinh(I)+ne*b*Math.cosh(I))/ne}}const re={calculatedDuration:A&&_||null,next:ne=>{const X=G(ne);if(A)h.done=ne>=_;else{let C=ne===0?D:0;L<1&&(C=ne===0?Nr(D):OS(G,ne,X));const I=Math.abs(C)<=r,P=Math.abs(l-X)<=i;h.done=I&&P}return h.value=h.done?l:X,h},toString:()=>{const ne=Math.min(ly(re),ed),X=MS(C=>re.next(ne*C).value,ne,30);return ne+"ms "+X},toTransition:()=>{}};return re}td.applyToOptions=t=>{const e=qV(t,100,td);return t.ease=e.ease,t.duration=Nr(e.duration),t.type="keyframes",t};function vm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,D=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let L=n*e;const b=_+L,F=l===void 0?b:l(b);F!==b&&(L=F-_);const U=I=>-L*Math.exp(-I/r),G=I=>F+U(I),re=I=>{const P=U(I),V=G(I);E.done=Math.abs(P)<=p,E.value=E.done?F:V};let ne,X;const C=I=>{A(E.value)&&(ne=I,X=td({keyframes:[E.value,D(E.value)],velocity:OS(G,I,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:I=>{let P=!1;return!X&&ne===void 0&&(P=!0,re(I),C(I)),ne!==void 0&&I>=ne?X.next(I-ne):(!P&&re(I),E)}}}function eL(t,e,n){const r=[],i=n||gs.mix||jS,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Fn:e;h=Lu(f,h)}r.push(h)}return r}function tL(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Jg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=eL(e,r,i),f=h.length,p=y=>{if(l&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=mu(t[_],t[_+1],y);return h[_](E)};return n?y=>p(ms(t[0],t[a-1],y)):p}function nL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mu(0,e,r);t.push(it(n,1,i))}}function rL(t){const e=[0];return nL(e,t.length-1),e}function sL(t,e){return t.map(n=>n*e)}function iL(t,e){return t.map(()=>e||AS).splice(0,t.length-1)}function eu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gV(r)?r.map(j_):j_(r),a={done:!1,value:e[0]},l=sL(n&&n.length===e.length?n:rL(e),t),h=tL(l,e,{ease:Array.isArray(i)?i:iL(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const oL=t=>t!==null;function uy(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(oL),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const aL={decay:vm,inertia:vm,tween:eu,keyframes:eu,spring:td};function FS(t){typeof t.type=="string"&&(t.type=aL[t.type])}class cy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lL=t=>t/100;class hy extends cy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FS(e);const{type:n=eu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||eu;f!==eu&&typeof h[0]!="number"&&(this.mixKeyframes=Lu(lL,jS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ly(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:D,onUpdate:L,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?F<0:F>i;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let G=this.currentTime,re=r;if(_){const I=Math.min(this.currentTime,i)/h;let P=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&P--,P=Math.min(P,_+1),!!(P%2)&&(E==="reverse"?(V=1-V,A&&(V-=A/h)):E==="mirror"&&(re=l)),G=ms(0,1,V)*h}const ne=U?{done:!1,value:y[0]}:re.next(G);a&&(ne.value=a(ne.value));let{done:X}=ne;!U&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return C&&D!==vm&&(ne.value=uy(y,this.options,b,this.speed)),L&&L(ne.value),C&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Mn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(this.currentTime)}set time(e){e=Nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=HV,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function uL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ji=t=>t*180/Math.PI,wm=t=>{const e=Ji(Math.atan2(t[1],t[0]));return _m(e)},cL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wm,rotateZ:wm,skewX:t=>Ji(Math.atan(t[1])),skewY:t=>Ji(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_m=t=>(t=t%360,t<0&&(t+=360),t),z_=wm,$_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$_,scaleY:W_,scale:t=>($_(t)+W_(t))/2,rotateX:t=>_m(Ji(Math.atan2(t[6],t[5]))),rotateY:t=>_m(Ji(Math.atan2(-t[2],t[0]))),rotateZ:z_,rotate:z_,skewX:t=>Ji(Math.atan(t[4])),skewY:t=>Ji(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xm(t){return t.includes("scale")?1:0}function Em(t,e){if(!t||t==="none")return xm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=hL,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cL,i=h}if(!i)return xm(e);const a=r[e],l=i[1].split(",").map(fL);return typeof a=="function"?a(l):l[a]}const dL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Em(n,e)};function fL(t){return parseFloat(t.trim())}const Ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],za=new Set(Ba),H_=t=>t===Ua||t===xe,pL=new Set(["x","y","z"]),mL=Ba.filter(t=>!pL.has(t));function gL(t){const e=[];return mL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Em(e,"x"),y:(t,{transform:e})=>Em(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let Tm=!1,Sm=!1,Im=!1;function US(){if(Sm){const t=Array.from(to).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sm=!1,Tm=!1,to.forEach(t=>t.complete(Im)),to.clear()}function BS(){to.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sm=!0)})}function yL(){Im=!0,BS(),US(),Im=!1}class dy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),Tm||(Tm=!0,tt.read(BS),tt.resolveKeyframes(US))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}uL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vL=t=>t.startsWith("--");function wL(t,e,n){vL(e)?t.style.setProperty(e,n):t.style[e]=n}const _L=Zg(()=>window.ScrollTimeline!==void 0),xL={};function EL(t,e){const n=Zg(t);return()=>xL[e]??n()}const zS=EL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function $S(t,e){if(t)return typeof t=="function"?zS()?MS(t,e):"ease-out":CS(t)?ql(t):Array.isArray(t)?t.map(n=>$S(n,e)||q_.easeOut):q_[t]}function TL(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=$S(h,i);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function WS(t){return typeof t=="function"&&"applyToOptions"in t}function SL({type:t,...e}){return WS(t)&&zS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IL extends cy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Jg(typeof e.type!="string");const p=SL(e);this.animation=TL(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=uy(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):wL(n,r,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Mn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_L()?(this.animation.timeline=e,Fn):n(this)}}const HS={anticipate:TS,backInOut:ES,circInOut:IS};function AL(t){return t in HS}function CL(t){typeof t.ease=="string"&&AL(t.ease)&&(t.ease=HS[t.ease])}const K_=10;class bL extends IL{constructor(e){CL(e),FS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new hy({...l,autoplay:!1}),f=Nr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-K_).value,h.sample(f).value,K_),h.stop()}}const G_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hi.test(t)||t==="0")&&!t.startsWith("url("));function PL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=G_(i,e),h=G_(a,e);return!l||!h?!1:PL(t)||(n==="spring"||WS(n))&&r}function Am(t){t.duration=0,t.type="keyframes"}const kL=new Set(["opacity","clipPath","filter","transform"]),NL=Zg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DL(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return NL()&&n&&kL.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const VL=40;class LL extends cy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:y,..._},A=y?.KeyframeResolver||dy;this.keyframeResolver=new A(h,(D,L,b)=>this.onKeyframesResolved(D,L,E,!b),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:y}=r;this.resolvedAt=dn.now(),RL(e,a,l,h)||((gs.instantAnimations||!f)&&y?.(uy(e,r,n)),e[0]=e[e.length-1],Am(r),r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>VL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&DL(E)?new bL({...E,element:E.motionValue.owner.current}):new hy(E);A.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ML(t){const e=jL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function qS(t,e,n=1){const[r,i]=ML(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return pS(l)?parseFloat(l):l}return sy(i)?qS(i,e,n+1):i}function fy(t,e){return t?.[e]??t?.default??t}const KS=new Set(["width","height","top","left","right","bottom",...Ba]),OL={test:t=>t==="auto",parse:t=>t},GS=t=>e=>e.test(t),QS=[Ua,xe,Dr,Gs,PV,bV,OL],Q_=t=>QS.find(GS(t));function FL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gS(t):!0}const UL=new Set(["brightness","contrast","saturate","opacity"]);function BL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iy)||[];if(!r)return t;const i=n.replace(r,"");let a=UL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const zL=/\b([a-z-]*)\(.*?\)/gu,Cm={...hi,getAnimatableNone:t=>{const e=t.match(zL);return e?e.map(BL).join(" "):t}},Y_={...Ua,transform:Math.round},$L={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:Gs,skewX:Gs,skewY:Gs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:gu,originX:M_,originY:M_,originZ:xe},py={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...$L,zIndex:Y_,fillOpacity:gu,strokeOpacity:gu,numOctaves:Y_},WL={...py,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Cm,WebkitFilter:Cm},YS=t=>WL[t];function XS(t,e){let n=YS(t);return n!==Cm&&(n=hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HL=new Set(["auto","none","0"]);function qL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!HL.has(a)&&yu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=XS(n,i)}class KL extends dy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),sy(p))){const y=qS(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!KS.has(r)||e.length!==2)return;const[i,a]=e,l=Q_(i),h=Q_(a);if(l!==h)if(H_(l)&&H_(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else eo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||FL(e[i]))&&r.push(i);r.length&&qL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function GL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const JS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZS(t){return mS(t)&&"offsetHeight"in t}const X_=30,QL=t=>!isNaN(parseFloat(t));class YL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=dn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ey);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,X_);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ca(t,e){return new YL(t,e)}const{schedule:my}=bS(queueMicrotask,!1),Jn={x:!1,y:!1};function eI(){return Jn.x||Jn.y}function XL(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function tI(t,e){const n=GL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function J_(t){return!(t.pointerType==="touch"||eI())}function JL(t,e,n={}){const[r,i,a]=tI(t,n),l=h=>{if(!J_(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{J_(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const nI=(t,e)=>e?t===e?!0:nI(t,e.parentElement):!1,gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ej(t){return ZL.has(t.tagName)||t.tabIndex!==-1}const Ah=new WeakSet;function Z_(t){return e=>{e.key==="Enter"&&t(e)}}function kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Z_(()=>{if(Ah.has(n))return;kp(n,"down");const i=Z_(()=>{kp(n,"up")}),a=()=>kp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ex(t){return gy(t)&&!eI()}function nj(t,e,n={}){const[r,i,a]=tI(t,n),l=h=>{const f=h.currentTarget;if(!ex(h))return;Ah.add(f);const p=e(f,h),y=(A,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Ah.has(f)&&Ah.delete(f),ex(A)&&typeof p=="function"&&p(A,{success:D})},_=A=>{y(A,f===window||f===document||n.useGlobalTarget||nI(f,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",E,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),ZS(h)&&(h.addEventListener("focus",p=>tj(p,i)),!ej(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function rI(t){return mS(t)&&"ownerSVGElement"in t}function rj(t){return rI(t)&&t.tagName==="svg"}const Yt=t=>!!(t&&t.getVelocity),sj=[...QS,_t,hi],ij=t=>sj.find(GS(t)),yy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oj(...t){return e=>{let n=!1;const r=t.map(i=>{const a=tx(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():tx(t[i],null)}}}}function aj(...t){return R.useCallback(oj(...t),t)}class lj extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ZS(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uj({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),a=R.useRef(null),l=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=R.useContext(yy),f=aj(a,t?.ref);return R.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:E,right:A}=l.current;if(e||!a.current||!p||!y)return;const D=n==="left"?`left: ${E}`:`right: ${A}`;a.current.dataset.motionPopId=i;const L=document.createElement("style");h&&(L.nonce=h);const b=r??document.head;return b.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{b.contains(L)&&b.removeChild(L)}},[e]),g.jsx(lj,{isPresent:e,childRef:a,sizeRef:l,children:R.cloneElement(t,{ref:f})})}const cj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,root:f})=>{const p=Gg(hj),y=R.useId();let _=!0,E=R.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:i,onExitComplete:A=>{p.set(A,!0);for(const D of p.values())if(!D)return;r&&r()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,r]);return a&&_&&(E={...E}),R.useMemo(()=>{p.forEach((A,D)=>p.set(D,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=g.jsx(uj,{isPresent:n,anchorX:h,root:f,children:t})),g.jsx(Rd.Provider,{value:E,children:t})};function hj(){return new Map}function sI(t=!0){const e=R.useContext(Rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{if(t)return i(a)},[t]);const l=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ch=t=>t.key||"";function nx(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const vy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",root:f})=>{const[p,y]=sI(l),_=R.useMemo(()=>nx(t),[t]),E=l&&!p?[]:_.map(ch),A=R.useRef(!0),D=R.useRef(_),L=Gg(()=>new Map),[b,F]=R.useState(_),[U,G]=R.useState(_);fS(()=>{A.current=!1,D.current=_;for(let X=0;X<U.length;X++){const C=ch(U[X]);E.includes(C)?L.delete(C):L.get(C)!==!0&&L.set(C,!1)}},[U,E.length,E.join("-")]);const re=[];if(_!==b){let X=[..._];for(let C=0;C<U.length;C++){const I=U[C],P=ch(I);E.includes(P)||(X.splice(C,0,I),re.push(I))}return a==="wait"&&re.length&&(X=re),G(nx(X)),F(_),null}const{forceRender:ne}=R.useContext(Kg);return g.jsx(g.Fragment,{children:U.map(X=>{const C=ch(X),I=l&&!p?!1:_===U||E.includes(C),P=()=>{if(L.has(C))L.set(C,!0);else return;let V=!0;L.forEach(j=>{j||(V=!1)}),V&&(ne?.(),G(D.current),l&&y?.(),r&&r())};return g.jsx(cj,{isPresent:I,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:I?void 0:P,anchorX:h,children:X},C)})})},iI=R.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ba={};for(const t in rx)ba[t]={isEnabled:e=>rx[t].some(n=>!!e[n])};function dj(t){for(const e in t)ba[e]={...ba[e],...t[e]}}const fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fj.has(t)}let oI=t=>!nd(t);function pj(t){typeof t=="function"&&(oI=e=>e.startsWith("on")?!nd(e):t(e))}try{pj(require("@emotion/is-prop-valid").default)}catch{}function mj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oI(i)||n===!0&&nd(i)||!e&&!nd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const kd=R.createContext({});function Nd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_y=["initial",...wy];function Dd(t){return Nd(t.animate)||_y.some(e=>vu(t[e]))}function aI(t){return!!(Dd(t)||t.variants)}function gj(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(r)?r:void 0}}return t.inherit!==!1?e:{}}function yj(t){const{initial:e,animate:n}=gj(t,R.useContext(kd));return R.useMemo(()=>({initial:e,animate:n}),[sx(e),sx(n)])}function sx(t){return Array.isArray(t)?t.join(" "):t}const wu={};function vj(t){for(const e in t)wu[e]=t[e],ry(e)&&(wu[e].isCSSVariable=!0)}function lI(t,{layout:e,layoutId:n}){return za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wu[t]||t==="opacity")}const wj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_j=Ba.length;function xj(t,e,n){let r="",i=!0;for(let a=0;a<_j;a++){const l=Ba[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=JS(h,py[l]);if(!f){i=!1;const y=wj[l]||l;r+=`${y}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(za.has(f)){l=!0;continue}else if(ry(f)){i[f]=p;continue}else{const y=JS(p,py[f]);f.startsWith("origin")?(h=!0,a[f]=y):r[f]=y}}if(e.transform||(l||n?r.transform=xj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${p} ${y}`}}const Ey=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uI(t,e,n){for(const r in e)!Yt(e[r])&&!lI(r,n)&&(t[r]=e[r])}function Ej({transformTemplate:t},e){return R.useMemo(()=>{const n=Ey();return xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Tj(t,e){const n=t.style||{},r={};return uI(r,n,t),Object.assign(r,Ej(t,e)),r}function Sj(t,e){const n={},r=Tj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ij={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aj={offset:"strokeDashoffset",array:"strokeDasharray"};function Cj(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Ij:Aj;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function cI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,y){if(xy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&Cj(_,i,a,l,!1)}const hI=()=>({...Ey(),attrs:{}}),dI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bj(t,e,n,r){const i=R.useMemo(()=>{const a=hI();return cI(a,e,dI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};uI(a,t.style,t),i.style={...a,...i.style}}return i}const Pj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ty(t){return typeof t!="string"||t.includes("-")?!1:!!(Pj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Rj(t,e,n,{latestValues:r},i,a=!1){const h=(Ty(t)?bj:Sj)(e,r,i,t),f=mj(e,typeof t=="string",a),p=t!==R.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=R.useMemo(()=>Yt(y)?y.get():y,[y]);return R.createElement(t,{...p,children:_})}function ix(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sy(t,e,n,r){if(typeof e=="function"){const[i,a]=ix(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=ix(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Ch(t){return Yt(t)?t.get():t}function kj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Nj(n,r,i,t),renderState:e()}}function Nj(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Ch(a[E]);let{initial:l,animate:h}=t;const f=Dd(t),p=aI(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?h:l;if(_&&typeof _!="boolean"&&!Nd(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const D=Sy(t,E[A]);if(D){const{transitionEnd:L,transition:b,...F}=D;for(const U in F){let G=F[U];if(Array.isArray(G)){const re=y?G.length-1:0;G=G[re]}G!==null&&(i[U]=G)}for(const U in L)i[U]=L[U]}}}return i}const fI=t=>(e,n)=>{const r=R.useContext(kd),i=R.useContext(Rd),a=()=>kj(t,e,r,i);return n?a():Gg(a)};function Iy(t,e,n){const{style:r}=t,i={};for(const a in r)(Yt(r[a])||e.style&&Yt(e.style[a])||lI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const Dj=fI({scrapeMotionValuesFromProps:Iy,createRenderState:Ey});function pI(t,e,n){const r=Iy(t,e,n);for(const i in t)if(Yt(t[i])||Yt(e[i])){const a=Ba.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const Vj=fI({scrapeMotionValuesFromProps:pI,createRenderState:hI}),Lj=Symbol.for("motionComponentSymbol");function ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jj(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ca(n)&&(n.current=r))},[e])}const Ay=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mj="framerAppearId",mI="data-"+Ay(Mj),gI=R.createContext({});function Oj(t,e,n,r,i){const{visualElement:a}=R.useContext(kd),l=R.useContext(iI),h=R.useContext(Rd),f=R.useContext(yy).reducedMotion,p=R.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=R.useContext(gI);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&Fj(p.current,n,i,_);const E=R.useRef(!1);R.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const A=n[mI],D=R.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return fS(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),R.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),y.enteringChildren=void 0)}),y}function Fj(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yI(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&ca(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:p})}function yI(t){if(t)return t.options.allowProjection!==!1?t.projection:yI(t.parent)}function Np(t,{forwardMotionProps:e=!1}={},n,r){n&&dj(n);const i=Ty(t)?Vj:Dj;function a(h,f){let p;const y={...R.useContext(yy),...h,layoutId:Uj(h)},{isStatic:_}=y,E=yj(h),A=i(h,_);if(!_&&Qg){Bj();const D=zj(y);p=D.MeasureLayout,E.visualElement=Oj(t,A,y,r,D.ProjectionNode)}return g.jsxs(kd.Provider,{value:E,children:[p&&E.visualElement?g.jsx(p,{visualElement:E.visualElement,...y}):null,Rj(t,h,jj(A,E.visualElement,f),A,_,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=R.forwardRef(a);return l[Lj]=t,l}function Uj({layoutId:t}){const e=R.useContext(Kg).id;return e&&t!==void 0?e+"-"+t:t}function Bj(t,e){R.useContext(iI).strict}function zj(t){const{drag:e,layout:n}=ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $j(t,e){if(typeof Proxy>"u")return Np;const n=new Map,r=(a,l)=>Np(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Np(l,void 0,t,e)),n.get(l))})}function vI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Wj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dp(t){return t===void 0||t===1}function bm({scale:t,scaleX:e,scaleY:n}){return!Dp(t)||!Dp(e)||!Dp(n)}function Ki(t){return bm(t)||wI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wI(t){return ox(t.x)||ox(t.y)}function ox(t){return t&&t!=="0%"}function rd(t,e,n){const r=t-n,i=e*r;return n+i}function ax(t,e,n,r,i){return i!==void 0&&(t=rd(t,i,r)),rd(t,n,r)+e}function Pm(t,e=0,n=1,r,i){t.min=ax(t.min,e,n,r,i),t.max=ax(t.max,e,n,r,i)}function _I(t,{x:e,y:n}){Pm(t.x,e.translate,e.scale,e.originPoint),Pm(t.y,n.translate,n.scale,n.originPoint)}const lx=.999999999999,ux=1.0000000000001;function qj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_I(t,l)),r&&Ki(a.latestValues)&&da(t,a.latestValues))}e.x<ux&&e.x>lx&&(e.x=1),e.y<ux&&e.y>lx&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function cx(t,e,n,r,i=.5){const a=it(t.min,t.max,i);Pm(t,e,n,a,r)}function da(t,e){cx(t.x,e.x,e.scaleX,e.scale,e.originX),cx(t.y,e.y,e.scaleY,e.scale,e.originY)}function xI(t,e){return vI(Hj(t.getBoundingClientRect(),e))}function Kj(t,e,n){const r=xI(t,n),{scroll:i}=e;return i&&(ha(r.x,i.offset.x),ha(r.y,i.offset.y)),r}const hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:hx(),y:hx()}),dx=()=>({min:0,max:0}),pt=()=>({x:dx(),y:dx()}),Rm={current:null},EI={current:!1};function Gj(){if(EI.current=!0,!!Qg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rm.current=t.matches;t.addEventListener("change",e),e()}else Rm.current=!1}const Qj=new WeakMap;function Yj(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Yt(i))t.addValue(r,i);else if(Yt(a))t.addValue(r,Ca(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Ca(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=dn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Dd(n),this.isVariantNode=aI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];f[E]!==void 0&&Yt(A)&&A.set(f[E])}}mount(e){this.current=e,Qj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EI.current||Gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=za.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ba){const n=ba[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fx.length;r++){const i=fx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Yj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ca(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pS(r)||gS(r))?r=parseFloat(r):!ij(r)&&hi.test(n)&&(r=XS(e,n)),this.setBaseTarget(e,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Sy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Yt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ey),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){my.render(this.render)}}class TI extends Xj{constructor(){super(...arguments),this.KeyframeResolver=KL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SI(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function Jj(t){return window.getComputedStyle(t)}class Zj extends TI{constructor(){super(...arguments),this.type="html",this.renderInstance=SI}readValueFromInstance(e,n){if(za.has(n))return this.projection?.isProjecting?xm(n):dL(e,n);{const r=Jj(e),i=(ry(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xI(e,n)}build(e,n,r){xy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Iy(e,n,r)}}const II=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eM(t,e,n,r){SI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(II.has(i)?i:Ay(i),e.attrs[i])}class tM extends TI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(za.has(n)){const r=YS(n);return r&&r.default||0}return n=II.has(n)?n:Ay(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pI(e,n,r)}build(e,n,r){cI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){eM(e,n,r,i)}mount(e){this.isSVGTag=dI(e.tagName),super.mount(e)}}const nM=(t,e)=>Ty(t)?new tM(e):new Zj(e,{allowProjection:t!==R.Fragment});function _a(t,e,n){const r=t.getProps();return Sy(r,e,n!==void 0?n:r.custom,t)}const km=t=>Array.isArray(t);function rM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ca(n))}function sM(t){return km(t)?t[t.length-1]||0:t}function iM(t,e){const n=_a(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=sM(a[l]);rM(t,l,h)}}function oM(t){return!!(Yt(t)&&t.add)}function Nm(t,e){const n=t.getValue("willChange");if(oM(n))return n.add(e);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function AI(t){return t.props[mI]}const aM=t=>t!==null;function lM(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(aM),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const uM={type:"spring",stiffness:500,damping:25,restSpeed:10},cM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hM={type:"keyframes",duration:.8},dM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fM=(t,{keyframes:e})=>e.length>2?hM:za.has(t)?t.startsWith("scale")?cM(e[1]):uM:dM;function pM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const Cy=(t,e,n,r={},i,a)=>l=>{const h=fy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Nr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};pM(h)||Object.assign(y,fM(t,y)),y.duration&&(y.duration=Nr(y.duration)),y.repeatDelay&&(y.repeatDelay=Nr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Am(y),y.delay===0&&(_=!0)),(gs.instantAnimations||gs.skipAnimations)&&(_=!0,Am(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=lM(y.keyframes,h);if(E!==void 0){tt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new hy(y):new LL(y)};function mM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function CI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&mM(p,y))continue;const A={delay:n,...fy(a||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===D&&!A.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const F=AI(t);if(F){const U=window.MotionHandoffAnimation(F,y,tt);U!==null&&(A.startTime=U,L=!0)}}Nm(t,y),_.start(Cy(y,_,E,t.shouldReduceMotion&&KS.has(y)?{type:!1}:A,t,L));const b=_.animation;b&&f.push(b)}return l&&Promise.all(f).then(()=>{tt.update(()=>{l&&iM(t,l)})}),f}function bI(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}function Dm(t,e,n={}){const r=_a(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(CI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=i;return gM(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function gM(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Dm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+bI(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function yM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Dm(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Dm(t,e,n);else{const i=typeof e=="function"?_a(t,e,n.custom):e;r=Promise.all(CI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function PI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vM=_y.length;function RI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vM;n++){const r=_y[n],i=t.props[r];(vu(i)||i===!1)&&(e[r]=i)}return e}const wM=[...wy].reverse(),_M=wy.length;function xM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yM(t,n,r)))}function EM(t){let e=xM(t),n=px(),r=!0;const i=f=>(p,y)=>{const _=_a(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:A,...D}=_;p={...p,...D,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,y=RI(t.parent)||{},_=[],E=new Set;let A={},D=1/0;for(let b=0;b<_M;b++){const F=wM[b],U=n[F],G=p[F]!==void 0?p[F]:y[F],re=vu(G),ne=F===f?U.isActive:null;ne===!1&&(D=b);let X=G===y[F]&&G!==p[F]&&re;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),U.protectedKeys={...A},!U.isActive&&ne===null||!G&&!U.prevProp||Nd(G)||typeof G=="boolean")continue;const C=TM(U.prevProp,G);let I=C||F===f&&U.isActive&&!X&&re||b>D&&re,P=!1;const V=Array.isArray(G)?G:[G];let j=V.reduce(i(F),{});ne===!1&&(j={});const{prevResolvedValues:z={}}=U,N={...z,...j},We=Ae=>{I=!0,E.has(Ae)&&(P=!0,E.delete(Ae)),U.needsAnimating[Ae]=!0;const se=t.getValue(Ae);se&&(se.liveStyle=!1)};for(const Ae in N){const se=j[Ae],fe=z[Ae];if(A.hasOwnProperty(Ae))continue;let ae=!1;km(se)&&km(fe)?ae=!PI(se,fe):ae=se!==fe,ae?se!=null?We(Ae):E.add(Ae):se!==void 0&&E.has(Ae)?We(Ae):U.protectedKeys[Ae]=!0}U.prevProp=G,U.prevResolvedValues=j,U.isActive&&(A={...A,...j}),r&&t.blockInitialAnimation&&(I=!1);const ct=X&&C;I&&(!ct||P)&&_.push(...V.map(Ae=>{const se={type:F};if(typeof Ae=="string"&&r&&!ct&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=_a(fe,Ae);if(fe.enteringChildren&&ae){const{delayChildren:B}=ae.transition||{};se.delay=bI(fe.enteringChildren,t,B)}}return{animation:Ae,options:se}}))}if(E.size){const b={};if(typeof p.initial!="boolean"){const F=_a(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(b.transition=F.transition)}E.forEach(F=>{const U=t.getBaseTarget(F),G=t.getValue(F);G&&(G.liveStyle=!0),b[F]=U??null}),_.push({animation:b})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=l(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=px()}}}function TM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PI(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function px(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SM extends yi{constructor(e){super(e),e.animationState||(e.animationState=EM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IM=0;class AM extends yi{constructor(){super(...arguments),this.id=IM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CM={animation:{Feature:SM},exit:{Feature:AM}};function _u(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const bM=t=>e=>gy(e)&&t(e,Ou(e));function tu(t,e,n,r){return _u(t,e,bM(n),r)}const kI=1e-4,PM=1-kI,RM=1+kI,NI=.01,kM=0-NI,NM=0+NI;function nn(t){return t.max-t.min}function DM(t,e,n){return Math.abs(t-e)<=n}function mx(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=PM&&t.scale<=RM||isNaN(t.scale))&&(t.scale=1),(t.translate>=kM&&t.translate<=NM||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){mx(t.x,e.x,n.x,r?r.originX:void 0),mx(t.y,e.y,n.y,r?r.originY:void 0)}function gx(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function VM(t,e,n){gx(t.x,e.x,n.x),gx(t.y,e.y,n.y)}function yx(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function ru(t,e,n){yx(t.x,e.x,n.x),yx(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const DI=({current:t})=>t?t.ownerDocument.defaultView:null,vx=(t,e)=>Math.abs(t-e);function LM(t,e){const n=vx(t.x,e.x),r=vx(t.y,e.y);return Math.sqrt(n**2+r**2)}class VI{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Lp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=LM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:L}=E,{timestamp:b}=Ot;this.history.push({...L,timestamp:b});const{onStart:F,onMove:U}=this.handlers;A||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Vp(A,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:D,onSessionEnd:L,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Lp(E.type==="pointercancel"?this.lastMoveEventInfo:Vp(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,F),L&&L(E,F)},!gy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=Ou(e),f=Vp(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Ot;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Lp(f,this.history)),this.removeListeners=Lu(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ci(this.updatePoint)}}function Vp(t,e){return e?{point:e(t.point)}:t}function wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:wx(t,LI(e)),offset:wx(t,jM(e)),velocity:MM(e,.1)}}function jM(t){return t[0]}function LI(t){return t[t.length-1]}function MM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Nr(e)));)n--;if(!r)return{x:0,y:0};const a=Mn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function OM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function _x(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FM(t,{top:e,left:n,bottom:r,right:i}){return{x:_x(t.x,n,i),y:_x(t.y,e,r)}}function xx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UM(t,e){return{x:xx(t.x,e.x),y:xx(t.y,e.y)}}function BM(t,e){let n=.5;const r=nn(t),i=nn(e);return i>r?n=mu(e.min,e.max-r,t.min):r>i&&(n=mu(t.min,t.max-i,e.min)),ms(0,1,n)}function zM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vm=.35;function $M(t=Vm){return t===!1?t=0:t===!0&&(t=Vm),{x:Ex(t,"left","right"),y:Ex(t,"top","bottom")}}function Ex(t,e,n){return{min:Tx(t,e),max:Tx(t,n)}}function Tx(t,e){return typeof t=="number"?t:t[e]||0}const WM=new WeakMap;class HM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(_).point)},l=(_,E)=>{const{drag:A,dragPropagation:D,onDragStart:L}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XL(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(F=>{let U=this.getAxisMotionValue(F).get()||0;if(Dr.test(U)){const{projection:G}=this.visualElement;if(G&&G.layout){const re=G.layout.layoutBox[F];re&&(U=nn(re)*(parseFloat(U)/100))}}this.originPoint[F]=U}),L&&tt.postRender(()=>L(_,E)),Nm(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:L,onDrag:b}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=E;if(D&&this.currentDirection===null){this.currentDirection=qM(F),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),b&&b(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new VI(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:DI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&tt.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=OM(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ca(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FM(r.layoutBox,e):this.constraints=!1,this.elastic=$M(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=zM(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ca(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Kj(r,i.root,this.visualElement.getTransformPagePoint());let l=UM(i.layout.layoutBox,a);if(n){const h=n(Wj(l));this.hasMutatedConstraints=!!h,h&&(l=vI(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Vn(y=>{if(!hh(y,n,this.currentDirection))return;let _=f&&f[y]||{};l&&(_={min:0,max:0});const E=i?200:1e6,A=i?40:1e7,D={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Nm(this.visualElement,e),r.start(Cy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:r}=this.getProps();if(!hh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-it(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ca(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=BM({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(l=>{if(!hh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(it(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;WM.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ca(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tt.read(r);const l=_u(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Vm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function hh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KM extends yi{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new HM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sx=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class GM extends yi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new VI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sx(e),onStart:Sx(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ix(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=Ix(t,e.target.x),r=Ix(t,e.target.y);return`${n}% ${r}%`}},QM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=hi.parse(t);if(i.length>5)return r;const a=hi.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=it(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let jp=!1;class YM extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;vj(XM),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),jp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,jp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),my.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;jp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jI(t){const[e,n]=sI(),r=R.useContext(Kg);return g.jsx(YM,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(gI),isPresent:e,safeToRemove:n})}const XM={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:QM};function JM(t,e,n){const r=Yt(t)?t:Ca(t);return r.start(Cy("",r,e,n)),r.animation}const ZM=(t,e)=>t.depth-e.depth;class e6{constructor(){this.children=[],this.isDirty=!1}add(e){Yg(this.children,e),this.isDirty=!0}remove(e){Xg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZM),this.isDirty=!1,this.children.forEach(e)}}function t6(t,e){const n=dn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ci(r),t(a-e))};return tt.setup(r,!0),()=>ci(r)}const MI=["TopLeft","TopRight","BottomLeft","BottomRight"],n6=MI.length,Ax=t=>typeof t=="string"?parseFloat(t):t,Cx=t=>typeof t=="number"||xe.test(t);function r6(t,e,n,r,i,a){i?(t.opacity=it(0,n.opacity??1,s6(r)),t.opacityExit=it(e.opacity??1,0,i6(r))):a&&(t.opacity=it(e.opacity??1,n.opacity??1,r));for(let l=0;l<n6;l++){const h=`border${MI[l]}Radius`;let f=bx(e,h),p=bx(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Cx(f)===Cx(p)?(t[h]=Math.max(it(Ax(f),Ax(p),r),0),(Dr.test(p)||Dr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const s6=OI(0,.5,SS),i6=OI(.5,.95,Fn);function OI(t,e,n){return r=>r<t?0:r>e?1:n(mu(t,e,r))}function Px(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){Px(t.x,e.x),Px(t.y,e.y)}function Rx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kx(t,e,n,r,i){return t-=e,t=rd(t,1/n,r),i!==void 0&&(t=rd(t,1/i,r)),t}function o6(t,e=0,n=1,r=.5,i,a=t,l=t){if(Dr.test(e)&&(e=parseFloat(e),e=it(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=it(a.min,a.max,r);t===a&&(h-=e),t.min=kx(t.min,e,n,h,i),t.max=kx(t.max,e,n,h,i)}function Nx(t,e,[n,r,i],a,l){o6(t,e[n],e[r],e[i],e.scale,a,l)}const a6=["x","scaleX","originX"],l6=["y","scaleY","originY"];function Dx(t,e,n,r){Nx(t.x,e,a6,n?n.x:void 0,r?r.x:void 0),Nx(t.y,e,l6,n?n.y:void 0,r?r.y:void 0)}function Vx(t){return t.translate===0&&t.scale===1}function FI(t){return Vx(t.x)&&Vx(t.y)}function Lx(t,e){return t.min===e.min&&t.max===e.max}function u6(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function jx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UI(t,e){return jx(t.x,e.x)&&jx(t.y,e.y)}function Mx(t){return nn(t.x)/nn(t.y)}function Ox(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c6{constructor(){this.members=[]}add(e){Yg(this.members,e),e.scheduleRender()}remove(e){if(Xg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h6(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Mp=["","X","Y","Z"],d6=1e3;let f6=0;function Op(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BI(r)}function zI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=f6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(g6),this.nodes.forEach(_6),this.nodes.forEach(x6),this.nodes.forEach(y6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new e6)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ey),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=rI(l)&&!rj(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{_=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=t6(E,250),bh.hasAnimatedSinceResize&&(bh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||A6,{onLayoutAnimationStart:L,onLayoutAnimationComplete:b}=p.getProps(),F=!this.targetLayout||!UI(this.targetLayout,A),U=!_&&E;if(this.options.layoutRoot||this.resumeFrom||U||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...fy(D,"layout"),onPlay:L,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,U)}else _||Bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ux);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w6),this.nodes.forEach(p6),this.nodes.forEach(m6)):this.nodes.forEach(Ux),this.clearAllSnapshots();const h=dn.now();Ot.delta=ms(0,1e3/60,h-Ot.timestamp),Ot.timestamp=h,Ot.isProcessing=!0,Ap.update.process(Ot),Ap.preRender.process(Ot),Ap.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,my.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v6),this.sharedNodes.forEach(T6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||Ki(this.latestValues)||y)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),C6(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return pt();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b6))){const{scroll:p}=this.root;p&&(ha(h.x,p.offset.x),ha(h.y,p.offset.y))}return h}removeElementScroll(l){const h=pt();if(Dn(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Dn(h,l),ha(h.x,y.offset.x),ha(h.y,y.offset.y))}return h}applyTransform(l,h=!1){const f=pt();Dn(f,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&da(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ki(y.latestValues)&&da(f,y.latestValues)}return Ki(this.latestValues)&&da(f,this.latestValues),f}removeTransform(l){const h=pt();Dn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ki(p.latestValues))continue;bm(p.latestValues)&&p.updateSnapshot();const y=pt(),_=p.measurePageBox();Dn(y,_),Dx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ki(this.latestValues)&&Dx(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),_I(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.target,E.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bm(this.parent.latestValues)||wI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Dn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;qj(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rx(this.prevProjectionDelta.x,this.projectionDelta.x),Rx(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Ox(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ox(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=pt(),A=f?f.source:void 0,D=this.layout?this.layout.source:void 0,L=A!==D,b=this.getStack(),F=!b||b.members.length<=1,U=!!(L&&!F&&this.options.crossfade===!0&&!this.path.some(I6));this.animationProgress=0;let G;this.mixTargetDelta=re=>{const ne=re/1e3;zx(_.x,l.x,ne),zx(_.y,l.y,ne),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S6(this.relativeTarget,this.relativeTargetOrigin,E,ne),G&&u6(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=pt()),Dn(G,this.relativeTarget)),L&&(this.animationValues=y,r6(y,p,this.latestValues,ne,U,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{bh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ca(0)),this.currentAnimation=JM(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&$I(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const _=nn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=nn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Dn(h,f),da(h,y),nu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new c6),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Op("z",l,p,this.animationValues);for(let y=0;y<Mp.length;y++)Op(`rotate${Mp[y]}`,l,p,this.animationValues),Op(`skew${Mp[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Ch(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Ch(h?.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=h6(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),l.transform=_;const{x:E,y:A}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?l.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in wu){if(y[D]===void 0)continue;const{correct:L,applyTo:b,isCSSVariable:F}=wu[D],U=_==="none"?y[D]:L(y[D],p);if(b){const G=b.length;for(let re=0;re<G;re++)l[b[re]]=U}else F?this.options.visualElement.renderState.vars[D]=U:l[D]=U}this.options.layoutId&&(l.pointerEvents=p===this?Ch(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Fx),this.root.sharedNodes.clear()}}}function p6(t){t.updateLayout()}function m6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Vn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=nn(_);_.min=n[y].min,_.max=_.min+E}):$I(i,e.layoutBox,n)&&Vn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=nn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const l=fa();nu(l,n,e.layoutBox);const h=fa();a?nu(h,t.applyTransform(r,!0),e.measuredBox):nu(h,n,e.layoutBox);const f=!FI(l);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const A=pt();ru(A,e.layoutBox,_.layoutBox);const D=pt();ru(D,n,E.layoutBox),UI(A,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function g6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v6(t){t.clearSnapshot()}function Fx(t){t.clearMeasurements()}function Ux(t){t.isLayoutDirty=!1}function w6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _6(t){t.resolveTargetDelta()}function x6(t){t.calcProjection()}function E6(t){t.resetSkewAndRotation()}function T6(t){t.removeLeadSnapshot()}function zx(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $x(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function S6(t,e,n,r){$x(t.x,e.x,n.x,r),$x(t.y,e.y,n.y,r)}function I6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const A6={duration:.45,ease:[.4,0,.1,1]},Wx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hx=Wx("applewebkit/")&&!Wx("chrome/")?Math.round:Fn;function qx(t){t.min=Hx(t.min),t.max=Hx(t.max)}function C6(t){qx(t.x),qx(t.y)}function $I(t,e,n){return t==="position"||t==="preserve-aspect"&&!DM(Mx(e),Mx(n),.2)}function b6(t){return t!==t.root&&t.scroll?.wasRoot}const P6=zI({attachResizeListener:(t,e)=>_u(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fp={current:void 0},WI=zI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fp.current){const t=new P6({});t.mount(window),t.setOptions({layoutScroll:!0}),Fp.current=t}return Fp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),R6={pan:{Feature:GM},drag:{Feature:KM,ProjectionNode:WI,MeasureLayout:jI}};function Kx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&tt.postRender(()=>a(e,Ou(e)))}class k6 extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=JL(e,(n,r)=>(Kx(this.node,r,"Start"),i=>Kx(this.node,i,"End"))))}unmount(){}}class N6 extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lu(_u(this.node.current,"focus",()=>this.onFocus()),_u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&tt.postRender(()=>a(e,Ou(e)))}class D6 extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=nj(e,(n,r)=>(Gx(this.node,r,"Start"),(i,{success:a})=>Gx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lm=new WeakMap,Up=new WeakMap,V6=t=>{const e=Lm.get(t.target);e&&e(t)},L6=t=>{t.forEach(V6)};function j6({root:t,...e}){const n=t||document;Up.has(n)||Up.set(n,{});const r=Up.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(L6,{root:t,...e})),r[i]}function M6(t,e,n){const r=j6(e);return Lm.set(t,n),r.observe(t),()=>{Lm.delete(t),r.unobserve(t)}}const O6={some:0,all:1};class F6 extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:O6[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return M6(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U6(e,n))&&this.startObserver()}unmount(){}}function U6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B6={inView:{Feature:F6},tap:{Feature:D6},focus:{Feature:N6},hover:{Feature:k6}},z6={layout:{ProjectionNode:WI,MeasureLayout:jI}},$6={...CM,...B6,...R6,...z6},je=$j($6,nM),HI=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,i]=R.useState(n==="login"),[a,l]=R.useState(""),[h,f]=R.useState(""),[p,y]=R.useState(!1),[_,E]=R.useState(""),[A,D]=R.useState(""),L=async F=>{F.preventDefault(),y(!0),E(""),D("");try{r?(await vE(St,a,h),e()):(await yE(St,a,h),D("Account created successfully! You can now sign in."),i(!0))}catch(U){U instanceof Error?E(U.message):E("An unexpected error occurred")}finally{y(!1)}},b=async()=>{try{await PE(St,dS),e()}catch(F){F instanceof Error?E(F.message):E("An unexpected error occurred")}};return g.jsx(vy,{children:t&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),g.jsx(je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:g.jsxs("div",{className:"p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),g.jsxs("form",{onSubmit:L,className:"space-y-4",children:[g.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),g.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[g.jsx("div",{className:"border-t border-gray-200 w-full"}),g.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:a,onChange:F=>l(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:h,onChange:F=>f(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),_&&g.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),A&&g.jsx("p",{className:"text-green-500 text-sm text-center",children:A}),g.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>i(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},by=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,a]=R.useState(!1),[l,h]=R.useState(null),f=Mr();R.useEffect(()=>{const _=()=>{e(window.scrollY>20)};window.addEventListener("scroll",_);const E=hd(St,A=>{h(A)});return()=>{window.removeEventListener("scroll",_),E()}},[]);const p=async()=>{await Ok(St),r(!1)},y=[{name:"Roadmaps",path:"/#roadmaps"},{name:"Projects",path:"/#projects"},{name:"Resources",path:"/#resources"},{name:"Students",path:"/#community"}];return g.jsxs(g.Fragment,{children:[g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[g.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[g.jsxs(En,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),g.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),g.jsx("div",{className:"hidden md:flex items-center gap-8",children:y.map(_=>g.jsx("a",{href:_.path,onClick:E=>{if(f.pathname==="/"&&_.path.startsWith("/#")){E.preventDefault();const A=_.path.substring(2),D=document.getElementById(A);D&&(D.scrollIntoView({behavior:"smooth"}),window.history.pushState(null,"",_.path))}},className:`text-sm font-medium transition-colors ${f.hash===_.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name))}),g.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(En,{to:"/profile",className:"flex items-center gap-2",children:g.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),g.jsx("button",{onClick:p,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):g.jsxs(g.Fragment,{children:[g.jsx(En,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),g.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),g.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&g.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[y.map(_=>g.jsx("a",{href:_.path,className:"text-gray-600 font-medium py-2",onClick:E=>{if(r(!1),f.pathname==="/"&&_.path.startsWith("/#")){E.preventDefault();const A=_.path.substring(2),D=document.getElementById(A);D&&(D.scrollIntoView({behavior:"smooth"}),window.history.pushState(null,"",_.path))}},children:_.name},_.name)),g.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?g.jsxs(g.Fragment,{children:[g.jsx(En,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),g.jsx("button",{onClick:p,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):g.jsxs(g.Fragment,{children:[g.jsx(En,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),g.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),g.jsx(HI,{isOpen:i,onClose:()=>a(!1)})]})},W6=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return g.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:g.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[g.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:g.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),g.jsxs(je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",g.jsx("br",{}),g.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),g.jsx(je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),g.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("div",{className:"absolute left-4 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),g.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),g.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[g.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),g.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),g.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),g.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>g.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},H6=()=>{const t=di(),[e,n]=R.useState([]),[r,i]=R.useState(null),[a,l]=R.useState(!1),[h,f]=R.useState(""),[p,y]=R.useState({title:"",description:"",category:"General",link:""});R.useEffect(()=>{const b=hd(St,F=>{i(F)});return _(),()=>b()},[]);const _=async()=>{try{const b=jr(Xt,"roadmaps"),F=bd(b,lS("created_at","desc")),G=(await Du(F)).docs.map(re=>({id:re.id,...re.data()}));n(G)}catch(b){console.error("Error fetching roadmaps:",b)}},E=async b=>{if(b.preventDefault(),!!r)try{await Vu(jr(Xt,"roadmaps"),{...p,is_official:!0,created_at:qe.now().toDate().toISOString()}),l(!1),y({title:"",description:"",category:"General",link:""}),_()}catch(F){console.error("Error adding roadmap:",F),alert("Failed to add roadmap.")}},A=async(b,F)=>{if(F.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await aV(lo(Xt,"roadmaps",b)),_()}catch(U){console.error("Error deleting roadmap:",U),alert("Failed to delete roadmap.")}},D=b=>{b.link&&(b.link.startsWith("http")||b.link.startsWith("https"))?window.open(b.link,"_blank"):(t(`/roadmap/${b.id}`),window.scrollTo(0,0))},L=e.filter(b=>b.title.toLowerCase().includes(h.toLowerCase())||b.description.toLowerCase().includes(h.toLowerCase()));return g.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),g.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),g.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),g.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:h,onChange:b=>f(b.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),r&&g.jsx("div",{className:"mt-8 flex justify-center",children:g.jsx("button",{onClick:()=>l(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.length===0?g.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):L.map((b,F)=>g.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},onClick:()=>D(b),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[r&&g.jsx("button",{onClick:U=>A(b.id,U),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),g.jsx("div",{className:"flex justify-between items-start mb-6",children:g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:b.title}),g.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:b.description})]},b.id))})]}),a&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),g.jsx("input",{type:"text",required:!0,value:p.title,onChange:b=>y({...p,title:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{required:!0,value:p.description,onChange:b=>y({...p,description:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),g.jsx("input",{type:"text",placeholder:"https://...",value:p.link,onChange:b=>y({...p,link:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),g.jsxs("div",{className:"flex gap-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},q6=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=R.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=R.useState(!1),[h,f]=R.useState(""),[p,y]=R.useState(!1);R.useEffect(()=>{if(t&&St.currentUser){const E=St.currentUser;E.email&&i(A=>({...A,author:E.email.split("@")[0]}))}},[t]);const _=async E=>{E.preventDefault(),l(!0),f("");try{await Vu(jr(Xt,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(A=>A.trim()),author:r.author,author_avatar:St.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:qe.now().toDate().toISOString(),user_id:St.currentUser?.uid}),y(!0),n&&n(),setTimeout(()=>{e(),y(!1),i({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(A){console.error("Error submitting project:",A),f("Failed to submit project. Please try again.")}finally{l(!1)}};return g.jsx(vy,{children:t&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),g.jsx(je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:g.jsxs("div",{className:"p-6 md:p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),g.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),g.jsx("input",{type:"text",required:!0,value:r.title,onChange:E=>i({...r,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{required:!0,value:r.description,onChange:E=>i({...r,description:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),g.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:E=>i({...r,githubUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),g.jsx("input",{type:"url",value:r.liveUrl,onChange:E=>i({...r,liveUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),g.jsx("input",{type:"text",required:!0,value:r.author,onChange:E=>i({...r,author:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),g.jsxs("select",{value:r.language,onChange:E=>i({...r,language:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[g.jsx("option",{children:"JavaScript"}),g.jsx("option",{children:"TypeScript"}),g.jsx("option",{children:"Python"}),g.jsx("option",{children:"Java"}),g.jsx("option",{children:"C++"}),g.jsx("option",{children:"Rust"}),g.jsx("option",{children:"Go"}),g.jsx("option",{children:"Swift"}),g.jsx("option",{children:"Other"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),g.jsx("input",{type:"text",value:r.tags,onChange:E=>i({...r,tags:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),h&&g.jsx("p",{className:"text-red-500 text-sm",children:h}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},K6=()=>{const[t,e]=R.useState("All"),[n,r]=R.useState(""),[i,a]=R.useState([]),[l,h]=R.useState(!0),[f,p]=R.useState(null),[y,_]=R.useState(!1),[E,A]=R.useState(!1),[D,L]=R.useState(""),[b,F]=R.useState(!1);R.useEffect(()=>{U();const C=hd(St,I=>{p(I)});return()=>C()},[]);const U=async()=>{try{const C=jr(Xt,"projects"),I=bd(C,lS("created_at","desc")),V=(await Du(I)).docs.map(j=>({id:j.id,...j.data()}));a(V)}catch(C){console.error("Error fetching projects:",C)}finally{h(!1)}},G=async C=>{if(C.preventDefault(),!!D)try{await Vu(jr(Xt,"newsletter_subscribers"),{email:D,created_at:qe.now()}),F(!0),L(""),setTimeout(()=>F(!1),3e3)}catch(I){console.error("Error subscribing:",I)}},re=()=>{f?A(!0):_(!0)},ne=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],X=i.filter(C=>{const I=t==="All"||C.category===t,P=C.title.toLowerCase().includes(n.toLowerCase())||C.description.toLowerCase().includes(n.toLowerCase())||C.tags.some(V=>V.toLowerCase().includes(n.toLowerCase()));return I&&P});return g.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),g.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[g.jsxs("div",{children:[g.jsx(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:g.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),g.jsx(je.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),g.jsx(je.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),g.jsxs(je.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:C=>r(C.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),g.jsxs("button",{onClick:re,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[g.jsxs("div",{className:"lg:w-3/4",children:[g.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:ne.map(C=>g.jsx("button",{onClick:()=>e(C),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===C?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:C},C))}),l?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(C=>g.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[g.jsxs("div",{className:"relative h-48 overflow-hidden",children:[g.jsx("img",{src:C.image_url,alt:C.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),g.jsx("div",{className:"absolute top-4 left-4",children:g.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:C.category})})]}),g.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("img",{src:C.author_avatar,alt:C.author,className:"w-8 h-8 rounded-full border border-gray-100"}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.author}),g.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(C.created_at).toLocaleDateString()]})]}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:C.title}),g.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:C.description}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:C.tags.map(I=>g.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",I]},I))}),g.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),C.likes]}),g.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),C.comments]})]}),g.jsxs("a",{href:C.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},C.id))}),!l&&X.length===0&&g.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),g.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),g.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),g.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[g.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),g.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>g.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:g.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${C}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),g.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},C))}),g.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),g.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),g.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),g.jsxs("form",{onSubmit:G,className:"relative z-10",children:[g.jsx("input",{type:"email",placeholder:"Your email",value:D,onChange:C=>L(C.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),g.jsx("button",{type:"submit",disabled:b,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Subscribed!":"Subscribe"})]})]})]})]})]}),g.jsx(HI,{isOpen:y,onClose:()=>_(!1)}),g.jsx(q6,{isOpen:E,onClose:()=>A(!1),onSuccess:U})]})},G6=()=>{const[t,e]=R.useState([]);return R.useEffect(()=>{(async()=>{try{const r=jr(Xt,"users"),i=bd(r,rV(8)),l=(await Du(i)).docs.map(h=>({id:h.id,...h.data()}));e(l)}catch(r){console.error("Error fetching profiles:",r)}})()},[]),g.jsx("section",{id:"community",className:"py-24 bg-white",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[g.jsxs("div",{className:"max-w-2xl",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),g.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),g.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.length===0?g.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):t.map((n,r)=>g.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"group relative bg-white rounded-2xl p-6 border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:[g.jsx("div",{className:"absolute top-4 right-4 text-gray-300 group-hover:text-[#0066FF] transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})}),g.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 mb-6 overflow-hidden border-2 border-white shadow-md group-hover:scale-105 transition-transform duration-300",children:g.jsx("img",{src:n.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.full_name}`,alt:n.full_name,className:"w-full h-full object-cover"})}),g.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-1",children:n.full_name}),g.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-4",children:n.role||"Student"}),g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-6",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),n.university||"University"]}),g.jsxs("div",{className:"border-t border-gray-50 pt-4",children:[g.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-3",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills&&n.skills.map(i=>g.jsx("span",{className:"px-2.5 py-1 rounded-md bg-gray-50 text-gray-600 text-xs font-medium border border-gray-100",children:i},i))})]}),g.jsx("button",{className:"w-full mt-6 py-2.5 rounded-xl border border-gray-200 text-gray-600 font-medium text-sm hover:bg-gray-50 hover:text-[#0f172a] transition-colors",children:"View Profile"})]},n.id))})]})})},Qx=()=>{const t=di(),{userId:e}=r1(),[n,r]=R.useState(!0),[i,a]=R.useState(null),[l,h]=R.useState(!1),[f,p]=R.useState("none"),[y,_]=R.useState(!1);Mm.useEffect(()=>{(async()=>{try{const L=St.currentUser;if(!L){t("/login");return}const b=e||L.uid;h(b===L.uid);const F=lo(Xt,"users",b),U=await Jh(F);if(U.exists()){if(a(U.data()),b!==L.uid){const G=jr(Xt,"connections"),re=bd(G,D_("requesterId","==",L.uid),D_("recipientId","==",b));(await Du(re)).empty||p("pending")}}else e||t("/onboarding")}catch(L){console.error("Error fetching user data:",L)}finally{r(!1)}})()},[t,e]);const E=async()=>{if(!(!St.currentUser||!e)){_(!0);try{await Vu(jr(Xt,"connections"),{requesterId:St.currentUser.uid,recipientId:e,status:"pending",createdAt:new Date().toISOString()}),p("pending")}catch(D){console.error("Error sending connection request:",D)}finally{_(!1)}}},A=[{id:1,title:"CollabX",description:"A platform for students to collaborate on projects and find learning resources.",stars:124,language:"TypeScript"},{id:2,title:"AI Note Taker",description:"An AI-powered tool that summarizes lecture notes and generates quizzes.",stars:89,language:"Python"}];return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):i?g.jsx("div",{className:"min-h-screen bg-gray-50 pt-32 pb-20",children:g.jsx("div",{className:"container-custom mx-auto",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-1",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm text-center",children:[g.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-gray-100 mb-6 overflow-hidden border-4 border-white shadow-lg",children:g.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"})}),g.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:i.name}),g.jsx("p",{className:"text-[#5865F2] font-medium mb-4",children:i.role}),l?g.jsx("button",{onClick:()=>t("/onboarding"),className:"mb-6 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded-lg transition-colors",children:"Edit Profile"}):g.jsx("button",{onClick:E,disabled:f!=="none"||y,className:`mb-6 px-6 py-2 rounded-lg text-sm font-bold transition-all ${f==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:y?"Sending...":f==="pending"?"Request Sent":"Connect"}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 text-sm mb-6",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),i.institution]}),g.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-8",children:i.bio}),g.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[i.socials?.github&&g.jsx("a",{href:`https://${i.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-50 text-gray-600 hover:bg-[#181717] hover:text-white transition-colors",children:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),i.socials?.linkedin&&g.jsx("a",{href:`https://${i.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-50 text-gray-600 hover:bg-[#0077b5] hover:text-white transition-colors",children:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t border-gray-100 pt-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:i.stats.projects}),g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Projects"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:i.stats.stars}),g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Stars"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a] text-lg",children:i.stats.followers}),g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Followers"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm mt-6",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] mb-4",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.skills.map(D=>g.jsx("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-600 text-xs font-medium rounded-lg border border-gray-100",children:D},D))})]})]}),g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"font-bold text-[#0f172a]",children:"Featured Projects"}),g.jsx("button",{className:"text-sm text-[#5865F2] font-medium hover:underline",children:"View All"})]}),g.jsx("div",{className:"space-y-4",children:A.map(D=>g.jsxs("div",{className:"group p-4 rounded-xl border border-gray-100 hover:border-[#5865F2]/30 hover:bg-purple-50/30 transition-all cursor-pointer",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h4",{className:"font-bold text-[#0f172a] group-hover:text-[#5865F2] transition-colors",children:D.title}),g.jsx("span",{className:"text-xs font-medium bg-gray-100 text-gray-600 px-2 py-1 rounded-md",children:D.language})]}),g.jsx("p",{className:"text-gray-500 text-sm mb-4",children:D.description}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-yellow-400",children:g.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),D.stars]}),g.jsx("span",{children:"Updated 2 days ago"})]})]},D.id))})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[g.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Recent Activity"}),g.jsx("div",{className:"space-y-6",children:[1,2,3].map(D=>g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-[#5865F2] shrink-0",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})})}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm text-[#0f172a] font-medium",children:["Commented on ",g.jsx("span",{className:"text-[#5865F2] cursor-pointer",children:'"System Design for Beginners"'})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]},D))})]})]})]})})}):null};function Q6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Y6=R.forwardRef(Q6);function X6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const J6=R.forwardRef(X6);function Z6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const e3=R.forwardRef(Z6);function t3({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n3=R.forwardRef(t3),r3=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=R.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:h,type:f,checked:p}=a.target;n(y=>({...y,[l]:f==="checkbox"?p:h}))},i=a=>{a.preventDefault(),console.log("Form submitted:",e)};return g.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[g.jsx(En,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-gray-900",children:"Executive Education"}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-gray-400",children:t.title})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[g.jsx("div",{className:"flex items-center gap-4 mb-4",children:g.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:g.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),g.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),g.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(n3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),g.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(J6,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(Y6,{className:"w-6 h-6 text-[#5865F2] mt-1"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),g.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[g.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[g.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>g.jsxs("div",{className:"text-center space-y-2",children:[g.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),g.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),g.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[g.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),g.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),g.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>g.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[g.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),g.jsx(e3,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),g.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-24",children:g.jsxs(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[g.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),g.jsxs("form",{onSubmit:i,className:"space-y-4",children:[g.jsx("div",{children:g.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsx("div",{children:g.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsx("div",{children:g.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),g.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),g.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},s3=()=>{const{resourceId:t}=r1(),e=di(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},i=n(),a=r(t||"");return g.jsxs("div",{className:"min-h-screen bg-white",children:[g.jsx(by,{}),g.jsx("main",{className:"pt-32 pb-20 px-6",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs(je.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[g.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),g.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,h)=>g.jsxs(je.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),g.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),g.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),g.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),g.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:f=>f.preventDefault(),children:["Access Resource ",g.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},i3=()=>{const t=di(),[e,n]=R.useState(!0),[r,i]=R.useState(""),[a,l]=R.useState(""),[h,f]=R.useState(!1),[p,y]=R.useState(""),[_,E]=R.useState(""),A=async()=>{try{const b=(await PE(St,dS)).user,F=lo(Xt,"users",b.uid);(await Jh(F)).exists()?t("/"):t("/onboarding")}catch(L){L instanceof Error?y(L.message):y("An unexpected error occurred")}},D=async L=>{L.preventDefault(),f(!0),y(""),E("");try{if(e){const b=await vE(St,r,a),F=lo(Xt,"users",b.user.uid);(await Jh(F)).exists()?t("/"):t("/onboarding")}else await yE(St,r,a),t("/onboarding")}catch(b){b instanceof Error?y(b.message):y("An unexpected error occurred")}finally{f(!1)}};return g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),g.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),g.jsxs(je.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:A,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),g.jsx("span",{children:"Continue with Google"})]}),g.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[g.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),g.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),g.jsxs("form",{onSubmit:D,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),g.jsx("input",{type:"email",required:!0,value:r,onChange:L=>i(L.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),g.jsx("input",{type:"password",required:!0,value:a,onChange:L=>l(L.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),g.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),g.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),g.jsxs(vy,{children:[p&&g.jsx(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),_&&g.jsx(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:_})]}),g.jsx(je.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:h,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${h?"opacity-70 cursor-not-allowed":""}`,children:h?"Processing...":e?"Sign in":"Sign up"})]}),g.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:g.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},o3=()=>{const t=di(),[e,n]=R.useState(!1),[r,i]=R.useState(""),[a,l]=R.useState(""),[h,f]=R.useState(""),[p,y]=R.useState(""),[_,E]=R.useState(""),[A,D]=R.useState([]),[L,b]=R.useState(""),[F,U]=R.useState("");Mm.useEffect(()=>{(async()=>{const C=St.currentUser;if(C){const I=lo(Xt,"users",C.uid),P=await Jh(I);if(P.exists()){const V=P.data();i(V.name||""),l(V.role||""),f(V.institution||""),y(V.bio||""),D(V.skills||[]),b(V.socials?.github||""),U(V.socials?.linkedin||"")}}})()},[]);const G=X=>{X.key==="Enter"&&_.trim()&&(X.preventDefault(),A.length<5&&!A.includes(_.trim())&&(D([...A,_.trim()]),E("")))},re=X=>{D(A.filter(C=>C!==X))},ne=async X=>{X.preventDefault(),n(!0);try{const C=St.currentUser;if(!C)throw new Error("No user logged in");await oV(lo(Xt,"users",C.uid),{name:r,role:a,institution:h,bio:p,skills:A,socials:{github:L,linkedin:F},stats:{projects:0,stars:0,followers:0,following:0},avatar:C.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:C.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(C){console.error("Error saving profile:",C),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return g.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),g.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),g.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),g.jsx("input",{type:"text",required:!0,value:r,onChange:X=>i(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),g.jsx("input",{type:"text",required:!0,value:a,onChange:X=>l(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),g.jsx("input",{type:"text",required:!0,value:h,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),g.jsx("textarea",{required:!0,value:p,onChange:X=>y(X.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",g.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.map(X=>g.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[X,g.jsx("button",{type:"button",onClick:()=>re(X),className:"hover:text-red-500",children:""})]},X))}),g.jsx("input",{type:"text",value:_,onChange:X=>E(X.target.value),onKeyDown:G,disabled:A.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:A.length>=5?"Max skills reached":"Type skill and press Enter"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),g.jsx("input",{type:"text",value:L,onChange:X=>b(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),g.jsx("input",{type:"text",value:F,onChange:X=>U(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),g.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},a3=()=>{const t=di(),[e,n]=R.useState([]),[r,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{try{const l=await Du(jr(Xt,"users")),h=[];l.forEach(f=>{h.push({uid:f.id,...f.data()})}),n(h)}catch(l){console.error("Error fetching students:",l)}finally{i(!1)}})()},[]),r?g.jsx("div",{className:"min-h-screen pt-24 flex justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):g.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20",children:g.jsxs("div",{className:"container-custom mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-4",children:"Discover Students"}),g.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Connect with fellow students, find collaborators, and grow your network."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>g.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-lg transition-all cursor-pointer",onClick:()=>t(`/profile/${a.uid}`),children:[g.jsx("div",{className:"flex items-start justify-between mb-4",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("img",{src:a.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${a.name}`,alt:a.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md bg-gray-100"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-[#0f172a] line-clamp-1",children:a.name}),g.jsx("p",{className:"text-sm text-[#5865F2] font-medium line-clamp-1",children:a.role})]})]})}),g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-4",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),a.institution]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 h-16 overflow-hidden content-start",children:[a.skills?.slice(0,3).map((l,h)=>g.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-xs font-medium rounded-md border border-gray-100",children:l},h)),a.skills?.length>3&&g.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-400 text-xs font-medium rounded-md",children:["+",a.skills.length-3]})]}),g.jsx("button",{className:"w-full py-2.5 rounded-xl bg-gray-50 text-[#0066FF] font-bold text-sm hover:bg-[#0066FF] hover:text-white transition-colors",children:"View Profile"})]},a.uid))})]})})},l3=()=>g.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:g.jsxs("div",{className:"container-custom mx-auto",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[g.jsxs("div",{className:"col-span-1 md:col-span-1",children:[g.jsxs(En,{to:"/",className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),g.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),g.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),g.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[g.jsx("li",{children:g.jsx(En,{to:"/#roadmaps",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),g.jsx("li",{children:g.jsx(En,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),g.jsx("li",{children:g.jsx(En,{to:"/#community",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),g.jsx("li",{children:g.jsx(En,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),g.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),g.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),g.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),g.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),g.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[g.jsx("span",{children:" 2025 CollabX. All rights reserved."}),g.jsx("span",{className:"hidden md:inline",children:"|"}),g.jsx("span",{children:"Powered by Google Cloud"})]}),g.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),u3=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,a]=R.useState(""),[l,h]=R.useState("idle"),f=async p=>{p.preventDefault(),h("submitting");try{await Vu(jr(Xt,"feedback"),{name:t,email:n,message:i,created_at:qe.now()}),h("success"),e(""),r(""),a(""),setTimeout(()=>h("idle"),3e3)}catch(y){console.error("Error submitting feedback:",y),h("error"),setTimeout(()=>h("idle"),3e3)}};return g.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:g.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),g.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),g.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:g.jsxs("form",{onSubmit:f,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),g.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),g.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),g.jsx("textarea",{id:"message",value:i,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),g.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&g.jsx(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&g.jsx(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},dh=({children:t})=>{const[e,n]=R.useState(!0),[r,i]=R.useState(!1);return R.useEffect(()=>{const a=hd(St,l=>{i(!!l),n(!1)});return()=>a()},[]),e?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?g.jsx(g.Fragment,{children:t}):g.jsx(YA,{to:"/login"})},c3=()=>{const t=Mr();return Mm.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})},100)}},[t]),g.jsxs("main",{className:"bg-white min-h-screen",children:[g.jsx(by,{}),g.jsx(W6,{}),g.jsx(H6,{}),g.jsx(K6,{}),g.jsx(G6,{}),g.jsx(u3,{})]})},h3=()=>g.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[g.jsx(by,{}),g.jsxs(JA,{children:[g.jsx(ns,{path:"/",element:g.jsx(c3,{})}),g.jsx(ns,{path:"/profile",element:g.jsx(dh,{children:g.jsx(Qx,{})})}),g.jsx(ns,{path:"/profile/:userId",element:g.jsx(dh,{children:g.jsx(Qx,{})})}),g.jsx(ns,{path:"/students",element:g.jsx(dh,{children:g.jsx(a3,{})})}),g.jsx(ns,{path:"/onboarding",element:g.jsx(dh,{children:g.jsx(o3,{})})}),g.jsx(ns,{path:"/roadmap/:roadmapId",element:g.jsx(r3,{})}),g.jsx(ns,{path:"/resource/:resourceId",element:g.jsx(s3,{})}),g.jsx(ns,{path:"/login",element:g.jsx(i3,{})})]}),g.jsx(l3,{})]});aA.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(xC,{children:g.jsx(h3,{})})}));
