(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function BE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pm={exports:{}},Nc={},km={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function qA(){if(Kx)return Oe;Kx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function S(U,J,ve){this.props=U,this.context=J,this.refs=P,this.updater=ve||T}S.prototype.isReactComponent={},S.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=S.prototype;function j(U,J,ve){this.props=U,this.context=J,this.refs=P,this.updater=ve||T}var F=j.prototype=new D;F.constructor=j,C(F,S.prototype),F.isPureReactComponent=!0;var q=Array.isArray,G=Object.prototype.hasOwnProperty,z={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(U,J,ve){var _e,De={},be=null,Fe=null;if(J!=null)for(_e in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(be=""+J.key),J)G.call(J,_e)&&!R.hasOwnProperty(_e)&&(De[_e]=J[_e]);var je=arguments.length-2;if(je===1)De.children=ve;else if(1<je){for(var Me=Array(je),Pe=0;Pe<je;Pe++)Me[Pe]=arguments[Pe+2];De.children=Me}if(U&&U.defaultProps)for(_e in je=U.defaultProps,je)De[_e]===void 0&&(De[_e]=je[_e]);return{$$typeof:t,type:U,key:be,ref:Fe,props:De,_owner:z.current}}function N(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return J[ve]})}var W=/\/+/g;function M(U,J){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):J.toString(36)}function Ne(U,J,ve,_e,De){var be=typeof U;(be==="undefined"||be==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=U,De=De(Fe),U=_e===""?"."+M(Fe,0):_e,q(De)?(ve="",U!=null&&(ve=U.replace(W,"$&/")+"/"),Ne(De,J,ve,"",function(Pe){return Pe})):De!=null&&(L(De)&&(De=N(De,ve+(!De.key||Fe&&Fe.key===De.key?"":(""+De.key).replace(W,"$&/")+"/")+U)),J.push(De)),1;if(Fe=0,_e=_e===""?".":_e+":",q(U))for(var je=0;je<U.length;je++){be=U[je];var Me=_e+M(be,je);Fe+=Ne(be,J,ve,Me,De)}else if(Me=w(U),typeof Me=="function")for(U=Me.call(U),je=0;!(be=U.next()).done;)be=be.value,Me=_e+M(be,je++),Fe+=Ne(be,J,ve,Me,De);else if(be==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Xe(U,J,ve){if(U==null)return U;var _e=[],De=0;return Ne(U,_e,"","",function(be){return J.call(ve,be,De++)}),_e}function dt(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ge={current:null},se={transition:null},ce={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:z};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Xe,forEach:function(U,J,ve){Xe(U,function(){J.apply(this,arguments)},ve)},count:function(U){var J=0;return Xe(U,function(){J++}),J},toArray:function(U){return Xe(U,function(J){return J})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=S,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=j,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Oe.act=ee,Oe.cloneElement=function(U,J,ve){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var _e=C({},U.props),De=U.key,be=U.ref,Fe=U._owner;if(J!=null){if(J.ref!==void 0&&(be=J.ref,Fe=z.current),J.key!==void 0&&(De=""+J.key),U.type&&U.type.defaultProps)var je=U.type.defaultProps;for(Me in J)G.call(J,Me)&&!R.hasOwnProperty(Me)&&(_e[Me]=J[Me]===void 0&&je!==void 0?je[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)_e.children=ve;else if(1<Me){je=Array(Me);for(var Pe=0;Pe<Me;Pe++)je[Pe]=arguments[Pe+2];_e.children=je}return{$$typeof:t,type:U.type,key:De,ref:be,props:_e,_owner:Fe}},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Oe.createElement=A,Oe.createFactory=function(U){var J=A.bind(null,U);return J.type=U,J},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=L,Oe.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:dt}},Oe.memo=function(U,J){return{$$typeof:f,type:U,compare:J===void 0?null:J}},Oe.startTransition=function(U){var J=se.transition;se.transition={};try{U()}finally{se.transition=J}},Oe.unstable_act=ee,Oe.useCallback=function(U,J){return ge.current.useCallback(U,J)},Oe.useContext=function(U){return ge.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return ge.current.useDeferredValue(U)},Oe.useEffect=function(U,J){return ge.current.useEffect(U,J)},Oe.useId=function(){return ge.current.useId()},Oe.useImperativeHandle=function(U,J,ve){return ge.current.useImperativeHandle(U,J,ve)},Oe.useInsertionEffect=function(U,J){return ge.current.useInsertionEffect(U,J)},Oe.useLayoutEffect=function(U,J){return ge.current.useLayoutEffect(U,J)},Oe.useMemo=function(U,J){return ge.current.useMemo(U,J)},Oe.useReducer=function(U,J,ve){return ge.current.useReducer(U,J,ve)},Oe.useRef=function(U){return ge.current.useRef(U)},Oe.useState=function(U){return ge.current.useState(U)},Oe.useSyncExternalStore=function(U,J,ve){return ge.current.useSyncExternalStore(U,J,ve)},Oe.useTransition=function(){return ge.current.useTransition()},Oe.version="18.3.1",Oe}var Qx;function Iy(){return Qx||(Qx=1,km.exports=qA()),km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function HA(){if(Yx)return Nc;Yx=1;var t=Iy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,v={},w=null,T=null;f!==void 0&&(w=""+f),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:w,ref:T,props:v,_owner:s.current}}return Nc.Fragment=n,Nc.jsx=l,Nc.jsxs=l,Nc}var Xx;function GA(){return Xx||(Xx=1,Pm.exports=HA()),Pm.exports}var p=GA(),b=Iy();const en=BE(b);var ih={},Nm={exports:{}},Kn={},Dm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function KA(){return Jx||(Jx=1,(function(t){function e(se,ce){var ee=se.length;se.push(ce);e:for(;0<ee;){var U=ee-1>>>1,J=se[U];if(0<s(J,ce))se[U]=ce,se[ee]=J,ee=U;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ce=se[0],ee=se.pop();if(ee!==ce){se[0]=ee;e:for(var U=0,J=se.length,ve=J>>>1;U<ve;){var _e=2*(U+1)-1,De=se[_e],be=_e+1,Fe=se[be];if(0>s(De,ee))be<J&&0>s(Fe,De)?(se[U]=Fe,se[be]=ee,U=be):(se[U]=De,se[_e]=ee,U=_e);else if(be<J&&0>s(Fe,ee))se[U]=Fe,se[be]=ee,U=be;else break e}}return ce}function s(se,ce){var ee=se.sortIndex-ce.sortIndex;return ee!==0?ee:se.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,v=null,w=3,T=!1,C=!1,P=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=se)r(f),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(f)}}function q(se){if(P=!1,F(se),!C)if(n(d)!==null)C=!0,dt(G);else{var ce=n(f);ce!==null&&ge(q,ce.startTime-se)}}function G(se,ce){C=!1,P&&(P=!1,D(A),A=-1),T=!0;var ee=w;try{for(F(ce),v=n(d);v!==null&&(!(v.expirationTime>ce)||se&&!V());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var J=U(v.expirationTime<=ce);ce=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),F(ce)}else r(d);v=n(d)}if(v!==null)var ve=!0;else{var _e=n(f);_e!==null&&ge(q,_e.startTime-ce),ve=!1}return ve}finally{v=null,w=ee,T=!1}}var z=!1,R=null,A=-1,N=5,L=-1;function V(){return!(t.unstable_now()-L<N)}function W(){if(R!==null){var se=t.unstable_now();L=se;var ce=!0;try{ce=R(!0,se)}finally{ce?M():(z=!1,R=null)}}else z=!1}var M;if(typeof j=="function")M=function(){j(W)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Xe=Ne.port2;Ne.port1.onmessage=W,M=function(){Xe.postMessage(null)}}else M=function(){S(W,0)};function dt(se){R=se,z||(z=!0,M())}function ge(se,ce){A=S(function(){se(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,dt(G))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ee=w;w=ce;try{return se()}finally{w=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ce){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ee=w;w=se;try{return ce()}finally{w=ee}},t.unstable_scheduleCallback=function(se,ce,ee){var U=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?U+ee:U):ee=U,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,se={id:g++,callback:ce,priorityLevel:se,startTime:ee,expirationTime:J,sortIndex:-1},ee>U?(se.sortIndex=ee,e(f,se),n(d)===null&&se===n(f)&&(P?(D(A),A=-1):P=!0,ge(q,ee-U))):(se.sortIndex=J,e(d,se),C||T||(C=!0,dt(G))),se},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(se){var ce=w;return function(){var ee=w;w=ce;try{return se.apply(this,arguments)}finally{w=ee}}}})(jm)),jm}var Zx;function QA(){return Zx||(Zx=1,Dm.exports=KA()),Dm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function YA(){if(e_)return Kn;e_=1;var t=Iy(),e=QA();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(i){return d.call(v,i)?!0:d.call(g,i)?!1:f.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,c,m){if(a===null||typeof a>"u"||T(i,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(i,a,c,m,y,x,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=x,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];S[a]=new P(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,j);S[a]=new P(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,j);S[a]=new P(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,j);S[a]=new P(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,c,m){var y=S.hasOwnProperty(a)?S[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,c,y,m)&&(c=null),m||y===null?w(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,m=y.attributeNamespace,c===null?i.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?i.setAttributeNS(m,a,c):i.setAttribute(a,c))))}var q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),z=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Object.assign,U;function J(i){if(U===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+i}var ve=!1;function _e(i,a){if(!i||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var m=Y}Reflect.construct(i,[],a)}else{try{a.call()}catch(Y){m=Y}i.call(a.prototype)}else{try{throw Error()}catch(Y){m=Y}i()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=m.stack.split(`
`),I=y.length-1,O=x.length-1;1<=I&&0<=O&&y[I]!==x[O];)O--;for(;1<=I&&0<=O;I--,O--)if(y[I]!==x[O]){if(I!==1||O!==1)do if(I--,O--,0>O||y[I]!==x[O]){var B=`
`+y[I].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=I&&0<=O);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function De(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case z:return"Portal";case N:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case Ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Xe:return a=i.displayName||null,a!==null?a:be(i.type)||"Memo";case dt:a=i._payload,i=i._init;try{return be(i(a))}catch{}}return null}function Fe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(i){var a=Me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(I){m=""+I,x.call(this,I)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function qt(i){i._valueTracker||(i._valueTracker=Pe(i))}function yn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return i&&(m=Me(i)?i.checked?"true":"false":i.value),i=m,i!==c?(a.setValue(i),!0):!1}function kn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vn(i,a){var c=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Vr(i,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=je(a.value!=null?a.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function nr(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function as(i,a){nr(i,a);var c=je(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ht(i,a.type,c):a.hasOwnProperty("defaultValue")&&ht(i,a.type,je(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function vi(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ht(i,a,c){(a!=="number"||kn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Je=Array.isArray;function wn(i,a,c,m){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&m&&(i[c].defaultSelected=!0)}else{for(c=""+je(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ls(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wi(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Je(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:je(c)}}function Eo(i,a){var c=je(a.value),m=je(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function cs(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function To(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?To(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nn,us=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,c,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Nn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ds(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},So=["Webkit","ms","Moz","O"];Object.keys(rn).forEach(function(i){So.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),rn[a]=rn[i]})});function hs(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||rn.hasOwnProperty(i)&&rn[i]?(""+a).trim():a+"px"}function xi(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=hs(c,a[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,y):i[c]=y}}var Bs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bn(i,a){if(a){if(Bs[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function _i(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function bi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fr=null,Ur=null,Ve=null;function Ft(i){if(i=yc(i)){if(typeof Fr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=xd(a),Fr(i.stateNode,i.type,a))}}function bt(i){Ur?Ve?Ve.push(i):Ve=[i]:Ur=i}function sn(){if(Ur){var i=Ur,a=Ve;if(Ve=Ur=null,Ft(i),a)for(i=0;i<a.length;i++)Ft(a[i])}}function on(i,a){return i(a)}function Ht(){}var Ct=!1;function Br(i,a,c){if(Ct)return i(a,c);Ct=!0;try{return on(i,a,c)}finally{Ct=!1,(Ur!==null||Ve!==null)&&(Ht(),sn())}}function at(i,a){var c=i.stateNode;if(c===null)return null;var m=xd(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var an=!1;if(u)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){an=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{an=!1}function zn(i,a,c,m,y,x,I,O,B){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(re){this.onError(re)}}var Dn=!1,xn=null,jn=!1,Gt=null,Ei={onError:function(i){Dn=!0,xn=i}};function Zu(i,a,c,m,y,x,I,O,B){Dn=!1,xn=null,zn.apply(Ei,arguments)}function ql(i,a,c,m,y,x,I,O,B){if(Zu.apply(this,arguments),Dn){if(Dn){var Y=xn;Dn=!1,xn=null}else throw Error(n(198));jn||(jn=!0,Gt=Y)}}function zr(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Hl(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ed(i){if(zr(i)!==i)throw Error(n(188))}function td(i){var a=i.alternate;if(!a){if(a=zr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,m=a;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return ed(y),i;if(x===m)return ed(y),a;x=x.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=x;else{for(var I=!1,O=y.child;O;){if(O===c){I=!0,c=y,m=x;break}if(O===m){I=!0,m=y,c=x;break}O=O.sibling}if(!I){for(O=x.child;O;){if(O===c){I=!0,c=x,m=y;break}if(O===m){I=!0,m=x,c=y;break}O=O.sibling}if(!I)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function nd(i){return i=td(i),i!==null?Io(i):null}function Io(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Io(i);if(a!==null)return a;i=i.sibling}return null}var Gl=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,Co=e.unstable_shouldYield,zs=e.unstable_requestPaint,lt=e.unstable_now,ap=e.unstable_getCurrentPriorityLevel,_a=e.unstable_ImmediatePriority,Kl=e.unstable_UserBlockingPriority,Ro=e.unstable_NormalPriority,Ql=e.unstable_LowPriority,ba=e.unstable_IdlePriority,Ao=null,sr=null;function rd(i){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Ao,i,void 0,(i.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:Po,fs=Math.log,xr=Math.LN2;function Po(i){return i>>>=0,i===0?32:31-(fs(i)/xr|0)|0}var ps=64,Ti=4194304;function Ye(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $s(i,a){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,x=i.pingedLanes,I=c&268435455;if(I!==0){var O=I&~y;O!==0?m=Ye(O):(x&=I,x!==0&&(m=Ye(x)))}else I=c&~y,I!==0?m=Ye(I):x!==0&&(m=Ye(x));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,x=a&-a,y>=x||y===16&&(x&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)c=31-ir(a),y=1<<c,m|=i[c],a&=~y;return m}function ko(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(i,a){for(var c=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes;0<x;){var I=31-ir(x),O=1<<I,B=y[I];B===-1?((O&c)===0||(O&m)!==0)&&(y[I]=ko(O,a)):B<=a&&(i.expiredLanes|=O),x&=~O}}function Yl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Xl(){var i=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),i}function Jl(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Do(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ir(a),i[a]=c}function lp(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-ir(c),x=1<<y;a[y]=0,m[y]=-1,i[y]=-1,c&=~x}}function Zl(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var m=31-ir(c),y=1<<m;y&a|i[m]&a&&(i[m]|=a),c&=~y}}var We=0;function ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ec,Ea,tc,nc,rc,gs=!1,Ta=[],ys=null,vs=null,ln=null,jo=new Map,Ws=new Map,or=[],sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Si(i,a){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":jo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(a.pointerId)}}function $r(i,a,c,m,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},a!==null&&(a=yc(a),a!==null&&Ea(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function id(i,a,c,m,y){switch(a){case"focusin":return ys=$r(ys,i,a,c,m,y),!0;case"dragenter":return vs=$r(vs,i,a,c,m,y),!0;case"mouseover":return ln=$r(ln,i,a,c,m,y),!0;case"pointerover":var x=y.pointerId;return jo.set(x,$r(jo.get(x)||null,i,a,c,m,y)),!0;case"gotpointercapture":return x=y.pointerId,Ws.set(x,$r(Ws.get(x)||null,i,a,c,m,y)),!0}return!1}function Sa(i){var a=Oo(i.target);if(a!==null){var c=zr(a);if(c!==null){if(a=c.tag,a===13){if(a=Hl(c),a!==null){i.blockedOn=a,rc(i.priority,function(){tc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Ia(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Or=m,c.target.dispatchEvent(m),Or=null}else return a=yc(c),a!==null&&Ea(a),i.blockedOn=c,!1;a.shift()}return!0}function od(i,a,c){nt(i)&&c.delete(a)}function cp(){gs=!1,ys!==null&&nt(ys)&&(ys=null),vs!==null&&nt(vs)&&(vs=null),ln!==null&&nt(ln)&&(ln=null),jo.forEach(od),Ws.forEach(od)}function Ii(i,a){i.blockedOn===a&&(i.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cp)))}function Ci(i){function a(y){return Ii(y,i)}if(0<Ta.length){Ii(Ta[0],i);for(var c=1;c<Ta.length;c++){var m=Ta[c];m.blockedOn===i&&(m.blockedOn=null)}}for(ys!==null&&Ii(ys,i),vs!==null&&Ii(vs,i),ln!==null&&Ii(ln,i),jo.forEach(a),Ws.forEach(a),c=0;c<or.length;c++)m=or[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<or.length&&(c=or[0],c.blockedOn===null);)Sa(c),c.blockedOn===null&&or.shift()}var qs=q.ReactCurrentBatchConfig,Hs=!0;function ws(i,a,c,m){var y=We,x=qs.transition;qs.transition=null;try{We=1,sc(i,a,c,m)}finally{We=y,qs.transition=x}}function ad(i,a,c,m){var y=We,x=qs.transition;qs.transition=null;try{We=4,sc(i,a,c,m)}finally{We=y,qs.transition=x}}function sc(i,a,c,m){if(Hs){var y=Ia(i,a,c,m);if(y===null)xp(i,a,m,xs,c),Si(i,m);else if(id(y,i,a,c,m))m.stopPropagation();else if(Si(i,m),a&4&&-1<sd.indexOf(i)){for(;y!==null;){var x=yc(y);if(x!==null&&ec(x),x=Ia(i,a,c,m),x===null&&xp(i,a,m,xs,c),x===y)break;y=x}y!==null&&m.stopPropagation()}else xp(i,a,m,null,c)}}var xs=null;function Ia(i,a,c,m){if(xs=null,i=bi(m),i=Oo(i),i!==null)if(a=zr(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Hl(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return xs=i,null}function Ca(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case _a:return 1;case Kl:return 4;case Ro:case Ql:return 16;case ba:return 536870912;default:return 16}default:return 16}}var ar=null,Ra=null,Gs=null;function ld(){if(Gs)return Gs;var i,a=Ra,c=a.length,m,y="value"in ar?ar.value:ar.textContent,x=y.length;for(i=0;i<c&&a[i]===y[i];i++);var I=c-i;for(m=1;m<=I&&a[c-m]===y[x-m];m++);return Gs=y.slice(i,1<m?1-m:void 0)}function Lo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function _s(){return!0}function ic(){return!1}function _n(i){function a(c,m,y,x,I){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_s:ic,this.isPropagationStopped=ic,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),a}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=_n(bs),Ri=ee({},bs,{view:0,detail:0}),Aa=_n(Ri),Pa,ka,lr,Vo=ee({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lr&&(lr&&i.type==="mousemove"?(Pa=i.screenX-lr.screenX,ka=i.screenY-lr.screenY):ka=Pa=0,lr=i),Pa)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),oc=_n(Vo),cd=ee({},Vo,{dataTransfer:0}),ud=_n(cd),Na=ee({},Ri,{relatedTarget:0}),cn=_n(Na),dd=ee({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),hd=_n(dd),Ai=ee({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=_n(Ai),_=ee({},bs,{data:0}),E=_n(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=X[i])?!!a[i]:!1}function Le(){return ae}var Rt=ee({},Ri,{key:function(i){if(i.key){var a=k[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?Lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ze=_n(Rt),Dt=ee({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=_n(Dt),Ks=ee({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),Es=_n(Ks),Ts=ee({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=_n(Ts),ac=ee({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=_n(ac),UR=[9,13,27,32],up=u&&"CompositionEvent"in window,lc=null;u&&"documentMode"in document&&(lc=document.documentMode);var BR=u&&"TextEvent"in window&&!lc,Uv=u&&(!up||lc&&8<lc&&11>=lc),Bv=" ",zv=!1;function $v(i,a){switch(i){case"keyup":return UR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ja=!1;function zR(i,a){switch(i){case"compositionend":return Wv(a);case"keypress":return a.which!==32?null:(zv=!0,Bv);case"textInput":return i=a.data,i===Bv&&zv?null:i;default:return null}}function $R(i,a){if(ja)return i==="compositionend"||!up&&$v(i,a)?(i=ld(),Gs=Ra=ar=null,ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Uv&&a.locale!=="ko"?null:a.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!WR[i.type]:a==="textarea"}function Hv(i,a,c,m){bt(m),a=yd(a,"onChange"),0<a.length&&(c=new Mo("onChange","change",null,c,m),i.push({event:c,listeners:a}))}var cc=null,uc=null;function qR(i){uw(i,0)}function fd(i){var a=Fa(i);if(yn(a))return i}function HR(i,a){if(i==="change")return a}var Gv=!1;if(u){var dp;if(u){var hp="oninput"in document;if(!hp){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),hp=typeof Kv.oninput=="function"}dp=hp}else dp=!1;Gv=dp&&(!document.documentMode||9<document.documentMode)}function Qv(){cc&&(cc.detachEvent("onpropertychange",Yv),uc=cc=null)}function Yv(i){if(i.propertyName==="value"&&fd(uc)){var a=[];Hv(a,uc,i,bi(i)),Br(qR,a)}}function GR(i,a,c){i==="focusin"?(Qv(),cc=a,uc=c,cc.attachEvent("onpropertychange",Yv)):i==="focusout"&&Qv()}function KR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fd(uc)}function QR(i,a){if(i==="click")return fd(a)}function YR(i,a){if(i==="input"||i==="change")return fd(a)}function XR(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wr=typeof Object.is=="function"?Object.is:XR;function dc(i,a){if(Wr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!d.call(a,y)||!Wr(i[y],a[y]))return!1}return!0}function Xv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jv(i,a){var c=Xv(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=a&&m>=a)return{node:c,offset:a-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xv(c)}}function Zv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Zv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ew(){for(var i=window,a=kn();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=kn(i.document)}return a}function fp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function JR(i){var a=ew(),c=i.focusedElem,m=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Zv(c.ownerDocument.documentElement,c)){if(m!==null&&fp(c)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,x=Math.min(m.start,y);m=m.end===void 0?x:Math.min(m.end,y),!i.extend&&x>m&&(y=m,m=x,x=y),y=Jv(c,x);var I=Jv(c,m);y&&I&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),x>m?(i.addRange(a),i.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZR=u&&"documentMode"in document&&11>=document.documentMode,La=null,pp=null,hc=null,mp=!1;function tw(i,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mp||La==null||La!==kn(m)||(m=La,"selectionStart"in m&&fp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),hc&&dc(hc,m)||(hc=m,m=yd(pp,"onSelect"),0<m.length&&(a=new Mo("onSelect","select",null,a,c),i.push({event:a,listeners:m}),a.target=La)))}function pd(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Ma={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},gp={},nw={};u&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function md(i){if(gp[i])return gp[i];if(!Ma[i])return i;var a=Ma[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in nw)return gp[i]=a[c];return i}var rw=md("animationend"),sw=md("animationiteration"),iw=md("animationstart"),ow=md("transitionend"),aw=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(i,a){aw.set(i,a),o(a,[i])}for(var yp=0;yp<lw.length;yp++){var vp=lw[yp],eA=vp.toLowerCase(),tA=vp[0].toUpperCase()+vp.slice(1);Pi(eA,"on"+tA)}Pi(rw,"onAnimationEnd"),Pi(sw,"onAnimationIteration"),Pi(iw,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ow,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function cw(i,a,c){var m=i.type||"unknown-event";i.currentTarget=c,ql(m,a,void 0,i),i.currentTarget=null}function uw(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],y=m.event;m=m.listeners;e:{var x=void 0;if(a)for(var I=m.length-1;0<=I;I--){var O=m[I],B=O.instance,Y=O.currentTarget;if(O=O.listener,B!==x&&y.isPropagationStopped())break e;cw(y,O,Y),x=B}else for(I=0;I<m.length;I++){if(O=m[I],B=O.instance,Y=O.currentTarget,O=O.listener,B!==x&&y.isPropagationStopped())break e;cw(y,O,Y),x=B}}}if(jn)throw i=Gt,jn=!1,Gt=null,i}function ct(i,a){var c=a[Ip];c===void 0&&(c=a[Ip]=new Set);var m=i+"__bubble";c.has(m)||(dw(a,i,2,!1),c.add(m))}function wp(i,a,c){var m=0;a&&(m|=4),dw(c,i,m,a)}var gd="_reactListening"+Math.random().toString(36).slice(2);function pc(i){if(!i[gd]){i[gd]=!0,r.forEach(function(c){c!=="selectionchange"&&(nA.has(c)||wp(c,!1,i),wp(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gd]||(a[gd]=!0,wp("selectionchange",!1,a))}}function dw(i,a,c,m){switch(Ca(a)){case 1:var y=ws;break;case 4:y=ad;break;default:y=sc}c=y.bind(null,a,c,i),y=void 0,!an||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function xp(i,a,c,m,y){var x=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(I===4)for(I=m.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;I=I.return}for(;O!==null;){if(I=Oo(O),I===null)return;if(B=I.tag,B===5||B===6){m=x=I;continue e}O=O.parentNode}}m=m.return}Br(function(){var Y=x,re=bi(c),ie=[];e:{var ne=aw.get(i);if(ne!==void 0){var ue=Mo,fe=i;switch(i){case"keypress":if(Lo(c)===0)break e;case"keydown":case"keyup":ue=Ze;break;case"focusin":fe="focus",ue=cn;break;case"focusout":fe="blur",ue=cn;break;case"beforeblur":case"afterblur":ue=cn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Es;break;case rw:case sw:case iw:ue=hd;break;case ow:ue=Da;break;case"scroll":ue=Aa;break;case"wheel":ue=FR;break;case"copy":case"cut":case"paste":ue=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=cr}var pe=(a&4)!==0,At=!pe&&i==="scroll",H=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var $=Y,Q;$!==null;){Q=$;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,H!==null&&(oe=at($,H),oe!=null&&pe.push(mc($,oe,Q)))),At)break;$=$.return}0<pe.length&&(ne=new ue(ne,fe,null,c,re),ie.push({event:ne,listeners:pe}))}}if((a&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ne&&c!==Or&&(fe=c.relatedTarget||c.fromElement)&&(Oo(fe)||fe[Qs]))break e;if((ue||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=Y,fe=fe?Oo(fe):null,fe!==null&&(At=zr(fe),fe!==At||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Y),ue!==fe)){if(pe=oc,oe="onMouseLeave",H="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(pe=cr,oe="onPointerLeave",H="onPointerEnter",$="pointer"),At=ue==null?ne:Fa(ue),Q=fe==null?ne:Fa(fe),ne=new pe(oe,$+"leave",ue,c,re),ne.target=At,ne.relatedTarget=Q,oe=null,Oo(re)===Y&&(pe=new pe(H,$+"enter",fe,c,re),pe.target=Q,pe.relatedTarget=At,oe=pe),At=oe,ue&&fe)t:{for(pe=ue,H=fe,$=0,Q=pe;Q;Q=Va(Q))$++;for(Q=0,oe=H;oe;oe=Va(oe))Q++;for(;0<$-Q;)pe=Va(pe),$--;for(;0<Q-$;)H=Va(H),Q--;for(;$--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=Va(pe),H=Va(H)}pe=null}else pe=null;ue!==null&&hw(ie,ne,ue,pe,!1),fe!==null&&At!==null&&hw(ie,At,fe,pe,!0)}}e:{if(ne=Y?Fa(Y):window,ue=ne.nodeName&&ne.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ne.type==="file")var me=HR;else if(qv(ne))if(Gv)me=YR;else{me=KR;var Ee=GR}else(ue=ne.nodeName)&&ue.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=QR);if(me&&(me=me(i,Y))){Hv(ie,me,c,re);break e}Ee&&Ee(i,ne,Y),i==="focusout"&&(Ee=ne._wrapperState)&&Ee.controlled&&ne.type==="number"&&ht(ne,"number",ne.value)}switch(Ee=Y?Fa(Y):window,i){case"focusin":(qv(Ee)||Ee.contentEditable==="true")&&(La=Ee,pp=Y,hc=null);break;case"focusout":hc=pp=La=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,tw(ie,c,re);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":tw(ie,c,re)}var Te;if(up)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ja?$v(i,c)&&(ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(Uv&&c.locale!=="ko"&&(ja||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ja&&(Te=ld()):(ar=re,Ra="value"in ar?ar.value:ar.textContent,ja=!0)),Ee=yd(Y,ke),0<Ee.length&&(ke=new E(ke,i,null,c,re),ie.push({event:ke,listeners:Ee}),Te?ke.data=Te:(Te=Wv(c),Te!==null&&(ke.data=Te)))),(Te=BR?zR(i,c):$R(i,c))&&(Y=yd(Y,"onBeforeInput"),0<Y.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:Y}),re.data=Te))}uw(ie,a)})}function mc(i,a,c){return{instance:i,listener:a,currentTarget:c}}function yd(i,a){for(var c=a+"Capture",m=[];i!==null;){var y=i,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=at(i,c),x!=null&&m.unshift(mc(i,x,y)),x=at(i,a),x!=null&&m.push(mc(i,x,y))),i=i.return}return m}function Va(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function hw(i,a,c,m,y){for(var x=a._reactName,I=[];c!==null&&c!==m;){var O=c,B=O.alternate,Y=O.stateNode;if(B!==null&&B===m)break;O.tag===5&&Y!==null&&(O=Y,y?(B=at(c,x),B!=null&&I.unshift(mc(c,B,O))):y||(B=at(c,x),B!=null&&I.push(mc(c,B,O)))),c=c.return}I.length!==0&&i.push({event:a,listeners:I})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function fw(i){return(typeof i=="string"?i:""+i).replace(rA,`
`).replace(sA,"")}function vd(i,a,c){if(a=fw(a),fw(i)!==a&&c)throw Error(n(425))}function wd(){}var _p=null,bp=null;function Ep(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(i){return pw.resolve(null).then(i).catch(aA)}:Tp;function aA(i){setTimeout(function(){throw i})}function Sp(i,a){var c=a,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){i.removeChild(y),Ci(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);Ci(a)}function ki(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function mw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Oa,gc="__reactProps$"+Oa,Qs="__reactContainer$"+Oa,Ip="__reactEvents$"+Oa,lA="__reactListeners$"+Oa,cA="__reactHandles$"+Oa;function Oo(i){var a=i[Ss];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Qs]||c[Ss]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=mw(i);i!==null;){if(c=i[Ss])return c;i=mw(i)}return a}i=c,c=i.parentNode}return null}function yc(i){return i=i[Ss]||i[Qs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function xd(i){return i[gc]||null}var Cp=[],Ua=-1;function Ni(i){return{current:i}}function ut(i){0>Ua||(i.current=Cp[Ua],Cp[Ua]=null,Ua--)}function ot(i,a){Ua++,Cp[Ua]=i.current,i.current=a}var Di={},bn=Ni(Di),$n=Ni(!1),Fo=Di;function Ba(i,a){var c=i.type.contextTypes;if(!c)return Di;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=a[x];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Wn(i){return i=i.childContextTypes,i!=null}function _d(){ut($n),ut(bn)}function gw(i,a,c){if(bn.current!==Di)throw Error(n(168));ot(bn,a),ot($n,c)}function yw(i,a,c){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Fe(i)||"Unknown",y));return ee({},c,m)}function bd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Di,Fo=bn.current,ot(bn,i),ot($n,$n.current),!0}function vw(i,a,c){var m=i.stateNode;if(!m)throw Error(n(169));c?(i=yw(i,a,Fo),m.__reactInternalMemoizedMergedChildContext=i,ut($n),ut(bn),ot(bn,i)):ut($n),ot($n,c)}var Ys=null,Ed=!1,Rp=!1;function ww(i){Ys===null?Ys=[i]:Ys.push(i)}function uA(i){Ed=!0,ww(i)}function ji(){if(!Rp&&Ys!==null){Rp=!0;var i=0,a=We;try{var c=Ys;for(We=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Ys=null,Ed=!1}catch(y){throw Ys!==null&&(Ys=Ys.slice(i+1)),Gl(_a,ji),y}finally{We=a,Rp=!1}}return null}var za=[],$a=0,Td=null,Sd=0,_r=[],br=0,Uo=null,Xs=1,Js="";function Bo(i,a){za[$a++]=Sd,za[$a++]=Td,Td=i,Sd=a}function xw(i,a,c){_r[br++]=Xs,_r[br++]=Js,_r[br++]=Uo,Uo=i;var m=Xs;i=Js;var y=32-ir(m)-1;m&=~(1<<y),c+=1;var x=32-ir(a)+y;if(30<x){var I=y-y%5;x=(m&(1<<I)-1).toString(32),m>>=I,y-=I,Xs=1<<32-ir(a)+y|c<<y|m,Js=x+i}else Xs=1<<x|c<<y|m,Js=i}function Ap(i){i.return!==null&&(Bo(i,1),xw(i,1,0))}function Pp(i){for(;i===Td;)Td=za[--$a],za[$a]=null,Sd=za[--$a],za[$a]=null;for(;i===Uo;)Uo=_r[--br],_r[br]=null,Js=_r[--br],_r[br]=null,Xs=_r[--br],_r[br]=null}var ur=null,dr=null,ft=!1,qr=null;function _w(i,a){var c=Ir(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function bw(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,ur=i,dr=ki(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,ur=i,dr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Uo!==null?{id:Xs,overflow:Js}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ir(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,ur=i,dr=null,!0):!1;default:return!1}}function kp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Np(i){if(ft){var a=dr;if(a){var c=a;if(!bw(i,a)){if(kp(i))throw Error(n(418));a=ki(c.nextSibling);var m=ur;a&&bw(i,a)?_w(m,c):(i.flags=i.flags&-4097|2,ft=!1,ur=i)}}else{if(kp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ft=!1,ur=i}}}function Ew(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ur=i}function Id(i){if(i!==ur)return!1;if(!ft)return Ew(i),ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Ep(i.type,i.memoizedProps)),a&&(a=dr)){if(kp(i))throw Tw(),Error(n(418));for(;a;)_w(i,a),a=ki(a.nextSibling)}if(Ew(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){dr=ki(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}dr=null}}else dr=ur?ki(i.stateNode.nextSibling):null;return!0}function Tw(){for(var i=dr;i;)i=ki(i.nextSibling)}function Wa(){dr=ur=null,ft=!1}function Dp(i){qr===null?qr=[i]:qr.push(i)}var dA=q.ReactCurrentBatchConfig;function vc(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,i));var y=m,x=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(I){var O=y.refs;I===null?delete O[x]:O[x]=I},a._stringRef=x,a)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function Cd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Sw(i){var a=i._init;return a(i._payload)}function Iw(i){function a(H,$){if(i){var Q=H.deletions;Q===null?(H.deletions=[$],H.flags|=16):Q.push($)}}function c(H,$){if(!i)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function m(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function y(H,$){return H=zi(H,$),H.index=0,H.sibling=null,H}function x(H,$,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<$?(H.flags|=2,$):Q):(H.flags|=2,$)):(H.flags|=1048576,$)}function I(H){return i&&H.alternate===null&&(H.flags|=2),H}function O(H,$,Q,oe){return $===null||$.tag!==6?($=Tm(Q,H.mode,oe),$.return=H,$):($=y($,Q),$.return=H,$)}function B(H,$,Q,oe){var me=Q.type;return me===R?re(H,$,Q.props.children,oe,Q.key):$!==null&&($.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&Sw(me)===$.type)?(oe=y($,Q.props),oe.ref=vc(H,$,Q),oe.return=H,oe):(oe=Xd(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=vc(H,$,Q),oe.return=H,oe)}function Y(H,$,Q,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Sm(Q,H.mode,oe),$.return=H,$):($=y($,Q.children||[]),$.return=H,$)}function re(H,$,Q,oe,me){return $===null||$.tag!==7?($=Qo(Q,H.mode,oe,me),$.return=H,$):($=y($,Q),$.return=H,$)}function ie(H,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Tm(""+$,H.mode,Q),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case G:return Q=Xd($.type,$.key,$.props,null,H.mode,Q),Q.ref=vc(H,null,$),Q.return=H,Q;case z:return $=Sm($,H.mode,Q),$.return=H,$;case dt:var oe=$._init;return ie(H,oe($._payload),Q)}if(Je($)||ce($))return $=Qo($,H.mode,Q,null),$.return=H,$;Cd(H,$)}return null}function ne(H,$,Q,oe){var me=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return me!==null?null:O(H,$,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return Q.key===me?B(H,$,Q,oe):null;case z:return Q.key===me?Y(H,$,Q,oe):null;case dt:return me=Q._init,ne(H,$,me(Q._payload),oe)}if(Je(Q)||ce(Q))return me!==null?null:re(H,$,Q,oe,null);Cd(H,Q)}return null}function ue(H,$,Q,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(Q)||null,O($,H,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case G:return H=H.get(oe.key===null?Q:oe.key)||null,B($,H,oe,me);case z:return H=H.get(oe.key===null?Q:oe.key)||null,Y($,H,oe,me);case dt:var Ee=oe._init;return ue(H,$,Q,Ee(oe._payload),me)}if(Je(oe)||ce(oe))return H=H.get(Q)||null,re($,H,oe,me,null);Cd($,oe)}return null}function fe(H,$,Q,oe){for(var me=null,Ee=null,Te=$,ke=$=0,Yt=null;Te!==null&&ke<Q.length;ke++){Te.index>ke?(Yt=Te,Te=null):Yt=Te.sibling;var Qe=ne(H,Te,Q[ke],oe);if(Qe===null){Te===null&&(Te=Yt);break}i&&Te&&Qe.alternate===null&&a(H,Te),$=x(Qe,$,ke),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe,Te=Yt}if(ke===Q.length)return c(H,Te),ft&&Bo(H,ke),me;if(Te===null){for(;ke<Q.length;ke++)Te=ie(H,Q[ke],oe),Te!==null&&($=x(Te,$,ke),Ee===null?me=Te:Ee.sibling=Te,Ee=Te);return ft&&Bo(H,ke),me}for(Te=m(H,Te);ke<Q.length;ke++)Yt=ue(Te,H,ke,Q[ke],oe),Yt!==null&&(i&&Yt.alternate!==null&&Te.delete(Yt.key===null?ke:Yt.key),$=x(Yt,$,ke),Ee===null?me=Yt:Ee.sibling=Yt,Ee=Yt);return i&&Te.forEach(function($i){return a(H,$i)}),ft&&Bo(H,ke),me}function pe(H,$,Q,oe){var me=ce(Q);if(typeof me!="function")throw Error(n(150));if(Q=me.call(Q),Q==null)throw Error(n(151));for(var Ee=me=null,Te=$,ke=$=0,Yt=null,Qe=Q.next();Te!==null&&!Qe.done;ke++,Qe=Q.next()){Te.index>ke?(Yt=Te,Te=null):Yt=Te.sibling;var $i=ne(H,Te,Qe.value,oe);if($i===null){Te===null&&(Te=Yt);break}i&&Te&&$i.alternate===null&&a(H,Te),$=x($i,$,ke),Ee===null?me=$i:Ee.sibling=$i,Ee=$i,Te=Yt}if(Qe.done)return c(H,Te),ft&&Bo(H,ke),me;if(Te===null){for(;!Qe.done;ke++,Qe=Q.next())Qe=ie(H,Qe.value,oe),Qe!==null&&($=x(Qe,$,ke),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe);return ft&&Bo(H,ke),me}for(Te=m(H,Te);!Qe.done;ke++,Qe=Q.next())Qe=ue(Te,H,ke,Qe.value,oe),Qe!==null&&(i&&Qe.alternate!==null&&Te.delete(Qe.key===null?ke:Qe.key),$=x(Qe,$,ke),Ee===null?me=Qe:Ee.sibling=Qe,Ee=Qe);return i&&Te.forEach(function(WA){return a(H,WA)}),ft&&Bo(H,ke),me}function At(H,$,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:e:{for(var me=Q.key,Ee=$;Ee!==null;){if(Ee.key===me){if(me=Q.type,me===R){if(Ee.tag===7){c(H,Ee.sibling),$=y(Ee,Q.props.children),$.return=H,H=$;break e}}else if(Ee.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===dt&&Sw(me)===Ee.type){c(H,Ee.sibling),$=y(Ee,Q.props),$.ref=vc(H,Ee,Q),$.return=H,H=$;break e}c(H,Ee);break}else a(H,Ee);Ee=Ee.sibling}Q.type===R?($=Qo(Q.props.children,H.mode,oe,Q.key),$.return=H,H=$):(oe=Xd(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=vc(H,$,Q),oe.return=H,H=oe)}return I(H);case z:e:{for(Ee=Q.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){c(H,$.sibling),$=y($,Q.children||[]),$.return=H,H=$;break e}else{c(H,$);break}else a(H,$);$=$.sibling}$=Sm(Q,H.mode,oe),$.return=H,H=$}return I(H);case dt:return Ee=Q._init,At(H,$,Ee(Q._payload),oe)}if(Je(Q))return fe(H,$,Q,oe);if(ce(Q))return pe(H,$,Q,oe);Cd(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(c(H,$.sibling),$=y($,Q),$.return=H,H=$):(c(H,$),$=Tm(Q,H.mode,oe),$.return=H,H=$),I(H)):c(H,$)}return At}var qa=Iw(!0),Cw=Iw(!1),Rd=Ni(null),Ad=null,Ha=null,jp=null;function Lp(){jp=Ha=Ad=null}function Mp(i){var a=Rd.current;ut(Rd),i._currentValue=a}function Vp(i,a,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===c)break;i=i.return}}function Ga(i,a){Ad=i,jp=Ha=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(qn=!0),i.firstContext=null)}function Er(i){var a=i._currentValue;if(jp!==i)if(i={context:i,memoizedValue:a,next:null},Ha===null){if(Ad===null)throw Error(n(308));Ha=i,Ad.dependencies={lanes:0,firstContext:i}}else Ha=Ha.next=i;return a}var zo=null;function Op(i){zo===null?zo=[i]:zo.push(i)}function Rw(i,a,c,m){var y=a.interleaved;return y===null?(c.next=c,Op(a)):(c.next=y.next,y.next=c),a.interleaved=c,Zs(i,m)}function Zs(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Li=!1;function Fp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ei(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Mi(i,a,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ke&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Zs(i,c)}return y=m.interleaved,y===null?(a.next=a,Op(m)):(a.next=y.next,y.next=a),m.interleaved=a,Zs(i,c)}function Pd(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,Zl(i,c)}}function Pw(i,a){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?y=x=a:x=x.next=a}else y=x=a;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function kd(i,a,c,m){var y=i.updateQueue;Li=!1;var x=y.firstBaseUpdate,I=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var B=O,Y=B.next;B.next=null,I===null?x=Y:I.next=Y,I=B;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==I&&(O===null?re.firstBaseUpdate=Y:O.next=Y,re.lastBaseUpdate=B))}if(x!==null){var ie=y.baseState;I=0,re=Y=B=null,O=x;do{var ne=O.lane,ue=O.eventTime;if((m&ne)===ne){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var fe=i,pe=O;switch(ne=a,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ue,ie,ne);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ne=typeof fe=="function"?fe.call(ue,ie,ne):fe,ne==null)break e;ie=ee({},ie,ne);break e;case 2:Li=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[O]:ne.push(O))}else ue={eventTime:ue,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(Y=re=ue,B=ie):re=re.next=ue,I|=ne;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(B=ie),y.baseState=B,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,a=y.shared.interleaved,a!==null){y=a;do I|=y.lane,y=y.next;while(y!==a)}else x===null&&(y.shared.lanes=0);qo|=I,i.lanes=I,i.memoizedState=ie}}function kw(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var wc={},Is=Ni(wc),xc=Ni(wc),_c=Ni(wc);function $o(i){if(i===wc)throw Error(n(174));return i}function Up(i,a){switch(ot(_c,a),ot(xc,i),ot(Is,wc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rr(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=rr(a,i)}ut(Is),ot(Is,a)}function Ka(){ut(Is),ut(xc),ut(_c)}function Nw(i){$o(_c.current);var a=$o(Is.current),c=rr(a,i.type);a!==c&&(ot(xc,i),ot(Is,c))}function Bp(i){xc.current===i&&(ut(Is),ut(xc))}var gt=Ni(0);function Nd(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zp=[];function $p(){for(var i=0;i<zp.length;i++)zp[i]._workInProgressVersionPrimary=null;zp.length=0}var Dd=q.ReactCurrentDispatcher,Wp=q.ReactCurrentBatchConfig,Wo=0,yt=null,Bt=null,Kt=null,jd=!1,bc=!1,Ec=0,hA=0;function En(){throw Error(n(321))}function qp(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Wr(i[c],a[c]))return!1;return!0}function Hp(i,a,c,m,y,x){if(Wo=x,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Dd.current=i===null||i.memoizedState===null?gA:yA,i=c(m,y),bc){x=0;do{if(bc=!1,Ec=0,25<=x)throw Error(n(301));x+=1,Kt=Bt=null,a.updateQueue=null,Dd.current=vA,i=c(m,y)}while(bc)}if(Dd.current=Vd,a=Bt!==null&&Bt.next!==null,Wo=0,Kt=Bt=yt=null,jd=!1,a)throw Error(n(300));return i}function Gp(){var i=Ec!==0;return Ec=0,i}function Cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?yt.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Tr(){if(Bt===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var a=Kt===null?yt.memoizedState:Kt.next;if(a!==null)Kt=a,Bt=i;else{if(i===null)throw Error(n(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Kt===null?yt.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Tc(i,a){return typeof a=="function"?a(i):a}function Kp(i){var a=Tr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=Bt,y=m.baseQueue,x=c.pending;if(x!==null){if(y!==null){var I=y.next;y.next=x.next,x.next=I}m.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,m=m.baseState;var O=I=null,B=null,Y=x;do{var re=Y.lane;if((Wo&re)===re)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:i(m,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(O=B=ie,I=m):B=B.next=ie,yt.lanes|=re,qo|=re}Y=Y.next}while(Y!==null&&Y!==x);B===null?I=m:B.next=O,Wr(m,a.memoizedState)||(qn=!0),a.memoizedState=m,a.baseState=I,a.baseQueue=B,c.lastRenderedState=m}if(i=c.interleaved,i!==null){y=i;do x=y.lane,yt.lanes|=x,qo|=x,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Qp(i){var a=Tr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,y=c.pending,x=a.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do x=i(x,I.action),I=I.next;while(I!==y);Wr(x,a.memoizedState)||(qn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,m]}function Dw(){}function jw(i,a){var c=yt,m=Tr(),y=a(),x=!Wr(m.memoizedState,y);if(x&&(m.memoizedState=y,qn=!0),m=m.queue,Yp(Vw.bind(null,c,m,i),[i]),m.getSnapshot!==a||x||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Sc(9,Mw.bind(null,c,m,y,a),void 0,null),Qt===null)throw Error(n(349));(Wo&30)!==0||Lw(c,a,y)}return y}function Lw(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Mw(i,a,c,m){a.value=c,a.getSnapshot=m,Ow(a)&&Fw(i)}function Vw(i,a,c){return c(function(){Ow(a)&&Fw(i)})}function Ow(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Wr(i,c)}catch{return!0}}function Fw(i){var a=Zs(i,1);a!==null&&Qr(a,i,1,-1)}function Uw(i){var a=Cs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:i},a.queue=i,i=i.dispatch=mA.bind(null,yt,i),[a.memoizedState,i]}function Sc(i,a,c,m){return i={tag:i,create:a,destroy:c,deps:m,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,a.lastEffect=i)),i}function Bw(){return Tr().memoizedState}function Ld(i,a,c,m){var y=Cs();yt.flags|=i,y.memoizedState=Sc(1|a,c,void 0,m===void 0?null:m)}function Md(i,a,c,m){var y=Tr();m=m===void 0?null:m;var x=void 0;if(Bt!==null){var I=Bt.memoizedState;if(x=I.destroy,m!==null&&qp(m,I.deps)){y.memoizedState=Sc(a,c,x,m);return}}yt.flags|=i,y.memoizedState=Sc(1|a,c,x,m)}function zw(i,a){return Ld(8390656,8,i,a)}function Yp(i,a){return Md(2048,8,i,a)}function $w(i,a){return Md(4,2,i,a)}function Ww(i,a){return Md(4,4,i,a)}function qw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Hw(i,a,c){return c=c!=null?c.concat([i]):null,Md(4,4,qw.bind(null,a,i),c)}function Xp(){}function Gw(i,a){var c=Tr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&qp(a,m[1])?m[0]:(c.memoizedState=[i,a],i)}function Kw(i,a){var c=Tr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&qp(a,m[1])?m[0]:(i=i(),c.memoizedState=[i,a],i)}function Qw(i,a,c){return(Wo&21)===0?(i.baseState&&(i.baseState=!1,qn=!0),i.memoizedState=c):(Wr(c,a)||(c=Xl(),yt.lanes|=c,qo|=c,i.baseState=!0),a)}function fA(i,a){var c=We;We=c!==0&&4>c?c:4,i(!0);var m=Wp.transition;Wp.transition={};try{i(!1),a()}finally{We=c,Wp.transition=m}}function Yw(){return Tr().memoizedState}function pA(i,a,c){var m=Ui(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Xw(i))Jw(a,c);else if(c=Rw(i,a,c,m),c!==null){var y=Mn();Qr(c,i,m,y),Zw(c,a,m)}}function mA(i,a,c){var m=Ui(i),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Xw(i))Jw(a,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var I=a.lastRenderedState,O=x(I,c);if(y.hasEagerState=!0,y.eagerState=O,Wr(O,I)){var B=a.interleaved;B===null?(y.next=y,Op(a)):(y.next=B.next,B.next=y),a.interleaved=y;return}}catch{}finally{}c=Rw(i,a,y,m),c!==null&&(y=Mn(),Qr(c,i,m,y),Zw(c,a,m))}}function Xw(i){var a=i.alternate;return i===yt||a!==null&&a===yt}function Jw(i,a){bc=jd=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Zw(i,a,c){if((c&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,Zl(i,c)}}var Vd={readContext:Er,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},gA={readContext:Er,useCallback:function(i,a){return Cs().memoizedState=[i,a===void 0?null:a],i},useContext:Er,useEffect:zw,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Ld(4194308,4,qw.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Ld(4194308,4,i,a)},useInsertionEffect:function(i,a){return Ld(4,2,i,a)},useMemo:function(i,a){var c=Cs();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var m=Cs();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=pA.bind(null,yt,i),[m.memoizedState,i]},useRef:function(i){var a=Cs();return i={current:i},a.memoizedState=i},useState:Uw,useDebugValue:Xp,useDeferredValue:function(i){return Cs().memoizedState=i},useTransition:function(){var i=Uw(!1),a=i[0];return i=fA.bind(null,i[1]),Cs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var m=yt,y=Cs();if(ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Qt===null)throw Error(n(349));(Wo&30)!==0||Lw(m,a,c)}y.memoizedState=c;var x={value:c,getSnapshot:a};return y.queue=x,zw(Vw.bind(null,m,x,i),[i]),m.flags|=2048,Sc(9,Mw.bind(null,m,x,c,a),void 0,null),c},useId:function(){var i=Cs(),a=Qt.identifierPrefix;if(ft){var c=Js,m=Xs;c=(m&~(1<<32-ir(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Ec++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=hA++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},yA={readContext:Er,useCallback:Gw,useContext:Er,useEffect:Yp,useImperativeHandle:Hw,useInsertionEffect:$w,useLayoutEffect:Ww,useMemo:Kw,useReducer:Kp,useRef:Bw,useState:function(){return Kp(Tc)},useDebugValue:Xp,useDeferredValue:function(i){var a=Tr();return Qw(a,Bt.memoizedState,i)},useTransition:function(){var i=Kp(Tc)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:Dw,useSyncExternalStore:jw,useId:Yw,unstable_isNewReconciler:!1},vA={readContext:Er,useCallback:Gw,useContext:Er,useEffect:Yp,useImperativeHandle:Hw,useInsertionEffect:$w,useLayoutEffect:Ww,useMemo:Kw,useReducer:Qp,useRef:Bw,useState:function(){return Qp(Tc)},useDebugValue:Xp,useDeferredValue:function(i){var a=Tr();return Bt===null?a.memoizedState=i:Qw(a,Bt.memoizedState,i)},useTransition:function(){var i=Qp(Tc)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:Dw,useSyncExternalStore:jw,useId:Yw,unstable_isNewReconciler:!1};function Hr(i,a){if(i&&i.defaultProps){a=ee({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Jp(i,a,c,m){a=i.memoizedState,c=c(m,a),c=c==null?a:ee({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Od={isMounted:function(i){return(i=i._reactInternals)?zr(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var m=Mn(),y=Ui(i),x=ei(m,y);x.payload=a,c!=null&&(x.callback=c),a=Mi(i,x,y),a!==null&&(Qr(a,i,y,m),Pd(a,i,y))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var m=Mn(),y=Ui(i),x=ei(m,y);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Mi(i,x,y),a!==null&&(Qr(a,i,y,m),Pd(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Mn(),m=Ui(i),y=ei(c,m);y.tag=2,a!=null&&(y.callback=a),a=Mi(i,y,m),a!==null&&(Qr(a,i,m,c),Pd(a,i,m))}};function ex(i,a,c,m,y,x,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,I):a.prototype&&a.prototype.isPureReactComponent?!dc(c,m)||!dc(y,x):!0}function tx(i,a,c){var m=!1,y=Di,x=a.contextType;return typeof x=="object"&&x!==null?x=Er(x):(y=Wn(a)?Fo:bn.current,m=a.contextTypes,x=(m=m!=null)?Ba(i,y):Di),a=new a(c,x),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Od,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=x),a}function nx(i,a,c,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==i&&Od.enqueueReplaceState(a,a.state,null)}function Zp(i,a,c,m){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Fp(i);var x=a.contextType;typeof x=="object"&&x!==null?y.context=Er(x):(x=Wn(a)?Fo:bn.current,y.context=Ba(i,x)),y.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Jp(i,a,x,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Od.enqueueReplaceState(y,y.state,null),kd(i,c,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Qa(i,a){try{var c="",m=a;do c+=De(m),m=m.return;while(m);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:a,stack:y,digest:null}}function em(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function tm(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var wA=typeof WeakMap=="function"?WeakMap:Map;function rx(i,a,c){c=ei(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){qd||(qd=!0,gm=m),tm(i,a)},c}function sx(i,a,c){c=ei(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;c.payload=function(){return m(y)},c.callback=function(){tm(i,a)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){tm(i,a),typeof m!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),c}function ix(i,a,c){var m=i.pingCache;if(m===null){m=i.pingCache=new wA;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(c)||(y.add(c),i=DA.bind(null,i,a,c),a.then(i,i))}function ox(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function ax(i,a,c,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ei(-1,1),a.tag=2,Mi(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var xA=q.ReactCurrentOwner,qn=!1;function Ln(i,a,c,m){a.child=i===null?Cw(a,null,c,m):qa(a,i.child,c,m)}function lx(i,a,c,m,y){c=c.render;var x=a.ref;return Ga(a,y),m=Hp(i,a,c,m,x,y),c=Gp(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(ft&&c&&Ap(a),a.flags|=1,Ln(i,a,m,y),a.child)}function cx(i,a,c,m,y){if(i===null){var x=c.type;return typeof x=="function"&&!Em(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,ux(i,a,x,m,y)):(i=Xd(c.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,(i.lanes&y)===0){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:dc,c(I,m)&&i.ref===a.ref)return ti(i,a,y)}return a.flags|=1,i=zi(x,m),i.ref=a.ref,i.return=a,a.child=i}function ux(i,a,c,m,y){if(i!==null){var x=i.memoizedProps;if(dc(x,m)&&i.ref===a.ref)if(qn=!1,a.pendingProps=m=x,(i.lanes&y)!==0)(i.flags&131072)!==0&&(qn=!0);else return a.lanes=i.lanes,ti(i,a,y)}return nm(i,a,c,m,y)}function dx(i,a,c){var m=a.pendingProps,y=m.children,x=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Xa,hr),hr|=c;else{if((c&1073741824)===0)return i=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ot(Xa,hr),hr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:c,ot(Xa,hr),hr|=m}else x!==null?(m=x.baseLanes|c,a.memoizedState=null):m=c,ot(Xa,hr),hr|=m;return Ln(i,a,y,c),a.child}function hx(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function nm(i,a,c,m,y){var x=Wn(c)?Fo:bn.current;return x=Ba(a,x),Ga(a,y),c=Hp(i,a,c,m,x,y),m=Gp(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(ft&&m&&Ap(a),a.flags|=1,Ln(i,a,c,y),a.child)}function fx(i,a,c,m,y){if(Wn(c)){var x=!0;bd(a)}else x=!1;if(Ga(a,y),a.stateNode===null)Ud(i,a),tx(a,c,m),Zp(a,c,m,y),m=!0;else if(i===null){var I=a.stateNode,O=a.memoizedProps;I.props=O;var B=I.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Er(Y):(Y=Wn(c)?Fo:bn.current,Y=Ba(a,Y));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof I.getSnapshotBeforeUpdate=="function";ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==m||B!==Y)&&nx(a,I,m,Y),Li=!1;var ne=a.memoizedState;I.state=ne,kd(a,m,I,y),B=a.memoizedState,O!==m||ne!==B||$n.current||Li?(typeof re=="function"&&(Jp(a,c,re,m),B=a.memoizedState),(O=Li||ex(a,c,O,m,ne,B,Y))?(ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=B),I.props=m,I.state=B,I.context=Y,m=O):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{I=a.stateNode,Aw(i,a),O=a.memoizedProps,Y=a.type===a.elementType?O:Hr(a.type,O),I.props=Y,ie=a.pendingProps,ne=I.context,B=c.contextType,typeof B=="object"&&B!==null?B=Er(B):(B=Wn(c)?Fo:bn.current,B=Ba(a,B));var ue=c.getDerivedStateFromProps;(re=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==ie||ne!==B)&&nx(a,I,m,B),Li=!1,ne=a.memoizedState,I.state=ne,kd(a,m,I,y);var fe=a.memoizedState;O!==ie||ne!==fe||$n.current||Li?(typeof ue=="function"&&(Jp(a,c,ue,m),fe=a.memoizedState),(Y=Li||ex(a,c,Y,m,ne,fe,B)||!1)?(re||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,fe,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,fe,B)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=fe),I.props=m,I.state=fe,I.context=B,m=Y):(typeof I.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),m=!1)}return rm(i,a,c,m,x,y)}function rm(i,a,c,m,y,x){hx(i,a);var I=(a.flags&128)!==0;if(!m&&!I)return y&&vw(a,c,!1),ti(i,a,x);m=a.stateNode,xA.current=a;var O=I&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&I?(a.child=qa(a,i.child,null,x),a.child=qa(a,null,O,x)):Ln(i,a,O,x),a.memoizedState=m.state,y&&vw(a,c,!0),a.child}function px(i){var a=i.stateNode;a.pendingContext?gw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&gw(i,a.context,!1),Up(i,a.containerInfo)}function mx(i,a,c,m,y){return Wa(),Dp(y),a.flags|=256,Ln(i,a,c,m),a.child}var sm={dehydrated:null,treeContext:null,retryLane:0};function im(i){return{baseLanes:i,cachePool:null,transitions:null}}function gx(i,a,c){var m=a.pendingProps,y=gt.current,x=!1,I=(a.flags&128)!==0,O;if((O=I)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(x=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),ot(gt,y&1),i===null)return Np(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=m.children,i=m.fallback,x?(m=a.mode,x=a.child,I={mode:"hidden",children:I},(m&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=Jd(I,m,0,null),i=Qo(i,m,c,null),x.return=a,i.return=a,x.sibling=i,a.child=x,a.child.memoizedState=im(c),a.memoizedState=sm,i):om(a,I));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return _A(i,a,I,m,O,y,c);if(x){x=m.fallback,I=a.mode,y=i.child,O=y.sibling;var B={mode:"hidden",children:m.children};return(I&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=B,a.deletions=null):(m=zi(y,B),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?x=zi(O,x):(x=Qo(x,I,c,null),x.flags|=2),x.return=a,m.return=a,m.sibling=x,a.child=m,m=x,x=a.child,I=i.child.memoizedState,I=I===null?im(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=i.childLanes&~c,a.memoizedState=sm,m}return x=i.child,i=x.sibling,m=zi(x,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=m,a.memoizedState=null,m}function om(i,a){return a=Jd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Fd(i,a,c,m){return m!==null&&Dp(m),qa(a,i.child,null,c),i=om(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function _A(i,a,c,m,y,x,I){if(c)return a.flags&256?(a.flags&=-257,m=em(Error(n(422))),Fd(i,a,I,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(x=m.fallback,y=a.mode,m=Jd({mode:"visible",children:m.children},y,0,null),x=Qo(x,y,I,null),x.flags|=2,m.return=a,x.return=a,m.sibling=x,a.child=m,(a.mode&1)!==0&&qa(a,i.child,null,I),a.child.memoizedState=im(I),a.memoizedState=sm,x);if((a.mode&1)===0)return Fd(i,a,I,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,x=Error(n(419)),m=em(x,m,void 0),Fd(i,a,I,m)}if(O=(I&i.childLanes)!==0,qn||O){if(m=Qt,m!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|I))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Zs(i,y),Qr(m,i,y,-1))}return bm(),m=em(Error(n(421))),Fd(i,a,I,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=jA.bind(null,i),y._reactRetry=a,null):(i=x.treeContext,dr=ki(y.nextSibling),ur=a,ft=!0,qr=null,i!==null&&(_r[br++]=Xs,_r[br++]=Js,_r[br++]=Uo,Xs=i.id,Js=i.overflow,Uo=a),a=om(a,m.children),a.flags|=4096,a)}function yx(i,a,c){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Vp(i.return,a,c)}function am(i,a,c,m,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=c,x.tailMode=y)}function vx(i,a,c){var m=a.pendingProps,y=m.revealOrder,x=m.tail;if(Ln(i,a,m.children,c),m=gt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yx(i,c,a);else if(i.tag===19)yx(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(ot(gt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&Nd(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),am(a,!1,y,c,x);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Nd(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}am(a,!0,c,null,x);break;case"together":am(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ud(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ti(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),qo|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=zi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=zi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function bA(i,a,c){switch(a.tag){case 3:px(a),Wa();break;case 5:Nw(a);break;case 1:Wn(a.type)&&bd(a);break;case 4:Up(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ot(Rd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ot(gt,gt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?gx(i,a,c):(ot(gt,gt.current&1),i=ti(i,a,c),i!==null?i.sibling:null);ot(gt,gt.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(i.flags&128)!==0){if(m)return vx(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(gt,gt.current),m)break;return null;case 22:case 23:return a.lanes=0,dx(i,a,c)}return ti(i,a,c)}var wx,lm,xx,_x;wx=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},lm=function(){},xx=function(i,a,c,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,$o(Is.current);var x=null;switch(c){case"input":y=vn(i,y),m=vn(i,m),x=[];break;case"select":y=ee({},y,{value:void 0}),m=ee({},m,{value:void 0}),x=[];break;case"textarea":y=ls(i,y),m=ls(i,m),x=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=wd)}Bn(c,m);var I;c=null;for(Y in y)if(!m.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var O=y[Y];for(I in O)O.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in m){var B=m[Y];if(O=y?.[Y],m.hasOwnProperty(Y)&&B!==O&&(B!=null||O!=null))if(Y==="style")if(O){for(I in O)!O.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in B)B.hasOwnProperty(I)&&O[I]!==B[I]&&(c||(c={}),c[I]=B[I])}else c||(x||(x=[]),x.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&ct("scroll",i),x||O===B||(x=[])):(x=x||[]).push(Y,B))}c&&(x=x||[]).push("style",c);var Y=x;(a.updateQueue=Y)&&(a.flags|=4)}},_x=function(i,a,c,m){c!==m&&(a.flags|=4)};function Ic(i,a){if(!ft)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Tn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=c,a}function EA(i,a,c){var m=a.pendingProps;switch(Pp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(a),null;case 1:return Wn(a.type)&&_d(),Tn(a),null;case 3:return m=a.stateNode,Ka(),ut($n),ut(bn),$p(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Id(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qr!==null&&(wm(qr),qr=null))),lm(i,a),Tn(a),null;case 5:Bp(a);var y=$o(_c.current);if(c=a.type,i!==null&&a.stateNode!=null)xx(i,a,c,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Tn(a),null}if(i=$o(Is.current),Id(a)){m=a.stateNode,c=a.type;var x=a.memoizedProps;switch(m[Ss]=a,m[gc]=x,i=(a.mode&1)!==0,c){case"dialog":ct("cancel",m),ct("close",m);break;case"iframe":case"object":case"embed":ct("load",m);break;case"video":case"audio":for(y=0;y<fc.length;y++)ct(fc[y],m);break;case"source":ct("error",m);break;case"img":case"image":case"link":ct("error",m),ct("load",m);break;case"details":ct("toggle",m);break;case"input":Vr(m,x),ct("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},ct("invalid",m);break;case"textarea":wi(m,x),ct("invalid",m)}Bn(c,x),y=null;for(var I in x)if(x.hasOwnProperty(I)){var O=x[I];I==="children"?typeof O=="string"?m.textContent!==O&&(x.suppressHydrationWarning!==!0&&vd(m.textContent,O,i),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&vd(m.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&ct("scroll",m)}switch(c){case"input":qt(m),vi(m,x,!0);break;case"textarea":qt(m),cs(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=wd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=To(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=I.createElement(c,{is:m.is}):(i=I.createElement(c),c==="select"&&(I=i,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):i=I.createElementNS(i,c),i[Ss]=a,i[gc]=m,wx(i,a,!1,!1),a.stateNode=i;e:{switch(I=_i(c,m),c){case"dialog":ct("cancel",i),ct("close",i),y=m;break;case"iframe":case"object":case"embed":ct("load",i),y=m;break;case"video":case"audio":for(y=0;y<fc.length;y++)ct(fc[y],i);y=m;break;case"source":ct("error",i),y=m;break;case"img":case"image":case"link":ct("error",i),ct("load",i),y=m;break;case"details":ct("toggle",i),y=m;break;case"input":Vr(i,m),y=vn(i,m),ct("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=ee({},m,{value:void 0}),ct("invalid",i);break;case"textarea":wi(i,m),y=ls(i,m),ct("invalid",i);break;default:y=m}Bn(c,y),O=y;for(x in O)if(O.hasOwnProperty(x)){var B=O[x];x==="style"?xi(i,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&us(i,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&ds(i,B):typeof B=="number"&&ds(i,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?B!=null&&x==="onScroll"&&ct("scroll",i):B!=null&&F(i,x,B,I))}switch(c){case"input":qt(i),vi(i,m,!1);break;case"textarea":qt(i),cs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+je(m.value));break;case"select":i.multiple=!!m.multiple,x=m.value,x!=null?wn(i,!!m.multiple,x,!1):m.defaultValue!=null&&wn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=wd)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Tn(a),null;case 6:if(i&&a.stateNode!=null)_x(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=$o(_c.current),$o(Is.current),Id(a)){if(m=a.stateNode,c=a.memoizedProps,m[Ss]=a,(x=m.nodeValue!==c)&&(i=ur,i!==null))switch(i.tag){case 3:vd(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vd(m.nodeValue,c,(i.mode&1)!==0)}x&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Ss]=a,a.stateNode=m}return Tn(a),null;case 13:if(ut(gt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&dr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Tw(),Wa(),a.flags|=98560,x=!1;else if(x=Id(a),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ss]=a}else Wa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tn(a),x=!1}else qr!==null&&(wm(qr),qr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(gt.current&1)!==0?zt===0&&(zt=3):bm())),a.updateQueue!==null&&(a.flags|=4),Tn(a),null);case 4:return Ka(),lm(i,a),i===null&&pc(a.stateNode.containerInfo),Tn(a),null;case 10:return Mp(a.type._context),Tn(a),null;case 17:return Wn(a.type)&&_d(),Tn(a),null;case 19:if(ut(gt),x=a.memoizedState,x===null)return Tn(a),null;if(m=(a.flags&128)!==0,I=x.rendering,I===null)if(m)Ic(x,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(I=Nd(i),I!==null){for(a.flags|=128,Ic(x,!1),m=I.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)x=c,i=m,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,i=I.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return ot(gt,gt.current&1|2),a.child}i=i.sibling}x.tail!==null&&lt()>Ja&&(a.flags|=128,m=!0,Ic(x,!1),a.lanes=4194304)}else{if(!m)if(i=Nd(I),i!==null){if(a.flags|=128,m=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Ic(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!ft)return Tn(a),null}else 2*lt()-x.renderingStartTime>Ja&&c!==1073741824&&(a.flags|=128,m=!0,Ic(x,!1),a.lanes=4194304);x.isBackwards?(I.sibling=a.child,a.child=I):(c=x.last,c!==null?c.sibling=I:a.child=I,x.last=I)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=lt(),a.sibling=null,c=gt.current,ot(gt,m?c&1|2:c&1),a):(Tn(a),null);case 22:case 23:return _m(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(hr&1073741824)!==0&&(Tn(a),a.subtreeFlags&6&&(a.flags|=8192)):Tn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function TA(i,a){switch(Pp(a),a.tag){case 1:return Wn(a.type)&&_d(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ka(),ut($n),ut(bn),$p(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Bp(a),null;case 13:if(ut(gt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Wa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ut(gt),null;case 4:return Ka(),null;case 10:return Mp(a.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var Bd=!1,Sn=!1,SA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ya(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){Et(i,a,m)}else c.current=null}function cm(i,a,c){try{c()}catch(m){Et(i,a,m)}}var bx=!1;function IA(i,a){if(_p=Hs,i=ew(),fp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,O=-1,B=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var ue;ie!==c||y!==0&&ie.nodeType!==3||(O=I+y),ie!==x||m!==0&&ie.nodeType!==3||(B=I+m),ie.nodeType===3&&(I+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ne=ie,ie=ue;for(;;){if(ie===i)break t;if(ne===c&&++Y===y&&(O=I),ne===x&&++re===m&&(B=I),(ue=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ue}c=O===-1||B===-1?null:{start:O,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(bp={focusedElem:i,selectionRange:c},Hs=!1,he=a;he!==null;)if(a=he,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,he=i;else for(;he!==null;){a=he;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,At=fe.memoizedState,H=a.stateNode,$=H.getSnapshotBeforeUpdate(a.elementType===a.type?pe:Hr(a.type,pe),At);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){Et(a,a.return,oe)}if(i=a.sibling,i!==null){i.return=a.return,he=i;break}he=a.return}return fe=bx,bx=!1,fe}function Cc(i,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var x=y.destroy;y.destroy=void 0,x!==void 0&&cm(a,c,x)}y=y.next}while(y!==m)}}function zd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function um(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function Ex(i){var a=i.alternate;a!==null&&(i.alternate=null,Ex(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ss],delete a[gc],delete a[Ip],delete a[lA],delete a[cA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tx(i){return i.tag===5||i.tag===3||i.tag===4}function Sx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=wd));else if(m!==4&&(i=i.child,i!==null))for(dm(i,a,c),i=i.sibling;i!==null;)dm(i,a,c),i=i.sibling}function hm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(hm(i,a,c),i=i.sibling;i!==null;)hm(i,a,c),i=i.sibling}var un=null,Gr=!1;function Vi(i,a,c){for(c=c.child;c!==null;)Ix(i,a,c),c=c.sibling}function Ix(i,a,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Ao,c)}catch{}switch(c.tag){case 5:Sn||Ya(c,a);case 6:var m=un,y=Gr;un=null,Vi(i,a,c),un=m,Gr=y,un!==null&&(Gr?(i=un,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):un.removeChild(c.stateNode));break;case 18:un!==null&&(Gr?(i=un,c=c.stateNode,i.nodeType===8?Sp(i.parentNode,c):i.nodeType===1&&Sp(i,c),Ci(i)):Sp(un,c.stateNode));break;case 4:m=un,y=Gr,un=c.stateNode.containerInfo,Gr=!0,Vi(i,a,c),un=m,Gr=y;break;case 0:case 11:case 14:case 15:if(!Sn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var x=y,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&cm(c,a,I),y=y.next}while(y!==m)}Vi(i,a,c);break;case 1:if(!Sn&&(Ya(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(O){Et(c,a,O)}Vi(i,a,c);break;case 21:Vi(i,a,c);break;case 22:c.mode&1?(Sn=(m=Sn)||c.memoizedState!==null,Vi(i,a,c),Sn=m):Vi(i,a,c);break;default:Vi(i,a,c)}}function Cx(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new SA),a.forEach(function(m){var y=LA.bind(null,i,m);c.has(m)||(c.add(m),m.then(y,y))})}}function Kr(i,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var x=i,I=a,O=I;e:for(;O!==null;){switch(O.tag){case 5:un=O.stateNode,Gr=!1;break e;case 3:un=O.stateNode.containerInfo,Gr=!0;break e;case 4:un=O.stateNode.containerInfo,Gr=!0;break e}O=O.return}if(un===null)throw Error(n(160));Ix(x,I,y),un=null,Gr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Y){Et(y,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Rx(a,i),a=a.sibling}function Rx(i,a){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(a,i),Rs(i),m&4){try{Cc(3,i,i.return),zd(3,i)}catch(pe){Et(i,i.return,pe)}try{Cc(5,i,i.return)}catch(pe){Et(i,i.return,pe)}}break;case 1:Kr(a,i),Rs(i),m&512&&c!==null&&Ya(c,c.return);break;case 5:if(Kr(a,i),Rs(i),m&512&&c!==null&&Ya(c,c.return),i.flags&32){var y=i.stateNode;try{ds(y,"")}catch(pe){Et(i,i.return,pe)}}if(m&4&&(y=i.stateNode,y!=null)){var x=i.memoizedProps,I=c!==null?c.memoizedProps:x,O=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&nr(y,x),_i(O,I);var Y=_i(O,x);for(I=0;I<B.length;I+=2){var re=B[I],ie=B[I+1];re==="style"?xi(y,ie):re==="dangerouslySetInnerHTML"?us(y,ie):re==="children"?ds(y,ie):F(y,re,ie,Y)}switch(O){case"input":as(y,x);break;case"textarea":Eo(y,x);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?wn(y,!!x.multiple,ue,!1):ne!==!!x.multiple&&(x.defaultValue!=null?wn(y,!!x.multiple,x.defaultValue,!0):wn(y,!!x.multiple,x.multiple?[]:"",!1))}y[gc]=x}catch(pe){Et(i,i.return,pe)}}break;case 6:if(Kr(a,i),Rs(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,x=i.memoizedProps;try{y.nodeValue=x}catch(pe){Et(i,i.return,pe)}}break;case 3:if(Kr(a,i),Rs(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ci(a.containerInfo)}catch(pe){Et(i,i.return,pe)}break;case 4:Kr(a,i),Rs(i);break;case 13:Kr(a,i),Rs(i),y=i.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(mm=lt())),m&4&&Cx(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(Sn=(Y=Sn)||re,Kr(a,i),Sn=Y):Kr(a,i),Rs(i),m&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ne=he,ue=ne.child,ne.tag){case 0:case 11:case 14:case 15:Cc(4,ne,ne.return);break;case 1:Ya(ne,ne.return);var fe=ne.stateNode;if(typeof fe.componentWillUnmount=="function"){m=ne,c=ne.return;try{a=m,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(pe){Et(m,c,pe)}}break;case 5:Ya(ne,ne.return);break;case 22:if(ne.memoizedState!==null){kx(ie);continue}}ue!==null?(ue.return=ne,he=ue):kx(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=ie.stateNode,B=ie.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=hs("display",I))}catch(pe){Et(i,i.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(pe){Et(i,i.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Kr(a,i),Rs(i),m&4&&Cx(i);break;case 21:break;default:Kr(a,i),Rs(i)}}function Rs(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Tx(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ds(y,""),m.flags&=-33);var x=Sx(i);hm(i,x,y);break;case 3:case 4:var I=m.stateNode.containerInfo,O=Sx(i);dm(i,O,I);break;default:throw Error(n(161))}}catch(B){Et(i,i.return,B)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function CA(i,a,c){he=i,Ax(i)}function Ax(i,a,c){for(var m=(i.mode&1)!==0;he!==null;){var y=he,x=y.child;if(y.tag===22&&m){var I=y.memoizedState!==null||Bd;if(!I){var O=y.alternate,B=O!==null&&O.memoizedState!==null||Sn;O=Bd;var Y=Sn;if(Bd=I,(Sn=B)&&!Y)for(he=y;he!==null;)I=he,B=I.child,I.tag===22&&I.memoizedState!==null?Nx(y):B!==null?(B.return=I,he=B):Nx(y);for(;x!==null;)he=x,Ax(x),x=x.sibling;he=y,Bd=O,Sn=Y}Px(i)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,he=x):Px(i)}}function Px(i){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Sn||zd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Sn)if(c===null)m.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Hr(a.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&kw(a,x,m);break;case 3:var I=a.updateQueue;if(I!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}kw(a,I,c)}break;case 5:var O=a.stateNode;if(c===null&&a.flags&4){c=O;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Ci(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||a.flags&512&&um(a)}catch(ne){Et(a,a.return,ne)}}if(a===i){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function kx(i){for(;he!==null;){var a=he;if(a===i){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function Nx(i){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{zd(4,a)}catch(B){Et(a,c,B)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(B){Et(a,y,B)}}var x=a.return;try{um(a)}catch(B){Et(a,x,B)}break;case 5:var I=a.return;try{um(a)}catch(B){Et(a,I,B)}}}catch(B){Et(a,a.return,B)}if(a===i){he=null;break}var O=a.sibling;if(O!==null){O.return=a.return,he=O;break}he=a.return}}var RA=Math.ceil,$d=q.ReactCurrentDispatcher,fm=q.ReactCurrentOwner,Sr=q.ReactCurrentBatchConfig,Ke=0,Qt=null,jt=null,dn=0,hr=0,Xa=Ni(0),zt=0,Rc=null,qo=0,Wd=0,pm=0,Ac=null,Hn=null,mm=0,Ja=1/0,ni=null,qd=!1,gm=null,Oi=null,Hd=!1,Fi=null,Gd=0,Pc=0,ym=null,Kd=-1,Qd=0;function Mn(){return(Ke&6)!==0?lt():Kd!==-1?Kd:Kd=lt()}function Ui(i){return(i.mode&1)===0?1:(Ke&2)!==0&&dn!==0?dn&-dn:dA.transition!==null?(Qd===0&&(Qd=Xl()),Qd):(i=We,i!==0||(i=window.event,i=i===void 0?16:Ca(i.type)),i)}function Qr(i,a,c,m){if(50<Pc)throw Pc=0,ym=null,Error(n(185));Do(i,c,m),((Ke&2)===0||i!==Qt)&&(i===Qt&&((Ke&2)===0&&(Wd|=c),zt===4&&Bi(i,dn)),Gn(i,m),c===1&&Ke===0&&(a.mode&1)===0&&(Ja=lt()+500,Ed&&ji()))}function Gn(i,a){var c=i.callbackNode;No(i,a);var m=$s(i,i===Qt?dn:0);if(m===0)c!==null&&xa(c),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(c!=null&&xa(c),a===1)i.tag===0?uA(jx.bind(null,i)):ww(jx.bind(null,i)),oA(function(){(Ke&6)===0&&ji()}),c=null;else{switch(ms(m)){case 1:c=_a;break;case 4:c=Kl;break;case 16:c=Ro;break;case 536870912:c=ba;break;default:c=Ro}c=zx(c,Dx.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Dx(i,a){if(Kd=-1,Qd=0,(Ke&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Za()&&i.callbackNode!==c)return null;var m=$s(i,i===Qt?dn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Yd(i,m);else{a=m;var y=Ke;Ke|=2;var x=Mx();(Qt!==i||dn!==a)&&(ni=null,Ja=lt()+500,Go(i,a));do try{kA();break}catch(O){Lx(i,O)}while(!0);Lp(),$d.current=x,Ke=y,jt!==null?a=0:(Qt=null,dn=0,a=zt)}if(a!==0){if(a===2&&(y=Yl(i),y!==0&&(m=y,a=vm(i,y))),a===1)throw c=Rc,Go(i,0),Bi(i,m),Gn(i,lt()),c;if(a===6)Bi(i,m);else{if(y=i.current.alternate,(m&30)===0&&!AA(y)&&(a=Yd(i,m),a===2&&(x=Yl(i),x!==0&&(m=x,a=vm(i,x))),a===1))throw c=Rc,Go(i,0),Bi(i,m),Gn(i,lt()),c;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Ko(i,Hn,ni);break;case 3:if(Bi(i,m),(m&130023424)===m&&(a=mm+500-lt(),10<a)){if($s(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Mn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Tp(Ko.bind(null,i,Hn,ni),a);break}Ko(i,Hn,ni);break;case 4:if(Bi(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var I=31-ir(m);x=1<<I,I=a[I],I>y&&(y=I),m&=~x}if(m=y,m=lt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*RA(m/1960))-m,10<m){i.timeoutHandle=Tp(Ko.bind(null,i,Hn,ni),m);break}Ko(i,Hn,ni);break;case 5:Ko(i,Hn,ni);break;default:throw Error(n(329))}}}return Gn(i,lt()),i.callbackNode===c?Dx.bind(null,i):null}function vm(i,a){var c=Ac;return i.current.memoizedState.isDehydrated&&(Go(i,a).flags|=256),i=Yd(i,a),i!==2&&(a=Hn,Hn=c,a!==null&&wm(a)),i}function wm(i){Hn===null?Hn=i:Hn.push.apply(Hn,i)}function AA(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],x=y.getSnapshot;y=y.value;try{if(!Wr(x(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(i,a){for(a&=~pm,a&=~Wd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-ir(a),m=1<<c;i[c]=-1,a&=~m}}function jx(i){if((Ke&6)!==0)throw Error(n(327));Za();var a=$s(i,0);if((a&1)===0)return Gn(i,lt()),null;var c=Yd(i,a);if(i.tag!==0&&c===2){var m=Yl(i);m!==0&&(a=m,c=vm(i,m))}if(c===1)throw c=Rc,Go(i,0),Bi(i,a),Gn(i,lt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ko(i,Hn,ni),Gn(i,lt()),null}function xm(i,a){var c=Ke;Ke|=1;try{return i(a)}finally{Ke=c,Ke===0&&(Ja=lt()+500,Ed&&ji())}}function Ho(i){Fi!==null&&Fi.tag===0&&(Ke&6)===0&&Za();var a=Ke;Ke|=1;var c=Sr.transition,m=We;try{if(Sr.transition=null,We=1,i)return i()}finally{We=m,Sr.transition=c,Ke=a,(Ke&6)===0&&ji()}}function _m(){hr=Xa.current,ut(Xa)}function Go(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,iA(c)),jt!==null)for(c=jt.return;c!==null;){var m=c;switch(Pp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&_d();break;case 3:Ka(),ut($n),ut(bn),$p();break;case 5:Bp(m);break;case 4:Ka();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:Mp(m.type._context);break;case 22:case 23:_m()}c=c.return}if(Qt=i,jt=i=zi(i.current,null),dn=hr=a,zt=0,Rc=null,pm=Wd=qo=0,Hn=Ac=null,zo!==null){for(a=0;a<zo.length;a++)if(c=zo[a],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,x=c.pending;if(x!==null){var I=x.next;x.next=y,m.next=I}c.pending=m}zo=null}return i}function Lx(i,a){do{var c=jt;try{if(Lp(),Dd.current=Vd,jd){for(var m=yt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}jd=!1}if(Wo=0,Kt=Bt=yt=null,bc=!1,Ec=0,fm.current=null,c===null||c.return===null){zt=1,Rc=a,jt=null;break}e:{var x=i,I=c.return,O=c,B=a;if(a=dn,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=ox(I);if(ue!==null){ue.flags&=-257,ax(ue,I,O,x,a),ue.mode&1&&ix(x,Y,a),a=ue,B=Y;var fe=a.updateQueue;if(fe===null){var pe=new Set;pe.add(B),a.updateQueue=pe}else fe.add(B);break e}else{if((a&1)===0){ix(x,Y,a),bm();break e}B=Error(n(426))}}else if(ft&&O.mode&1){var At=ox(I);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),ax(At,I,O,x,a),Dp(Qa(B,O));break e}}x=B=Qa(B,O),zt!==4&&(zt=2),Ac===null?Ac=[x]:Ac.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var H=rx(x,B,a);Pw(x,H);break e;case 1:O=B;var $=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Oi===null||!Oi.has(Q)))){x.flags|=65536,a&=-a,x.lanes|=a;var oe=sx(x,O,a);Pw(x,oe);break e}}x=x.return}while(x!==null)}Ox(c)}catch(me){a=me,jt===c&&c!==null&&(jt=c=c.return);continue}break}while(!0)}function Mx(){var i=$d.current;return $d.current=Vd,i===null?Vd:i}function bm(){(zt===0||zt===3||zt===2)&&(zt=4),Qt===null||(qo&268435455)===0&&(Wd&268435455)===0||Bi(Qt,dn)}function Yd(i,a){var c=Ke;Ke|=2;var m=Mx();(Qt!==i||dn!==a)&&(ni=null,Go(i,a));do try{PA();break}catch(y){Lx(i,y)}while(!0);if(Lp(),Ke=c,$d.current=m,jt!==null)throw Error(n(261));return Qt=null,dn=0,zt}function PA(){for(;jt!==null;)Vx(jt)}function kA(){for(;jt!==null&&!Co();)Vx(jt)}function Vx(i){var a=Bx(i.alternate,i,hr);i.memoizedProps=i.pendingProps,a===null?Ox(i):jt=a,fm.current=null}function Ox(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=EA(c,a,hr),c!==null){jt=c;return}}else{if(c=TA(c,a),c!==null){c.flags&=32767,jt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zt=6,jt=null;return}}if(a=a.sibling,a!==null){jt=a;return}jt=a=i}while(a!==null);zt===0&&(zt=5)}function Ko(i,a,c){var m=We,y=Sr.transition;try{Sr.transition=null,We=1,NA(i,a,c,m)}finally{Sr.transition=y,We=m}return null}function NA(i,a,c,m){do Za();while(Fi!==null);if((Ke&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=c.lanes|c.childLanes;if(lp(i,x),i===Qt&&(jt=Qt=null,dn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Hd||(Hd=!0,zx(Ro,function(){return Za(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Sr.transition,Sr.transition=null;var I=We;We=1;var O=Ke;Ke|=4,fm.current=null,IA(i,c),Rx(c,i),JR(bp),Hs=!!_p,bp=_p=null,i.current=c,CA(c),zs(),Ke=O,We=I,Sr.transition=x}else i.current=c;if(Hd&&(Hd=!1,Fi=i,Gd=y),x=i.pendingLanes,x===0&&(Oi=null),rd(c.stateNode),Gn(i,lt()),a!==null)for(m=i.onRecoverableError,c=0;c<a.length;c++)y=a[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(qd)throw qd=!1,i=gm,gm=null,i;return(Gd&1)!==0&&i.tag!==0&&Za(),x=i.pendingLanes,(x&1)!==0?i===ym?Pc++:(Pc=0,ym=i):Pc=0,ji(),null}function Za(){if(Fi!==null){var i=ms(Gd),a=Sr.transition,c=We;try{if(Sr.transition=null,We=16>i?16:i,Fi===null)var m=!1;else{if(i=Fi,Fi=null,Gd=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,he=i.current;he!==null;){var x=he,I=x.child;if((he.flags&16)!==0){var O=x.deletions;if(O!==null){for(var B=0;B<O.length;B++){var Y=O[B];for(he=Y;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:Cc(8,re,x)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ne=re.sibling,ue=re.return;if(Ex(re),re===Y){he=null;break}if(ne!==null){ne.return=ue,he=ne;break}he=ue}}}var fe=x.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var At=pe.sibling;pe.sibling=null,pe=At}while(pe!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,he=I;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Cc(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,he=H;break e}he=x.return}}var $=i.current;for(he=$;he!==null;){I=he;var Q=I.child;if((I.subtreeFlags&2064)!==0&&Q!==null)Q.return=I,he=Q;else e:for(I=$;he!==null;){if(O=he,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:zd(9,O)}}catch(me){Et(O,O.return,me)}if(O===I){he=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,he=oe;break e}he=O.return}}if(Ke=y,ji(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Ao,i)}catch{}m=!0}return m}finally{We=c,Sr.transition=a}}return!1}function Fx(i,a,c){a=Qa(c,a),a=rx(i,a,1),i=Mi(i,a,1),a=Mn(),i!==null&&(Do(i,1,a),Gn(i,a))}function Et(i,a,c){if(i.tag===3)Fx(i,i,c);else for(;a!==null;){if(a.tag===3){Fx(a,i,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oi===null||!Oi.has(m))){i=Qa(c,i),i=sx(a,i,1),a=Mi(a,i,1),i=Mn(),a!==null&&(Do(a,1,i),Gn(a,i));break}}a=a.return}}function DA(i,a,c){var m=i.pingCache;m!==null&&m.delete(a),a=Mn(),i.pingedLanes|=i.suspendedLanes&c,Qt===i&&(dn&c)===c&&(zt===4||zt===3&&(dn&130023424)===dn&&500>lt()-mm?Go(i,0):pm|=c),Gn(i,a)}function Ux(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var c=Mn();i=Zs(i,a),i!==null&&(Do(i,a,c),Gn(i,c))}function jA(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Ux(i,c)}function LA(i,a){var c=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Ux(i,c)}var Bx;Bx=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||$n.current)qn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return qn=!1,bA(i,a,c);qn=(i.flags&131072)!==0}else qn=!1,ft&&(a.flags&1048576)!==0&&xw(a,Sd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Ud(i,a),i=a.pendingProps;var y=Ba(a,bn.current);Ga(a,c),y=Hp(null,a,m,i,y,c);var x=Gp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Wn(m)?(x=!0,bd(a)):x=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Fp(a),y.updater=Od,a.stateNode=y,y._reactInternals=a,Zp(a,m,i,c),a=rm(null,a,m,!0,x,c)):(a.tag=0,ft&&x&&Ap(a),Ln(null,a,y,c),a=a.child),a;case 16:m=a.elementType;e:{switch(Ud(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=VA(m),i=Hr(m,i),y){case 0:a=nm(null,a,m,i,c);break e;case 1:a=fx(null,a,m,i,c);break e;case 11:a=lx(null,a,m,i,c);break e;case 14:a=cx(null,a,m,Hr(m.type,i),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),nm(i,a,m,y,c);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),fx(i,a,m,y,c);case 3:e:{if(px(a),i===null)throw Error(n(387));m=a.pendingProps,x=a.memoizedState,y=x.element,Aw(i,a),kd(a,m,null,c);var I=a.memoizedState;if(m=I.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){y=Qa(Error(n(423)),a),a=mx(i,a,m,c,y);break e}else if(m!==y){y=Qa(Error(n(424)),a),a=mx(i,a,m,c,y);break e}else for(dr=ki(a.stateNode.containerInfo.firstChild),ur=a,ft=!0,qr=null,c=Cw(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wa(),m===y){a=ti(i,a,c);break e}Ln(i,a,m,c)}a=a.child}return a;case 5:return Nw(a),i===null&&Np(a),m=a.type,y=a.pendingProps,x=i!==null?i.memoizedProps:null,I=y.children,Ep(m,y)?I=null:x!==null&&Ep(m,x)&&(a.flags|=32),hx(i,a),Ln(i,a,I,c),a.child;case 6:return i===null&&Np(a),null;case 13:return gx(i,a,c);case 4:return Up(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=qa(a,null,m,c):Ln(i,a,m,c),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),lx(i,a,m,y,c);case 7:return Ln(i,a,a.pendingProps,c),a.child;case 8:return Ln(i,a,a.pendingProps.children,c),a.child;case 12:return Ln(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,x=a.memoizedProps,I=y.value,ot(Rd,m._currentValue),m._currentValue=I,x!==null)if(Wr(x.value,I)){if(x.children===y.children&&!$n.current){a=ti(i,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var O=x.dependencies;if(O!==null){I=x.child;for(var B=O.firstContext;B!==null;){if(B.context===m){if(x.tag===1){B=ei(-1,c&-c),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?B.next=B:(B.next=re.next,re.next=B),Y.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),Vp(x.return,c,a),O.lanes|=c;break}B=B.next}}else if(x.tag===10)I=x.type===a.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(n(341));I.lanes|=c,O=I.alternate,O!==null&&(O.lanes|=c),Vp(I,c,a),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===a){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}Ln(i,a,y.children,c),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ga(a,c),y=Er(y),m=m(y),a.flags|=1,Ln(i,a,m,c),a.child;case 14:return m=a.type,y=Hr(m,a.pendingProps),y=Hr(m.type,y),cx(i,a,m,y,c);case 15:return ux(i,a,a.type,a.pendingProps,c);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),Ud(i,a),a.tag=1,Wn(m)?(i=!0,bd(a)):i=!1,Ga(a,c),tx(a,m,y),Zp(a,m,y,c),rm(null,a,m,!0,i,c);case 19:return vx(i,a,c);case 22:return dx(i,a,c)}throw Error(n(156,a.tag))};function zx(i,a){return Gl(i,a)}function MA(i,a,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,c,m){return new MA(i,a,c,m)}function Em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VA(i){if(typeof i=="function")return Em(i)?1:0;if(i!=null){if(i=i.$$typeof,i===W)return 11;if(i===Xe)return 14}return 2}function zi(i,a){var c=i.alternate;return c===null?(c=Ir(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Xd(i,a,c,m,y,x){var I=2;if(m=i,typeof i=="function")Em(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case R:return Qo(c.children,y,x,a);case A:I=8,y|=8;break;case N:return i=Ir(12,c,a,y|2),i.elementType=N,i.lanes=x,i;case M:return i=Ir(13,c,a,y),i.elementType=M,i.lanes=x,i;case Ne:return i=Ir(19,c,a,y),i.elementType=Ne,i.lanes=x,i;case ge:return Jd(c,y,x,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case V:I=9;break e;case W:I=11;break e;case Xe:I=14;break e;case dt:I=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Ir(I,c,a,y),a.elementType=i,a.type=m,a.lanes=x,a}function Qo(i,a,c,m){return i=Ir(7,i,m,a),i.lanes=c,i}function Jd(i,a,c,m){return i=Ir(22,i,m,a),i.elementType=ge,i.lanes=c,i.stateNode={isHidden:!1},i}function Tm(i,a,c){return i=Ir(6,i,null,a),i.lanes=c,i}function Sm(i,a,c){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function OA(i,a,c,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Im(i,a,c,m,y,x,I,O,B){return i=new OA(i,a,c,O,B),a===1?(a=1,x===!0&&(a|=8)):a=0,x=Ir(3,null,null,a),i.current=x,x.stateNode=i,x.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(x),i}function FA(i,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:i,containerInfo:a,implementation:c}}function $x(i){if(!i)return Di;i=i._reactInternals;e:{if(zr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Wn(c))return yw(i,c,a)}return a}function Wx(i,a,c,m,y,x,I,O,B){return i=Im(c,m,!0,i,y,x,I,O,B),i.context=$x(null),c=i.current,m=Mn(),y=Ui(c),x=ei(m,y),x.callback=a??null,Mi(c,x,y),i.current.lanes=y,Do(i,y,m),Gn(i,m),i}function Zd(i,a,c,m){var y=a.current,x=Mn(),I=Ui(y);return c=$x(c),a.context===null?a.context=c:a.pendingContext=c,a=ei(x,I),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Mi(y,a,I),i!==null&&(Qr(i,y,I,x),Pd(i,y,I)),I}function eh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function qx(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Cm(i,a){qx(i,a),(i=i.alternate)&&qx(i,a)}function UA(){return null}var Hx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rm(i){this._internalRoot=i}th.prototype.render=Rm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Zd(i,a,null,null)},th.prototype.unmount=Rm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ho(function(){Zd(null,i,null,null)}),a[Qs]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var a=nc();i={blockedOn:null,target:i,priority:a};for(var c=0;c<or.length&&a!==0&&a<or[c].priority;c++);or.splice(c,0,i),c===0&&Sa(i)}};function Am(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gx(){}function BA(i,a,c,m,y){if(y){if(typeof m=="function"){var x=m;m=function(){var Y=eh(I);x.call(Y)}}var I=Wx(a,m,i,0,null,!1,!1,"",Gx);return i._reactRootContainer=I,i[Qs]=I.current,pc(i.nodeType===8?i.parentNode:i),Ho(),I}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var Y=eh(B);O.call(Y)}}var B=Im(i,0,!1,null,null,!1,!1,"",Gx);return i._reactRootContainer=B,i[Qs]=B.current,pc(i.nodeType===8?i.parentNode:i),Ho(function(){Zd(a,B,c,m)}),B}function rh(i,a,c,m,y){var x=c._reactRootContainer;if(x){var I=x;if(typeof y=="function"){var O=y;y=function(){var B=eh(I);O.call(B)}}Zd(a,I,i,y)}else I=BA(c,a,i,y,m);return eh(I)}ec=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ye(a.pendingLanes);c!==0&&(Zl(a,c|1),Gn(a,lt()),(Ke&6)===0&&(Ja=lt()+500,ji()))}break;case 13:Ho(function(){var m=Zs(i,1);if(m!==null){var y=Mn();Qr(m,i,1,y)}}),Cm(i,1)}},Ea=function(i){if(i.tag===13){var a=Zs(i,134217728);if(a!==null){var c=Mn();Qr(a,i,134217728,c)}Cm(i,134217728)}},tc=function(i){if(i.tag===13){var a=Ui(i),c=Zs(i,a);if(c!==null){var m=Mn();Qr(c,i,a,m)}Cm(i,a)}},nc=function(){return We},rc=function(i,a){var c=We;try{return We=i,a()}finally{We=c}},Fr=function(i,a,c){switch(a){case"input":if(as(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==i&&m.form===i.form){var y=xd(m);if(!y)throw Error(n(90));yn(m),as(m,y)}}}break;case"textarea":Eo(i,c);break;case"select":a=c.value,a!=null&&wn(i,!!c.multiple,a,!1)}},on=xm,Ht=Ho;var zA={usingClientEntryPoint:!1,Events:[yc,Fa,xd,bt,sn,xm]},kc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$A={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nd(i),i===null?null:i.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||UA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Ao=sh.inject($A),sr=sh}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zA,Kn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(a))throw Error(n(200));return FA(i,a,null,c)},Kn.createRoot=function(i,a){if(!Am(i))throw Error(n(299));var c=!1,m="",y=Hx;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Im(i,1,!1,null,null,c,!1,m,y),i[Qs]=a.current,pc(i.nodeType===8?i.parentNode:i),new Rm(a)},Kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=nd(a),i=i===null?null:i.stateNode,i},Kn.flushSync=function(i){return Ho(i)},Kn.hydrate=function(i,a,c){if(!nh(a))throw Error(n(200));return rh(null,i,a,!0,c)},Kn.hydrateRoot=function(i,a,c){if(!Am(i))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,x="",I=Hx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),a=Wx(a,null,i,1,c??null,y,!1,x,I),i[Qs]=a.current,pc(i),m)for(i=0;i<m.length;i++)c=m[i],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new th(a)},Kn.render=function(i,a,c){if(!nh(a))throw Error(n(200));return rh(null,i,a,!1,c)},Kn.unmountComponentAtNode=function(i){if(!nh(i))throw Error(n(40));return i._reactRootContainer?(Ho(function(){rh(null,null,i,!1,function(){i._reactRootContainer=null,i[Qs]=null})}),!0):!1},Kn.unstable_batchedUpdates=xm,Kn.unstable_renderSubtreeIntoContainer=function(i,a,c,m){if(!nh(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return rh(i,a,c,!1,m)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var t_;function zE(){if(t_)return Nm.exports;t_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nm.exports=YA(),Nm.exports}var n_;function XA(){if(n_)return ih;n_=1;var t=zE();return ih.createRoot=t.createRoot,ih.hydrateRoot=t.hydrateRoot,ih}var JA=XA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r_="popstate";function ZA(t={}){function e(s,o){let{pathname:l="/",search:u="",hash:d=""}=ma(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Eg("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:lu(o))}function r(s,o){wr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return tP(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eP(){return Math.random().toString(36).substring(2,10)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||eP()}}function lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let S=g(),D=S==null?null:S-f;f=S,d&&d({action:u,location:P.location,delta:D})}function w(S,D){u="PUSH";let j=Eg(P.location,S,D);n&&n(j,S),f=g()+1;let F=s_(j,f),q=P.createHref(j);try{l.pushState(F,"",q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(q)}o&&d&&d({action:u,location:P.location,delta:1})}function T(S,D){u="REPLACE";let j=Eg(P.location,S,D);n&&n(j,S),f=g();let F=s_(j,f),q=P.createHref(j);l.replaceState(F,"",q),o&&d&&d({action:u,location:P.location,delta:0})}function C(S){return nP(S)}let P={get action(){return u},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(r_,v),d=S,()=>{s.removeEventListener(r_,v),d=null}},createHref(S){return e(s,S)},createURL:C,encodeLocation(S){let D=C(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(S){return l.go(S)}};return P}function nP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $E(t,e,n="/"){return rP(t,e,n,!1)}function rP(t,e,n,r){let s=typeof e=="string"?ma(e):e,o=li(s.pathname||"/",n);if(o==null)return null;let l=WE(t);sP(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=mP(o);u=fP(l[d],f,r)}return u}function WE(t,e=[],n=[],r="",s=!1){let o=(l,u,d=s,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;mt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=oi([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),WE(l.children,e,w,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:dP(v,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of qE(l.path))o(l,u,!0,d)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=qE(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function sP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iP=/^:[\w-]+$/,oP=3,aP=2,lP=1,cP=10,uP=-2,i_=t=>t==="*";function dP(t,e){let n=t.split("/"),r=n.length;return n.some(i_)&&(r+=uP),e&&(r+=aP),n.filter(s=>!i_(s)).reduce((s,o)=>s+(iP.test(o)?oP:o===""?lP:cP),r)}function hP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),w=d.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:oi([o,v.pathname]),pathnameBase:wP(oi([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=oi([o,v.pathnameBase]))}return l}function Fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:v},w)=>{if(g==="*"){let C=u[w]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[w];return v&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function pP(t,e=!1,n=!0){wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:yP(n,e):e,search:xP(r),hash:_P(s)}}function yP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t){let e=vP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ry(t,e,n,r=!1){let s;typeof t=="string"?s=ma(t):(s={...t},mt(!s.pathname||!s.pathname.includes("?"),Lm("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Lm("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Lm("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}u=v>=0?e[v]:"/"}let d=gP(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),wP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_P=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var EP=["GET",...HE];new Set(EP);var Cl=b.createContext(null);Cl.displayName="DataRouter";var wf=b.createContext(null);wf.displayName="DataRouterState";b.createContext(!1);var GE=b.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var TP=b.createContext(new Map);TP.displayName="Fetchers";var SP=b.createContext(null);SP.displayName="Await";var is=b.createContext(null);is.displayName="Navigation";var Pu=b.createContext(null);Pu.displayName="Location";var os=b.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var Ay=b.createContext(null);Ay.displayName="RouteError";function IP(t,{relative:e}={}){mt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(is),{hash:s,pathname:o,search:l}=ku(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:oi([n,o])),r.createHref({pathname:u,search:l,hash:s})}function Rl(){return b.useContext(Pu)!=null}function jr(){return mt(Rl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Pu).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(t){b.useContext(is).static||b.useLayoutEffect(t)}function Lr(){let{isDataRoute:t}=b.useContext(os);return t?FP():CP()}function CP(){mt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Cl),{basename:e,navigator:n}=b.useContext(is),{matches:r}=b.useContext(os),{pathname:s}=jr(),o=JSON.stringify(Cy(r)),l=b.useRef(!1);return QE(()=>{l.current=!0}),b.useCallback((d,f={})=>{if(wr(l.current,KE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Ry(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:oi([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,s,t])}b.createContext(null);function YE(){let{matches:t}=b.useContext(os),e=t[t.length-1];return e?e.params:{}}function ku(t,{relative:e}={}){let{matches:n}=b.useContext(os),{pathname:r}=jr(),s=JSON.stringify(Cy(n));return b.useMemo(()=>Ry(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function RP(t,e){return XE(t,e)}function XE(t,e,n,r,s){mt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(is),{matches:l}=b.useContext(os),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";JE(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=jr(),T;if(e){let j=typeof e=="string"?ma(e):e;mt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=w;let C=T.pathname||"/",P=C;if(g!=="/"){let j=g.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=$E(t,{pathname:P});wr(v||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),wr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=DP(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&D?b.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function AP(){let t=OP(),e=bP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var PP=b.createElement(AP,null),kP=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(os.Provider,{value:this.props.routeContext},b.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NP({routeContext:t,match:e,children:n}){let r=b.useContext(Cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(os.Provider,{value:t},n)}function DP(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:v,errors:w}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,g,v)=>{let w,T=!1,C=null,P=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||PP,u&&(d<0&&v===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):d===v&&(T=!0,P=g.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,v+1)),D=()=>{let j;return w?j=C:T?j=P:g.route.Component?j=b.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=f,b.createElement(NP,{match:g,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(kP,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):D()},null)}function Py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jP(t){let e=b.useContext(Cl);return mt(e,Py(t)),e}function LP(t){let e=b.useContext(wf);return mt(e,Py(t)),e}function MP(t){let e=b.useContext(os);return mt(e,Py(t)),e}function ky(t){let e=MP(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VP(){return ky("useRouteId")}function OP(){let t=b.useContext(Ay),e=LP("useRouteError"),n=ky("useRouteError");return t!==void 0?t:e.errors?.[n]}function FP(){let{router:t}=jP("useNavigate"),e=ky("useNavigate"),n=b.useRef(!1);return QE(()=>{n.current=!0}),b.useCallback(async(s,o={})=>{wr(n.current,KE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var o_={};function JE(t,e,n){!e&&!o_[t]&&(o_[t]=!0,wr(!1,n))}b.memo(UP);function UP({routes:t,future:e,state:n,unstable_onError:r}){return XE(t,void 0,n,r,e)}function BP({to:t,replace:e,state:n,relative:r}){mt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(is);wr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(os),{pathname:l}=jr(),u=Lr(),d=Ry(t,Cy(o),l,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function fr(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){mt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=ma(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:w="default"}=n,T=b.useMemo(()=>{let C=li(d,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:v,key:w},navigationType:r}},[l,d,f,g,v,w,r]);return wr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(is.Provider,{value:u},b.createElement(Pu.Provider,{children:e,value:T}))}function $P({children:t,location:e}){return RP(Tg(t),e)}function Tg(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let o=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Tg(r.props.children,o));return}mt(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tg(r.props.children,o)),n.push(l)}),n}var bh="get",Eh="application/x-www-form-urlencoded";function xf(t){return t!=null&&typeof t.tagName=="string"}function WP(t){return xf(t)&&t.tagName.toLowerCase()==="button"}function qP(t){return xf(t)&&t.tagName.toLowerCase()==="form"}function HP(t){return xf(t)&&t.tagName.toLowerCase()==="input"}function GP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KP(t,e){return t.button===0&&(!e||e==="_self")&&!GP(t)}function Sg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function QP(t,e){let n=Sg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var oh=null;function YP(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var XP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(t){return t!=null&&!XP.has(t)?(wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):t}function JP(t,e){let n,r,s,o,l;if(qP(t)){let u=t.getAttribute("action");r=u?li(u,e):null,n=t.getAttribute("method")||bh,s=Mm(t.getAttribute("enctype"))||Eh,o=new FormData(t)}else if(WP(t)||HP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?li(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||bh,s=Mm(t.getAttribute("formenctype"))||Mm(u.getAttribute("enctype"))||Eh,o=new FormData(u,t),!YP()){let{name:f,type:g,value:v}=t;if(g==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,v)}}else{if(xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,r=null,s=Eh,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ek(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nk(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await ek(o,n);return l.links?l.links():[]}return[]}));return ok(r.flat(1).filter(tk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function a_(t,e,n,r,s,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function rk(t,e,{includeHydrateFallback:n}={}){return sk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function sk(t){return[...new Set(t)]}function ik(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ok(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(ik(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function ZE(){let t=b.useContext(Cl);return Ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ak(){let t=b.useContext(wf);return Ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dy=b.createContext(void 0);Dy.displayName="FrameworkContext";function eT(){let t=b.useContext(Dy);return Ny(t,"You must render this element inside a <HydratedRouter> element"),t}function lk(t,e){let n=b.useContext(Dy),[r,s]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=D=>{D.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(P,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Dc(u,T),onBlur:Dc(d,C),onMouseEnter:Dc(f,T),onMouseLeave:Dc(g,C),onTouchStart:Dc(v,T)}]:[!1,w,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ck({page:t,...e}){let{router:n}=ZE(),r=b.useMemo(()=>$E(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(dk,{page:t,matches:r,...e}):null}function uk(t){let{manifest:e,routeModules:n}=eT(),[r,s]=b.useState([]);return b.useEffect(()=>{let o=!1;return nk(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function dk({page:t,matches:e,...n}){let r=jr(),{manifest:s,routeModules:o}=eT(),{basename:l}=ZE(),{loaderData:u,matches:d}=ak(),f=b.useMemo(()=>a_(t,e,d,s,r,"data"),[t,e,d,s,r]),g=b.useMemo(()=>a_(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,P=!1;if(e.forEach(D=>{let j=s.routes[D.route.id];!j||!j.hasLoader||(!f.some(F=>F.route.id===D.route.id)&&D.route.id in u&&o[D.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:C.add(D.route.id))}),C.size===0)return[];let S=ZP(t,l,"data");return P&&C.size>0&&S.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[l,u,r,s,f,e,t,o]),w=b.useMemo(()=>rk(g,s),[g,s]),T=uk(g);return b.createElement(b.Fragment,null,v.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:P})=>b.createElement("link",{key:C,nonce:n.nonce,...P})))}function hk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.9.4")}catch{}function fk({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=ZA({window:n,v5Compat:!0}));let s=r.current,[o,l]=b.useState({action:s.action,location:s.location}),u=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>s.listen(u),[s,u]),b.createElement(zP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yn=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:v,...w},T){let{basename:C}=b.useContext(is),P=typeof f=="string"&&nT.test(f),S,D=!1;if(typeof f=="string"&&P&&(S=f,tT))try{let N=new URL(window.location.href),L=f.startsWith("//")?new URL(N.protocol+f):new URL(f),V=li(L.pathname,C);L.origin===N.origin&&V!=null?f=V+L.search+L.hash:D=!0}catch{wr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=IP(f,{relative:s}),[F,q,G]=lk(r,w),z=yk(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function R(N){e&&e(N),N.defaultPrevented||z(N)}let A=b.createElement("a",{...w,...G,href:S||j,onClick:D||o?e:R,ref:hk(T,q),target:d,"data-discover":!P&&n==="render"?"true":void 0});return F&&!P?b.createElement(b.Fragment,null,A,b.createElement(ck,{page:j})):A});Yn.displayName="Link";var pk=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},g){let v=ku(l,{relative:f.relative}),w=jr(),T=b.useContext(wf),{navigator:C,basename:P}=b.useContext(is),S=T!=null&&bk(v)&&u===!0,D=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,j=w.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(j=j.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&P&&(F=li(F,P)||F);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let G=j===D||!s&&j.startsWith(D)&&j.charAt(q)==="/",z=F!=null&&(F===D||!s&&F.startsWith(D)&&F.charAt(D.length)==="/"),R={isActive:G,isPending:z,isTransitioning:S},A=G?e:void 0,N;typeof r=="function"?N=r(R):N=[r,G?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(R):o;return b.createElement(Yn,{...f,"aria-current":A,className:N,ref:g,style:L,to:l,viewTransition:u},typeof d=="function"?d(R):d)});pk.displayName="NavLink";var mk=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=bh,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,...w},T)=>{let C=xk(),P=_k(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&nT.test(u),j=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,G=q?.getAttribute("formmethod")||l;C(q||F.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:T,method:S,action:P,onSubmit:r?d:j,...w,"data-discover":!D&&t==="render"?"true":void 0})});mk.displayName="Form";function gk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(t){let e=b.useContext(Cl);return mt(e,gk(t)),e}function yk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Lr(),d=jr(),f=ku(t,{relative:o});return b.useCallback(g=>{if(KP(g,e)){g.preventDefault();let v=n!==void 0?n:lu(d)===lu(f);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,n,r,e,t,s,o,l])}function Yz(t){wr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(Sg(t)),n=b.useRef(!1),r=jr(),s=b.useMemo(()=>QP(r.search,n.current?null:e.current),[r.search]),o=Lr(),l=b.useCallback((u,d)=>{const f=Sg(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,o("?"+f,d)},[o,s]);return[s,l]}var vk=0,wk=()=>`__${String(++vk)}__`;function xk(){let{router:t}=rT("useSubmit"),{basename:e}=b.useContext(is),n=VP();return b.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=JP(r,e);if(s.navigate===!1){let g=s.fetcherKey||wk();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function _k(t,{relative:e}={}){let{basename:n}=b.useContext(is),r=b.useContext(os);mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ku(t||".",{relative:e})},l=jr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:oi([n,o.pathname])),lu(o)}function bk(t,{relative:e}={}){let n=b.useContext(GE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rT("useViewTransitionState"),s=ku(t,{relative:e});if(!n.isTransitioning)return!1;let o=li(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(s.pathname,l)!=null||Fh(s.pathname,o)!=null}var Vc=zE();const Ek="modulepreload",Tk=function(t){return"/"+t},l_={},jy=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(f=>{if(f=Tk(f),f in l_)return;l_[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Ek,g||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((T,C)=>{w.addEventListener("load",T),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},Sk=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ik=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(w=64)),r.push(n[g],n[v],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ik(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||f==null||v==null)throw new Ck;const w=o<<2|u>>4;if(r.push(w),f!==64){const T=u<<4&240|f>>2;if(r.push(T),v!==64){const C=f<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rk=function(t){const e=sT(t);return iT.encodeByteArray(e,!0)},Uh=function(t){return Rk(t).replace(/\./g,"")},oT=function(t){try{return iT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=()=>Ak().__FIREBASE_DEFAULTS__,kk=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oT(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return Sk()||Pk()||kk()||Nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aT=t=>_f()?.emulatorHosts?.[t],lT=t=>{const e=aT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cT=()=>_f()?.config,uT=t=>_f()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ly(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(l)),""].join(".")}const qc={};function jk(){const t={prod:[],emulator:[]};for(const e of Object.keys(qc))qc[e]?t.emulator.push(e):t.prod.push(e);return t}function Lk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u_=!1;function My(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||qc[t]===e||qc[t]||u_)return;qc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=jk().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{u_=!0,l()},w}function g(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=Lk(r),T=n("text"),C=document.getElementById(T)||document.createElement("span"),P=n("learnmore"),S=document.getElementById(P)||document.createElement("a"),D=n("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;u(F),g(S,P);const q=f();d(j,D),F.append(j,C,S,q),document.body.appendChild(F)}o?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function Vk(){const t=_f()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ok(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uk(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bk(){return!Vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function zk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$k,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?Wk(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Mr(s,u,r)}}function Wk(t,e){return t.replace(qk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function Hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(d_(o)&&d_(l)){if(!ci(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gk(t,e){const n=new Kk(t,e);return n.subscribe.bind(n)}class Kk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vm),s.error===void 0&&(s.error=Vm),s.complete===void 0&&(s.complete=Vm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1e3,Xk=2,Jk=14400*1e3,Zk=.5;function h_(t,e=Yk,n=Xk){const r=e*Math.pow(n,t),s=Math.round(Zk*r*(Math.random()-.5)*2);return Math.min(Jk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nN(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tN(t){return t===Xo?void 0:t}function nN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const sN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},iN=Be.INFO,oN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},aN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const lN=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function cN(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Ig=new WeakMap,gT=new WeakMap,Om=new WeakMap,Vy=new WeakMap;function dN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(eo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}function hN(t){if(Ig.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ig.set(t,e)}let Cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fN(t){Cg=t(Cg)}function pN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return gT.set(r,e.sort?e.sort():[e]),eo(r)}:uN().includes(t)?function(...e){return t.apply(Fm(this),e),eo(mT.get(this))}:function(...e){return eo(t.apply(Fm(this),e))}}function mN(t){return typeof t=="function"?pN(t):(t instanceof IDBTransaction&&hN(t),lN(t,cN())?new Proxy(t,Cg):t)}function eo(t){if(t instanceof IDBRequest)return dN(t);if(Om.has(t))return Om.get(t);const e=mN(t);return e!==t&&(Om.set(t,e),Vy.set(e,t)),e}const Fm=t=>Vy.get(t);function yT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=eo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(eo(l.result),d.oldVersion,d.newVersion,eo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const gN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],Um=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gN.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return Um.set(e,o),o}fN(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wN(t){return t.getComponent()?.type==="VERSION"}const Rg="@firebase/app",g_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new bf("@firebase/app"),xN="@firebase/app-compat",_N="@firebase/analytics-compat",bN="@firebase/analytics",EN="@firebase/app-check-compat",TN="@firebase/app-check",SN="@firebase/auth",IN="@firebase/auth-compat",CN="@firebase/database",RN="@firebase/data-connect",AN="@firebase/database-compat",PN="@firebase/functions",kN="@firebase/functions-compat",NN="@firebase/installations",DN="@firebase/installations-compat",jN="@firebase/messaging",LN="@firebase/messaging-compat",MN="@firebase/performance",VN="@firebase/performance-compat",ON="@firebase/remote-config",FN="@firebase/remote-config-compat",UN="@firebase/storage",BN="@firebase/storage-compat",zN="@firebase/firestore",$N="@firebase/ai",WN="@firebase/firestore-compat",qN="firebase",HN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",GN={[Rg]:"fire-core",[xN]:"fire-core-compat",[bN]:"fire-analytics",[_N]:"fire-analytics-compat",[TN]:"fire-app-check",[EN]:"fire-app-check-compat",[SN]:"fire-auth",[IN]:"fire-auth-compat",[CN]:"fire-rtdb",[RN]:"fire-data-connect",[AN]:"fire-rtdb-compat",[PN]:"fire-fn",[kN]:"fire-fn-compat",[NN]:"fire-iid",[DN]:"fire-iid-compat",[jN]:"fire-fcm",[LN]:"fire-fcm-compat",[MN]:"fire-perf",[VN]:"fire-perf-compat",[ON]:"fire-rc",[FN]:"fire-rc-compat",[UN]:"fire-gcs",[BN]:"fire-gcs-compat",[zN]:"fire-fst",[WN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[qN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,KN=new Map,Pg=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(Pg.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of Bh.values())y_(n,t);for(const n of KN.values())y_(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new ga("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=HN;function vT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ag,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(n||(n=cT()),!n)throw to.create("no-options");const o=Bh.get(s);if(o){if(ci(n,o.options)&&ci(r,o.config))return o;throw to.create("duplicate-app",{appName:s})}const l=new rN(s);for(const d of Pg.values())l.addComponent(d);const u=new YN(n,r,l);return Bh.set(s,u),u}function Ef(t=Ag){const e=Bh.get(t);if(!e&&t===Ag&&cT())return vT();if(!e)throw to.create("no-app",{appName:t});return e}function Zn(t,e,n){let r=GN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(l.join(" "));return}es(new Nr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",JN=1,cu="firebase-heartbeat-store";let Bm=null;function wT(){return Bm||(Bm=yT(XN,JN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function ZN(t){try{const n=(await wT()).transaction(cu),r=await n.objectStore(cu).get(xT(t));return await n.done,r}catch(e){if(e instanceof Mr)ui.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});ui.warn(n.message)}}}async function v_(t,e){try{const r=(await wT()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,xT(t)),await r.done}catch(n){if(n instanceof Mr)ui.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n?.message});ui.warn(r.message)}}}function xT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30;class n5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>t5){const s=i5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:n,unsentEntries:r}=r5(this._heartbeatsCache.heartbeats),s=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function r5(t,e=e5){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),x_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function i5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){es(new Nr("platform-logger",e=>new vN(e),"PRIVATE")),es(new Nr("heartbeat",e=>new n5(e),"PRIVATE")),Zn(Rg,g_,t),Zn(Rg,g_,"esm2020"),Zn("fire-js","")}o5("");var a5="firebase",l5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(a5,l5,"app");const _T="@firebase/installations",Oy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=1e4,ET=`w:${Oy}`,TT="FIS_v2",c5="https://firebaseinstallations.googleapis.com/v1",u5=3600*1e3,d5="installations",h5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ga(d5,h5,f5);function ST(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT({projectId:t}){return`${c5}/projects/${t}/installations`}function CT(t){return{token:t.token,requestStatus:2,expiresIn:m5(t.expiresIn),creationTime:Date.now()}}async function RT(t,e){const r=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p5(t,{refreshToken:e}){const n=AT(t);return n.append("Authorization",g5(e)),n}async function PT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m5(t){return Number(t.replace("s","000"))}function g5(t){return`${TT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IT(t),s=AT(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:TT,appId:t.appId,sdkVersion:ET},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await PT(()=>fetch(r,u));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:CT(f.authToken)}}else throw await RT("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=/^[cdef][\w-]{21}$/,kg="";function x5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_5(t);return w5.test(n)?n:kg}catch{return kg}}function _5(t){return v5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;function DT(t,e){const n=Tf(t);jT(n,e),b5(n,e)}function jT(t,e){const n=NT.get(t);if(n)for(const r of n)r(e)}function b5(t,e){const n=E5();n&&n.postMessage({key:t,fid:e}),T5()}let Zo=null;function E5(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=t=>{jT(t.data.key,t.data.fid)}),Zo}function T5(){NT.size===0&&Zo&&(Zo.close(),Zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-installations-database",I5=1,ca="firebase-installations-store";let zm=null;function Fy(){return zm||(zm=yT(S5,I5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),zm}async function zh(t,e){const n=Tf(t),s=(await Fy()).transaction(ca,"readwrite"),o=s.objectStore(ca),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&DT(t,e.fid),e}async function LT(t){const e=Tf(t),r=(await Fy()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function Sf(t,e){const n=Tf(t),s=(await Fy()).transaction(ca,"readwrite"),o=s.objectStore(ca),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&DT(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t){let e;const n=await Sf(t.appConfig,r=>{const s=C5(r),o=R5(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===kg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function C5(t){const e=t||{fid:x5(),registrationStatus:0};return MT(e)}function R5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=A5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P5(t)}:{installationEntry:e}}async function A5(t,e){try{const n=await y5(t,e);return zh(t.appConfig,n)}catch(n){throw ST(n)&&n.customData.serverCode===409?await LT(t.appConfig):await zh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function P5(t){let e=await __(t.appConfig);for(;e.registrationStatus===1;)await kT(100),e=await __(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Uy(t);return r||n}return e}function __(t){return Sf(t,e=>{if(!e)throw la.create("installation-not-found");return MT(e)})}function MT(t){return k5(t)?{fid:t.fid,registrationStatus:0}:t}function k5(t){return t.registrationStatus===1&&t.registrationTime+bT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5({appConfig:t,heartbeatServiceProvider:e},n){const r=D5(t,n),s=p5(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:ET,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await PT(()=>fetch(r,u));if(d.ok){const f=await d.json();return CT(f)}else throw await RT("Generate Auth Token",d)}function D5(t,{fid:e}){return`${IT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(t,e=!1){let n;const r=await Sf(t.appConfig,o=>{if(!VT(o))throw la.create("not-registered");const l=o.authToken;if(!e&&M5(l))return o;if(l.requestStatus===1)return n=j5(t,e),o;{if(!navigator.onLine)throw la.create("app-offline");const u=O5(o);return n=L5(t,u),u}});return n?await n:r.authToken}async function j5(t,e){let n=await b_(t.appConfig);for(;n.authToken.requestStatus===1;)await kT(100),n=await b_(t.appConfig);const r=n.authToken;return r.requestStatus===0?By(t,e):r}function b_(t){return Sf(t,e=>{if(!VT(e))throw la.create("not-registered");const n=e.authToken;return F5(n)?{...e,authToken:{requestStatus:0}}:e})}async function L5(t,e){try{const n=await N5(t,e),r={...e,authToken:n};return await zh(t.appConfig,r),n}catch(n){if(ST(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await LT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zh(t.appConfig,r)}throw n}}function VT(t){return t!==void 0&&t.registrationStatus===2}function M5(t){return t.requestStatus===2&&!V5(t)}function V5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+u5}function O5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function F5(t){return t.requestStatus===1&&t.requestTime+bT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Uy(e);return r?r.catch(console.error):By(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e=!1){const n=t;return await z5(n),(await By(n,e)).token}async function z5(t){const{registrationPromise:e}=await Uy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){if(!t||!t.options)throw $m("App Configuration");if(!t.name)throw $m("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $m(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $m(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="installations",W5="installations-internal",q5=t=>{const e=t.getProvider("app").getImmediate(),n=$5(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},H5=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,OT).getImmediate();return{getId:()=>U5(n),getToken:s=>B5(n,s)}};function G5(){es(new Nr(OT,q5,"PUBLIC")),es(new Nr(W5,H5,"PRIVATE"))}G5();Zn(_T,Oy);Zn(_T,Oy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",K5="firebase_id",Q5="origin",Y5=60*1e3,X5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yr=new ga("analytics","Analytics",J5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){if(!t.startsWith(zy)){const e=yr.create("invalid-gtag-resource",{gtagURL:t});return Un.warn(e.message),""}return t}function FT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function eD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function tD(t,e){const n=eD("firebase-js-sdk-policy",{createScriptURL:Z5}),r=document.createElement("script"),s=`${zy}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function nD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function rD(t,e,n,r,s,o){const l=r[s];try{if(l)await e[l];else{const d=(await FT(n)).find(f=>f.measurementId===s);d&&await e[d.appId]}}catch(u){Un.error(u)}t("config",s,o)}async function sD(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await FT(n);for(const d of l){const f=u.find(v=>v.measurementId===d),g=f&&e[f.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){Un.error(o)}}function iD(t,e,n,r){async function s(o,...l){try{if(o==="event"){const[u,d]=l;await sD(t,e,n,u,d)}else if(o==="config"){const[u,d]=l;await rD(t,e,n,r,u,d)}else if(o==="consent"){const[u,d]=l;t("consent",u,d)}else if(o==="get"){const[u,d,f]=l;t("get",u,d,f)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){Un.error(u)}}return s}function oD(t,e,n,r,s){let o=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=iD(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function aD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=30,cD=1e3;class uD{constructor(e={},n=cD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UT=new uD;function dD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hD(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:dD(n)},s=X5.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();u.error?.message&&(l=u.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function fD(t,e=UT,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw yr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw yr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gD;return setTimeout(async()=>{u.abort()},Y5),BT({appId:r,apiKey:s,measurementId:o},l,u,e)}async function BT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=UT){const{appId:o,measurementId:l}=t;try{await pD(r,e)}catch(u){if(l)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:l};throw u}try{const u=await hD(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!mD(d)){if(s.deleteThrottleMetadata(o),l)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:l};throw u}const f=Number(d?.customData?.httpStatus)===503?h_(n,s.intervalMillis,lD):h_(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,g),Un.debug(`Calling attemptFetch again in ${f} millis`),BT(t,g,r,s)}}function pD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mD(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class gD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,l={...r,send_to:o};t("event",n,l)}}async function vD(t,e,n,r){if(r&&r.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(){if(fT())try{await pT()}catch(t){return Un.warn(yr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Un.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xD(t,e,n,r,s,o,l){const u=fD(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Un.error(w)),e.push(u);const d=wD().then(w=>{if(w)return r.getId()}),[f,g]=await Promise.all([u,d]);aD(o)||tD(o,f.measurementId),s("js",new Date);const v=l?.config??{};return v[Q5]="firebase",v.update=!0,g!=null&&(v[K5]=g),s("config",f.measurementId,v),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.app=e}_delete(){return delete cl[this.app.options.appId],Promise.resolve()}}let cl={},E_=[];const T_={};let Wm="dataLayer",bD="gtag",S_,$y,I_=!1;function ED(){const t=[];if(hT()&&t.push("This is a browser extension environment."),zk()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yr.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}function TD(t,e,n){ED();const r=t.options.appId;if(!r)throw yr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yr.create("no-api-key");if(cl[r]!=null)throw yr.create("already-exists",{id:r});if(!I_){nD(Wm);const{wrappedGtag:o,gtagCore:l}=oD(cl,E_,T_,Wm,bD);$y=o,S_=l,I_=!0}return cl[r]=xD(t,E_,T_,e,S_,Wm,n),new _D(t)}function SD(t=Ef()){t=tt(t);const e=mo(t,$h);return e.isInitialized()?e.getImmediate():ID(t)}function ID(t,e={}){const n=mo(t,$h);if(n.isInitialized()){const s=n.getImmediate();if(ci(e,n.getOptions()))return s;throw yr.create("already-initialized")}return n.initialize({options:e})}function CD(t,e,n){t=tt(t),vD($y,cl[t.app.options.appId],e,n).catch(r=>Un.error(r))}function RD(t,e,n,r){t=tt(t),yD($y,cl[t.app.options.appId],e,n,r).catch(s=>Un.error(s))}const C_="@firebase/analytics",R_="0.10.19";function AD(){es(new Nr($h,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return TD(r,s,n)},"PUBLIC")),es(new Nr("analytics-internal",t,"PRIVATE")),Zn(C_,R_),Zn(C_,R_,"esm2020");function t(e){try{const n=e.getProvider($h).getImmediate();return{logEvent:(r,s,o)=>RD(n,r,s,o),setUserProperties:(r,s)=>CD(n,r,s)}}catch(n){throw yr.create("interop-component-reg-failed",{reason:n})}}}AD();function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=zT,$T=new ga("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new bf("@firebase/auth");function kD(t,...e){Wh.logLevel<=Be.WARN&&Wh.warn(`Auth (${ya}): ${t}`,...e)}function Th(t,...e){Wh.logLevel<=Be.ERROR&&Wh.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw qy(t,...e)}function Jr(t,...e){return qy(t,...e)}function Wy(t,e,n){const r={...PD(),[e]:n};return new ga("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Wy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ND(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),Wy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $T.create(t,...e)}function Ce(t,e,...n){if(!t)throw qy(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Th(e),new Error(e)}function di(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof self<"u"&&self.location?.href||""}function DD(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DD()||hT()||"connection"in navigator)?navigator.onLine:!0}function LD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=Mk()||Fk()}get(){return jD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OD=new Du(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yo(t,e,n,r,s={}){return qT(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Nu({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...o};return Ok()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(f.credentials="include"),WT.fetch()(await HT(t,t.config.apiHost,n,u),f)})}async function qT(t,e,n){t._canInitEmulator=!1;const r={...MD,...e};try{const s=new UD(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ah(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ah(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Wy(t,g,f);Dr(t,g)}}catch(s){if(s instanceof Mr)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function ju(t,e,n,r,s={}){const o=await yo(t,e,n,r,s);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function HT(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Hy(t.config,s):`${t.config.apiScheme}://${s}`;return VD.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function FD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),OD.get())})}}function ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function P_(t){return t!==void 0&&t.enterprise!==void 0}class BD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zD(t,e){return yo(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function qh(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WD(t,e=!1){const n=tt(t),r=await n.getIdToken(e),s=Gy(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Hc(qm(s.auth_time)),issuedAtTime:Hc(qm(s.iat)),expirationTime:Hc(qm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function qm(t){return Number(t)*1e3}function Gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const s=oT(n);return s?JSON.parse(s):(Th("Failed to decode base64 JWT payload"),null)}catch(s){return Th("Caught error parsing JWT payload as JSON",s?.toString()),null}}function k_(t){const e=Gy(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&qD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){const e=t.auth,n=await t.getIdToken(),r=await uu(t,qh(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?GT(s.providerUserInfo):[],l=KD(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Dg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function GD(t){const e=tt(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function GT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e){const n=await qT(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await HT(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&po(t.emulatorConfig.host)&&(d.credentials="include"),WT.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YD(t,e){return yo(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=k_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await QD(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new ul;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new HD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WD(this,e)}reload(){return GD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await uu(this,$D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:C,stsTokenManager:P}=n;Ce(v&&P,e,"internal-error");const S=ul.fromJSON(this.name,P);Ce(typeof v=="string",e,"internal-error"),Wi(r,e.name),Wi(s,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof T=="boolean",e,"internal-error"),Wi(o,e.name),Wi(l,e.name),Wi(u,e.name),Wi(d,e.name),Wi(f,e.name),Wi(g,e.name);const D=new Xr({uid:v,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:S,createdAt:f,lastLoginAt:g});return C&&Array.isArray(C)&&(D.providerData=C.map(j=>({...j}))),d&&(D._redirectEventId=d),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ul;s.updateFromServerResponse(n);const o=new Xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?GT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new ul;u.updateFromIdToken(r);const d=new Xr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Dg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function ii(t){di(t instanceof Function,"Expected a class definition");let e=N_.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KT.type="NONE";const D_=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Sh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Sh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(ii(D_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ii(D_);const l=Sh(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(l);if(g){let v;if(typeof g=="string"){const w=await qh(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Xr._fromGetAccountInfoResponse(e,w,g)}else v=Xr._fromJSON(e,g);f!==o&&(u=v),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new dl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new dl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eS(e))return"Blackberry";if(tS(e))return"Webos";if(YT(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QT(t=Pn()){return/firefox\//i.test(t)}function YT(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(t=Pn()){return/crios\//i.test(t)}function JT(t=Pn()){return/iemobile/i.test(t)}function ZT(t=Pn()){return/android/i.test(t)}function eS(t=Pn()){return/blackberry/i.test(t)}function tS(t=Pn()){return/webos/i.test(t)}function Ky(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XD(t=Pn()){return Ky(t)&&!!window.navigator?.standalone}function JD(){return Uk()&&document.documentMode===10}function nS(t=Pn()){return Ky(t)||ZT(t)||tS(t)||eS(t)||/windows phone/i.test(t)||JT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e=[]){let n;switch(t){case"Browser":n=j_(Pn());break;case"Worker":n=`${j_(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e={}){return yo(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=6;class nj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ai(this));const n=e?tt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ej(this),n=new nj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vo(t){return tt(t)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gk(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sj(t){If=t}function sS(t){return If.loadJS(t)}function ij(){return If.recaptchaEnterpriseScript}function oj(){return If.gapiScript}function aj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lj{constructor(){this.enterprise=new cj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uj="recaptcha-enterprise",iS="NO_RECAPTCHA";class dj{constructor(e){this.type=uj,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{zD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new BD(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;P_(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(iS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&P_(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=ij();d.length!==0&&(d+=u),sS(d).then(()=>{s(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function M_(t,e,n,r=!1,s=!1){const o=new dj(t);let l;if(s)l=iS;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function jg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await M_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await M_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t,e){const n=mo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ci(o,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function fj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function pj(t,e,n){const r=vo(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=oS(e),{host:l,port:u}=mj(e),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ci(f,r.config.emulator)&&ci(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,po(l)?(Ly(`${o}//${l}${d}`),My("Auth",!0)):gj()}function oS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mj(t){const e=oS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:V_(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:V_(l)}}}function V_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function yj(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return ju(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function xj(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Qy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,n,"signInWithPassword",vj);case"emailLink":return wj(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",yj);case"emailLink":return xj(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return ju(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="http://localhost";class ua extends Qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new ua(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:_j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ej(t){const e=Oc(Fc(t)).link,n=e?Oc(Fc(e)).deep_link_id:null,r=Oc(Fc(t)).deep_link_id;return(r?Oc(Fc(r)).link:null)||r||n||e||t}class Yy{constructor(e){const n=Oc(Fc(e)),r=n.apiKey??null,s=n.oobCode??null,o=bj(n.mode??null);Ce(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ej(e);try{return new Yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yy.parseLink(n);return Ce(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Lu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Lu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Lu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return ju(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Xr._fromIdTokenResponse(e,r,s),l=O_(r);return new da({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=O_(r);return new da({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function O_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gh(e,n,r,s)}}function aS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,o,e,r):o})}async function Sj(t,e,n=!1){const r=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const o=await uu(t,aS(r,s,e,t),n);Ce(o.idToken,r,"internal-error");const l=Gy(o.idToken);Ce(l,r,"internal-error");const{sub:u}=l;return Ce(t.uid===u,r,"user-mismatch"),da._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t,e,n=!1){if(Xn(t.app))return Promise.reject(ai(t));const r="signIn",s=await aS(t,r,e),o=await da._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Cj(t,e){return lS(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uS(t,e,n){if(Xn(t.app))return Promise.reject(ai(t));const r=vo(t),l=await jg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&cS(t),d}),u=await da._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function dS(t,e,n){return Xn(t.app)?Promise.reject(ai(t)):Cj(tt(t),Al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cS(t),r})}function Rj(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function Aj(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function Pl(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function Pj(t){return tt(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1e3,Nj=10;class fS extends hS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);JD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Nj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const Dj=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends hS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pS.type="SESSION";const mS=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async f=>f(n.origin,o)),d=await jj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=Jy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function Mj(t){ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function Vj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oj(){return navigator?.serviceWorker?.controller||null}function Fj(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",Uj=1,Qh="firebaseLocalStorage",vS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rf(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function Bj(){const t=indexedDB.deleteDatabase(yS);return new Mu(t).toPromise()}function Lg(){const t=indexedDB.open(yS,Uj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qh,{keyPath:vS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await Bj(),e(await Lg()))})})}async function F_(t,e,n){const r=Rf(t,!0).put({[vS]:e,value:n});return new Mu(r).toPromise()}async function zj(t,e){const n=Rf(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function U_(t,e){const n=Rf(t,!0).delete(e);return new Mu(n).toPromise()}const $j=800,Wj=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Wj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await F_(e,Kh,"1"),await U_(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Rf(s,!1).getAll();return new Mu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const qj=wS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){return e?ii(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hj(t){return lS(t.auth,new Zy(t),t.bypassAuthState)}function Gj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),Ij(n,new Zy(t),t.bypassAuthState)}async function Kj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),Sj(n,new Zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hj;case"linkViaPopup":case"linkViaRedirect":return Kj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:Dr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new Du(2e3,1e4);async function bS(t,e,n){if(Xn(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=vo(t);ND(t,e,Xy);const s=xS(r,n);return new ea(r,"signInViaPopup",e,s).executeNotNull()}class ea extends _S{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qj.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="pendingRedirect",Ih=new Map;class Xj extends _S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const r=await Jj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jj(t,e){const n=t4(e),r=e4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Zj(t,e){Ih.set(t._key(),e)}function e4(t){return ii(t._redirectPersistence)}function t4(t){return Sh(Yj,t.config.apiKey,t.name)}async function n4(t,e,n=!1){if(Xn(t.app))return Promise.reject(ai(t));const r=vo(t),s=xS(r,e),l=await new Xj(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=600*1e3;class s4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ES(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r4&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ES({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l4=/^https?/;async function c4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o4(t);for(const n of e)try{if(u4(n))return}catch{}Dr(t,"unauthorized-domain")}function u4(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!l4.test(n))return!1;if(a4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Du(3e4,6e4);function z_(){const t=ks().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h4(t){return new Promise((e,n)=>{function r(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(Jr(t,"network-request-failed"))},timeout:d4.get()})}if(ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ks().gapi?.load)r();else{const s=aj("iframefcb");return ks()[s]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},sS(`${oj()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function f4(t){return Ch=Ch||h4(t),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Du(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w4(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,g4):`https://${t.config.authDomain}/${m4}`,r={apiKey:e.apiKey,appName:t.name,v:ya},s=v4.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nu(r).slice(1)}`}async function x4(t){const e=await f4(t),n=ks().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:w4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y4,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Jr(t,"network-request-failed"),u=ks().setTimeout(()=>{o(l)},p4.get());function d(){ks().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b4=500,E4=600,T4="_blank",S4="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I4(t,e,n,r=b4,s=E4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={..._4,width:r.toString(),height:s.toString(),top:o,left:l},f=Pn().toLowerCase();n&&(u=XT(f)?T4:n),QT(f)&&(e=e||S4,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,C])=>`${w}${T}=${C},`,"");if(XD(f)&&u!=="_self")return C4(e||"",u),new $_(null);const v=window.open(e||"",u,g);Ce(v,t,"popup-blocked");try{v.focus()}catch{}return new $_(v)}function C4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="__/auth/handler",A4="emulator/auth/handler",P4=encodeURIComponent("fac");async function W_(t,e,n,r,s,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:s};if(e instanceof Xy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Hk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Lu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),f=d?`#${P4}=${encodeURIComponent(d)}`:"";return`${k4(t)}?${Nu(u).slice(1)}${f}`}function k4({config:t}){return t.emulator?Hy(t,A4):`https://${t.authDomain}/${R4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class N4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=n4,this._overrideRedirectResult=Zj}async _openPopup(e,n,r,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await W_(e,n,r,Ng(),s);return I4(e,o,Jy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await W_(e,n,r,Ng(),s);return Mj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x4(e),r=new s4(e);return n.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},s=>{const o=s?.[0]?.[Hm];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nS()||YT()||Ky()}}const D4=N4;var q_="@firebase/auth",H_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M4(t){es(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(t)},f=new rj(r,s,o,d);return fj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),es(new Nr("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new j4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(q_,H_,L4(t)),Zn(q_,H_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=300,O4=uT("authIdTokenMaxAge")||V4;let G_=null;const F4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O4)return;const s=n?.token;G_!==s&&(G_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function U4(t=Ef()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hj(t,{popupRedirectResolver:D4,persistence:[qj,Dj,mS]}),r=uT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=F4(o.toString());Aj(n,l,()=>l(n.currentUser)),Rj(n,u=>l(u))}}const s=aT("auth");return s&&pj(n,`http://${s}`),n}function B4(){return document.getElementsByTagName("head")?.[0]??document}sj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Jr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",B4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M4("Browser");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,TS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(L,V,W){for(var M=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)M[Ne-2]=arguments[Ne];return A.prototype[V].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,A,N){N||(N=0);const L=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)L[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],V=R.g[2];let W=R.g[3],M;M=A+(W^N&(V^W))+L[0]+3614090360&4294967295,A=N+(M<<7&4294967295|M>>>25),M=W+(V^A&(N^V))+L[1]+3905402710&4294967295,W=A+(M<<12&4294967295|M>>>20),M=V+(N^W&(A^N))+L[2]+606105819&4294967295,V=W+(M<<17&4294967295|M>>>15),M=N+(A^V&(W^A))+L[3]+3250441966&4294967295,N=V+(M<<22&4294967295|M>>>10),M=A+(W^N&(V^W))+L[4]+4118548399&4294967295,A=N+(M<<7&4294967295|M>>>25),M=W+(V^A&(N^V))+L[5]+1200080426&4294967295,W=A+(M<<12&4294967295|M>>>20),M=V+(N^W&(A^N))+L[6]+2821735955&4294967295,V=W+(M<<17&4294967295|M>>>15),M=N+(A^V&(W^A))+L[7]+4249261313&4294967295,N=V+(M<<22&4294967295|M>>>10),M=A+(W^N&(V^W))+L[8]+1770035416&4294967295,A=N+(M<<7&4294967295|M>>>25),M=W+(V^A&(N^V))+L[9]+2336552879&4294967295,W=A+(M<<12&4294967295|M>>>20),M=V+(N^W&(A^N))+L[10]+4294925233&4294967295,V=W+(M<<17&4294967295|M>>>15),M=N+(A^V&(W^A))+L[11]+2304563134&4294967295,N=V+(M<<22&4294967295|M>>>10),M=A+(W^N&(V^W))+L[12]+1804603682&4294967295,A=N+(M<<7&4294967295|M>>>25),M=W+(V^A&(N^V))+L[13]+4254626195&4294967295,W=A+(M<<12&4294967295|M>>>20),M=V+(N^W&(A^N))+L[14]+2792965006&4294967295,V=W+(M<<17&4294967295|M>>>15),M=N+(A^V&(W^A))+L[15]+1236535329&4294967295,N=V+(M<<22&4294967295|M>>>10),M=A+(V^W&(N^V))+L[1]+4129170786&4294967295,A=N+(M<<5&4294967295|M>>>27),M=W+(N^V&(A^N))+L[6]+3225465664&4294967295,W=A+(M<<9&4294967295|M>>>23),M=V+(A^N&(W^A))+L[11]+643717713&4294967295,V=W+(M<<14&4294967295|M>>>18),M=N+(W^A&(V^W))+L[0]+3921069994&4294967295,N=V+(M<<20&4294967295|M>>>12),M=A+(V^W&(N^V))+L[5]+3593408605&4294967295,A=N+(M<<5&4294967295|M>>>27),M=W+(N^V&(A^N))+L[10]+38016083&4294967295,W=A+(M<<9&4294967295|M>>>23),M=V+(A^N&(W^A))+L[15]+3634488961&4294967295,V=W+(M<<14&4294967295|M>>>18),M=N+(W^A&(V^W))+L[4]+3889429448&4294967295,N=V+(M<<20&4294967295|M>>>12),M=A+(V^W&(N^V))+L[9]+568446438&4294967295,A=N+(M<<5&4294967295|M>>>27),M=W+(N^V&(A^N))+L[14]+3275163606&4294967295,W=A+(M<<9&4294967295|M>>>23),M=V+(A^N&(W^A))+L[3]+4107603335&4294967295,V=W+(M<<14&4294967295|M>>>18),M=N+(W^A&(V^W))+L[8]+1163531501&4294967295,N=V+(M<<20&4294967295|M>>>12),M=A+(V^W&(N^V))+L[13]+2850285829&4294967295,A=N+(M<<5&4294967295|M>>>27),M=W+(N^V&(A^N))+L[2]+4243563512&4294967295,W=A+(M<<9&4294967295|M>>>23),M=V+(A^N&(W^A))+L[7]+1735328473&4294967295,V=W+(M<<14&4294967295|M>>>18),M=N+(W^A&(V^W))+L[12]+2368359562&4294967295,N=V+(M<<20&4294967295|M>>>12),M=A+(N^V^W)+L[5]+4294588738&4294967295,A=N+(M<<4&4294967295|M>>>28),M=W+(A^N^V)+L[8]+2272392833&4294967295,W=A+(M<<11&4294967295|M>>>21),M=V+(W^A^N)+L[11]+1839030562&4294967295,V=W+(M<<16&4294967295|M>>>16),M=N+(V^W^A)+L[14]+4259657740&4294967295,N=V+(M<<23&4294967295|M>>>9),M=A+(N^V^W)+L[1]+2763975236&4294967295,A=N+(M<<4&4294967295|M>>>28),M=W+(A^N^V)+L[4]+1272893353&4294967295,W=A+(M<<11&4294967295|M>>>21),M=V+(W^A^N)+L[7]+4139469664&4294967295,V=W+(M<<16&4294967295|M>>>16),M=N+(V^W^A)+L[10]+3200236656&4294967295,N=V+(M<<23&4294967295|M>>>9),M=A+(N^V^W)+L[13]+681279174&4294967295,A=N+(M<<4&4294967295|M>>>28),M=W+(A^N^V)+L[0]+3936430074&4294967295,W=A+(M<<11&4294967295|M>>>21),M=V+(W^A^N)+L[3]+3572445317&4294967295,V=W+(M<<16&4294967295|M>>>16),M=N+(V^W^A)+L[6]+76029189&4294967295,N=V+(M<<23&4294967295|M>>>9),M=A+(N^V^W)+L[9]+3654602809&4294967295,A=N+(M<<4&4294967295|M>>>28),M=W+(A^N^V)+L[12]+3873151461&4294967295,W=A+(M<<11&4294967295|M>>>21),M=V+(W^A^N)+L[15]+530742520&4294967295,V=W+(M<<16&4294967295|M>>>16),M=N+(V^W^A)+L[2]+3299628645&4294967295,N=V+(M<<23&4294967295|M>>>9),M=A+(V^(N|~W))+L[0]+4096336452&4294967295,A=N+(M<<6&4294967295|M>>>26),M=W+(N^(A|~V))+L[7]+1126891415&4294967295,W=A+(M<<10&4294967295|M>>>22),M=V+(A^(W|~N))+L[14]+2878612391&4294967295,V=W+(M<<15&4294967295|M>>>17),M=N+(W^(V|~A))+L[5]+4237533241&4294967295,N=V+(M<<21&4294967295|M>>>11),M=A+(V^(N|~W))+L[12]+1700485571&4294967295,A=N+(M<<6&4294967295|M>>>26),M=W+(N^(A|~V))+L[3]+2399980690&4294967295,W=A+(M<<10&4294967295|M>>>22),M=V+(A^(W|~N))+L[10]+4293915773&4294967295,V=W+(M<<15&4294967295|M>>>17),M=N+(W^(V|~A))+L[1]+2240044497&4294967295,N=V+(M<<21&4294967295|M>>>11),M=A+(V^(N|~W))+L[8]+1873313359&4294967295,A=N+(M<<6&4294967295|M>>>26),M=W+(N^(A|~V))+L[15]+4264355552&4294967295,W=A+(M<<10&4294967295|M>>>22),M=V+(A^(W|~N))+L[6]+2734768916&4294967295,V=W+(M<<15&4294967295|M>>>17),M=N+(W^(V|~A))+L[13]+1309151649&4294967295,N=V+(M<<21&4294967295|M>>>11),M=A+(V^(N|~W))+L[4]+4149444226&4294967295,A=N+(M<<6&4294967295|M>>>26),M=W+(N^(A|~V))+L[11]+3174756917&4294967295,W=A+(M<<10&4294967295|M>>>22),M=V+(A^(W|~N))+L[2]+718787259&4294967295,V=W+(M<<15&4294967295|M>>>17),M=N+(W^(V|~A))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+W&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,L=this.C;let V=this.h,W=0;for(;W<A;){if(V==0)for(;W<=N;)s(this,R,W),W+=this.blockSize;if(typeof R=="string"){for(;W<A;)if(L[V++]=R.charCodeAt(W++),V==this.blockSize){s(this,L),V=0;break}}else for(;W<A;)if(L[V++]=R[W++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)R[A++]=this.g[N]>>>L&255;return R};function o(R,A){var N=u;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function l(R,A){this.h=A;const N=[];let L=!0;for(let V=R.length-1;V>=0;V--){const W=R[V]|0;L&&W==A||(N[V]=W,L=!1)}this.g=N}var u={};function d(R){return-128<=R&&R<128?o(R,function(A){return new l([A|0],A<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return S(f(-R));const A=[];let N=1;for(let L=0;R>=N;L++)A[L]=R/N|0,N*=4294967296;return new l(A,0)}function g(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return S(g(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(A,8));let L=v;for(let W=0;W<R.length;W+=8){var V=Math.min(8,R.length-W);const M=parseInt(R.substring(W,W+V),A);V<8?(V=f(Math.pow(A,V)),L=L.j(V).add(f(M))):(L=L.j(N),L=L.add(f(M)))}return L}var v=d(0),w=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(P(this))return-S(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);R+=(L>=0?L:4294967296+L)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(P(this))return"-"+S(this).toString(R);const A=f(Math.pow(R,6));var N=this;let L="";for(;;){const V=q(N,A).g;N=D(N,V.j(A));let W=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=V,C(N))return W+L;for(;W.length<6;)W="0"+W;L=W+L}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function P(R){return R.h==-1}t.l=function(R){return R=D(this,R),P(R)?-1:C(R)?0:1};function S(R){const A=R.g.length,N=[];for(let L=0;L<A;L++)N[L]=~R.g[L];return new l(N,~R.h).add(w)}t.abs=function(){return P(this)?S(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let L=0;for(let V=0;V<=A;V++){let W=L+(this.i(V)&65535)+(R.i(V)&65535),M=(W>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);L=M>>>16,W&=65535,M&=65535,N[V]=M<<16|W}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(R,A){return R.add(S(A))}t.j=function(R){if(C(this)||C(R))return v;if(P(this))return P(R)?S(this).j(S(R)):S(S(this).j(R));if(P(R))return S(this.j(S(R)));if(this.l(T)<0&&R.l(T)<0)return f(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<R.g.length;V++){const W=this.i(L)>>>16,M=this.i(L)&65535,Ne=R.i(V)>>>16,Xe=R.i(V)&65535;N[2*L+2*V]+=M*Xe,j(N,2*L+2*V),N[2*L+2*V+1]+=W*Xe,j(N,2*L+2*V+1),N[2*L+2*V+1]+=M*Ne,j(N,2*L+2*V+1),N[2*L+2*V+2]+=W*Ne,j(N,2*L+2*V+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new l(N,0)};function j(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function F(R,A){this.g=R,this.h=A}function q(R,A){if(C(A))throw Error("division by zero");if(C(R))return new F(v,v);if(P(R))return A=q(S(R),A),new F(S(A.g),S(A.h));if(P(A))return A=q(R,S(A)),new F(S(A.g),A.h);if(R.g.length>30){if(P(R)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=A;L.l(R)<=0;)N=G(N),L=G(L);var V=z(N,1),W=z(L,1);for(L=z(L,2),N=z(N,2);!C(L);){var M=W.add(L);M.l(R)<=0&&(V=V.add(N),W=M),L=z(L,1),N=z(N,1)}return A=D(R,V.j(A)),new F(V,A)}for(V=v;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),W=f(N),M=W.j(A);P(M)||M.l(R)>0;)N-=L,W=f(N),M=W.j(A);C(W)&&(W=w),V=V.add(W),R=D(R,M)}return new F(V,R)}t.B=function(R){return q(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)&R.i(L);return new l(N,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)|R.i(L);return new l(N,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)^R.i(L);return new l(N,this.h^R.h)};function G(R){const A=R.g.length+1,N=[];for(let L=0;L<A;L++)N[L]=R.i(L)<<1|R.i(L-1)>>>31;return new l(N,R.h)}function z(R,A){const N=A>>5;A%=32;const L=R.g.length-N,V=[];for(let W=0;W<L;W++)V[W]=A>0?R.i(W+N)>>>A|R.i(W+N+1)<<32-A:R.i(W+N);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,no=l}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,Uc,IS,Rh,Mg,CS,RS,AS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,_){if(_)e:{var E=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var K=h[k];if(!(K in E))break e;E=E[K]}h=h[h.length-1],k=E[h],_=_(k),_!=k&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var E=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&E.push([k,_[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,E){return h.call.apply(h.bind,arguments)}function f(h,_,E){return f=d,f.apply(null,arguments)}function g(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(k,K,X){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return _.prototype[K].apply(k,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function T(h){const _=h.length;if(_>0){const E=Array(_);for(let k=0;k<_;k++)E[k]=h[k];return E}return[]}function C(h,_){for(let k=1;k<arguments.length;k++){const K=arguments[k];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=h.length||0;const X=K.length||0;h.length=E+X;for(let ae=0;ae<X;ae++)h[E+ae]=K[ae]}else h.push(K)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(h){l.setTimeout(()=>{throw h},0)}function D(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const k=F.get();k.set(_,E),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new P(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,R=new j,A=()=>{const h=Promise.resolve(void 0);G=()=>{h.then(N)}};function N(){for(var h;h=D();){try{h.h.call(h.g)}catch(E){S(E)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}z=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ne(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(Ne,V),Ne.prototype.init=function(h,_){const E=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),dt=0;function ge(h,_,E,k,K){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!k,this.ha=K,this.key=++dt,this.da=this.fa=!1}function se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ce(h,_,E){for(const k in h)_.call(E,h[k],k,h)}function ee(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function U(h){const _={};for(const E in h)_[E]=h[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(h,_){let E,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(E in k)h[E]=k[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(k,E)&&(h[E]=k[E])}}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,_,E,k,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ae=be(h,_,k,K);return ae>-1?(_=h[ae],E||(_.fa=!1)):(_=new ge(_,this.src,X,!!k,K),_.fa=E,h.push(_)),_};function De(h,_){const E=_.type;if(E in h.g){var k=h.g[E],K=Array.prototype.indexOf.call(k,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(k,K,1),X&&(se(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function be(h,_,E,k){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==k)return K}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),je={};function Me(h,_,E,k,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Me(h,_[X],E,k,K);return null}return E=vi(E),h&&h[Xe]?h.J(_,E,u(k)?!!k.capture:!1,K):Pe(h,_,E,!1,k,K)}function Pe(h,_,E,k,K,X){if(!_)throw Error("Invalid event type");const ae=u(K)?!!K.capture:!!K;let Le=nr(h);if(Le||(h[Fe]=Le=new _e(h)),E=Le.add(_,E,k,ae,X),E.proxy)return E;if(k=qt(),E.proxy=k,k.src=h,k.listener=E,h.addEventListener)W||(K=ae),K===void 0&&(K=!1),h.addEventListener(_.toString(),k,K);else if(h.attachEvent)h.attachEvent(vn(_.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qt(){function h(E){return _.call(h.src,h.listener,E)}const _=Vr;return h}function yn(h,_,E,k,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)yn(h,_[X],E,k,K);else k=u(k)?!!k.capture:!!k,E=vi(E),h&&h[Xe]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],E=be(_,E,k,K),E>-1&&(se(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=nr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=be(_,E,k,K)),(E=h>-1?_[h]:null)&&kn(E))}function kn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Xe])De(_.i,h);else{var E=h.type,k=h.proxy;_.removeEventListener?_.removeEventListener(E,k,h.capture):_.detachEvent?_.detachEvent(vn(E),k):_.addListener&&_.removeListener&&_.removeListener(k),(E=nr(_))?(De(E,h),E.h==0&&(E.src=null,_[Fe]=null)):se(h)}}}function vn(h){return h in je?je[h]:je[h]="on"+h}function Vr(h,_){if(h.da)h=!0;else{_=new Ne(_,this);const E=h.listener,k=h.ha||h.src;h.fa&&kn(h),h=E.call(k,_)}return h}function nr(h){return h=h[Fe],h instanceof _e?h:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function vi(h){return typeof h=="function"?h:(h[as]||(h[as]=function(_){return h.handleEvent(_)}),h[as])}function ht(){L.call(this),this.i=new _e(this),this.M=this,this.G=null}v(ht,L),ht.prototype[Xe]=!0,ht.prototype.removeEventListener=function(h,_,E,k){yn(this,h,_,E,k)};function Je(h,_){var E,k=h.G;if(k)for(E=[];k;k=k.G)E.push(k);if(h=h.M,k=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var K=_;_=new V(k,h),ve(_,K)}K=!0;let X,ae;if(E)for(ae=E.length-1;ae>=0;ae--)X=_.g=E[ae],K=wn(X,k,!0,_)&&K;if(X=_.g=h,K=wn(X,k,!0,_)&&K,K=wn(X,k,!1,_)&&K,E)for(ae=0;ae<E.length;ae++)X=_.g=E[ae],K=wn(X,k,!1,_)&&K}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let k=0;k<E.length;k++)se(E[k]);delete h.g[_],h.h--}}this.G=null},ht.prototype.J=function(h,_,E,k){return this.i.add(String(h),_,!1,E,k)},ht.prototype.K=function(h,_,E,k){return this.i.add(String(h),_,!0,E,k)};function wn(h,_,E,k){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const ae=_[X];if(ae&&!ae.da&&ae.capture==E){const Le=ae.listener,Rt=ae.ha||ae.src;ae.fa&&De(h.i,ae),K=Le.call(Rt,k)!==!1&&K}}return K&&!k.defaultPrevented}function ls(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(h,_||0)}function wi(h){h.g=ls(()=>{h.g=null,h.i&&(h.i=!1,wi(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Eo extends L{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(h){L.call(this),this.h=h,this.g={}}v(cs,L);var To=[];function rr(h){ce(h.g,function(_,E){this.g.hasOwnProperty(E)&&kn(_)},h),h.g={}}cs.prototype.N=function(){cs.Z.N.call(this),rr(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=l.JSON.stringify,us=l.JSON.parse,ds=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function rn(){}function So(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){V.call(this,"d")}v(xi,V);function Bs(){V.call(this,"c")}v(Bs,V);var Bn={},_i=null;function Or(){return _i=_i||new ht}Bn.Ia="serverreachability";function bi(h){V.call(this,Bn.Ia,h)}v(bi,V);function Fr(h){const _=Or();Je(_,new bi(_))}Bn.STAT_EVENT="statevent";function Ur(h,_){V.call(this,Bn.STAT_EVENT,h),this.stat=_}v(Ur,V);function Ve(h){const _=Or();Je(_,new Ur(_,h))}Bn.Ja="timingevent";function Ft(h,_){V.call(this,Bn.Ja,h),this.size=_}v(Ft,V);function bt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function on(h,_,E,k,K,X){h.info(function(){if(h.g)if(X){var ae="",Le=X.split("&");for(let Ze=0;Ze<Le.length;Ze++){var Rt=Le[Ze].split("=");if(Rt.length>1){const Dt=Rt[0];Rt=Rt[1];const cr=Dt.split("_");ae=cr.length>=2&&cr[1]=="type"?ae+(Dt+"="+Rt+"&"):ae+(Dt+"=redacted&")}}}else ae=null;else ae=X;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+_+`
`+E+`
`+ae})}function Ht(h,_,E,k,K,X,ae){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+_+`
`+E+`
`+X+" "+ae})}function Ct(h,_,E,k){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+at(h,E)+(k?" "+k:"")})}function Br(h,_){h.info(function(){return"TIMEOUT: "+_})}sn.prototype.info=function(){};function at(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var K=k[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ae=1;ae<k.length;ae++)k[ae]=""}}}}return Nn(X)}catch{return _}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zn;function Dn(){}v(Dn,rn),Dn.prototype.g=function(){return new XMLHttpRequest},zn=new Dn;function xn(h){return encodeURIComponent(String(h))}function jn(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function Gt(h,_,E,k){this.j=h,this.i=_,this.l=E,this.S=k||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var Zu={},ql={};function zr(h,_,E){h.M=1,h.A=$s(xr(_)),h.u=E,h.R=!0,Hl(h,null)}function Hl(h,_){h.F=Date.now(),Io(h),h.B=xr(h.A);var E=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),nc(E.i,"t",k),h.C=0,E=h.j.L,h.h=new Ei,h.g=cd(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Eo(f(h.Y,h,h.g),h.P)),_=h.V,E=h.g,k=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(To[0]=K.toString()),K=To);for(let X=0;X<K.length;X++){const ae=Me(E,K[X],k||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Fr(),on(h.i,h.v,h.B,h.l,h.S,h.u)}Gt.prototype.ba=function(h){h=h.target;const _=this.O;_&&ws(h)==3?_.j():this.Y(h)},Gt.prototype.Y=function(h){try{if(h==this.g)e:{const Le=ws(this.g),Rt=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||ad(this.g)))){this.K||Le!=4||Rt==7||(Rt==8||Ze<=0?Fr(3):Fr(2)),xa(this);var _=this.g.ca();this.X=_;var E=ed(this);if(this.o=_==200,Ht(this.i,this.v,this.B,this.l,this.S,Le,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,K=this.g;if((k=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(k)){var X=k;break t}}X=null}if(h=X)Ct(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,h);else{this.o=!1,this.m=3,Ve(12),zs(this),Co(this);break e}}if(this.R){h=!0;let Dt;for(;!this.K&&this.C<E.length;)if(Dt=nd(this,E),Dt==ql){Le==4&&(this.m=4,Ve(14),h=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Zu){this.m=4,Ve(15),Ct(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ct(this.i,this.l,Dt,null),lt(this,Dt);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)Ct(this.i,this.l,E,"[Invalid Chunked Response]"),zs(this),Co(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Mo(ae),ae.P=!0,Ve(11))}}else Ct(this.i,this.l,E,null),lt(this,E);Le==4&&zs(this),this.o&&!this.K&&(Le==4?Pa(this.j,this):(this.o=!1,Io(this)))}else sc(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),zs(this),Co(this)}}}catch{}finally{}};function ed(h){if(!td(h))return h.g.la();const _=ad(h.g);if(_==="")return"";let E="";const k=_.length,K=ws(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return zs(h),Co(h),"";h.h.i=new l.TextDecoder}for(let X=0;X<k;X++)h.h.h=!0,E+=h.h.i.decode(_[X],{stream:!(K&&X==k-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function td(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nd(h,_){var E=h.C,k=_.indexOf(`
`,E);return k==-1?ql:(E=Number(_.substring(E,k)),isNaN(E)?Zu:(k+=1,k+E>_.length?ql:(_=_.slice(k,k+E),h.C=k+E,_)))}Gt.prototype.cancel=function(){this.K=!0,zs(this)};function Io(h){h.T=Date.now()+h.H,Gl(h,h.H)}function Gl(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bt(f(h.aa,h),_)}function xa(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Gt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Fr(),Ve(17)),zs(this),this.m=2,Co(this)):Gl(this,this.T-h)};function Co(h){h.j.I==0||h.K||Pa(h.j,h)}function zs(h){xa(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,rr(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function lt(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Ql(E.h,h))){if(!h.L&&Ql(E.h,h)&&E.I==3){try{var k=E.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Aa(E),ar(E);else break e;bs(E),Ve(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bt(f(E.Va,E),6e3));Ro(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((h.L||E.g==h)&&Aa(E),!M(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const Dt=Ze[0];if(!(Dt<=E.K))if(E.K=Dt,Ze=Ze[1],E.I==2)if(Ze[0]=="c"){E.M=Ze[1],E.ba=Ze[2];const cr=Ze[3];cr!=null&&(E.ka=cr,E.j.info("VER="+E.ka));const Ks=Ze[4];Ks!=null&&(E.za=Ks,E.j.info("SVER="+E.za));const Es=Ze[5];Es!=null&&typeof Es=="number"&&Es>0&&(k=1.5*Es,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Ts=h.g;if(Ts){const Da=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var X=k.h;X.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ba(X,X.h),X.h=null))}if(k.G){const ac=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;ac&&(k.wa=ac,Ye(k.J,k.G,ac))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var ae=h;if(k.na=oc(k,k.L?k.ba:null,k.W),ae.L){Ao(k.h,ae);var Le=ae,Rt=k.O;Rt&&(Le.H=Rt),Le.D&&(xa(Le),Io(Le)),k.g=ae}else _n(k);E.i.length>0&&Gs(E)}else Ze[0]!="stop"&&Ze[0]!="close"||lr(E,7);else E.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?lr(E,7):Ca(E):Ze[0]!="noop"&&E.l&&E.l.qa(Ze),E.A=0)}}Fr(4)}catch{}}var ap=class{constructor(h,_){this.g=h,this.map=_}};function _a(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ro(h){return h.h?1:h.g?h.g.size:0}function Ql(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ba(h,_){h.g?h.g.add(_):h.h=_}function Ao(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}_a.prototype.cancel=function(){if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return T(h.i)}var rd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const k=h[E].indexOf("=");let K,X=null;k>=0?(K=h[E].substring(0,k),X=h[E].substring(k+1)):K=h[E],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function fs(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof fs?(this.l=h.l,Po(this,h.j),this.o=h.o,this.g=h.g,ps(this,h.u),this.h=h.h,Ti(this,rc(h.i)),this.m=h.m):h&&(_=String(h).match(rd))?(this.l=!1,Po(this,_[1]||"",!0),this.o=ko(_[2]||""),this.g=ko(_[3]||"",!0),ps(this,_[4]),this.h=ko(_[5]||"",!0),Ti(this,_[6]||"",!0),this.m=ko(_[7]||"")):(this.l=!1,this.i=new We(null,this.l))}fs.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(No(_,Xl,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(No(_,Xl,!0),"@"),h.push(xn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(No(E,E.charAt(0)=="/"?Do:Jl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",No(E,Zl)),h.join("")},fs.prototype.resolve=function(h){const _=xr(this);let E=!!h.j;E?Po(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var k=h.h;if(E)ps(_,h.u);else if(E=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var K=_.h.lastIndexOf("/");K!=-1&&(k=_.h.slice(0,K+1)+k)}if(K=k,K==".."||K==".")k="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){k=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ae=0;ae<K.length;){const Le=K[ae++];Le=="."?k&&ae==K.length&&X.push(""):Le==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),k&&ae==K.length&&X.push("")):(X.push(Le),k=!0)}k=X.join("/")}else k=K}return E?_.h=k:E=h.i.toString()!=="",E?Ti(_,rc(h.i)):E=!!h.m,E&&(_.m=h.m),_};function xr(h){return new fs(h)}function Po(h,_,E){h.j=E?ko(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ps(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Ti(h,_,E){_ instanceof We?(h.i=_,Ta(h.i,h.l)):(E||(_=No(_,lp)),h.i=new We(_,h.l))}function Ye(h,_,E){h.i.set(_,E)}function $s(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ko(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function No(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Yl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Yl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xl=/[#\/\?@]/g,Jl=/[#\?:]/g,Do=/[#\?]/g,lp=/[#\?@]/g,Zl=/#/g;function We(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function ms(h){h.g||(h.g=new Map,h.h=0,h.i&&ir(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=We.prototype,t.add=function(h,_){ms(this),this.i=null,h=gs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function ec(h,_){ms(h),_=gs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ea(h,_){return ms(h),_=gs(h,_),h.g.has(_)}t.forEach=function(h,_){ms(this),this.g.forEach(function(E,k){E.forEach(function(K){h.call(_,K,k,this)},this)},this)};function tc(h,_){ms(h);let E=[];if(typeof _=="string")Ea(h,_)&&(E=E.concat(h.g.get(gs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return ms(this),this.i=null,h=gs(this,h),Ea(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=tc(this,h),h.length>0?String(h[0]):_):_};function nc(h,_,E){ec(h,_),E.length>0&&(h.i=null,h.g.set(gs(h,_),T(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var E=_[k];const K=xn(E);E=tc(this,E);for(let X=0;X<E.length;X++){let ae=K;E[X]!==""&&(ae+="="+xn(E[X])),h.push(ae)}}return this.i=h.join("&")};function rc(h){const _=new We;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function gs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ta(h,_){_&&!h.j&&(ms(h),h.i=null,h.g.forEach(function(E,k){const K=k.toLowerCase();k!=K&&(ec(this,k),nc(this,K,E))},h)),h.j=_}function ys(h,_){const E=new sn;if(l.Image){const k=new Image;k.onload=g(ln,E,"TestLoadImage: loaded",!0,_,k),k.onerror=g(ln,E,"TestLoadImage: error",!1,_,k),k.onabort=g(ln,E,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(ln,E,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else _(!1)}function vs(h,_){const E=new sn,k=new AbortController,K=setTimeout(()=>{k.abort(),ln(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:k.signal}).then(X=>{clearTimeout(K),X.ok?ln(E,"TestPingServer: ok",!0,_):ln(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),ln(E,"TestPingServer: error",!1,_)})}function ln(h,_,E,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(E)}catch{}}function jo(){this.g=new ds}function Ws(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ws,rn),Ws.prototype.g=function(){return new or(this.i,this.h)};function or(h,_){ht.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(or,ht),t=or.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,$r(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sd(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function sd(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Si(this):$r(this),this.readyState==3&&sd(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Si(this))},t.Na=function(h){this.g&&(this.response=h,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(h){h.readyState=4,h.l=null,h.j=null,h.B=null,$r(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function $r(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function id(h){let _="";return ce(h,function(E,k){_+=k,_+=":",_+=E,_+=`\r
`}),_}function Sa(h,_,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=id(E),typeof h=="string"?E!=null&&xn(E):Ye(h,_,E))}function nt(h){ht.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,ht);var od=/^https?$/i,cp=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zn.g(),this.g.onreadystatechange=w(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Ii(this,X);return}if(h=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)E.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())E.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(cp,_,void 0)>=0)||k||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of E)this.g.setRequestHeader(X,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Ii(this,X)}};function Ii(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Ci(h),Hs(h)}function Ci(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Je(this,"complete"),Je(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},t.Xa=function(){qs(this)};function qs(h){if(h.h&&typeof o<"u"){if(h.v&&ws(h)==4)setTimeout(h.Ca.bind(h),0);else if(Je(h,"readystatechange"),ws(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var k;if(k=X===0){let ae=String(h.D).match(rd)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),k=!od.test(ae?ae.toLowerCase():"")}E=k}if(E)Je(h,"complete"),Je(h,"success");else{h.o=6;try{var K=ws(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Ci(h)}}finally{Hs(h)}}}}function Hs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Je(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),us(_)}};function ad(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sc(h){const _={};h=(h.g&&ws(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(M(h[k]))continue;var E=jn(h[k]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[K]||[];_[K]=X,X.push(E)}ee(_,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Ia(h){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,h),this.Za=xs("retryDelaySeedMs",1e4,h),this.Ta=xs("forwardChannelMaxRetries",2,h),this.va=xs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new _a(h&&h.concurrentRequestLimit),this.Ba=new jo,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ia.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,k){Ve(0),this.W=h,this.H=_||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=oc(this,null,this.W),Gs(this)};function Ca(h){if(Ra(h),h.I==3){var _=h.V++,E=xr(h.J);if(Ye(E,"SID",h.M),Ye(E,"RID",_),Ye(E,"TYPE","terminate"),_s(h,E),_=new Gt(h,h.j,_),_.M=2,_.A=$s(xr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=cd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Io(_)}Vo(h)}function ar(h){h.g&&(Mo(h),h.g.cancel(),h.g=null)}function Ra(h){ar(h),h.v&&(l.clearTimeout(h.v),h.v=null),Aa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Gs(h){if(!Kl(h.h)&&!h.m){h.m=!0;var _=h.Ea;G||A(),z||(G(),z=!0),R.add(_,h),h.D=0}}function ld(h,_){return Ro(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bt(f(h.Ea,h,_),ka(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new Gt(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ve(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ic(this,K,_),E=xr(this.J),Ye(E,"RID",h),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),_s(this,E),X&&(this.R?_="headers="+xn(id(X))+"&"+_:this.u&&Sa(E,this.u,X)),ba(this.h,K),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",_),Ye(E,"SID","null"),K.U=!0,zr(K,E,null)):zr(K,E,_),this.I=2}}else this.I==3&&(h?Lo(this,h):this.i.length==0||Kl(this.h)||Lo(this))};function Lo(h,_){var E;_?E=_.l:E=h.V++;const k=xr(h.J);Ye(k,"SID",h.M),Ye(k,"RID",E),Ye(k,"AID",h.K),_s(h,k),h.u&&h.o&&Sa(k,h.u,h.o),E=new Gt(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ic(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ba(h.h,E),zr(E,k,_)}function _s(h,_){h.H&&ce(h.H,function(E,k){Ye(_,k,E)}),h.l&&ce({},function(E,k){Ye(_,k,E)})}function ic(h,_,E){E=Math.min(h.i.length,E);const k=h.l?f(h.l.Ka,h.l,h):null;e:{var K=h.i;let Le=-1;for(;;){const Rt=["count="+E];Le==-1?E>0?(Le=K[0].g,Rt.push("ofs="+Le)):Le=0:Rt.push("ofs="+Le);let Ze=!0;for(let Dt=0;Dt<E;Dt++){var X=K[Dt].g;const cr=K[Dt].map;if(X-=Le,X<0)Le=Math.max(0,K[Dt].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var ae=cr instanceof Map?cr:Object.entries(cr);for(const[Ks,Es]of ae){let Ts=Es;u(Es)&&(Ts=Nn(Es)),Rt.push(X+Ks+"="+encodeURIComponent(Ts))}}catch(Ks){throw Rt.push(X+"type="+encodeURIComponent("_badmap")),Ks}}catch{k&&k(cr)}}if(Ze){ae=Rt.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),_.G=h,ae}function _n(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;G||A(),z||(G(),z=!0),R.add(_,h),h.A=0}}function bs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bt(f(h.Da,h),ka(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bt(f(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),ar(this),Ri(this))};function Mo(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Ri(h){h.g=new Gt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=xr(h.na);Ye(_,"RID","rpc"),Ye(_,"SID",h.M),Ye(_,"AID",h.K),Ye(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(_,"TO",h.ia),Ye(_,"TYPE","xmlhttp"),_s(h,_),h.u&&h.o&&Sa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=$s(xr(_)),E.u=null,E.R=!0,Hl(E,h)}t.Va=function(){this.C!=null&&(this.C=null,ar(this),bs(this),Ve(19))};function Aa(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Pa(h,_){var E=null;if(h.g==_){Aa(h),Mo(h),h.g=null;var k=2}else if(Ql(h.h,_))E=_.G,Ao(h.h,_),k=1;else return;if(h.I!=0){if(_.o)if(k==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;k=Or(),Je(k,new Ft(k,E)),Gs(h)}else _n(h);else if(K=_.m,K==3||K==0&&_.X>0||!(k==1&&ld(h,_)||k==2&&bs(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),K){case 1:lr(h,5);break;case 4:lr(h,10);break;case 3:lr(h,6);break;default:lr(h,2)}}}function ka(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function lr(h,_){if(h.j.info("Error code "+_),_==2){var E=f(h.bb,h),k=h.Ua;const K=!k;k=new fs(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Po(k,"https"),$s(k),K?ys(k.toString(),E):vs(k.toString(),E)}else Ve(2);h.I=0,h.l&&h.l.pa(_),Vo(h),Ra(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Vo(h){if(h.I=0,h.ja=[],h.l){const _=sr(h.h);(_.length!=0||h.i.length!=0)&&(C(h.ja,_),C(h.ja,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.oa()}}function oc(h,_,E){var k=E instanceof fs?xr(E):new fs(E);if(k.g!="")_&&(k.g=_+"."+k.g),ps(k,k.u);else{var K=l.location;k=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new fs(null);k&&Po(X,k),_&&(X.g=_),K&&ps(X,K),E&&(X.h=E),k=X}return E=h.G,_=h.wa,E&&_&&Ye(k,E,_),Ye(k,"VER",h.ka),_s(h,k),k}function cd(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new nt(new Ws({ab:E})):new nt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}t=ud.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Na(){}Na.prototype.g=function(h,_){return new cn(h,_)};function cn(h,_){ht.call(this),this.g=new Ia(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!M(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ai(this)}v(cn,ht),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ca(this.g)},cn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Nn(h),h=E);_.i.push(new ap(_.Ya++,h)),_.I==3&&Gs(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ca(this.g),delete this.g,cn.Z.N.call(this)};function dd(h){xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(dd,xi);function hd(){Bs.call(this),this.status=1}v(hd,Bs);function Ai(h){this.g=h}v(Ai,ud),Ai.prototype.ra=function(){Je(this.g,"a")},Ai.prototype.qa=function(h){Je(this.g,new dd(h))},Ai.prototype.pa=function(h){Je(this.g,new hd)},Ai.prototype.oa=function(){Je(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,AS=function(){return new Na},RS=function(){return Or()},CS=Bn,Mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Rh=an,Ut.COMPLETE="complete",IS=Ut,So.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Uc=So,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,SS=nt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",Y_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new bf("@firebase/firestore");function el(){return ha.logLevel}function de(t,...e){if(ha.logLevel<=Be.DEBUG){const n=e.map(e0);ha.debug(`Firestore (${kl}): ${t}`,...n)}}function hi(t,...e){if(ha.logLevel<=Be.ERROR){const n=e.map(e0);ha.error(`Firestore (${kl}): ${t}`,...n)}}function gl(t,...e){if(ha.logLevel<=Be.WARN){const n=e.map(e0);ha.warn(`Firestore (${kl}): ${t}`,...n)}}function e0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PS(t,r,n)}function PS(t,e,n){let r=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function He(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||PS(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class $4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W4{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new kS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class q4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=K4(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Vg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Gm(s)===Gm(o)?ze(s,o):Gm(s)?1:-1}return ze(t.length,e.length)}const Q4=55296,Y4=57343;function Gm(t){const e=t.charCodeAt(0);return e>=Q4&&e<=Y4}function yl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=As.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ze(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),s=As.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(n)):Vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class et extends As{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const X4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends As{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return X4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new pn([J_])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J4(t,e,n,r){if(e===!0&&r===!0)throw new le(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z_(t){if(!ye.isDocumentKey(t))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e1(t){if(ye.isDocumentKey(t))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Z4(t,e){if(e<=0)throw new le(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vu(t,e){if(!DS(t))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=-62135596800,n1=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n1);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t1)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n1}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new rt(0,0))}static max(){return new Ie(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function e6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new io(s,ye.empty(),e)}function t6(t){return new io(t.readTime,t.key,hu)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(Ie.min(),ye.empty(),hu)}static max(){return new io(Ie.max(),ye.empty(),hu)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==r6)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(d=>r(d)))})),l=!0,o===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++u,u===o&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function i6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function Ou(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function o6(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="";function a6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r1(e)),e=l6(t.get(n),e);return r1(e)}function l6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case jS:n+="";break;default:n+=o}}return n}function r1(t){return t+jS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c6(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function LS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i1(this.data.getIterator())}getIteratorFrom(e){return new i1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class i1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Wt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MS("Invalid base64 string: "+o):o}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const u6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=u6.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="server_timestamp",OS="__type__",FS="__previous_value__",US="__local_write_time__";function r0(t){return(t?.mapValue?.fields||{})[OS]?.stringValue===VS}function kf(t){const e=t.mapValue.fields[FS];return r0(e)?kf(e):e}function fu(t){const e=oo(t.mapValue.fields[US].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,s,o,l,u,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const Xh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",h6="__max__",uh={mapValue:{}},zS="__vector__",Jh="value";function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r0(t)?4:p6(t)?9007199254740991:f6(t)?10:11:xe(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=oo(s.timestampValue),u=oo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return ao(s.bytesValue).isEqual(ao(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return kt(s.geoPointValue.latitude)===kt(o.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return kt(s.integerValue)===kt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=kt(s.doubleValue),u=kt(o.doubleValue);return l===u?Yh(l)===Yh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(s1(l)!==s1(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Vs(l[d],u[d])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function mu(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=kt(o.integerValue||o.doubleValue),d=kt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return o1(t.timestampValue,e.timestampValue);case 4:return o1(fu(t),fu(e));case 5:return Vg(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ao(o),d=ao(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=ze(u[f],d[f]);if(g!==0)return g}return ze(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=ze(kt(o.latitude),kt(l.latitude));return u!==0?u:ze(kt(o.longitude),kt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return a1(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Jh]?.arrayValue,g=d[Jh]?.arrayValue,v=ze(f?.values?.length||0,g?.values?.length||0);return v!==0?v:a1(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===uh.mapValue&&l===uh.mapValue)return 0;if(o===uh.mapValue)return 1;if(l===uh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=Vg(d[v],g[v]);if(w!==0)return w;const T=vl(u[d[v]],f[g[v]]);if(T!==0)return T}return ze(d.length,g.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function o1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=oo(t),r=oo(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function a1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=vl(n[s],r[s]);if(o)return o}return ze(n.length,r.length)}function wl(t){return Og(t)}function Og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ao(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Og(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Og(n.fields[l])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function Ah(t){switch(lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(t);return e?16+Ah(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Ah(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return wo(r.fields,((o,l)=>{s+=o.length+Ah(l)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function l1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fg(t){return!!t&&"integerValue"in t}function s0(t){return!!t&&"arrayValue"in t}function c1(t){return!!t&&"nullValue"in t}function u1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}function f6(t){return(t?.mapValue?.fields||{})[BS]?.stringValue===zS}function Gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return{...t}}function p6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=pn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Gc(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ph(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wo(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new On(Gc(this.value))}}function $S(t){const e=[];return wo(t.fields,((n,r)=>{const s=new pn([n]);if(Ph(r)){const o=$S(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new tn(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new tn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new tn(e,2,n,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function d1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=vl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function h1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function m6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class Vt extends WS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y6(e,n,r):n==="array-contains"?new x6(e,r):n==="in"?new _6(e,r):n==="not-in"?new b6(e,r):n==="array-contains-any"?new E6(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v6(e,r):new w6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends WS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return qS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qS(t){return t.op==="and"}function HS(t){return g6(t)&&qS(t)}function g6(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function Ug(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(HS(t))return t.filters.map((e=>Ug(e))).join(",");{const e=t.filters.map((n=>Ug(n))).join(",");return`${t.op}(${e})`}}function GS(t,e){return t instanceof Vt?(function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Vs(r.value,s.value)})(t,e):t instanceof ts?(function(r,s){return s instanceof ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&GS(l,s.filters[u])),!0):!1})(t,e):void xe(19439)}function KS(t){return t instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(KS).join(" ,")+"}"})(t):"Filter"}class y6 extends Vt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class v6 extends Vt{constructor(e,n){super(e,"in",n),this.keys=QS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w6 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=QS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QS(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class x6 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s0(n)&&mu(n.arrayValue,this.value)}}class _6 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class b6 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class E6 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function f1(t,e=null,n=[],r=[],s=null,o=null,l=null){return new T6(t,e,n,r,s,o,l)}function i0(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ug(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function o0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h1(t.startAt,e.startAt)&&h1(t.endAt,e.endAt)}function Bg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S6(t,e,n,r,s,o,l,u){return new jl(t,e,n,r,s,o,l,u)}function Nf(t){return new jl(t)}function p1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YS(t){return t.collectionGroup!==null}function Kc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Wt(pn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new gu(o,r))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new gu(pn.keyField(),r))}return e.Ie}function Ns(t){const e=Ae(t);return e.Ee||(e.Ee=XS(e,Kc(t))),e.Ee}function I6(t){const e=Ae(t);return e.de||(e.de=XS(e,t.explicitOrderBy)),e.de}function XS(t,e){if(t.limitType==="F")return f1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new gu(s.field,o)}));const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return f1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zg(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ef(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Df(t,e){return o0(Ns(t),Ns(e))&&t.limitType===e.limitType}function JS(t){return`${i0(Ns(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>KS(s))).join(", ")}]`),Ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>wl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>wl(s))).join(",")),`Target(${r})`})(Ns(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Kc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const f=d1(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,Kc(r),s)||r.endAt&&!(function(l,u,d){const f=d1(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,Kc(r),s))})(t,e)}function C6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZS(t){return(e,n)=>{let r=!1;for(const s of Kc(t)){const o=R6(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function R6(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?vl(d,f):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new _t(ye.comparator);function fi(){return A6}const e2=new _t(ye.comparator);function Bc(...t){let e=e2;for(const n of t)e=e.insert(n.key,n);return e}function t2(t){let e=e2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ta(){return Qc()}function n2(){return Qc()}function Qc(){return new va((t=>t.toString()),((t,e)=>t.isEqual(e)))}const P6=new _t(ye.comparator),k6=new Wt(ye.comparator);function $e(...t){let e=k6;for(const n of t)e=e.add(n);return e}const N6=new Wt(ze);function D6(){return N6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function r2(t){return{integerValue:""+t}}function s2(t,e){return o6(e)?r2(e):a0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof yu?(function(s,o){const l={fields:{[OS]:{stringValue:VS},[US]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&r0(o)&&(o=kf(o)),o&&(l.fields[FS]=o),{mapValue:l}})(n,e):t instanceof xl?o2(t,e):t instanceof vu?a2(t,e):(function(s,o){const l=i2(s,o),u=m1(l)+m1(s.Ae);return Fg(l)&&Fg(s.Ae)?r2(u):a0(s.serializer,u)})(t,e)}function L6(t,e,n){return t instanceof xl?o2(t,e):t instanceof vu?a2(t,e):n}function i2(t,e){return t instanceof wu?(function(r){return Fg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class yu extends Lf{}class xl extends Lf{constructor(e){super(),this.elements=e}}function o2(t,e){const n=l2(e);for(const r of t.elements)n.some((s=>Vs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class vu extends Lf{constructor(e){super(),this.elements=e}}function a2(t,e){let n=l2(e);for(const r of t.elements)n=n.filter((s=>!Vs(s,r)));return{arrayValue:{values:n}}}class wu extends Lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m1(t){return kt(t.integerValue||t.doubleValue)}function l2(t){return s0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.field=e,this.transform=n}}function M6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof xl&&s instanceof xl||r instanceof vu&&s instanceof vu?yl(r.elements,s.elements,Vs):r instanceof wu&&s instanceof wu?Vs(r.Ae,s.Ae):r instanceof yu&&s instanceof yu})(t.transform,e.transform)}class V6{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function c2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vf(t.key,mn.none()):new Fu(t.key,t.data,mn.none());{const n=t.data,r=On.empty();let s=new Wt(pn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new xo(t.key,r,new mr(s.toArray()),mn.none())}}function O6(t,e,n){t instanceof Fu?(function(s,o,l){const u=s.value.clone(),d=y1(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof xo?(function(s,o,l){if(!kh(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=y1(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(u2(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Yc(t,e,n,r){return t instanceof Fu?(function(o,l,u,d){if(!kh(o.precondition,l))return u;const f=o.value.clone(),g=v1(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xo?(function(o,l,u,d){if(!kh(o.precondition,l))return u;const f=v1(o.fieldTransforms,d,l),g=l.data;return g.setAll(u2(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,l,u){return kh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function F6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=i2(r.transform,s||null);o!=null&&(n===null&&(n=On.empty()),n.set(r.field,o))}return n||null}function g1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yl(r,s,((o,l)=>M6(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Mf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends Mf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function y1(t,e,n){const r=new Map;He(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,L6(l,u,n[s]))}return r}function v1(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,j6(o,l,e))}return r}class Vf extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&O6(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n2();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const d=c2(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,r)=>g1(n,r)))&&yl(this.baseMutations,e.baseMutations,((n,r)=>g1(n,r)))}}class c0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return P6})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new c0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ge;function h2(t){switch(t){case Z.OK:return xe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function f2(t){if(t===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Lt.OK:return Z.OK;case Lt.CANCELLED:return Z.CANCELLED;case Lt.UNKNOWN:return Z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Z.INTERNAL;case Lt.UNAVAILABLE:return Z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Z.NOT_FOUND;case Lt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Lt.ABORTED:return Z.ABORTED;case Lt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Lt.DATA_LOSS:return Z.DATA_LOSS;default:return xe(39323,{code:t})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new no([4294967295,4294967295],0);function w1(t){const e=W6().encode(t),n=new TS;return n.update(e),new Uint8Array(n.digest())}function x1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([n,r],0),new no([s,o],0)]}class u0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=no.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(no.fromNumber(r)));return s.compare(q6)===1&&(s=new no([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w1(e),[r,s]=x1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new u0(o,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=w1(e),[r,s]=x1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Of(Ie.min(),s,new _t(ze),fi(),$e())}}class Uu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class p2{constructor(e,n){this.targetId=e,this.Ce=n}}class m2{constructor(e,n,r=gn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _1{constructor(){this.ve=0,this.Fe=b1(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:o})}})),new Uu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=b1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H6{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=dh(),this.He=dh(),this.Ye=new _t(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Bg(o))if(r===0){const l=new ye(o.path);this.et(n,l,tn.newNoDocument(l,Ie.min()))}else He(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=ao(r).toUint8Array()}catch(d){if(d instanceof MS)return gl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new u0(l,s,o)}catch(d){return gl(d instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Bg(u.target)){const d=new ye(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,tn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=$e();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Of(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=dh(),this.He=dh(),this.Ye=new _t(ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new _t(ye.comparator)}function b1(){return new _t(ye.comparator)}const G6={asc:"ASCENDING",desc:"DESCENDING"},K6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class Y6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||Ou(e)?e:{value:e}}function tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X6(t,e){return tf(t,e.toTimestamp())}function vr(t){return He(!!t,49232),Ie.fromTimestamp((function(n){const r=oo(n);return new rt(r.seconds,r.nanos)})(t))}function d0(t,e){return Wg(t,e).canonicalString()}function Wg(t,e){const n=(function(s){return new et(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function y2(t){const e=et.fromString(t);return He(T2(e),10190,{key:e.toString()}),e}function nf(t,e){return d0(t.databaseId,e.path)}function Xc(t,e){const n=y2(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(w2(n))}function v2(t,e){return d0(t.databaseId,e)}function J6(t){const e=y2(t);return e.length===4?et.emptyPath():w2(e)}function qg(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w2(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E1(t,e,n){return{name:nf(t,e),fields:n.value.mapValue.fields}}function Z6(t,e){return"found"in e?(function(r,s){He(!!s.found,43571),s.found.name,s.found.updateTime;const o=Xc(r,s.found.name),l=vr(s.found.updateTime),u=s.found.createTime?vr(s.found.createTime):Ie.min(),d=new On({mapValue:{fields:s.found.fields}});return tn.newFoundDocument(o,l,u,d)})(t,e):"missing"in e?(function(r,s){He(!!s.missing,3894),He(!!s.readTime,22933);const o=Xc(r,s.missing),l=vr(s.readTime);return tn.newNoDocument(o,l)})(t,e):xe(7234,{result:e})}function eL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:xe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(He(g===void 0||typeof g=="string",58123),gn.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),gn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const g=f.code===void 0?Z.UNKNOWN:f2(f.code);return new le(g,f.message||"")})(l);n=new m2(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xc(t,r.document.name),o=vr(r.document.updateTime),l=r.document.createTime?vr(r.document.createTime):Ie.min(),u=new On({mapValue:{fields:r.document.fields}}),d=tn.newFoundDocument(s,o,l,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Nh(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xc(t,r.document),o=r.readTime?vr(r.readTime):Ie.min(),l=tn.newNoDocument(s,o),u=r.removedTargetIds||[];n=new Nh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xc(t,r.document),o=r.removedTargetIds||[];n=new Nh([],o,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new $6(s,o),u=r.targetId;n=new p2(u,l)}}return n}function x2(t,e){let n;if(e instanceof Fu)n={update:E1(t,e.key,e.value)};else if(e instanceof Vf)n={delete:nf(t,e.key)};else if(e instanceof xo)n={update:E1(t,e.key,e.data),updateMask:cL(e.fieldMask)};else{if(!(e instanceof d2))return xe(16599,{Vt:e.type});n={verify:nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof xl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:X6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(t,e.precondition)),n}function tL(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?vr(s.updateTime):vr(o);return l.isEqual(Ie.min())&&(l=vr(o)),new V6(l,s.transformResults||[])})(n,e)))):[]}function nL(t,e){return{documents:[v2(t,e.path)]}}function _2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v2(t,s);const o=(function(f){if(f.length!==0)return E2(ts.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((g=>(function(w){return{field:Xi(w.field),direction:oL(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=$g(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function rL(t,e,n,r){const{ft:s,parent:o}=_2(t,e),l={},u=[];let d=0;return n.forEach((f=>{const g="aggregate_"+d++;l[g]=f.alias,f.aggregateType==="count"?u.push({alias:g,count:{}}):f.aggregateType==="avg"?u.push({alias:g,avg:{field:Xi(f.fieldPath)}}):f.aggregateType==="sum"&&u.push({alias:g,sum:{field:Xi(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:o}}function sL(t){let e=J6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const w=b2(v);return w instanceof ts&&HS(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((w=>(function(C){return new gu(nl(C.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Ou(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,T=v.values||[];return new Zh(T,w)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const w=!v.before,T=v.values||[];return new Zh(T,w)})(n.endAt)),S6(e,s,l,o,u,"F",d,f)}function iL(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=nl(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nl(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vt.create(nl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((r=>b2(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function oL(t){return G6[t]}function aL(t){return K6[t]}function lL(t){return Q6[t]}function Xi(t){return{fieldPath:t.canonicalString()}}function nl(t){return pn.fromServerFormat(t.fieldPath)}function E2(t){return t instanceof Vt?(function(n){if(n.op==="=="){if(u1(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NAN"}};if(c1(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u1(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NAN"}};if(c1(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(n.field),op:aL(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const r=n.getFilters().map((s=>E2(s)));return r.length===1?r[0]:{compositeFilter:{op:lL(n.op),filters:r}}})(t):xe(54877,{filter:t})}function cL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function T2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,o=Ie.min(),l=Ie.min(),u=gn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.yt=e}}function dL(t){const e=sL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Cn=new fL}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(io.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class fL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(et.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S2=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(S2,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LruGarbageCollector",pL=1048576;function I1([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class mL{constructor(e){this.Ir=e,this.buffer=new Wt(I1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(S1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?de(S1,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)}))}}class yL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Pf.ce);const r=new mL(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(T1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),el()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function vL(t,e){return new yL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Yc(r.mutation,s,mr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Bc();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let o=fi();const l=Qc(),u=(function(){return Qc()})();return n.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof xo)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Yc(g.mutation,f,g.mutation.getFieldMask(),rt.now())):l.set(f.key,mr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>u.set(f,new xL(g,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Qc();let s=new _t(((l,u)=>l-u)),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=r.get(d)||mr.empty();g=u.applyToLocalView(f,g),r.set(d,g);const v=(s.get(u.batchId)||$e()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,v=n2();g.forEach((w=>{if(!o.has(w)){const T=c2(n.get(w),r.get(w));T!==null&&v.set(w,T),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):te.resolve(ta());let u=hu,d=o;return l.next((f=>te.forEach(f,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,$e()))).next((g=>({batchId:u,changes:t2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let s=Bc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Bc();return this.indexManager.getCollectionParents(e,o).next((u=>te.forEach(u,(d=>{const f=(function(v,w){return new jl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((v,w)=>{l=l.insert(v,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,tn.newInvalidDocument(g)))}));let u=Bc();return l.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Yc(g.mutation,f,mr.empty(),rt.now()),jf(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:dL(s.bundledQuery),readTime:vr(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.overlays=new _t(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ta();return te.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=ta(),o=n.length+1,l=new ye(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new _t(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=ta(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=ta(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new B6(n,r));let o=this.qr.get(n);o===void 0&&(o=$e(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.Qr=new Wt(Jt.$r),this.Ur=new Wt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new et([])),r=new Jt(n,e),s=new Jt(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new et([])),r=new Jt(n,e),s=new Jt(n,e+1);let o=$e();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new U6(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Jt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?n0:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ze);return n.forEach((s=>{const o=new Jt(s,0),l=new Jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const l=new Jt(new ye(o),0);let u=new Wt(ze);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(d.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const o=new Jt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Jt(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.ri=e,this.docs=(function(){return new _t(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():tn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fi();const l=n.path,u=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||n6(t6(g),r)<=0||(s.has(g.key)||jf(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CL(this)}getSize(e){return te.resolve(this.size)}}class CL extends wL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.persistence=e,this.si=new va((n=>i0(n)),o0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new h0,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(o).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new TL,this.referenceDelegate=e(this),this.Pi=new RL(this),this.indexManager=new hL,this.remoteDocumentCache=(function(s){return new IL(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uL(n),this.Ii=new bL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new SL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new AL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class AL extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ri=new h0,this.Vi=null}static mi(e){return new f0(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ye.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rf{constructor(e,n){this.persistence=e,this.pi=new va((r=>a6(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=vL(this,n)}static mi(e,n){return new rf(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,Ie.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new p0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Bk()?8:i6(Pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new PL;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(el()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(el()<=Be.DEBUG&&de("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(el()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):te.resolve())}ys(e,n){if(p1(n))return te.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ef(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=$e(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,u);return this.Cs(n,f,l,d.readTime)?this.ys(e,ef(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,s){return p1(n)||s.isEqual(Ie.min())?te.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?te.resolve(null):(el()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tl(n)),this.vs(e,l,n,e6(s,hu)).next((u=>u)))}))}Ds(e,n){let r=new Wt(ZS(e));return n.forEach(((s,o)=>{jf(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return el()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,io.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LocalStore",NL=3e8;class DL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new _t(ze),this.xs=new va((o=>i0(o)),o0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _L(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jL(t,e,n,r){return new DL(t,e,n,r)}async function C2(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let d=$e();for(const f of s){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function LL(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const v=f.batch,w=v.keys();let T=te.resolve();return w.forEach((C=>{T=T.next((()=>g.getEntry(d,C))).next((P=>{const S=f.docVersions.get(C);He(S!==null,48541),P.version.compareTo(S)<0&&(v.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),g.addEntry(P)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=$e();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function R2(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ML(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;u.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(gn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(P,S,D){return P.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=NL?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,T,g)&&u.push(n.Pi.updateTargetData(o,T))}));let d=fi(),f=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(VL(o,l,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(Ie.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(n.Ms=s,o)))}function VL(t,e,n){let r=$e(),s=$e();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=fi();return n.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(m0,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function OL(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FL(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Hg(t,e,n){const r=Ae(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Dl(l))throw l;de(m0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function C1(t,e,n){const r=Ae(t);let s=Ie.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const v=Ae(d),w=v.xs.get(g);return w!==void 0?te.resolve(v.Ms.get(w)):v.Pi.getTargetData(f,g)})(r,l,Ns(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ie.min(),n?o:$e()))).next((u=>(UL(r,C6(e),u),{documents:u,Qs:o})))))}function UL(t,e,n){let r=t.Os.get(e)||Ie.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class R1{constructor(){this.activeTargetIds=D6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Mo=new R1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="ConnectivityMonitor";class P1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(A1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(A1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Gg(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",$L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=Gg(),u=this.zo(e,n.toUriEncodedString());de(Km,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:f}=new URL(u),g=po(f);return this.Jo(e,u,d,r,g).then((v=>(de(Km,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw gl(Km,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=$L[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class HL extends WL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Gg();return new Promise(((u,d)=>{const f=new SS;f.setWithCredentials(!0),f.listenOnce(IS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Rh.NO_ERROR:const v=f.getResponseJson();de(In,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Rh.TIMEOUT:de(In,`RPC '${e}' ${l} timed out`),d(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const w=f.getStatus();if(de(In,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const P=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN})(C.status);d(new le(P,C.message))}else d(new le(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new le(Z.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{de(In,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(In,`RPC '${e}' ${l} sending request:`,s),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Gg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=AS(),u=RS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");de(In,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let w=!1,T=!1;const C=new qL({Yo:S=>{T?de(In,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(w||(de(In,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),de(In,`RPC '${e}' stream ${s} sending:`,S),v.send(S))},Zo:()=>v.close()}),P=(S,D,j)=>{S.listen(D,(F=>{try{j(F)}catch(q){setTimeout((()=>{throw q}),0)}}))};return P(v,Uc.EventType.OPEN,(()=>{T||(de(In,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),P(v,Uc.EventType.CLOSE,(()=>{T||(T=!0,de(In,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(v))})),P(v,Uc.EventType.ERROR,(S=>{T||(T=!0,gl(In,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),C.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),P(v,Uc.EventType.MESSAGE,(S=>{if(!T){const D=S.data[0];He(!!D,16349);const j=D,F=j?.error||j[0]?.error;if(F){de(In,`RPC '${e}' stream ${s} received error:`,F);const q=F.status;let G=(function(A){const N=Lt[A];if(N!==void 0)return f2(N)})(q),z=F.message;G===void 0&&(G=Z.INTERNAL,z="Unknown error status: "+q+" with message "+F.message),T=!0,C.a_(new le(G,z)),v.close()}else de(In,`RPC '${e}' stream ${s} received:`,D),C.u_(D)}})),P(u,CS.STAT_EVENT,(S=>{S.stat===Mg.PROXY?de(In,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Mg.NOPROXY&&de(In,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new Y6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="PersistentStream";class A2{constructor(e,n,r,s,o,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new le(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(k1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(k1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GL extends A2{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?vr(l.readTime):Ie.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=qg(this.serializer),n.addTarget=(function(o,l){let u;const d=l.target;if(u=Bg(d)?{documents:nL(o,d)}:{query:_2(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=g2(o,l.resumeToken);const f=$g(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=tf(o,l.snapshotVersion.toTimestamp());const f=$g(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=iL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=qg(this.serializer),n.removeTarget=e,this.q_(n)}}class KL extends A2{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tL(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>x2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{}class YL extends QL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Wg(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Z.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Wg(n,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class JL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wa(this)&&(de(fa,"Restarting streams for network reachability change."),await(async function(d){const f=Ae(d);f.Ea.add(4),await Bu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Uf(f)})(this))}))})),this.Ra=new XL(r,s)}}async function Uf(t){if(wa(t))for(const e of t.da)await e(!0)}async function Bu(t){for(const e of t.da)await e(!1)}function P2(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),x0(n)?w0(n):Ll(n).O_()&&v0(n,e))}function y0(t,e){const n=Ae(t),r=Ll(n);n.Ia.delete(e),r.O_()&&k2(n,e),n.Ia.size===0&&(r.O_()?r.L_():wa(n)&&n.Ra.set("Unknown"))}function v0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function k2(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function w0(t){t.Va=new H6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function x0(t){return wa(t)&&!Ll(t).x_()&&t.Ia.size>0}function wa(t){return Ae(t).Ea.size===0}function N2(t){t.Va=void 0}async function ZL(t){t.Ra.set("Online")}async function eM(t){t.Ia.forEach(((e,n)=>{v0(t,e)}))}async function tM(t,e){N2(t),x0(t)?(t.Ra.ha(e),w0(t)):t.Ra.set("Unknown")}async function nM(t,e,n){if(t.Ra.set("Online"),e instanceof m2&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){de(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(t,r)}else if(e instanceof Nh?t.Va.Ze(e):e instanceof p2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const r=await R2(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(gn.EMPTY_BYTE_STRING,g.snapshotVersion)),k2(o,d);const v=new Zi(g.target,d,f,g.sequenceNumber);v0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){de(fa,"Failed to raise snapshot:",r),await sf(t,r)}}async function sf(t,e,n){if(!Dl(e))throw e;t.Ea.add(1),await Bu(t),t.Ra.set("Offline"),n||(n=()=>R2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uf(t)}))}function D2(t,e){return e().catch((n=>sf(t,n,e)))}async function Bf(t){const e=Ae(t),n=co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n0;for(;rM(e);)try{const s=await OL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,sM(e,s)}catch(s){await sf(e,s)}j2(e)&&L2(e)}function rM(t){return wa(t)&&t.Ta.length<10}function sM(t,e){t.Ta.push(e);const n=co(t);n.O_()&&n.X_&&n.ea(e.mutations)}function j2(t){return wa(t)&&!co(t).x_()&&t.Ta.length>0}function L2(t){co(t).start()}async function iM(t){co(t).ra()}async function oM(t){const e=co(t);for(const n of t.Ta)e.ea(n.mutations)}async function aM(t,e,n){const r=t.Ta.shift(),s=c0.from(r,e,n);await D2(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Bf(t)}async function lM(t,e){e&&co(t).X_&&await(async function(r,s){if((function(l){return h2(l)&&l!==Z.ABORTED})(s.code)){const o=r.Ta.shift();co(r).B_(),await D2(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Bf(r)}})(t,e),j2(t)&&L2(t)}async function N1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),de(fa,"RemoteStore received new credentials");const r=wa(n);n.Ea.add(3),await Bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uf(n)}async function cM(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Uf(n)):e||(n.Ea.add(2),await Bu(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=(function(n,r,s){const o=Ae(n);return o.sa(),new GL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:ZL.bind(null,t),t_:eM.bind(null,t),r_:tM.bind(null,t),H_:nM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),x0(t)?w0(t):t.Ra.set("Unknown")):(await t.ma.stop(),N2(t))}))),t.ma}function co(t){return t.fa||(t.fa=(function(n,r,s){const o=Ae(n);return o.sa(),new KL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iM.bind(null,t),r_:lM.bind(null,t),ta:oM.bind(null,t),na:aM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bf(t)):(await t.fa.stop(),t.Ta.length>0&&(de(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new _0(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Dl(t))return new le(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Bc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.ga=new _t(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bl{constructor(e,n,r,s,o,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new bl(e,n,fl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dM{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ae(n),o=s.queries;s.queries=j1(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function j1(){return new va((t=>JS(t)),Df)}async function E0(t,e){const n=Ae(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new uM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=b0(l,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&S0(n)}async function T0(t,e){const n=Ae(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hM(t,e){const n=Ae(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&S0(n)}function fM(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function S0(t){t.Ca.forEach((e=>{e.next()}))}var Kg,L1;(L1=Kg||(Kg={})).Ma="default",L1.Cache="cache";class I0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class pM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=ZS(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new D1,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),T=jf(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;w&&T?w.data.isEqual(T.data)?C!==P&&(r.track({type:3,doc:T}),S=!0):this.su(w,T)||(r.track({type:2,doc:T}),S=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(u=!0)):!w&&T?(r.track({type:0,doc:T}),S=!0):w&&!T&&(r.track({type:1,doc:w}),S=!0,(d||f)&&(u=!0)),S&&(T?(l=l.add(T),o=P?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,C){const P=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return P(T)-P(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new bl(this.query,e.tu,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new V2(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new M2(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C0="SyncEngine";class mM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gM{constructor(e){this.key=e,this.hu=!1}}class yM{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new va((u=>JS(u)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ye.comparator),this.Au=new Map,this.Ru=new h0,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vM(t,e,n=!0){const r=$2(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await O2(r,e,n,!0),s}async function wM(t,e){const n=$2(t);await O2(n,e,!0,!1)}async function O2(t,e,n,r){const s=await FL(t.localStore,Ns(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await xM(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&P2(t.remoteStore,s),u}async function xM(t,e,n,r,s){t.pu=(v,w,T)=>(async function(P,S,D,j){let F=S.view.ru(D);F.Cs&&(F=await C1(P.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,F))));const q=j&&j.targetChanges.get(S.targetId),G=j&&j.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(F,P.isPrimaryClient,q,G);return V1(P,S.targetId,z.au),z.snapshot})(t,v,w,T);const o=await C1(t.localStore,e,!0),l=new pM(e,o.Qs),u=l.ru(o.documents),d=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(u,t.isPrimaryClient,d);V1(t,n,f.au);const g=new mM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function _M(t,e,n){const r=Ae(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Df(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&y0(r.remoteStore,s.targetId),Qg(r,s.targetId)})).catch(Nl)):(Qg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function bM(t,e){const n=Ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y0(n.remoteStore,r.targetId))}async function EM(t,e,n){const r=PM(t);try{const s=await(function(l,u){const d=Ae(l),f=rt.now(),g=u.reduce(((T,C)=>T.add(C.key)),$e());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let C=fi(),P=$e();return d.Ns.getEntries(T,g).next((S=>{C=S,C.forEach(((D,j)=>{j.isValidDocument()||(P=P.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,C))).next((S=>{v=S;const D=[];for(const j of u){const F=F6(j,v.get(j.key).overlayedDocument);F!=null&&D.push(new xo(j.key,F,$S(F.value.mapValue),mn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,D,u)})).next((S=>{w=S;const D=S.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(T,S.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:t2(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new _t(ze)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,n),await zu(r,s.changes),await Bf(r.remoteStore)}catch(s){const o=b0(s,"Failed to persist write");n.reject(o)}}async function F2(t,e){const n=Ae(t);try{const r=await ML(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?He(l.hu,14607):s.removedDocuments.size>0&&(He(l.hu,42227),l.hu=!1))})),await zu(n,r,e)}catch(r){await Nl(r)}}function M1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ae(l);d.onlineState=u;let f=!1;d.queries.forEach(((g,v)=>{for(const w of v.Sa)w.va(u)&&(f=!0)})),f&&S0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TM(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new _t(ye.comparator);l=l.insert(o,tn.newNoDocument(o,Ie.min()));const u=$e().add(o),d=new Of(Ie.min(),new Map,new _t(ze),l,u);await F2(r,d),r.du=r.du.remove(o),r.Au.delete(e),R0(r)}else await Hg(r.localStore,e,!1).then((()=>Qg(r,e,n))).catch(Nl)}async function SM(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await LL(n.localStore,e);B2(n,r,null),U2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,s)}catch(s){await Nl(s)}}async function IM(t,e,n){const r=Ae(t);try{const s=await(function(l,u){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((v=>(He(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);B2(r,e,n),U2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zu(r,s)}catch(s){await Nl(s)}}function U2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function B2(t,e,n){const r=Ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||z2(t,r)}))}function z2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(y0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),R0(t))}function V1(t,e,n){for(const r of n)r instanceof M2?(t.Ru.addReference(r.key,e),CM(t,r)):r instanceof V2?(de(C0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||z2(t,r.key)):xe(19791,{wu:r})}function CM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(C0,"New document in limbo: "+n),t.Eu.add(r),R0(t))}function R0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(et.fromString(e)),r=t.fu.next();t.Au.set(r,new gM(n)),t.du=t.du.insert(n,r),P2(t.remoteStore,new Zi(Ns(Nf(n.path)),r,"TargetPurposeLimboResolution",Pf.ce))}}async function zu(t,e,n){const r=Ae(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=p0.As(d.targetId,f);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,f){const g=Ae(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(f,(w=>te.forEach(w.Es,(T=>g.persistence.referenceDelegate.addReference(v,w.targetId,T))).next((()=>te.forEach(w.ds,(T=>g.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))))))}catch(v){if(!Dl(v))throw v;de(m0,"Failed to update sequence numbers: "+v)}for(const v of f){const w=v.targetId;if(!v.fromCache){const T=g.Ms.get(w),C=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(w,P)}}})(r.localStore,o))}async function RM(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){de(C0,"User change. New user:",e.toKey());const r=await C2(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new le(Z.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(n,r.Ls)}}function AM(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function $2(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.Pu.H_=hM.bind(null,e.eventManager),e.Pu.yu=fM.bind(null,e.eventManager),e}function PM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jL(this.persistence,new kL,e.initialUser,this.serializer)}Cu(e){return new I2(f0.mi,this.serializer)}Du(e){return new BL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class kM extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof rf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new I2((r=>rf.mi(r,n)),this.serializer)}}class Yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RM.bind(null,this.syncEngine),await cM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dM})()}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),r=(function(o){return new HL(o)})(e.databaseInfo);return(function(o,l,u,d){return new YL(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,u){return new JL(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>M1(this.syncEngine,n,0)),(function(){return P1.v()?new P1:new zL})())}createSyncEngine(e,n){return(function(s,o,l,u,d,f,g){const v=new yM(s,o,l,u,d,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);de(fa,"RemoteStore shutting down."),r.Ea.add(5),await Bu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,o){const l=Ae(s),u={documents:o.map((v=>nf(l.serializer,v)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,et.emptyPath(),u,o.length),f=new Map;d.forEach((v=>{const w=Z6(l.serializer,v);f.set(w.key.toString(),w)}));const g=[];return o.forEach((v=>{const w=f.get(v.toString());He(!!w,55234,{key:v}),g.push(w)})),g})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=ye.fromPath(r);this.mutations.push(new d2(s,this.precondition(s)))})),await(async function(r,s){const o=Ae(r),l={writes:s.map((u=>x2(o.serializer,u)))};await o.Go("Commit",o.serializer.databaseId,et.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Gu:e.constructor.name});n=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ie.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ie.min()))throw new le(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,s,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new g0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new NM(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!h2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class jM{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=t0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{de(uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ym(t,e){t.asyncQueue.verifyOperationInProgress(),de(uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await C2(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function O1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LM(t);de(uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>N1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>N1(e.remoteStore,s))),t._onlineComponents=e}async function LM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(uo,"Using user provided OfflineComponentProvider");try{await Ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Ym(t,new of)}}else de(uo,"Using default OfflineComponentProvider"),await Ym(t,new kM(void 0));return t._offlineComponents}async function P0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(uo,"Using user provided OnlineComponentProvider"),await O1(t,t._uninitializedComponentsProvider._online)):(de(uo,"Using default OnlineComponentProvider"),await O1(t,new Yg))),t._onlineComponents}function MM(t){return P0(t).then((e=>e.syncEngine))}function W2(t){return P0(t).then((e=>e.datastore))}async function af(t){const e=await P0(t),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=_M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bM.bind(null,e.syncEngine),n}function VM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const g=new A0({next:w=>{g.Nu(),l.enqueueAndForget((()=>T0(o,v)));const T=w.docs.has(u);!T&&w.fromCache?f.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?f.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new I0(Nf(u.path),g,{includeMetadataChanges:!0,qa:!0});return E0(o,v)})(await af(t),t.asyncQueue,e,n,r))),r.promise}function OM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const g=new A0({next:w=>{g.Nu(),l.enqueueAndForget((()=>T0(o,v))),w.fromCache&&d.source==="server"?f.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new I0(u,g,{includeMetadataChanges:!0,qa:!0});return E0(o,v)})(await af(t),t.asyncQueue,e,n,r))),r.promise}function FM(t,e,n){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await W2(t);r.resolve((async function(l,u,d){const f=Ae(l),{request:g,gt:v,parent:w}=rL(f.serializer,I6(u),d);f.connection.$o||delete g.parent;const T=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,w,g,1)).filter((P=>!!P.result));He(T.length===1,64727);const C=T[0].result?.aggregateFields;return Object.keys(C).reduce(((P,S)=>(P[v[S]]=C[S],P)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firestore.googleapis.com",U1=!0;class B1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H2,this.ssl=U1}else this.host=e.host,this.ssl=e.ssl??U1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pL)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new z4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F1.get(n);r&&(de("ComponentProvider","Removing Datastore"),F1.delete(n),r.terminate())})(this),Promise.resolve()}}function UM(t,e,n,r={}){t=An(t,zf);const s=po(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Ly(`https://${u}`),My("Firestore",!0)),o.host!==H2&&o.host!==u&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:s,emulatorOptions:r};if(!ci(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Cn.MOCK_USER;else{f=dT(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Cn(v)}t._authCredentials=new $4(new kS(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vu(n,wt._jsonSchema))return new wt(e,r||null,new ye(et.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ot("string",wt._jsonSchemaVersion),referencePath:Ot("string")};class ro extends gi{constructor(e,n,r){super(e,n,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ye(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function st(t,e,...n){if(t=tt(t),NS("collection","path",e),t instanceof zf){const r=et.fromString(e,...n);return e1(r),new ro(t,null,r)}{if(!(t instanceof wt||t instanceof ro))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return e1(r),new ro(t.firestore,null,r)}}function it(t,e,...n){if(t=tt(t),arguments.length===1&&(e=t0.newId()),NS("doc","path",e),t instanceof zf){const r=et.fromString(e,...n);return Z_(r),new wt(t,null,new ye(r))}{if(!(t instanceof wt||t instanceof ro))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return Z_(r),new wt(t.firestore,t instanceof ro?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="AsyncQueue";class $1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g0(this,"async_queue_retry"),this._c=()=>{const r=Qm();r&&de(z1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;de(z1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",W1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=_0.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:W1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ns extends zf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function BM(t,e){const n=typeof t=="object"?t:Ef(),r=typeof t=="string"?t:Xh,s=mo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=lT("firestore");o&&UM(s,...o)}return s}function Ml(t){if(t._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zM(t),t._firestoreClient}function zM(t){const e=t._freezeSettings(),n=(function(s,o,l,u){return new d6(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,q2(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class WM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(gn.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Ot("string",pr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Ds._jsonSchema))return new Ds(e.latitude,e.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Ot("string",Ds._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Ot("string",js._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=/^__.*__$/;class HM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class G2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class $f{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(K2(this.Ac)&&qM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(e)}Cc(e,n,r,s=!1){return new $f({Ac:e,methodName:n,Dc:r,path:pn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wu(t){const e=t._freezeSettings(),n=Ff(t._databaseId);return new GM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k0(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);L0("Data must be an object, but it was:",l,r);const u=X2(r,l);let d,f;if(o.merge)d=new mr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=Xg(e,v,n);if(!l.contains(w))throw new le(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Z2(g,w)||g.push(w)}d=new mr(g),f=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=l.fieldTransforms;return new HM(new On(u),d,f)}class Wf extends Vl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wf}}function KM(t,e,n){return new $f({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N0 extends Vl{_toFieldTransform(e){return new l0(e.path,new yu)}isEqual(e){return e instanceof N0}}class D0 extends Vl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=KM(this,e,!0),r=this.vc.map((o=>Ol(o,n))),s=new xl(r);return new l0(e.path,s)}isEqual(e){return e instanceof D0&&ci(this.vc,e.vc)}}class j0 extends Vl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new wu(e.serializer,s2(e.serializer,this.Fc));return new l0(e.path,n)}isEqual(e){return e instanceof j0&&this.Fc===e.Fc}}function Q2(t,e,n,r){const s=t.Cc(1,e,n);L0("Data must be an object, but it was:",s,r);const o=[],l=On.empty();wo(r,((d,f)=>{const g=M0(e,d,n);f=tt(f);const v=s.yc(g);if(f instanceof Wf)o.push(g);else{const w=Ol(f,v);w!=null&&(o.push(g),l.set(g,w))}}));const u=new mr(o);return new G2(l,u,s.fieldTransforms)}function Y2(t,e,n,r,s,o){const l=t.Cc(1,e,n),u=[Xg(e,r,n)],d=[s];if(o.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(Xg(e,o[w])),d.push(o[w+1]);const f=[],g=On.empty();for(let w=u.length-1;w>=0;--w)if(!Z2(f,u[w])){const T=u[w];let C=d[w];C=tt(C);const P=l.yc(T);if(C instanceof Wf)f.push(T);else{const S=Ol(C,P);S!=null&&(f.push(T),g.set(T,S))}}const v=new mr(f);return new G2(g,v,l.fieldTransforms)}function QM(t,e,n,r=!1){return Ol(n,t.Cc(r?4:3,e))}function Ol(t,e){if(J2(t=tt(t)))return L0("Unsupported field value:",e,t),X2(t,e);if(t instanceof Vl)return(function(r,s){if(!K2(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const u of r){let d=Ol(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:tf(s.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tf(s.serializer,o)}}if(r instanceof Ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:g2(s.serializer,r._byteString)};if(r instanceof wt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:d0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof js)return(function(l,u){return{mapValue:{fields:{[BS]:{stringValue:zS},[Jh]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return a0(u.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Af(r)}`)})(t,e)}function X2(t,e){const n={};return LS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,((r,s)=>{const o=Ol(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function J2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Ds||t instanceof pr||t instanceof wt||t instanceof Vl||t instanceof js)}function L0(t,e,n){if(!J2(n)||!DS(n)){const r=Af(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Xg(t,e,n){if((e=tt(e))instanceof $u)return e._internalPath;if(typeof e=="string")return M0(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const YM=new RegExp("[~\\*/\\[\\]]");function M0(t,e,n){if(e.search(YM)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $u(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new le(Z.INVALID_ARGUMENT,u+t+d)}function Z2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XM extends cf{data(){return super.data()}}function qf(t,e){return typeof e=="string"?M0(t,e):e instanceof $u?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V0{}class O0 extends V0{}function Nt(t,e,...n){let r=[];e instanceof V0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof F0)).length,u=o.filter((d=>d instanceof Hf)).length;if(l>1||l>0&&u>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Hf extends O0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hf(e,n,r)}_apply(e){const n=this._parse(e);return tI(e._query,n),new gi(e.firestore,e.converter,zg(e._query,n))}_parse(e){const n=Wu(e.firestore);return(function(o,l,u,d,f,g,v){let w;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){G1(v,g);const C=[];for(const P of v)C.push(H1(d,o,P));w={arrayValue:{values:C}}}else w=H1(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||G1(v,g),w=QM(u,l,v,g==="in"||g==="not-in");return Vt.create(f,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xt(t,e,n){const r=e,s=qf("where",t);return Hf._create(s,r,n)}class F0 extends V0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)tI(l,d),l=zg(l,d)})(e._query,n),new gi(e.firestore,e.converter,zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U0 extends O0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(o,l)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new jl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function _o(t,e="asc"){const n=e,r=qf("orderBy",t);return U0._create(r,n)}class B0 extends O0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new B0(e,n,r)}_apply(e){return new gi(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function z0(t){return Z4("limit",t),B0._create("limit",t,"F")}function H1(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YS(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!ye.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l1(t,new ye(r))}if(n instanceof wt)return l1(t,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function G1(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tI(t,e){const n=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nI{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Jh].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new js(n)}convertGeoPoint(e){return new Ds(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=oo(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);He(T2(r),9688,{name:e});const s=new pu(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return s.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class JM extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function ZM(){return new $M("count")}class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends cf{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Ot("string",so._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Dh extends so{data(e={}){return super.data(e)}}class sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Dh(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Dh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new rl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Dh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new rl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:e3(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){t=An(t,wt);const e=An(t.firestore,ns);return VM(Ml(e),t._key).then((n=>sI(e,t,n)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Ot("string",sa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class qu extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function er(t){t=An(t,gi);const e=An(t.firestore,ns),n=Ml(e),r=new qu(e);return eI(t._query),OM(n,t._query).then((s=>new sa(e,r,t,s)))}function Gf(t,e,n){t=An(t,wt);const r=An(t.firestore,ns),s=$0(t.converter,e,n);return Kf(r,[k0(Wu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mn.none())])}function Us(t,e,n,...r){t=An(t,wt);const s=An(t.firestore,ns),o=Wu(s);let l;return l=typeof(e=tt(e))=="string"||e instanceof $u?Y2(o,"updateDoc",t._key,e,n,r):Q2(o,"updateDoc",t._key,e),Kf(s,[l.toMutation(t._key,mn.exists(!0))])}function rI(t){return Kf(An(t.firestore,ns),[new Vf(t._key,mn.none())])}function yi(t,e){const n=An(t.firestore,ns),r=it(t),s=$0(t.converter,e);return Kf(n,[k0(Wu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then((()=>r))}function El(t,...e){t=tt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||q1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(q1(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,l,u;if(t instanceof wt)l=An(t.firestore,ns),u=Nf(t._key.path),o={next:d=>{e[r]&&e[r](sI(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=An(t,gi);l=An(d.firestore,ns),u=d._query;const f=new qu(l);o={next:g=>{e[r]&&e[r](new sa(l,f,d,g))},error:e[r+1],complete:e[r+2]},eI(t._query)}return(function(f,g,v,w){const T=new A0(w),C=new I0(g,T,v);return f.asyncQueue.enqueueAndForget((async()=>E0(await af(f),C))),()=>{T.Nu(),f.asyncQueue.enqueueAndForget((async()=>T0(await af(f),C)))}})(Ml(l),u,s,o)}function Kf(t,e){return(function(r,s){const o=new Zr;return r.asyncQueue.enqueueAndForget((async()=>EM(await MM(r),s,o))),o.promise})(Ml(t),e)}function sI(t,e,n){const r=n.docs.get(e._key),s=new qu(t);return new so(t,s,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}function K1(t){return t3(t,{count:ZM()})}function t3(t,e){const n=An(t.firestore,ns),r=Ml(n),s=c6(e,((o,l)=>new z6(l,o.aggregateType,o._internalFieldPath)));return FM(r,t._query,s).then((o=>(function(u,d,f){const g=new qu(u);return new WM(d,g,f)})(n,t,o)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={maxAttempts:5};function $c(t,e){if((t=tt(t)).firestore!==e)throw new le(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wu(e)}get(e){const n=$c(e,this._firestore),r=new JM(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return xe(24041);const o=s[0];if(o.isFoundDocument())return new cf(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new cf(this._firestore,r,n._key,null,n.converter);throw xe(18433,{doc:o})}))}set(e,n,r){const s=$c(e,this._firestore),o=$0(s.converter,n,r),l=k0(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const o=$c(e,this._firestore);let l;return l=typeof(n=tt(n))=="string"||n instanceof $u?Y2(this._dataReader,"Transaction.update",o._key,n,r,s):Q2(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,l),this}delete(e){const n=$c(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3 extends r3{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$c(e,this._firestore),r=new qu(this._firestore);return super.get(e).then((s=>new so(this._firestore,r,n._key,s._document,new rl(!1,!1),n.converter)))}}function i3(t,e,n){t=An(t,ns);const r={...n3,...n};return(function(o){if(o.maxAttempts<1)throw new le(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,l,u){const d=new Zr;return o.asyncQueue.enqueueAndForget((async()=>{const f=await W2(o);new DM(o.asyncQueue,f,u,l,d).ju()})),d.promise})(Ml(t),(s=>e(new s3(t,s))),r)}function nn(){return new N0("serverTimestamp")}function o3(...t){return new D0("arrayUnion",t)}function iI(t){return new j0("increment",t)}(function(e,n=!0){(function(s){kl=s})(ya),es(new Nr("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new ns(new W4(r.getProvider("auth-internal")),new G4(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(f.options.projectId,g)})(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zn(Q_,Y_,e),Zn(Q_,Y_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebasestorage.googleapis.com",aI="storageBucket",a3=120*1e3,l3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Mr{constructor(e,n,r=0){super(Xm(e),`Firebase Storage: ${n} (${Xm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function Xm(t){return"storage/"+t}function W0(){const t="An unknown error occurred, please check the error payload for server response.";return new It(St.UNKNOWN,t)}function c3(t){return new It(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u3(t){return new It(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(St.UNAUTHENTICATED,t)}function h3(){return new It(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f3(t){return new It(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function p3(){return new It(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m3(){return new It(St.CANCELED,"User canceled the upload/download.")}function g3(t){return new It(St.INVALID_URL,"Invalid URL '"+t+"'.")}function y3(t){return new It(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function v3(){return new It(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aI+"' property when initializing the app?")}function w3(){return new It(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x3(){return new It(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _3(t){return new It(St.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jg(t){return new It(St.INVALID_ARGUMENT,t)}function lI(){return new It(St.APP_DELETED,"The Firebase app was deleted.")}function b3(t){return new It(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jc(t,e){return new It(St.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function jc(t){throw new It(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw y3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),C={bucket:1,path:3},P=n===oI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",D=new RegExp(`^https?://${P}/${s}/${S}`,"i"),F=[{regex:u,indices:d,postModify:o},{regex:T,indices:C,postModify:f},{regex:D,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<F.length;q++){const G=F[q],z=G.regex.exec(e);if(z){const R=z[G.indices.bucket];let A=z[G.indices.path];A||(A=""),r=new gr(R,A),G.postModify(r);break}}if(r==null)throw g3(e);return r}}class E3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let f=!1;function g(...S){f||(f=!0,e.apply(null,S))}function v(S){s=setTimeout(()=>{s=null,t(T,d())},S)}function w(){o&&clearTimeout(o)}function T(S,...D){if(f){w();return}if(S){w(),g.call(null,S,...D);return}if(d()||l){w(),g.call(null,S,...D);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let C=!1;function P(S){C||(C=!0,w(),!f&&(s!==null?(S||(u=2),clearTimeout(s),v(0)):S||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function S3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return t!==void 0}function C3(t){return typeof t=="object"&&!Array.isArray(t)}function q0(t){return typeof t=="string"||t instanceof String}function Q1(t){return H0()&&t instanceof Blob}function H0(){return typeof Blob<"u"}function Y1(t,e,n,r){if(r<e)throw Jg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,s,o,l,u,d,f,g,v,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===ia.NO_ERROR,d=o.getStatus();if(!u||R3(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ia.ABORT;r(!1,new fh(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new fh(f,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());I3(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=W0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?lI():m3();l(d)}else{const d=p3();l(d)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=T3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function P3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j3(t,e,n,r,s,o,l=!0,u=!1){const d=cI(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return N3(g,e),P3(g,n),k3(g,o),D3(g,r),new A3(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function M3(...t){const e=L3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(H0())return new Blob(t);throw new It(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){if(typeof atob>"u")throw _3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(e,n){this.data=e,this.contentType=n||null}}function F3(t,e){switch(t){case Ps.RAW:return new Jm(uI(e));case Ps.BASE64:case Ps.BASE64URL:return new Jm(dI(t,e));case Ps.DATA_URL:return new Jm(B3(e),z3(e))}throw W0()}function uI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function U3(t){let e;try{e=decodeURIComponent(t)}catch{throw Jc(Ps.DATA_URL,"Malformed data URL.")}return uI(e)}function dI(t,e){switch(t){case Ps.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Jc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ps.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Jc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=O3(e)}catch(s){throw s.message.includes("polyfill")?s:Jc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class hI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jc(Ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function B3(t){const e=new hI(t);return e.base64?dI(Ps.BASE64,e.rest):U3(e.rest)}function z3(t){return new hI(t).contentType}function $3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,s="";Q1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Q1(this.data_)){const r=this.data_,s=V3(r,e,n);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(H0()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(M3.apply(null,n))}else{const n=e.map(l=>q0(l)?F3(Ps.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[o++]=l[u]}),new Ji(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){let e;try{e=JSON.parse(t)}catch{return null}return C3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e){return e}class Vn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||H3}}let ph=null;function G3(t){return!q0(t)||t.length<2?t:pI(t)}function mI(){if(ph)return ph;const t=[];t.push(new Vn("bucket")),t.push(new Vn("generation")),t.push(new Vn("metageneration")),t.push(new Vn("name","fullPath",!0));function e(o,l){return G3(l)}const n=new Vn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new Vn("size");return s.xform=r,t.push(s),t.push(new Vn("timeCreated")),t.push(new Vn("updated")),t.push(new Vn("md5Hash",null,!0)),t.push(new Vn("cacheControl",null,!0)),t.push(new Vn("contentDisposition",null,!0)),t.push(new Vn("contentEncoding",null,!0)),t.push(new Vn("contentLanguage",null,!0)),t.push(new Vn("contentType",null,!0)),t.push(new Vn("metadata","customMetadata",!0)),ph=t,ph}function K3(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new gr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Q3(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return K3(r,t),r}function gI(t,e,n){const r=fI(e);return r===null?null:Q3(t,r,n)}function Y3(t,e,n,r){const s=fI(e);if(s===null||!q0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const g=t.bucket,v=t.fullPath,w="/b/"+l(g)+"/o/"+l(v),T=G0(w,n,r),C=cI({alt:"media",token:f});return T+C})[0]}function X3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class yI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){if(!t)throw W0()}function J3(t,e){function n(r,s){const o=gI(t,s,e);return vI(o!==null),o}return n}function Z3(t,e){function n(r,s){const o=gI(t,s,e);return vI(o!==null),Y3(o,s,t.host,t._protocol)}return n}function wI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=h3():s=d3():n.getStatus()===402?s=u3(t.bucket):n.getStatus()===403?s=f3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function eV(t){const e=wI(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=c3(t.path)),o.serverResponse=s.serverResponse,o}return n}function tV(t,e,n){const r=e.fullServerUrl(),s=G0(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new yI(s,o,Z3(t,n),l);return u.errorHandler=eV(e),u}function nV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=nV(null,e)),r}function sV(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let q=0;q<2;q++)F=F+Math.random().toString().slice(2);return F}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=rV(e,r,s),g=X3(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+d+"--",T=Ji.getBlob(v,r,w);if(T===null)throw w3();const C={name:f.fullPath},P=G0(o,t.host,t._protocol),S="POST",D=t.maxUploadRetryTime,j=new yI(P,S,J3(t,n),D);return j.urlParams=C,j.headers=l,j.body=T.uploadData(),j.errorHandler=wI(e),j}class iV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw jc("cannot .send() more than once");if(po(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oV extends iV{initXhr(){this.xhr_.responseType="text"}}function xI(){return new oV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pI(this._location.path)}get storage(){return this._service}get parent(){const e=W3(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b3(e)}}function aV(t,e,n){t._throwIfRoot("uploadBytes");const r=sV(t.storage,t._location,mI(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,xI).then(s=>({metadata:s,ref:t}))}function lV(t){t._throwIfRoot("getDownloadURL");const e=tV(t.storage,t._location,mI());return t.storage.makeRequestWithTokens(e,xI).then(n=>{if(n===null)throw x3();return n})}function cV(t,e){const n=q3(t._location.path,e),r=new gr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){return/^[A-Za-z]+:\/\//.test(t)}function dV(t,e){return new pa(t,e)}function _I(t,e){if(t instanceof K0){const n=t;if(n._bucket==null)throw v3();const r=new pa(n,n._bucket);return e!=null?_I(r,e):r}else return e!==void 0?cV(t,e):t}function hV(t,e){if(e&&uV(e)){if(t instanceof K0)return dV(t,e);throw Jg("To use ref(service, url), the first argument must be a Storage instance.")}else return _I(t,e)}function X1(t,e){const n=e?.[aI];return n==null?null:gr.makeFromBucketSpec(n,t)}function fV(t,e,n,r={}){t.host=`${e}:${n}`;const s=po(e);s&&(Ly(`https://${t.host}/b`),My("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:dT(o,t.app.options.projectId))}class K0{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=oI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a3,this._maxUploadRetryTime=l3,this._requests=new Set,s!=null?this._bucket=gr.makeFromBucketSpec(s,this._host):this._bucket=X1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=X1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new E3(lI());{const l=j3(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const J1="@firebase/storage",Z1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="storage";function pV(t,e,n){return t=tt(t),aV(t,e,n)}function mV(t){return t=tt(t),lV(t)}function gV(t,e){return t=tt(t),hV(t,e)}function yV(t=Ef(),e){t=tt(t);const r=mo(t,bI).getImmediate({identifier:e}),s=lT("storage");return s&&vV(r,...s),r}function vV(t,e,n,r={}){fV(t,e,n,r)}function wV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new K0(n,r,s,e,ya)}function xV(){es(new Nr(bI,wV,"PUBLIC").setMultipleInstances(!0)),Zn(J1,Z1,""),Zn(J1,Z1,"esm2020")}xV();const _V={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Qf=vT(_V);SD(Qf);const Ue=U4(Qf),we=BM(Qf),bV=yV(Qf),EI=new ri,Q0=b.createContext({});function Y0(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const X0=typeof window<"u",TI=X0?b.useLayoutEffect:b.useEffect,Yf=b.createContext(null);function J0(t,e){t.indexOf(e)===-1&&t.push(e)}function Z0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pi=(t,e,n)=>n>e?e:n<t?t:n;let ev=()=>{};const mi={},SI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function II(t){return typeof t=="object"&&t!==null}const CI=t=>/^0[^.\s]+$/u.test(t);function tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const kr=t=>t,EV=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(EV),xu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class nv{constructor(){this.subscriptions=[]}add(e){return J0(this.subscriptions,e),()=>Z0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,Pr=t=>t/1e3;function RI(t,e){return e?t*(1e3/e):0}const AI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TV=1e-7,SV=12;function IV(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=AI(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>TV&&++u<SV);return l}function Gu(t,e,n,r){if(t===e&&n===r)return kr;const s=o=>IV(o,0,1,t,n);return o=>o===0||o===1?o:AI(s(o),e,r)}const PI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kI=t=>e=>1-t(1-e),NI=Gu(.33,1.53,.69,.99),rv=kI(NI),DI=PI(rv),jI=t=>(t*=2)<1?.5*rv(t):.5*(2-Math.pow(2,-10*(t-1))),sv=t=>1-Math.sin(Math.acos(t)),LI=kI(sv),MI=PI(sv),CV=Gu(.42,0,1,1),RV=Gu(0,0,.58,1),VI=Gu(.42,0,.58,1),AV=t=>Array.isArray(t)&&typeof t[0]!="number",OI=t=>Array.isArray(t)&&typeof t[0]=="number",PV={linear:kr,easeIn:CV,easeInOut:VI,easeOut:RV,circIn:sv,circInOut:MI,circOut:LI,backIn:rv,backInOut:DI,backOut:NI,anticipate:jI},kV=t=>typeof t=="string",eb=t=>{if(OI(t)){ev(t.length===4);const[e,n,r,s]=t;return Gu(e,n,r,s)}else if(kV(t))return PV[t];return t},mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NV(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(f.schedule(g),t()),g(u)}const f={schedule:(g,v=!1,w=!1)=>{const C=w&&s?n:r;return v&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,f.process(g))}};return f}const DV=40;function FI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=mh.reduce((F,q)=>(F[q]=NV(o),F),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:g,update:v,preRender:w,render:T,postRender:C}=l,P=()=>{const F=mi.useManualTiming?s.timestamp:performance.now();n=!1,mi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,DV),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),d.process(s),f.process(s),g.process(s),v.process(s),w.process(s),T.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(P))},S=()=>{n=!0,r=!0,s.isProcessing||t(P)};return{schedule:mh.reduce((F,q)=>{const G=l[q];return F[q]=(z,R=!1,A=!1)=>(n||S(),G.schedule(z,R,A)),F},{}),cancel:F=>{for(let q=0;q<mh.length;q++)l[mh[q]].cancel(F)},state:s,steps:l}}const{schedule:pt,cancel:ho,state:hn,steps:Zm}=FI(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0);let jh;function jV(){jh=void 0}const Jn={now:()=>(jh===void 0&&Jn.set(hn.isProcessing||mi.useManualTiming?hn.timestamp:performance.now()),jh),set:t=>{jh=t,queueMicrotask(jV)}},UI=t=>e=>typeof e=="string"&&e.startsWith(t),iv=UI("--"),LV=UI("var(--"),ov=t=>LV(t)?MV.test(t.split("/*")[0].trim()):!1,MV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_u={...Fl,transform:t=>pi(0,1,t)},gh={...Fl,default:1},Zc=t=>Math.round(t*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VV(t){return t==null}const OV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(t,e)=>n=>!!(typeof n=="string"&&OV.test(n)&&n.startsWith(t)||e&&!VV(n)&&Object.prototype.hasOwnProperty.call(n,e)),BI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(av);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},FV=t=>pi(0,255,t),eg={...Fl,transform:t=>Math.round(FV(t))},na={test:lv("rgb","red"),parse:BI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eg.transform(t)+", "+eg.transform(e)+", "+eg.transform(n)+", "+Zc(_u.transform(r))+")"};function UV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zg={test:lv("#"),parse:UV,transform:na.transform},Ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=Ku("deg"),Ms=Ku("%"),Re=Ku("px"),BV=Ku("vh"),zV=Ku("vw"),tb={...Ms,parse:t=>Ms.parse(t)/100,transform:t=>Ms.transform(t*100)},sl={test:lv("hsl","hue"),parse:BI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ms.transform(Zc(e))+", "+Ms.transform(Zc(n))+", "+Zc(_u.transform(r))+")"},Mt={test:t=>na.test(t)||Zg.test(t)||sl.test(t),parse:t=>na.test(t)?na.parse(t):sl.test(t)?sl.parse(t):Zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?na.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Mt.parse(t);return e.alpha=0,Mt.transform(e)}},$V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WV(t){return isNaN(t)&&typeof t=="string"&&(t.match(av)?.length||0)+(t.match($V)?.length||0)>0}const zI="number",$I="color",qV="var",HV="var(",nb="${}",GV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(GV,d=>(Mt.test(d)?(r.color.push(o),s.push($I),n.push(Mt.parse(d))):d.startsWith(HV)?(r.var.push(o),s.push(qV),n.push(d)):(r.number.push(o),s.push(zI),n.push(parseFloat(d))),++o,nb)).split(nb);return{values:n,split:u,indexes:r,types:s}}function WI(t){return bu(t).values}function qI(t){const{split:e,types:n}=bu(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===zI?o+=Zc(s[l]):u===$I?o+=Mt.transform(s[l]):o+=s[l]}return o}}const KV=t=>typeof t=="number"?0:Mt.test(t)?Mt.getAnimatableNone(t):t;function QV(t){const e=WI(t);return qI(t)(e.map(KV))}const fo={test:WV,parse:WI,createTransformer:qI,getAnimatableNone:QV};function tg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=tg(d,u,t+1/3),o=tg(d,u,t),l=tg(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function uf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,ng=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},XV=[Zg,na,sl],JV=t=>XV.find(e=>e.test(t));function rb(t){const e=JV(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=YV(n)),n}const sb=(t,e)=>{const n=rb(t),r=rb(e);if(!n||!r)return uf(t,e);const s={...n};return o=>(s.red=ng(n.red,r.red,o),s.green=ng(n.green,r.green,o),s.blue=ng(n.blue,r.blue,o),s.alpha=vt(n.alpha,r.alpha,o),na.transform(s))},ey=new Set(["none","hidden"]);function ZV(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eO(t,e){return n=>vt(t,e,n)}function cv(t){return typeof t=="number"?eO:typeof t=="string"?ov(t)?uf:Mt.test(t)?sb:rO:Array.isArray(t)?HI:typeof t=="object"?Mt.test(t)?sb:tO:uf}function HI(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>cv(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function tO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=cv(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function nO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const rO=(t,e)=>{const n=fo.createTransformer(e),r=bu(t),s=bu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ey.has(t)&&!s.values.length||ey.has(e)&&!r.values.length?ZV(t,e):Hu(HI(nO(r,s),s.values),n):uf(t,e)};function GI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):cv(t)(t,e)}const sO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pt.update(e,n),stop:()=>ho(e),now:()=>hn.isProcessing?hn.timestamp:Jn.now()}},KI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},df=2e4;function uv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<df;)e+=n,r=t.next(e);return e>=df?1/0:e}function iO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(uv(r),df);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Pr(s)}}const oO=5;function QI(t,e,n){const r=Math.max(e-oO,0);return RI(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rg=.001;function aO({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let s,o,l=1-e;l=pi(Tt.minDamping,Tt.maxDamping,l),t=pi(Tt.minDuration,Tt.maxDuration,Pr(t)),l<1?(s=f=>{const g=f*l,v=g*t,w=g-n,T=ty(f,l),C=Math.exp(-v);return rg-w/T*C},o=f=>{const v=f*l*t,w=v*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,C=Math.exp(-v),P=ty(Math.pow(f,2),l);return(-s(f)+rg>0?-1:1)*((w-T)*C)/P}):(s=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-rg+g*v},o=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const u=5/t,d=cO(s,o,u);if(t=Ls(t),isNaN(d))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const lO=12;function cO(t,e,n){let r=n;for(let s=1;s<lO;s++)r=r-t(r)/e(r);return r}function ty(t,e){return t*Math.sqrt(1-e*e)}const uO=["duration","bounce"],dO=["stiffness","damping","mass"];function ib(t,e){return e.some(n=>t[n]!==void 0)}function hO(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!ib(t,dO)&&ib(t,uO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Tt.mass,stiffness:s,damping:o}}else{const n=aO(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function hf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:v,velocity:w,isResolvedFromDuration:T}=hO({...n,velocity:-Pr(n.velocity||0)}),C=w||0,P=f/(2*Math.sqrt(d*g)),S=l-o,D=Pr(Math.sqrt(d/g)),j=Math.abs(S)<5;r||(r=j?Tt.restSpeed.granular:Tt.restSpeed.default),s||(s=j?Tt.restDelta.granular:Tt.restDelta.default);let F;if(P<1){const G=ty(D,P);F=z=>{const R=Math.exp(-P*D*z);return l-R*((C+P*D*S)/G*Math.sin(G*z)+S*Math.cos(G*z))}}else if(P===1)F=G=>l-Math.exp(-D*G)*(S+(C+D*S)*G);else{const G=D*Math.sqrt(P*P-1);F=z=>{const R=Math.exp(-P*D*z),A=Math.min(G*z,300);return l-R*((C+P*D*S)*Math.sinh(A)+G*S*Math.cosh(A))/G}}const q={calculatedDuration:T&&v||null,next:G=>{const z=F(G);if(T)u.done=G>=v;else{let R=G===0?C:0;P<1&&(R=G===0?Ls(C):QI(F,G,z));const A=Math.abs(R)<=r,N=Math.abs(l-z)<=s;u.done=A&&N}return u.value=u.done?l:z,u},toString:()=>{const G=Math.min(uv(q),df),z=KI(R=>q.next(G*R).value,G,30);return G+"ms "+z},toTransition:()=>{}};return q}hf.applyToOptions=t=>{const e=iO(t,100,hf);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},T=A=>u!==void 0&&A<u||d!==void 0&&A>d,C=A=>u===void 0?d:d===void 0||Math.abs(u-A)<Math.abs(d-A)?u:d;let P=n*e;const S=v+P,D=l===void 0?S:l(S);D!==S&&(P=D-v);const j=A=>-P*Math.exp(-A/r),F=A=>D+j(A),q=A=>{const N=j(A),L=F(A);w.done=Math.abs(N)<=f,w.value=w.done?D:L};let G,z;const R=A=>{T(w.value)&&(G=A,z=hf({keyframes:[w.value,C(w.value)],velocity:QI(F,A,w.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return R(0),{calculatedDuration:null,next:A=>{let N=!1;return!z&&G===void 0&&(N=!0,q(A),R(A)),G!==void 0&&A>=G?z.next(A-G):(!N&&q(A),w)}}}function fO(t,e,n){const r=[],s=n||mi.mix||GI,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||kr:e;u=Hu(d,u)}r.push(u)}return r}function pO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(ev(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=fO(e,r,s),d=u.length,f=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=xu(t[v],t[v+1],g);return u[v](w)};return n?g=>f(pi(t[0],t[o-1],g)):f}function mO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=xu(0,e,r);t.push(vt(n,1,s))}}function gO(t){const e=[0];return mO(e,t.length-1),e}function yO(t,e){return t.map(n=>n*e)}function vO(t,e){return t.map(()=>e||VI).splice(0,t.length-1)}function eu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=AV(r)?r.map(eb):eb(r),o={done:!1,value:e[0]},l=yO(n&&n.length===e.length?n:gO(e),t),u=pO(l,e,{ease:Array.isArray(s)?s:vO(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const wO=t=>t!==null;function dv(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(wO),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const xO={decay:ny,inertia:ny,tween:eu,keyframes:eu,spring:hf};function YI(t){typeof t.type=="string"&&(t.type=xO[t.type])}class hv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _O=t=>t/100;class fv extends hv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YI(e);const{type:n=eu,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||eu;d!==eu&&typeof u[0]!="number"&&(this.mixKeyframes=Hu(_O,GI(u[0],u[1])),u=[0,100]);const f=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=uv(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:T,type:C,onUpdate:P,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,q=r;if(v){const A=Math.min(this.currentTime,s)/u;let N=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(w==="reverse"?(L=1-L,T&&(L-=T/u)):w==="mirror"&&(q=l)),F=pi(0,1,L)*u}const G=j?{done:!1,value:g[0]}:q.next(F);o&&(G.value=o(G.value));let{done:z}=G;!j&&d!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return R&&C!==ny&&(G.value=dv(g,this.options,S,this.speed)),P&&P(G.value),R&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=sO,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ra=t=>t*180/Math.PI,ry=t=>{const e=ra(Math.atan2(t[1],t[0]));return sy(e)},EO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ry,rotateZ:ry,skewX:t=>ra(Math.atan(t[1])),skewY:t=>ra(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),ob=ry,ab=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ab,scaleY:lb,scale:t=>(ab(t)+lb(t))/2,rotateX:t=>sy(ra(Math.atan2(t[6],t[5]))),rotateY:t=>sy(ra(Math.atan2(-t[2],t[0]))),rotateZ:ob,rotate:ob,skewX:t=>ra(Math.atan(t[4])),skewY:t=>ra(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iy(t){return t.includes("scale")?1:0}function oy(t,e){if(!t||t==="none")return iy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=TO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EO,s=u}if(!s)return iy(e);const o=r[e],l=s[1].split(",").map(IO);return typeof o=="function"?o(l):l[o]}const SO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oy(n,e)};function IO(t){return parseFloat(t.trim())}const Ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(Ul),cb=t=>t===Fl||t===Re,CO=new Set(["x","y","z"]),RO=Ul.filter(t=>!CO.has(t));function AO(t){const e=[];return RO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oy(e,"x"),y:(t,{transform:e})=>oy(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const aa=new Set;let ay=!1,ly=!1,cy=!1;function XI(){if(ly){const t=Array.from(aa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=AO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,ay=!1,aa.forEach(t=>t.complete(cy)),aa.clear()}function JI(){aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function PO(){cy=!0,JI(),XI(),cy=!1}class pv{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),ay||(ay=!0,pt.read(JI),pt.resolveKeyframes(XI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}bO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kO=t=>t.startsWith("--");function NO(t,e,n){kO(e)?t.style.setProperty(e,n):t.style[e]=n}const DO=tv(()=>window.ScrollTimeline!==void 0),jO={};function LO(t,e){const n=tv(t);return()=>jO[e]??n()}const ZI=LO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ub={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function eC(t,e){if(t)return typeof t=="function"?ZI()?KI(t,e):"ease-out":OI(t)?Wc(t):Array.isArray(t)?t.map(n=>eC(n,e)||ub.easeOut):ub[t]}function MO(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const g={[e]:n};d&&(g.offset=d);const v=eC(u,s);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),t.animate(g,w)}function tC(t){return typeof t=="function"&&"applyToOptions"in t}function VO({type:t,...e}){return tC(t)&&ZI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OO extends hv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ev(typeof e.type!="string");const f=VO(e);this.animation=MO(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=dv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):NO(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&DO()?(this.animation.timeline=e,kr):n(this)}}const nC={anticipate:jI,backInOut:DI,circInOut:MI};function FO(t){return t in nC}function UO(t){typeof t.ease=="string"&&FO(t.ease)&&(t.ease=nC[t.ease])}const db=10;class BO extends OO{constructor(e){UO(e),YI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new fv({...l,autoplay:!1}),d=Ls(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-db).value,u.sample(d).value,db),u.stop()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function zO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $O(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=hb(s,e),u=hb(o,e);return!l||!u?!1:zO(t)||(n==="spring"||tC(n))&&r}function uy(t){t.duration=0,t.type="keyframes"}const WO=new Set(["opacity","clipPath","filter","transform"]),qO=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HO(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return qO()&&n&&WO.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const GO=40;class KO extends hv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Jn.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:g,...v},T=g?.KeyframeResolver||pv;this.keyframeResolver=new T(u,(C,P,S)=>this.onKeyframesResolved(C,P,w,!S),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Jn.now(),$O(e,o,l,u)||((mi.instantAnimations||!d)&&g?.(dv(e,r,n)),e[0]=e[e.length-1],uy(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>GO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!f&&HO(w)?new BO({...w,element:w.motionValue.owner.current}):new fv(w);T.finished.then(()=>this.notifyFinished()).catch(kr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),PO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const QO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YO(t){const e=QO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function rC(t,e,n=1){const[r,s]=YO(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return SI(l)?parseFloat(l):l}return ov(s)?rC(s,e,n+1):s}function mv(t,e){return t?.[e]??t?.default??t}const sC=new Set(["width","height","top","left","right","bottom",...Ul]),XO={test:t=>t==="auto",parse:t=>t},iC=t=>e=>e.test(t),oC=[Fl,Re,Ms,Hi,zV,BV,XO],fb=t=>oC.find(iC(t));function JO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CI(t):!0}const ZO=new Set(["brightness","contrast","saturate","opacity"]);function eF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(av)||[];if(!r)return t;const s=n.replace(r,"");let o=ZO.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const tF=/\b([a-z-]*)\(.*?\)/gu,dy={...fo,getAnimatableNone:t=>{const e=t.match(tF);return e?e.map(eF).join(" "):t}},pb={...Fl,transform:Math.round},nF={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:gh,scaleX:gh,scaleY:gh,scaleZ:gh,skew:Hi,skewX:Hi,skewY:Hi,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:_u,originX:tb,originY:tb,originZ:Re},gv={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...nF,zIndex:pb,fillOpacity:_u,strokeOpacity:_u,numOctaves:pb},rF={...gv,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:dy,WebkitFilter:dy},aC=t=>rF[t];function lC(t,e){let n=aC(t);return n!==dy&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sF=new Set(["auto","none","0"]);function iF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!sF.has(o)&&bu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=lC(n,s)}class oF extends pv{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),ov(f))){const g=rC(f,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!sC.has(r)||e.length!==2)return;const[s,o]=e,l=fb(s),u=fb(o);if(l!==u)if(cb(l)&&cb(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else oa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||JO(e[s]))&&r.push(s);r.length&&iF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function aF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const cC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uC(t){return II(t)&&"offsetHeight"in t}const mb=30,lF=t=>!isNaN(parseFloat(t));class cF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Jn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nv);const r=this.events[e].add(n);return e==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mb);return RI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new cF(t,e)}const{schedule:yv}=FI(queueMicrotask,!1),Yr={x:!1,y:!1};function dC(){return Yr.x||Yr.y}function uF(t){return t==="x"||t==="y"?Yr[t]?null:(Yr[t]=!0,()=>{Yr[t]=!1}):Yr.x||Yr.y?null:(Yr.x=Yr.y=!0,()=>{Yr.x=Yr.y=!1})}function hC(t,e){const n=aF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function gb(t){return!(t.pointerType==="touch"||dC())}function dF(t,e,n={}){const[r,s,o]=hC(t,n),l=u=>{if(!gb(u))return;const{target:d}=u,f=e(d,u);if(typeof f!="function"||!d)return;const g=v=>{gb(v)&&(f(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const fC=(t,e)=>e?t===e?!0:fC(t,e.parentElement):!1,vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fF(t){return hF.has(t.tagName)||t.tabIndex!==-1}const Lh=new WeakSet;function yb(t){return e=>{e.key==="Enter"&&t(e)}}function sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yb(()=>{if(Lh.has(n))return;sg(n,"down");const s=yb(()=>{sg(n,"up")}),o=()=>sg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function vb(t){return vv(t)&&!dC()}function mF(t,e,n={}){const[r,s,o]=hC(t,n),l=u=>{const d=u.currentTarget;if(!vb(u))return;Lh.add(d);const f=e(d,u),g=(T,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Lh.has(d)&&Lh.delete(d),vb(T)&&typeof f=="function"&&f(T,{success:C})},v=T=>{g(T,d===window||d===document||n.useGlobalTarget||fC(d,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),uC(u)&&(u.addEventListener("focus",f=>pF(f,s)),!fF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function pC(t){return II(t)&&"ownerSVGElement"in t}function gF(t){return pC(t)&&t.tagName==="svg"}const Rn=t=>!!(t&&t.getVelocity),yF=[...oC,Mt,fo],vF=t=>yF.find(iC(t)),wv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wF(...t){return e=>{let n=!1;const r=t.map(s=>{const o=wb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():wb(t[s],null)}}}}function xF(...t){return b.useCallback(wF(...t),t)}class _F extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=uC(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bF({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(wv),d=xF(o,t?.ref);return b.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:w,right:T}=l.current;if(e||!o.current||!f||!g)return;const C=n==="left"?`left: ${w}`:`right: ${T}`;o.current.dataset.motionPopId=s;const P=document.createElement("style");u&&(P.nonce=u);const S=r??document.head;return S.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{S.contains(P)&&S.removeChild(P)}},[e]),p.jsx(_F,{isPresent:e,childRef:o,sizeRef:l,children:b.cloneElement(t,{ref:d})})}const EF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const f=Y0(TF),g=b.useId();let v=!0,w=b.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{f.set(T,!0);for(const C of f.values())if(!C)return;r&&r()},register:T=>(f.set(T,!1),()=>f.delete(T))}),[n,f,r]);return o&&v&&(w={...w}),b.useMemo(()=>{f.forEach((T,C)=>f.set(C,!1))},[n]),b.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=p.jsx(bF,{isPresent:n,anchorX:u,root:d,children:t})),p.jsx(Yf.Provider,{value:w,children:t})};function TF(){return new Map}function mC(t=!0){const e=b.useContext(Yf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=b.useId();b.useEffect(()=>{if(t)return s(o)},[t]);const l=b.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const yh=t=>t.key||"";function xb(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Os=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,g]=mC(l),v=b.useMemo(()=>xb(t),[t]),w=l&&!f?[]:v.map(yh),T=b.useRef(!0),C=b.useRef(v),P=Y0(()=>new Map),[S,D]=b.useState(v),[j,F]=b.useState(v);TI(()=>{T.current=!1,C.current=v;for(let z=0;z<j.length;z++){const R=yh(j[z]);w.includes(R)?P.delete(R):P.get(R)!==!0&&P.set(R,!1)}},[j,w.length,w.join("-")]);const q=[];if(v!==S){let z=[...v];for(let R=0;R<j.length;R++){const A=j[R],N=yh(A);w.includes(N)||(z.splice(R,0,A),q.push(A))}return o==="wait"&&q.length&&(z=q),F(xb(z)),D(v),null}const{forceRender:G}=b.useContext(Q0);return p.jsx(p.Fragment,{children:j.map(z=>{const R=yh(z),A=l&&!f?!1:v===j||w.includes(R),N=()=>{if(P.has(R))P.set(R,!0);else return;let L=!0;P.forEach(V=>{V||(L=!1)}),L&&(G?.(),F(C.current),l&&g?.(),r&&r())};return p.jsx(EF,{isPresent:A,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:A?void 0:N,anchorX:u,children:z},R)})})},gC=b.createContext({strict:!1}),_b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in _b)Sl[t]={isEnabled:e=>_b[t].some(n=>!!e[n])};function SF(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const IF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IF.has(t)}let yC=t=>!ff(t);function CF(t){typeof t=="function"&&(yC=e=>e.startsWith("on")?!ff(e):t(e))}try{CF(require("@emotion/is-prop-valid").default)}catch{}function RF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(yC(s)||n===!0&&ff(s)||!e&&!ff(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Xf=b.createContext({});function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eu(t){return typeof t=="string"||Array.isArray(t)}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_v=["initial",...xv];function Zf(t){return Jf(t.animate)||_v.some(e=>Eu(t[e]))}function vC(t){return!!(Zf(t)||t.variants)}function AF(t,e){if(Zf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(r)?r:void 0}}return t.inherit!==!1?e:{}}function PF(t){const{initial:e,animate:n}=AF(t,b.useContext(Xf));return b.useMemo(()=>({initial:e,animate:n}),[bb(e),bb(n)])}function bb(t){return Array.isArray(t)?t.join(" "):t}const Tu={};function kF(t){for(const e in t)Tu[e]=t[e],iv(e)&&(Tu[e].isCSSVariable=!0)}function wC(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tu[t]||t==="opacity")}const NF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DF=Ul.length;function jF(t,e,n){let r="",s=!0;for(let o=0;o<DF;o++){const l=Ul[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=cC(u,gv[l]);if(!d){s=!1;const g=NF[l]||l;r+=`${g}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function bv(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const f=e[d];if(Bl.has(d)){l=!0;continue}else if(iv(d)){s[d]=f;continue}else{const g=cC(f,gv[d]);d.startsWith("origin")?(u=!0,o[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=jF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;r.transformOrigin=`${d} ${f} ${g}`}}const Ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xC(t,e,n){for(const r in e)!Rn(e[r])&&!wC(r,n)&&(t[r]=e[r])}function LF({transformTemplate:t},e){return b.useMemo(()=>{const n=Ev();return bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MF(t,e){const n=t.style||{},r={};return xC(r,n,t),Object.assign(r,LF(t,e)),r}function VF(t,e){const n={},r=MF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const OF={offset:"stroke-dashoffset",array:"stroke-dasharray"},FF={offset:"strokeDashoffset",array:"strokeDasharray"};function UF(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?OF:FF;t[o.offset]=Re.transform(-r);const l=Re.transform(e),u=Re.transform(n);t[o.array]=`${l} ${u}`}function _C(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f,g){if(bv(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&UF(v,s,o,l,!1)}const bC=()=>({...Ev(),attrs:{}}),EC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BF(t,e,n,r){const s=b.useMemo(()=>{const o=bC();return _C(o,e,EC(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};xC(o,t.style,t),s.style={...o,...s.style}}return s}const zF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tv(t){return typeof t!="string"||t.includes("-")?!1:!!(zF.indexOf(t)>-1||/[A-Z]/u.test(t))}function $F(t,e,n,{latestValues:r},s,o=!1){const u=(Tv(t)?BF:VF)(e,r,s,t),d=RF(e,typeof t=="string",o),f=t!==b.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=b.useMemo(()=>Rn(g)?g.get():g,[g]);return b.createElement(t,{...f,children:v})}function Eb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sv(t,e,n,r){if(typeof e=="function"){const[s,o]=Eb(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Eb(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Mh(t){return Rn(t)?t.get():t}function WF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:qF(n,r,s,t),renderState:e()}}function qF(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=Mh(o[w]);let{initial:l,animate:u}=t;const d=Zf(t),f=vC(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Jf(v)){const w=Array.isArray(v)?v:[v];for(let T=0;T<w.length;T++){const C=Sv(t,w[T]);if(C){const{transitionEnd:P,transition:S,...D}=C;for(const j in D){let F=D[j];if(Array.isArray(F)){const q=g?F.length-1:0;F=F[q]}F!==null&&(s[j]=F)}for(const j in P)s[j]=P[j]}}}return s}const TC=t=>(e,n)=>{const r=b.useContext(Xf),s=b.useContext(Yf),o=()=>WF(t,e,r,s);return n?o():Y0(o)};function Iv(t,e,n){const{style:r}=t,s={};for(const o in r)(Rn(r[o])||e.style&&Rn(e.style[o])||wC(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const HF=TC({scrapeMotionValuesFromProps:Iv,createRenderState:Ev});function SC(t,e,n){const r=Iv(t,e,n);for(const s in t)if(Rn(t[s])||Rn(e[s])){const o=Ul.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const GF=TC({scrapeMotionValuesFromProps:SC,createRenderState:bC}),KF=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QF(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):il(n)&&(n.current=r))},[e])}const Cv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YF="framerAppearId",IC="data-"+Cv(YF),CC=b.createContext({});function XF(t,e,n,r,s){const{visualElement:o}=b.useContext(Xf),l=b.useContext(gC),u=b.useContext(Yf),d=b.useContext(wv).reducedMotion,f=b.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,v=b.useContext(CC);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&JF(f.current,n,s,v);const w=b.useRef(!1);b.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const T=n[IC],C=b.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return TI(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),C.current=!1),g.enteringChildren=void 0)}),g}function JF(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RC(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&il(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:f})}function RC(t){if(t)return t.options.allowProjection!==!1?t.projection:RC(t.parent)}function ig(t,{forwardMotionProps:e=!1}={},n,r){n&&SF(n);const s=Tv(t)?GF:HF;function o(u,d){let f;const g={...b.useContext(wv),...u,layoutId:ZF(u)},{isStatic:v}=g,w=PF(u),T=s(u,v);if(!v&&X0){e9();const C=t9(g);f=C.MeasureLayout,w.visualElement=XF(t,T,g,r,C.ProjectionNode)}return p.jsxs(Xf.Provider,{value:w,children:[f&&w.visualElement?p.jsx(f,{visualElement:w.visualElement,...g}):null,$F(t,u,QF(T,w.visualElement,d),T,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(o);return l[KF]=t,l}function ZF({layoutId:t}){const e=b.useContext(Q0).id;return e&&t!==void 0?e+"-"+t:t}function e9(t,e){b.useContext(gC).strict}function t9(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function n9(t,e){if(typeof Proxy>"u")return ig;const n=new Map,r=(o,l)=>ig(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,ig(l,void 0,t,e)),n.get(l))})}function AC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function r9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function s9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function og(t){return t===void 0||t===1}function hy({scale:t,scaleX:e,scaleY:n}){return!og(t)||!og(e)||!og(n)}function Jo(t){return hy(t)||PC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PC(t){return Tb(t.x)||Tb(t.y)}function Tb(t){return t&&t!=="0%"}function pf(t,e,n){const r=t-n,s=e*r;return n+s}function Sb(t,e,n,r,s){return s!==void 0&&(t=pf(t,s,r)),pf(t,n,r)+e}function fy(t,e=0,n=1,r,s){t.min=Sb(t.min,e,n,r,s),t.max=Sb(t.max,e,n,r,s)}function kC(t,{x:e,y:n}){fy(t.x,e.translate,e.scale,e.originPoint),fy(t.y,n.translate,n.scale,n.originPoint)}const Ib=.999999999999,Cb=1.0000000000001;function i9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&al(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,kC(t,l)),r&&Jo(o.latestValues)&&al(t,o.latestValues))}e.x<Cb&&e.x>Ib&&(e.x=1),e.y<Cb&&e.y>Ib&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function Rb(t,e,n,r,s=.5){const o=vt(t.min,t.max,s);fy(t,e,n,o,r)}function al(t,e){Rb(t.x,e.x,e.scaleX,e.scale,e.originX),Rb(t.y,e.y,e.scaleY,e.scale,e.originY)}function NC(t,e){return AC(s9(t.getBoundingClientRect(),e))}function o9(t,e,n){const r=NC(t,n),{scroll:s}=e;return s&&(ol(r.x,s.offset.x),ol(r.y,s.offset.y)),r}const Ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:Ab(),y:Ab()}),Pb=()=>({min:0,max:0}),Pt=()=>({x:Pb(),y:Pb()}),py={current:null},DC={current:!1};function a9(){if(DC.current=!0,!!X0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>py.current=t.matches;t.addEventListener("change",e),e()}else py.current=!1}const l9=new WeakMap;function c9(t,e,n){for(const r in e){const s=e[r],o=n[r];if(Rn(s))t.addValue(r,s);else if(Rn(o))t.addValue(r,Tl(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Tl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Jn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,pt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Zf(n),this.isVariantNode=vC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const T=v[w];d[w]!==void 0&&Rn(T)&&T.set(d[w])}}mount(e){this.current=e,l9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DC.current||a9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:py.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kb.length;r++){const s=kb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=c9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(SI(r)||CI(r))?r=parseFloat(r):!vF(r)&&fo.test(n)&&(r=lC(e,n)),this.setBaseTarget(e,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Sv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yv.render(this.render)}}class jC extends u9{constructor(){super(...arguments),this.KeyframeResolver=oF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LC(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function d9(t){return window.getComputedStyle(t)}class h9 extends jC{constructor(){super(...arguments),this.type="html",this.renderInstance=LC}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?iy(n):SO(e,n);{const r=d9(e),s=(iv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NC(e,n)}build(e,n,r){bv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Iv(e,n,r)}}const MC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f9(t,e,n,r){LC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(MC.has(s)?s:Cv(s),e.attrs[s])}class p9 extends jC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const r=aC(n);return r&&r.default||0}return n=MC.has(n)?n:Cv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SC(e,n,r)}build(e,n,r){_C(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){f9(e,n,r,s)}mount(e){this.isSVGTag=EC(e.tagName),super.mount(e)}}const m9=(t,e)=>Tv(t)?new p9(e):new h9(e,{allowProjection:t!==b.Fragment});function pl(t,e,n){const r=t.getProps();return Sv(r,e,n!==void 0?n:r.custom,t)}const my=t=>Array.isArray(t);function g9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function y9(t){return my(t)?t[t.length-1]||0:t}function v9(t,e){const n=pl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=y9(o[l]);g9(t,l,u)}}function w9(t){return!!(Rn(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(w9(n))return n.add(e);if(!n&&mi.WillChange){const r=new mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function VC(t){return t.props[IC]}const x9=t=>t!==null;function _9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(x9),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const b9={type:"spring",stiffness:500,damping:25,restSpeed:10},E9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T9={type:"keyframes",duration:.8},S9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I9=(t,{keyframes:e})=>e.length>2?T9:Bl.has(t)?t.startsWith("scale")?E9(e[1]):b9:S9;function C9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const Rv=(t,e,n,r={},s,o)=>l=>{const u=mv(r,t)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ls(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};C9(u)||Object.assign(g,I9(t,g)),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(uy(g),g.delay===0&&(v=!0)),(mi.instantAnimations||mi.skipAnimations)&&(v=!0,uy(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const w=_9(g.keyframes,u);if(w!==void 0){pt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new fv(g):new KO(g)};function R9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OC(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),w=u[g];if(w===void 0||f&&R9(f,g))continue;const T={delay:n,...mv(o||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===C&&!T.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const D=VC(t);if(D){const j=window.MotionHandoffAnimation(D,g,pt);j!==null&&(T.startTime=j,P=!0)}}gy(t,g),v.start(Rv(g,v,w,t.shouldReduceMotion&&sC.has(g)?{type:!1}:T,t,P));const S=v.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{pt.update(()=>{l&&v9(t,l)})}),d}function FC(t,e,n,r=0,s=1){const o=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:u-o*r}function yy(t,e,n={}){const r=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(OC(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=s;return A9(t,e,d,f,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function A9(t,e,n=0,r=0,s=0,o=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(yy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+FC(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function P9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>yy(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=yy(t,e,n);else{const s=typeof e=="function"?pl(t,e,n.custom):e;r=Promise.all(OC(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const k9=_v.length;function BC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<k9;n++){const r=_v[n],s=t.props[r];(Eu(s)||s===!1)&&(e[r]=s)}return e}const N9=[...xv].reverse(),D9=xv.length;function j9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>P9(t,n,r)))}function L9(t){let e=j9(t),n=Nb(),r=!0;const s=d=>(f,g)=>{const v=pl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:T,...C}=v;f={...f,...C,...T}}return f};function o(d){e=d(t)}function l(d){const{props:f}=t,g=BC(t.parent)||{},v=[],w=new Set;let T={},C=1/0;for(let S=0;S<D9;S++){const D=N9[S],j=n[D],F=f[D]!==void 0?f[D]:g[D],q=Eu(F),G=D===d?j.isActive:null;G===!1&&(C=S);let z=F===g[D]&&F!==f[D]&&q;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),j.protectedKeys={...T},!j.isActive&&G===null||!F&&!j.prevProp||Jf(F)||typeof F=="boolean")continue;const R=M9(j.prevProp,F);let A=R||D===d&&j.isActive&&!z&&q||S>C&&q,N=!1;const L=Array.isArray(F)?F:[F];let V=L.reduce(s(D),{});G===!1&&(V={});const{prevResolvedValues:W={}}=j,M={...W,...V},Ne=ge=>{A=!0,w.has(ge)&&(N=!0,w.delete(ge)),j.needsAnimating[ge]=!0;const se=t.getValue(ge);se&&(se.liveStyle=!1)};for(const ge in M){const se=V[ge],ce=W[ge];if(T.hasOwnProperty(ge))continue;let ee=!1;my(se)&&my(ce)?ee=!UC(se,ce):ee=se!==ce,ee?se!=null?Ne(ge):w.add(ge):se!==void 0&&w.has(ge)?Ne(ge):j.protectedKeys[ge]=!0}j.prevProp=F,j.prevResolvedValues=V,j.isActive&&(T={...T,...V}),r&&t.blockInitialAnimation&&(A=!1);const Xe=z&&R;A&&(!Xe||N)&&v.push(...L.map(ge=>{const se={type:D};if(typeof ge=="string"&&r&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,ee=pl(ce,ge);if(ce.enteringChildren&&ee){const{delayChildren:U}=ee.transition||{};se.delay=FC(ce.enteringChildren,t,U)}}return{animation:ge,options:se}}))}if(w.size){const S={};if(typeof f.initial!="boolean"){const D=pl(t,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(S.transition=D.transition)}w.forEach(D=>{const j=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),S[D]=j??null}),v.push({animation:S})}let P=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function u(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),n[d].isActive=f;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Nb()}}}function M9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UC(e,t):!1}function Yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nb(){return{animate:Yo(!0),whileInView:Yo(),whileHover:Yo(),whileTap:Yo(),whileDrag:Yo(),whileFocus:Yo(),exit:Yo()}}class bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V9 extends bo{constructor(e){super(e),e.animationState||(e.animationState=L9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let O9=0;class F9 extends bo{constructor(){super(...arguments),this.id=O9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const U9={animation:{Feature:V9},exit:{Feature:F9}};function Su(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qu(t){return{point:{x:t.pageX,y:t.pageY}}}const B9=t=>e=>vv(e)&&t(e,Qu(e));function tu(t,e,n,r){return Su(t,e,B9(n),r)}const zC=1e-4,z9=1-zC,$9=1+zC,$C=.01,W9=0-$C,q9=0+$C;function Fn(t){return t.max-t.min}function H9(t,e,n){return Math.abs(t-e)<=n}function Db(t,e,n,r=.5){t.origin=r,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z9&&t.scale<=$9||isNaN(t.scale))&&(t.scale=1),(t.translate>=W9&&t.translate<=q9||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){Db(t.x,e.x,n.x,r?r.originX:void 0),Db(t.y,e.y,n.y,r?r.originY:void 0)}function jb(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function G9(t,e,n){jb(t.x,e.x,n.x),jb(t.y,e.y,n.y)}function Lb(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function ru(t,e,n){Lb(t.x,e.x,n.x),Lb(t.y,e.y,n.y)}function Rr(t){return[t("x"),t("y")]}const WC=({current:t})=>t?t.ownerDocument.defaultView:null,Mb=(t,e)=>Math.abs(t-e);function K9(t,e){const n=Mb(t.x,e.x),r=Mb(t.y,e.y);return Math.sqrt(n**2+r**2)}class qC{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=lg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=K9(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!C)return;const{point:P}=w,{timestamp:S}=hn;this.history.push({...P,timestamp:S});const{onStart:D,onMove:j}=this.handlers;T||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ag(T,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=lg(w.type==="pointercancel"?this.lastMoveEventInfo:ag(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,D),P&&P(w,D)},!vv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Qu(e),d=ag(u,this.transformPagePoint),{point:f}=d,{timestamp:g}=hn;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,lg(d,this.history)),this.removeListeners=Hu(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function ag(t,e){return e?{point:e(t.point)}:t}function Vb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lg({point:t},e){return{point:t,delta:Vb(t,HC(e)),offset:Vb(t,Q9(e)),velocity:Y9(e,.1)}}function Q9(t){return t[0]}function HC(t){return t[t.length-1]}function Y9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const o=Pr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function X9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?vt(n,t,r.max):Math.min(t,n)),t}function Ob(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J9(t,{top:e,left:n,bottom:r,right:s}){return{x:Ob(t.x,n,s),y:Ob(t.y,e,r)}}function Fb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Z9(t,e){return{x:Fb(t.x,e.x),y:Fb(t.y,e.y)}}function e7(t,e){let n=.5;const r=Fn(t),s=Fn(e);return s>r?n=xu(e.min,e.max-r,t.min):r>s&&(n=xu(t.min,t.max-s,e.min)),pi(0,1,n)}function t7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function n7(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:Ub(t,"left","right"),y:Ub(t,"top","bottom")}}function Ub(t,e,n){return{min:Bb(t,e),max:Bb(t,n)}}function Bb(t,e){return typeof t=="number"?t:t[e]||0}const r7=new WeakMap;class s7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qu(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:C,onDragStart:P}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uF(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(D=>{let j=this.getAxisMotionValue(D).get()||0;if(Ms.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const q=F.layout.layoutBox[D];q&&(j=Fn(q)*(parseFloat(j)/100))}}this.originPoint[D]=j}),P&&pt.postRender(()=>P(v,w)),gy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:P,onDrag:S}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:D}=w;if(C&&this.currentDirection===null){this.currentDirection=i7(D),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),S&&S(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Rr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new qC(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:WC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&pt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!vh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=X9(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J9(r.layoutBox,e):this.constraints=!1,this.elastic=n7(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=t7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=o9(r,s.root,this.visualElement.getTransformPagePoint());let l=Z9(s.layout.layoutBox,o);if(n){const u=n(r9(l));this.hasMutatedConstraints=!!u,u&&(l=AC(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Rr(g=>{if(!vh(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const w=s?200:1e6,T=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gy(this.visualElement,e),r.start(Rv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rr(n=>{const{drag:r}=this.getProps();if(!vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-vt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=e7({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rr(l=>{if(!vh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(vt(d,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;r7.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();il(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pt.read(r);const l=Su(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Rr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=vy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class o7 extends bo{constructor(e){super(e),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new s7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const zb=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class a7 extends bo{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(e){this.session=new qC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:zb(e),onStart:zb(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&pt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=$b(t,e.target.x),r=$b(t,e.target.y);return`${n}% ${r}%`}},l7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=fo.parse(t);if(s.length>5)return r;const o=fo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const f=vt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};let cg=!1;class c7 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;kF(u7),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),cg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,cg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||pt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;cg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GC(t){const[e,n]=mC(),r=b.useContext(Q0);return p.jsx(c7,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(CC),isPresent:e,safeToRemove:n})}const u7={borderRadius:{...Lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lc,borderTopRightRadius:Lc,borderBottomLeftRadius:Lc,borderBottomRightRadius:Lc,boxShadow:l7};function d7(t,e,n){const r=Rn(t)?t:Tl(t);return r.start(Rv("",r,e,n)),r.animation}const h7=(t,e)=>t.depth-e.depth;class f7{constructor(){this.children=[],this.isDirty=!1}add(e){J0(this.children,e),this.isDirty=!0}remove(e){Z0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h7),this.isDirty=!1,this.children.forEach(e)}}function p7(t,e){const n=Jn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ho(r),t(o-e))};return pt.setup(r,!0),()=>ho(r)}const KC=["TopLeft","TopRight","BottomLeft","BottomRight"],m7=KC.length,Wb=t=>typeof t=="string"?parseFloat(t):t,qb=t=>typeof t=="number"||Re.test(t);function g7(t,e,n,r,s,o){s?(t.opacity=vt(0,n.opacity??1,y7(r)),t.opacityExit=vt(e.opacity??1,0,v7(r))):o&&(t.opacity=vt(e.opacity??1,n.opacity??1,r));for(let l=0;l<m7;l++){const u=`border${KC[l]}Radius`;let d=Hb(e,u),f=Hb(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||qb(d)===qb(f)?(t[u]=Math.max(vt(Wb(d),Wb(f),r),0),(Ms.test(f)||Ms.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,r))}function Hb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y7=QC(0,.5,LI),v7=QC(.5,.95,kr);function QC(t,e,n){return r=>r<t?0:r>e?1:n(xu(t,e,r))}function Gb(t,e){t.min=e.min,t.max=e.max}function Cr(t,e){Gb(t.x,e.x),Gb(t.y,e.y)}function Kb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Qb(t,e,n,r,s){return t-=e,t=pf(t,1/n,r),s!==void 0&&(t=pf(t,1/s,r)),t}function w7(t,e=0,n=1,r=.5,s,o=t,l=t){if(Ms.test(e)&&(e=parseFloat(e),e=vt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=vt(o.min,o.max,r);t===o&&(u-=e),t.min=Qb(t.min,e,n,u,s),t.max=Qb(t.max,e,n,u,s)}function Yb(t,e,[n,r,s],o,l){w7(t,e[n],e[r],e[s],e.scale,o,l)}const x7=["x","scaleX","originX"],_7=["y","scaleY","originY"];function Xb(t,e,n,r){Yb(t.x,e,x7,n?n.x:void 0,r?r.x:void 0),Yb(t.y,e,_7,n?n.y:void 0,r?r.y:void 0)}function Jb(t){return t.translate===0&&t.scale===1}function YC(t){return Jb(t.x)&&Jb(t.y)}function Zb(t,e){return t.min===e.min&&t.max===e.max}function b7(t,e){return Zb(t.x,e.x)&&Zb(t.y,e.y)}function eE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XC(t,e){return eE(t.x,e.x)&&eE(t.y,e.y)}function tE(t){return Fn(t.x)/Fn(t.y)}function nE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class E7{constructor(){this.members=[]}add(e){J0(this.members,e),e.scheduleRender()}remove(e){if(Z0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T7(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:w,skewX:T,skewY:C}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const ug=["","X","Y","Z"],S7=1e3;let I7=0;function dg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JC(r)}function ZC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=I7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(A7),this.nodes.forEach(D7),this.nodes.forEach(j7),this.nodes.forEach(P7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new f7)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new nv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=pC(l)&&!gF(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=p7(w,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(iE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||f.getDefaultTransition()||F7,{onLayoutAnimationStart:P,onLayoutAnimationComplete:S}=f.getProps(),D=!this.targetLayout||!XC(this.targetLayout,T),j=!v&&w;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...mv(C,"layout"),onPlay:P,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||iE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N7),this.nodes.forEach(C7),this.nodes.forEach(R7)):this.nodes.forEach(sE),this.clearAllSnapshots();const u=Jn.now();hn.delta=pi(0,1e3/60,u-hn.timestamp),hn.timestamp=u,hn.isProcessing=!0,Zm.update.process(hn),Zm.preRender.process(hn),Zm.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k7),this.sharedNodes.forEach(M7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YC(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Jo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),U7(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B7))){const{scroll:f}=this.root;f&&(ol(u.x,f.offset.x),ol(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Pt();if(Cr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Cr(u,l),ol(u.x,g.offset.x),ol(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=Pt();Cr(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&al(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Jo(g.latestValues)&&al(d,g.latestValues)}return Jo(this.latestValues)&&al(d,this.latestValues),d}removeTransform(l){const u=Pt();Cr(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Jo(f.latestValues))continue;hy(f.latestValues)&&f.updateSnapshot();const g=Pt(),v=f.measurePageBox();Cr(g,v),Xb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Jo(this.latestValues)&&Xb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),ru(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),kC(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),ru(this.relativeTargetOrigin,this.target,w.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||PC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Cr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;i9(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kb(this.prevProjectionDelta.x,this.projectionDelta.x),Kb(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!nE(this.projectionDelta.x,this.prevProjectionDelta.x)||!nE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},v=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=Pt(),T=d?d.source:void 0,C=this.layout?this.layout.source:void 0,P=T!==C,S=this.getStack(),D=!S||S.members.length<=1,j=!!(P&&!D&&this.options.crossfade===!0&&!this.path.some(O7));this.animationProgress=0;let F;this.mixTargetDelta=q=>{const G=q/1e3;oE(v.x,l.x,G),oE(v.y,l.y,G),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V7(this.relativeTarget,this.relativeTargetOrigin,w,G),F&&b7(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Pt()),Cr(F,this.relativeTarget)),P&&(this.animationValues=g,g7(g,f,this.latestValues,G,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=d7(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&eR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Pt();const v=Fn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=Fn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Cr(u,d),al(u,g),nu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new E7),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&dg("z",l,f,this.animationValues);for(let g=0;g<ug.length;g++)dg(`rotate${ug[g]}`,l,f,this.animationValues),dg(`skew${ug[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Mh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Mh(u?.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=T7(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:w,y:T}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,f.animationValues?l.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Tu){if(g[C]===void 0)continue;const{correct:P,applyTo:S,isCSSVariable:D}=Tu[C],j=v==="none"?g[C]:P(g[C],f);if(S){const F=S.length;for(let q=0;q<F;q++)l[S[q]]=j}else D?this.options.visualElement.renderState.vars[C]=j:l[C]=j}this.options.layoutId&&(l.pointerEvents=f===this?Mh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(rE),this.root.sharedNodes.clear()}}}function C7(t){t.updateLayout()}function R7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Rr(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Fn(v);v.min=n[g].min,v.max=v.min+w}):eR(s,e.layoutBox,n)&&Rr(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Fn(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=ll();nu(l,n,e.layoutBox);const u=ll();o?nu(u,t.applyTransform(r,!0),e.measuredBox):nu(u,n,e.layoutBox);const d=!YC(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const T=Pt();ru(T,e.layoutBox,v.layoutBox);const C=Pt();ru(C,n,w.layoutBox),XC(T,C)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function A7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k7(t){t.clearSnapshot()}function rE(t){t.clearMeasurements()}function sE(t){t.isLayoutDirty=!1}function N7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D7(t){t.resolveTargetDelta()}function j7(t){t.calcProjection()}function L7(t){t.resetSkewAndRotation()}function M7(t){t.removeLeadSnapshot()}function oE(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aE(t,e,n,r){t.min=vt(e.min,n.min,r),t.max=vt(e.max,n.max,r)}function V7(t,e,n,r){aE(t.x,e.x,n.x,r),aE(t.y,e.y,n.y,r)}function O7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const F7={duration:.45,ease:[.4,0,.1,1]},lE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cE=lE("applewebkit/")&&!lE("chrome/")?Math.round:kr;function uE(t){t.min=cE(t.min),t.max=cE(t.max)}function U7(t){uE(t.x),uE(t.y)}function eR(t,e,n){return t==="position"||t==="preserve-aspect"&&!H9(tE(e),tE(n),.2)}function B7(t){return t!==t.root&&t.scroll?.wasRoot}const z7=ZC({attachResizeListener:(t,e)=>Su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hg={current:void 0},tR=ZC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hg.current){const t=new z7({});t.mount(window),t.setOptions({layoutScroll:!0}),hg.current=t}return hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$7={pan:{Feature:a7},drag:{Feature:o7,ProjectionNode:tR,MeasureLayout:GC}};function dE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&pt.postRender(()=>o(e,Qu(e)))}class W7 extends bo{mount(){const{current:e}=this.node;e&&(this.unmount=dF(e,(n,r)=>(dE(this.node,r,"Start"),s=>dE(this.node,s,"End"))))}unmount(){}}class q7 extends bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&pt.postRender(()=>o(e,Qu(e)))}class H7 extends bo{mount(){const{current:e}=this.node;e&&(this.unmount=mF(e,(n,r)=>(hE(this.node,r,"Start"),(s,{success:o})=>hE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,fg=new WeakMap,G7=t=>{const e=wy.get(t.target);e&&e(t)},K7=t=>{t.forEach(G7)};function Q7({root:t,...e}){const n=t||document;fg.has(n)||fg.set(n,{});const r=fg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(K7,{root:t,...e})),r[s]}function Y7(t,e,n){const r=Q7(e);return wy.set(t,n),r.observe(t),()=>{wy.delete(t),r.unobserve(t)}}const X7={some:0,all:1};class J7 extends bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:X7[s]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=f?g:v;w&&w(d)};return Y7(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z7(e,n))&&this.startObserver()}unmount(){}}function Z7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eU={inView:{Feature:J7},tap:{Feature:H7},focus:{Feature:q7},hover:{Feature:W7}},tU={layout:{ProjectionNode:tR,MeasureLayout:GC}},nU={...U9,...eU,...$7,...tU},Se=n9(nU,m9),Av=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=b.useState(n==="login"),[o,l]=b.useState(""),[u,d]=b.useState(""),[f,g]=b.useState(!1),[v,w]=b.useState(""),[T,C]=b.useState(""),P=async D=>{D.preventDefault(),g(!0),w(""),C("");try{r?(await dS(Ue,o,u),e()):(await uS(Ue,o,u),C("Account created successfully! You can now sign in."),s(!0))}catch(j){j instanceof Error?w(j.message):w("An unexpected error occurred")}finally{g(!1)}},S=async()=>{try{await bS(Ue,EI),e()}catch(D){D instanceof Error?w(D.message):w("An unexpected error occurred")}};return p.jsx(Os,{children:t&&p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),p.jsx(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:p.jsxs("div",{className:"p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsxs("button",{type:"button",onClick:S,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[p.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),p.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),p.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),p.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),p.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[p.jsx("div",{className:"border-t border-gray-200 w-full"}),p.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:o,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:u,onChange:D=>d(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&p.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&p.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),p.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:f?"Processing...":r?"Sign In":"Sign Up"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",p.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})};function rU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const nR=b.forwardRef(rU);function sU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const iU=b.forwardRef(sU);function oU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const aU=b.forwardRef(oU);function lU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const cU=b.forwardRef(lU);function uU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const rR=b.forwardRef(uU);function dU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const hU=b.forwardRef(dU);function fU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const su=b.forwardRef(fU);function pU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const sR=b.forwardRef(pU);function mU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const gU=b.forwardRef(mU);function yU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const vU=b.forwardRef(yU);function wU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const xU=b.forwardRef(wU);function _U({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bU=b.forwardRef(_U);function EU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const TU=b.forwardRef(EU);function SU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const IU=b.forwardRef(SU);function CU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const RU=b.forwardRef(CU);function AU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const fE=b.forwardRef(AU);function PU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const kU=b.forwardRef(PU);function NU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const DU=b.forwardRef(NU);function jU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ep=b.forwardRef(jU);function LU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const MU=b.forwardRef(LU);function VU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const OU=b.forwardRef(VU);function FU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const iR=b.forwardRef(FU);function UU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const BU=b.forwardRef(UU);function zU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const oR=b.forwardRef(zU);function $U({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const WU=b.forwardRef($U);function qU({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const aR=b.forwardRef(qU),lR=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState(""),[d,f]=b.useState(0),[g,v]=b.useState(0),w=jr();b.useEffect(()=>{const S=Pl(Ue,D=>{o(D)});return()=>S()},[]),b.useEffect(()=>{if(!s){f(0);return}const S=Nt(st(we,"notifications"),xt("recipientId","==",s.uid),xt("read","==",!1)),D=El(S,j=>{f(j.size)});return()=>D()},[s]),b.useEffect(()=>{if(!s){v(0);return}const S=Nt(st(we,"conversations"),xt("participants","array-contains",s.uid)),D=El(S,j=>{let F=0;j.docs.forEach(q=>{const G=q.data();G.lastMessage&&G.lastMessage.senderId!==s.uid&&G.lastMessage.read===!1&&F++}),v(F)});return()=>D()},[s]);const T=async()=>{try{await Pj(Ue)}catch(S){console.error("Error signing out:",S)}},C=[{name:"Home",path:"/",icon:DU},{name:"Projects",path:"/projects",icon:su},{name:"Students",path:"/students",icon:WU},{name:"Resources",path:"/resources",icon:rR}],P=S=>w.pathname===S;return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"fixed top-0 left-0 w-full h-16 bg-white border-b border-gray-200 z-50 transition-all duration-300",children:p.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md",children:[p.jsxs(Yn,{to:"/",className:"shrink-0 flex items-center gap-1",children:[p.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"}),p.jsx("span",{className:"text-xl font-black text-[#0066FF] tracking-tighter hidden sm:block",children:"CollabX"})]}),p.jsxs("div",{className:"relative flex-1 hidden md:block ml-4",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ep,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:S=>u(S.target.value),className:"block w-full pl-9 pr-3 py-1.5 bg-[#edf3f8] border-transparent rounded-md text-sm transition-all focus:bg-white focus:ring-1 focus:ring-gray-300 focus:w-full border"})]})]}),p.jsxs("div",{className:"hidden lg:flex items-center h-full ml-auto",children:[C.map(S=>p.jsxs(Yn,{to:S.path,className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${P(S.path)?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[p.jsx(S.icon,{className:`h-6 w-6 ${P(S.path)?"text-gray-900":"text-gray-500 group-hover:text-gray-900"}`}),p.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:S.name})]},S.name)),p.jsx("div",{className:"h-8 w-[1px] bg-gray-200 mx-2"}),p.jsxs(Yn,{to:"/messages",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[p.jsx(gU,{className:"h-6 w-6"}),p.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Messaging"}),g>0&&p.jsx("span",{className:"absolute top-2 right-6 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:g})]}),p.jsxs(Yn,{to:"/notifications",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[p.jsx(cU,{className:"h-6 w-6"}),p.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Notifications"}),d>0&&p.jsx("span",{className:"absolute top-2 right-5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),s?p.jsxs("div",{className:"relative group ml-4",children:[p.jsxs("button",{className:"flex flex-col items-center justify-center w-16 h-full text-gray-500 hover:text-gray-900 transition-all",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),p.jsx("span",{className:"text-[10px] mt-0.5 font-medium flex items-center gap-0.5",children:"Me"})]}),p.jsxs("div",{className:"absolute right-0 top-16 w-64 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all py-2 z-50",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-lg font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.displayName||"Contributor"}),p.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:s.email})]})]}),p.jsx(Yn,{to:"/profile",className:"mt-3 block w-full text-center py-1 border border-[#0066FF] text-[#0066FF] rounded-full text-sm font-bold hover:bg-blue-50 transition-all",children:"View Profile"})]}),p.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-100",children:"Sign Out"})]})]}):p.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[p.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Log in"}),p.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Join Now"})]})]}),p.jsx("button",{onClick:()=>e(!t),className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:t?p.jsx(aR,{className:"h-6 w-6"}):p.jsx(aU,{className:"h-6 w-6"})})]})}),p.jsx("div",{className:`fixed inset-0 bg-white z-40 transition-transform duration-300 lg:hidden pt-16 ${t?"translate-x-0":"translate-x-full"}`,children:p.jsxs("div",{className:"p-4 space-y-4",children:[C.map(S=>p.jsxs(Yn,{to:S.path,onClick:()=>e(!1),className:"flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-900 font-medium border border-transparent hover:border-gray-100",children:[p.jsx(S.icon,{className:"h-6 w-6 text-gray-500"}),p.jsx("span",{children:S.name})]},S.name)),!s&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-100",children:[p.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 border border-[#0066FF] text-[#0066FF] font-bold rounded-full",children:"Log in"}),p.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 bg-[#0066FF] text-white font-bold rounded-full",children:"Sign Up"})]})]})}),p.jsx(Av,{isOpen:n,onClose:()=>r(!1)})]})},HU=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return p.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:p.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[p.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:p.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),p.jsxs(Se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",p.jsx("br",{}),p.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),p.jsx(Se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),p.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("div",{className:"absolute left-4 text-gray-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),p.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),p.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[p.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),p.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),p.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[p.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),p.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>p.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},cR=async(t,e)=>{try{return(await yi(st(we,"projects"),{...e,ownerId:t,members:[t],pendingRequests:[],createdAt:nn(),updatedAt:nn()})).id}catch(n){throw console.error("Error adding project:",n),n}},GU=async(t,e)=>{try{const n=it(we,"projects",t);await Us(n,{...e,updatedAt:nn()})}catch(n){throw console.error("Error updating project:",n),n}},KU=async t=>{try{await rI(it(we,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},QU=async t=>{const e=Ue.currentUser;if(!e)throw new Error("Must be logged in to join projects");try{const n=it(we,"projects",t);await Us(n,{pendingRequests:o3(e.uid)});const s=(await rs(n)).data();s&&await yi(st(we,"notifications"),{recipientId:s.ownerId,senderId:e.uid,type:"project_request",projectId:t,projectName:s.title,read:!1,createdAt:nn()})}catch(n){throw console.error("Error requesting to join project:",n),n}},YU=async()=>{try{const t=Nt(st(we,"projects"),_o("createdAt","desc"));return(await er(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching projects:",t),t}},XU=async t=>{try{const e=Nt(st(we,"projects"),xt("members","array-contains",t),_o("createdAt","desc"));return(await er(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching user projects:",e),[]}},uR=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=b.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"}),[o,l]=b.useState(!1),[u,d]=b.useState(""),[f,g]=b.useState(!1),v=async w=>{if(w.preventDefault(),!!Ue.currentUser){l(!0),d("");try{await cR(Ue.currentUser.uid,{title:r.title,description:r.description,category:r.category,ownerName:Ue.currentUser.displayName||"Anonymous",ownerAvatar:Ue.currentUser.photoURL||"",githubUrl:r.githubUrl,liveUrl:r.liveUrl,techStack:r.tags.split(",").map(T=>T.trim()),rolesNeeded:r.rolesNeeded.split(",").map(T=>T.trim()),status:"Open",thumbnailUrl:`https://source.unsplash.com/random/800x600?tech,${r.category}`,updatedAt:null}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"})},2e3)}catch(T){console.error("Error submitting project:",T),d("Failed to submit project. Please try again.")}finally{l(!1)}}};return p.jsx(Os,{children:t&&p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),p.jsx(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:p.jsxs("div",{className:"p-6 md:p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),f?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"text-5xl mb-4",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),p.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),p.jsx("input",{type:"text",required:!0,value:r.title,onChange:w=>s({...r,title:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{required:!0,value:r.description,onChange:w=>s({...r,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),p.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:w=>s({...r,githubUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),p.jsx("input",{type:"url",value:r.liveUrl,onChange:w=>s({...r,liveUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),p.jsxs("select",{value:r.category,onChange:w=>s({...r,category:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{children:"AI/ML"}),p.jsx("option",{children:"Web Dev"}),p.jsx("option",{children:"Mobile"}),p.jsx("option",{children:"Blockchain"}),p.jsx("option",{children:"Design"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles Needed"}),p.jsx("input",{type:"text",value:r.rolesNeeded,onChange:w=>s({...r,rolesNeeded:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Frontend, Designer"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tech Stack (comma separated)"}),p.jsx("input",{type:"text",value:r.tags,onChange:w=>s({...r,tags:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, tailwind, firebase"})]}),u&&p.jsx("p",{className:"text-red-500 text-sm",children:u}),p.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[p.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Submitting...":"Submit Project"})]})]})]})})]})})},JU=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,f]=b.useState(null),[g,v]=b.useState(!1),[w,T]=b.useState(!1),[C,P]=b.useState(""),[S,D]=b.useState(!1);b.useEffect(()=>{j();const R=Pl(Ue,A=>{f(A)});return()=>R()},[]);const j=async()=>{try{const R=st(we,"projects"),A=Nt(R,_o("created_at","desc")),L=(await er(A)).docs.map(V=>({id:V.id,...V.data()}));o(L)}catch(R){console.error("Error fetching projects:",R)}finally{u(!1)}},F=async R=>{if(R.preventDefault(),!!C)try{await yi(st(we,"newsletter_subscribers"),{email:C,created_at:rt.now()}),D(!0),P(""),setTimeout(()=>D(!1),3e3)}catch(A){console.error("Error subscribing:",A)}},q=()=>{d?T(!0):v(!0)},G=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],z=s.filter(R=>{const A=t==="All"||R.category===t,N=R.title.toLowerCase().includes(n.toLowerCase())||R.description.toLowerCase().includes(n.toLowerCase())||R.tags.some(L=>L.toLowerCase().includes(n.toLowerCase()));return A&&N});return p.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),p.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[p.jsxs("div",{children:[p.jsx(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:p.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),p.jsx(Se.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),p.jsx(Se.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),p.jsxs(Se.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:R=>r(R.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),p.jsxs("button",{onClick:q,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsxs("div",{className:"lg:w-3/4",children:[p.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:G.map(R=>p.jsx("button",{onClick:()=>e(R),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===R?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:R},R))}),l?p.jsx("div",{className:"flex justify-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:z.map(R=>p.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[p.jsxs("div",{className:"relative h-48 overflow-hidden",children:[p.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),p.jsx("div",{className:"absolute top-4 left-4",children:p.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:R.category})})]}),p.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("img",{src:R.author_avatar,alt:R.author,className:"w-8 h-8 rounded-full border border-gray-100"}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:R.author}),p.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(R.created_at).toLocaleDateString()]})]}),p.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:R.title}),p.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:R.description}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.tags.map(A=>p.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",A]},A))}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),R.likes]}),p.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),R.comments]})]}),p.jsxs("a",{href:R.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},R.id))}),!l&&z.length===0&&p.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),p.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),p.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),p.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[p.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[p.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),p.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>p.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:p.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${R}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),p.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},R))}),p.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),p.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),p.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),p.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),p.jsxs("form",{onSubmit:F,className:"relative z-10",children:[p.jsx("input",{type:"email",placeholder:"Your email",value:C,onChange:R=>P(R.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),p.jsx("button",{type:"submit",disabled:S,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:S?"Subscribed!":"Subscribe"})]})]})]})]})]}),p.jsx(Av,{isOpen:g,onClose:()=>v(!1)}),p.jsx(uR,{isOpen:w,onClose:()=>T(!1),onSuccess:j})]})},ZU=()=>{const t=Lr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[o,l]=b.useState(!1),[u,d]=b.useState(!1),[f,g]=b.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});b.useEffect(()=>{v();const S=Pl(Ue,async D=>{if(D)try{const j=await rs(it(we,"users",D.uid));j.exists()&&l(j.data().role==="admin"||j.data().isAdmin===!0)}catch(j){console.error("Error checking admin status:",j),l(!1)}else l(!1)});return()=>S()},[]);const v=async()=>{try{const S=st(we,"resources"),D=Nt(S),F=(await er(D)).docs.map(q=>({id:q.id,...q.data()}));F.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(F)}catch(S){console.error("Error fetching resources:",S)}finally{s(!1)}},w=async S=>{if(S.preventDefault(),!(!f.title||!f.description))try{await yi(st(we,"resources"),f),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(D){console.error("Error adding resource:",D)}},T=async(S,D)=>{if(D.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await rI(it(we,"resources",S)),v()}catch(j){console.error("Error deleting resource:",j)}},C={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},P={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return p.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),p.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),p.jsxs("div",{className:"container-custom relative z-10",children:[p.jsxs(Se.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),o&&p.jsx("div",{className:"mb-8 flex justify-center",children:p.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&p.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Title",value:f.title,onChange:S=>g({...f,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),p.jsx("textarea",{placeholder:"Description",value:f.description,onChange:S=>g({...f,description:S.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:f.icon,onChange:S=>g({...f,icon:S.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),p.jsxs("select",{value:f.color,onChange:S=>g({...f,color:S.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[p.jsx("option",{value:"badge-blue",children:"Blue"}),p.jsx("option",{value:"badge-yellow",children:"Yellow"}),p.jsx("option",{value:"badge-green",children:"Green"}),p.jsx("option",{value:"badge-purple",children:"Purple"}),p.jsx("option",{value:"badge-red",children:"Red"})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?p.jsx("div",{className:"flex justify-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):p.jsx(Se.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:C,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(S=>p.jsxs(Se.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:P,whileHover:{scale:1.03},onClick:()=>t(`/resource/${S.id}`),children:[o&&p.jsx("button",{onClick:D=>T(S.id,D),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),p.jsx("div",{className:"mb-6 flex justify-center",children:p.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:S.icon})}),p.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:S.title}),p.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:S.description}),p.jsx("div",{className:"mt-auto text-center",children:p.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",p.jsx("span",{children:""})]})})]},S.id))})]})]})},dR=async t=>{const e=Ue.currentUser;if(!e)throw new Error("User not authenticated");const n=[e.uid,t].sort(),r=n.join("_"),s=it(we,"conversations",r);return(await rs(s)).exists()||await Gf(s,{id:r,participants:n,createdAt:nn(),updatedAt:nn(),createdBy:e.uid,isTyping:{}}),r},Zz=async(t,e,n="text",r)=>{const s=Ue.currentUser;if(!s)throw new Error("User not authenticated");const o=st(we,"conversations",t,"messages"),l=it(we,"conversations",t);await yi(o,{conversationId:t,senderId:s.uid,content:e,type:n,attachments:[],createdAt:nn(),read:!1}),await Us(l,{lastMessage:{content:e,senderId:s.uid,createdAt:nn(),type:n,read:!1},updatedAt:nn()})},e$=t=>{const e=Ue.currentUser;if(!e)return()=>{};const n=Nt(st(we,"conversations"),xt("participants","array-contains",e.uid),_o("updatedAt","desc"));return El(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));t(s)})},t$=(t,e)=>{const n=Nt(st(we,"conversations",t,"messages"),_o("createdAt","asc"),z0(100));return El(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},n$=async(t,e)=>{const n=it(we,"conversations",t,"messages",e);await Us(n,{read:!0,readAt:nn()})},r$=(t,e)=>{const n=Nt(st(we,"notifications"),xt("recipientId","==",t),_o("createdAt","desc"),z0(20));return El(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},s$=async t=>{try{await Us(it(we,"notifications",t),{read:!0})}catch(e){console.error("Error marking notification as read:",e)}},hR=async t=>{try{await yi(st(we,"notifications"),{...t,read:!1,createdAt:nn()})}catch(e){console.error("Error creating notification:",e)}},pE=20,fR=async(t,e)=>{const n=Ue.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=it(we,"userActivity",`${n.uid}_${r}`),o=await rs(s);if(o.exists()&&o.data().connectionRequestsSent>=pE)throw new Error(`Daily limit of ${pE} requests reached.`);const l=it(we,"blocks",`${t}_${n.uid}`);if((await rs(l)).exists())throw new Error("This user has blocked you.");const d=st(we,"connections"),f=Nt(d,xt("requesterId","==",n.uid),xt("recipientId","==",t));if(!(await er(f)).empty)throw new Error("Connection request already exists.");await yi(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:nn(),updatedAt:nn()}),await hR({recipientId:t,senderId:n.uid,senderName:n.displayName||"User",senderAvatar:n.photoURL||void 0,type:"connection_request",message:"sent you a connection request."}),await Gf(s,{userId:n.uid,date:r,connectionRequestsSent:iI(1)},{merge:!0})},e8=async(t,e)=>{const n=it(we,"connections",t);await Us(n,{status:"accepted",updatedAt:nn()});const r=Ue.currentUser;r&&await hR({recipientId:e,senderId:r.uid,senderName:r.displayName||"User",senderAvatar:r.photoURL||void 0,type:"connection_accepted",message:"accepted your connection request."})},t8=async t=>{const e=it(we,"connections",t);await Us(e,{status:"ignored",updatedAt:nn()})},n8=async t=>{const e=Ue.currentUser;if(!e)return"none";const n=st(we,"connections"),r=Nt(n,xt("requesterId","==",e.uid),xt("recipientId","==",t)),s=await er(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const o=Nt(n,xt("requesterId","==",t),xt("recipientId","==",e.uid)),l=await er(o);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},r8=async()=>{const t=Ue.currentUser;if(!t)return[];const e=st(we,"connections"),n=Nt(e,xt("recipientId","==",t.uid),xt("status","==","pending"),_o("createdAt","desc"));return(await er(n)).docs.map(s=>({id:s.id,...s.data()}))},s8=async t=>{const e=st(we,"connections"),n=Nt(e,xt("requesterId","==",t),xt("status","==","accepted")),r=Nt(e,xt("recipientId","==",t),xt("status","==","accepted")),[s,o]=await Promise.all([K1(n),K1(r)]);return s.data().count+o.data().count},pR=({student:t,onClick:e})=>{const[n,r]=b.useState("none"),[s,o]=b.useState(!1),l=Ue.currentUser,u=Lr(),d=async w=>{if(w.stopPropagation(),!!l)try{const T=await dR(t.uid);u(`/messages?conversationId=${T}`)}catch(T){console.error("Error starting conversation:",T)}};b.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const T=await n8(t.uid);r(T)}catch(T){console.error("Error fetching status:",T)}})()},[t.uid,l]);const f=async w=>{if(w.stopPropagation(),!!l){o(!0);try{await fR(t.uid),r("pending")}catch(T){const C=T;console.error("Error connecting:",C),alert(C.message)}finally{o(!1)}}},g=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},v=n==="pending"||n==="connected"||t.uid===l?.uid;return p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[p.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:p.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:p.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:p.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),p.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[p.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),p.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),p.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),p.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((w,T)=>p.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:w},T)),t.skills?.length>3&&p.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),p.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[p.jsx("button",{onClick:f,disabled:v||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:g()}),p.jsx("button",{onClick:d,className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"Message"})]})]})]})},i8=()=>{const t=Lr(),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{try{const s=st(we,"users"),o=Nt(s,z0(8)),u=(await er(o)).docs.map(d=>{const f=d.data();return{uid:d.id,...f,name:f.name||f.full_name||"Anonymous",avatar:f.avatar||f.avatar_url||"",institution:f.institution||f.university||"University",skills:f.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),p.jsx("section",{id:"community",className:"py-24 bg-white",children:p.jsxs("div",{className:"container-custom mx-auto",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[p.jsxs("div",{className:"max-w-2xl",children:[p.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),p.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),p.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?p.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>p.jsx(pR,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})};var xy=function(t,e){return xy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xy(t,e)};function o8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xt=function(){return Xt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xt.apply(this,arguments)};var pg,mE;function a8(){if(mE)return pg;mE=1;var t=!1,e,n,r,s,o,l,u,d,f,g,v,w,T,C,P;function S(){if(!t){t=!0;var j=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),q=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(w=/\b(iPhone|iP[ao]d)/.exec(j),T=/\b(iP[ao]d)/.exec(j),g=/Android/i.exec(j),C=/FBAN\/\w+;/i.exec(j),P=/Mobile/i.exec(j),v=!!/Win64/.exec(j),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var G=/(?:Trident\/(\d+.\d+))/.exec(j);l=G?parseFloat(G[1])+4:e,n=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,s=F[4]?parseFloat(F[4]):NaN,s?(F=/(?:Chrome\/(\d+\.\d+))/.exec(j),o=F&&F[1]?parseFloat(F[1]):NaN):o=NaN}else e=n=r=o=s=NaN;if(q){if(q[1]){var z=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=z?parseFloat(z[1].replace("_",".")):!0}else u=!1;d=!!q[2],f=!!q[3]}else u=d=f=!1}}var D={ie:function(){return S()||e},ieCompatibilityMode:function(){return S()||l>e},ie64:function(){return D.ie()&&v},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return D.webkit()},chrome:function(){return S()||o},windows:function(){return S()||d},osx:function(){return S()||u},linux:function(){return S()||f},iphone:function(){return S()||w},mobile:function(){return S()||w||T||g||P},nativeApp:function(){return S()||C},android:function(){return S()||g},ipad:function(){return S()||T}};return pg=D,pg}var mg,gE;function l8(){if(gE)return mg;gE=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return mg=e,mg}var gg,yE;function c8(){if(yE)return gg;yE=1;var t=l8(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var o="on"+r,l=o in document;if(!l){var u=document.createElement("div");u.setAttribute(o,"return;"),l=typeof u[o]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return gg=n,gg}var yg,vE;function u8(){if(vE)return yg;vE=1;var t=a8(),e=c8(),n=10,r=40,s=800;function o(l){var u=0,d=0,f=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),f=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(f=l.deltaX),(f||g)&&l.deltaMode&&(l.deltaMode==1?(f*=r,g*=r):(f*=s,g*=s)),f&&!u&&(u=f<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:f,pixelY:g}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},yg=o,yg}var vg,wE;function d8(){return wE||(wE=1,vg=u8()),vg}var h8=d8();const f8=BE(h8);function p8(t,e,n,r,s,o){o===void 0&&(o=0);var l=Il(t,e,o),u=l.width,d=l.height,f=Math.min(u,n),g=Math.min(d,r);return f>g*s?{width:g*s,height:g}:{width:f,height:f/s}}function m8(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Mc(t,e,n,r,s){s===void 0&&(s=0);var o=Il(e.width,e.height,s),l=o.width,u=o.height;return{x:xE(t.x,l,n.width,r),y:xE(t.y,u,n.height,r)}}function xE(t,e,n,r){var s=e*r/2-n/2;return tp(t,-s,s)}function _E(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function bE(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function g8(t,e,n,r,s,o,l){o===void 0&&(o=0),l===void 0&&(l=!0);var u=l?y8:v8,d=Il(e.width,e.height,o),f=Il(e.naturalWidth,e.naturalHeight,o),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(f.width,g.width*f.width/100)),w=Math.round(u(f.height,g.height*f.height/100)),T=f.width>=f.height*r,C=T?{width:Math.round(w*r),height:w}:{width:v,height:Math.round(v/r)},P=Xt(Xt({},C),{x:Math.round(u(f.width-C.width,g.x*f.width/100)),y:Math.round(u(f.height-C.height,g.y*f.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:P}}function y8(t,e){return Math.min(t,Math.max(0,e))}function v8(t,e){return e}function w8(t,e,n,r,s,o){var l=Il(e.width,e.height,n),u=tp(r.width/l.width*(100/t.width),s,o),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function x8(t,e,n){var r=m8(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function _8(t,e,n,r,s,o){n===void 0&&(n=0);var l=Il(e.naturalWidth,e.naturalHeight,n),u=tp(x8(t,e,r),s,o),d=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:f,zoom:u}}function EE(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function b8(t){return t*Math.PI/180}function Il(t,e,n){var r=b8(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function tp(t,e,n){return Math.min(Math.max(t,e),n)}function wh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var E8=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,T8=1,S8=3,I8=1,C8=(function(t){o8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=w8(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=s.crop,l=s.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=_8(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=u.crop,l=u.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,o,l,u,d,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,w=((o=n.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=f.offsetWidth<v||f.offsetHeight<w,C=v/w,P=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":P=g>C?{width:n.containerRect.height*C,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/C};break;case"horizontal-cover":P={width:n.containerRect.width,height:n.containerRect.width/C};break;case"vertical-cover":P={width:n.containerRect.height*C,height:n.containerRect.height};break}else P={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=Xt(Xt({},P),{naturalWidth:v,naturalHeight:w}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:p8(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),o=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,o,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Xt({},n.props.crop),(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s)},n.onDrag=function(r){var s=r.x,o=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||o===void 0)){var l=s-n.dragStartPosition.x,u=o-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},f=n.props.restrictPosition?Mc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),o=f8(r).pixelY,l=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var o=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(o-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,o=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(o+u.y)/d}},n.setNewZoom=function(r,s,o){var l=o===void 0?{}:o,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=tp(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),w={x:v.x*f-g.x,y:v.y*f-g.y},T=n.props.restrictPosition?Mc(w,n.mediaSize,n.state.cropSize,f,n.props.rotation):w;n.props.onCropChange(T)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Mc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return g8(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,o),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var o=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;o={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var f=n.props.restrictPosition?Mc(o,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):o;n.previousCropSize=n.state.cropSize,n.props.onCropChange(f),n.emitCropData()}},n.onKeyDown=function(r){var s,o,l=n.props,u=l.crop,d=l.onCropChange,f=l.keyboardStep,g=l.zoom,v=l.rotation,w=f;if(n.state.cropSize){r.shiftKey&&(w*=.2);var T=Xt({},u);switch(r.key){case"ArrowUp":T.y-=w,r.preventDefault();break;case"ArrowDown":T.y+=w,r.preventDefault();break;case"ArrowLeft":T.x-=w,r.preventDefault();break;case"ArrowRight":T.x+=w,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=Mc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s),d(T)}},n.onKeyUp=function(r){var s,o;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(o=(s=n.props).onInteractionEnd)===null||o===void 0||o.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=E8,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,o,l,u,d,f,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((o=n.cropSize)===null||o===void 0?void 0:o.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,o;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=d/f;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=_E(r,s),this.lastPinchRotation=bE(r,s),this.onDragStart(EE(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),o=e.getTouchPoint(n.touches[1]),l=EE(s,o);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=_E(s,o),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var f=bE(s,o),g=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,s=this.props,o=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,f=s.transform,g=s.crop,v=g.x,w=g.y,T=s.rotation,C=s.zoom,P=s.cropShape,S=s.showGrid,D=s.roundCropAreaPixels,j=s.style,F=j.containerStyle,q=j.cropAreaStyle,G=j.mediaStyle,z=s.classes,R=z.containerClassName,A=z.cropAreaClassName,N=z.mediaClassName,L=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(W){return n.containerRef=W},"data-testid":"container",style:F,className:wh("reactEasyCrop_Container",R)},o?b.createElement("img",Xt({alt:"",className:wh("reactEasyCrop_Image",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{src:o,ref:this.imageRef,style:Xt(Xt({},G),{transform:f||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(C,")")}),onLoad:this.onMediaLoad})):l&&b.createElement("video",Xt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:wh("reactEasyCrop_Video",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Xt(Xt({},G),{transform:f||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(T,"deg) scale(").concat(C,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(V){return b.createElement("source",Xt({key:V.src},V))})),this.state.cropSize&&b.createElement("div",Xt({ref:this.cropperRef,style:Xt(Xt({},q),{width:D?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:D?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:wh("reactEasyCrop_CropArea",P==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",A)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:S8,minZoom:T8,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:I8},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(b.Component);const R8=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=b.useState(null),[o,l]=b.useState({x:0,y:0}),[u,d]=b.useState(1),[f,g]=b.useState(null),[v,w]=b.useState(!1),[T,C]=b.useState(!1),P=b.useCallback((q,G)=>{g(G)},[]),S=async q=>{if(q.target.files&&q.target.files.length>0){const G=q.target.files[0],z=new FileReader;z.addEventListener("load",()=>{s(z.result),C(!0)}),z.readAsDataURL(G)}},D=q=>new Promise((G,z)=>{const R=new Image;R.addEventListener("load",()=>G(R)),R.addEventListener("error",A=>z(A)),R.setAttribute("crossOrigin","anonymous"),R.src=q}),j=async(q,G)=>{const z=await D(q),R=document.createElement("canvas"),A=R.getContext("2d");if(!A)throw new Error("No 2d context");return R.width=G.width,R.height=G.height,A.drawImage(z,G.x,G.y,G.width,G.height,0,0,G.width,G.height),new Promise((N,L)=>{R.toBlob(V=>{if(!V){L(new Error("Canvas is empty"));return}N(V)},"image/jpeg")})},F=async()=>{if(!(!r||!f)){w(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const q=await j(r,f);console.log("Image cropped successfully");const G=`avatars/${t}_${Date.now()}.jpg`,z=gV(bV,G);console.log("Uploading to Storage:",G);const R=await pV(z,q);console.log("Upload complete");const A=await mV(R.ref);console.log("Download URL obtained:",A),console.log("Updating Firestore..."),await Us(it(we,"users",t),{avatar:A}),console.log("Firestore updated"),n(A),C(!1),s(null)}catch(q){console.error("Detailed upload error:",q),alert("Failed to save image. Please check your internet connection or try again.")}finally{w(!1)}}};return p.jsxs("div",{className:"relative group",children:[p.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[p.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),p.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[p.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"}),p.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),p.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),p.jsx(Os,{children:T&&r&&p.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),p.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),p.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),p.jsx("div",{className:"relative h-96 bg-gray-900",children:p.jsx(C8,{image:r,crop:o,zoom:u,aspect:1,onCropChange:l,onCropComplete:P,onZoomChange:d})}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),p.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:q=>d(Number(q.target.value)),className:"flex-grow accent-[#0066FF]"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),p.jsx("button",{onClick:F,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function A8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Pv(t){return"nodeType"in t}function tr(t){var e,n;return t?zl(t)?t:Pv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function kv(t){const{Document:e}=tr(t);return t instanceof e}function Yu(t){return zl(t)?!1:t instanceof tr(t).HTMLElement}function mR(t){return t instanceof tr(t).SVGElement}function $l(t){return t?zl(t)?t.document:Pv(t)?kv(t)?t:Yu(t)||mR(t)?t.ownerDocument:document:document:document}const Fs=np?b.useLayoutEffect:b.useEffect;function Nv(t){const e=b.useRef(t);return Fs(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function P8(){const t=b.useRef(null),e=b.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Iu(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Fs(()=>{n.current!==t&&(n.current=t)},e),n}function Xu(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function mf(t){const e=Nv(t),n=b.useRef(null),r=b.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function _y(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let wg={};function Ju(t,e){return b.useMemo(()=>{if(e)return e;const n=wg[t]==null?0:wg[t]+1;return wg[t]=n,t+"-"+n},[t,e])}function gR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[d,f]of u){const g=o[d];g!=null&&(o[d]=g+t*f)}return o},{...e})}}const ml=gR(1),Cu=gR(-1);function k8(t){return"clientX"in t&&"clientY"in t}function Dv(t){if(!t)return!1;const{KeyboardEvent:e}=tr(t.target);return e&&t instanceof e}function N8(t){if(!t)return!1;const{TouchEvent:e}=tr(t.target);return e&&t instanceof e}function by(t){if(N8(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return k8(t)?{x:t.clientX,y:t.clientY}:null}const Ru=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ru.Translate.toString(t),Ru.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),TE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function D8(t){return t.matches(TE)?t:t.querySelector(TE)}const j8={display:"none"};function L8(t){let{id:e,value:n}=t;return en.createElement("div",{id:e,style:j8},n)}function M8(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return en.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function V8(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const yR=b.createContext(null);function O8(t){const e=b.useContext(yR);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function F8(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:s,event:o}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,o)})},[t]),e]}const U8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},B8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function z8(t){let{announcements:e=B8,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=U8}=t;const{announce:o,announcement:l}=V8(),u=Ju("DndLiveRegion"),[d,f]=b.useState(!1);if(b.useEffect(()=>{f(!0)},[]),O8(b.useMemo(()=>({onDragStart(v){let{active:w}=v;o(e.onDragStart({active:w}))},onDragMove(v){let{active:w,over:T}=v;e.onDragMove&&o(e.onDragMove({active:w,over:T}))},onDragOver(v){let{active:w,over:T}=v;o(e.onDragOver({active:w,over:T}))},onDragEnd(v){let{active:w,over:T}=v;o(e.onDragEnd({active:w,over:T}))},onDragCancel(v){let{active:w,over:T}=v;o(e.onDragCancel({active:w,over:T}))}}),[o,e])),!d)return null;const g=en.createElement(en.Fragment,null,en.createElement(L8,{id:r,value:s.draggable}),en.createElement(M8,{id:u,announcement:l}));return n?Vc.createPortal(g,n):g}var $t;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function gf(){}function SE(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function $8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ss=Object.freeze({x:0,y:0});function vR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wR(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function W8(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function IE(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function xR(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function CE(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const q8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=CE(e,e.left,e.top),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=vR(CE(d),s);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(wR)},H8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=IE(e),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=IE(d),g=s.reduce((w,T,C)=>w+vR(f[C],T),0),v=Number((g/4).toFixed(4));o.push({id:u,data:{droppableContainer:l,value:v}})}}return o.sort(wR)};function G8(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=o-n;if(r<s&&n<o){const d=e.width*e.height,f=t.width*t.height,g=l*u,v=g/(d+f-g);return Number(v.toFixed(4))}return 0}const K8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=G8(u,e);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(W8)};function Q8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function _R(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ss}function Y8(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const X8=Y8(1);function J8(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Z8(t,e,n){const r=J8(e);if(!r)return t;const{scaleX:s,scaleY:o,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),f=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=o?t.height/o:t.height;return{width:g,height:v,top:f,right:d+g,bottom:f+v,left:d}}const eB={ignoreTransform:!1};function Wl(t,e){e===void 0&&(e=eB);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:g}=tr(t).getComputedStyle(t);f&&(n=Z8(n,f,g))}const{top:r,left:s,width:o,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:o,height:l,bottom:u,right:d}}function RE(t){return Wl(t,{ignoreTransform:!0})}function tB(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function nB(t,e){return e===void 0&&(e=tr(t).getComputedStyle(t)),e.position==="fixed"}function rB(t,e){e===void 0&&(e=tr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function rp(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(kv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Yu(s)||mR(s)||n.includes(s))return n;const o=tr(t).getComputedStyle(s);return s!==t&&rB(s,o)&&n.push(s),nB(s,o)?n:r(s.parentNode)}return t?r(t):n}function bR(t){const[e]=rp(t,1);return e??null}function xg(t){return!np||!t?null:zl(t)?t:Pv(t)?kv(t)||t===$l(t).scrollingElement?window:Yu(t)?t:null:null}function ER(t){return zl(t)?t.scrollX:t.scrollLeft}function TR(t){return zl(t)?t.scrollY:t.scrollTop}function Ey(t){return{x:ER(t),y:TR(t)}}var Zt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Zt||(Zt={}));function SR(t){return!np||!t?!1:t===document.scrollingElement}function IR(t){const e={x:0,y:0},n=SR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const sB={x:.2,y:.2};function iB(t,e,n,r,s){let{top:o,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=sB);const{isTop:f,isBottom:g,isLeft:v,isRight:w}=IR(t),T={x:0,y:0},C={x:0,y:0},P={height:e.height*s.y,width:e.width*s.x};return!f&&o<=e.top+P.height?(T.y=Zt.Backward,C.y=r*Math.abs((e.top+P.height-o)/P.height)):!g&&d>=e.bottom-P.height&&(T.y=Zt.Forward,C.y=r*Math.abs((e.bottom-P.height-d)/P.height)),!w&&u>=e.right-P.width?(T.x=Zt.Forward,C.x=r*Math.abs((e.right-P.width-u)/P.width)):!v&&l<=e.left+P.width&&(T.x=Zt.Backward,C.x=r*Math.abs((e.left+P.width-l)/P.width)),{direction:T,speed:C}}function oB(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function CR(t){return t.reduce((e,n)=>ml(e,Ey(n)),ss)}function aB(t){return t.reduce((e,n)=>e+ER(n),0)}function lB(t){return t.reduce((e,n)=>e+TR(n),0)}function cB(t,e){if(e===void 0&&(e=Wl),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);bR(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const uB=[["x",["left","right"],aB],["y",["top","bottom"],lB]];class jv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=rp(n),s=CR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,l,u]of uB)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),g=s[o]-f;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class iu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function dB(t){const{EventTarget:e}=tr(t);return t instanceof e?t:$l(t)}function _g(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ar;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ar||(Ar={}));function AE(t){t.preventDefault()}function hB(t){t.stopPropagation()}var qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(qe||(qe={}));const RR={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},fB=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case qe.Right:return{...n,x:n.x+25};case qe.Left:return{...n,x:n.x-25};case qe.Down:return{...n,y:n.y+25};case qe.Up:return{...n,y:n.y-25}}};class Lv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new iu($l(n)),this.windowListeners=new iu(tr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ar.Resize,this.handleCancel),this.windowListeners.add(Ar.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ar.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&cB(r),n(ss)}handleKeyDown(e){if(Dv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=RR,coordinateGetter:l=fB,scrollBehavior:u="smooth"}=s,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=r.current,g=f?{x:f.left,y:f.top}:ss;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const w=Cu(v,g),T={x:0,y:0},{scrollableAncestors:C}=r.current;for(const P of C){const S=e.code,{isTop:D,isRight:j,isLeft:F,isBottom:q,maxScroll:G,minScroll:z}=IR(P),R=oB(P),A={x:Math.min(S===qe.Right?R.right-R.width/2:R.right,Math.max(S===qe.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(S===qe.Down?R.bottom-R.height/2:R.bottom,Math.max(S===qe.Down?R.top:R.top+R.height/2,v.y))},N=S===qe.Right&&!j||S===qe.Left&&!F,L=S===qe.Down&&!q||S===qe.Up&&!D;if(N&&A.x!==v.x){const V=P.scrollLeft+w.x,W=S===qe.Right&&V<=G.x||S===qe.Left&&V>=z.x;if(W&&!w.y){P.scrollTo({left:V,behavior:u});return}W?T.x=P.scrollLeft-V:T.x=S===qe.Right?P.scrollLeft-G.x:P.scrollLeft-z.x,T.x&&P.scrollBy({left:-T.x,behavior:u});break}else if(L&&A.y!==v.y){const V=P.scrollTop+w.y,W=S===qe.Down&&V<=G.y||S===qe.Up&&V>=z.y;if(W&&!w.x){P.scrollTo({top:V,behavior:u});return}W?T.y=P.scrollTop-V:T.y=S===qe.Down?P.scrollTop-G.y:P.scrollTop-z.y,T.y&&P.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,ml(Cu(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=RR,onActivation:s}=e,{active:o}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function PE(t){return!!(t&&"distance"in t)}function kE(t){return!!(t&&"delay"in t)}class Mv{constructor(e,n,r){var s;r===void 0&&(r=dB(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:l}=o;this.props=e,this.events=n,this.document=$l(l),this.documentListeners=new iu(this.document),this.listeners=new iu(r),this.windowListeners=new iu(tr(l)),this.initialCoordinates=(s=by(o))!=null?s:ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ar.Resize,this.handleCancel),this.windowListeners.add(Ar.DragStart,AE),this.windowListeners.add(Ar.VisibilityChange,this.handleCancel),this.windowListeners.add(Ar.ContextMenu,AE),this.documentListeners.add(Ar.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(kE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(PE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ar.Click,hB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ar.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!s)return;const d=(n=by(e))!=null?n:ss,f=Cu(s,d);if(!r&&u){if(PE(u)){if(u.tolerance!=null&&_g(f,u.tolerance))return this.handleCancel();if(_g(f,u.distance))return this.handleStart()}if(kE(u)&&_g(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const pB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Vv extends Mv{constructor(e){const{event:n}=e,r=$l(n.target);super(e,pB,r)}}Vv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const mB={move:{name:"mousemove"},end:{name:"mouseup"}};var Ty;(function(t){t[t.RightClick=2]="RightClick"})(Ty||(Ty={}));class gB extends Mv{constructor(e){super(e,mB,$l(e.event.target))}}gB.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Ty.RightClick?!1:(r?.({event:n}),!0)}}];const bg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class yB extends Mv{constructor(e){super(e,bg)}static setup(){return window.addEventListener(bg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bg.move.name,e)};function e(){}}}yB.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var ou;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ou||(ou={}));var yf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(yf||(yf={}));function vB(t){let{acceleration:e,activator:n=ou.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:l=5,order:u=yf.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:g,delta:v,threshold:w}=t;const T=xB({delta:v,disabled:!o}),[C,P]=P8(),S=b.useRef({x:0,y:0}),D=b.useRef({x:0,y:0}),j=b.useMemo(()=>{switch(n){case ou.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ou.DraggableRect:return s}},[n,s,d]),F=b.useRef(null),q=b.useCallback(()=>{const z=F.current;if(!z)return;const R=S.current.x*D.current.x,A=S.current.y*D.current.y;z.scrollBy(R,A)},[]),G=b.useMemo(()=>u===yf.TreeOrder?[...f].reverse():f,[u,f]);b.useEffect(()=>{if(!o||!f.length||!j){P();return}for(const z of G){if(r?.(z)===!1)continue;const R=f.indexOf(z),A=g[R];if(!A)continue;const{direction:N,speed:L}=iB(z,A,j,e,w);for(const V of["x","y"])T[V][N[V]]||(L[V]=0,N[V]=0);if(L.x>0||L.y>0){P(),F.current=z,C(q,l),S.current=L,D.current=N;return}}S.current={x:0,y:0},D.current={x:0,y:0},P()},[e,q,r,P,o,l,JSON.stringify(j),JSON.stringify(T),C,f,G,g,JSON.stringify(w)])}const wB={x:{[Zt.Backward]:!1,[Zt.Forward]:!1},y:{[Zt.Backward]:!1,[Zt.Forward]:!1}};function xB(t){let{delta:e,disabled:n}=t;const r=_y(e);return Xu(s=>{if(n||!r||!s)return wB;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Zt.Backward]:s.x[Zt.Backward]||o.x===-1,[Zt.Forward]:s.x[Zt.Forward]||o.x===1},y:{[Zt.Backward]:s.y[Zt.Backward]||o.y===-1,[Zt.Forward]:s.y[Zt.Forward]||o.y===1}}},[n,e,r])}function _B(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Xu(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function bB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...o]},[]),[t,e])}var Au;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Au||(Au={}));var Sy;(function(t){t.Optimized="optimized"})(Sy||(Sy={}));const NE=new Map;function EB(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,l]=b.useState(null),{frequency:u,measure:d,strategy:f}=s,g=b.useRef(t),v=S(),w=Iu(v),T=b.useCallback(function(D){D===void 0&&(D=[]),!w.current&&l(j=>j===null?D:j.concat(D.filter(F=>!j.includes(F))))},[w]),C=b.useRef(null),P=Xu(D=>{if(v&&!n)return NE;if(!D||D===NE||g.current!==t||o!=null){const j=new Map;for(let F of t){if(!F)continue;if(o&&o.length>0&&!o.includes(F.id)&&F.rect.current){j.set(F.id,F.rect.current);continue}const q=F.node.current,G=q?new jv(d(q),q):null;F.rect.current=G,G&&j.set(F.id,G)}return j}return D},[t,o,n,v,d]);return b.useEffect(()=>{g.current=t},[t]),b.useEffect(()=>{v||T()},[n,v]),b.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),b.useEffect(()=>{v||typeof u!="number"||C.current!==null||(C.current=setTimeout(()=>{T(),C.current=null},u))},[u,v,T,...r]),{droppableRects:P,measureDroppableContainers:T,measuringScheduled:o!=null};function S(){switch(f){case Au.Always:return!1;case Au.BeforeDragging:return n;default:return!n}}}function AR(t,e){return Xu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function TB(t,e){return AR(t,e)}function SB(t){let{callback:e,disabled:n}=t;const r=Nv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function sp(t){let{callback:e,disabled:n}=t;const r=Nv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function IB(t){return new jv(Wl(t),t)}function DE(t,e,n){e===void 0&&(e=IB);const[r,s]=b.useState(null);function o(){s(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=SB({callback(d){if(t)for(const f of d){const{type:g,target:v}=f;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){o();break}}}}),u=sp({callback:o});return Fs(()=>{o(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function CB(t){const e=AR(t);return _R(t,e)}const jE=[];function RB(t){const e=b.useRef(t),n=Xu(r=>t?r&&r!==jE&&t&&e.current&&t.parentNode===e.current.parentNode?r:rp(t):jE,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function AB(t){const[e,n]=b.useState(null),r=b.useRef(t),s=b.useCallback(o=>{const l=xg(o.target);l&&n(u=>u?(u.set(l,Ey(l)),new Map(u)):null)},[]);return b.useEffect(()=>{const o=r.current;if(t!==o){l(o);const u=t.map(d=>{const f=xg(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Ey(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(o)};function l(u){u.forEach(d=>{const f=xg(d);f?.removeEventListener("scroll",s)})}},[s,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,l)=>ml(o,l),ss):CR(t):ss,[t,e])}function LE(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==ss;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Cu(t,n.current):ss}function PB(t){b.useEffect(()=>{if(!np)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function kB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=l=>{o(l,e)},n},{}),[t,e])}function PR(t){return b.useMemo(()=>t?tB(t):null,[t])}const ME=[];function NB(t,e){e===void 0&&(e=Wl);const[n]=t,r=PR(n?tr(n):null),[s,o]=b.useState(ME);function l(){o(()=>t.length?t.map(d=>SR(d)?r:new jv(e(d),d)):ME)}const u=sp({callback:l});return Fs(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function DB(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Yu(e)?e:t}function jB(t){let{measure:e}=t;const[n,r]=b.useState(null),s=b.useCallback(f=>{for(const{target:g}of f)if(Yu(g)){r(v=>{const w=e(g);return v?{...v,width:w.width,height:w.height}:w});break}},[e]),o=sp({callback:s}),l=b.useCallback(f=>{const g=DB(f);o?.disconnect(),g&&o?.observe(g),r(g?e(g):null)},[e,o]),[u,d]=mf(l);return b.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const LB=[{sensor:Vv,options:{}},{sensor:Lv,options:{}}],MB={current:{}},Oh={draggable:{measure:RE},droppable:{measure:RE,strategy:Au.WhileDragging,frequency:Sy.Optimized},dragOverlay:{measure:Wl}};class au extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const VB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new au,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Oh,measureDroppableContainers:gf,windowRect:null,measuringScheduled:!1},OB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gf,draggableNodes:new Map,over:null,measureDroppableContainers:gf},ip=b.createContext(OB),kR=b.createContext(VB);function FB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new au}}}function UB(t,e){switch(e.type){case $t.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case $t.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new au(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case $t.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const l=new au(t.droppable.containers);return l.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case $t.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new au(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function BB(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=b.useContext(ip),o=_y(r),l=_y(n?.id);return b.useEffect(()=>{if(!e&&!r&&o&&l!=null){if(!Dv(o)||document.activeElement===o.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const g of[d.current,f.current]){if(!g)continue;const v=D8(g);if(v){v.focus();break}}})}},[r,e,s,l,o]),null}function zB(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function $B(t){return b.useMemo(()=>({draggable:{...Oh.draggable,...t?.draggable},droppable:{...Oh.droppable,...t?.droppable},dragOverlay:{...Oh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function WB(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=b.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Fs(()=>{if(!l&&!u||!e){o.current=!1;return}if(o.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const g=n(f),v=_R(g,r);if(l||(v.x=0),u||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=bR(f);w&&w.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const NR=b.createContext({...ss,scaleX:1,scaleY:1});var Gi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Gi||(Gi={}));const qB=b.memo(function(e){var n,r,s,o;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:g=LB,collisionDetection:v=K8,measuring:w,modifiers:T,...C}=e;const P=b.useReducer(UB,void 0,FB),[S,D]=P,[j,F]=F8(),[q,G]=b.useState(Gi.Uninitialized),z=q===Gi.Initialized,{draggable:{active:R,nodes:A,translate:N},droppable:{containers:L}}=S,V=R!=null?A.get(R):null,W=b.useRef({initial:null,translated:null}),M=b.useMemo(()=>{var Ve;return R!=null?{id:R,data:(Ve=V?.data)!=null?Ve:MB,rect:W}:null},[R,V]),Ne=b.useRef(null),[Xe,dt]=b.useState(null),[ge,se]=b.useState(null),ce=Iu(C,Object.values(C)),ee=Ju("DndDescribedBy",l),U=b.useMemo(()=>L.getEnabled(),[L]),J=$B(w),{droppableRects:ve,measureDroppableContainers:_e,measuringScheduled:De}=EB(U,{dragging:z,dependencies:[N.x,N.y],config:J.droppable}),be=_B(A,R),Fe=b.useMemo(()=>ge?by(ge):null,[ge]),je=Ur(),Me=TB(be,J.draggable.measure);WB({activeNode:R!=null?A.get(R):null,config:je.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const Pe=DE(be,J.draggable.measure,Me),qt=DE(be?be.parentElement:null),yn=b.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kn=L.getNodeFor((n=yn.current.over)==null?void 0:n.id),vn=jB({measure:J.dragOverlay.measure}),Vr=(r=vn.nodeRef.current)!=null?r:be,nr=z?(s=vn.rect)!=null?s:Pe:null,as=!!(vn.nodeRef.current&&vn.rect),vi=CB(as?null:Pe),ht=PR(Vr?tr(Vr):null),Je=RB(z?kn??be:null),wn=NB(Je),ls=zB(T,{transform:{x:N.x-vi.x,y:N.y-vi.y,scaleX:1,scaleY:1},activatorEvent:ge,active:M,activeNodeRect:Pe,containerNodeRect:qt,draggingNodeRect:nr,over:yn.current.over,overlayNodeRect:vn.rect,scrollableAncestors:Je,scrollableAncestorRects:wn,windowRect:ht}),wi=Fe?ml(Fe,N):null,Eo=AB(Je),cs=LE(Eo),To=LE(Eo,[Pe]),rr=ml(ls,cs),Nn=nr?X8(nr,ls):null,us=M&&Nn?v({active:M,collisionRect:Nn,droppableRects:ve,droppableContainers:U,pointerCoordinates:wi}):null,ds=xR(us,"id"),[rn,So]=b.useState(null),hs=as?ls:ml(ls,To),xi=Q8(hs,(o=rn?.rect)!=null?o:null,Pe),Bs=b.useRef(null),Bn=b.useCallback((Ve,Ft)=>{let{sensor:bt,options:sn}=Ft;if(Ne.current==null)return;const on=A.get(Ne.current);if(!on)return;const Ht=Ve.nativeEvent,Ct=new bt({active:Ne.current,activeNode:on,event:Ht,options:sn,context:yn,onAbort(at){if(!A.get(at))return;const{onDragAbort:Ut}=ce.current,zn={id:at};Ut?.(zn),j({type:"onDragAbort",event:zn})},onPending(at,an,Ut,zn){if(!A.get(at))return;const{onDragPending:xn}=ce.current,jn={id:at,constraint:an,initialCoordinates:Ut,offset:zn};xn?.(jn),j({type:"onDragPending",event:jn})},onStart(at){const an=Ne.current;if(an==null)return;const Ut=A.get(an);if(!Ut)return;const{onDragStart:zn}=ce.current,Dn={activatorEvent:Ht,active:{id:an,data:Ut.data,rect:W}};Vc.unstable_batchedUpdates(()=>{zn?.(Dn),G(Gi.Initializing),D({type:$t.DragStart,initialCoordinates:at,active:an}),j({type:"onDragStart",event:Dn}),dt(Bs.current),se(Ht)})},onMove(at){D({type:$t.DragMove,coordinates:at})},onEnd:Br($t.DragEnd),onCancel:Br($t.DragCancel)});Bs.current=Ct;function Br(at){return async function(){const{active:Ut,collisions:zn,over:Dn,scrollAdjustedTranslate:xn}=yn.current;let jn=null;if(Ut&&xn){const{cancelDrop:Gt}=ce.current;jn={activatorEvent:Ht,active:Ut,collisions:zn,delta:xn,over:Dn},at===$t.DragEnd&&typeof Gt=="function"&&await Promise.resolve(Gt(jn))&&(at=$t.DragCancel)}Ne.current=null,Vc.unstable_batchedUpdates(()=>{D({type:at}),G(Gi.Uninitialized),So(null),dt(null),se(null),Bs.current=null;const Gt=at===$t.DragEnd?"onDragEnd":"onDragCancel";if(jn){const Ei=ce.current[Gt];Ei?.(jn),j({type:Gt,event:jn})}})}}},[A]),_i=b.useCallback((Ve,Ft)=>(bt,sn)=>{const on=bt.nativeEvent,Ht=A.get(sn);if(Ne.current!==null||!Ht||on.dndKit||on.defaultPrevented)return;const Ct={active:Ht};Ve(bt,Ft.options,Ct)===!0&&(on.dndKit={capturedBy:Ft.sensor},Ne.current=sn,Bn(bt,Ft))},[A,Bn]),Or=bB(g,_i);PB(g),Fs(()=>{Pe&&q===Gi.Initializing&&G(Gi.Initialized)},[Pe,q]),b.useEffect(()=>{const{onDragMove:Ve}=ce.current,{active:Ft,activatorEvent:bt,collisions:sn,over:on}=yn.current;if(!Ft||!bt)return;const Ht={active:Ft,activatorEvent:bt,collisions:sn,delta:{x:rr.x,y:rr.y},over:on};Vc.unstable_batchedUpdates(()=>{Ve?.(Ht),j({type:"onDragMove",event:Ht})})},[rr.x,rr.y]),b.useEffect(()=>{const{active:Ve,activatorEvent:Ft,collisions:bt,droppableContainers:sn,scrollAdjustedTranslate:on}=yn.current;if(!Ve||Ne.current==null||!Ft||!on)return;const{onDragOver:Ht}=ce.current,Ct=sn.get(ds),Br=Ct&&Ct.rect.current?{id:Ct.id,rect:Ct.rect.current,data:Ct.data,disabled:Ct.disabled}:null,at={active:Ve,activatorEvent:Ft,collisions:bt,delta:{x:on.x,y:on.y},over:Br};Vc.unstable_batchedUpdates(()=>{So(Br),Ht?.(at),j({type:"onDragOver",event:at})})},[ds]),Fs(()=>{yn.current={activatorEvent:ge,active:M,activeNode:be,collisionRect:Nn,collisions:us,droppableRects:ve,draggableNodes:A,draggingNode:Vr,draggingNodeRect:nr,droppableContainers:L,over:rn,scrollableAncestors:Je,scrollAdjustedTranslate:rr},W.current={initial:nr,translated:Nn}},[M,be,us,Nn,A,Vr,nr,ve,L,rn,Je,rr]),vB({...je,delta:N,draggingRect:Nn,pointerCoordinates:wi,scrollableAncestors:Je,scrollableAncestorRects:wn});const bi=b.useMemo(()=>({active:M,activeNode:be,activeNodeRect:Pe,activatorEvent:ge,collisions:us,containerNodeRect:qt,dragOverlay:vn,draggableNodes:A,droppableContainers:L,droppableRects:ve,over:rn,measureDroppableContainers:_e,scrollableAncestors:Je,scrollableAncestorRects:wn,measuringConfiguration:J,measuringScheduled:De,windowRect:ht}),[M,be,Pe,ge,us,qt,vn,A,L,ve,rn,_e,Je,wn,J,De,ht]),Fr=b.useMemo(()=>({activatorEvent:ge,activators:Or,active:M,activeNodeRect:Pe,ariaDescribedById:{draggable:ee},dispatch:D,draggableNodes:A,over:rn,measureDroppableContainers:_e}),[ge,Or,M,Pe,D,ee,A,rn,_e]);return en.createElement(yR.Provider,{value:F},en.createElement(ip.Provider,{value:Fr},en.createElement(kR.Provider,{value:bi},en.createElement(NR.Provider,{value:xi},f)),en.createElement(BB,{disabled:u?.restoreFocus===!1})),en.createElement(z8,{...u,hiddenTextDescribedById:ee}));function Ur(){const Ve=Xe?.autoScrollEnabled===!1,Ft=typeof d=="object"?d.enabled===!1:d===!1,bt=z&&!Ve&&!Ft;return typeof d=="object"?{...d,enabled:bt}:{enabled:bt}}}),HB=b.createContext(null),VE="button",GB="Draggable";function KB(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=Ju(GB),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:g,draggableNodes:v,over:w}=b.useContext(ip),{role:T=VE,roleDescription:C="draggable",tabIndex:P=0}=s??{},S=d?.id===e,D=b.useContext(S?NR:HB),[j,F]=mf(),[q,G]=mf(),z=kB(l,e),R=Iu(n);Fs(()=>(v.set(e,{id:e,key:o,node:j,activatorNode:q,data:R}),()=>{const N=v.get(e);N&&N.key===o&&v.delete(e)}),[v,e]);const A=b.useMemo(()=>({role:T,tabIndex:P,"aria-disabled":r,"aria-pressed":S&&T===VE?!0:void 0,"aria-roledescription":C,"aria-describedby":g.draggable}),[r,T,P,S,C,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:A,isDragging:S,listeners:r?void 0:z,node:j,over:w,setNodeRef:F,setActivatorNodeRef:G,transform:D}}function QB(){return b.useContext(kR)}const YB="Droppable",XB={timeout:25};function JB(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=Ju(YB),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=b.useContext(ip),g=b.useRef({disabled:n}),v=b.useRef(!1),w=b.useRef(null),T=b.useRef(null),{disabled:C,updateMeasurementsFor:P,timeout:S}={...XB,...s},D=Iu(P??r),j=b.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{f(Array.isArray(D.current)?D.current:[D.current]),T.current=null},S)},[S]),F=sp({callback:j,disabled:C||!l}),q=b.useCallback((A,N)=>{F&&(N&&(F.unobserve(N),v.current=!1),A&&F.observe(A))},[F]),[G,z]=mf(q),R=Iu(e);return b.useEffect(()=>{!F||!G.current||(F.disconnect(),v.current=!1,F.observe(G.current))},[G,F]),b.useEffect(()=>(u({type:$t.RegisterDroppable,element:{id:r,key:o,disabled:n,node:G,rect:w,data:R}}),()=>u({type:$t.UnregisterDroppable,key:o,id:r})),[r]),b.useEffect(()=>{n!==g.current.disabled&&(u({type:$t.SetDroppableDisabled,id:r,key:o,disabled:n}),g.current.disabled=n)},[r,o,n,u]),{active:l,rect:w,isOver:d?.id===r,node:G,over:d,setNodeRef:z}}function Ov(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function ZB(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function xh(t){return t!==null&&t>=0}function ez(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function tz(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const DR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=Ov(e,r,n),l=e[s],u=o[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},_h={scaleX:1,scaleY:1},nz=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:l}=t;const u=(e=o[n])!=null?e:r;if(!u)return null;if(s===n){const f=o[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,..._h}:null}const d=rz(o,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,..._h}:s<n&&s>=l?{x:0,y:u.height+d,..._h}:{x:0,y:0,..._h}};function rz(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const jR="Sortable",LR=en.createContext({activeIndex:-1,containerId:jR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:DR,disabled:{draggable:!1,droppable:!1}});function sz(t){let{children:e,id:n,items:r,strategy:s=DR,disabled:o=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:f,measureDroppableContainers:g}=QB(),v=Ju(jR,n),w=u.rect!==null,T=b.useMemo(()=>r.map(z=>typeof z=="object"&&"id"in z?z.id:z),[r]),C=l!=null,P=l?T.indexOf(l.id):-1,S=f?T.indexOf(f.id):-1,D=b.useRef(T),j=!ez(T,D.current),F=S!==-1&&P===-1||j,q=tz(o);Fs(()=>{j&&C&&g(T)},[j,T,C,g]),b.useEffect(()=>{D.current=T},[T]);const G=b.useMemo(()=>({activeIndex:P,containerId:v,disabled:q,disableTransforms:F,items:T,overIndex:S,useDragOverlay:w,sortedRects:ZB(T,d),strategy:s}),[P,v,q.draggable,q.droppable,F,T,S,d,w,s]);return en.createElement(LR.Provider,{value:G},e)}const iz=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Ov(n,r,s).indexOf(e)},oz=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:l,previousItems:u,previousContainerId:d,transition:f}=t;return!f||!r||u!==o&&s===l?!1:n?!0:l!==s&&e===d},az={duration:200,easing:"ease"},MR="transform",lz=Ru.Transition.toString({property:MR,duration:0,easing:"linear"}),cz={roleDescription:"sortable"};function uz(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,l]=b.useState(null),u=b.useRef(n);return Fs(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const f=Wl(r.current,{ignoreTransform:!0}),g={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),b.useEffect(()=>{o&&l(null)},[o]),o}function dz(t){let{animateLayoutChanges:e=oz,attributes:n,disabled:r,data:s,getNewIndex:o=iz,id:l,strategy:u,resizeObserverConfig:d,transition:f=az}=t;const{items:g,containerId:v,activeIndex:w,disabled:T,disableTransforms:C,sortedRects:P,overIndex:S,useDragOverlay:D,strategy:j}=b.useContext(LR),F=hz(r,T),q=g.indexOf(l),G=b.useMemo(()=>({sortable:{containerId:v,index:q,items:g},...s}),[v,s,q,g]),z=b.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:R,node:A,isOver:N,setNodeRef:L}=JB({id:l,data:G,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...d}}),{active:V,activatorEvent:W,activeNodeRect:M,attributes:Ne,setNodeRef:Xe,listeners:dt,isDragging:ge,over:se,setActivatorNodeRef:ce,transform:ee}=KB({id:l,data:G,attributes:{...cz,...n},disabled:F.draggable}),U=A8(L,Xe),J=!!V,ve=J&&!C&&xh(w)&&xh(S),_e=!D&&ge,De=_e&&ve?ee:null,Fe=ve?De??(u??j)({rects:P,activeNodeRect:M,activeIndex:w,overIndex:S,index:q}):null,je=xh(w)&&xh(S)?o({id:l,items:g,activeIndex:w,overIndex:S}):q,Me=V?.id,Pe=b.useRef({activeId:Me,items:g,newIndex:je,containerId:v}),qt=g!==Pe.current.items,yn=e({active:V,containerId:v,isDragging:ge,isSorting:J,id:l,index:q,items:g,newIndex:Pe.current.newIndex,previousItems:Pe.current.items,previousContainerId:Pe.current.containerId,transition:f,wasDragging:Pe.current.activeId!=null}),kn=uz({disabled:!yn,index:q,node:A,rect:R});return b.useEffect(()=>{J&&Pe.current.newIndex!==je&&(Pe.current.newIndex=je),v!==Pe.current.containerId&&(Pe.current.containerId=v),g!==Pe.current.items&&(Pe.current.items=g)},[J,je,v,g]),b.useEffect(()=>{if(Me===Pe.current.activeId)return;if(Me!=null&&Pe.current.activeId==null){Pe.current.activeId=Me;return}const Vr=setTimeout(()=>{Pe.current.activeId=Me},50);return()=>clearTimeout(Vr)},[Me]),{active:V,activeIndex:w,attributes:Ne,data:G,rect:R,index:q,newIndex:je,items:g,isOver:N,isSorting:J,isDragging:ge,listeners:dt,node:A,overIndex:S,over:se,setNodeRef:U,setActivatorNodeRef:ce,setDroppableNodeRef:L,setDraggableNodeRef:Xe,transform:kn??Fe,transition:vn()};function vn(){if(kn||qt&&Pe.current.newIndex===q)return lz;if(!(_e&&!Dv(W)||!f)&&(J||yn))return Ru.Transition.toString({...f,property:MR})}}function hz(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function vf(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const fz=[qe.Down,qe.Right,qe.Up,qe.Left],pz=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:l,scrollableAncestors:u}}=e;if(fz.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const w=s.get(v.id);if(w)switch(t.code){case qe.Down:r.top<w.top&&d.push(v);break;case qe.Up:r.top>w.top&&d.push(v);break;case qe.Left:r.left>w.left&&d.push(v);break;case qe.Right:r.left<w.left&&d.push(v);break}});const f=H8({collisionRect:r,droppableRects:s,droppableContainers:d});let g=xR(f,"id");if(g===l?.id&&f.length>1&&(g=f[1].id),g!=null){const v=o.get(n.id),w=o.get(g),T=w?s.get(w.id):null,C=w?.node.current;if(C&&T&&v&&w){const S=rp(C).some((z,R)=>u[R]!==z),D=VR(v,w),j=mz(v,w),F=S||!D?{x:0,y:0}:{x:j?r.width-T.width:0,y:j?r.height-T.height:0},q={x:T.left,y:T.top};return F.x&&F.y?q:Cu(q,F)}}}};function VR(t,e){return!vf(t)||!vf(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function mz(t,e){return!vf(t)||!vf(e)||!VR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const gz=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:o,setNodeRef:l,transform:u,transition:d,isDragging:f}=dz({id:t}),g={transform:Ru.Transform.toString(u),transition:d,zIndex:f?50:"auto"};return p.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${f?"shadow-lg ring-2 ring-blue-100":""}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[n&&p.jsx("button",{...s,...o,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),p.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&p.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},yz=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],vz=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=b.useState(""),[o,l]=b.useState(!1),u=$8(SE(Vv),SE(Lv,{coordinateGetter:pz})),d=w=>{const{active:T,over:C}=w;if(C&&T.id!==C.id){const P=t.indexOf(T.id),S=t.indexOf(C.id);n(Ov(t,P,S))}},f=w=>{const T=w.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=w=>{n(t.filter(T=>T!==w))},v=yz.filter(w=>w.toLowerCase().includes(r.toLowerCase())&&!t.includes(w));return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:r,onChange:w=>{s(w.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:w=>{w.key==="Enter"&&f(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),o&&r&&v.length>0&&p.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(w=>p.jsx("button",{onClick:()=>f(w),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:w},w))})]}),p.jsx(qB,{sensors:u,collisionDetection:q8,onDragEnd:d,children:p.jsx("div",{className:"grid grid-cols-1 gap-3",children:p.jsx(sz,{items:t,strategy:nz,children:t.map(w=>p.jsx(gz,{id:w,skill:w,isOwnProfile:e,onRemove:g},w))})})}),t.length===0&&p.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:p.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},wz=({onActionComplete:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),[o,l]=b.useState(null),u=async()=>{s(!0);try{const g=await r8(),v=await Promise.all(g.map(async w=>{const T=await rs(it(we,"users",w.requesterId));if(T.exists()){const C=T.data();return{...w,requesterName:C.name,requesterAvatar:C.avatar}}return w}));n(v)}catch(g){console.error("Error loading incoming requests:",g)}finally{s(!1)}};b.useEffect(()=>{u()},[]);const d=async(g,v)=>{l(g);try{await e8(g,v),n(w=>w.filter(T=>T.id!==g)),t()}catch(w){console.error(w)}finally{l(null)}},f=async g=>{l(g);try{await t8(g),n(v=>v.filter(w=>w.id!==g)),t()}catch(v){console.error("Error ignoring request:",v)}};return r||e.length===0?null:p.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[p.jsx("div",{className:"flex justify-between items-center mb-6",children:p.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[p.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",p.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),p.jsx("div",{className:"space-y-4",children:e.map(g=>p.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[p.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:p.jsx("img",{src:g.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${g.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-grow text-center md:text-left",children:[p.jsx("h4",{className:"font-bold text-gray-900",children:g.requesterName||"Anonymous Student"}),g.note&&p.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',g.note,'"']})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>f(g.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),p.jsx("button",{onClick:()=>d(g.id,g.requesterId),disabled:o===g.id,className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 disabled:opacity-50",children:"                          Accept"})]})]},g.id))})]})},Fv=async t=>{try{const e=it(we,"users",t),n=await rs(e);return n.exists()?{uid:t,...n.data()}:null}catch(e){return console.error("Error fetching profile:",e),null}},xz=async t=>{try{const e=it(we,"users",t);await Us(e,{"stats.profileViews":iI(1)})}catch(e){console.error("Error incrementing profile views:",e)}},OR=async(t,e)=>{try{const n=it(we,"users",t);await Gf(n,{...e,lastActive:nn()},{merge:!0})}catch(n){throw console.error("Error updating profile:",n),n}},_z=Object.freeze(Object.defineProperty({__proto__:null,getUserProfile:Fv,incrementProfileViews:xz,updateProfile:OR},Symbol.toStringTag,{value:"Module"})),bz=({isOpen:t,onClose:e,userId:n,onSuccess:r})=>{const[s,o]=b.useState({name:"",headline:"",bio:"",college:"",skills:[]}),[l,u]=b.useState(""),[d,f]=b.useState(!0),[g,v]=b.useState(!1);b.useEffect(()=>{t&&n&&w()},[t,n]);const w=async()=>{f(!0);const C=await Fv(n);C&&(o(C),u(C.skills.join(", "))),f(!1)},T=async C=>{C.preventDefault(),v(!0);try{const P={...s,skills:l.split(",").map(S=>S.trim()).filter(Boolean)};await OR(n,P),r&&r(),e()}catch(P){console.error("Failed to update profile:",P)}finally{v(!1)}};return p.jsx(Os,{children:t&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Se.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:p.jsx(aR,{className:"h-6 w-6 text-gray-500"})})]}),d?p.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading profile..."}):p.jsxs("form",{onSubmit:T,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),p.jsx("input",{type:"text",value:s.name,onChange:C=>o({...s,name:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Headline"}),p.jsx("input",{type:"text",value:s.headline,onChange:C=>o({...s,headline:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"e.g. Full Stack Developer | Student at MIT"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"College / Institution"}),p.jsx("input",{type:"text",value:s.college,onChange:C=>o({...s,college:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Skills (comma separated)"}),p.jsx("input",{type:"text",value:l,onChange:C=>u(C.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"React, Python, UI Design"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Bio"}),p.jsx("textarea",{value:s.bio,onChange:C=>o({...s,bio:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none resize-none",rows:4,placeholder:"Tell us about yourself..."})]}),p.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end gap-3",children:[p.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-500 font-bold hover:bg-gray-50 rounded-full transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:g,className:"px-8 py-2 bg-[#0066FF] text-white font-bold rounded-full hover:bg-blue-600 shadow-lg shadow-blue-500/20 disabled:opacity-50 transition-all",children:g?"Saving...":"Save Profile"})]})]})]})]})})},OE=()=>{const t=Lr(),{userId:e}=YE(),[n,r]=b.useState(!0),[s,o]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[g,v]=b.useState(0),[w,T]=b.useState("none"),[C,P]=b.useState(!1),[S,D]=b.useState([]),[j,F]=b.useState(!1),[q,G]=b.useState(null),[z,R]=b.useState(""),[A,N]=b.useState(!1),[L,V]=b.useState(!1),[W,M]=b.useState(""),Ne=async()=>{try{const ee=Ue.currentUser,U=e||ee?.uid;if(!U){t("/login");return}u(U===ee?.uid);const J=await Fv(U);if(J){if(o(J),ee&&U!==ee.uid){const{incrementProfileViews:De}=await jy(async()=>{const{incrementProfileViews:qt}=await Promise.resolve().then(()=>_z);return{incrementProfileViews:qt}},[]);De(U);const be=st(we,"connections"),Fe=Nt(be,xt("requesterId","==",ee.uid),xt("recipientId","==",U)),je=Nt(be,xt("requesterId","==",U),xt("recipientId","==",ee.uid)),[Me,Pe]=await Promise.all([er(Fe),er(je)]);if(Me.empty){if(!Pe.empty){const qt=Pe.docs[0].data().status;T(qt==="accepted"?"connected":"received")}}else{const qt=Me.docs[0].data().status;T(qt==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const ve=await XU(U);D(ve);const _e=await s8(U);v(_e)}catch(ee){console.error("Error fetching user data:",ee)}finally{r(!1)}};b.useEffect(()=>{Ne()},[t,e]);const Xe=async()=>{const ee=e||s?.uid;if(!(!Ue.currentUser||!ee)){if(!L){V(!0);return}P(!0);try{await fR(ee,W),T("pending"),V(!1),M("")}catch(U){const J=U;console.error("Error sending connection request:",J),alert(J.message)}finally{P(!1)}}},dt=async ee=>{if(ee.preventDefault(),!Ue.currentUser||!q)return;const U=z.split(",").map(J=>J.trim()).filter(Boolean);if(U.length===0){alert("Please add at least one technology to the Tech Stack.");return}N(!0);try{q.id?await GU(q.id,{...q,techStack:U}):await cR(Ue.currentUser.uid,{title:q.title||"",description:q.description||"",techStack:U,rolesNeeded:[],category:"Development",ownerName:s?.name||"Anonymous",ownerAvatar:s?.avatar||"",githubUrl:q.githubUrl,liveUrl:q.liveUrl,status:"Open",thumbnailUrl:"",updatedAt:null}),Ne(),F(!1),G(null)}catch(J){console.error("Error saving project:",J),alert("Failed to save project.")}finally{N(!1)}},ge=async ee=>{if(window.confirm("Are you sure you want to delete this project?"))try{await KU(ee),D(U=>U.filter(J=>J.id!==ee))}catch(U){console.error("Error deleting project:",U),alert("Failed to delete project.")}},se=async ee=>{if(!(!Ue.currentUser||!s))try{const U=it(we,"users",s.uid||Ue.currentUser.uid);await Us(U,{skills:ee}),o(J=>J?{...J,skills:ee}:null)}catch(U){console.error("Error updating skills:",U),alert("Failed to update skills.")}},ce=async()=>{if(s?.uid)try{const ee=await dR(s.uid);t(`/messages?conversationId=${ee}`)}catch(ee){console.error("Error starting conversation:",ee)}};return n?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),p.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?p.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[p.jsxs("div",{className:"relative h-44 md:h-80 w-full overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})]}),p.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-40 relative z-10",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l&&p.jsx(wz,{onActionComplete:Ne}),p.jsx(Se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 overflow-hidden",children:p.jsx("div",{className:"p-8 md:p-10",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-end text-center md:text-left",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#0066FF] to-[#00E0FF] rounded-full blur-md opacity-20"}),l?p.jsx(R8,{userId:Ue.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:ee=>o(U=>U?{...U,avatar:ee}:null)}):p.jsx("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:p.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})]}),p.jsxs("div",{className:"flex-grow",children:[p.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight",children:s.name}),s.isAdmin&&p.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[10px] font-black uppercase rounded-md border border-blue-200",children:"Admin"})]}),p.jsx("p",{className:"text-blue-600 font-semibold text-xl mb-4",children:s.role}),p.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-y-3 gap-x-6 text-sm text-gray-500 font-medium",children:[p.jsx("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-100",children:s.college||s.institution||"Student"}),p.jsxs("div",{className:"flex items-center gap-2 text-[#0066FF] font-bold text-sm bg-blue-50 px-4 py-1.5 rounded-full",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),g," connections"]})]})]}),p.jsx("div",{className:"flex gap-3 w-full md:w-auto mt-6 md:mt-0",children:l?p.jsx("button",{onClick:()=>f(!0),className:"flex-1 md:flex-none px-8 py-3 bg-[#0066FF] text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20",children:"Edit Profile"}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:Xe,disabled:w!=="none"||C,className:`flex-1 md:flex-none px-8 py-3 rounded-2xl font-bold text-sm transition-all shadow-xl ${w==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:C?"...":w==="pending"?"Pending":w==="connected"?"Connected":w==="received"?"Accept Request":"Connect"}),p.jsx("button",{onClick:ce,className:"flex-1 md:flex-none px-6 py-3 border-2 border-gray-100 text-[#0f172a] rounded-2xl font-bold text-sm hover:bg-gray-50",children:"Message"})]})})]})})}),p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[p.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] mb-6 flex items-center gap-3",children:[p.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"About"]}),p.jsx("p",{className:"text-gray-600 leading-relaxed text-lg whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[p.jsxs("div",{className:"flex justify-between items-center mb-10",children:[p.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] flex items-center gap-3",children:[p.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),l&&p.jsx("button",{onClick:()=>{G({title:"",description:"",techStack:[],githubUrl:"",liveUrl:""}),R(""),F(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl hover:bg-blue-100 transition-all",children:"+ Add Project"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.length>0?S.map(ee=>p.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 hover:border-[#0066FF]/30 hover:bg-[#0066FF]/0.02 transition-all flex flex-col h-full relative group",children:[l&&p.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:U=>{U.stopPropagation(),G(ee),R(ee.techStack?.join(", ")||""),F(!0)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-blue-600",children:"Edit"}),p.jsx("button",{onClick:U=>{U.stopPropagation(),ge(ee.id)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-red-600",children:"Del"})]}),p.jsx("h4",{className:"font-bold text-xl text-[#0f172a] group-hover:text-[#0066FF] mb-1",children:ee.title}),p.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-3",children:ee.description}),p.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:ee.techStack?.map(U=>p.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-[10px] font-bold border border-gray-100 uppercase",children:U},U))})]},ee.id)):p.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:p.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."})})})]})]}),p.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[p.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:[p.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-8 uppercase tracking-widest text-center",children:"Social Links"}),p.jsxs("div",{className:"space-y-4",children:[s.socials?.github&&p.jsx("a",{href:s.socials.github,target:"_blank",className:"flex items-center gap-4 p-4 rounded-2xl bg-gray-50",children:p.jsx("span",{className:"font-bold text-sm",children:"GitHub"})}),s.socials?.linkedin&&p.jsx("a",{href:s.socials.linkedin,target:"_blank",className:"flex items-center gap-4 p-4 rounded-2xl bg-blue-50 text-blue-600",children:p.jsx("span",{className:"font-bold text-sm",children:"LinkedIn"})})]})]}),p.jsx(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:p.jsx(vz,{skills:s.skills||[],isOwnProfile:l,onUpdate:se})})]})]})}),p.jsx(Os,{children:j&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>F(!1),className:"absolute inset-0 bg-black/70"}),p.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-2xl bg-white rounded-3xl p-8 overflow-hidden",children:[p.jsx("h3",{className:"text-2xl font-black mb-6",children:q?.id?"Edit Project":"Add Project"}),p.jsxs("form",{onSubmit:dt,className:"space-y-6",children:[p.jsx("input",{required:!0,placeholder:"Project Title",value:q?.title||"",onChange:ee=>G(U=>({...U,title:ee.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF]"}),p.jsx("textarea",{required:!0,rows:4,placeholder:"Description",value:q?.description||"",onChange:ee=>G(U=>({...U,description:ee.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF] resize-none"}),p.jsx("input",{required:!0,placeholder:"Tech Stack (comma separated)",value:z,onChange:ee=>R(ee.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF]"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{type:"button",onClick:()=>F(!1),className:"flex-1 py-4 font-bold text-gray-400",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:A,className:"flex-[2] py-4 bg-[#0066FF] text-white font-bold rounded-2xl shadow-lg",children:"Save Project"})]})]})]})]})}),p.jsx(Os,{children:L&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(!1),className:"absolute inset-0 bg-black/60"}),p.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-white rounded-3xl p-8",children:[p.jsx("h3",{className:"text-xl font-black mb-4",children:"Send Request"}),p.jsx("textarea",{rows:4,placeholder:"Personalized note (optional)",value:W,onChange:ee=>M(ee.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 outline-none focus:border-[#0066FF] mb-6"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:()=>V(!1),className:"flex-1 font-bold text-gray-400",children:"Cancel"}),p.jsx("button",{onClick:Xe,disabled:C,className:"flex-[2] py-3 bg-[#0066FF] text-white font-bold rounded-2xl",children:"Send"})]})]})]})}),s&&p.jsx(bz,{isOpen:d,onClose:()=>f(!1),userId:s.uid,onSuccess:Ne})]}):null},Ez=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=b.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=o=>{const{name:l,value:u,type:d,checked:f}=o.target;n(g=>({...g,[l]:d==="checkbox"?f:u}))},s=o=>{o.preventDefault(),console.log("Form submitted:",e)};return p.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:p.jsxs("div",{className:"container-custom mx-auto",children:[p.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[p.jsx(Yn,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-900",children:"Executive Education"}),p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-400",children:t.title})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[p.jsx("div",{className:"flex items-center gap-4 mb-4",children:p.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:p.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),p.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),p.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(bU,{className:"w-6 h-6 text-[#5865F2] mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),p.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(sR,{className:"w-6 h-6 text-[#5865F2] mt-1"}),p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(nR,{className:"w-6 h-6 text-[#5865F2] mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),p.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[p.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[p.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((o,l)=>p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:o.value}),p.jsx("p",{className:"text-gray-600 font-medium",children:o.label}),p.jsx("p",{className:"text-xs text-gray-400 mt-2",children:o.source})]},l))]})]}),p.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),p.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),p.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((o,l)=>p.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[p.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:o.title}),p.jsx(xU,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),p.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsx("div",{className:"sticky top-24",children:p.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[p.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),p.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),p.jsxs("form",{onSubmit:s,className:"space-y-4",children:[p.jsx("div",{children:p.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),p.jsx("div",{children:p.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),p.jsx("div",{children:p.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),p.jsxs("div",{className:"space-y-3 pt-2",children:[p.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[p.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(o=>({...o,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),p.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[p.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(o=>({...o,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),p.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},Tz=()=>{const{resourceId:t}=YE(),e=Lr(),n=()=>t==="programming-languages"?[{id:"pl-1",title:"Java Masterclass",type:"Video",url:"#",description:"Complete Java course from basics to advanced multithreading."},{id:"pl-2",title:"Python for Data Science",type:"Book",url:"#",description:"Essential Python guide for data analysis and ML."},{id:"pl-3",title:"C++ Programming Basics",type:"PDF",url:"#",description:"Standard C++ syntax and STL overview."},{id:"pl-4",title:"C Language Fundamentals",type:"PDF",url:"#",description:"Core Concepts of C programming."},{id:"pl-5",title:"JavaScript (ES6+) Guide",type:"Link",url:"#",description:"Modern JavaScript features and DOM manipulation."},{id:"pl-6",title:"TypeScript Deep Dive",type:"Book",url:"#",description:"Mastering types and interfaces in TS."},{id:"pl-7",title:"Go Programming (Golang)",type:"Video",url:"#",description:"Building concurrent applications with Go."},{id:"pl-8",title:"Rust Ecosystem",type:"PDF",url:"#",description:"Memory safety and performance with Rust."},{id:"pl-9",title:"Swift for iOS Development",type:"Link",url:"#",description:"Learn Swift UI and mobile development."},{id:"pl-10",title:"Kotlin for Android",type:"Video",url:"#",description:"Modern Android development with Kotlin."},{id:"pl-11",title:"PHP & Laravel",type:"PDF",url:"#",description:"Server-side scripting and web frameworks."},{id:"pl-12",title:"Ruby on Rails",type:"Link",url:"#",description:"Elegant web development with Ruby."},{id:"pl-13",title:"SQL & Database Design",type:"PDF",url:"#",description:"Learn relational databases and complex queries."}]:t==="roadmaps-merged"?[{id:"rm-1",title:"Frontend Developer Roadmap",type:"Link",url:"https://roadmap.sh/frontend",description:"Step-by-step path to becoming a frontend engineer."},{id:"rm-2",title:"Backend Developer Roadmap",type:"Link",url:"https://roadmap.sh/backend",description:"Server-side technologies and architecture path."},{id:"rm-3",title:"DevOps Roadmap",type:"Link",url:"https://roadmap.sh/devops",description:"Infrastructure and automation learning path."},{id:"rm-4",title:"AI/ML Roadmap",type:"Link",url:"https://roadmap.sh/ai-data-scientist",description:"Data science and artificial intelligence path."}]:[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"programming-languages":return"Programming Languages";case"roadmaps-merged":return"Learning Roadmaps";case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),o=r(t||"");return p.jsxs("div",{className:"min-h-screen bg-white",children:[p.jsx(lR,{}),p.jsx("main",{className:"pt-32 pb-20 px-6",children:p.jsxs("div",{className:"container-custom mx-auto",children:[p.jsxs(Se.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[p.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:o}),p.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>p.jsxs(Se.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),p.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),p.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),p.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),p.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:d=>d.preventDefault(),children:["Access Resource ",p.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},Sz=()=>{const t=Lr(),[e,n]=b.useState(!0),[r,s]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(!1),[f,g]=b.useState(""),[v,w]=b.useState(""),T=async()=>{try{const S=(await bS(Ue,EI)).user,D=it(we,"users",S.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}catch(P){P instanceof Error?g(P.message):g("An unexpected error occurred")}},C=async P=>{P.preventDefault(),d(!0),g(""),w("");try{if(e){const S=await dS(Ue,r,o),D=it(we,"users",S.user.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}else await uS(Ue,r,o),t("/onboarding")}catch(S){S instanceof Error?g(S.message):g("An unexpected error occurred")}finally{d(!1)}};return p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),p.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),p.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),p.jsxs(Se.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),p.jsx("span",{children:"Continue with Google"})]}),p.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[p.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),p.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),p.jsxs("form",{onSubmit:C,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),p.jsx("input",{type:"email",required:!0,value:r,onChange:P=>s(P.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),p.jsx("input",{type:"password",required:!0,value:o,onChange:P=>l(P.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),p.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),p.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),p.jsxs(Os,{children:[f&&p.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:f}),v&&p.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),p.jsx(Se.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),p.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:p.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",p.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},Iz=()=>{const t=Lr(),[e,n]=b.useState(!1),[r,s]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(""),[f,g]=b.useState(""),[v,w]=b.useState(""),[T,C]=b.useState([]),[P,S]=b.useState(""),[D,j]=b.useState("");en.useEffect(()=>{(async()=>{const R=Ue.currentUser;if(R){const A=it(we,"users",R.uid),N=await rs(A);if(N.exists()){const L=N.data();s(L.name||""),l(L.role||""),d(L.institution||""),g(L.bio||""),C(L.skills||[]),S(L.socials?.github||""),j(L.socials?.linkedin||"")}}})()},[]);const F=z=>{z.key==="Enter"&&v.trim()&&(z.preventDefault(),T.length<5&&!T.includes(v.trim())&&(C([...T,v.trim()]),w("")))},q=z=>{C(T.filter(R=>R!==z))},G=async z=>{z.preventDefault(),n(!0);try{const R=Ue.currentUser;if(!R)throw new Error("No user logged in");await Gf(it(we,"users",R.uid),{name:r,role:o,institution:u,bio:f,skills:T,socials:{github:P,linkedin:D},stats:{projects:0,stars:0,followers:0,following:0},avatar:R.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:R.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(R){console.error("Error saving profile:",R),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return p.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:p.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),p.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),p.jsxs("form",{onSubmit:G,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),p.jsx("input",{type:"text",required:!0,value:r,onChange:z=>s(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),p.jsx("input",{type:"text",required:!0,value:o,onChange:z=>l(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),p.jsx("input",{type:"text",required:!0,value:u,onChange:z=>d(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),p.jsx("textarea",{required:!0,value:f,onChange:z=>g(z.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",p.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(z=>p.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[z,p.jsx("button",{type:"button",onClick:()=>q(z),className:"hover:text-red-500",children:""})]},z))}),p.jsx("input",{type:"text",value:v,onChange:z=>w(z.target.value),onKeyDown:F,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),p.jsx("input",{type:"text",value:P,onChange:z=>S(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),p.jsx("input",{type:"text",value:D,onChange:z=>j(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),p.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},Cz=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>p.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:p.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[p.jsx("div",{className:"flex-grow",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[p.jsx("option",{value:"",children:"University (All)"}),p.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),p.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[p.jsx("option",{value:"",children:"Role (All)"}),p.jsx("option",{value:"Frontend",children:"Frontend"}),p.jsx("option",{value:"Backend",children:"Backend"}),p.jsx("option",{value:"Fullstack",children:"Fullstack"}),p.jsx("option",{value:"Designer",children:"Designer"}),p.jsx("option",{value:"Researcher",children:"Researcher"})]}),p.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[p.jsx("option",{value:"recent",children:"Recently Active"}),p.jsx("option",{value:"connections",children:"Most Connections"}),p.jsx("option",{value:"university",children:"Same University"})]})]})]})}),Rz=()=>{const[t,e]=b.useState(null);return b.useEffect(()=>{const n=Pl(Ue,r=>{e(r)});return()=>n()},[]),t?p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[p.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),p.jsxs("div",{className:"px-4 pb-4 -mt-8 text-center border-b border-gray-100",children:[p.jsx(Yn,{to:"/profile",children:p.jsx("div",{className:"w-17 h-17 rounded-full border-2 border-white bg-blue-100 mx-auto flex items-center justify-center text-[#0066FF] font-bold text-2xl overflow-hidden hover:opacity-90 transition-opacity",children:t.email?.[0].toUpperCase()})}),p.jsxs("div",{className:"mt-4",children:[p.jsx(Yn,{to:"/profile",className:"font-bold text-gray-900 hover:underline",children:t.displayName||t.email?.split("@")[0]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:t.role||"Student & Aspiring Developer at CollabX"})]})]}),p.jsxs("div",{className:"py-3",children:[p.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:p.jsxs("div",{className:"flex justify-between items-center text-xs",children:[p.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Profile viewers"}),p.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.profileViews||0})]})}),p.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:p.jsxs("div",{className:"flex justify-between items-center text-xs",children:[p.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Project views"}),p.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.projectViews||0})]})})]}),p.jsxs(Yn,{to:"/saved",className:"px-4 py-3 border-t border-gray-100 flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[p.jsx(hU,{className:"h-4 w-4 text-gray-500"}),p.jsx("span",{className:"text-xs font-bold text-gray-800",children:"My Items"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm sticky top-20",children:[p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"flex items-center justify-between mb-2",children:p.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Recent"})}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs(Yn,{to:"/projects",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[p.jsx(su,{className:"h-4 w-4"}),p.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Popular Projects"})]}),p.jsxs(Yn,{to:"/students",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[p.jsx(oR,{className:"h-4 w-4"}),p.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Student Network"})]})]}),p.jsx("div",{className:"mt-4 mb-2",children:p.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Groups"})}),p.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-between font-bold text-[#0066FF] hover:underline cursor-pointer",children:[p.jsx("span",{className:"text-xs",children:"Events"}),p.jsx(iR,{className:"h-4 w-4 text-gray-600 hover:bg-gray-100 rounded p-0.5"})]}),p.jsx("div",{className:"mt-4 mb-2",children:p.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Followed Hashtags"})})]}),p.jsx("div",{className:"border-t border-gray-100 p-3 text-center hover:bg-gray-100 cursor-pointer transition-colors",children:p.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Discover more"})})]})]}):p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[p.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),p.jsxs("div",{className:"px-4 pb-4 -mt-7 text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-blue-50 mx-auto flex items-center justify-center text-blue-500 font-bold text-xl",children:"?"}),p.jsxs("div",{className:"mt-4",children:[p.jsx("h3",{className:"font-bold text-gray-900",children:"Welcome to CollabX!"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sign in to start collaborating"})]}),p.jsx("button",{className:"w-full mt-4 py-2 border-2 border-[#0066FF] text-[#0066FF] rounded-full text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})};function Az({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Pz=b.forwardRef(Az);function kz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const FE=b.forwardRef(kz);function Nz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const UE=b.forwardRef(Nz);function Dz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const jz=b.forwardRef(Dz),Lz=()=>{const t=[{name:"Sarah Chen",role:"Full Stack Developer",college:"Stanford University"},{name:"Alex Rivera",role:"UI/UX Designer",college:"MIT"},{name:"James Wilson",role:"ML Engineer",college:"IIT Bombay"}],e=[{title:"Project: Decentralized Voting",views:"1.2k",time:"12h ago"},{title:"Resource: Mastering React 19",views:"3.4k",time:"1d ago"},{title:"Roadmap: AI/ML 2024",views:"5k",time:"2d ago"}];return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Add to your feed"}),p.jsx(UE,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]}),p.jsx("div",{className:"flex flex-col gap-4",children:t.map((n,r)=>p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 shrink-0 flex items-center justify-center text-[#0066FF] font-bold text-xs uppercase",children:n.name[0]}),p.jsxs("div",{className:"flex flex-col min-w-0",children:[p.jsx("span",{className:"font-bold text-sm text-gray-900 truncate hover:text-[#0066FF] hover:underline cursor-pointer",children:n.name}),p.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[n.role," at ",n.college]}),p.jsxs("button",{className:"mt-1.5 flex items-center justify-center gap-1 px-3 py-1 border border-gray-500 text-gray-600 rounded-full text-sm font-bold hover:bg-gray-50 hover:border-gray-800 transition-colors w-24",children:[p.jsx(jz,{className:"h-4 w-4"}),p.jsx("span",{children:"Follow"})]})]})]},r))}),p.jsx("div",{className:"mt-4 pt-2 border-t border-gray-50",children:p.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[p.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"View all recommendations"}),p.jsx(Pz,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm sticky top-20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"CollabX Trending"}),p.jsx(UE,{className:"h-4 w-4 text-gray-400"})]}),p.jsx("div",{className:"flex flex-col gap-3",children:e.map((n,r)=>p.jsxs("div",{className:"group cursor-pointer",children:[p.jsx("h4",{className:"text-sm font-bold text-gray-800 group-hover:text-[#0066FF]",children:n.title}),p.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500 mt-0.5",children:[p.jsxs("span",{children:[n.views," readers"]}),p.jsx("span",{children:""}),p.jsx("span",{children:n.time})]})]},r))}),p.jsxs("div",{className:"mt-4 text-[11px] text-gray-400 flex flex-wrap justify-center gap-x-3 gap-y-1",children:[p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"About"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Accessibility"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Help Center"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Privacy & Terms"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Ad Choices"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Advertising"}),p.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Business Services"})]}),p.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-[#0066FF] flex items-center justify-center text-white text-[8px] font-bold",children:"X"}),p.jsx("span",{className:"text-xs text-gray-500",children:"CollabX Corporation  2024"})]})]})]})},op=({children:t})=>p.jsx("div",{className:"main-content",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[p.jsx("div",{className:"hidden lg:block lg:col-span-3",children:p.jsx(Rz,{})}),p.jsx("div",{className:"col-span-1 lg:col-span-6",children:t}),p.jsx("div",{className:"hidden lg:block lg:col-span-3",children:p.jsx(Lz,{})})]})}),Mz=()=>{const t=Lr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[o,l]=b.useState(""),[u,d]=b.useState({institution:"",role:""}),[f,g]=b.useState("recent"),[v,w]=b.useState(null);b.useEffect(()=>{(async()=>{try{const S=Ue.currentUser;if(S){const F=it(we,"users",S.uid),q=await rs(F);q.exists()&&w(q.data())}const D=await er(st(we,"users")),j=[];D.forEach(F=>{const q=F.data();F.id!==S?.uid&&j.push({...q,uid:F.id})}),n(j)}catch(S){console.error("Error fetching students:",S)}finally{s(!1)}})()},[]);const T=b.useMemo(()=>e.filter(P=>{const S=o.toLowerCase(),D=P.name.toLowerCase().includes(S)||P.role.toLowerCase().includes(S)||P.headline&&P.headline.toLowerCase().includes(S)||P.skills?.some(q=>q.toLowerCase().includes(S)),j=!u.institution||P.college===u.institution||P.institution===u.institution,F=!u.role||P.role.toLowerCase().includes(u.role.toLowerCase());return D&&j&&F}).sort((P,S)=>{if(f==="connections")return(S.stats?.connections||0)-(P.stats?.connections||0);if(f==="university"&&(v?.college||v?.institution)){const D=v?.college||v?.institution,j=P.college===D||P.institution===D?1:0;return(S.college===D||S.institution===D?1:0)-j}return 0}),[e,o,u,f,v]),C=()=>p.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm p-4 h-[320px] animate-pulse",children:[p.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),p.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),p.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return p.jsx(op,{children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:p.jsx(oR,{className:"h-6 w-6"})}),p.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Network Discovery"})]}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Connect with ambitious students from top universities and build your community."})]}),p.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:p.jsx(Cz,{onSearchChange:l,onFilterChange:(P,S)=>d(D=>({...D,[P]:S})),onSortChange:g})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:6}).map((P,S)=>p.jsx(C,{},S)):p.jsx(Os,{children:T.length>0?T.map(P=>p.jsx(pR,{student:P,onClick:()=>t(`/profile/${P.uid}`)},P.uid)):p.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-xl border border-gray-200",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ep,{className:"w-8 h-8 text-gray-400"})}),p.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search query."})]})})})]})})},Vz=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,o]=b.useState(""),[l,u]=b.useState("idle"),d=async f=>{f.preventDefault(),u("submitting");try{await yi(st(we,"feedback"),{name:t,email:n,message:s,created_at:rt.now()}),u("success"),e(""),r(""),o(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return p.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:p.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),p.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),p.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),p.jsx("input",{type:"text",id:"name",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",id:"email",value:n,onChange:f=>r(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),p.jsx("textarea",{id:"message",value:s,onChange:f=>o(f.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),p.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&p.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&p.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},qi=({children:t})=>{const[e,n]=b.useState(!0),[r,s]=b.useState(!1);return b.useEffect(()=>{const o=Pl(Ue,l=>{s(!!l),n(!1)});return()=>o()},[]),e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?p.jsx(p.Fragment,{children:t}):p.jsx(BP,{to:"/login"})},Oz=()=>{const{pathname:t,hash:e}=jr();return b.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},Fz=async t=>{try{return(await yi(st(we,"posts"),{...t,likesCount:0,commentsCount:0,repostsCount:0,createdAt:nn()})).id}catch(e){throw console.error("Error creating post:",e),e}},Uz=t=>{const e=Nt(st(we,"posts"),_o("createdAt","desc"));return El(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));t(r)})},Bz=async(t,e)=>{const n=it(we,"posts",t),r=`${e}_${t}`,s=it(we,"likes",r);try{await i3(we,async o=>{const l=await o.get(s),u=await o.get(n);if(!u.exists())throw new Error("Post does not exist!");const d=u.data().likesCount||0;l.exists()?(o.delete(s),o.update(n,{likesCount:Math.max(0,d-1)})):(o.set(s,{postId:t,userId:e,createdAt:nn()}),o.update(n,{likesCount:d+1}))})}catch(o){throw console.error("Error toggling like:",o),o}},zz=async t=>{try{const e=Nt(st(we,"likes"),xt("userId","==",t));return(await er(e)).docs.map(r=>r.data().postId)}catch(e){return console.error("Error fetching user likes:",e),[]}},$z=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[s,o]=b.useState(!1),[l,u]=b.useState(new Set),[d,f]=b.useState({}),g=Ue.currentUser;b.useEffect(()=>{const C=Uz(P=>{e(P)});return g&&zz(g.uid).then(P=>{u(new Set(P))}),()=>C()},[g]);const v=async C=>{if(C.preventDefault(),!(!g||!n.trim()||s)){o(!0);try{await Fz({userId:g.uid,authorName:g.displayName||"Anonymous User",authorAvatar:g.photoURL||"",authorRole:"Student",content:n,type:"post",tags:n.match(/#\w+/g)||[]}),r("")}catch(P){console.error("Failed to create post:",P)}finally{o(!1)}}},w=async C=>{if(!g||d[C])return;const P=l.has(C),S=[...t],D=new Set(l);u(j=>{const F=new Set(j);return P?F.delete(C):F.add(C),F}),e(j=>j.map(F=>{if(F.id===C){const q=F.likesCount||0;return{...F,likesCount:P?Math.max(0,q-1):q+1}}return F})),f(j=>({...j,[C]:!0}));try{await Bz(C,g.uid)}catch(j){console.error("Failed to toggle like:",j),e(S),u(D)}finally{f(j=>({...j,[C]:!1}))}},T=C=>{if(!C)return"Just now";const P=C.toDate?C.toDate():new Date(C),D=Math.floor((new Date().getTime()-P.getTime())/1e3);return D<60?`${D}s ago`:D<3600?`${Math.floor(D/60)}m ago`:D<86400?`${Math.floor(D/3600)}h ago`:`${Math.floor(D/86400)}d ago`};return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg shrink-0 overflow-hidden",children:g?.photoURL?p.jsx("img",{src:g.photoURL,alt:"Me",className:"w-full h-full object-cover"}):g?.displayName?.[0]||g?.email?.[0]||"U"}),p.jsxs("form",{onSubmit:v,className:"flex-1",children:[p.jsx("textarea",{value:n,onChange:C=>r(C.target.value),placeholder:"Start a project or share an update...",className:"w-full text-left px-4 py-3 border border-gray-200 rounded-2xl text-gray-800 hover:bg-gray-50 transition-colors text-sm font-medium resize-none focus:outline-none focus:ring-1 focus:ring-blue-100",rows:2}),n.trim()&&p.jsx("div",{className:"flex justify-end mt-2",children:p.jsx("button",{type:"submit",disabled:s,className:"bg-[#0066FF] text-white px-4 py-1.5 rounded-full text-sm font-bold disabled:opacity-50 hover:bg-blue-600 transition-colors",children:s?"Posting...":"Post"})})]})]}),p.jsxs("div",{className:"flex justify-between mt-3 px-2 border-t border-gray-50 pt-2",children:[p.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[p.jsx(OU,{className:"h-5 w-5 text-blue-400"}),p.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Media"})]}),p.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[p.jsx(sR,{className:"h-5 w-5 text-yellow-500"}),p.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Event"})]}),p.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[p.jsx(TU,{className:"h-5 w-5 text-orange-400"}),p.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Write article"})]})]})]}),t.map(C=>p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 py-3 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between px-4 mb-2",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg overflow-hidden shrink-0",children:C.authorAvatar?p.jsx("img",{src:C.authorAvatar,alt:C.authorName,className:"w-full h-full object-cover"}):C.authorName[0]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("span",{className:"text-sm font-bold text-gray-900 flex items-center gap-1 hover:text-[#0066FF] hover:underline cursor-pointer",children:[C.authorName,p.jsx("span",{className:"text-xs font-normal text-gray-400",children:" 1st"})]}),p.jsx("span",{className:"text-[11px] text-gray-500 truncate w-48 sm:w-80",children:C.authorRole||"Student"}),p.jsxs("span",{className:"text-[11px] text-gray-400 flex items-center gap-1",children:[T(C.createdAt),"  ",p.jsx(fE,{className:"h-3 w-3"})]})]})]}),p.jsx("button",{className:"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8 flex items-center justify-center transition-colors",children:p.jsx(IU,{className:"h-6 w-6"})})]}),p.jsxs("div",{className:"px-4 mb-3",children:[p.jsx("p",{className:"text-sm text-gray-800 leading-normal whitespace-pre-wrap",children:C.content}),C.tags&&C.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:C.tags.map(P=>p.jsx("span",{className:"text-sm font-bold text-[#0066FF] hover:underline cursor-pointer",children:P},P))})]}),C.imageUrl&&p.jsx("div",{className:"mb-3",children:p.jsx("img",{src:C.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[512px] object-cover"})}),p.jsxs("div",{className:"px-4 flex justify-between items-center pb-2 border-b border-gray-50",children:[p.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 hover:text-[#0066FF] cursor-pointer",children:[p.jsx("div",{className:"flex -space-x-1",children:p.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-white ${l.has(C.id)?"bg-[#0066FF]":"bg-gray-400"}`,children:p.jsx(FE,{className:"h-2.5 w-2.5"})})}),p.jsx("span",{className:l.has(C.id)?"text-[#0066FF] font-bold":"",children:C.likesCount||0})]}),p.jsxs("div",{className:"flex gap-2 text-[11px] text-gray-500",children:[p.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[C.commentsCount||0," comments"]}),p.jsx("span",{children:""}),p.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[C.repostsCount||0," shares"]})]})]}),p.jsxs("div",{className:"flex px-2 pt-1",children:[p.jsxs("button",{onClick:()=>w(C.id),disabled:d[C.id],className:`flex_1 flex items-center justify-center gap-2 py-2.5 rounded transition-colors group ${l.has(C.id)?"text-[#0066FF] bg-blue-50/50":"text-gray-500 hover:bg-gray-100"}`,children:[l.has(C.id)?p.jsx(FE,{className:`h-5 w-5 ${d[C.id]?"animate-pulse":"group-hover:scale-110"}`}):p.jsx(kU,{className:`h-5 w-5 ${d[C.id]?"animate-pulse":"group-hover:scale-110"}`}),p.jsx("span",{className:"text-sm font-bold",children:l.has(C.id)?"Liked":"Like"})]}),p.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[p.jsx(vU,{className:"h-5 w-5 group-hover:scale-110"}),p.jsx("span",{className:"text-sm font-bold",children:"Comment"})]}),p.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[p.jsx(BU,{className:"h-5 w-5 group-hover:scale-110"}),p.jsx("span",{className:"text-sm font-bold",children:"Repost"})]}),p.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[p.jsx(MU,{className:"h-5 w-5 -rotate-45 group-hover:scale-110"}),p.jsx("span",{className:"text-sm font-bold",children:"Send"})]})]})]},C.id)),t.length===0&&p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500",children:[p.jsx(fE,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),p.jsx("p",{children:"No posts yet. Be the first to share something!"})]})]})},Wz=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,f]=b.useState(null),[g,v]=b.useState(!1),[w,T]=b.useState(!1),[C,P]=b.useState(null);b.useEffect(()=>{S();const z=Pl(Ue,R=>{f(R)});return()=>z()},[]);const S=async()=>{u(!0);const z=await YU();o(z),u(!1)},D=async z=>{if(!d){v(!0);return}P(z);try{await QU(z),await S()}catch(R){console.error("Failed to join project:",R)}finally{P(null)}},j=()=>{d?T(!0):v(!0)},F=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],q=s.filter(z=>{const R=t==="All"||z.category===t,A=z.title.toLowerCase().includes(n.toLowerCase())||z.description.toLowerCase().includes(n.toLowerCase())||z.techStack?.some(N=>N.toLowerCase().includes(n.toLowerCase()));return R&&A}),G=()=>p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm animate-pulse",children:[p.jsx("div",{className:"h-40 bg-gray-100"}),p.jsxs("div",{className:"p-4",children:[p.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mb-3"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-4"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"}),p.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"})]})]})]});return p.jsxs(op,{children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:p.jsx(su,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Collaboration Projects"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Find projects to join and talented students to collaborate with."})]})]}),p.jsxs("button",{onClick:j,className:"bg-[#0066FF] text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[p.jsx(iR,{className:"h-5 w-5"}),"Post Project"]})]})}),p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10 space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ep,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search by title, description, or stack...",value:n,onChange:z=>r(z.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white focus:border-transparent transition-all"})]}),p.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[p.jsxs("div",{className:"flex items-center gap-1.5 mr-2 shrink-0 text-gray-500",children:[p.jsx(RU,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filters:"})]}),F.map(z=>p.jsx("button",{onClick:()=>e(z),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${t===z?"bg-[#0066FF] border-[#0066FF] text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:z},z))]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l?Array.from({length:4}).map((z,R)=>p.jsx(G,{},R)):p.jsx(Os,{children:q.length>0?q.map(z=>p.jsxs(Se.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer",children:[p.jsxs("div",{className:"h-40 overflow-hidden relative",children:[p.jsx("img",{src:z.thumbnailUrl||`https://source.unsplash.com/random/800x600?tech,${z.category}`,alt:z.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),p.jsx("div",{className:"absolute top-3 left-3",children:p.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-md text-[10px] font-bold text-[#0f172a] uppercase border border-white shadow-sm",children:z.category})})]}),p.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-[10px] overflow-hidden shrink-0",children:z.ownerAvatar?p.jsx("img",{src:z.ownerAvatar,alt:z.ownerName,className:"w-full h-full object-cover"}):z.ownerName[0]}),p.jsx("span",{className:"text-xs text-gray-500 font-medium",children:z.ownerName})]}),p.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:z.title}),p.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-4 h-8",children:z.description}),p.jsx("div",{className:"flex flex-wrap gap-1 mb-4 h-6 overflow-hidden",children:z.techStack?.map(R=>p.jsxs("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2 py-0.5 rounded",children:["#",R]},R))}),p.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[p.jsx(su,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-[11px] font-medium",children:[z.members?.length||0," members"]})]}),p.jsx("button",{onClick:R=>{R.stopPropagation(),!z.members?.includes(d?.uid||"")&&(z.pendingRequests?.includes(d?.uid||"")||D(z.id))},disabled:C===z.id||z.members?.includes(d?.uid||"")||z.pendingRequests?.includes(d?.uid||""),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${z.members?.includes(d?.uid||"")?"bg-green-50 text-green-600 border border-green-100 cursor-default":z.pendingRequests?.includes(d?.uid||"")?"bg-yellow-50 text-yellow-600 border border-yellow-100 cursor-default":"bg-[#0066FF] text-white hover:bg-blue-600"}`,children:z.members?.includes(d?.uid||"")?"Joined":z.pendingRequests?.includes(d?.uid||"")?"Pending":C===z.id?"Joining...":"Join"})]})]})]},z.id)):p.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:p.jsx(su,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No projects found"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Be the first to post a project in this category!"})]})})})]}),p.jsx(Av,{isOpen:g,onClose:()=>v(!1)}),p.jsx(uR,{isOpen:w,onClose:()=>T(!1),onSuccess:S})]})},qz=()=>{const t=Lr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[o,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{try{const g=st(we,"resources"),v=Nt(g),T=(await er(v)).docs.map(C=>({id:C.id,...C.data()}));if(T.length===0)n([{id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"},{id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"},{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]);else{const C=T.some(D=>D.id==="programming-languages"),P=T.some(D=>D.id==="roadmaps-merged");let S=[...T];P||S.unshift({id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"}),C||S.unshift({id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"}),n(S)}}catch(g){console.error("Error fetching resources:",g)}finally{s(!1)}},d=e.filter(g=>g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())),f=()=>p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mb-4"}),p.jsx("div",{className:"h-5 bg-gray-100 rounded w-3/4 mb-3"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3"})]});return p.jsx(op,{children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:p.jsx(rR,{className:"h-6 w-6"})}),p.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Resources"})]}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Curated study materials and exam preparation guides to help you excel."})]}),p.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ep,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search resources, exams, or topics...",value:o,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?Array.from({length:3}).map((g,v)=>p.jsx(f,{},v)):p.jsx(Os,{children:d.length>0?d.map(g=>p.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/resource/${g.id}`),className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all cursor-pointer group flex items-start gap-4",children:[p.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-xl flex items-center justify-center text-3xl shrink-0 group-hover:scale-110 transition-transform",children:g.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors",children:g.title}),p.jsx(iU,{className:"h-4 w-4 text-gray-300 group-hover:text-[#0066FF] group-hover:translate-x-1 transition-all"})]}),p.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed mb-3",children:g.description}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Study Guide"}),p.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Free Access"})]})]})]},g.id)):p.jsxs("div",{className:"py-16 text-center bg-white rounded-xl border border-gray-200",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:p.jsx(nR,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No resources found"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Try different keywords or check back later."})]})})})]})})},Hz=en.lazy(()=>jy(()=>import("./Messages-s4Nmi5CS.js"),[])),Gz=en.lazy(()=>jy(()=>import("./Notifications-Ct3H7E0B.js"),[])),Kz=()=>{const t=jr();return en.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const o=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:o,behavior:"smooth"})}},100)}},[t.hash]),t.hash?p.jsxs("main",{className:"bg-white min-h-screen",children:[p.jsx(HU,{}),p.jsx("div",{id:"projects",children:p.jsx(JU,{})}),p.jsx("div",{id:"resources",children:p.jsx(ZU,{})}),p.jsx(i8,{}),p.jsx(Vz,{})]}):p.jsx(op,{children:p.jsx($z,{})})},Qz=()=>p.jsxs("div",{className:"min-h-screen bg-[#f3f2ef] text-[#0f172a] font-sans",children:[p.jsx(Oz,{}),p.jsx(lR,{}),p.jsxs($P,{children:[p.jsx(fr,{path:"/",element:p.jsx(Kz,{})}),p.jsx(fr,{path:"/profile",element:p.jsx(qi,{children:p.jsx(OE,{})})}),p.jsx(fr,{path:"/profile/:userId",element:p.jsx(qi,{children:p.jsx(OE,{})})}),p.jsx(fr,{path:"/students",element:p.jsx(qi,{children:p.jsx(Mz,{})})}),p.jsx(fr,{path:"/projects",element:p.jsx(qi,{children:p.jsx(Wz,{})})}),p.jsx(fr,{path:"/resources",element:p.jsx(qi,{children:p.jsx(qz,{})})}),p.jsx(fr,{path:"/onboarding",element:p.jsx(qi,{children:p.jsx(Iz,{})})}),p.jsx(fr,{path:"/messages",element:p.jsx(qi,{children:p.jsx(Hz,{})})}),p.jsx(fr,{path:"/notifications",element:p.jsx(qi,{children:p.jsx(Gz,{})})}),p.jsx(fr,{path:"/roadmap/:roadmapId",element:p.jsx(Ez,{})}),p.jsx(fr,{path:"/resource/:resourceId",element:p.jsx(Tz,{})}),p.jsx(fr,{path:"/login",element:p.jsx(Sz,{})})]})]});JA.createRoot(document.getElementById("root")).render(p.jsx(b.StrictMode,{children:p.jsx(fk,{children:p.jsx(Qz,{})})}));export{MU as F,Ue as a,t$ as b,Lr as c,r$ as d,s$ as e,vU as f,Fv as g,su as h,p as j,e$ as l,n$ as m,b as r,Zz as s,Yz as u};
