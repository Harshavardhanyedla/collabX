(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ab(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ap={exports:{}},zl={},lp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function lb(){if(Uv)return Re;Uv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function A(B,J,Ae){this.props=B,this.context=J,this.refs=V,this.updater=Ae||I}A.prototype.isReactComponent={},A.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=A.prototype;function U(B,J,Ae){this.props=B,this.context=J,this.refs=V,this.updater=Ae||I}var K=U.prototype=new O;K.constructor=U,D(K,A.prototype),K.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,X={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function b(B,J,Ae){var Ce,ke={},Ne=null,ze=null;if(J!=null)for(Ce in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Ne=""+J.key),J)re.call(J,Ce)&&!C.hasOwnProperty(Ce)&&(ke[Ce]=J[Ce]);var Oe=arguments.length-2;if(Oe===1)ke.children=Ae;else if(1<Oe){for(var Ke=Array(Oe),en=0;en<Oe;en++)Ke[en]=arguments[en+2];ke.children=Ke}if(B&&B.defaultProps)for(Ce in Oe=B.defaultProps,Oe)ke[Ce]===void 0&&(ke[Ce]=Oe[Ce]);return{$$typeof:t,type:B,key:Ne,ref:ze,props:ke,_owner:X.current}}function R(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function L(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ae){return J[Ae]})}var z=/\/+/g;function N(B,J){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):J.toString(36)}function We(B,J,Ae,Ce,ke){var Ne=typeof B;(Ne==="undefined"||Ne==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,ke=ke(ze),B=Ce===""?"."+N(ze,0):Ce,ne(ke)?(Ae="",B!=null&&(Ae=B.replace(z,"$&/")+"/"),We(ke,J,Ae,"",function(en){return en})):ke!=null&&(j(ke)&&(ke=R(ke,Ae+(!ke.key||ze&&ze.key===ke.key?"":(""+ke.key).replace(z,"$&/")+"/")+B)),J.push(ke)),1;if(ze=0,Ce=Ce===""?".":Ce+":",ne(B))for(var Oe=0;Oe<B.length;Oe++){Ne=B[Oe];var Ke=Ce+N(Ne,Oe);ze+=We(Ne,J,Ae,Ke,ke)}else if(Ke=E(B),typeof Ke=="function")for(B=Ke.call(B),Oe=0;!(Ne=B.next()).done;)Ne=Ne.value,Ke=Ce+N(Ne,Oe++),ze+=We(Ne,J,Ae,Ke,ke);else if(Ne==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function dt(B,J,Ae){if(B==null)return B;var Ce=[],ke=0;return We(B,Ce,"","",function(Ne){return J.call(Ae,Ne,ke++)}),Ce}function Vt(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(Ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ae)},function(Ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ae)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var be={current:null},se={transition:null},fe={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:dt,forEach:function(B,J,Ae){dt(B,function(){J.apply(this,arguments)},Ae)},count:function(B){var J=0;return dt(B,function(){J++}),J},toArray:function(B){return dt(B,function(J){return J})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=A,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=U,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(B,J,Ae){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=D({},B.props),ke=B.key,Ne=B.ref,ze=B._owner;if(J!=null){if(J.ref!==void 0&&(Ne=J.ref,ze=X.current),J.key!==void 0&&(ke=""+J.key),B.type&&B.type.defaultProps)var Oe=B.type.defaultProps;for(Ke in J)re.call(J,Ke)&&!C.hasOwnProperty(Ke)&&(Ce[Ke]=J[Ke]===void 0&&Oe!==void 0?Oe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Ce.children=Ae;else if(1<Ke){Oe=Array(Ke);for(var en=0;en<Ke;en++)Oe[en]=arguments[en+2];Ce.children=Oe}return{$$typeof:t,type:B.type,key:ke,ref:Ne,props:Ce,_owner:ze}},Re.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Re.createElement=b,Re.createFactory=function(B){var J=b.bind(null,B);return J.type=B,J},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:h,render:B}},Re.isValidElement=j,Re.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Vt}},Re.memo=function(B,J){return{$$typeof:p,type:B,compare:J===void 0?null:J}},Re.startTransition=function(B){var J=se.transition;se.transition={};try{B()}finally{se.transition=J}},Re.unstable_act=ae,Re.useCallback=function(B,J){return be.current.useCallback(B,J)},Re.useContext=function(B){return be.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return be.current.useDeferredValue(B)},Re.useEffect=function(B,J){return be.current.useEffect(B,J)},Re.useId=function(){return be.current.useId()},Re.useImperativeHandle=function(B,J,Ae){return be.current.useImperativeHandle(B,J,Ae)},Re.useInsertionEffect=function(B,J){return be.current.useInsertionEffect(B,J)},Re.useLayoutEffect=function(B,J){return be.current.useLayoutEffect(B,J)},Re.useMemo=function(B,J){return be.current.useMemo(B,J)},Re.useReducer=function(B,J,Ae){return be.current.useReducer(B,J,Ae)},Re.useRef=function(B){return be.current.useRef(B)},Re.useState=function(B){return be.current.useState(B)},Re.useSyncExternalStore=function(B,J,Ae){return be.current.useSyncExternalStore(B,J,Ae)},Re.useTransition=function(){return be.current.useTransition()},Re.version="18.3.1",Re}var Bv;function Fm(){return Bv||(Bv=1,lp.exports=lb()),lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function ub(){if(zv)return zl;zv=1;var t=Fm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var y,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:h,key:E,ref:I,props:_,_owner:i.current}}return zl.Fragment=n,zl.jsx=l,zl.jsxs=l,zl}var $v;function cb(){return $v||($v=1,ap.exports=ub()),ap.exports}var m=cb(),P=Fm();const Um=ab(P);var oh={},up={exports:{}},hn={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function hb(){return Wv||(Wv=1,(function(t){function e(se,fe){var ae=se.length;se.push(fe);e:for(;0<ae;){var B=ae-1>>>1,J=se[B];if(0<i(J,fe))se[B]=fe,se[ae]=J,ae=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var fe=se[0],ae=se.pop();if(ae!==fe){se[0]=ae;e:for(var B=0,J=se.length,Ae=J>>>1;B<Ae;){var Ce=2*(B+1)-1,ke=se[Ce],Ne=Ce+1,ze=se[Ne];if(0>i(ke,ae))Ne<J&&0>i(ze,ke)?(se[B]=ze,se[Ne]=ae,B=Ne):(se[B]=ke,se[Ce]=ae,B=Ce);else if(Ne<J&&0>i(ze,ae))se[B]=ze,se[Ne]=ae,B=Ne;else break e}}return fe}function i(se,fe){var ae=se.sortIndex-fe.sortIndex;return ae!==0?ae:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],y=1,_=null,E=3,I=!1,D=!1,V=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(se){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=se)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(p)}}function ne(se){if(V=!1,K(se),!D)if(n(f)!==null)D=!0,Vt(re);else{var fe=n(p);fe!==null&&be(ne,fe.startTime-se)}}function re(se,fe){D=!1,V&&(V=!1,O(b),b=-1),I=!0;var ae=E;try{for(K(fe),_=n(f);_!==null&&(!(_.expirationTime>fe)||se&&!L());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var J=B(_.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(f)&&r(f),K(fe)}else r(f);_=n(f)}if(_!==null)var Ae=!0;else{var Ce=n(p);Ce!==null&&be(ne,Ce.startTime-fe),Ae=!1}return Ae}finally{_=null,E=ae,I=!1}}var X=!1,C=null,b=-1,R=5,j=-1;function L(){return!(t.unstable_now()-j<R)}function z(){if(C!==null){var se=t.unstable_now();j=se;var fe=!0;try{fe=C(!0,se)}finally{fe?N():(X=!1,C=null)}}else X=!1}var N;if(typeof U=="function")N=function(){U(z)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,dt=We.port2;We.port1.onmessage=z,N=function(){dt.postMessage(null)}}else N=function(){A(z,0)};function Vt(se){C=se,X||(X=!0,N())}function be(se,fe){b=A(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){D||I||(D=!0,Vt(re))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return se()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=E;E=se;try{return fe()}finally{E=ae}},t.unstable_scheduleCallback=function(se,fe,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,se={id:y++,callback:fe,priorityLevel:se,startTime:ae,expirationTime:J,sortIndex:-1},ae>B?(se.sortIndex=ae,e(p,se),n(f)===null&&se===n(p)&&(V?(O(b),b=-1):V=!0,be(ne,ae-B))):(se.sortIndex=J,e(f,se),D||I||(D=!0,Vt(re))),se},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(se){var fe=E;return function(){var ae=E;E=fe;try{return se.apply(this,arguments)}finally{E=ae}}}})(hp)),hp}var Hv;function db(){return Hv||(Hv=1,cp.exports=hb()),cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function fb(){if(qv)return hn;qv=1;var t=Fm(),e=db();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(s){return f.call(_,s)?!0:f.call(y,s)?!1:p.test(s)?_[s]=!0:(y[s]=!0,!1)}function I(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,o,u,d){if(o===null||typeof o>"u"||I(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(s,o,u,d,g,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new V(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new V(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new V(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new V(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new V(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new V(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new V(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new V(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new V(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(O,U);A[o]=new V(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(O,U);A[o]=new V(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(O,U);A[o]=new V(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new V(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new V(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,o,u,d){var g=A.hasOwnProperty(o)?A[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,u,g,d)&&(u=null),d||g===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),X=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,B;function J(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var Ae=!1;function Ce(s,o){if(!s||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){d=q}s.call(o.prototype)}else{try{throw Error()}catch(q){d=q}s()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),v=d.stack.split(`
`),T=g.length-1,k=v.length-1;1<=T&&0<=k&&g[T]!==v[k];)k--;for(;1<=T&&0<=k;T--,k--)if(g[T]!==v[k]){if(T!==1||k!==1)do if(T--,k--,0>k||g[T]!==v[k]){var M=`
`+g[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=k);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function ke(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case X:return"Portal";case R:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case We:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case dt:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case Vt:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(s){var o=Ke(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function _o(s){s._valueTracker||(s._valueTracker=en(s))}function Ga(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ke(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function _s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xo(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Hu(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Eo(s,o){o=o.checked,o!=null&&K(s,"checked",o,!1)}function Ei(s,o){Eo(s,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?vt(s,o.type,u):o.hasOwnProperty("defaultValue")&&vt(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Qa(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function vt(s,o,u){(o!=="number"||_s(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ft=Array.isArray;function $n(s,o,u,d){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Ya(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xa(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ft(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function qu(s,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function xs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ja(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ja(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Es,Ku=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Es.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ti(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gu=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(s){Gu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ts[o]=Ts[s]})});function Ss(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ts.hasOwnProperty(s)&&Ts[s]?(""+o).trim():o+"px"}function So(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=Ss(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,g):s[u]=g}}var Za=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(s,o){if(o){if(Za[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Io(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Is=null;function bo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fr=null,Ur=null,lt=null;function el(s){if(s=Al(s)){if(typeof Fr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=xc(o),Fr(s.stateNode,s.type,o))}}function bs(s){Ur?lt?lt.push(s):lt=[s]:Ur=s}function As(){if(Ur){var s=Ur,o=lt;if(lt=Ur=null,el(s),o)for(s=0;s<o.length;s++)el(o[s])}}function Qu(s,o){return s(o)}function Yu(){}var ur=!1;function Xu(s,o,u){if(ur)return s(o,u);ur=!0;try{return Qu(s,o,u)}finally{ur=!1,(Ur!==null||lt!==null)&&(Yu(),As())}}function Si(s,o){var u=s.stateNode;if(u===null)return null;var d=xc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Cs=!1;if(h)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Cs=!1}function Ju(s,o,u,d,g,v,T,k,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Br=!1,cr=null,Ao=!1,bn=null,Zu={onError:function(s){Br=!0,cr=s}};function ec(s,o,u,d,g,v,T,k,M){Br=!1,cr=null,Ju.apply(Zu,arguments)}function tl(s,o,u,d,g,v,T,k,M){if(ec.apply(this,arguments),Br){if(Br){var q=cr;Br=!1,cr=null}else throw Error(n(198));Ao||(Ao=!0,bn=q)}}function Hn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function nl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function tc(s){if(Hn(s)!==s)throw Error(n(188))}function nc(s){var o=s.alternate;if(!o){if(o=Hn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return tc(g),s;if(v===d)return tc(g),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=g,d=v;else{for(var T=!1,k=g.child;k;){if(k===u){T=!0,u=g,d=v;break}if(k===d){T=!0,d=g,u=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===u){T=!0,u=v,d=g;break}if(k===d){T=!0,d=v,u=g;break}k=k.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function rc(s){return s=nc(s),s!==null?Ii(s):null}function Ii(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ii(s);if(o!==null)return o;s=s.sibling}return null}var rl=e.unstable_scheduleCallback,Co=e.unstable_cancelCallback,bi=e.unstable_shouldYield,zr=e.unstable_requestPaint,Xe=e.unstable_now,Md=e.unstable_getCurrentPriorityLevel,Po=e.unstable_ImmediatePriority,sl=e.unstable_UserBlockingPriority,Ai=e.unstable_NormalPriority,il=e.unstable_LowPriority,Ro=e.unstable_IdlePriority,Ci=null,pn=null;function sc(s){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ci,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Pi,hr=Math.log,An=Math.LN2;function Pi(s){return s>>>=0,s===0?32:31-(hr(s)/An|0)|0}var dr=64,Rs=4194304;function Be(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $r(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,g=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var k=T&~g;k!==0?d=Be(k):(v&=T,v!==0&&(d=Be(v)))}else T=u&~g,T!==0?d=Be(T):v!==0&&(d=Be(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&g)===0&&(g=d&-d,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-mn(o),g=1<<u,d|=s[u],o&=~g;return d}function Ri(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-mn(v),k=1<<T,M=g[T];M===-1?((k&u)===0||(k&d)!==0)&&(g[T]=Ri(k,o)):M<=o&&(s.expiredLanes|=k),v&=~k}}function ol(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function al(){var s=dr;return dr<<=1,(dr&4194240)===0&&(dr=64),s}function ll(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ni(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-mn(o),s[o]=u}function Od(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-mn(u),v=1<<g;o[g]=0,d[g]=-1,s[g]=-1,u&=~v}}function ul(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-mn(u),g=1<<d;g&o|s[d]&o&&(s[d]|=o),u&=~g}}var Le=0;function fr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var cl,ko,hl,dl,fl,pr=!1,No=[],mr=null,gr=null,jt=null,Di=new Map,Wr=new Map,gn=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ks(s,o){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Di.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(o.pointerId)}}function qn(s,o,u,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Al(o),o!==null&&ko(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function oc(s,o,u,d,g){switch(o){case"focusin":return mr=qn(mr,s,o,u,d,g),!0;case"dragenter":return gr=qn(gr,s,o,u,d,g),!0;case"mouseover":return jt=qn(jt,s,o,u,d,g),!0;case"pointerover":var v=g.pointerId;return Di.set(v,qn(Di.get(v)||null,s,o,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Wr.set(v,qn(Wr.get(v)||null,s,o,u,d,g)),!0}return!1}function Do(s){var o=Mi(s.target);if(o!==null){var u=Hn(o);if(u!==null){if(o=u.tag,o===13){if(o=nl(u),o!==null){s.blockedOn=o,fl(s.priority,function(){hl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Vo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Is=d,u.target.dispatchEvent(d),Is=null}else return o=Al(u),o!==null&&ko(o),s.blockedOn=u,!1;o.shift()}return!0}function ac(s,o,u){Ge(s)&&u.delete(o)}function Fd(){pr=!1,mr!==null&&Ge(mr)&&(mr=null),gr!==null&&Ge(gr)&&(gr=null),jt!==null&&Ge(jt)&&(jt=null),Di.forEach(ac),Wr.forEach(ac)}function Ns(s,o){s.blockedOn===o&&(s.blockedOn=null,pr||(pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fd)))}function Ds(s){function o(g){return Ns(g,s)}if(0<No.length){Ns(No[0],s);for(var u=1;u<No.length;u++){var d=No[u];d.blockedOn===s&&(d.blockedOn=null)}}for(mr!==null&&Ns(mr,s),gr!==null&&Ns(gr,s),jt!==null&&Ns(jt,s),Di.forEach(o),Wr.forEach(o),u=0;u<gn.length;u++)d=gn[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<gn.length&&(u=gn[0],u.blockedOn===null);)Do(u),u.blockedOn===null&&gn.shift()}var Hr=ne.ReactCurrentBatchConfig,qr=!0;function yr(s,o,u,d){var g=Le,v=Hr.transition;Hr.transition=null;try{Le=1,pl(s,o,u,d)}finally{Le=g,Hr.transition=v}}function lc(s,o,u,d){var g=Le,v=Hr.transition;Hr.transition=null;try{Le=4,pl(s,o,u,d)}finally{Le=g,Hr.transition=v}}function pl(s,o,u,d){if(qr){var g=Vo(s,o,u,d);if(g===null)Yd(s,o,d,vr,u),ks(s,d);else if(oc(g,s,o,u,d))d.stopPropagation();else if(ks(s,d),o&4&&-1<ic.indexOf(s)){for(;g!==null;){var v=Al(g);if(v!==null&&cl(v),v=Vo(s,o,u,d),v===null&&Yd(s,o,d,vr,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else Yd(s,o,d,null,u)}}var vr=null;function Vo(s,o,u,d){if(vr=null,s=bo(d),s=Mi(s),s!==null)if(o=Hn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=nl(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return vr=s,null}function jo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Md()){case Po:return 1;case sl:return 4;case Ai:case il:return 16;case Ro:return 536870912;default:return 16}default:return 16}}var yn=null,Lo=null,Kr=null;function uc(){if(Kr)return Kr;var s,o=Lo,u=o.length,d,g="value"in yn?yn.value:yn.textContent,v=g.length;for(s=0;s<u&&o[s]===g[s];s++);var T=u-s;for(d=1;d<=T&&o[u-d]===g[v-d];d++);return Kr=g.slice(s,1<d?1-d:void 0)}function Vi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function wr(){return!0}function ml(){return!1}function Wt(s){function o(u,d,g,v,T){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:ml,this.isPropagationStopped=ml,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Wt(_r),Vs=ae({},_r,{view:0,detail:0}),Mo=Wt(Vs),Oo,Fo,vn,Li=ae({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==vn&&(vn&&s.type==="mousemove"?(Oo=s.screenX-vn.screenX,Fo=s.screenY-vn.screenY):Fo=Oo=0,vn=s),Oo)},movementY:function(s){return"movementY"in s?s.movementY:Fo}}),gl=Wt(Li),cc=ae({},Li,{dataTransfer:0}),hc=Wt(cc),Uo=ae({},Vs,{relatedTarget:0}),Lt=Wt(Uo),dc=ae({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Wt(dc),js=ae({},_r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Wt(js),w=ae({},_r,{data:0}),x=Wt(w),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=G[s])?!!o[s]:!1}function Se(){return oe}var pt=ae({},Vs,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(s){return s.type==="keypress"?Vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),He=Wt(pt),wt=ae({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wn=Wt(wt),Gr=ae({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),xr=Wt(Gr),Er=ae({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Wt(Er),yl=ae({},Li,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=Wt(yl),n2=[9,13,27,32],Ud=h&&"CompositionEvent"in window,vl=null;h&&"documentMode"in document&&(vl=document.documentMode);var r2=h&&"TextEvent"in window&&!vl,Ny=h&&(!Ud||vl&&8<vl&&11>=vl),Dy=" ",Vy=!1;function jy(s,o){switch(s){case"keyup":return n2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zo=!1;function s2(s,o){switch(s){case"compositionend":return Ly(o);case"keypress":return o.which!==32?null:(Vy=!0,Dy);case"textInput":return s=o.data,s===Dy&&Vy?null:s;default:return null}}function i2(s,o){if(zo)return s==="compositionend"||!Ud&&jy(s,o)?(s=uc(),Kr=Lo=yn=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ny&&o.locale!=="ko"?null:o.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!o2[s.type]:o==="textarea"}function Oy(s,o,u,d){bs(d),o=vc(o,"onChange"),0<o.length&&(u=new ji("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var wl=null,_l=null;function a2(s){n0(s,0)}function pc(s){var o=Ko(s);if(Ga(o))return s}function l2(s,o){if(s==="change")return o}var Fy=!1;if(h){var Bd;if(h){var zd="oninput"in document;if(!zd){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),zd=typeof Uy.oninput=="function"}Bd=zd}else Bd=!1;Fy=Bd&&(!document.documentMode||9<document.documentMode)}function By(){wl&&(wl.detachEvent("onpropertychange",zy),_l=wl=null)}function zy(s){if(s.propertyName==="value"&&pc(_l)){var o=[];Oy(o,_l,s,bo(s)),Xu(a2,o)}}function u2(s,o,u){s==="focusin"?(By(),wl=o,_l=u,wl.attachEvent("onpropertychange",zy)):s==="focusout"&&By()}function c2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pc(_l)}function h2(s,o){if(s==="click")return pc(o)}function d2(s,o){if(s==="input"||s==="change")return pc(o)}function f2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Kn=typeof Object.is=="function"?Object.is:f2;function xl(s,o){if(Kn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!f.call(o,g)||!Kn(s[g],o[g]))return!1}return!0}function $y(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Wy(s,o){var u=$y(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$y(u)}}function Hy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Hy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function qy(){for(var s=window,o=_s();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=_s(s.document)}return o}function $d(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function p2(s){var o=qy(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Hy(u.ownerDocument.documentElement,u)){if(d!==null&&$d(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!s.extend&&v>d&&(g=d,d=v,v=g),g=Wy(u,v);var T=Wy(u,d);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var m2=h&&"documentMode"in document&&11>=document.documentMode,$o=null,Wd=null,El=null,Hd=!1;function Ky(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Hd||$o==null||$o!==_s(d)||(d=$o,"selectionStart"in d&&$d(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),El&&xl(El,d)||(El=d,d=vc(Wd,"onSelect"),0<d.length&&(o=new ji("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=$o)))}function mc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Wo={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},qd={},Gy={};h&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function gc(s){if(qd[s])return qd[s];if(!Wo[s])return s;var o=Wo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Gy)return qd[s]=o[u];return s}var Qy=gc("animationend"),Yy=gc("animationiteration"),Xy=gc("animationstart"),Jy=gc("transitionend"),Zy=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(s,o){Zy.set(s,o),a(o,[s])}for(var Kd=0;Kd<e0.length;Kd++){var Gd=e0[Kd],g2=Gd.toLowerCase(),y2=Gd[0].toUpperCase()+Gd.slice(1);Ls(g2,"on"+y2)}Ls(Qy,"onAnimationEnd"),Ls(Yy,"onAnimationIteration"),Ls(Xy,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(Jy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function t0(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,tl(d,o,void 0,s),s.currentTarget=null}function n0(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],M=k.instance,q=k.currentTarget;if(k=k.listener,M!==v&&g.isPropagationStopped())break e;t0(g,k,q),v=M}else for(T=0;T<d.length;T++){if(k=d[T],M=k.instance,q=k.currentTarget,k=k.listener,M!==v&&g.isPropagationStopped())break e;t0(g,k,q),v=M}}}if(Ao)throw s=bn,Ao=!1,bn=null,s}function Je(s,o){var u=o[nf];u===void 0&&(u=o[nf]=new Set);var d=s+"__bubble";u.has(d)||(r0(o,s,2,!1),u.add(d))}function Qd(s,o,u){var d=0;o&&(d|=4),r0(u,s,d,o)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Sl(s){if(!s[yc]){s[yc]=!0,r.forEach(function(u){u!=="selectionchange"&&(v2.has(u)||Qd(u,!1,s),Qd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[yc]||(o[yc]=!0,Qd("selectionchange",!1,o))}}function r0(s,o,u,d){switch(jo(o)){case 1:var g=yr;break;case 4:g=lc;break;default:g=pl}u=g.bind(null,o,u,s),g=void 0,!Cs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function Yd(s,o,u,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;T=T.return}for(;k!==null;){if(T=Mi(k),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}k=k.parentNode}}d=d.return}Xu(function(){var q=v,ee=bo(u),te=[];e:{var Z=Zy.get(s);if(Z!==void 0){var ue=ji,de=s;switch(s){case"keypress":if(Vi(u)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":de="focus",ue=Lt;break;case"focusout":de="blur",ue=Lt;break;case"beforeblur":case"afterblur":ue=Lt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=xr;break;case Qy:case Yy:case Xy:ue=fc;break;case Jy:ue=Bo;break;case"scroll":ue=Mo;break;case"wheel":ue=t2;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=wn}var pe=(o&4)!==0,mt=!pe&&s==="scroll",$=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var F=q,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=Si(F,$),ie!=null&&pe.push(Il(F,ie,H)))),mt)break;F=F.return}0<pe.length&&(Z=new ue(Z,de,null,u,ee),te.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&u!==Is&&(de=u.relatedTarget||u.fromElement)&&(Mi(de)||de[Qr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?Mi(de):null,de!==null&&(mt=Hn(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(pe=gl,ie="onMouseLeave",$="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(pe=wn,ie="onPointerLeave",$="onPointerEnter",F="pointer"),mt=ue==null?Z:Ko(ue),H=de==null?Z:Ko(de),Z=new pe(ie,F+"leave",ue,u,ee),Z.target=mt,Z.relatedTarget=H,ie=null,Mi(ee)===q&&(pe=new pe($,F+"enter",de,u,ee),pe.target=H,pe.relatedTarget=mt,ie=pe),mt=ie,ue&&de)t:{for(pe=ue,$=de,F=0,H=pe;H;H=Ho(H))F++;for(H=0,ie=$;ie;ie=Ho(ie))H++;for(;0<F-H;)pe=Ho(pe),F--;for(;0<H-F;)$=Ho($),H--;for(;F--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=Ho(pe),$=Ho($)}pe=null}else pe=null;ue!==null&&s0(te,Z,ue,pe,!1),de!==null&&mt!==null&&s0(te,mt,de,pe,!0)}}e:{if(Z=q?Ko(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=l2;else if(My(Z))if(Fy)me=d2;else{me=c2;var ye=u2}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=h2);if(me&&(me=me(s,q))){Oy(te,me,u,ee);break e}ye&&ye(s,Z,q),s==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&vt(Z,"number",Z.value)}switch(ye=q?Ko(q):window,s){case"focusin":(My(ye)||ye.contentEditable==="true")&&($o=ye,Wd=q,El=null);break;case"focusout":El=Wd=$o=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,Ky(te,u,ee);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":Ky(te,u,ee)}var ve;if(Ud)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else zo?jy(s,u)&&(Ee="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ny&&u.locale!=="ko"&&(zo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&zo&&(ve=uc()):(yn=ee,Lo="value"in yn?yn.value:yn.textContent,zo=!0)),ye=vc(q,Ee),0<ye.length&&(Ee=new x(Ee,s,null,u,ee),te.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Ly(u),ve!==null&&(Ee.data=ve)))),(ve=r2?s2(s,u):i2(s,u))&&(q=vc(q,"onBeforeInput"),0<q.length&&(ee=new x("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:q}),ee.data=ve))}n0(te,o)})}function Il(s,o,u){return{instance:s,listener:o,currentTarget:u}}function vc(s,o){for(var u=o+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Si(s,u),v!=null&&d.unshift(Il(s,v,g)),v=Si(s,o),v!=null&&d.push(Il(s,v,g))),s=s.return}return d}function Ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function s0(s,o,u,d,g){for(var v=o._reactName,T=[];u!==null&&u!==d;){var k=u,M=k.alternate,q=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&q!==null&&(k=q,g?(M=Si(u,v),M!=null&&T.unshift(Il(u,M,k))):g||(M=Si(u,v),M!=null&&T.push(Il(u,M,k)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var w2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function i0(s){return(typeof s=="string"?s:""+s).replace(w2,`
`).replace(_2,"")}function wc(s,o,u){if(o=i0(o),i0(s)!==o&&u)throw Error(n(425))}function _c(){}var Xd=null,Jd=null;function Zd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(s){return o0.resolve(null).then(s).catch(T2)}:ef;function T2(s){setTimeout(function(){throw s})}function tf(s,o){var u=o,d=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){s.removeChild(g),Ds(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);Ds(o)}function Ms(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function a0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+qo,bl="__reactProps$"+qo,Qr="__reactContainer$"+qo,nf="__reactEvents$"+qo,S2="__reactListeners$"+qo,I2="__reactHandles$"+qo;function Mi(s){var o=s[Tr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Qr]||u[Tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=a0(s);s!==null;){if(u=s[Tr])return u;s=a0(s)}return o}s=u,u=s.parentNode}return null}function Al(s){return s=s[Tr]||s[Qr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function xc(s){return s[bl]||null}var rf=[],Go=-1;function Os(s){return{current:s}}function Ze(s){0>Go||(s.current=rf[Go],rf[Go]=null,Go--)}function Qe(s,o){Go++,rf[Go]=s.current,s.current=o}var Fs={},Ht=Os(Fs),on=Os(!1),Oi=Fs;function Qo(s,o){var u=s.type.contextTypes;if(!u)return Fs;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function an(s){return s=s.childContextTypes,s!=null}function Ec(){Ze(on),Ze(Ht)}function l0(s,o,u){if(Ht.current!==Fs)throw Error(n(168));Qe(Ht,o),Qe(on,u)}function u0(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(n(108,ze(s)||"Unknown",g));return ae({},u,d)}function Tc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fs,Oi=Ht.current,Qe(Ht,s),Qe(on,on.current),!0}function c0(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=u0(s,o,Oi),d.__reactInternalMemoizedMergedChildContext=s,Ze(on),Ze(Ht),Qe(Ht,s)):Ze(on),Qe(on,u)}var Yr=null,Sc=!1,sf=!1;function h0(s){Yr===null?Yr=[s]:Yr.push(s)}function b2(s){Sc=!0,h0(s)}function Us(){if(!sf&&Yr!==null){sf=!0;var s=0,o=Le;try{var u=Yr;for(Le=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Yr=null,Sc=!1}catch(g){throw Yr!==null&&(Yr=Yr.slice(s+1)),rl(Po,Us),g}finally{Le=o,sf=!1}}return null}var Yo=[],Xo=0,Ic=null,bc=0,Cn=[],Pn=0,Fi=null,Xr=1,Jr="";function Ui(s,o){Yo[Xo++]=bc,Yo[Xo++]=Ic,Ic=s,bc=o}function d0(s,o,u){Cn[Pn++]=Xr,Cn[Pn++]=Jr,Cn[Pn++]=Fi,Fi=s;var d=Xr;s=Jr;var g=32-mn(d)-1;d&=~(1<<g),u+=1;var v=32-mn(o)+g;if(30<v){var T=g-g%5;v=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Xr=1<<32-mn(o)+g|u<<g|d,Jr=v+s}else Xr=1<<v|u<<g|d,Jr=s}function of(s){s.return!==null&&(Ui(s,1),d0(s,1,0))}function af(s){for(;s===Ic;)Ic=Yo[--Xo],Yo[Xo]=null,bc=Yo[--Xo],Yo[Xo]=null;for(;s===Fi;)Fi=Cn[--Pn],Cn[Pn]=null,Jr=Cn[--Pn],Cn[Pn]=null,Xr=Cn[--Pn],Cn[Pn]=null}var _n=null,xn=null,et=!1,Gn=null;function f0(s,o){var u=Dn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function p0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_n=s,xn=Ms(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_n=s,xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Fi!==null?{id:Xr,overflow:Jr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Dn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,_n=s,xn=null,!0):!1;default:return!1}}function lf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function uf(s){if(et){var o=xn;if(o){var u=o;if(!p0(s,o)){if(lf(s))throw Error(n(418));o=Ms(u.nextSibling);var d=_n;o&&p0(s,o)?f0(d,u):(s.flags=s.flags&-4097|2,et=!1,_n=s)}}else{if(lf(s))throw Error(n(418));s.flags=s.flags&-4097|2,et=!1,_n=s}}}function m0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_n=s}function Ac(s){if(s!==_n)return!1;if(!et)return m0(s),et=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Zd(s.type,s.memoizedProps)),o&&(o=xn)){if(lf(s))throw g0(),Error(n(418));for(;o;)f0(s,o),o=Ms(o.nextSibling)}if(m0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){xn=Ms(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}xn=null}}else xn=_n?Ms(s.stateNode.nextSibling):null;return!0}function g0(){for(var s=xn;s;)s=Ms(s.nextSibling)}function Jo(){xn=_n=null,et=!1}function cf(s){Gn===null?Gn=[s]:Gn.push(s)}var A2=ne.ReactCurrentBatchConfig;function Cl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var g=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var k=g.refs;T===null?delete k[v]:k[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Cc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function y0(s){var o=s._init;return o(s._payload)}function v0(s){function o($,F){if(s){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function u($,F){if(!s)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function d($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function g($,F){return $=Gs($,F),$.index=0,$.sibling=null,$}function v($,F,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function T($){return s&&$.alternate===null&&($.flags|=2),$}function k($,F,H,ie){return F===null||F.tag!==6?(F=tp(H,$.mode,ie),F.return=$,F):(F=g(F,H),F.return=$,F)}function M($,F,H,ie){var me=H.type;return me===C?ee($,F,H.props.children,ie,H.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&y0(me)===F.type)?(ie=g(F,H.props),ie.ref=Cl($,F,H),ie.return=$,ie):(ie=Jc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Cl($,F,H),ie.return=$,ie)}function q($,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=np(H,$.mode,ie),F.return=$,F):(F=g(F,H.children||[]),F.return=$,F)}function ee($,F,H,ie,me){return F===null||F.tag!==7?(F=Gi(H,$.mode,ie,me),F.return=$,F):(F=g(F,H),F.return=$,F)}function te($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=tp(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case re:return H=Jc(F.type,F.key,F.props,null,$.mode,H),H.ref=Cl($,null,F),H.return=$,H;case X:return F=np(F,$.mode,H),F.return=$,F;case Vt:var ie=F._init;return te($,ie(F._payload),H)}if(ft(F)||fe(F))return F=Gi(F,$.mode,H,null),F.return=$,F;Cc($,F)}return null}function Z($,F,H,ie){var me=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:k($,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case re:return H.key===me?M($,F,H,ie):null;case X:return H.key===me?q($,F,H,ie):null;case Vt:return me=H._init,Z($,F,me(H._payload),ie)}if(ft(H)||fe(H))return me!==null?null:ee($,F,H,ie,null);Cc($,H)}return null}function ue($,F,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,k(F,$,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return $=$.get(ie.key===null?H:ie.key)||null,M(F,$,ie,me);case X:return $=$.get(ie.key===null?H:ie.key)||null,q(F,$,ie,me);case Vt:var ye=ie._init;return ue($,F,H,ye(ie._payload),me)}if(ft(ie)||fe(ie))return $=$.get(H)||null,ee(F,$,ie,me,null);Cc(F,ie)}return null}function de($,F,H,ie){for(var me=null,ye=null,ve=F,Ee=F=0,kt=null;ve!==null&&Ee<H.length;Ee++){ve.index>Ee?(kt=ve,ve=null):kt=ve.sibling;var Ue=Z($,ve,H[Ee],ie);if(Ue===null){ve===null&&(ve=kt);break}s&&ve&&Ue.alternate===null&&o($,ve),F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue,ve=kt}if(Ee===H.length)return u($,ve),et&&Ui($,Ee),me;if(ve===null){for(;Ee<H.length;Ee++)ve=te($,H[Ee],ie),ve!==null&&(F=v(ve,F,Ee),ye===null?me=ve:ye.sibling=ve,ye=ve);return et&&Ui($,Ee),me}for(ve=d($,ve);Ee<H.length;Ee++)kt=ue(ve,$,Ee,H[Ee],ie),kt!==null&&(s&&kt.alternate!==null&&ve.delete(kt.key===null?Ee:kt.key),F=v(kt,F,Ee),ye===null?me=kt:ye.sibling=kt,ye=kt);return s&&ve.forEach(function(Qs){return o($,Qs)}),et&&Ui($,Ee),me}function pe($,F,H,ie){var me=fe(H);if(typeof me!="function")throw Error(n(150));if(H=me.call(H),H==null)throw Error(n(151));for(var ye=me=null,ve=F,Ee=F=0,kt=null,Ue=H.next();ve!==null&&!Ue.done;Ee++,Ue=H.next()){ve.index>Ee?(kt=ve,ve=null):kt=ve.sibling;var Qs=Z($,ve,Ue.value,ie);if(Qs===null){ve===null&&(ve=kt);break}s&&ve&&Qs.alternate===null&&o($,ve),F=v(Qs,F,Ee),ye===null?me=Qs:ye.sibling=Qs,ye=Qs,ve=kt}if(Ue.done)return u($,ve),et&&Ui($,Ee),me;if(ve===null){for(;!Ue.done;Ee++,Ue=H.next())Ue=te($,Ue.value,ie),Ue!==null&&(F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return et&&Ui($,Ee),me}for(ve=d($,ve);!Ue.done;Ee++,Ue=H.next())Ue=ue(ve,$,Ee,Ue.value,ie),Ue!==null&&(s&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ee:Ue.key),F=v(Ue,F,Ee),ye===null?me=Ue:ye.sibling=Ue,ye=Ue);return s&&ve.forEach(function(ob){return o($,ob)}),et&&Ui($,Ee),me}function mt($,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case re:e:{for(var me=H.key,ye=F;ye!==null;){if(ye.key===me){if(me=H.type,me===C){if(ye.tag===7){u($,ye.sibling),F=g(ye,H.props.children),F.return=$,$=F;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&y0(me)===ye.type){u($,ye.sibling),F=g(ye,H.props),F.ref=Cl($,ye,H),F.return=$,$=F;break e}u($,ye);break}else o($,ye);ye=ye.sibling}H.type===C?(F=Gi(H.props.children,$.mode,ie,H.key),F.return=$,$=F):(ie=Jc(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Cl($,F,H),ie.return=$,$=ie)}return T($);case X:e:{for(ye=H.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){u($,F.sibling),F=g(F,H.children||[]),F.return=$,$=F;break e}else{u($,F);break}else o($,F);F=F.sibling}F=np(H,$.mode,ie),F.return=$,$=F}return T($);case Vt:return ye=H._init,mt($,F,ye(H._payload),ie)}if(ft(H))return de($,F,H,ie);if(fe(H))return pe($,F,H,ie);Cc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(u($,F.sibling),F=g(F,H),F.return=$,$=F):(u($,F),F=tp(H,$.mode,ie),F.return=$,$=F),T($)):u($,F)}return mt}var Zo=v0(!0),w0=v0(!1),Pc=Os(null),Rc=null,ea=null,hf=null;function df(){hf=ea=Rc=null}function ff(s){var o=Pc.current;Ze(Pc),s._currentValue=o}function pf(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function ta(s,o){Rc=s,hf=ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ln=!0),s.firstContext=null)}function Rn(s){var o=s._currentValue;if(hf!==s)if(s={context:s,memoizedValue:o,next:null},ea===null){if(Rc===null)throw Error(n(308));ea=s,Rc.dependencies={lanes:0,firstContext:s}}else ea=ea.next=s;return o}var Bi=null;function mf(s){Bi===null?Bi=[s]:Bi.push(s)}function _0(s,o,u,d){var g=o.interleaved;return g===null?(u.next=u,mf(o)):(u.next=g.next,g.next=u),o.interleaved=u,Zr(s,d)}function Zr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Bs=!1;function gf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function es(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function zs(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Fe&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,Zr(s,u)}return g=d.interleaved,g===null?(o.next=o,mf(d)):(o.next=g.next,g.next=o),d.interleaved=o,Zr(s,u)}function kc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ul(s,u)}}function E0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Nc(s,o,u,d){var g=s.updateQueue;Bs=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var M=k,q=M.next;M.next=null,T===null?v=q:T.next=q,T=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=q:k.next=q,ee.lastBaseUpdate=M))}if(v!==null){var te=g.baseState;T=0,ee=q=M=null,k=v;do{var Z=k.lane,ue=k.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=s,pe=k;switch(Z=o,ue=u,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){te=de.call(ue,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Z=typeof de=="function"?de.call(ue,te,Z):de,Z==null)break e;te=ae({},te,Z);break e;case 2:Bs=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Z=g.effects,Z===null?g.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(q=ee=ue,M=te):ee=ee.next=ue,T|=Z;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);if(ee===null&&(M=te),g.baseState=M,g.firstBaseUpdate=q,g.lastBaseUpdate=ee,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Wi|=T,s.lanes=T,s.memoizedState=te}}function T0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var Pl={},Sr=Os(Pl),Rl=Os(Pl),kl=Os(Pl);function zi(s){if(s===Pl)throw Error(n(174));return s}function yf(s,o){switch(Qe(kl,o),Qe(Rl,s),Qe(Sr,Pl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:To(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=To(o,s)}Ze(Sr),Qe(Sr,o)}function na(){Ze(Sr),Ze(Rl),Ze(kl)}function S0(s){zi(kl.current);var o=zi(Sr.current),u=To(o,s.type);o!==u&&(Qe(Rl,s),Qe(Sr,u))}function vf(s){Rl.current===s&&(Ze(Sr),Ze(Rl))}var rt=Os(0);function Dc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wf=[];function _f(){for(var s=0;s<wf.length;s++)wf[s]._workInProgressVersionPrimary=null;wf.length=0}var Vc=ne.ReactCurrentDispatcher,xf=ne.ReactCurrentBatchConfig,$i=0,st=null,bt=null,Pt=null,jc=!1,Nl=!1,Dl=0,C2=0;function qt(){throw Error(n(321))}function Ef(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Kn(s[u],o[u]))return!1;return!0}function Tf(s,o,u,d,g,v){if($i=v,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vc.current=s===null||s.memoizedState===null?N2:D2,s=u(d,g),Nl){v=0;do{if(Nl=!1,Dl=0,25<=v)throw Error(n(301));v+=1,Pt=bt=null,o.updateQueue=null,Vc.current=V2,s=u(d,g)}while(Nl)}if(Vc.current=Oc,o=bt!==null&&bt.next!==null,$i=0,Pt=bt=st=null,jc=!1,o)throw Error(n(300));return s}function Sf(){var s=Dl!==0;return Dl=0,s}function Ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function kn(){if(bt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=Pt===null?st.memoizedState:Pt.next;if(o!==null)Pt=o,bt=s;else{if(s===null)throw Error(n(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Pt===null?st.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Vl(s,o){return typeof o=="function"?o(s):o}function If(s){var o=kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=bt,g=d.baseQueue,v=u.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}d.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,d=d.baseState;var k=T=null,M=null,q=v;do{var ee=q.lane;if(($i&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:s(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(k=M=te,T=d):M=M.next=te,st.lanes|=ee,Wi|=ee}q=q.next}while(q!==null&&q!==v);M===null?T=d:M.next=k,Kn(d,o.memoizedState)||(ln=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(s=u.interleaved,s!==null){g=s;do v=g.lane,st.lanes|=v,Wi|=v,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function bf(s){var o=kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do v=s(v,T.action),T=T.next;while(T!==g);Kn(v,o.memoizedState)||(ln=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function I0(){}function b0(s,o){var u=st,d=kn(),g=o(),v=!Kn(d.memoizedState,g);if(v&&(d.memoizedState=g,ln=!0),d=d.queue,Af(P0.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,jl(9,C0.bind(null,u,d,g,o),void 0,null),Rt===null)throw Error(n(349));($i&30)!==0||A0(u,o,g)}return g}function A0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function C0(s,o,u,d){o.value=u,o.getSnapshot=d,R0(o)&&k0(s)}function P0(s,o,u){return u(function(){R0(o)&&k0(s)})}function R0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Kn(s,u)}catch{return!0}}function k0(s){var o=Zr(s,1);o!==null&&Jn(o,s,1,-1)}function N0(s){var o=Ir();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:s},o.queue=s,s=s.dispatch=k2.bind(null,st,s),[o.memoizedState,s]}function jl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function D0(){return kn().memoizedState}function Lc(s,o,u,d){var g=Ir();st.flags|=s,g.memoizedState=jl(1|o,u,void 0,d===void 0?null:d)}function Mc(s,o,u,d){var g=kn();d=d===void 0?null:d;var v=void 0;if(bt!==null){var T=bt.memoizedState;if(v=T.destroy,d!==null&&Ef(d,T.deps)){g.memoizedState=jl(o,u,v,d);return}}st.flags|=s,g.memoizedState=jl(1|o,u,v,d)}function V0(s,o){return Lc(8390656,8,s,o)}function Af(s,o){return Mc(2048,8,s,o)}function j0(s,o){return Mc(4,2,s,o)}function L0(s,o){return Mc(4,4,s,o)}function M0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function O0(s,o,u){return u=u!=null?u.concat([s]):null,Mc(4,4,M0.bind(null,o,s),u)}function Cf(){}function F0(s,o){var u=kn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Ef(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function U0(s,o){var u=kn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Ef(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function B0(s,o,u){return($i&21)===0?(s.baseState&&(s.baseState=!1,ln=!0),s.memoizedState=u):(Kn(u,o)||(u=al(),st.lanes|=u,Wi|=u,s.baseState=!0),o)}function P2(s,o){var u=Le;Le=u!==0&&4>u?u:4,s(!0);var d=xf.transition;xf.transition={};try{s(!1),o()}finally{Le=u,xf.transition=d}}function z0(){return kn().memoizedState}function R2(s,o,u){var d=qs(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},$0(s))W0(o,u);else if(u=_0(s,o,u,d),u!==null){var g=nn();Jn(u,s,d,g),H0(u,o,d)}}function k2(s,o,u){var d=qs(s),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if($0(s))W0(o,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,k=v(T,u);if(g.hasEagerState=!0,g.eagerState=k,Kn(k,T)){var M=o.interleaved;M===null?(g.next=g,mf(o)):(g.next=M.next,M.next=g),o.interleaved=g;return}}catch{}finally{}u=_0(s,o,g,d),u!==null&&(g=nn(),Jn(u,s,d,g),H0(u,o,d))}}function $0(s){var o=s.alternate;return s===st||o!==null&&o===st}function W0(s,o){Nl=jc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function H0(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ul(s,u)}}var Oc={readContext:Rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},N2={readContext:Rn,useCallback:function(s,o){return Ir().memoizedState=[s,o===void 0?null:o],s},useContext:Rn,useEffect:V0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Lc(4194308,4,M0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Lc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Lc(4,2,s,o)},useMemo:function(s,o){var u=Ir();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Ir();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=R2.bind(null,st,s),[d.memoizedState,s]},useRef:function(s){var o=Ir();return s={current:s},o.memoizedState=s},useState:N0,useDebugValue:Cf,useDeferredValue:function(s){return Ir().memoizedState=s},useTransition:function(){var s=N0(!1),o=s[0];return s=P2.bind(null,s[1]),Ir().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=st,g=Ir();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Rt===null)throw Error(n(349));($i&30)!==0||A0(d,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,V0(P0.bind(null,d,v,s),[s]),d.flags|=2048,jl(9,C0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=Ir(),o=Rt.identifierPrefix;if(et){var u=Jr,d=Xr;u=(d&~(1<<32-mn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Dl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=C2++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},D2={readContext:Rn,useCallback:F0,useContext:Rn,useEffect:Af,useImperativeHandle:O0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:U0,useReducer:If,useRef:D0,useState:function(){return If(Vl)},useDebugValue:Cf,useDeferredValue:function(s){var o=kn();return B0(o,bt.memoizedState,s)},useTransition:function(){var s=If(Vl)[0],o=kn().memoizedState;return[s,o]},useMutableSource:I0,useSyncExternalStore:b0,useId:z0,unstable_isNewReconciler:!1},V2={readContext:Rn,useCallback:F0,useContext:Rn,useEffect:Af,useImperativeHandle:O0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:U0,useReducer:bf,useRef:D0,useState:function(){return bf(Vl)},useDebugValue:Cf,useDeferredValue:function(s){var o=kn();return bt===null?o.memoizedState=s:B0(o,bt.memoizedState,s)},useTransition:function(){var s=bf(Vl)[0],o=kn().memoizedState;return[s,o]},useMutableSource:I0,useSyncExternalStore:b0,useId:z0,unstable_isNewReconciler:!1};function Qn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Pf(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Fc={isMounted:function(s){return(s=s._reactInternals)?Hn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=nn(),g=qs(s),v=es(d,g);v.payload=o,u!=null&&(v.callback=u),o=zs(s,v,g),o!==null&&(Jn(o,s,g,d),kc(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=nn(),g=qs(s),v=es(d,g);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=zs(s,v,g),o!==null&&(Jn(o,s,g,d),kc(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=nn(),d=qs(s),g=es(u,d);g.tag=2,o!=null&&(g.callback=o),o=zs(s,g,d),o!==null&&(Jn(o,s,d,u),kc(o,s,d))}};function q0(s,o,u,d,g,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!xl(u,d)||!xl(g,v):!0}function K0(s,o,u){var d=!1,g=Fs,v=o.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(g=an(o)?Oi:Ht.current,d=o.contextTypes,v=(d=d!=null)?Qo(s,g):Fs),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Fc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),o}function G0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Fc.enqueueReplaceState(o,o.state,null)}function Rf(s,o,u,d){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},gf(s);var v=o.contextType;typeof v=="object"&&v!==null?g.context=Rn(v):(v=an(o)?Oi:Ht.current,g.context=Qo(s,v)),g.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Pf(s,o,v,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Fc.enqueueReplaceState(g,g.state,null),Nc(s,u,g,d),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ra(s,o){try{var u="",d=o;do u+=ke(d),d=d.return;while(d);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:g,digest:null}}function kf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Nf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var j2=typeof WeakMap=="function"?WeakMap:Map;function Q0(s,o,u){u=es(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){qc||(qc=!0,Kf=d),Nf(s,o)},u}function Y0(s,o,u){u=es(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){Nf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Nf(s,o),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function X0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new j2;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),s=Q2.bind(null,s,o,u),o.then(s,s))}function J0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Z0(s,o,u,d,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=es(-1,1),o.tag=2,zs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var L2=ne.ReactCurrentOwner,ln=!1;function tn(s,o,u,d){o.child=s===null?w0(o,null,u,d):Zo(o,s.child,u,d)}function ev(s,o,u,d,g){u=u.render;var v=o.ref;return ta(o,g),d=Tf(s,o,u,d,v,g),u=Sf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ts(s,o,g)):(et&&u&&of(o),o.flags|=1,tn(s,o,d,g),o.child)}function tv(s,o,u,d,g){if(s===null){var v=u.type;return typeof v=="function"&&!ep(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,nv(s,o,v,d,g)):(s=Jc(u.type,null,d,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&g)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:xl,u(T,d)&&s.ref===o.ref)return ts(s,o,g)}return o.flags|=1,s=Gs(v,d),s.ref=o.ref,s.return=o,o.child=s}function nv(s,o,u,d,g){if(s!==null){var v=s.memoizedProps;if(xl(v,d)&&s.ref===o.ref)if(ln=!1,o.pendingProps=d=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(ln=!0);else return o.lanes=s.lanes,ts(s,o,g)}return Df(s,o,u,d,g)}function rv(s,o,u){var d=o.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ia,En),En|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(ia,En),En|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Qe(ia,En),En|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Qe(ia,En),En|=d;return tn(s,o,g,u),o.child}function sv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Df(s,o,u,d,g){var v=an(u)?Oi:Ht.current;return v=Qo(o,v),ta(o,g),u=Tf(s,o,u,d,v,g),d=Sf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ts(s,o,g)):(et&&d&&of(o),o.flags|=1,tn(s,o,u,g),o.child)}function iv(s,o,u,d,g){if(an(u)){var v=!0;Tc(o)}else v=!1;if(ta(o,g),o.stateNode===null)Bc(s,o),K0(o,u,d),Rf(o,u,d,g),d=!0;else if(s===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var M=T.context,q=u.contextType;typeof q=="object"&&q!==null?q=Rn(q):(q=an(u)?Oi:Ht.current,q=Qo(o,q));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||M!==q)&&G0(o,T,d,q),Bs=!1;var Z=o.memoizedState;T.state=Z,Nc(o,d,T,g),M=o.memoizedState,k!==d||Z!==M||on.current||Bs?(typeof ee=="function"&&(Pf(o,u,ee,d),M=o.memoizedState),(k=Bs||q0(o,u,k,d,Z,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=q,d=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,x0(s,o),k=o.memoizedProps,q=o.type===o.elementType?k:Qn(o.type,k),T.props=q,te=o.pendingProps,Z=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=Rn(M):(M=an(u)?Oi:Ht.current,M=Qo(o,M));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||Z!==M)&&G0(o,T,d,M),Bs=!1,Z=o.memoizedState,T.state=Z,Nc(o,d,T,g);var de=o.memoizedState;k!==te||Z!==de||on.current||Bs?(typeof ue=="function"&&(Pf(o,u,ue,d),de=o.memoizedState),(q=Bs||q0(o,u,q,d,Z,de,M)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=q):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),d=!1)}return Vf(s,o,u,d,v,g)}function Vf(s,o,u,d,g,v){sv(s,o);var T=(o.flags&128)!==0;if(!d&&!T)return g&&c0(o,u,!1),ts(s,o,v);d=o.stateNode,L2.current=o;var k=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&T?(o.child=Zo(o,s.child,null,v),o.child=Zo(o,null,k,v)):tn(s,o,k,v),o.memoizedState=d.state,g&&c0(o,u,!0),o.child}function ov(s){var o=s.stateNode;o.pendingContext?l0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&l0(s,o.context,!1),yf(s,o.containerInfo)}function av(s,o,u,d,g){return Jo(),cf(g),o.flags|=256,tn(s,o,u,d),o.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Lf(s){return{baseLanes:s,cachePool:null,transitions:null}}function lv(s,o,u){var d=o.pendingProps,g=rt.current,v=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=s!==null&&s.memoizedState===null?!1:(g&2)!==0),k?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Qe(rt,g&1),s===null)return uf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Zc(T,d,0,null),s=Gi(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Lf(u),o.memoizedState=jf,s):Mf(o,T));if(g=s.memoizedState,g!==null&&(k=g.dehydrated,k!==null))return M2(s,o,T,d,k,g,u);if(v){v=d.fallback,T=o.mode,g=s.child,k=g.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Gs(g,M),d.subtreeFlags=g.subtreeFlags&14680064),k!==null?v=Gs(k,v):(v=Gi(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=s.child.memoizedState,T=T===null?Lf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,o.memoizedState=jf,d}return v=s.child,s=v.sibling,d=Gs(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Mf(s,o){return o=Zc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Uc(s,o,u,d){return d!==null&&cf(d),Zo(o,s.child,null,u),s=Mf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function M2(s,o,u,d,g,v,T){if(u)return o.flags&256?(o.flags&=-257,d=kf(Error(n(422))),Uc(s,o,T,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,g=o.mode,d=Zc({mode:"visible",children:d.children},g,0,null),v=Gi(v,g,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Zo(o,s.child,null,T),o.child.memoizedState=Lf(T),o.memoizedState=jf,v);if((o.mode&1)===0)return Uc(s,o,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=kf(v,d,void 0),Uc(s,o,T,d)}if(k=(T&s.childLanes)!==0,ln||k){if(d=Rt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Zr(s,g),Jn(d,s,g,-1))}return Zf(),d=kf(Error(n(421))),Uc(s,o,T,d)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=Y2.bind(null,s),g._reactRetry=o,null):(s=v.treeContext,xn=Ms(g.nextSibling),_n=o,et=!0,Gn=null,s!==null&&(Cn[Pn++]=Xr,Cn[Pn++]=Jr,Cn[Pn++]=Fi,Xr=s.id,Jr=s.overflow,Fi=o),o=Mf(o,d.children),o.flags|=4096,o)}function uv(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),pf(s.return,o,u)}function Of(s,o,u,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function cv(s,o,u){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(tn(s,o,d.children,u),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uv(s,u,o);else if(s.tag===19)uv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Qe(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Dc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Of(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Dc(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Of(o,!0,u,null,v);break;case"together":Of(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ts(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Wi|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Gs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Gs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function O2(s,o,u){switch(o.tag){case 3:ov(o),Jo();break;case 5:S0(o);break;case 1:an(o.type)&&Tc(o);break;case 4:yf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Qe(Pc,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?lv(s,o,u):(Qe(rt,rt.current&1),s=ts(s,o,u),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return cv(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Qe(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,rv(s,o,u)}return ts(s,o,u)}var hv,Ff,dv,fv;hv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ff=function(){},dv=function(s,o,u,d){var g=s.memoizedProps;if(g!==d){s=o.stateNode,zi(Sr.current);var v=null;switch(u){case"input":g=xo(s,g),d=xo(s,d),v=[];break;case"select":g=ae({},g,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":g=Ya(s,g),d=Ya(s,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=_c)}Wn(u,d);var T;u=null;for(q in g)if(!d.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var k=g[q];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in d){var M=d[q];if(k=g?.[q],d.hasOwnProperty(q)&&M!==k&&(M!=null||k!=null))if(q==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Je("scroll",s),v||k===M||(v=[])):(v=v||[]).push(q,M))}u&&(v=v||[]).push("style",u);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},fv=function(s,o,u,d){u!==d&&(o.flags|=4)};function Ll(s,o){if(!et)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function F2(s,o,u){var d=o.pendingProps;switch(af(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return an(o.type)&&Ec(),Kt(o),null;case 3:return d=o.stateNode,na(),Ze(on),Ze(Ht),_f(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ac(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(Yf(Gn),Gn=null))),Ff(s,o),Kt(o),null;case 5:vf(o);var g=zi(kl.current);if(u=o.type,s!==null&&o.stateNode!=null)dv(s,o,u,d,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}if(s=zi(Sr.current),Ac(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Tr]=o,d[bl]=v,s=(o.mode&1)!==0,u){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(g=0;g<Tl.length;g++)Je(Tl[g],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Hu(d,v),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Je("invalid",d);break;case"textarea":Xa(d,v),Je("invalid",d)}Wn(u,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var k=v[T];T==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&wc(d.textContent,k,s),g=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&wc(d.textContent,k,s),g=["children",""+k]):i.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Je("scroll",d)}switch(u){case"input":_o(d),Qa(d,v,!0);break;case"textarea":_o(d),xs(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=_c)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ja(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[Tr]=o,s[bl]=d,hv(s,o,!1,!1),o.stateNode=s;e:{switch(T=Io(u,d),u){case"dialog":Je("cancel",s),Je("close",s),g=d;break;case"iframe":case"object":case"embed":Je("load",s),g=d;break;case"video":case"audio":for(g=0;g<Tl.length;g++)Je(Tl[g],s);g=d;break;case"source":Je("error",s),g=d;break;case"img":case"image":case"link":Je("error",s),Je("load",s),g=d;break;case"details":Je("toggle",s),g=d;break;case"input":Hu(s,d),g=xo(s,d),Je("invalid",s);break;case"option":g=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},g=ae({},d,{value:void 0}),Je("invalid",s);break;case"textarea":Xa(s,d),g=Ya(s,d),Je("invalid",s);break;default:g=d}Wn(u,g),k=g;for(v in k)if(k.hasOwnProperty(v)){var M=k[v];v==="style"?So(s,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ku(s,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ti(s,M):typeof M=="number"&&Ti(s,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Je("scroll",s):M!=null&&K(s,v,M,T))}switch(u){case"input":_o(s),Qa(s,d,!1);break;case"textarea":_o(s),xs(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Oe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?$n(s,!!d.multiple,v,!1):d.defaultValue!=null&&$n(s,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=_c)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(s&&o.stateNode!=null)fv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=zi(kl.current),zi(Sr.current),Ac(o)){if(d=o.stateNode,u=o.memoizedProps,d[Tr]=o,(v=d.nodeValue!==u)&&(s=_n,s!==null))switch(s.tag){case 3:wc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&wc(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Tr]=o,o.stateNode=d}return Kt(o),null;case 13:if(Ze(rt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(et&&xn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)g0(),Jo(),o.flags|=98560,v=!1;else if(v=Ac(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Tr]=o}else Jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else Gn!==null&&(Yf(Gn),Gn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?At===0&&(At=3):Zf())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return na(),Ff(s,o),s===null&&Sl(o.stateNode.containerInfo),Kt(o),null;case 10:return ff(o.type._context),Kt(o),null;case 17:return an(o.type)&&Ec(),Kt(o),null;case 19:if(Ze(rt),v=o.memoizedState,v===null)return Kt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Ll(v,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Dc(s),T!==null){for(o.flags|=128,Ll(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Xe()>oa&&(o.flags|=128,d=!0,Ll(v,!1),o.lanes=4194304)}else{if(!d)if(s=Dc(T),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ll(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!et)return Kt(o),null}else 2*Xe()-v.renderingStartTime>oa&&u!==1073741824&&(o.flags|=128,d=!0,Ll(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,u=rt.current,Qe(rt,d?u&1|2:u&1),o):(Kt(o),null);case 22:case 23:return Jf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(En&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function U2(s,o){switch(af(o),o.tag){case 1:return an(o.type)&&Ec(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return na(),Ze(on),Ze(Ht),_f(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return vf(o),null;case 13:if(Ze(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Jo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ze(rt),null;case 4:return na(),null;case 10:return ff(o.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var zc=!1,Gt=!1,B2=typeof WeakSet=="function"?WeakSet:Set,he=null;function sa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ut(s,o,d)}else u.current=null}function Uf(s,o,u){try{u()}catch(d){ut(s,o,d)}}var pv=!1;function z2(s,o){if(Xd=qr,s=qy(),$d(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,k=-1,M=-1,q=0,ee=0,te=s,Z=null;t:for(;;){for(var ue;te!==u||g!==0&&te.nodeType!==3||(k=T+g),te!==v||d!==0&&te.nodeType!==3||(M=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===s)break t;if(Z===u&&++q===g&&(k=T),Z===v&&++ee===d&&(M=T),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jd={focusedElem:s,selectionRange:u},qr=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,mt=de.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Qn(o.type,pe),mt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ut(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=pv,pv=!1,de}function Ml(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Uf(o,u,v)}g=g.next}while(g!==d)}}function $c(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Bf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function mv(s){var o=s.alternate;o!==null&&(s.alternate=null,mv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Tr],delete o[bl],delete o[nf],delete o[S2],delete o[I2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function gv(s){return s.tag===5||s.tag===3||s.tag===4}function yv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=_c));else if(d!==4&&(s=s.child,s!==null))for(zf(s,o,u),s=s.sibling;s!==null;)zf(s,o,u),s=s.sibling}function $f(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for($f(s,o,u),s=s.sibling;s!==null;)$f(s,o,u),s=s.sibling}var Mt=null,Yn=!1;function $s(s,o,u){for(u=u.child;u!==null;)vv(s,o,u),u=u.sibling}function vv(s,o,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ci,u)}catch{}switch(u.tag){case 5:Gt||sa(u,o);case 6:var d=Mt,g=Yn;Mt=null,$s(s,o,u),Mt=d,Yn=g,Mt!==null&&(Yn?(s=Mt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(Yn?(s=Mt,u=u.stateNode,s.nodeType===8?tf(s.parentNode,u):s.nodeType===1&&tf(s,u),Ds(s)):tf(Mt,u.stateNode));break;case 4:d=Mt,g=Yn,Mt=u.stateNode.containerInfo,Yn=!0,$s(s,o,u),Mt=d,Yn=g;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Uf(u,o,T),g=g.next}while(g!==d)}$s(s,o,u);break;case 1:if(!Gt&&(sa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){ut(u,o,k)}$s(s,o,u);break;case 21:$s(s,o,u);break;case 22:u.mode&1?(Gt=(d=Gt)||u.memoizedState!==null,$s(s,o,u),Gt=d):$s(s,o,u);break;default:$s(s,o,u)}}function wv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new B2),o.forEach(function(d){var g=X2.bind(null,s,d);u.has(d)||(u.add(d),d.then(g,g))})}}function Xn(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var v=s,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:Mt=k.stateNode,Yn=!1;break e;case 3:Mt=k.stateNode.containerInfo,Yn=!0;break e;case 4:Mt=k.stateNode.containerInfo,Yn=!0;break e}k=k.return}if(Mt===null)throw Error(n(160));vv(v,T,g),Mt=null,Yn=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(q){ut(g,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)_v(o,s),o=o.sibling}function _v(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xn(o,s),br(s),d&4){try{Ml(3,s,s.return),$c(3,s)}catch(pe){ut(s,s.return,pe)}try{Ml(5,s,s.return)}catch(pe){ut(s,s.return,pe)}}break;case 1:Xn(o,s),br(s),d&512&&u!==null&&sa(u,u.return);break;case 5:if(Xn(o,s),br(s),d&512&&u!==null&&sa(u,u.return),s.flags&32){var g=s.stateNode;try{Ti(g,"")}catch(pe){ut(s,s.return,pe)}}if(d&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&Eo(g,v),Io(k,T);var q=Io(k,v);for(T=0;T<M.length;T+=2){var ee=M[T],te=M[T+1];ee==="style"?So(g,te):ee==="dangerouslySetInnerHTML"?Ku(g,te):ee==="children"?Ti(g,te):K(g,ee,te,q)}switch(k){case"input":Ei(g,v);break;case"textarea":qu(g,v);break;case"select":var Z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?$n(g,!!v.multiple,ue,!1):Z!==!!v.multiple&&(v.defaultValue!=null?$n(g,!!v.multiple,v.defaultValue,!0):$n(g,!!v.multiple,v.multiple?[]:"",!1))}g[bl]=v}catch(pe){ut(s,s.return,pe)}}break;case 6:if(Xn(o,s),br(s),d&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(pe){ut(s,s.return,pe)}}break;case 3:if(Xn(o,s),br(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ds(o.containerInfo)}catch(pe){ut(s,s.return,pe)}break;case 4:Xn(o,s),br(s);break;case 13:Xn(o,s),br(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(qf=Xe())),d&4&&wv(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Gt=(q=Gt)||ee,Xn(o,s),Gt=q):Xn(o,s),br(s),d&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ml(4,Z,Z.return);break;case 1:sa(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){d=Z,u=Z.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){ut(d,u,pe)}}break;case 5:sa(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Tv(te);continue}}ue!==null?(ue.return=Z,he=ue):Tv(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{g=te.stateNode,q?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Ss("display",T))}catch(pe){ut(s,s.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(pe){ut(s,s.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Xn(o,s),br(s),d&4&&wv(s);break;case 21:break;default:Xn(o,s),br(s)}}function br(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(gv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Ti(g,""),d.flags&=-33);var v=yv(s);$f(s,v,g);break;case 3:case 4:var T=d.stateNode.containerInfo,k=yv(s);zf(s,k,T);break;default:throw Error(n(161))}}catch(M){ut(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function $2(s,o,u){he=s,xv(s)}function xv(s,o,u){for(var d=(s.mode&1)!==0;he!==null;){var g=he,v=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||zc;if(!T){var k=g.alternate,M=k!==null&&k.memoizedState!==null||Gt;k=zc;var q=Gt;if(zc=T,(Gt=M)&&!q)for(he=g;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?Sv(g):M!==null?(M.return=T,he=M):Sv(g);for(;v!==null;)he=v,xv(v),v=v.sibling;he=g,zc=k,Gt=q}Ev(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,he=v):Ev(s)}}function Ev(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||$c(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Gt)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Qn(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&T0(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}T0(o,T,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Ds(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gt||o.flags&512&&Bf(o)}catch(Z){ut(o,o.return,Z)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function Tv(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function Sv(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$c(4,o)}catch(M){ut(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(M){ut(o,g,M)}}var v=o.return;try{Bf(o)}catch(M){ut(o,v,M)}break;case 5:var T=o.return;try{Bf(o)}catch(M){ut(o,T,M)}}}catch(M){ut(o,o.return,M)}if(o===s){he=null;break}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break}he=o.return}}var W2=Math.ceil,Wc=ne.ReactCurrentDispatcher,Wf=ne.ReactCurrentOwner,Nn=ne.ReactCurrentBatchConfig,Fe=0,Rt=null,_t=null,Ot=0,En=0,ia=Os(0),At=0,Ol=null,Wi=0,Hc=0,Hf=0,Fl=null,un=null,qf=0,oa=1/0,ns=null,qc=!1,Kf=null,Ws=null,Kc=!1,Hs=null,Gc=0,Ul=0,Gf=null,Qc=-1,Yc=0;function nn(){return(Fe&6)!==0?Xe():Qc!==-1?Qc:Qc=Xe()}function qs(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Ot!==0?Ot&-Ot:A2.transition!==null?(Yc===0&&(Yc=al()),Yc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:jo(s.type)),s)}function Jn(s,o,u,d){if(50<Ul)throw Ul=0,Gf=null,Error(n(185));Ni(s,u,d),((Fe&2)===0||s!==Rt)&&(s===Rt&&((Fe&2)===0&&(Hc|=u),At===4&&Ks(s,Ot)),cn(s,d),u===1&&Fe===0&&(o.mode&1)===0&&(oa=Xe()+500,Sc&&Us()))}function cn(s,o){var u=s.callbackNode;ki(s,o);var d=$r(s,s===Rt?Ot:0);if(d===0)u!==null&&Co(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Co(u),o===1)s.tag===0?b2(bv.bind(null,s)):h0(bv.bind(null,s)),E2(function(){(Fe&6)===0&&Us()}),u=null;else{switch(fr(d)){case 1:u=Po;break;case 4:u=sl;break;case 16:u=Ai;break;case 536870912:u=Ro;break;default:u=Ai}u=Vv(u,Iv.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Iv(s,o){if(Qc=-1,Yc=0,(Fe&6)!==0)throw Error(n(327));var u=s.callbackNode;if(aa()&&s.callbackNode!==u)return null;var d=$r(s,s===Rt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Xc(s,d);else{o=d;var g=Fe;Fe|=2;var v=Cv();(Rt!==s||Ot!==o)&&(ns=null,oa=Xe()+500,qi(s,o));do try{K2();break}catch(k){Av(s,k)}while(!0);df(),Wc.current=v,Fe=g,_t!==null?o=0:(Rt=null,Ot=0,o=At)}if(o!==0){if(o===2&&(g=ol(s),g!==0&&(d=g,o=Qf(s,g))),o===1)throw u=Ol,qi(s,0),Ks(s,d),cn(s,Xe()),u;if(o===6)Ks(s,d);else{if(g=s.current.alternate,(d&30)===0&&!H2(g)&&(o=Xc(s,d),o===2&&(v=ol(s),v!==0&&(d=v,o=Qf(s,v))),o===1))throw u=Ol,qi(s,0),Ks(s,d),cn(s,Xe()),u;switch(s.finishedWork=g,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Ki(s,un,ns);break;case 3:if(Ks(s,d),(d&130023424)===d&&(o=qf+500-Xe(),10<o)){if($r(s,0)!==0)break;if(g=s.suspendedLanes,(g&d)!==d){nn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=ef(Ki.bind(null,s,un,ns),o);break}Ki(s,un,ns);break;case 4:if(Ks(s,d),(d&4194240)===d)break;for(o=s.eventTimes,g=-1;0<d;){var T=31-mn(d);v=1<<T,T=o[T],T>g&&(g=T),d&=~v}if(d=g,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*W2(d/1960))-d,10<d){s.timeoutHandle=ef(Ki.bind(null,s,un,ns),d);break}Ki(s,un,ns);break;case 5:Ki(s,un,ns);break;default:throw Error(n(329))}}}return cn(s,Xe()),s.callbackNode===u?Iv.bind(null,s):null}function Qf(s,o){var u=Fl;return s.current.memoizedState.isDehydrated&&(qi(s,o).flags|=256),s=Xc(s,o),s!==2&&(o=un,un=u,o!==null&&Yf(o)),s}function Yf(s){un===null?un=s:un.push.apply(un,s)}function H2(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!Kn(v(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(s,o){for(o&=~Hf,o&=~Hc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-mn(o),d=1<<u;s[u]=-1,o&=~d}}function bv(s){if((Fe&6)!==0)throw Error(n(327));aa();var o=$r(s,0);if((o&1)===0)return cn(s,Xe()),null;var u=Xc(s,o);if(s.tag!==0&&u===2){var d=ol(s);d!==0&&(o=d,u=Qf(s,d))}if(u===1)throw u=Ol,qi(s,0),Ks(s,o),cn(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ki(s,un,ns),cn(s,Xe()),null}function Xf(s,o){var u=Fe;Fe|=1;try{return s(o)}finally{Fe=u,Fe===0&&(oa=Xe()+500,Sc&&Us())}}function Hi(s){Hs!==null&&Hs.tag===0&&(Fe&6)===0&&aa();var o=Fe;Fe|=1;var u=Nn.transition,d=Le;try{if(Nn.transition=null,Le=1,s)return s()}finally{Le=d,Nn.transition=u,Fe=o,(Fe&6)===0&&Us()}}function Jf(){En=ia.current,Ze(ia)}function qi(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,x2(u)),_t!==null)for(u=_t.return;u!==null;){var d=u;switch(af(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ec();break;case 3:na(),Ze(on),Ze(Ht),_f();break;case 5:vf(d);break;case 4:na();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:ff(d.type._context);break;case 22:case 23:Jf()}u=u.return}if(Rt=s,_t=s=Gs(s.current,null),Ot=En=o,At=0,Ol=null,Hf=Hc=Wi=0,un=Fl=null,Bi!==null){for(o=0;o<Bi.length;o++)if(u=Bi[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=g,d.next=T}u.pending=d}Bi=null}return s}function Av(s,o){do{var u=_t;try{if(df(),Vc.current=Oc,jc){for(var d=st.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}jc=!1}if($i=0,Pt=bt=st=null,Nl=!1,Dl=0,Wf.current=null,u===null||u.return===null){At=1,Ol=o,_t=null;break}e:{var v=s,T=u.return,k=u,M=o;if(o=Ot,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=J0(T);if(ue!==null){ue.flags&=-257,Z0(ue,T,k,v,o),ue.mode&1&&X0(v,q,o),o=ue,M=q;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else de.add(M);break e}else{if((o&1)===0){X0(v,q,o),Zf();break e}M=Error(n(426))}}else if(et&&k.mode&1){var mt=J0(T);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Z0(mt,T,k,v,o),cf(ra(M,k));break e}}v=M=ra(M,k),At!==4&&(At=2),Fl===null?Fl=[v]:Fl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=Q0(v,M,o);E0(v,$);break e;case 1:k=M;var F=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ws===null||!Ws.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=Y0(v,k,o);E0(v,ie);break e}}v=v.return}while(v!==null)}Rv(u)}catch(me){o=me,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function Cv(){var s=Wc.current;return Wc.current=Oc,s===null?Oc:s}function Zf(){(At===0||At===3||At===2)&&(At=4),Rt===null||(Wi&268435455)===0&&(Hc&268435455)===0||Ks(Rt,Ot)}function Xc(s,o){var u=Fe;Fe|=2;var d=Cv();(Rt!==s||Ot!==o)&&(ns=null,qi(s,o));do try{q2();break}catch(g){Av(s,g)}while(!0);if(df(),Fe=u,Wc.current=d,_t!==null)throw Error(n(261));return Rt=null,Ot=0,At}function q2(){for(;_t!==null;)Pv(_t)}function K2(){for(;_t!==null&&!bi();)Pv(_t)}function Pv(s){var o=Dv(s.alternate,s,En);s.memoizedProps=s.pendingProps,o===null?Rv(s):_t=o,Wf.current=null}function Rv(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=F2(u,o,En),u!==null){_t=u;return}}else{if(u=U2(u,o),u!==null){u.flags&=32767,_t=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=s}while(o!==null);At===0&&(At=5)}function Ki(s,o,u){var d=Le,g=Nn.transition;try{Nn.transition=null,Le=1,G2(s,o,u,d)}finally{Nn.transition=g,Le=d}return null}function G2(s,o,u,d){do aa();while(Hs!==null);if((Fe&6)!==0)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Od(s,v),s===Rt&&(_t=Rt=null,Ot=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Kc||(Kc=!0,Vv(Ai,function(){return aa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Nn.transition,Nn.transition=null;var T=Le;Le=1;var k=Fe;Fe|=4,Wf.current=null,z2(s,u),_v(u,s),p2(Jd),qr=!!Xd,Jd=Xd=null,s.current=u,$2(u),zr(),Fe=k,Le=T,Nn.transition=v}else s.current=u;if(Kc&&(Kc=!1,Hs=s,Gc=g),v=s.pendingLanes,v===0&&(Ws=null),sc(u.stateNode),cn(s,Xe()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(qc)throw qc=!1,s=Kf,Kf=null,s;return(Gc&1)!==0&&s.tag!==0&&aa(),v=s.pendingLanes,(v&1)!==0?s===Gf?Ul++:(Ul=0,Gf=s):Ul=0,Us(),null}function aa(){if(Hs!==null){var s=fr(Gc),o=Nn.transition,u=Le;try{if(Nn.transition=null,Le=16>s?16:s,Hs===null)var d=!1;else{if(s=Hs,Hs=null,Gc=0,(Fe&6)!==0)throw Error(n(331));var g=Fe;for(Fe|=4,he=s.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var k=v.deletions;if(k!==null){for(var M=0;M<k.length;M++){var q=k[M];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Ml(8,ee,v)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(mv(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var mt=pe.sibling;pe.sibling=null,pe=mt}while(pe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ml(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var F=s.current;for(he=F;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=F;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:$c(9,k)}}catch(me){ut(k,k.return,me)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=g,Us(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ci,s)}catch{}d=!0}return d}finally{Le=u,Nn.transition=o}}return!1}function kv(s,o,u){o=ra(u,o),o=Q0(s,o,1),s=zs(s,o,1),o=nn(),s!==null&&(Ni(s,1,o),cn(s,o))}function ut(s,o,u){if(s.tag===3)kv(s,s,u);else for(;o!==null;){if(o.tag===3){kv(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ws===null||!Ws.has(d))){s=ra(u,s),s=Y0(o,s,1),o=zs(o,s,1),s=nn(),o!==null&&(Ni(o,1,s),cn(o,s));break}}o=o.return}}function Q2(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=nn(),s.pingedLanes|=s.suspendedLanes&u,Rt===s&&(Ot&u)===u&&(At===4||At===3&&(Ot&130023424)===Ot&&500>Xe()-qf?qi(s,0):Hf|=u),cn(s,o)}function Nv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Rs,Rs<<=1,(Rs&130023424)===0&&(Rs=4194304)));var u=nn();s=Zr(s,o),s!==null&&(Ni(s,o,u),cn(s,u))}function Y2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Nv(s,u)}function X2(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),Nv(s,u)}var Dv;Dv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||on.current)ln=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ln=!1,O2(s,o,u);ln=(s.flags&131072)!==0}else ln=!1,et&&(o.flags&1048576)!==0&&d0(o,bc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Bc(s,o),s=o.pendingProps;var g=Qo(o,Ht.current);ta(o,u),g=Tf(null,o,d,s,g,u);var v=Sf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,an(d)?(v=!0,Tc(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,gf(o),g.updater=Fc,o.stateNode=g,g._reactInternals=o,Rf(o,d,s,u),o=Vf(null,o,d,!0,v,u)):(o.tag=0,et&&v&&of(o),tn(null,o,g,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Bc(s,o),s=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=Z2(d),s=Qn(d,s),g){case 0:o=Df(null,o,d,s,u);break e;case 1:o=iv(null,o,d,s,u);break e;case 11:o=ev(null,o,d,s,u);break e;case 14:o=tv(null,o,d,Qn(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Qn(d,g),Df(s,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Qn(d,g),iv(s,o,d,g,u);case 3:e:{if(ov(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,g=v.element,x0(s,o),Nc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=ra(Error(n(423)),o),o=av(s,o,d,u,g);break e}else if(d!==g){g=ra(Error(n(424)),o),o=av(s,o,d,u,g);break e}else for(xn=Ms(o.stateNode.containerInfo.firstChild),_n=o,et=!0,Gn=null,u=w0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jo(),d===g){o=ts(s,o,u);break e}tn(s,o,d,u)}o=o.child}return o;case 5:return S0(o),s===null&&uf(o),d=o.type,g=o.pendingProps,v=s!==null?s.memoizedProps:null,T=g.children,Zd(d,g)?T=null:v!==null&&Zd(d,v)&&(o.flags|=32),sv(s,o),tn(s,o,T,u),o.child;case 6:return s===null&&uf(o),null;case 13:return lv(s,o,u);case 4:return yf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Zo(o,null,d,u):tn(s,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Qn(d,g),ev(s,o,d,g,u);case 7:return tn(s,o,o.pendingProps,u),o.child;case 8:return tn(s,o,o.pendingProps.children,u),o.child;case 12:return tn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,v=o.memoizedProps,T=g.value,Qe(Pc,d._currentValue),d._currentValue=T,v!==null)if(Kn(v.value,T)){if(v.children===g.children&&!on.current){o=ts(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){T=v.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=es(-1,u&-u),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),pf(v.return,u,o),k.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),pf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,ta(o,u),g=Rn(g),d=d(g),o.flags|=1,tn(s,o,d,u),o.child;case 14:return d=o.type,g=Qn(d,o.pendingProps),g=Qn(d.type,g),tv(s,o,d,g,u);case 15:return nv(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Qn(d,g),Bc(s,o),o.tag=1,an(d)?(s=!0,Tc(o)):s=!1,ta(o,u),K0(o,d,g),Rf(o,d,g,u),Vf(null,o,d,!0,s,u);case 19:return cv(s,o,u);case 22:return rv(s,o,u)}throw Error(n(156,o.tag))};function Vv(s,o){return rl(s,o)}function J2(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,o,u,d){return new J2(s,o,u,d)}function ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Z2(s){if(typeof s=="function")return ep(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===dt)return 14}return 2}function Gs(s,o){var u=s.alternate;return u===null?(u=Dn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Jc(s,o,u,d,g,v){var T=2;if(d=s,typeof s=="function")ep(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case C:return Gi(u.children,g,v,o);case b:T=8,g|=8;break;case R:return s=Dn(12,u,o,g|2),s.elementType=R,s.lanes=v,s;case N:return s=Dn(13,u,o,g),s.elementType=N,s.lanes=v,s;case We:return s=Dn(19,u,o,g),s.elementType=We,s.lanes=v,s;case be:return Zc(u,g,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break e;case L:T=9;break e;case z:T=11;break e;case dt:T=14;break e;case Vt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Dn(T,u,o,g),o.elementType=s,o.type=d,o.lanes=v,o}function Gi(s,o,u,d){return s=Dn(7,s,d,o),s.lanes=u,s}function Zc(s,o,u,d){return s=Dn(22,s,d,o),s.elementType=be,s.lanes=u,s.stateNode={isHidden:!1},s}function tp(s,o,u){return s=Dn(6,s,null,o),s.lanes=u,s}function np(s,o,u){return o=Dn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function eb(s,o,u,d,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function rp(s,o,u,d,g,v,T,k,M){return s=new eb(s,o,u,k,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Dn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(v),s}function tb(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function jv(s){if(!s)return Fs;s=s._reactInternals;e:{if(Hn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(an(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(an(u))return u0(s,u,o)}return o}function Lv(s,o,u,d,g,v,T,k,M){return s=rp(u,d,!0,s,g,v,T,k,M),s.context=jv(null),u=s.current,d=nn(),g=qs(u),v=es(d,g),v.callback=o??null,zs(u,v,g),s.current.lanes=g,Ni(s,g,d),cn(s,d),s}function eh(s,o,u,d){var g=o.current,v=nn(),T=qs(g);return u=jv(u),o.context===null?o.context=u:o.pendingContext=u,o=es(v,T),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=zs(g,o,T),s!==null&&(Jn(s,g,T,v),kc(s,g,T)),T}function th(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Mv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function sp(s,o){Mv(s,o),(s=s.alternate)&&Mv(s,o)}function nb(){return null}var Ov=typeof reportError=="function"?reportError:function(s){console.error(s)};function ip(s){this._internalRoot=s}nh.prototype.render=ip.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));eh(s,o,null,null)},nh.prototype.unmount=ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Hi(function(){eh(null,s,null,null)}),o[Qr]=null}};function nh(s){this._internalRoot=s}nh.prototype.unstable_scheduleHydration=function(s){if(s){var o=dl();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gn.length&&o!==0&&o<gn[u].priority;u++);gn.splice(u,0,s),u===0&&Do(s)}};function op(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function rh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function rb(s,o,u,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var q=th(T);v.call(q)}}var T=Lv(o,d,s,0,null,!1,!1,"",Fv);return s._reactRootContainer=T,s[Qr]=T.current,Sl(s.nodeType===8?s.parentNode:s),Hi(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof d=="function"){var k=d;d=function(){var q=th(M);k.call(q)}}var M=rp(s,0,!1,null,null,!1,!1,"",Fv);return s._reactRootContainer=M,s[Qr]=M.current,Sl(s.nodeType===8?s.parentNode:s),Hi(function(){eh(o,M,u,d)}),M}function sh(s,o,u,d,g){var v=u._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var k=g;g=function(){var M=th(T);k.call(M)}}eh(o,T,s,g)}else T=rb(u,o,s,g,d);return th(T)}cl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Be(o.pendingLanes);u!==0&&(ul(o,u|1),cn(o,Xe()),(Fe&6)===0&&(oa=Xe()+500,Us()))}break;case 13:Hi(function(){var d=Zr(s,1);if(d!==null){var g=nn();Jn(d,s,1,g)}}),sp(s,1)}},ko=function(s){if(s.tag===13){var o=Zr(s,134217728);if(o!==null){var u=nn();Jn(o,s,134217728,u)}sp(s,134217728)}},hl=function(s){if(s.tag===13){var o=qs(s),u=Zr(s,o);if(u!==null){var d=nn();Jn(u,s,o,d)}sp(s,o)}},dl=function(){return Le},fl=function(s,o){var u=Le;try{return Le=s,o()}finally{Le=u}},Fr=function(s,o,u){switch(o){case"input":if(Ei(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var g=xc(d);if(!g)throw Error(n(90));Ga(d),Ei(d,g)}}}break;case"textarea":qu(s,u);break;case"select":o=u.value,o!=null&&$n(s,!!u.multiple,o,!1)}},Qu=Xf,Yu=Hi;var sb={usingClientEntryPoint:!1,Events:[Al,Ko,xc,bs,As,Xf]},Bl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ib={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=rc(s),s===null?null:s.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||nb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Ci=ih.inject(ib),pn=ih}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sb,hn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(o))throw Error(n(200));return tb(s,o,null,u)},hn.createRoot=function(s,o){if(!op(s))throw Error(n(299));var u=!1,d="",g=Ov;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=rp(s,1,!1,null,null,u,!1,d,g),s[Qr]=o.current,Sl(s.nodeType===8?s.parentNode:s),new ip(o)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=rc(o),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return Hi(s)},hn.hydrate=function(s,o,u){if(!rh(o))throw Error(n(200));return sh(null,s,o,!0,u)},hn.hydrateRoot=function(s,o,u){if(!op(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,g=!1,v="",T=Ov;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Lv(o,null,s,1,u??null,g,!1,v,T),s[Qr]=o.current,Sl(s),d)for(s=0;s<d.length;s++)u=d[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new nh(o)},hn.render=function(s,o,u){if(!rh(o))throw Error(n(200));return sh(null,s,o,!1,u)},hn.unmountComponentAtNode=function(s){if(!rh(s))throw Error(n(40));return s._reactRootContainer?(Hi(function(){sh(null,null,s,!1,function(){s._reactRootContainer=null,s[Qr]=null})}),!0):!1},hn.unstable_batchedUpdates=Xf,hn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!rh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return sh(s,o,u,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Kv;function pb(){if(Kv)return up.exports;Kv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),up.exports=fb(),up.exports}var Gv;function mb(){if(Gv)return oh;Gv=1;var t=pb();return oh.createRoot=t.createRoot,oh.hydrateRoot=t.hydrateRoot,oh}var gb=mb();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function yb(t={}){function e(i,a){let{pathname:l="/",search:h="",hash:f=""}=fo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Wp("",{pathname:l,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),h="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof a=="string"?a:uu(a))}function r(i,a){Bn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return wb(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function Yv(t,e){return{usr:t.state,key:t.key,idx:e}}function Wp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||r||vb()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wb(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){h="POP";let A=y(),O=A==null?null:A-p;p=A,f&&f({action:h,location:V.location,delta:O})}function E(A,O){h="PUSH";let U=Wp(V.location,A,O);n&&n(U,A),p=y()+1;let K=Yv(U,p),ne=V.createHref(U);try{l.pushState(K,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;i.location.assign(ne)}a&&f&&f({action:h,location:V.location,delta:1})}function I(A,O){h="REPLACE";let U=Wp(V.location,A,O);n&&n(U,A),p=y();let K=Yv(U,p),ne=V.createHref(U);l.replaceState(K,"",ne),a&&f&&f({action:h,location:V.location,delta:0})}function D(A){return _b(A)}let V={get action(){return h},get location(){return t(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Qv,_),f=A,()=>{i.removeEventListener(Qv,_),f=null}},createHref(A){return e(i,A)},createURL:D,encodeLocation(A){let O=D(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:I,go(A){return l.go(A)}};return V}function _b(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function e1(t,e,n="/"){return xb(t,e,n,!1)}function xb(t,e,n,r){let i=typeof e=="string"?fo(e):e,a=cs(i.pathname||"/",n);if(a==null)return null;let l=t1(t);Eb(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=Db(a);h=kb(l[f],p,r)}return h}function t1(t,e=[],n=[],r="",i=!1){let a=(l,h,f=i,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;nt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=as([r,y.relativePath]),E=n.concat(y);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),t1(l.children,e,E,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:Pb(_,l.index),routesMeta:E})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let f of n1(l.path))a(l,h,!0,f)}),e}function n1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=n1(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function Eb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Rb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tb=/^:[\w-]+$/,Sb=3,Ib=2,bb=1,Ab=10,Cb=-2,Xv=t=>t==="*";function Pb(t,e){let n=t.split("/"),r=n.length;return n.some(Xv)&&(r+=Cb),e&&(r+=Ib),n.filter(i=>!Xv(i)).reduce((i,a)=>i+(Tb.test(a)?Sb:a===""?bb:Ab),r)}function Rb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kb(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:as([a,_.pathname]),pathnameBase:Mb(as([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=as([a,_.pathnameBase]))}return l}function jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=h[E]||"";l=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const I=h[E];return _&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function Nb(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Db(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vb(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fo(t):t;return{pathname:n?n.startsWith("/")?n:jb(n,e):e,search:Ob(r),hash:Fb(i)}}function jb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(t){let e=Lb(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zm(t,e,n,r=!1){let i;typeof t=="string"?i=fo(t):(i={...t},nt(!i.pathname||!i.pathname.includes("?"),dp("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),dp("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),dp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=Vb(i,h),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var as=t=>t.join("/").replace(/\/\/+/g,"/"),Mb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ub(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var r1=["POST","PUT","PATCH","DELETE"];new Set(r1);var Bb=["GET",...r1];new Set(Bb);var Da=P.createContext(null);Da.displayName="DataRouter";var ad=P.createContext(null);ad.displayName="DataRouterState";P.createContext(!1);var s1=P.createContext({isTransitioning:!1});s1.displayName="ViewTransition";var zb=P.createContext(new Map);zb.displayName="Fetchers";var $b=P.createContext(null);$b.displayName="Await";var or=P.createContext(null);or.displayName="Navigation";var Cu=P.createContext(null);Cu.displayName="Location";var ar=P.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var $m=P.createContext(null);$m.displayName="RouteError";function Wb(t,{relative:e}={}){nt(Va(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(or),{hash:i,pathname:a,search:l}=Pu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:as([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Va(){return P.useContext(Cu)!=null}function Or(){return nt(Va(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Cu).location}var i1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(t){P.useContext(or).static||P.useLayoutEffect(t)}function ws(){let{isDataRoute:t}=P.useContext(ar);return t?rA():Hb()}function Hb(){nt(Va(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Da),{basename:e,navigator:n}=P.useContext(or),{matches:r}=P.useContext(ar),{pathname:i}=Or(),a=JSON.stringify(Bm(r)),l=P.useRef(!1);return o1(()=>{l.current=!0}),P.useCallback((f,p={})=>{if(Bn(l.current,i1),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=zm(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:as([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,i,t])}P.createContext(null);function a1(){let{matches:t}=P.useContext(ar),e=t[t.length-1];return e?e.params:{}}function Pu(t,{relative:e}={}){let{matches:n}=P.useContext(ar),{pathname:r}=Or(),i=JSON.stringify(Bm(n));return P.useMemo(()=>zm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function qb(t,e){return l1(t,e)}function l1(t,e,n,r,i){nt(Va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(or),{matches:l}=P.useContext(ar),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";u1(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=Or(),I;if(e){let U=typeof e=="string"?fo(e):e;nt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),I=U}else I=E;let D=I.pathname||"/",V=D;if(y!=="/"){let U=y.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=e1(t,{pathname:V});Bn(_||A!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Bn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Xb(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:as([y,a.encodeLocation?a.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:as([y,a.encodeLocation?a.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),l,n,r,i);return e&&O?P.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},O):O}function Kb(){let t=nA(),e=Ub(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,l)}var Gb=P.createElement(Kb,null),Qb=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(ar.Provider,{value:this.props.routeContext},P.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yb({routeContext:t,match:e,children:n}){let r=P.useContext(Da);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ar.Provider,{value:t},n)}function Xb(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:E}=n,I=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||I){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,y,_)=>{let E,I=!1,D=null,V=null;n&&(E=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||Gb,h&&(f<0&&_===0?(u1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):f===_&&(I=!0,V=y.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,_+1)),O=()=>{let U;return E?U=D:I?U=V:y.route.Component?U=P.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,P.createElement(Yb,{match:y,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:U})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?P.createElement(Qb,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):O()},null)}function Wm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jb(t){let e=P.useContext(Da);return nt(e,Wm(t)),e}function Zb(t){let e=P.useContext(ad);return nt(e,Wm(t)),e}function eA(t){let e=P.useContext(ar);return nt(e,Wm(t)),e}function Hm(t){let e=eA(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tA(){return Hm("useRouteId")}function nA(){let t=P.useContext($m),e=Zb("useRouteError"),n=Hm("useRouteError");return t!==void 0?t:e.errors?.[n]}function rA(){let{router:t}=Jb("useNavigate"),e=Hm("useNavigate"),n=P.useRef(!1);return o1(()=>{n.current=!0}),P.useCallback(async(i,a={})=>{Bn(n.current,i1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Jv={};function u1(t,e,n){!e&&!Jv[t]&&(Jv[t]=!0,Bn(!1,n))}P.memo(sA);function sA({routes:t,future:e,state:n,unstable_onError:r}){return l1(t,void 0,n,r,e)}function iA({to:t,replace:e,state:n,relative:r}){nt(Va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(or);Bn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(ar),{pathname:l}=Or(),h=ws(),f=zm(t,Bm(a),l,r==="path"),p=JSON.stringify(f);return P.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function rs(t){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){nt(!Va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=fo(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,I=P.useMemo(()=>{let D=cs(f,l);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:E},navigationType:r}},[l,f,p,y,_,E,r]);return Bn(I!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:P.createElement(or.Provider,{value:h},P.createElement(Cu.Provider,{children:e,value:I}))}function aA({children:t,location:e}){return qb(Hp(t),e)}function Hp(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Hp(r.props.children,a));return}nt(r.type===rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Hp(r.props.children,a)),n.push(l)}),n}var wh="get",_h="application/x-www-form-urlencoded";function ld(t){return t!=null&&typeof t.tagName=="string"}function lA(t){return ld(t)&&t.tagName.toLowerCase()==="button"}function uA(t){return ld(t)&&t.tagName.toLowerCase()==="form"}function cA(t){return ld(t)&&t.tagName.toLowerCase()==="input"}function hA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dA(t,e){return t.button===0&&(!e||e==="_self")&&!hA(t)}var ah=null;function fA(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var pA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(t){return t!=null&&!pA.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):t}function mA(t,e){let n,r,i,a,l;if(uA(t)){let h=t.getAttribute("action");r=h?cs(h,e):null,n=t.getAttribute("method")||wh,i=fp(t.getAttribute("enctype"))||_h,a=new FormData(t)}else if(lA(t)||cA(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?cs(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wh,i=fp(t.getAttribute("formenctype"))||fp(h.getAttribute("enctype"))||_h,a=new FormData(h,t),!fA()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(ld(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,i=_h,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wA(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await yA(a,n);return l.links?l.links():[]}return[]}));return TA(r.flat(1).filter(vA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zv(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _A(t,e,{includeHydrateFallback:n}={}){return xA(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function xA(t){return[...new Set(t)]}function EA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(EA(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function c1(){let t=P.useContext(Da);return qm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SA(){let t=P.useContext(ad);return qm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Km=P.createContext(void 0);Km.displayName="FrameworkContext";function h1(){let t=P.useContext(Km);return qm(t,"You must render this element inside a <HydratedRouter> element"),t}function IA(t,e){let n=P.useContext(Km),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let V=O=>{O.forEach(U=>{l(U.isIntersecting)})},A=new IntersectionObserver(V,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[t]),P.useEffect(()=>{if(r){let V=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(V)}}},[r]);let I=()=>{i(!0)},D=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:$l(h,I),onBlur:$l(f,D),onMouseEnter:$l(p,I),onMouseLeave:$l(y,D),onTouchStart:$l(_,I)}]:[!1,E,{}]}function $l(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bA({page:t,...e}){let{router:n}=c1(),r=P.useMemo(()=>e1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(CA,{page:t,matches:r,...e}):null}function AA(t){let{manifest:e,routeModules:n}=h1(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return wA(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function CA({page:t,matches:e,...n}){let r=Or(),{manifest:i,routeModules:a}=h1(),{basename:l}=c1(),{loaderData:h,matches:f}=SA(),p=P.useMemo(()=>Zv(t,e,f,i,r,"data"),[t,e,f,i,r]),y=P.useMemo(()=>Zv(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,V=!1;if(e.forEach(O=>{let U=i.routes[O.route.id];!U||!U.hasLoader||(!p.some(K=>K.route.id===O.route.id)&&O.route.id in h&&a[O.route.id]?.shouldRevalidate||U.hasClientLoader?V=!0:D.add(O.route.id))}),D.size===0)return[];let A=gA(t,l,"data");return V&&D.size>0&&A.searchParams.set("_routes",e.filter(O=>D.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[l,h,r,i,p,e,t,a]),E=P.useMemo(()=>_A(y,i),[y,i]),I=AA(y);return P.createElement(P.Fragment,null,_.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:V})=>P.createElement("link",{key:D,nonce:n.nonce,...V})))}function PA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.9.4")}catch{}function RA({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=yb({window:n,v5Compat:!0}));let i=r.current,[a,l]=P.useState({action:i.action,location:i.location}),h=P.useCallback(f=>{P.startTransition(()=>l(f))},[l]);return P.useLayoutEffect(()=>i.listen(h),[i,h]),P.createElement(oA,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},I){let{basename:D}=P.useContext(or),V=typeof p=="string"&&f1.test(p),A,O=!1;if(typeof p=="string"&&V&&(A=p,d1))try{let R=new URL(window.location.href),j=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=cs(j.pathname,D);j.origin===R.origin&&L!=null?p=L+j.search+j.hash:O=!0}catch{Bn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Wb(p,{relative:i}),[K,ne,re]=IA(r,E),X=VA(p,{replace:l,state:h,target:f,preventScrollReset:y,relative:i,viewTransition:_});function C(R){e&&e(R),R.defaultPrevented||X(R)}let b=P.createElement("a",{...E,...re,href:A||U,onClick:O||a?e:C,ref:PA(I,ne),target:f,"data-discover":!V&&n==="render"?"true":void 0});return K&&!V?P.createElement(P.Fragment,null,b,P.createElement(bA,{page:U})):b});Ut.displayName="Link";var kA=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},y){let _=Pu(l,{relative:p.relative}),E=Or(),I=P.useContext(ad),{navigator:D,basename:V}=P.useContext(or),A=I!=null&&FA(_)&&h===!0,O=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,U=E.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(U=U.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&V&&(K=cs(K,V)||K);const ne=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let re=U===O||!i&&U.startsWith(O)&&U.charAt(ne)==="/",X=K!=null&&(K===O||!i&&K.startsWith(O)&&K.charAt(O.length)==="/"),C={isActive:re,isPending:X,isTransitioning:A},b=re?e:void 0,R;typeof r=="function"?R=r(C):R=[r,re?"active":null,X?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(C):a;return P.createElement(Ut,{...p,"aria-current":b,className:R,ref:y,style:j,to:l,viewTransition:h},typeof f=="function"?f(C):f)});kA.displayName="NavLink";var NA=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=wh,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},I)=>{let D=MA(),V=OA(h,{relative:p}),A=l.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&f1.test(h),U=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let ne=K.nativeEvent.submitter,re=ne?.getAttribute("formmethod")||l;D(ne||K.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:I,method:A,action:V,onSubmit:r?f:U,...E,"data-discover":!O&&t==="render"?"true":void 0})});NA.displayName="Form";function DA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(t){let e=P.useContext(Da);return nt(e,DA(t)),e}function VA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=ws(),f=Or(),p=Pu(t,{relative:a});return P.useCallback(y=>{if(dA(y,e)){y.preventDefault();let _=n!==void 0?n:uu(f)===uu(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var jA=0,LA=()=>`__${String(++jA)}__`;function MA(){let{router:t}=p1("useSubmit"),{basename:e}=P.useContext(or),n=tA();return P.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=mA(r,e);if(i.navigate===!1){let y=i.fetcherKey||LA();await t.fetch(y,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function OA(t,{relative:e}={}){let{basename:n}=P.useContext(or),r=P.useContext(ar);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Pu(t||".",{relative:e})},l=Or();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),uu(a)}function FA(t,{relative:e}={}){let n=P.useContext(s1);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=p1("useViewTransitionState"),i=Pu(t,{relative:e});if(!n.isTransitioning)return!1;let a=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(i.pathname,l)!=null||jh(i.pathname,a)!=null}const UA=()=>{};var ew={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,l||(E=64)),r.push(n[y],n[_],n[E],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new zA;const E=a<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $A=function(t){const e=m1(t);return g1.encodeByteArray(e,!0)},Lh=function(t){return $A(t).replace(/\./g,"")},y1=function(t){try{return g1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=()=>WA().__FIREBASE_DEFAULTS__,qA=()=>{if(typeof process>"u"||typeof ew>"u")return;const t=ew.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y1(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return UA()||HA()||qA()||KA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v1=t=>ud()?.emulatorHosts?.[t],GA=t=>{const e=v1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w1=()=>ud()?.config,_1=t=>ud()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(l)),""].join(".")}const Jl={};function XA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?t.emulator.push(e):t.prod.push(e);return t}function JA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tw=!1;function E1(t,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Jl[t]===e||Jl[t]||tw)return;Jl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=XA().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{tw=!0,l()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=JA(r),I=n("text"),D=document.getElementById(I)||document.createElement("span"),V=n("learnmore"),A=document.getElementById(V)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),y(A,V);const ne=p();f(U,O),K.append(U,D,A,ne),document.body.appendChild(K)}a?(D.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function eC(){const t=ud()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function iC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oC,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}}class po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?aC(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new lr(i,h,r)}}function aC(t,e){return t.replace(lC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lC=/\{\$([^}]+)}/g;function uC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(nw(a)&&nw(l)){if(!ai(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cC(t,e){const n=new hC(t,e);return n.subscribe.bind(n)}class hC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pp),i.error===void 0&&(i.error=pp),i.complete===void 0&&(i.complete=pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1e3,pC=2,mC=14400*1e3,gC=.5;function rw(t,e=fC,n=pC){const r=e*Math.pow(n,t),i=Math.round(gC*r*(Math.random()-.5)*2);return Math.min(mC,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wC(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(t){return t===Yi?void 0:t}function wC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const xC={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},EC=De.INFO,TC={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},SC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cd{constructor(e){this.name=e,this._logLevel=EC,this._logHandler=SC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const IC=(t,e)=>e.some(n=>t instanceof n);let sw,iw;function bC(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AC(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,qp=new WeakMap,A1=new WeakMap,mp=new WeakMap,Gm=new WeakMap;function CC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ri(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function PC(t){if(qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});qp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RC(t){Kp=t(Kp)}function kC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gp(this),e,...n);return A1.set(r,e.sort?e.sort():[e]),ri(r)}:AC().includes(t)?function(...e){return t.apply(gp(this),e),ri(b1.get(this))}:function(...e){return ri(t.apply(gp(this),e))}}function NC(t){return typeof t=="function"?kC(t):(t instanceof IDBTransaction&&PC(t),IC(t,bC())?new Proxy(t,Kp):t)}function ri(t){if(t instanceof IDBRequest)return CC(t);if(mp.has(t))return mp.get(t);const e=NC(t);return e!==t&&(mp.set(t,e),Gm.set(e,t)),e}const gp=t=>Gm.get(t);function C1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=ri(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ri(l.result),f.oldVersion,f.newVersion,ri(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const DC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],yp=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DC.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return yp.set(e,a),a}RC(t=>({...t,get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LC(t){return t.getComponent()?.type==="VERSION"}const Gp="@firebase/app",aw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new cd("@firebase/app"),MC="@firebase/app-compat",OC="@firebase/analytics-compat",FC="@firebase/analytics",UC="@firebase/app-check-compat",BC="@firebase/app-check",zC="@firebase/auth",$C="@firebase/auth-compat",WC="@firebase/database",HC="@firebase/data-connect",qC="@firebase/database-compat",KC="@firebase/functions",GC="@firebase/functions-compat",QC="@firebase/installations",YC="@firebase/installations-compat",XC="@firebase/messaging",JC="@firebase/messaging-compat",ZC="@firebase/performance",eP="@firebase/performance-compat",tP="@firebase/remote-config",nP="@firebase/remote-config-compat",rP="@firebase/storage",sP="@firebase/storage-compat",iP="@firebase/firestore",oP="@firebase/ai",aP="@firebase/firestore-compat",lP="firebase",uP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",cP={[Gp]:"fire-core",[MC]:"fire-core-compat",[FC]:"fire-analytics",[OC]:"fire-analytics-compat",[BC]:"fire-app-check",[UC]:"fire-app-check-compat",[zC]:"fire-auth",[$C]:"fire-auth-compat",[WC]:"fire-rtdb",[HC]:"fire-data-connect",[qC]:"fire-rtdb-compat",[KC]:"fire-fn",[GC]:"fire-fn-compat",[QC]:"fire-iid",[YC]:"fire-iid-compat",[XC]:"fire-fcm",[JC]:"fire-fcm-compat",[ZC]:"fire-perf",[eP]:"fire-perf-compat",[tP]:"fire-rc",[nP]:"fire-rc-compat",[rP]:"fire-gcs",[sP]:"fire-gcs-compat",[iP]:"fire-fst",[aP]:"fire-fst-compat",[oP]:"fire-vertex","fire-js":"fire-js",[lP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,hP=new Map,Yp=new Map;function lw(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(Yp.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(const n of Mh.values())lw(n,t);for(const n of hP.values())lw(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new po("app","Firebase",dP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=uP;function P1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=w1()),!n)throw si.create("no-options");const a=Mh.get(i);if(a){if(ai(n,a.options)&&ai(r,a.config))return a;throw si.create("duplicate-app",{appName:i})}const l=new _C(i);for(const f of Yp.values())l.addComponent(f);const h=new fP(n,r,l);return Mh.set(i,h),h}function Qm(t=Qp){const e=Mh.get(t);if(!e&&t===Qp&&w1())return P1();if(!e)throw si.create("no-app",{appName:t});return e}function Fn(t,e,n){let r=cP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(l.join(" "));return}jr(new sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firebase-heartbeat-database",mP=1,cu="firebase-heartbeat-store";let vp=null;function R1(){return vp||(vp=C1(pP,mP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),vp}async function gP(t){try{const n=(await R1()).transaction(cu),r=await n.objectStore(cu).get(k1(t));return await n.done,r}catch(e){if(e instanceof lr)hs.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function uw(t,e){try{const r=(await R1()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,k1(t)),await r.done}catch(n){if(n instanceof lr)hs.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=1024,vP=30;class wP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>vP){const i=EP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cw(),{heartbeatsToSend:n,unsentEntries:r}=_P(this._heartbeatsCache.heartbeats),i=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return hs.warn(e),""}}}function cw(){return new Date().toISOString().substring(0,10)}function _P(t,e=yP){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),hw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hw(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}function EP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){jr(new sr("platform-logger",e=>new jC(e),"PRIVATE")),jr(new sr("heartbeat",e=>new wP(e),"PRIVATE")),Fn(Gp,aw,t),Fn(Gp,aw,"esm2020"),Fn("fire-js","")}TP("");var SP="firebase",IP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(SP,IP,"app");const N1="@firebase/installations",Ym="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1e4,V1=`w:${Ym}`,j1="FIS_v2",bP="https://firebaseinstallations.googleapis.com/v1",AP=3600*1e3,CP="installations",PP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oo=new po(CP,PP,RP);function L1(t){return t instanceof lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1({projectId:t}){return`${bP}/projects/${t}/installations`}function O1(t){return{token:t.token,requestStatus:2,expiresIn:NP(t.expiresIn),creationTime:Date.now()}}async function F1(t,e){const r=(await e.json()).error;return oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function U1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kP(t,{refreshToken:e}){const n=U1(t);return n.append("Authorization",DP(e)),n}async function B1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function NP(t){return Number(t.replace("s","000"))}function DP(t){return`${j1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=M1(t),i=U1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:n,authVersion:j1,appId:t.appId,sdkVersion:V1},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await B1(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:O1(p.authToken)}}else throw await F1("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=/^[cdef][\w-]{21}$/,Xp="";function MP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=OP(t);return LP.test(n)?n:Xp}catch{return Xp}}function OP(t){return jP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;function W1(t,e){const n=hd(t);H1(n,e),FP(n,e)}function H1(t,e){const n=$1.get(t);if(n)for(const r of n)r(e)}function FP(t,e){const n=UP();n&&n.postMessage({key:t,fid:e}),BP()}let Ji=null;function UP(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=t=>{H1(t.data.key,t.data.fid)}),Ji}function BP(){$1.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="firebase-installations-database",$P=1,ao="firebase-installations-store";let wp=null;function Xm(){return wp||(wp=C1(zP,$P,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ao)}}})),wp}async function Oh(t,e){const n=hd(t),i=(await Xm()).transaction(ao,"readwrite"),a=i.objectStore(ao),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&W1(t,e.fid),e}async function q1(t){const e=hd(t),r=(await Xm()).transaction(ao,"readwrite");await r.objectStore(ao).delete(e),await r.done}async function dd(t,e){const n=hd(t),i=(await Xm()).transaction(ao,"readwrite"),a=i.objectStore(ao),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&W1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(t){let e;const n=await dd(t.appConfig,r=>{const i=WP(r),a=HP(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Xp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WP(t){const e=t||{fid:MP(),registrationStatus:0};return K1(e)}function HP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KP(t)}:{installationEntry:e}}async function qP(t,e){try{const n=await VP(t,e);return Oh(t.appConfig,n)}catch(n){throw L1(n)&&n.customData.serverCode===409?await q1(t.appConfig):await Oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function KP(t){let e=await dw(t.appConfig);for(;e.registrationStatus===1;)await z1(100),e=await dw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Jm(t);return r||n}return e}function dw(t){return dd(t,e=>{if(!e)throw oo.create("installation-not-found");return K1(e)})}function K1(t){return GP(t)?{fid:t.fid,registrationStatus:0}:t}function GP(t){return t.registrationStatus===1&&t.registrationTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP({appConfig:t,heartbeatServiceProvider:e},n){const r=YP(t,n),i=kP(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:V1,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await B1(()=>fetch(r,h));if(f.ok){const p=await f.json();return O1(p)}else throw await F1("Generate Auth Token",f)}function YP(t,{fid:e}){return`${M1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t,e=!1){let n;const r=await dd(t.appConfig,a=>{if(!G1(a))throw oo.create("not-registered");const l=a.authToken;if(!e&&ZP(l))return a;if(l.requestStatus===1)return n=XP(t,e),a;{if(!navigator.onLine)throw oo.create("app-offline");const h=tR(a);return n=JP(t,h),h}});return n?await n:r.authToken}async function XP(t,e){let n=await fw(t.appConfig);for(;n.authToken.requestStatus===1;)await z1(100),n=await fw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zm(t,e):r}function fw(t){return dd(t,e=>{if(!G1(e))throw oo.create("not-registered");const n=e.authToken;return nR(n)?{...e,authToken:{requestStatus:0}}:e})}async function JP(t,e){try{const n=await QP(t,e),r={...e,authToken:n};return await Oh(t.appConfig,r),n}catch(n){if(L1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await q1(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Oh(t.appConfig,r)}throw n}}function G1(t){return t!==void 0&&t.registrationStatus===2}function ZP(t){return t.requestStatus===2&&!eR(t)}function eR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AP}function tR(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function nR(t){return t.requestStatus===1&&t.requestTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t){const e=t,{installationEntry:n,registrationPromise:r}=await Jm(e);return r?r.catch(console.error):Zm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e=!1){const n=t;return await iR(n),(await Zm(n,e)).token}async function iR(t){const{registrationPromise:e}=await Jm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){if(!t||!t.options)throw _p("App Configuration");if(!t.name)throw _p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _p(t){return oo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="installations",aR="installations-internal",lR=t=>{const e=t.getProvider("app").getImmediate(),n=oR(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uR=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,Q1).getImmediate();return{getId:()=>rR(n),getToken:i=>sR(n,i)}};function cR(){jr(new sr(Q1,lR,"PUBLIC")),jr(new sr(aR,uR,"PRIVATE"))}cR();Fn(N1,Ym);Fn(N1,Ym,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="analytics",hR="firebase_id",dR="origin",fR=60*1e3,pR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",eg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new po("analytics","Analytics",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){if(!t.startsWith(eg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return sn.warn(e.message),""}return t}function Y1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function vR(t,e){const n=yR("firebase-js-sdk-policy",{createScriptURL:gR}),r=document.createElement("script"),i=`${eg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _R(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await Y1(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){sn.error(h)}t("config",i,a)}async function xR(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await Y1(n);for(const f of l){const p=h.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){sn.error(a)}}function ER(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,f]=l;await xR(t,e,n,h,f)}else if(a==="config"){const[h,f]=l;await _R(t,e,n,r,h,f)}else if(a==="consent"){const[h,f]=l;t("consent",h,f)}else if(a==="get"){const[h,f,p]=l;t("get",h,f,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){sn.error(h)}}return i}function TR(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=ER(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function SR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(eg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=30,bR=1e3;class AR{constructor(e={},n=bR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const X1=new AR;function CR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PR(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:CR(n)},i=pR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function RR(t,e=X1,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Sn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Sn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new DR;return setTimeout(async()=>{h.abort()},fR),J1({appId:r,apiKey:i,measurementId:a},l,h,e)}async function J1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=X1){const{appId:a,measurementId:l}=t;try{await kR(r,e)}catch(h){if(l)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await PR(t);return i.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!NR(f)){if(i.deleteThrottleMetadata(a),l)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:l};throw h}const p=Number(f?.customData?.httpStatus)===503?rw(n,i.intervalMillis,IR):rw(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,y),sn.debug(`Calling attemptFetch again in ${p} millis`),J1(t,y,r,i)}}function kR(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NR(t){if(!(t instanceof lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function VR(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function jR(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(){if(S1())try{await I1()}catch(t){return sn.warn(Sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return sn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MR(t,e,n,r,i,a,l){const h=RR(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>sn.error(E)),e.push(h);const f=LR().then(E=>{if(E)return r.getId()}),[p,y]=await Promise.all([h,f]);SR(a)||vR(a,p.measurementId),i("js",new Date);const _=l?.config??{};return _[dR]="firebase",_.update=!0,y!=null&&(_[hR]=y),i("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.app=e}_delete(){return delete ya[this.app.options.appId],Promise.resolve()}}let ya={},pw=[];const mw={};let xp="dataLayer",FR="gtag",gw,tg,yw=!1;function UR(){const t=[];if(T1()&&t.push("This is a browser extension environment."),iC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function BR(t,e,n){UR();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(ya[r]!=null)throw Sn.create("already-exists",{id:r});if(!yw){wR(xp);const{wrappedGtag:a,gtagCore:l}=TR(ya,pw,mw,xp,FR);tg=a,gw=l,yw=!0}return ya[r]=MR(t,pw,mw,e,gw,xp,n),new OR(t)}function zR(t=Qm()){t=Dt(t);const e=mo(t,Fh);return e.isInitialized()?e.getImmediate():$R(t)}function $R(t,e={}){const n=mo(t,Fh);if(n.isInitialized()){const i=n.getImmediate();if(ai(e,n.getOptions()))return i;throw Sn.create("already-initialized")}return n.initialize({options:e})}function WR(t,e,n){t=Dt(t),jR(tg,ya[t.app.options.appId],e,n).catch(r=>sn.error(r))}function HR(t,e,n,r){t=Dt(t),VR(tg,ya[t.app.options.appId],e,n,r).catch(i=>sn.error(i))}const vw="@firebase/analytics",ww="0.10.19";function qR(){jr(new sr(Fh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return BR(r,i,n)},"PUBLIC")),jr(new sr("analytics-internal",t,"PRIVATE")),Fn(vw,ww),Fn(vw,ww,"esm2020");function t(e){try{const n=e.getProvider(Fh).getImmediate();return{logEvent:(r,i,a)=>HR(n,r,i,a),setUserProperties:(r,i)=>WR(n,r,i)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}qR();function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=Z1,eE=new po("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new cd("@firebase/auth");function GR(t,...e){Uh.logLevel<=De.WARN&&Uh.warn(`Auth (${La}): ${t}`,...e)}function xh(t,...e){Uh.logLevel<=De.ERROR&&Uh.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw rg(t,...e)}function nr(t,...e){return rg(t,...e)}function ng(t,e,n){const r={...KR(),[e]:n};return new po("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return ng(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),ng(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eE.create(t,...e)}function we(t,e,...n){if(!t)throw rg(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function ds(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){return typeof self<"u"&&self.location?.href||""}function YR(){return _w()==="http:"||_w()==="https:"}function _w(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||T1()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=ZA()||nC()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tk=new ku(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vi(t,e,n,r,i={}){return nE(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Ru({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return tC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ja(t.emulatorConfig.host)&&(p.credentials="include"),tE.fetch()(await rE(t,t.config.apiHost,n,h),p)})}async function nE(t,e,n){t._canInitEmulator=!1;const r={...ZR,...e};try{const i=new rk(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw lh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw lh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw lh(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ng(t,y,p);zn(t,y)}}catch(i){if(i instanceof lr)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function Nu(t,e,n,r,i={}){const a=await vi(t,e,n,r,i);return"mfaPendingCredential"in a&&zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rE(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?sg(t.config,i):`${t.config.apiScheme}://${i}`;return ek.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function nk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),tk.get())})}}function lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function xw(t){return t!==void 0&&t.enterprise!==void 0}class sk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ik(t,e){return vi(t,"GET","/v2/recaptchaConfig",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ak(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=ig(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Zl(Ep(i.auth_time)),issuedAtTime:Zl(Ep(i.iat)),expirationTime:Zl(Ep(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ep(t){return Number(t)*1e3}function ig(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=y1(n);return i?JSON.parse(i):(xh("Failed to decode base64 JWT payload"),null)}catch(i){return xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ew(t){const e=ig(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&lk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){const e=t.auth,n=await t.getIdToken(),r=await hu(t,Bh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?sE(i.providerUserInfo):[],l=hk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Zp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function ck(t){const e=Dt(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){const n=await nE(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await rE(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ja(t.emulatorConfig.host)&&(f.credentials="include"),tE.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fk(t,e){return vi(t,"POST","/v2/accounts:revokeToken",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await dk(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new va;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(we(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new uk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ak(this,e)}reload(){return ck(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await hu(this,ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:I,providerData:D,stsTokenManager:V}=n;we(_&&V,e,"internal-error");const A=va.fromJSON(this.name,V);we(typeof _=="string",e,"internal-error"),Ys(r,e.name),Ys(i,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof I=="boolean",e,"internal-error"),Ys(a,e.name),Ys(l,e.name),Ys(h,e.name),Ys(f,e.name),Ys(p,e.name),Ys(y,e.name);const O=new er({uid:_,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:A,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(O.providerData=D.map(U=>({...U}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new va;i.updateFromServerResponse(n);const a=new er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new va;h.updateFromIdToken(r);const f=new er({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Zp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function os(t){ds(t instanceof Function,"Expected a class definition");let e=Tw.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iE.type="NONE";const Sw=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Eh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(os(Sw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||os(Sw);const l=Eh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(l);if(y){let _;if(typeof y=="string"){const E=await Bh(e,{idToken:y}).catch(()=>{});if(!E)break;_=await er._fromGetAccountInfoResponse(e,E,y)}else _=er._fromJSON(e,y);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new wa(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new wa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hE(e))return"Blackberry";if(dE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(cE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function oE(t=Zt()){return/firefox\//i.test(t)}function aE(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(t=Zt()){return/crios\//i.test(t)}function uE(t=Zt()){return/iemobile/i.test(t)}function cE(t=Zt()){return/android/i.test(t)}function hE(t=Zt()){return/blackberry/i.test(t)}function dE(t=Zt()){return/webos/i.test(t)}function og(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pk(t=Zt()){return og(t)&&!!window.navigator?.standalone}function mk(){return rC()&&document.documentMode===10}function fE(t=Zt()){return og(t)||cE(t)||dE(t)||hE(t)||/windows phone/i.test(t)||uE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e=[]){let n;switch(t){case"Browser":n=Iw(Zt());break;case"Worker":n=`${Iw(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e={}){return vi(t,"GET","/v2/passwordPolicy",yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=6;class wk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ls(this));const n=e?Dt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yk(this),n=new wk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wi(t){return Dt(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=cC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xk(t){fd=t}function mE(t){return fd.loadJS(t)}function Ek(){return fd.recaptchaEnterpriseScript}function Tk(){return fd.gapiScript}function Sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ik{constructor(){this.enterprise=new bk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ak="recaptcha-enterprise",gE="NO_RECAPTCHA";class Ck{constructor(e){this.type=Ak,this.auth=wi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{ik(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new sk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;xw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(gE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ik().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&xw(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Ek();f.length!==0&&(f+=h),mE(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function Aw(t,e,n,r=!1,i=!1){const a=new Ck(t);let l;if(i)l=gE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function em(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Aw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Aw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){const n=mo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ai(a,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function Rk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kk(t,e,n){const r=wi(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=yE(e),{host:l,port:h}=Nk(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(ai(p,r.config.emulator)&&ai(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ja(l)?(x1(`${a}//${l}${f}`),E1("Auth",!0)):Dk()}function yE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nk(t){const e=yE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Cw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Cw(l)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function Vk(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e){return Nu(t,"POST","/v1/accounts:signInWithPassword",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}async function Mk(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends ag{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,n,"signInWithPassword",jk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,r,"signUpPassword",Vk);case"emailLink":return Mk(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e){return Nu(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="http://localhost";class lo extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new lo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return _a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_a(e,n)}buildRequest(){const e={requestUri:Ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uk(t){const e=Hl(ql(t)).link,n=e?Hl(ql(e)).deep_link_id:null,r=Hl(ql(t)).deep_link_id;return(r?Hl(ql(r)).link:null)||r||n||e||t}class lg{constructor(e){const n=Hl(ql(e)),r=n.apiKey??null,i=n.oobCode??null,a=Fk(n.mode??null);we(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Uk(e);try{return new lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lg.parseLink(n);return we(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Du{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Du{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Du{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e){return Nu(t,"POST","/v1/accounts:signUp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await er._fromIdTokenResponse(e,r,i),l=Pw(r);return new uo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Pw(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $h(e,n,r,i)}}function vE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,a,e,r):a})}async function zk(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(ls(r));const i="reauthenticate";try{const a=await hu(t,vE(r,i,e,t),n);we(a.idToken,r,"internal-error");const l=ig(a.idToken);we(l,r,"internal-error");const{sub:h}=l;return we(t.uid===h,r,"user-mismatch"),uo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(t,e,n=!1){if(Tn(t.app))return Promise.reject(ls(t));const r="signIn",i=await vE(t,r,e),a=await uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Wk(t,e){return wE(wi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(t){const e=wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xE(t,e,n){if(Tn(t.app))return Promise.reject(ls(t));const r=wi(t),l=await em(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_E(t),f}),h=await uo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function EE(t,e,n){return Tn(t.app)?Promise.reject(ls(t)):Wk(Dt(t),Ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_E(t),r})}function Hk(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function qk(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function Vu(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Kk(t){return Dt(t).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Qk=10;class SE extends TE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);mk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SE.type="LOCAL";const Yk=SE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends TE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IE.type="SESSION";const bE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await Xk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=cg("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Zk(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function eN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){return navigator?.serviceWorker?.controller||null}function nN(){return AE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebaseLocalStorageDb",rN=1,Hh="firebaseLocalStorage",PE="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function sN(){const t=indexedDB.deleteDatabase(CE);return new ju(t).toPromise()}function tm(){const t=indexedDB.open(CE,rN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:PE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await sN(),e(await tm()))})})}async function Rw(t,e,n){const r=md(t,!0).put({[PE]:e,value:n});return new ju(r).toPromise()}async function iN(t,e){const n=md(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function kw(t,e){const n=md(t,!0).delete(e);return new ju(n).toPromise()}const oN=800,aN=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new Jk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await Rw(e,Wh,"1"),await kw(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=md(i,!1).getAll();return new ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const lN=RE;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){return e?os(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uN(t){return wE(t.auth,new hg(t),t.bypassAuthState)}function cN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),$k(n,new hg(t),t.bypassAuthState)}async function hN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),zk(n,new hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return cN;default:zn(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new ku(2e3,1e4);async function DE(t,e,n){if(Tn(t.app))return Promise.reject(nr(t,"operation-not-supported-in-this-environment"));const r=wi(t);QR(t,e,ug);const i=kE(r,n);return new Zi(r,"signInViaPopup",e,i).executeNotNull()}class Zi extends NE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dN.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="pendingRedirect",Th=new Map;class pN extends NE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await mN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mN(t,e){const n=vN(e),r=yN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gN(t,e){Th.set(t._key(),e)}function yN(t){return os(t._redirectPersistence)}function vN(t){return Eh(fN,t.config.apiKey,t.name)}async function wN(t,e,n=!1){if(Tn(t.app))return Promise.reject(ls(t));const r=wi(t),i=kE(r,e),l=await new pN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=600*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!VE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(nr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_N&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IN=/^https?/;async function bN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TN(t);for(const n of e)try{if(AN(n))return}catch{}zn(t,"unauthorized-domain")}function AN(t){const e=Jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!IN.test(n))return!1;if(SN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new ku(3e4,6e4);function Dw(){const t=Cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PN(t){return new Promise((e,n)=>{function r(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),n(nr(t,"network-request-failed"))},timeout:CN.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)r();else{const i=Sk("iframefcb");return Cr()[i]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},mE(`${Tk()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function RN(t){return Sh=Sh||PN(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new ku(5e3,15e3),NN="__/auth/iframe",DN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sg(e,DN):`https://${t.config.authDomain}/${NN}`,r={apiKey:e.apiKey,appName:t.name,v:La},i=jN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ru(r).slice(1)}`}async function MN(t){const e=await RN(t),n=Cr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:LN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=nr(t,"network-request-failed"),h=Cr().setTimeout(()=>{a(l)},kN.get());function f(){Cr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,UN=600,BN="_blank",zN="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(t,e,n,r=FN,i=UN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...ON,width:r.toString(),height:i.toString(),top:a,left:l},p=Zt().toLowerCase();n&&(h=lE(p)?BN:n),oE(p)&&(e=e||zN,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[I,D])=>`${E}${I}=${D},`,"");if(pk(p)&&h!=="_self")return WN(e||"",h),new Vw(null);const _=window.open(e||"",h,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new Vw(_)}function WN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",qN="emulator/auth/handler",KN=encodeURIComponent("fac");async function jw(t,e,n,r,i,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:i};if(e instanceof ug){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",uC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof Du){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${KN}=${encodeURIComponent(f)}`:"";return`${GN(t)}?${Ru(h).slice(1)}${p}`}function GN({config:t}){return t.emulator?sg(t,qN):`https://${t.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=wN,this._overrideRedirectResult=gN}async _openPopup(e,n,r,i){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await jw(e,n,r,Jp(),i);return $N(e,a,cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await jw(e,n,r,Jp(),i);return Zk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MN(e),r=new xN(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},i=>{const a=i?.[0]?.[Tp];a!==void 0&&n(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fE()||aE()||og()}}const YN=QN;var Lw="@firebase/auth",Mw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZN(t){jr(new sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(t)},p=new _k(r,i,a,f);return Rk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new sr("auth-internal",e=>{const n=wi(e.getProvider("auth").getImmediate());return(r=>new XN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(Lw,Mw,JN(t)),Fn(Lw,Mw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=300,t5=_1("authIdTokenMaxAge")||e5;let Ow=null;const n5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t5)return;const i=n?.token;Ow!==i&&(Ow=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function r5(t=Qm()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Pk(t,{popupRedirectResolver:YN,persistence:[lN,Yk,bE]}),r=_1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=n5(a.toString());qk(n,l,()=>l(n.currentUser)),Hk(n,h=>l(h))}}const i=v1("auth");return i&&kk(n,`http://${i}`),n}function s5(){return document.getElementsByTagName("head")?.[0]??document}xk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=nr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",s5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZN("Browser");var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ii,jE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(j,L,z){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return b.prototype[L].apply(j,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,R){R||(R=0);const j=Array(16);if(typeof b=="string")for(var L=0;L<16;++L)j[L]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(L=0;L<16;++L)j[L]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],L=C.g[2];let z=C.g[3],N;N=b+(z^R&(L^z))+j[0]+3614090360&4294967295,b=R+(N<<7&4294967295|N>>>25),N=z+(L^b&(R^L))+j[1]+3905402710&4294967295,z=b+(N<<12&4294967295|N>>>20),N=L+(R^z&(b^R))+j[2]+606105819&4294967295,L=z+(N<<17&4294967295|N>>>15),N=R+(b^L&(z^b))+j[3]+3250441966&4294967295,R=L+(N<<22&4294967295|N>>>10),N=b+(z^R&(L^z))+j[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=z+(L^b&(R^L))+j[5]+1200080426&4294967295,z=b+(N<<12&4294967295|N>>>20),N=L+(R^z&(b^R))+j[6]+2821735955&4294967295,L=z+(N<<17&4294967295|N>>>15),N=R+(b^L&(z^b))+j[7]+4249261313&4294967295,R=L+(N<<22&4294967295|N>>>10),N=b+(z^R&(L^z))+j[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=z+(L^b&(R^L))+j[9]+2336552879&4294967295,z=b+(N<<12&4294967295|N>>>20),N=L+(R^z&(b^R))+j[10]+4294925233&4294967295,L=z+(N<<17&4294967295|N>>>15),N=R+(b^L&(z^b))+j[11]+2304563134&4294967295,R=L+(N<<22&4294967295|N>>>10),N=b+(z^R&(L^z))+j[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=z+(L^b&(R^L))+j[13]+4254626195&4294967295,z=b+(N<<12&4294967295|N>>>20),N=L+(R^z&(b^R))+j[14]+2792965006&4294967295,L=z+(N<<17&4294967295|N>>>15),N=R+(b^L&(z^b))+j[15]+1236535329&4294967295,R=L+(N<<22&4294967295|N>>>10),N=b+(L^z&(R^L))+j[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=z+(R^L&(b^R))+j[6]+3225465664&4294967295,z=b+(N<<9&4294967295|N>>>23),N=L+(b^R&(z^b))+j[11]+643717713&4294967295,L=z+(N<<14&4294967295|N>>>18),N=R+(z^b&(L^z))+j[0]+3921069994&4294967295,R=L+(N<<20&4294967295|N>>>12),N=b+(L^z&(R^L))+j[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=z+(R^L&(b^R))+j[10]+38016083&4294967295,z=b+(N<<9&4294967295|N>>>23),N=L+(b^R&(z^b))+j[15]+3634488961&4294967295,L=z+(N<<14&4294967295|N>>>18),N=R+(z^b&(L^z))+j[4]+3889429448&4294967295,R=L+(N<<20&4294967295|N>>>12),N=b+(L^z&(R^L))+j[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=z+(R^L&(b^R))+j[14]+3275163606&4294967295,z=b+(N<<9&4294967295|N>>>23),N=L+(b^R&(z^b))+j[3]+4107603335&4294967295,L=z+(N<<14&4294967295|N>>>18),N=R+(z^b&(L^z))+j[8]+1163531501&4294967295,R=L+(N<<20&4294967295|N>>>12),N=b+(L^z&(R^L))+j[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=z+(R^L&(b^R))+j[2]+4243563512&4294967295,z=b+(N<<9&4294967295|N>>>23),N=L+(b^R&(z^b))+j[7]+1735328473&4294967295,L=z+(N<<14&4294967295|N>>>18),N=R+(z^b&(L^z))+j[12]+2368359562&4294967295,R=L+(N<<20&4294967295|N>>>12),N=b+(R^L^z)+j[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=z+(b^R^L)+j[8]+2272392833&4294967295,z=b+(N<<11&4294967295|N>>>21),N=L+(z^b^R)+j[11]+1839030562&4294967295,L=z+(N<<16&4294967295|N>>>16),N=R+(L^z^b)+j[14]+4259657740&4294967295,R=L+(N<<23&4294967295|N>>>9),N=b+(R^L^z)+j[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=z+(b^R^L)+j[4]+1272893353&4294967295,z=b+(N<<11&4294967295|N>>>21),N=L+(z^b^R)+j[7]+4139469664&4294967295,L=z+(N<<16&4294967295|N>>>16),N=R+(L^z^b)+j[10]+3200236656&4294967295,R=L+(N<<23&4294967295|N>>>9),N=b+(R^L^z)+j[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=z+(b^R^L)+j[0]+3936430074&4294967295,z=b+(N<<11&4294967295|N>>>21),N=L+(z^b^R)+j[3]+3572445317&4294967295,L=z+(N<<16&4294967295|N>>>16),N=R+(L^z^b)+j[6]+76029189&4294967295,R=L+(N<<23&4294967295|N>>>9),N=b+(R^L^z)+j[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=z+(b^R^L)+j[12]+3873151461&4294967295,z=b+(N<<11&4294967295|N>>>21),N=L+(z^b^R)+j[15]+530742520&4294967295,L=z+(N<<16&4294967295|N>>>16),N=R+(L^z^b)+j[2]+3299628645&4294967295,R=L+(N<<23&4294967295|N>>>9),N=b+(L^(R|~z))+j[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=z+(R^(b|~L))+j[7]+1126891415&4294967295,z=b+(N<<10&4294967295|N>>>22),N=L+(b^(z|~R))+j[14]+2878612391&4294967295,L=z+(N<<15&4294967295|N>>>17),N=R+(z^(L|~b))+j[5]+4237533241&4294967295,R=L+(N<<21&4294967295|N>>>11),N=b+(L^(R|~z))+j[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=z+(R^(b|~L))+j[3]+2399980690&4294967295,z=b+(N<<10&4294967295|N>>>22),N=L+(b^(z|~R))+j[10]+4293915773&4294967295,L=z+(N<<15&4294967295|N>>>17),N=R+(z^(L|~b))+j[1]+2240044497&4294967295,R=L+(N<<21&4294967295|N>>>11),N=b+(L^(R|~z))+j[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=z+(R^(b|~L))+j[15]+4264355552&4294967295,z=b+(N<<10&4294967295|N>>>22),N=L+(b^(z|~R))+j[6]+2734768916&4294967295,L=z+(N<<15&4294967295|N>>>17),N=R+(z^(L|~b))+j[13]+1309151649&4294967295,R=L+(N<<21&4294967295|N>>>11),N=b+(L^(R|~z))+j[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=z+(R^(b|~L))+j[11]+3174756917&4294967295,z=b+(N<<10&4294967295|N>>>22),N=L+(b^(z|~R))+j[2]+718787259&4294967295,L=z+(N<<15&4294967295|N>>>17),N=R+(z^(L|~b))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,j=this.C;let L=this.h,z=0;for(;z<b;){if(L==0)for(;z<=R;)i(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<b;)if(j[L++]=C.charCodeAt(z++),L==this.blockSize){i(this,j),L=0;break}}else for(;z<b;)if(j[L++]=C[z++],L==this.blockSize){i(this,j),L=0;break}}this.h=L,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)C[b++]=this.g[R]>>>j&255;return C};function a(C,b){var R=h;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function l(C,b){this.h=b;const R=[];let j=!0;for(let L=C.length-1;L>=0;L--){const z=C[L]|0;j&&z==b||(R[L]=z,j=!1)}this.g=R}var h={};function f(C){return-128<=C&&C<128?a(C,function(b){return new l([b|0],b<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return A(p(-C));const b=[];let R=1;for(let j=0;C>=R;j++)b[j]=C/R|0,R*=4294967296;return new l(b,0)}function y(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return A(y(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(b,8));let j=_;for(let z=0;z<C.length;z+=8){var L=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+L),b);L<8?(L=p(Math.pow(b,L)),j=j.j(L).add(p(N))):(j=j.j(R),j=j.add(p(N)))}return j}var _=f(0),E=f(1),I=f(16777216);t=l.prototype,t.m=function(){if(V(this))return-A(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);C+=(j>=0?j:4294967296+j)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(V(this))return"-"+A(this).toString(C);const b=p(Math.pow(C,6));var R=this;let j="";for(;;){const L=ne(R,b).g;R=O(R,L.j(b));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=L,D(R))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function V(C){return C.h==-1}t.l=function(C){return C=O(this,C),V(C)?-1:D(C)?0:1};function A(C){const b=C.g.length,R=[];for(let j=0;j<b;j++)R[j]=~C.g[j];return new l(R,~C.h).add(E)}t.abs=function(){return V(this)?A(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let j=0;for(let L=0;L<=b;L++){let z=j+(this.i(L)&65535)+(C.i(L)&65535),N=(z>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);j=N>>>16,z&=65535,N&=65535,R[L]=N<<16|z}return new l(R,R[R.length-1]&-2147483648?-1:0)};function O(C,b){return C.add(A(b))}t.j=function(C){if(D(this)||D(C))return _;if(V(this))return V(C)?A(this).j(A(C)):A(A(this).j(C));if(V(C))return A(this.j(A(C)));if(this.l(I)<0&&C.l(I)<0)return p(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var j=0;j<2*b;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<C.g.length;L++){const z=this.i(j)>>>16,N=this.i(j)&65535,We=C.i(L)>>>16,dt=C.i(L)&65535;R[2*j+2*L]+=N*dt,U(R,2*j+2*L),R[2*j+2*L+1]+=z*dt,U(R,2*j+2*L+1),R[2*j+2*L+1]+=N*We,U(R,2*j+2*L+1),R[2*j+2*L+2]+=z*We,U(R,2*j+2*L+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new l(R,0)};function U(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function K(C,b){this.g=C,this.h=b}function ne(C,b){if(D(b))throw Error("division by zero");if(D(C))return new K(_,_);if(V(C))return b=ne(A(C),b),new K(A(b.g),A(b.h));if(V(b))return b=ne(C,A(b)),new K(A(b.g),b.h);if(C.g.length>30){if(V(C)||V(b))throw Error("slowDivide_ only works with positive integers.");for(var R=E,j=b;j.l(C)<=0;)R=re(R),j=re(j);var L=X(R,1),z=X(j,1);for(j=X(j,2),R=X(R,2);!D(j);){var N=z.add(j);N.l(C)<=0&&(L=L.add(R),z=N),j=X(j,1),R=X(R,1)}return b=O(C,L.j(b)),new K(L,b)}for(L=_;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=p(R),N=z.j(b);V(N)||N.l(C)>0;)R-=j,z=p(R),N=z.j(b);D(z)&&(z=E),L=L.add(z),C=O(C,N)}return new K(L,C)}t.B=function(C){return ne(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<b;j++)R[j]=this.i(j)&C.i(j);return new l(R,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<b;j++)R[j]=this.i(j)|C.i(j);return new l(R,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<b;j++)R[j]=this.i(j)^C.i(j);return new l(R,this.h^C.h)};function re(C){const b=C.g.length+1,R=[];for(let j=0;j<b;j++)R[j]=C.i(j)<<1|C.i(j-1)>>>31;return new l(R,C.h)}function X(C,b){const R=b>>5;b%=32;const j=C.g.length-R,L=[];for(let z=0;z<j;z++)L[z]=b>0?C.i(z+R)>>>b|C.i(z+R+1)<<32-b:C.i(z+R);return new l(L,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,ii=l}).apply(typeof Fw<"u"?Fw:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,Kl,ME,Ih,nm,OE,FE,UE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var w=0;w<c.length;++w){var x=c[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in x))break e;x=x[W]}c=c[c.length-1],S=x[c],w=w(S),w!=S&&w!=null&&e(x,c,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(w){var x=[],S;for(S in w)Object.prototype.hasOwnProperty.call(w,S)&&x.push([S,w[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,x){return c.call.apply(c.bind,arguments)}function p(c,w,x){return p=f,p.apply(null,arguments)}function y(c,w){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,w){function x(){}x.prototype=w.prototype,c.Z=w.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,W,G){for(var oe=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)oe[Se-2]=arguments[Se];return w.prototype[W].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const w=c.length;if(w>0){const x=Array(w);for(let S=0;S<w;S++)x[S]=c[S];return x}return[]}function D(c,w){for(let S=1;S<arguments.length;S++){const W=arguments[S];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=c.length||0;const G=W.length||0;c.length=x+G;for(let oe=0;oe<G;oe++)c[x+oe]=W[oe]}else c.push(W)}}class V{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(c){l.setTimeout(()=>{throw c},0)}function O(){var c=C;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,x){const S=K.get();S.set(w,x),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new V(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,C=new U,b=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(R)}};function R(){for(var c;c=O();){try{c.h.call(c.g)}catch(x){A(x)}var w=K;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}X=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function We(c,w){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}_(We,L),We.prototype.init=function(c,w){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(x=="mouseover"?w=c.fromElement:x=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function be(c,w,x,S,W){this.listener=c,this.proxy=null,this.src=w,this.type=x,this.capture=!!S,this.ha=W,this.key=++Vt,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,w,x){for(const S in c)w.call(x,c[S],S,c)}function ae(c,w){for(const x in c)w.call(void 0,c[x],x,c)}function B(c){const w={};for(const x in c)w[x]=c[x];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(c,w){let x,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(x in S)c[x]=S[x];for(let G=0;G<J.length;G++)x=J[G],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,w,x,S,W){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=Ne(c,w,S,W);return oe>-1?(w=c[oe],x||(w.fa=!1)):(w=new be(w,this.src,G,!!S,W),w.fa=x,c.push(w)),w};function ke(c,w){const x=w.type;if(x in c.g){var S=c.g[x],W=Array.prototype.indexOf.call(S,w,void 0),G;(G=W>=0)&&Array.prototype.splice.call(S,W,1),G&&(se(w),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ne(c,w,x,S){for(let W=0;W<c.length;++W){const G=c[W];if(!G.da&&G.listener==w&&G.capture==!!x&&G.ha==S)return W}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Oe={};function Ke(c,w,x,S,W){if(Array.isArray(w)){for(let G=0;G<w.length;G++)Ke(c,w[G],x,S,W);return null}return x=Qa(x),c&&c[dt]?c.J(w,x,h(S)?!!S.capture:!1,W):en(c,w,x,!1,S,W)}function en(c,w,x,S,W,G){if(!w)throw Error("Invalid event type");const oe=h(W)?!!W.capture:!!W;let Se=Eo(c);if(Se||(c[ze]=Se=new Ce(c)),x=Se.add(w,x,S,oe,G),x.proxy)return x;if(S=_o(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)z||(W=oe),W===void 0&&(W=!1),c.addEventListener(w.toString(),S,W);else if(c.attachEvent)c.attachEvent(xo(w.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function _o(){function c(x){return w.call(c.src,c.listener,x)}const w=Hu;return c}function Ga(c,w,x,S,W){if(Array.isArray(w))for(var G=0;G<w.length;G++)Ga(c,w[G],x,S,W);else S=h(S)?!!S.capture:!!S,x=Qa(x),c&&c[dt]?(c=c.i,G=String(w).toString(),G in c.g&&(w=c.g[G],x=Ne(w,x,S,W),x>-1&&(se(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete c.g[G],c.h--)))):c&&(c=Eo(c))&&(w=c.g[w.toString()],c=-1,w&&(c=Ne(w,x,S,W)),(x=c>-1?w[c]:null)&&_s(x))}function _s(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[dt])ke(w.i,c);else{var x=c.type,S=c.proxy;w.removeEventListener?w.removeEventListener(x,S,c.capture):w.detachEvent?w.detachEvent(xo(x),S):w.addListener&&w.removeListener&&w.removeListener(S),(x=Eo(w))?(ke(x,c),x.h==0&&(x.src=null,w[ze]=null)):se(c)}}}function xo(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Hu(c,w){if(c.da)c=!0;else{w=new We(w,this);const x=c.listener,S=c.ha||c.src;c.fa&&_s(c),c=x.call(S,w)}return c}function Eo(c){return c=c[ze],c instanceof Ce?c:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qa(c){return typeof c=="function"?c:(c[Ei]||(c[Ei]=function(w){return c.handleEvent(w)}),c[Ei])}function vt(){j.call(this),this.i=new Ce(this),this.M=this,this.G=null}_(vt,j),vt.prototype[dt]=!0,vt.prototype.removeEventListener=function(c,w,x,S){Ga(this,c,w,x,S)};function ft(c,w){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=w.type||w,typeof w=="string")w=new L(w,c);else if(w instanceof L)w.target=w.target||c;else{var W=w;w=new L(S,c),Ae(w,W)}W=!0;let G,oe;if(x)for(oe=x.length-1;oe>=0;oe--)G=w.g=x[oe],W=$n(G,S,!0,w)&&W;if(G=w.g=c,W=$n(G,S,!0,w)&&W,W=$n(G,S,!1,w)&&W,x)for(oe=0;oe<x.length;oe++)G=w.g=x[oe],W=$n(G,S,!1,w)&&W}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const x=c.g[w];for(let S=0;S<x.length;S++)se(x[S]);delete c.g[w],c.h--}}this.G=null},vt.prototype.J=function(c,w,x,S){return this.i.add(String(c),w,!1,x,S)},vt.prototype.K=function(c,w,x,S){return this.i.add(String(c),w,!0,x,S)};function $n(c,w,x,S){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let G=0;G<w.length;++G){const oe=w[G];if(oe&&!oe.da&&oe.capture==x){const Se=oe.listener,pt=oe.ha||oe.src;oe.fa&&ke(c.i,oe),W=Se.call(pt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ya(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(c,w||0)}function Xa(c){c.g=Ya(()=>{c.g=null,c.i&&(c.i=!1,Xa(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class qu extends j{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){j.call(this),this.h=c,this.g={}}_(xs,j);var Ja=[];function To(c){fe(c.g,function(w,x){this.g.hasOwnProperty(x)&&_s(w)},c),c.g={}}xs.prototype.N=function(){xs.Z.N.call(this),To(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=l.JSON.stringify,Ku=l.JSON.parse,Ti=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Ts(){}function Gu(){}var Ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function So(){L.call(this,"d")}_(So,L);function Za(){L.call(this,"c")}_(Za,L);var Wn={},Io=null;function Is(){return Io=Io||new vt}Wn.Ia="serverreachability";function bo(c){L.call(this,Wn.Ia,c)}_(bo,L);function Fr(c){const w=Is();ft(w,new bo(w))}Wn.STAT_EVENT="statevent";function Ur(c,w){L.call(this,Wn.STAT_EVENT,c),this.stat=w}_(Ur,L);function lt(c){const w=Is();ft(w,new Ur(w,c))}Wn.Ja="timingevent";function el(c,w){L.call(this,Wn.Ja,c),this.size=w}_(el,L);function bs(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},w)}function As(){this.g=!0}As.prototype.ua=function(){this.g=!1};function Qu(c,w,x,S,W,G){c.info(function(){if(c.g)if(G){var oe="",Se=G.split("&");for(let He=0;He<Se.length;He++){var pt=Se[He].split("=");if(pt.length>1){const wt=pt[0];pt=pt[1];const wn=wt.split("_");oe=wn.length>=2&&wn[1]=="type"?oe+(wt+"="+pt+"&"):oe+(wt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+w+`
`+x+`
`+oe})}function Yu(c,w,x,S,W,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+w+`
`+x+`
`+G+" "+oe})}function ur(c,w,x,S){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+Si(c,x)+(S?" "+S:"")})}function Xu(c,w){c.info(function(){return"TIMEOUT: "+w})}As.prototype.info=function(){};function Si(c,w){if(!c.g)return w;if(!w)return null;try{const G=JSON.parse(w);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var x=G[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var W=S[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Es(G)}catch{return w}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ju;function Br(){}_(Br,Ts),Br.prototype.g=function(){return new XMLHttpRequest},Ju=new Br;function cr(c){return encodeURIComponent(String(c))}function Ao(c){var w=1;c=c.split(":");const x=[];for(;w>0&&c.length;)x.push(c.shift()),w--;return c.length&&x.push(c.join(":")),x}function bn(c,w,x,S){this.j=c,this.i=w,this.l=x,this.S=S||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zu}function Zu(){this.i=null,this.g="",this.h=!1}var ec={},tl={};function Hn(c,w,x){c.M=1,c.A=$r(An(w)),c.u=x,c.R=!0,nl(c,null)}function nl(c,w){c.F=Date.now(),Ii(c),c.B=An(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),dl(x.i,"t",S),c.C=0,x=c.j.L,c.h=new Zu,c.g=cc(c.j,x?w:null,!c.u),c.P>0&&(c.O=new qu(p(c.Y,c,c.g),c.P)),w=c.V,x=c.g,S=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ja[0]=W.toString()),W=Ja);for(let G=0;G<W.length;G++){const oe=Ke(x,W[G],S||w.handleEvent,!1,w.h||w);if(!oe)break;w.g[oe.key]=oe}w=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),Fr(),Qu(c.i,c.v,c.B,c.l,c.S,c.u)}bn.prototype.ba=function(c){c=c.target;const w=this.O;w&&yr(c)==3?w.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=yr(this.g),pt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||lc(this.g)))){this.K||Se!=4||pt==7||(pt==8||He<=0?Fr(3):Fr(2)),Co(this);var w=this.g.ca();this.X=w;var x=tc(this);if(this.o=w==200,Yu(this.i,this.v,this.B,this.l,this.S,Se,w),this.o){if(this.U&&!this.L){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break t}}G=null}if(c=G)ur(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,c);else{this.o=!1,this.m=3,lt(12),zr(this),bi(this);break e}}if(this.R){c=!0;let wt;for(;!this.K&&this.C<x.length;)if(wt=rc(this,x),wt==tl){Se==4&&(this.m=4,lt(14),c=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==ec){this.m=4,lt(15),ur(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else ur(this.i,this.l,wt,null),Xe(this,wt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||x.length!=0||this.h.h||(this.m=1,lt(16),c=!1),this.o=this.o&&c,!c)ur(this.i,this.l,x,"[Invalid Chunked Response]"),zr(this),bi(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ji(oe),oe.P=!0,lt(11))}}else ur(this.i,this.l,x,null),Xe(this,x);Se==4&&zr(this),this.o&&!this.K&&(Se==4?Oo(this.j,this):(this.o=!1,Ii(this)))}else pl(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),zr(this),bi(this)}}}catch{}finally{}};function tc(c){if(!nc(c))return c.g.la();const w=lc(c.g);if(w==="")return"";let x="";const S=w.length,W=yr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return zr(c),bi(c),"";c.h.i=new l.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,x+=c.h.i.decode(w[G],{stream:!(W&&G==S-1)});return w.length=0,c.h.g+=x,c.C=0,c.h.g}function nc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function rc(c,w){var x=c.C,S=w.indexOf(`
`,x);return S==-1?tl:(x=Number(w.substring(x,S)),isNaN(x)?ec:(S+=1,S+x>w.length?tl:(w=w.slice(S,S+x),c.C=S+x,w)))}bn.prototype.cancel=function(){this.K=!0,zr(this)};function Ii(c){c.T=Date.now()+c.H,rl(c,c.H)}function rl(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=bs(p(c.aa,c),w)}function Co(c){c.D&&(l.clearTimeout(c.D),c.D=null)}bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Xu(this.i,this.B),this.M!=2&&(Fr(),lt(17)),zr(this),this.m=2,bi(this)):rl(this,this.T-c)};function bi(c){c.j.I==0||c.K||Oo(c.j,c)}function zr(c){Co(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,To(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function Xe(c,w){try{var x=c.j;if(x.I!=0&&(x.g==c||il(x.h,c))){if(!c.L&&il(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(w)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Mo(x),yn(x);else break e;_r(x),lt(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=bs(p(x.Va,x),6e3));Ai(x.h)<=1&&x.ta&&(x.ta=void 0)}else vn(x,11)}else if((c.L||x.g==c)&&Mo(x),!N(w))for(W=x.Ba.g.parse(w),w=0;w<W.length;w++){let He=W[w];const wt=He[0];if(!(wt<=x.K))if(x.K=wt,He=He[1],x.I==2)if(He[0]=="c"){x.M=He[1],x.ba=He[2];const wn=He[3];wn!=null&&(x.ka=wn,x.j.info("VER="+x.ka));const Gr=He[4];Gr!=null&&(x.za=Gr,x.j.info("SVER="+x.za));const xr=He[5];xr!=null&&typeof xr=="number"&&xr>0&&(S=1.5*xr,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Er=c.g;if(Er){const Bo=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var G=S.h;G.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ro(G,G.h),G.h=null))}if(S.G){const yl=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(S.wa=yl,Be(S.J,S.G,yl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var oe=c;if(S.na=gl(S,S.L?S.ba:null,S.W),oe.L){Ci(S.h,oe);var Se=oe,pt=S.O;pt&&(Se.H=pt),Se.D&&(Co(Se),Ii(Se)),S.g=oe}else Wt(S);x.i.length>0&&Kr(x)}else He[0]!="stop"&&He[0]!="close"||vn(x,7);else x.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vn(x,7):jo(x):He[0]!="noop"&&x.l&&x.l.qa(He),x.A=0)}}Fr(4)}catch{}}var Md=class{constructor(c,w){this.g=c,this.map=w}};function Po(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function il(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function Ro(c,w){c.g?c.g.add(w):c.h=w}function Ci(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}Po.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const x of c.g.values())w=w.concat(x.G);return w}return I(c.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mn(c,w){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let W,G=null;S>=0?(W=c[x].substring(0,S),G=c[x].substring(S+1)):W=c[x],w(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function hr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof hr?(this.l=c.l,Pi(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Rs(this,fl(c.i)),this.m=c.m):c&&(w=String(c).match(sc))?(this.l=!1,Pi(this,w[1]||"",!0),this.o=Ri(w[2]||""),this.g=Ri(w[3]||"",!0),dr(this,w[4]),this.h=Ri(w[5]||"",!0),Rs(this,w[6]||"",!0),this.m=Ri(w[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}hr.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(ki(w,al,!0),":");var x=this.g;return(x||w=="file")&&(c.push("//"),(w=this.o)&&c.push(ki(w,al,!0),"@"),c.push(cr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ki(x,x.charAt(0)=="/"?Ni:ll,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ki(x,ul)),c.join("")},hr.prototype.resolve=function(c){const w=An(this);let x=!!c.j;x?Pi(w,c.j):x=!!c.o,x?w.o=c.o:x=!!c.g,x?w.g=c.g:x=c.u!=null;var S=c.h;if(x)dr(w,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var W=w.h.lastIndexOf("/");W!=-1&&(S=w.h.slice(0,W+1)+S)}if(W=S,W==".."||W==".")S="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){S=W.lastIndexOf("/",0)==0,W=W.split("/");const G=[];for(let oe=0;oe<W.length;){const Se=W[oe++];Se=="."?S&&oe==W.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&oe==W.length&&G.push("")):(G.push(Se),S=!0)}S=G.join("/")}else S=W}return x?w.h=S:x=c.i.toString()!=="",x?Rs(w,fl(c.i)):x=!!c.m,x&&(w.m=c.m),w};function An(c){return new hr(c)}function Pi(c,w,x){c.j=x?Ri(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Rs(c,w,x){w instanceof Le?(c.i=w,No(c.i,c.l)):(x||(w=ki(w,Od)),c.i=new Le(w,c.l))}function Be(c,w,x){c.i.set(w,x)}function $r(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ri(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ki(c,w,x){return typeof c=="string"?(c=encodeURI(c).replace(w,ol),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ol(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var al=/[#\/\?@]/g,ll=/[#\?:]/g,Ni=/[#\?]/g,Od=/[#\?@]/g,ul=/#/g;function Le(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&mn(c.i,function(w,x){c.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Le.prototype,t.add=function(c,w){fr(this),this.i=null,c=pr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(w),this.h+=1,this};function cl(c,w){fr(c),w=pr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function ko(c,w){return fr(c),w=pr(c,w),c.g.has(w)}t.forEach=function(c,w){fr(this),this.g.forEach(function(x,S){x.forEach(function(W){c.call(w,W,S,this)},this)},this)};function hl(c,w){fr(c);let x=[];if(typeof w=="string")ko(c,w)&&(x=x.concat(c.g.get(pr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)x=x.concat(c[w]);return x}t.set=function(c,w){return fr(this),this.i=null,c=pr(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=hl(this,c),c.length>0?String(c[0]):w):w};function dl(c,w,x){cl(c,w),x.length>0&&(c.i=null,c.g.set(pr(c,w),I(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let S=0;S<w.length;S++){var x=w[S];const W=cr(x);x=hl(this,x);for(let G=0;G<x.length;G++){let oe=W;x[G]!==""&&(oe+="="+cr(x[G])),c.push(oe)}}return this.i=c.join("&")};function fl(c){const w=new Le;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function pr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function No(c,w){w&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(x,S){const W=S.toLowerCase();S!=W&&(cl(this,S),dl(this,W,x))},c)),c.j=w}function mr(c,w){const x=new As;if(l.Image){const S=new Image;S.onload=y(jt,x,"TestLoadImage: loaded",!0,w,S),S.onerror=y(jt,x,"TestLoadImage: error",!1,w,S),S.onabort=y(jt,x,"TestLoadImage: abort",!1,w,S),S.ontimeout=y(jt,x,"TestLoadImage: timeout",!1,w,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else w(!1)}function gr(c,w){const x=new As,S=new AbortController,W=setTimeout(()=>{S.abort(),jt(x,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(W),G.ok?jt(x,"TestPingServer: ok",!0,w):jt(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),jt(x,"TestPingServer: error",!1,w)})}function jt(c,w,x,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(x)}catch{}}function Di(){this.g=new Ti}function Wr(c){this.i=c.Sb||null,this.h=c.ab||!1}_(Wr,Ts),Wr.prototype.g=function(){return new gn(this.i,this.h)};function gn(c,w){vt.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(gn,vt),t=gn.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,qn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?ks(this):qn(this),this.readyState==3&&ic(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ks(this))},t.Na=function(c){this.g&&(this.response=c,ks(this))},t.ga=function(){this.g&&ks(this)};function ks(c){c.readyState=4,c.l=null,c.j=null,c.B=null,qn(c)}t.setRequestHeader=function(c,w){this.A.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=w.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oc(c){let w="";return fe(c,function(x,S){w+=S,w+=":",w+=x,w+=`\r
`}),w}function Do(c,w,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=oc(x),typeof c=="string"?x!=null&&cr(x):Be(c,w,x))}function Ge(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ge,vt);var ac=/^https?$/i,Fd=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,w,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ju.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(G){Ns(this,G);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)x.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())x.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),W=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(Fd,w,void 0)>=0)||S||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of x)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ns(this,G)}};function Ns(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,Ds(c),qr(c)}function Ds(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ft(this,"complete"),ft(this,"abort"),qr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},t.Xa=function(){Hr(this)};function Hr(c){if(c.h&&typeof a<"u"){if(c.v&&yr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ft(c,"readystatechange"),yr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var S;if(S=G===0){let oe=String(c.D).match(sc)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!ac.test(oe?oe.toLowerCase():"")}x=S}if(x)ft(c,"complete"),ft(c,"success");else{c.o=6;try{var W=yr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",Ds(c)}}finally{qr(c)}}}}function qr(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,w||ft(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Ku(w)}};function lc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(c){const w={};c=(c.g&&yr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var x=Ao(c[S]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=w[W]||[];w[W]=G,G.push(x)}ae(w,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(c,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||w}function Vo(c){this.za=0,this.i=[],this.j=new As,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,c),this.Za=vr("retryDelaySeedMs",1e4,c),this.Ta=vr("forwardChannelMaxRetries",2,c),this.va=vr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Di,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vo.prototype,t.ka=8,t.I=1,t.connect=function(c,w,x,S){lt(0),this.W=c,this.H=w||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=gl(this,null,this.W),Kr(this)};function jo(c){if(Lo(c),c.I==3){var w=c.V++,x=An(c.J);if(Be(x,"SID",c.M),Be(x,"RID",w),Be(x,"TYPE","terminate"),wr(c,x),w=new bn(c,c.j,w),w.M=2,w.A=$r(An(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=cc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ii(w)}Li(c)}function yn(c){c.g&&(ji(c),c.g.cancel(),c.g=null)}function Lo(c){yn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Mo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function Kr(c){if(!sl(c.h)&&!c.m){c.m=!0;var w=c.Ea;re||b(),X||(re(),X=!0),C.add(w,c),c.D=0}}function uc(c,w){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=bs(p(c.Ea,c,w),Fo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new bn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=B(G),Ae(G,this.U)):G=this.U),this.u!==null||this.R||(W.J=G,G=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(w+=S,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=ml(this,W,w),x=An(this.J),Be(x,"RID",c),Be(x,"CVER",22),this.G&&Be(x,"X-HTTP-Session-Id",this.G),wr(this,x),G&&(this.R?w="headers="+cr(oc(G))+"&"+w:this.u&&Do(x,this.u,G)),Ro(this.h,W),this.Ra&&Be(x,"TYPE","init"),this.S?(Be(x,"$req",w),Be(x,"SID","null"),W.U=!0,Hn(W,x,null)):Hn(W,x,w),this.I=2}}else this.I==3&&(c?Vi(this,c):this.i.length==0||sl(this.h)||Vi(this))};function Vi(c,w){var x;w?x=w.l:x=c.V++;const S=An(c.J);Be(S,"SID",c.M),Be(S,"RID",x),Be(S,"AID",c.K),wr(c,S),c.u&&c.o&&Do(S,c.u,c.o),x=new bn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),w&&(c.i=w.G.concat(c.i)),w=ml(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,x),Hn(x,S,w)}function wr(c,w){c.H&&fe(c.H,function(x,S){Be(w,S,x)}),c.l&&fe({},function(x,S){Be(w,S,x)})}function ml(c,w,x){x=Math.min(c.i.length,x);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Se=-1;for(;;){const pt=["count="+x];Se==-1?x>0?(Se=W[0].g,pt.push("ofs="+Se)):Se=0:pt.push("ofs="+Se);let He=!0;for(let wt=0;wt<x;wt++){var G=W[wt].g;const wn=W[wt].map;if(G-=Se,G<0)Se=Math.max(0,W[wt].g-100),He=!1;else try{G="req"+G+"_"||"";try{var oe=wn instanceof Map?wn:Object.entries(wn);for(const[Gr,xr]of oe){let Er=xr;h(xr)&&(Er=Es(xr)),pt.push(G+Gr+"="+encodeURIComponent(Er))}}catch(Gr){throw pt.push(G+"type="+encodeURIComponent("_badmap")),Gr}}catch{S&&S(wn)}}if(He){oe=pt.join("&");break e}}oe=void 0}return c=c.i.splice(0,x),w.G=c,oe}function Wt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;re||b(),X||(re(),X=!0),C.add(w,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=bs(p(c.Da,c),Fo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=bs(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),yn(this),Vs(this))};function ji(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function Vs(c){c.g=new bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=An(c.na);Be(w,"RID","rpc"),Be(w,"SID",c.M),Be(w,"AID",c.K),Be(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(w,"TO",c.ia),Be(w,"TYPE","xmlhttp"),wr(c,w),c.u&&c.o&&Do(w,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=$r(An(w)),x.u=null,x.R=!0,nl(x,c)}t.Va=function(){this.C!=null&&(this.C=null,yn(this),_r(this),lt(19))};function Mo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Oo(c,w){var x=null;if(c.g==w){Mo(c),ji(c),c.g=null;var S=2}else if(il(c.h,w))x=w.G,Ci(c.h,w),S=1;else return;if(c.I!=0){if(w.o)if(S==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var W=c.D;S=Is(),ft(S,new el(S,x)),Kr(c)}else Wt(c);else if(W=w.m,W==3||W==0&&w.X>0||!(S==1&&uc(c,w)||S==2&&_r(c)))switch(x&&x.length>0&&(w=c.h,w.i=w.i.concat(x)),W){case 1:vn(c,5);break;case 4:vn(c,10);break;case 3:vn(c,6);break;default:vn(c,2)}}}function Fo(c,w){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*w}function vn(c,w){if(c.j.info("Error code "+w),w==2){var x=p(c.bb,c),S=c.Ua;const W=!S;S=new hr(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pi(S,"https"),$r(S),W?mr(S.toString(),x):gr(S.toString(),x)}else lt(2);c.I=0,c.l&&c.l.pa(w),Li(c),Lo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Li(c){if(c.I=0,c.ja=[],c.l){const w=pn(c.h);(w.length!=0||c.i.length!=0)&&(D(c.ja,w),D(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function gl(c,w,x){var S=x instanceof hr?An(x):new hr(x);if(S.g!="")w&&(S.g=w+"."+S.g),dr(S,S.u);else{var W=l.location;S=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const G=new hr(null);S&&Pi(G,S),w&&(G.g=w),W&&dr(G,W),x&&(G.h=x),S=G}return x=c.G,w=c.wa,x&&w&&Be(S,x,w),Be(S,"VER",c.ka),wr(c,S),S}function cc(c,w,x){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Ge(new Wr({ab:x})):new Ge(c.ma),w.Fa(c.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}t=hc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Uo(){}Uo.prototype.g=function(c,w){return new Lt(c,w)};function Lt(c,w){vt.call(this),this.g=new Vo(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!N(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new js(this)}_(Lt,vt),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){jo(this.g)},Lt.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=Es(c),c=x);w.i.push(new Md(w.Ya++,c)),w.I==3&&Kr(w)},Lt.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,Lt.Z.N.call(this)};function dc(c){So.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const x in w){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}_(dc,So);function fc(){Za.call(this),this.status=1}_(fc,Za);function js(c){this.g=c}_(js,hc),js.prototype.ra=function(){ft(this.g,"a")},js.prototype.qa=function(c){ft(this.g,new dc(c))},js.prototype.pa=function(c){ft(this.g,new fc)},js.prototype.oa=function(){ft(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,UE=function(){return new Uo},FE=function(){return Is()},OE=Wn,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Ih=Cs,Ps.COMPLETE="complete",ME=Ps,Gu.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Kl=Gu,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,LE=Ge}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const Uw="@firebase/firestore",Bw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new cd("@firebase/firestore");function la(){return co.logLevel}function ce(t,...e){if(co.logLevel<=De.DEBUG){const n=e.map(dg);co.debug(`Firestore (${Oa}): ${t}`,...n)}}function fs(t,...e){if(co.logLevel<=De.ERROR){const n=e.map(dg);co.error(`Firestore (${Oa}): ${t}`,...n)}}function Sa(t,...e){if(co.logLevel<=De.WARN){const n=e.map(dg);co.warn(`Firestore (${Oa}): ${t}`,...n)}}function dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BE(t,r,n)}function BE(t,e,n){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function $e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BE(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class o5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a5{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new us,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new zE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class l5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function rm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Sp(i)===Sp(a)?Ve(i,a):Sp(i)?1:-1}return Ve(t.length,e.length)}const d5=55296,f5=57343;function Sp(t){const e=t.charCodeAt(0);return e>=d5&&e<=f5}function Ia(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}}class Ye extends Ar{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const p5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Ar{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return p5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$w}static keyField(){return new zt([$w])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m5(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ww(t){if(!ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(ge.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!WE(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Kw=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kw);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qw)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:St("string",qe._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new qe(0,0))}static max(){return new Te(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function g5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new li(i,ge.empty(),e)}function y5(t){return new li(t.readTime,t.key,fu)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(Te.min(),ge.empty(),fu)}static max(){return new li(Te.max(),ge.empty(),fu)}}function v5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==w5)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{l[p]=y,++h,h===a&&r(l)}),(y=>i(y)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function x5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function vd(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function E5(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="";function T5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gw(e)),e=S5(t.get(n),e);return Gw(e)}function S5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case HE:n+="";break;default:n+=a}}return n}function Gw(t){return t+HE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Ct(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KE("Invalid base64 string: "+a):a}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const I5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=I5.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ci(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="server_timestamp",QE="__type__",YE="__previous_value__",XE="__local_write_time__";function mg(t){return(t?.mapValue?.fields||{})[QE]?.stringValue===GE}function wd(t){const e=t.mapValue.fields[YE];return mg(e)?wd(e):e}function pu(t){const e=ui(t.mapValue.fields[XE].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i,a,l,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Kh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",A5="__max__",hh={mapValue:{}},ZE="__vector__",Gh="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:P5(t)?9007199254740991:C5(t)?10:11:_e(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ui(i.timestampValue),h=ui(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ci(i.bytesValue).isEqual(ci(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return yt(i.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return yt(i.integerValue)===yt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=yt(i.doubleValue),h=yt(a.doubleValue);return l===h?qh(l)===qh(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Qw(l)!==Qw(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Lr(l[f],h[f])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function gu(t,e){return(t.values||[]).find((n=>Lr(n,e)))!==void 0}function ba(t,e){if(t===e)return 0;const n=hi(t),r=hi(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=yt(a.integerValue||a.doubleValue),f=yt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Xw(t.timestampValue,e.timestampValue);case 4:return Xw(pu(t),pu(e));case 5:return rm(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=ci(a),f=ci(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=Ve(h[p],f[p]);if(y!==0)return y}return Ve(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=Ve(yt(a.latitude),yt(l.latitude));return h!==0?h:Ve(yt(a.longitude),yt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Jw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[Gh]?.arrayValue,y=f[Gh]?.arrayValue,_=Ve(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Jw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===hh.mapValue&&l===hh.mapValue)return 0;if(a===hh.mapValue)return 1;if(l===hh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=rm(f[_],y[_]);if(E!==0)return E;const I=ba(h[f[_]],p[y[_]]);if(I!==0)return I}return Ve(f.length,y.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=ui(t),r=ui(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function Jw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ba(n[i],r[i]);if(a)return a}return Ve(n.length,r.length)}function Aa(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ci(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=sm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${sm(n.fields[l])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function bh(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(t);return e?16+bh(e):16;case 5:return 2*t.stringValue.length;case 6:return ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+bh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return go(r.fields,((a,l)=>{i+=a.length+bh(l)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function Zw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function im(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function e_(t){return!!t&&"nullValue"in t}function t_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function C5(t){return(t?.mapValue?.fields||{})[JE]?.stringValue===ZE}function eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return{...t}}function P5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=eu(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ln(eu(this.value))}}function eT(t){const e=[];return go(t.fields,((n,r)=>{const i=new zt([n]);if(Ah(r)){const a=eT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Xt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function n_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=ba(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function r_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function R5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class Tt extends tT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N5(e,n,r):n==="array-contains"?new j5(e,r):n==="in"?new L5(e,r):n==="not-in"?new M5(e,r):n==="array-contains-any"?new O5(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D5(e,r):new V5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ba(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends tT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return nT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nT(t){return t.op==="and"}function rT(t){return k5(t)&&nT(t)}function k5(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function om(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(rT(t))return t.filters.map((e=>om(e))).join(",");{const e=t.filters.map((n=>om(n))).join(",");return`${t.op}(${e})`}}function sT(t,e){return t instanceof Tt?(function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)})(t,e):t instanceof ir?(function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&sT(l,i.filters[h])),!0):!1})(t,e):void _e(19439)}function iT(t){return t instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`})(t):t instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"})(t):"Filter"}class N5 extends Tt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class D5 extends Tt{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V5 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oT(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class j5 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&gu(n.arrayValue,this.value)}}class L5 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class M5 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class O5 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function s_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new F5(t,e,n,r,i,a,l)}function yg(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>om(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Aa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Aa(r))).join(",")),e.Te=n}return e.Te}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r_(t.startAt,e.startAt)&&r_(t.endAt,e.endAt)}function am(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U5(t,e,n,r,i,a,l,h){return new Ba(t,e,n,r,i,a,l,h)}function wg(t){return new Ba(t)}function i_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aT(t){return t.collectionGroup!==null}function tu(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Ct(zt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new yu(a,r))})),n.has(zt.keyField().canonicalString())||e.Ie.push(new yu(zt.keyField(),r))}return e.Ie}function Pr(t){const e=Ie(t);return e.Ee||(e.Ee=B5(e,tu(t))),e.Ee}function B5(t,e){if(t.limitType==="F")return s_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new yu(i.field,a)}));const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return s_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lm(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yh(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return vg(Pr(t),Pr(e))&&t.limitType===e.limitType}function lT(t){return`${yg(Pr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>iT(i))).join(", ")}]`),vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Aa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Aa(i))).join(",")),`Target(${r})`})(Pr(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of tu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=n_(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,tu(r),i)||r.endAt&&!(function(l,h,f){const p=n_(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,tu(r),i))})(t,e)}function z5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uT(t){return(e,n)=>{let r=!1;for(const i of tu(t)){const a=$5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $5(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ba(f,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new at(ge.comparator);function ms(){return W5}const cT=new at(ge.comparator);function Gl(...t){let e=cT;for(const n of t)e=e.insert(n.key,n);return e}function hT(t){let e=cT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function eo(){return nu()}function dT(){return nu()}function nu(){return new yo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const H5=new at(ge.comparator),q5=new Ct(ge.comparator);function je(...t){let e=q5;for(const n of t)e=e.add(n);return e}const K5=new Ct(Ve);function G5(){return K5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function fT(t){return{integerValue:""+t}}function pT(t,e){return E5(e)?fT(e):_g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function Q5(t,e,n){return t instanceof vu?(function(i,a){const l={fields:{[QE]:{stringValue:GE},[XE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&mg(a)&&(a=wd(a)),a&&(l.fields[YE]=a),{mapValue:l}})(n,e):t instanceof wu?gT(t,e):t instanceof _u?yT(t,e):(function(i,a){const l=mT(i,a),h=o_(l)+o_(i.Ae);return im(l)&&im(i.Ae)?fT(h):_g(i.serializer,h)})(t,e)}function Y5(t,e,n){return t instanceof wu?gT(t,e):t instanceof _u?yT(t,e):n}function mT(t,e){return t instanceof xu?(function(r){return im(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vu extends Ed{}class wu extends Ed{constructor(e){super(),this.elements=e}}function gT(t,e){const n=vT(e);for(const r of t.elements)n.some((i=>Lr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class _u extends Ed{constructor(e){super(),this.elements=e}}function yT(t,e){let n=vT(e);for(const r of t.elements)n=n.filter((i=>!Lr(i,r)));return{arrayValue:{values:n}}}class xu extends Ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o_(t){return yt(t.integerValue||t.doubleValue)}function vT(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.field=e,this.transform=n}}function X5(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof wu&&i instanceof wu||r instanceof _u&&i instanceof _u?Ia(r.elements,i.elements,Lr):r instanceof xu&&i instanceof xu?Lr(r.Ae,i.Ae):r instanceof vu&&i instanceof vu})(t.transform,e.transform)}class J5{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xg(t.key,rr.none()):new Mu(t.key,t.data,rr.none());{const n=t.data,r=Ln.empty();let i=new Ct(zt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new vo(t.key,r,new tr(i.toArray()),rr.none())}}function Z5(t,e,n){t instanceof Mu?(function(i,a,l){const h=i.value.clone(),f=l_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof vo?(function(i,a,l){if(!Ch(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=l_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(xT(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function ru(t,e,n,r){return t instanceof Mu?(function(a,l,h,f){if(!Ch(a.precondition,l))return h;const p=a.value.clone(),y=u_(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof vo?(function(a,l,h,f){if(!Ch(a.precondition,l))return h;const p=u_(a.fieldTransforms,f,l),y=l.data;return y.setAll(xT(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,h){return Ch(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function e4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=mT(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function a_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,((a,l)=>X5(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Td{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends Td{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function l_(t,e,n){const r=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,Y5(l,h,n[i]))}return r}function u_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Q5(a,l,e))}return r}class xg extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t4 extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Z5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=_T(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,((n,r)=>a_(n,r)))&&Ia(this.baseMutations,e.baseMutations,((n,r)=>a_(n,r)))}}class Eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return H5})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Me;function i4(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function ET(t){if(t===void 0)return fs("GRPC error has no .code"),Q.UNKNOWN;switch(t){case xt.OK:return Q.OK;case xt.CANCELLED:return Q.CANCELLED;case xt.UNKNOWN:return Q.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Q.INTERNAL;case xt.UNAVAILABLE:return Q.UNAVAILABLE;case xt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case xt.NOT_FOUND:return Q.NOT_FOUND;case xt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case xt.ABORTED:return Q.ABORTED;case xt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case xt.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=xt||(xt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new ii([4294967295,4294967295],0);function c_(t){const e=o4().encode(t),n=new jE;return n.update(e),new Uint8Array(n.digest())}function h_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ii([n,r],0),new ii([i,a],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ii.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ii.fromNumber(r)));return i.compare(a4)===1&&(i=new ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c_(e),[r,i]=h_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Tg(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=c_(e),[r,i]=h_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sd(Te.min(),i,new at(Ve),ms(),je())}}class Ou{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class TT{constructor(e,n){this.targetId=e,this.Ce=n}}class ST{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d_{constructor(){this.ve=0,this.Fe=f_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}})),new Ou(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=dh(),this.He=dh(),this.Ye=new at(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(am(a))if(r===0){const l=new ge(a.path);this.et(n,l,Xt.newNoDocument(l,Te.min()))}else $e(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=ci(r).toUint8Array()}catch(f){if(f instanceof KE)return Sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Tg(l,i,a)}catch(f){return Sa(f instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&am(h.target)){const f=new ge(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Xt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Sd(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=dh(),this.He=dh(),this.Ye=new at(Ve),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new d_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new at(ge.comparator)}function f_(){return new at(ge.comparator)}const u4={asc:"ASCENDING",desc:"DESCENDING"},c4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h4={and:"AND",or:"OR"};class d4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f4(t,e){return Xh(t,e.toTimestamp())}function Rr(t){return $e(!!t,49232),Te.fromTimestamp((function(n){const r=ui(n);return new qe(r.seconds,r.nanos)})(t))}function Sg(t,e){return cm(t,e).canonicalString()}function cm(t,e){const n=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bT(t){const e=Ye.fromString(t);return $e(kT(e),10190,{key:e.toString()}),e}function hm(t,e){return Sg(t.databaseId,e.path)}function Ip(t,e){const n=bT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(CT(n))}function AT(t,e){return Sg(t.databaseId,e)}function p4(t){const e=bT(t);return e.length===4?Ye.emptyPath():CT(e)}function dm(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p_(t,e,n){return{name:hm(t,e),fields:n.value.mapValue.fields}}function m4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),$t.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$t.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const y=p.code===void 0?Q.UNKNOWN:ET(p.code);return new le(y,p.message||"")})(l);n=new ST(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ip(t,r.document.name),a=Rr(r.document.updateTime),l=r.document.createTime?Rr(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(i,a,l,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Ph(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ip(t,r.document),a=r.readTime?Rr(r.readTime):Te.min(),l=Xt.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Ph([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ip(t,r.document),a=r.removedTargetIds||[];n=new Ph([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new s4(i,a),h=r.targetId;n=new TT(h,l)}}return n}function g4(t,e){let n;if(e instanceof Mu)n={update:p_(t,e.key,e.value)};else if(e instanceof xg)n={delete:hm(t,e.key)};else if(e instanceof vo)n={update:p_(t,e.key,e.data),updateMask:I4(e.fieldMask)};else{if(!(e instanceof t4))return _e(16599,{Vt:e.type});n={verify:hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xu)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:f4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(t,e.precondition)),n}function y4(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Rr(i.updateTime):Rr(a);return l.isEqual(Te.min())&&(l=Rr(a)),new J5(l,i.transformResults||[])})(n,e)))):[]}function v4(t,e){return{documents:[AT(t,e.path)]}}function w4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(t,i);const a=(function(p){if(p.length!==0)return RT(ir.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:ca(E.field),direction:E4(E.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=um(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function _4(t){let e=p4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const E=PT(_);return E instanceof ir&&rT(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((E=>(function(D){return new yu(ha(D.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,vd(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,I=_.values||[];return new Qh(I,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,I=_.values||[];return new Qh(I,E)})(n.endAt)),U5(e,i,l,a,h,"F",f,p)}function x4(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ha(n.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ha(n.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tt.create(ha(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((r=>PT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function E4(t){return u4[t]}function T4(t){return c4[t]}function S4(t){return h4[t]}function ca(t){return{fieldPath:t.canonicalString()}}function ha(t){return zt.fromServerFormat(t.fieldPath)}function RT(t){return t instanceof Tt?(function(n){if(n.op==="=="){if(t_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(e_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(e_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:T4(n.op),value:n.value}}})(t):t instanceof ir?(function(n){const r=n.getFilters().map((i=>RT(i)));return r.length===1?r[0]:{compositeFilter:{op:S4(n.op),filters:r}}})(t):_e(54877,{filter:t})}function I4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,a=Te.min(),l=Te.min(),h=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.yt=e}}function A4(t){const e=_4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.Cn=new P4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(li.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class P4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Ye.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(NT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ca(0)}static cr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",R4=1048576;function y_([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class k4{constructor(e){this.Ir=e,this.buffer=new Ct(y_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ua(n)?ce(g_,"Ignoring IndexedDB error during garbage collection: ",n):await Fa(n)}await this.Vr(3e5)}))}}class D4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(yd.ce);const r=new k4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(m_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),la()<=De.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function V4(t,e){return new D4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.changes=new yo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ru(r.mutation,i,tr.empty(),qe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const i=eo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Gl();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=eo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=ms();const l=nu(),h=(function(){return nu()})();return n.forEach(((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof vo)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),ru(y.mutation,p,y.mutation.getFieldMask(),qe.now())):l.set(p.key,tr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>l.set(p,y))),n.forEach(((p,y)=>h.set(p,new L4(y,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=nu();let i=new at(((l,h)=>l-h)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||tr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const _=(i.get(h.batchId)||je()).add(f);i=i.insert(h.batchId,_)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=dT();y.forEach((E=>{if(!a.has(E)){const I=_T(n.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(eo());let h=fu,f=a;return l.next((p=>Y.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?Y.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,je()))).next((y=>({batchId:h,changes:hT(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Gl();return this.indexManager.getCollectionParents(e,a).next((h=>Y.forEach(h,(f=>{const p=(function(_,E){return new Ba(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((_,E)=>{l=l.insert(_,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Xt.newInvalidDocument(y)))}));let h=Gl();return l.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&ru(y.mutation,p,tr.empty(),qe.now()),xd(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:A4(i.bundledQuery),readTime:Rr(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.overlays=new at(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eo();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=eo(),a=n.length+1,l=new ge(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new at(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=eo(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=eo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=i)););return Y.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new r4(n,r));let a=this.qr.get(n);a===void 0&&(a=je(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.Qr=new Ct(Nt.$r),this.Ur=new Ct(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1);let a=je();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Nt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new n4(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new Nt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?pg:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ve);return n.forEach((i=>{const a=new Nt(i,0),l=new Nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const l=new Nt(new ge(a),0);let h=new Ct(Ve);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new Nt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.ri=e,this.docs=(function(){return new at(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ms();const l=n.path,h=new ge(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||v5(y5(y),r)<=0||(i.has(y.key)||xd(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $4(this)}getSize(e){return Y.resolve(this.size)}}class $4 extends j4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.persistence=e,this.si=new yo((n=>yg(n)),vg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=Ca.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new U4,this.referenceDelegate=e(this),this.Pi=new W4(this),this.indexManager=new C4,this.remoteDocumentCache=(function(i){return new z4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new b4(n),this.Ii=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new B4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new H4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class H4 extends _5{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.pi=new yo((r=>T5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=V4(this,n)}static mi(e,n){return new Jh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,Te.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=je(),i=je();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sC()?8:x5(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new q4;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(la()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(la()<=De.DEBUG&&ce("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(la()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):Y.resolve())}ys(e,n){if(i_(n))return Y.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Yh(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=je(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,Yh(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return i_(n)||i.isEqual(Te.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(la()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.vs(e,l,n,g5(i,fu)).next((h=>h)))}))}Ds(e,n){let r=new Ct(uT(e));return n.forEach(((i,a)=>{xd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return la()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ua(n)),this.ps.getDocumentsMatchingQuery(e,n,li.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",G4=3e8;class Q4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new at(Ve),this.xs=new yo((a=>yg(a)),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Y4(t,e,n,r){return new Q4(t,e,n,r)}async function VT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=je();for(const p of i){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function X4(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const _=p.batch,E=_.keys();let I=Y.resolve();return E.forEach((D=>{I=I.next((()=>y.getEntry(f,D))).next((V=>{const A=p.docVersions.get(D);$e(A!==null,48541),V.version.compareTo(A)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function J4(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=i.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,_))));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),i=i.insert(_,I),(function(V,A,O){return V.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=G4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,I,y)&&h.push(n.Pi.updateTargetData(a,I))}));let f=ms(),p=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(Z4(a,l,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!r.isEqual(Te.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(y)}return Y.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function Z4(t,e,n){let r=je(),i=je();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ms();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(Cg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function eD(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tD(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new ti(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function fm(t,e,n){const r=Ie(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ua(l))throw l;ce(Cg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function v_(t,e,n){const r=Ie(t);let i=Te.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,y){const _=Ie(f),E=_.xs.get(y);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)})(r,l,Pr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Te.min(),n?a:je()))).next((h=>(nD(r,z5(e),h),{documents:h,Qs:a})))))}function nD(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class w_{constructor(){this.activeTargetIds=G5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rD{constructor(){this.Mo=new w_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function pm(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=pm(),h=this.zo(e,n.toUriEncodedString());ce(bp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),y=ja(p);return this.Jo(e,h,f,r,y).then((_=>(ce(bp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw Sa(bp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=iD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class lD extends oD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=pm();return new Promise(((h,f)=>{const p=new LE;p.setWithCredentials(!0),p.listenOnce(ME.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ih.NO_ERROR:const _=p.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Ih.TIMEOUT:ce(Qt,`RPC '${e}' ${l} timed out`),f(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const E=p.getStatus();if(ce(Qt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I?.error;if(D&&D.status&&D.message){const V=(function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(U)>=0?U:Q.UNKNOWN})(D.status);f(new le(V,D.message))}else f(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);ce(Qt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=pm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UE(),h=FE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");ce(Qt,`Creating RPC '${e}' stream ${i}: ${y}`,f);const _=l.createWebChannel(y,f);this.I_(_);let E=!1,I=!1;const D=new aD({Yo:A=>{I?ce(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(E||(ce(Qt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),ce(Qt,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Zo:()=>_.close()}),V=(A,O,U)=>{A.listen(O,(K=>{try{U(K)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return V(_,Kl.EventType.OPEN,(()=>{I||(ce(Qt,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),V(_,Kl.EventType.CLOSE,(()=>{I||(I=!0,ce(Qt,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(_))})),V(_,Kl.EventType.ERROR,(A=>{I||(I=!0,Sa(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),D.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),V(_,Kl.EventType.MESSAGE,(A=>{if(!I){const O=A.data[0];$e(!!O,16349);const U=O,K=U?.error||U[0]?.error;if(K){ce(Qt,`RPC '${e}' stream ${i} received error:`,K);const ne=K.status;let re=(function(b){const R=xt[b];if(R!==void 0)return ET(R)})(ne),X=K.message;re===void 0&&(re=Q.INTERNAL,X="Unknown error status: "+ne+" with message "+K.message),I=!0,D.a_(new le(re,X)),_.close()}else ce(Qt,`RPC '${e}' stream ${i} received:`,O),D.u_(O)}})),V(h,OE.STAT_EVENT,(A=>{A.stat===nm.PROXY?ce(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===nm.NOPROXY&&ce(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new d4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class MT{constructor(e,n,r,i,a,l,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uD extends MT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=m4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Te.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Te.min():l.readTime?Rr(l.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dm(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=am(f)?{documents:v4(a,f)}:{query:w4(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=IT(a,l.resumeToken);const p=um(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Te.min())>0){h.readTime=Xh(a,l.snapshotVersion.toTimestamp());const p=um(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=x4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.q_(n)}}class cD extends MT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=y4(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>g4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class dD extends hD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,cm(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,cm(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Q.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class pD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wo(this)&&(ce(ho,"Restarting streams for network reachability change."),await(async function(f){const p=Ie(f);p.Ea.add(4),await Fu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await bd(p)})(this))}))})),this.Ra=new fD(r,i)}}async function bd(t){if(wo(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function OT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?kg(n):za(n).O_()&&Rg(n,e))}function Pg(t,e){const n=Ie(t),r=za(n);n.Ia.delete(e),r.O_()&&FT(n,e),n.Ia.size===0&&(r.O_()?r.L_():wo(n)&&n.Ra.set("Unknown"))}function Rg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}za(t).Y_(e)}function FT(t,e){t.Va.Ue(e),za(t).Z_(e)}function kg(t){t.Va=new l4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),za(t).start(),t.Ra.ua()}function Ng(t){return wo(t)&&!za(t).x_()&&t.Ia.size>0}function wo(t){return Ie(t).Ea.size===0}function UT(t){t.Va=void 0}async function mD(t){t.Ra.set("Online")}async function gD(t){t.Ia.forEach(((e,n)=>{Rg(t,e)}))}async function yD(t,e){UT(t),Ng(t)?(t.Ra.ha(e),kg(t)):t.Ra.set("Unknown")}async function vD(t,e,n){if(t.Ra.set("Online"),e instanceof ST&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){ce(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof Ph?t.Va.Ze(e):e instanceof TT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await jT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),FT(a,f);const _=new ti(y.target,f,p,y.sequenceNumber);Rg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(ho,"Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!Ua(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>jT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)}))}function BT(t,e){return e().catch((n=>Zh(t,n,e)))}async function Ad(t){const e=Ie(t),n=di(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pg;for(;wD(e);)try{const i=await eD(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_D(e,i)}catch(i){await Zh(e,i)}zT(e)&&$T(e)}function wD(t){return wo(t)&&t.Ta.length<10}function _D(t,e){t.Ta.push(e);const n=di(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zT(t){return wo(t)&&!di(t).x_()&&t.Ta.length>0}function $T(t){di(t).start()}async function xD(t){di(t).ra()}async function ED(t){const e=di(t);for(const n of t.Ta)e.ea(n.mutations)}async function TD(t,e,n){const r=t.Ta.shift(),i=Eg.from(r,e,n);await BT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ad(t)}async function SD(t,e){e&&di(t).X_&&await(async function(r,i){if((function(l){return i4(l)&&l!==Q.ABORTED})(i.code)){const a=r.Ta.shift();di(r).B_(),await BT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ad(r)}})(t,e),zT(t)&&$T(t)}async function T_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(ho,"RemoteStore received new credentials");const r=wo(n);n.Ea.add(3),await Fu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function ID(t,e){const n=Ie(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function za(t){return t.ma||(t.ma=(function(n,r,i){const a=Ie(n);return a.sa(),new uD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mD.bind(null,t),t_:gD.bind(null,t),r_:yD.bind(null,t),H_:vD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ng(t)?kg(t):t.Ra.set("Unknown")):(await t.ma.stop(),UT(t))}))),t.ma}function di(t){return t.fa||(t.fa=(function(n,r,i){const a=Ie(n);return a.sa(),new cD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xD.bind(null,t),r_:SD.bind(null,t),ta:ED.bind(null,t),na:TD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ad(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Dg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(t,e){if(fs("AsyncQueue",`${e}: ${t}`),Ua(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(e){return new xa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.ga=new at(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Pa(e,n,xa.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AD{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ie(n),a=i.queries;i.queries=I_(),a.forEach(((l,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function I_(){return new yo((t=>lT(t)),_d)}async function WT(t,e){const n=Ie(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new bD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=Vg(l,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&jg(n)}async function HT(t,e){const n=Ie(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CD(t,e){const n=Ie(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&jg(n)}function PD(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function jg(t){t.Ca.forEach((e=>{e.next()}))}var mm,b_;(b_=mm||(mm={})).Ma="default",b_.Cache="cache";class qT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class RD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=uT(e),this.tu=new xa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new S_,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,_)=>{const E=i.get(y),I=xd(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),V=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;E&&I?E.data.isEqual(I.data)?D!==V&&(r.track({type:3,doc:I}),A=!0):this.su(E,I)||(r.track({type:2,doc:I}),A=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),A=!0):E&&!I&&(r.track({type:1,doc:E}),A=!0,(f||p)&&(h=!0)),A&&(I?(l=l.add(I),a=V?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,_)=>(function(I,D){const V=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:A})}};return V(I)-V(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Pa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new GT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new KT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lg="SyncEngine";class kD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ND{constructor(e){this.key=e,this.hu=!1}}class DD{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new yo((h=>lT(h)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new at(ge.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=Ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VD(t,e,n=!0){const r=eS(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await QT(r,e,n,!0),i}async function jD(t,e){const n=eS(t);await QT(n,e,!0,!1)}async function QT(t,e,n,r){const i=await tD(t.localStore,Pr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await LD(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&OT(t.remoteStore,i),h}async function LD(t,e,n,r,i){t.pu=(_,E,I)=>(async function(V,A,O,U){let K=A.view.ru(O);K.Cs&&(K=await v_(V.localStore,A.query,!1).then((({documents:C})=>A.view.ru(C,K))));const ne=U&&U.targetChanges.get(A.targetId),re=U&&U.targetMismatches.get(A.targetId)!=null,X=A.view.applyChanges(K,V.isPrimaryClient,ne,re);return C_(V,A.targetId,X.au),X.snapshot})(t,_,E,I);const a=await v_(t.localStore,e,!0),l=new RD(e,a.Qs),h=l.ru(a.documents),f=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);C_(t,n,p.au);const y=new kD(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function MD(t,e,n){const r=Ie(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!_d(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pg(r.remoteStore,i.targetId),gm(r,i.targetId)})).catch(Fa)):(gm(r,i.targetId),await fm(r.localStore,i.targetId,!0))}async function OD(t,e){const n=Ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function FD(t,e,n){const r=qD(t);try{const i=await(function(l,h){const f=Ie(l),p=qe.now(),y=h.reduce(((I,D)=>I.add(D.key)),je());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let D=ms(),V=je();return f.Ns.getEntries(I,y).next((A=>{D=A,D.forEach(((O,U)=>{U.isValidDocument()||(V=V.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,D))).next((A=>{_=A;const O=[];for(const U of h){const K=e4(U,_.get(U.key).overlayedDocument);K!=null&&O.push(new vo(U.key,K,eT(K.value.mapValue),rr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,O,h)})).next((A=>{E=A;const O=A.applyToLocalDocumentSet(_,V);return f.documentOverlayCache.saveOverlays(I,A.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:hT(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new at(Ve)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await Uu(r,i.changes),await Ad(r.remoteStore)}catch(i){const a=Vg(i,"Failed to persist write");n.reject(a)}}async function YT(t,e){const n=Ie(t);try{const r=await J4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?$e(l.hu,14607):i.removedDocuments.size>0&&($e(l.hu,42227),l.hu=!1))})),await Uu(n,r,e)}catch(r){await Fa(r)}}function A_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Ie(l);f.onlineState=h;let p=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&jg(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UD(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new at(ge.comparator);l=l.insert(a,Xt.newNoDocument(a,Te.min()));const h=je().add(a),f=new Sd(Te.min(),new Map,new at(Ve),l,h);await YT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Mg(r)}else await fm(r.localStore,e,!1).then((()=>gm(r,e,n))).catch(Fa)}async function BD(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await X4(n.localStore,e);JT(n,r,null),XT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,i)}catch(i){await Fa(i)}}async function zD(t,e,n){const r=Ie(t);try{const i=await(function(l,h){const f=Ie(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>($e(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);JT(r,e,n),XT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,i)}catch(i){await Fa(i)}}function XT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function JT(t,e,n){const r=Ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ZT(t,r)}))}function ZT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mg(t))}function C_(t,e,n){for(const r of n)r instanceof KT?(t.Ru.addReference(r.key,e),$D(t,r)):r instanceof GT?(ce(Lg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ZT(t,r.key)):_e(19791,{wu:r})}function $D(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Lg,"New document in limbo: "+n),t.Eu.add(r),Mg(t))}function Mg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new ND(n)),t.du=t.du.insert(n,r),OT(t.remoteStore,new ti(Pr(wg(n.path)),r,"TargetPurposeLimboResolution",yd.ce))}}async function Uu(t,e,n){const r=Ie(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Ag.As(f.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,p){const y=Ie(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Y.forEach(p,(E=>Y.forEach(E.Es,(I=>y.persistence.referenceDelegate.addReference(_,E.targetId,I))).next((()=>Y.forEach(E.ds,(I=>y.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))))))}catch(_){if(!Ua(_))throw _;ce(Cg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=y.Ms.get(E),D=I.snapshotVersion,V=I.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,V)}}})(r.localStore,a))}async function WD(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(Lg,"User change. New user:",e.toKey());const r=await VT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Q.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.Ls)}}function HD(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let i=je();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function eS(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.Pu.H_=CD.bind(null,e.eventManager),e.Pu.yu=PD.bind(null,e.eventManager),e}function qD(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Y4(this.persistence,new K4,e.initialUser,this.serializer)}Cu(e){return new DT(bg.mi,this.serializer)}Du(e){return new rD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class KD extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new N4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new DT((r=>Jh.mi(r,n)),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AD})()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=(function(a){return new lD(a)})(e.databaseInfo);return(function(a,l,h,f){return new dD(a,l,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new pD(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>A_(this.syncEngine,n,0)),(function(){return x_.v()?new x_:new sD})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,y){const _=new DD(i,a,l,h,f,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);ce(ho,"RemoteStore shutting down."),r.Ea.add(5),await Fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class GD{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ce(fi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(fi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),ce(fi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await VT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QD(t);ce(fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>T_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>T_(e.remoteStore,i))),t._onlineComponents=e}async function QD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(fi,"Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new ed)}}else ce(fi,"Using default OfflineComponentProvider"),await Cp(t,new KD(void 0));return t._offlineComponents}async function nS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(fi,"Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(ce(fi,"Using default OnlineComponentProvider"),await P_(t,new ym))),t._onlineComponents}function YD(t){return nS(t).then((e=>e.syncEngine))}async function rS(t){const e=await nS(t),n=e.eventManager;return n.onListen=VD.bind(null,e.syncEngine),n.onUnlisten=MD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OD.bind(null,e.syncEngine),n}function XD(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new tS({next:E=>{y.Nu(),l.enqueueAndForget((()=>HT(a,_)));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new qT(wg(h.path),y,{includeMetadataChanges:!0,qa:!0});return WT(a,_)})(await rS(t),t.asyncQueue,e,n,r))),r.promise}function JD(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const y=new tS({next:E=>{y.Nu(),l.enqueueAndForget((()=>HT(a,_))),E.fromCache&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new qT(h,y,{includeMetadataChanges:!0,qa:!0});return WT(a,_)})(await rS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",k_=!0;class N_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R4)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new i5;switch(r.type){case"firstParty":return new u5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=R_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),R_.delete(n),r.terminate())})(this),Promise.resolve()}}function ZD(t,e,n,r={}){t=ps(t,Cd);const i=ja(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(x1(`https://${h}`),E1("Firestore",!0)),a.host!==iS&&a.host!==h&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!ai(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yt.MOCK_USER;else{p=YA(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(_)}t._authCredentials=new o5(new zE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _i(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lu(n,It._jsonSchema))return new It(e,r||null,new ge(Ye.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:St("string",It._jsonSchemaVersion),referencePath:St("string")};class oi extends _i{constructor(e,n,r){super(e,n,wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ge(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function In(t,e,...n){if(t=Dt(t),$E("collection","path",e),t instanceof Cd){const r=Ye.fromString(e,...n);return Hw(r),new oi(t,null,r)}{if(!(t instanceof It||t instanceof oi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Hw(r),new oi(t.firestore,null,r)}}function Mr(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=fg.newId()),$E("doc","path",e),t instanceof Cd){const r=Ye.fromString(e,...n);return Ww(r),new It(t,null,new ge(r))}{if(!(t instanceof It||t instanceof oi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Ww(r),new It(t.firestore,t instanceof oi?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LT(this,"async_queue_retry"),this._c=()=>{const r=Ap();r&&ce(D_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ua(e))throw e;ce(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",j_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Dg.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $a extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new V_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function eV(t,e){const n=typeof t=="object"?t:Qm(),r=typeof t=="string"?t:Kh,i=mo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=GA("firestore");a&&ZD(i,...a)}return i}function Og(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tV(t),t._firestoreClient}function tV(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new b5(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn($t.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:St("string",Mn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:St("string",kr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:St("string",Nr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=/^__.*__$/;class rV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}function oS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class Ug{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oS(this.Ac)&&nV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}Cc(e,n,r,i=!1){return new Ug({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new sV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aS(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);cS("Data must be an object, but it was:",l,r);const h=lS(r,l);let f,p;if(a.merge)f=new tr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=oV(e,_,n);if(!l.contains(E))throw new le(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lV(y,E)||y.push(E)}f=new tr(y),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new rV(new Ln(h),f,p)}class zg extends Pd{_toFieldTransform(e){return new wT(e.path,new vu)}isEqual(e){return e instanceof zg}}class $g extends Pd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xu(e.serializer,pT(e.serializer,this.Fc));return new wT(e.path,n)}isEqual(e){return e instanceof $g&&this.Fc===e.Fc}}function iV(t,e,n,r=!1){return Wg(n,t.Cc(r?4:3,e))}function Wg(t,e){if(uS(t=Dt(t)))return cS("Unsupported field value:",e,t),lS(t,e);if(t instanceof Pd)return(function(r,i){if(!oS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=Wg(h,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Xh(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(i.serializer,a)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:IT(i.serializer,r._byteString)};if(r instanceof It){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nr)return(function(l,h){return{mapValue:{fields:{[JE]:{stringValue:ZE},[Gh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return _g(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gd(r)}`)})(t,e)}function lS(t,e){const n={};return qE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,((r,i)=>{const a=Wg(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function uS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof kr||t instanceof Mn||t instanceof It||t instanceof Pd||t instanceof Nr)}function cS(t,e,n){if(!uS(n)||!WE(n)){const r=gd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oV(t,e,n){if((e=Dt(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return hS(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const aV=new RegExp("[~\\*/\\[\\]]");function hS(t,e,n){if(e.search(aV)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(Q.INVALID_ARGUMENT,h+t+f)}function lV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends dS{data(){return super.data()}}function Rd(t,e){return typeof e=="string"?hS(t,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class qg extends Hg{}function pi(t,e,...n){let r=[];e instanceof Hg&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof Kg)).length,h=a.filter((f=>f instanceof kd)).length;if(l>1||l>0&&h>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class kd extends qg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kd(e,n,r)}_apply(e){const n=this._parse(e);return pS(e._query,n),new _i(e.firestore,e.converter,lm(e._query,n))}_parse(e){const n=Bg(e.firestore);return(function(a,l,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){M_(_,y);const D=[];for(const V of _)D.push(L_(f,a,V));E={arrayValue:{values:D}}}else E=L_(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||M_(_,y),E=iV(h,l,_,y==="in"||y==="not-in");return Tt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ni(t,e,n){const r=e,i=Rd("where",t);return kd._create(i,r,n)}class Kg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)pS(l,f),l=lm(l,f)})(e._query,n),new _i(e.firestore,e.converter,lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends qg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,l)})(e._query,this._field,this._direction);return new _i(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ba(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function fS(t,e="asc"){const n=e,r=Rd("orderBy",t);return Gg._create(r,n)}class Qg extends qg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qg(e,n,r)}_apply(e){return new _i(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function hV(t){return Qg._create("limit",t,"F")}function L_(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ge.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zw(t,new ge(r))}if(n instanceof It)return Zw(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function M_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dV{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Nr(n)}convertGeoPoint(e){return new kr(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=ui(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);$e(kT(r),9688,{name:e});const i=new mu(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||fs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends dS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:St("string",ro._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Rh extends ro{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new Rh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Rh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:fV(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){t=ps(t,It);const e=ps(t.firestore,$a);return XD(Og(e),t._key).then((n=>pV(e,t,n)))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:St("string",Ea._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class gS extends dV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function gs(t){t=ps(t,_i);const e=ps(t.firestore,$a),n=Og(e),r=new gS(e);return cV(t._query),JD(n,t._query).then((i=>new Ea(e,r,t,i)))}function yS(t,e,n){t=ps(t,It);const r=ps(t.firestore,$a),i=mS(t.converter,e,n);return Yg(r,[aS(Bg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function vS(t){return Yg(ps(t.firestore,$a),[new xg(t._key,rr.none())])}function Wa(t,e){const n=ps(t.firestore,$a),r=Mr(t),i=mS(t.converter,e);return Yg(n,[aS(Bg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then((()=>r))}function Yg(t,e){return(function(r,i){const a=new us;return r.asyncQueue.enqueueAndForget((async()=>FD(await YD(r),i,a))),a.promise})(Og(t),e)}function pV(t,e,n){const r=n.docs.get(e._key),i=new gS(t);return new ro(t,i,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function O_(){return new zg("serverTimestamp")}function mV(t){return new $g("increment",t)}(function(e,n=!0){(function(i){Oa=i})(La),jr(new sr("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new $a(new a5(r.getProvider("auth-internal")),new c5(l,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,y)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Fn(Uw,Bw,e),Fn(Uw,Bw,"esm2020")})();const gV={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Xg=P1(gV);zR(Xg);const ot=r5(Xg),ht=eV(Xg),wS=new ss,Jg=P.createContext({});function Zg(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const ey=typeof window<"u",_S=ey?P.useLayoutEffect:P.useEffect,Nd=P.createContext(null);function ty(t,e){t.indexOf(e)===-1&&t.push(e)}function ny(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ys=(t,e,n)=>n>e?e:n<t?t:n;let ry=()=>{};const vs={},xS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ES(t){return typeof t=="object"&&t!==null}const TS=t=>/^0[^.\s]+$/u.test(t);function sy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Un=t=>t,yV=(t,e)=>n=>e(t(n)),Bu=(...t)=>t.reduce(yV),Eu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class iy{constructor(){this.subscriptions=[]}add(e){return ty(this.subscriptions,e),()=>ny(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,On=t=>t/1e3;function SS(t,e){return e?t*(1e3/e):0}const IS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vV=1e-7,wV=12;function _V(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=IS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>vV&&++h<wV);return l}function zu(t,e,n,r){if(t===e&&n===r)return Un;const i=a=>_V(a,0,1,t,n);return a=>a===0||a===1?a:IS(i(a),e,r)}const bS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AS=t=>e=>1-t(1-e),CS=zu(.33,1.53,.69,.99),oy=AS(CS),PS=bS(oy),RS=t=>(t*=2)<1?.5*oy(t):.5*(2-Math.pow(2,-10*(t-1))),ay=t=>1-Math.sin(Math.acos(t)),kS=AS(ay),NS=bS(ay),xV=zu(.42,0,1,1),EV=zu(0,0,.58,1),DS=zu(.42,0,.58,1),TV=t=>Array.isArray(t)&&typeof t[0]!="number",VS=t=>Array.isArray(t)&&typeof t[0]=="number",SV={linear:Un,easeIn:xV,easeInOut:DS,easeOut:EV,circIn:ay,circInOut:NS,circOut:kS,backIn:oy,backInOut:PS,backOut:CS,anticipate:RS},IV=t=>typeof t=="string",F_=t=>{if(VS(t)){ry(t.length===4);const[e,n,r,i]=t;return zu(e,n,r,i)}else if(IV(t))return SV[t];return t},ph=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bV(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,E=!1)=>{const D=E&&i?n:r;return _&&l.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(h=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(y))}};return p}const AV=40;function jS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ph.reduce((K,ne)=>(K[ne]=bV(a),K),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:I,postRender:D}=l,V=()=>{const K=vs.useManualTiming?i.timestamp:performance.now();n=!1,vs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(K-i.timestamp,AV),1)),i.timestamp=K,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),y.process(i),_.process(i),E.process(i),I.process(i),D.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(V))},A=()=>{n=!0,r=!0,i.isProcessing||t(V)};return{schedule:ph.reduce((K,ne)=>{const re=l[ne];return K[ne]=(X,C=!1,b=!1)=>(n||A(),re.schedule(X,C,b)),K},{}),cancel:K=>{for(let ne=0;ne<ph.length;ne++)l[ph[ne]].cancel(K)},state:i,steps:l}}const{schedule:tt,cancel:mi,state:Ft,steps:Pp}=jS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let kh;function CV(){kh=void 0}const fn={now:()=>(kh===void 0&&fn.set(Ft.isProcessing||vs.useManualTiming?Ft.timestamp:performance.now()),kh),set:t=>{kh=t,queueMicrotask(CV)}},LS=t=>e=>typeof e=="string"&&e.startsWith(t),ly=LS("--"),PV=LS("var(--"),uy=t=>PV(t)?RV.test(t.split("/*")[0].trim()):!1,RV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ha={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Ha,transform:t=>ys(0,1,t)},mh={...Ha,default:1},su=t=>Math.round(t*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kV(t){return t==null}const NV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(t,e)=>n=>!!(typeof n=="string"&&NV.test(n)&&n.startsWith(t)||e&&!kV(n)&&Object.prototype.hasOwnProperty.call(n,e)),MS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(cy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},DV=t=>ys(0,255,t),Rp={...Ha,transform:t=>Math.round(DV(t))},to={test:hy("rgb","red"),parse:MS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rp.transform(t)+", "+Rp.transform(e)+", "+Rp.transform(n)+", "+su(Tu.transform(r))+")"};function VV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vm={test:hy("#"),parse:VV,transform:to.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xs=$u("deg"),Vr=$u("%"),xe=$u("px"),jV=$u("vh"),LV=$u("vw"),U_={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},da={test:hy("hsl","hue"),parse:MS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(su(e))+", "+Vr.transform(su(n))+", "+su(Tu.transform(r))+")"},Et={test:t=>to.test(t)||vm.test(t)||da.test(t),parse:t=>to.test(t)?to.parse(t):da.test(t)?da.parse(t):vm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):da.transform(t),getAnimatableNone:t=>{const e=Et.parse(t);return e.alpha=0,Et.transform(e)}},MV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(t){return isNaN(t)&&typeof t=="string"&&(t.match(cy)?.length||0)+(t.match(MV)?.length||0)>0}const OS="number",FS="color",FV="var",UV="var(",B_="${}",BV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(BV,f=>(Et.test(f)?(r.color.push(a),i.push(FS),n.push(Et.parse(f))):f.startsWith(UV)?(r.var.push(a),i.push(FV),n.push(f)):(r.number.push(a),i.push(OS),n.push(parseFloat(f))),++a,B_)).split(B_);return{values:n,split:h,indexes:r,types:i}}function US(t){return Su(t).values}function BS(t){const{split:e,types:n}=Su(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===OS?a+=su(i[l]):h===FS?a+=Et.transform(i[l]):a+=i[l]}return a}}const zV=t=>typeof t=="number"?0:Et.test(t)?Et.getAnimatableNone(t):t;function $V(t){const e=US(t);return BS(t)(e.map(zV))}const gi={test:OV,parse:US,createTransformer:BS,getAnimatableNone:$V};function kp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=kp(f,h,t+1/3),a=kp(f,h,t),l=kp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function nd(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,Np=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HV=[vm,to,da],qV=t=>HV.find(e=>e.test(t));function z_(t){const e=qV(t);if(!e)return!1;let n=e.parse(t);return e===da&&(n=WV(n)),n}const $_=(t,e)=>{const n=z_(t),r=z_(e);if(!n||!r)return nd(t,e);const i={...n};return a=>(i.red=Np(n.red,r.red,a),i.green=Np(n.green,r.green,a),i.blue=Np(n.blue,r.blue,a),i.alpha=it(n.alpha,r.alpha,a),to.transform(i))},wm=new Set(["none","hidden"]);function KV(t,e){return wm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GV(t,e){return n=>it(t,e,n)}function dy(t){return typeof t=="number"?GV:typeof t=="string"?uy(t)?nd:Et.test(t)?$_:XV:Array.isArray(t)?zS:typeof t=="object"?Et.test(t)?$_:QV:nd}function zS(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>dy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function QV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dy(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function YV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const XV=(t,e)=>{const n=gi.createTransformer(e),r=Su(t),i=Su(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wm.has(t)&&!i.values.length||wm.has(e)&&!r.values.length?KV(t,e):Bu(zS(YV(r,i),i.values),n):nd(t,e)};function $S(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):dy(t)(t,e)}const JV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>mi(e),now:()=>Ft.isProcessing?Ft.timestamp:fn.now()}},WS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},rd=2e4;function fy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rd;)e+=n,r=t.next(e);return e>=rd?1/0:e}function ZV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(fy(r),rd);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:On(i)}}const ej=5;function HS(t,e,n){const r=Math.max(e-ej,0);return SS(n-t(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dp=.001;function tj({duration:t=ct.duration,bounce:e=ct.bounce,velocity:n=ct.velocity,mass:r=ct.mass}){let i,a,l=1-e;l=ys(ct.minDamping,ct.maxDamping,l),t=ys(ct.minDuration,ct.maxDuration,On(t)),l<1?(i=p=>{const y=p*l,_=y*t,E=y-n,I=_m(p,l),D=Math.exp(-_);return Dp-E/I*D},a=p=>{const _=p*l*t,E=_*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,D=Math.exp(-_),V=_m(Math.pow(p,2),l);return(-i(p)+Dp>0?-1:1)*((E-I)*D)/V}):(i=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Dp+y*_},a=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=rj(i,a,h);if(t=Dr(t),isNaN(f))return{stiffness:ct.stiffness,damping:ct.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const nj=12;function rj(t,e,n){let r=n;for(let i=1;i<nj;i++)r=r-t(r)/e(r);return r}function _m(t,e){return t*Math.sqrt(1-e*e)}const sj=["duration","bounce"],ij=["stiffness","damping","mass"];function W_(t,e){return e.some(n=>t[n]!==void 0)}function oj(t){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...t};if(!W_(t,ij)&&W_(t,sj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ys(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ct.mass,stiffness:i,damping:a}}else{const n=tj(t);e={...e,...n,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function sd(t=ct.visualDuration,e=ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:I}=oj({...n,velocity:-On(n.velocity||0)}),D=E||0,V=p/(2*Math.sqrt(f*y)),A=l-a,O=On(Math.sqrt(f/y)),U=Math.abs(A)<5;r||(r=U?ct.restSpeed.granular:ct.restSpeed.default),i||(i=U?ct.restDelta.granular:ct.restDelta.default);let K;if(V<1){const re=_m(O,V);K=X=>{const C=Math.exp(-V*O*X);return l-C*((D+V*O*A)/re*Math.sin(re*X)+A*Math.cos(re*X))}}else if(V===1)K=re=>l-Math.exp(-O*re)*(A+(D+O*A)*re);else{const re=O*Math.sqrt(V*V-1);K=X=>{const C=Math.exp(-V*O*X),b=Math.min(re*X,300);return l-C*((D+V*O*A)*Math.sinh(b)+re*A*Math.cosh(b))/re}}const ne={calculatedDuration:I&&_||null,next:re=>{const X=K(re);if(I)h.done=re>=_;else{let C=re===0?D:0;V<1&&(C=re===0?Dr(D):HS(K,re,X));const b=Math.abs(C)<=r,R=Math.abs(l-X)<=i;h.done=b&&R}return h.value=h.done?l:X,h},toString:()=>{const re=Math.min(fy(ne),rd),X=WS(C=>ne.next(re*C).value,re,30);return re+"ms "+X},toTransition:()=>{}};return ne}sd.applyToOptions=t=>{const e=ZV(t,100,sd);return t.ease=e.ease,t.duration=Dr(e.duration),t.type="keyframes",t};function xm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},I=b=>h!==void 0&&b<h||f!==void 0&&b>f,D=b=>h===void 0?f:f===void 0||Math.abs(h-b)<Math.abs(f-b)?h:f;let V=n*e;const A=_+V,O=l===void 0?A:l(A);O!==A&&(V=O-_);const U=b=>-V*Math.exp(-b/r),K=b=>O+U(b),ne=b=>{const R=U(b),j=K(b);E.done=Math.abs(R)<=p,E.value=E.done?O:j};let re,X;const C=b=>{I(E.value)&&(re=b,X=sd({keyframes:[E.value,D(E.value)],velocity:HS(K,b,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:b=>{let R=!1;return!X&&re===void 0&&(R=!0,ne(b),C(b)),re!==void 0&&b>=re?X.next(b-re):(!R&&ne(b),E)}}}function aj(t,e,n){const r=[],i=n||vs.mix||$S,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Un:e;h=Bu(f,h)}r.push(h)}return r}function lj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ry(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=aj(e,r,i),f=h.length,p=y=>{if(l&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=Eu(t[_],t[_+1],y);return h[_](E)};return n?y=>p(ys(t[0],t[a-1],y)):p}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Eu(0,e,r);t.push(it(n,1,i))}}function cj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function dj(t,e){return t.map(()=>e||DS).splice(0,t.length-1)}function iu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TV(r)?r.map(F_):F_(r),a={done:!1,value:e[0]},l=hj(n&&n.length===e.length?n:cj(e),t),h=lj(l,e,{ease:Array.isArray(i)?i:dj(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const fj=t=>t!==null;function py(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(fj),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const pj={decay:xm,inertia:xm,tween:iu,keyframes:iu,spring:sd};function qS(t){typeof t.type=="string"&&(t.type=pj[t.type])}class my{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mj=t=>t/100;class gy extends my{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qS(e);const{type:n=iu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||iu;f!==iu&&typeof h[0]!="number"&&(this.mixKeyframes=Bu(mj,$S(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=fy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:I,type:D,onUpdate:V,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?O<0:O>i;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let K=this.currentTime,ne=r;if(_){const b=Math.min(this.currentTime,i)/h;let R=Math.floor(b),j=b%1;!j&&b>=1&&(j=1),j===1&&R--,R=Math.min(R,_+1),!!(R%2)&&(E==="reverse"?(j=1-j,I&&(j-=I/h)):E==="mirror"&&(ne=l)),K=ys(0,1,j)*h}const re=U?{done:!1,value:y[0]}:ne.next(K);a&&(re.value=a(re.value));let{done:X}=re;!U&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return C&&D!==xm&&(re.value=py(y,this.options,A,this.speed)),V&&V(re.value),C&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return On(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+On(e)}get time(){return On(this.currentTime)}set time(e){e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=On(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=JV,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function gj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,Em=t=>{const e=no(Math.atan2(t[1],t[0]));return Tm(e)},yj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Em,rotateZ:Em,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tm=t=>(t=t%360,t<0&&(t+=360),t),H_=Em,q_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),K_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),vj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q_,scaleY:K_,scale:t=>(q_(t)+K_(t))/2,rotateX:t=>Tm(no(Math.atan2(t[6],t[5]))),rotateY:t=>Tm(no(Math.atan2(-t[2],t[0]))),rotateZ:H_,rotate:H_,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sm(t){return t.includes("scale")?1:0}function Im(t,e){if(!t||t==="none")return Sm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=vj,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yj,i=h}if(!i)return Sm(e);const a=r[e],l=i[1].split(",").map(_j);return typeof a=="function"?a(l):l[a]}const wj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Im(n,e)};function _j(t){return parseFloat(t.trim())}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ka=new Set(qa),G_=t=>t===Ha||t===xe,xj=new Set(["x","y","z"]),Ej=qa.filter(t=>!xj.has(t));function Tj(t){const e=[];return Ej.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const so={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Im(e,"x"),y:(t,{transform:e})=>Im(e,"y")};so.translateX=so.x;so.translateY=so.y;const io=new Set;let bm=!1,Am=!1,Cm=!1;function KS(){if(Am){const t=Array.from(io).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Tj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Am=!1,bm=!1,io.forEach(t=>t.complete(Cm)),io.clear()}function GS(){io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Am=!0)})}function Sj(){Cm=!0,GS(),KS(),Cm=!1}class yy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(io.add(this),bm||(bm=!0,tt.read(GS),tt.resolveKeyframes(KS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}gj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),io.delete(this)}cancel(){this.state==="scheduled"&&(io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ij=t=>t.startsWith("--");function bj(t,e,n){Ij(e)?t.style.setProperty(e,n):t.style[e]=n}const Aj=sy(()=>window.ScrollTimeline!==void 0),Cj={};function Pj(t,e){const n=sy(t);return()=>Cj[e]??n()}const QS=Pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function YS(t,e){if(t)return typeof t=="function"?QS()?WS(t,e):"ease-out":VS(t)?Xl(t):Array.isArray(t)?t.map(n=>YS(n,e)||Q_.easeOut):Q_[t]}function Rj(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=YS(h,i);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function XS(t){return typeof t=="function"&&"applyToOptions"in t}function kj({type:t,...e}){return XS(t)&&QS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Nj extends my{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,ry(typeof e.type!="string");const p=kj(e);this.animation=Rj(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=py(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):bj(n,r,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return On(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+On(e)}get time(){return On(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Aj()?(this.animation.timeline=e,Un):n(this)}}const JS={anticipate:RS,backInOut:PS,circInOut:NS};function Dj(t){return t in JS}function Vj(t){typeof t.ease=="string"&&Dj(t.ease)&&(t.ease=JS[t.ease])}const Y_=10;class jj extends Nj{constructor(e){Vj(e),qS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new gy({...l,autoplay:!1}),f=Dr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Y_).value,h.sample(f).value,Y_),h.stop()}}const X_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gi.test(t)||t==="0")&&!t.startsWith("url("));function Lj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Mj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=X_(i,e),h=X_(a,e);return!l||!h?!1:Lj(t)||(n==="spring"||XS(n))&&r}function Pm(t){t.duration=0,t.type="keyframes"}const Oj=new Set(["opacity","clipPath","filter","transform"]),Fj=sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Uj(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Fj()&&n&&Oj.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const Bj=40;class zj extends my{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fn.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:y,..._},I=y?.KeyframeResolver||yy;this.keyframeResolver=new I(h,(D,V,A)=>this.onKeyframesResolved(D,V,E,!A),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:y}=r;this.resolvedAt=fn.now(),Mj(e,a,l,h)||((vs.instantAnimations||!f)&&y?.(py(e,r,n)),e[0]=e[e.length-1],Pm(r),r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Bj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!p&&Uj(E)?new jj({...E,element:E.motionValue.owner.current}):new gy(E);I.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Sj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wj(t){const e=$j.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ZS(t,e,n=1){const[r,i]=Wj(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return xS(l)?parseFloat(l):l}return uy(i)?ZS(i,e,n+1):i}function vy(t,e){return t?.[e]??t?.default??t}const eI=new Set(["width","height","top","left","right","bottom",...qa]),Hj={test:t=>t==="auto",parse:t=>t},tI=t=>e=>e.test(t),nI=[Ha,xe,Vr,Xs,LV,jV,Hj],J_=t=>nI.find(tI(t));function qj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TS(t):!0}const Kj=new Set(["brightness","contrast","saturate","opacity"]);function Gj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cy)||[];if(!r)return t;const i=n.replace(r,"");let a=Kj.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Qj=/\b([a-z-]*)\(.*?\)/gu,Rm={...gi,getAnimatableNone:t=>{const e=t.match(Qj);return e?e.map(Gj).join(" "):t}},Z_={...Ha,transform:Math.round},Yj={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:Xs,skewX:Xs,skewY:Xs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Tu,originX:U_,originY:U_,originZ:xe},wy={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...Yj,zIndex:Z_,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:Z_},Xj={...wy,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Rm,WebkitFilter:Rm},rI=t=>Xj[t];function sI(t,e){let n=rI(t);return n!==Rm&&(n=gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Jj=new Set(["auto","none","0"]);function Zj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Jj.has(a)&&Su(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=sI(n,i)}class eL extends yy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),uy(p))){const y=ZS(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!eI.has(r)||e.length!==2)return;const[i,a]=e,l=J_(i),h=J_(a);if(l!==h)if(G_(l)&&G_(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else so[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||qj(e[i]))&&r.push(i);r.length&&Zj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=so[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function tL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const iI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oI(t){return ES(t)&&"offsetHeight"in t}const ex=30,nL=t=>!isNaN(parseFloat(t));class rL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=fn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iy);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ex)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ex);return SS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ka(t,e){return new rL(t,e)}const{schedule:_y}=jS(queueMicrotask,!1),Zn={x:!1,y:!1};function aI(){return Zn.x||Zn.y}function sL(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function lI(t,e){const n=tL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function tx(t){return!(t.pointerType==="touch"||aI())}function iL(t,e,n={}){const[r,i,a]=lI(t,n),l=h=>{if(!tx(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{tx(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const uI=(t,e)=>e?t===e?!0:uI(t,e.parentElement):!1,xy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aL(t){return oL.has(t.tagName)||t.tabIndex!==-1}const Nh=new WeakSet;function nx(t){return e=>{e.key==="Enter"&&t(e)}}function Vp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=nx(()=>{if(Nh.has(n))return;Vp(n,"down");const i=nx(()=>{Vp(n,"up")}),a=()=>Vp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rx(t){return xy(t)&&!aI()}function uL(t,e,n={}){const[r,i,a]=lI(t,n),l=h=>{const f=h.currentTarget;if(!rx(h))return;Nh.add(f);const p=e(f,h),y=(I,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Nh.has(f)&&Nh.delete(f),rx(I)&&typeof p=="function"&&p(I,{success:D})},_=I=>{y(I,f===window||f===document||n.useGlobalTarget||uI(f,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",E,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),oI(h)&&(h.addEventListener("focus",p=>lL(p,i)),!aL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function cI(t){return ES(t)&&"ownerSVGElement"in t}function cL(t){return cI(t)&&t.tagName==="svg"}const Jt=t=>!!(t&&t.getVelocity),hL=[...nI,Et,gi],dL=t=>hL.find(tI(t)),Ey=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fL(...t){return e=>{let n=!1;const r=t.map(i=>{const a=sx(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():sx(t[i],null)}}}}function pL(...t){return P.useCallback(fL(...t),t)}class mL extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=oI(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gL({children:t,isPresent:e,anchorX:n,root:r}){const i=P.useId(),a=P.useRef(null),l=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=P.useContext(Ey),f=pL(a,t?.ref);return P.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:E,right:I}=l.current;if(e||!a.current||!p||!y)return;const D=n==="left"?`left: ${E}`:`right: ${I}`;a.current.dataset.motionPopId=i;const V=document.createElement("style");h&&(V.nonce=h);const A=r??document.head;return A.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{A.contains(V)&&A.removeChild(V)}},[e]),m.jsx(mL,{isPresent:e,childRef:a,sizeRef:l,children:P.cloneElement(t,{ref:f})})}const yL=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,root:f})=>{const p=Zg(vL),y=P.useId();let _=!0,E=P.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:i,onExitComplete:I=>{p.set(I,!0);for(const D of p.values())if(!D)return;r&&r()},register:I=>(p.set(I,!1),()=>p.delete(I))}),[n,p,r]);return a&&_&&(E={...E}),P.useMemo(()=>{p.forEach((I,D)=>p.set(D,!1))},[n]),P.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(gL,{isPresent:n,anchorX:h,root:f,children:t})),m.jsx(Nd.Provider,{value:E,children:t})};function vL(){return new Map}function hI(t=!0){const e=P.useContext(Nd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{if(t)return i(a)},[t]);const l=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const gh=t=>t.key||"";function ix(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const Dd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",root:f})=>{const[p,y]=hI(l),_=P.useMemo(()=>ix(t),[t]),E=l&&!p?[]:_.map(gh),I=P.useRef(!0),D=P.useRef(_),V=Zg(()=>new Map),[A,O]=P.useState(_),[U,K]=P.useState(_);_S(()=>{I.current=!1,D.current=_;for(let X=0;X<U.length;X++){const C=gh(U[X]);E.includes(C)?V.delete(C):V.get(C)!==!0&&V.set(C,!1)}},[U,E.length,E.join("-")]);const ne=[];if(_!==A){let X=[..._];for(let C=0;C<U.length;C++){const b=U[C],R=gh(b);E.includes(R)||(X.splice(C,0,b),ne.push(b))}return a==="wait"&&ne.length&&(X=ne),K(ix(X)),O(_),null}const{forceRender:re}=P.useContext(Jg);return m.jsx(m.Fragment,{children:U.map(X=>{const C=gh(X),b=l&&!p?!1:_===U||E.includes(C),R=()=>{if(V.has(C))V.set(C,!0);else return;let j=!0;V.forEach(L=>{L||(j=!1)}),j&&(re?.(),K(D.current),l&&y?.(),r&&r())};return m.jsx(yL,{isPresent:b,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:b?void 0:R,anchorX:h,children:X},C)})})},dI=P.createContext({strict:!1}),ox={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Na={};for(const t in ox)Na[t]={isEnabled:e=>ox[t].some(n=>!!e[n])};function wL(t){for(const e in t)Na[e]={...Na[e],...t[e]}}const _L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function id(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_L.has(t)}let fI=t=>!id(t);function xL(t){typeof t=="function"&&(fI=e=>e.startsWith("on")?!id(e):t(e))}try{xL(require("@emotion/is-prop-valid").default)}catch{}function EL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(fI(i)||n===!0&&id(i)||!e&&!id(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Vd=P.createContext({});function jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const Ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sy=["initial",...Ty];function Ld(t){return jd(t.animate)||Sy.some(e=>Iu(t[e]))}function pI(t){return!!(Ld(t)||t.variants)}function TL(t,e){if(Ld(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function SL(t){const{initial:e,animate:n}=TL(t,P.useContext(Vd));return P.useMemo(()=>({initial:e,animate:n}),[ax(e),ax(n)])}function ax(t){return Array.isArray(t)?t.join(" "):t}const bu={};function IL(t){for(const e in t)bu[e]=t[e],ly(e)&&(bu[e].isCSSVariable=!0)}function mI(t,{layout:e,layoutId:n}){return Ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bu[t]||t==="opacity")}const bL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AL=qa.length;function CL(t,e,n){let r="",i=!0;for(let a=0;a<AL;a++){const l=qa[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=iI(h,wy[l]);if(!f){i=!1;const y=bL[l]||l;r+=`${y}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Iy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(Ka.has(f)){l=!0;continue}else if(ly(f)){i[f]=p;continue}else{const y=iI(p,wy[f]);f.startsWith("origin")?(h=!0,a[f]=y):r[f]=y}}if(e.transform||(l||n?r.transform=CL(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${p} ${y}`}}const by=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gI(t,e,n){for(const r in e)!Jt(e[r])&&!mI(r,n)&&(t[r]=e[r])}function PL({transformTemplate:t},e){return P.useMemo(()=>{const n=by();return Iy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RL(t,e){const n=t.style||{},r={};return gI(r,n,t),Object.assign(r,PL(t,e)),r}function kL(t,e){const n={},r=RL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const NL={offset:"stroke-dashoffset",array:"stroke-dasharray"},DL={offset:"strokeDashoffset",array:"strokeDasharray"};function VL(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?NL:DL;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function yI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,y){if(Iy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&VL(_,i,a,l,!1)}const vI=()=>({...by(),attrs:{}}),wI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jL(t,e,n,r){const i=P.useMemo(()=>{const a=vI();return yI(a,e,wI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};gI(a,t.style,t),i.style={...a,...i.style}}return i}const LL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ay(t){return typeof t!="string"||t.includes("-")?!1:!!(LL.indexOf(t)>-1||/[A-Z]/u.test(t))}function ML(t,e,n,{latestValues:r},i,a=!1){const h=(Ay(t)?jL:kL)(e,r,i,t),f=EL(e,typeof t=="string",a),p=t!==P.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=P.useMemo(()=>Jt(y)?y.get():y,[y]);return P.createElement(t,{...p,children:_})}function lx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Cy(t,e,n,r){if(typeof e=="function"){const[i,a]=lx(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=lx(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Dh(t){return Jt(t)?t.get():t}function OL({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:FL(n,r,i,t),renderState:e()}}function FL(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Dh(a[E]);let{initial:l,animate:h}=t;const f=Ld(t),p=pI(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?h:l;if(_&&typeof _!="boolean"&&!jd(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const D=Cy(t,E[I]);if(D){const{transitionEnd:V,transition:A,...O}=D;for(const U in O){let K=O[U];if(Array.isArray(K)){const ne=y?K.length-1:0;K=K[ne]}K!==null&&(i[U]=K)}for(const U in V)i[U]=V[U]}}}return i}const _I=t=>(e,n)=>{const r=P.useContext(Vd),i=P.useContext(Nd),a=()=>OL(t,e,r,i);return n?a():Zg(a)};function Py(t,e,n){const{style:r}=t,i={};for(const a in r)(Jt(r[a])||e.style&&Jt(e.style[a])||mI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const UL=_I({scrapeMotionValuesFromProps:Py,createRenderState:by});function xI(t,e,n){const r=Py(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=qa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const BL=_I({scrapeMotionValuesFromProps:xI,createRenderState:vI}),zL=Symbol.for("motionComponentSymbol");function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $L(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fa(n)&&(n.current=r))},[e])}const Ry=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WL="framerAppearId",EI="data-"+Ry(WL),TI=P.createContext({});function HL(t,e,n,r,i){const{visualElement:a}=P.useContext(Vd),l=P.useContext(dI),h=P.useContext(Nd),f=P.useContext(Ey).reducedMotion,p=P.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=P.useContext(TI);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&qL(p.current,n,i,_);const E=P.useRef(!1);P.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const I=n[EI],D=P.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return _S(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),D.current=!1),y.enteringChildren=void 0)}),y}function qL(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SI(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&fa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:p})}function SI(t){if(t)return t.options.allowProjection!==!1?t.projection:SI(t.parent)}function jp(t,{forwardMotionProps:e=!1}={},n,r){n&&wL(n);const i=Ay(t)?BL:UL;function a(h,f){let p;const y={...P.useContext(Ey),...h,layoutId:KL(h)},{isStatic:_}=y,E=SL(h),I=i(h,_);if(!_&&ey){GL();const D=QL(y);p=D.MeasureLayout,E.visualElement=HL(t,I,y,r,D.ProjectionNode)}return m.jsxs(Vd.Provider,{value:E,children:[p&&E.visualElement?m.jsx(p,{visualElement:E.visualElement,...y}):null,ML(t,h,$L(I,E.visualElement,f),I,_,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=P.forwardRef(a);return l[zL]=t,l}function KL({layoutId:t}){const e=P.useContext(Jg).id;return e&&t!==void 0?e+"-"+t:t}function GL(t,e){P.useContext(dI).strict}function QL(t){const{drag:e,layout:n}=Na;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YL(t,e){if(typeof Proxy>"u")return jp;const n=new Map,r=(a,l)=>jp(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,jp(l,void 0,t,e)),n.get(l))})}function II({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function XL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lp(t){return t===void 0||t===1}function km({scale:t,scaleX:e,scaleY:n}){return!Lp(t)||!Lp(e)||!Lp(n)}function Xi(t){return km(t)||bI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bI(t){return ux(t.x)||ux(t.y)}function ux(t){return t&&t!=="0%"}function od(t,e,n){const r=t-n,i=e*r;return n+i}function cx(t,e,n,r,i){return i!==void 0&&(t=od(t,i,r)),od(t,n,r)+e}function Nm(t,e=0,n=1,r,i){t.min=cx(t.min,e,n,r,i),t.max=cx(t.max,e,n,r,i)}function AI(t,{x:e,y:n}){Nm(t.x,e.translate,e.scale,e.originPoint),Nm(t.y,n.translate,n.scale,n.originPoint)}const hx=.999999999999,dx=1.0000000000001;function ZL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ma(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,AI(t,l)),r&&Xi(a.latestValues)&&ma(t,a.latestValues))}e.x<dx&&e.x>hx&&(e.x=1),e.y<dx&&e.y>hx&&(e.y=1)}function pa(t,e){t.min=t.min+e,t.max=t.max+e}function fx(t,e,n,r,i=.5){const a=it(t.min,t.max,i);Nm(t,e,n,a,r)}function ma(t,e){fx(t.x,e.x,e.scaleX,e.scale,e.originX),fx(t.y,e.y,e.scaleY,e.scale,e.originY)}function CI(t,e){return II(JL(t.getBoundingClientRect(),e))}function e6(t,e,n){const r=CI(t,n),{scroll:i}=e;return i&&(pa(r.x,i.offset.x),pa(r.y,i.offset.y)),r}const px=()=>({translate:0,scale:1,origin:0,originPoint:0}),ga=()=>({x:px(),y:px()}),mx=()=>({min:0,max:0}),gt=()=>({x:mx(),y:mx()}),Dm={current:null},PI={current:!1};function t6(){if(PI.current=!0,!!ey)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=t.matches;t.addEventListener("change",e),e()}else Dm.current=!1}const n6=new WeakMap;function r6(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,ka(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ka(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const gx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=fn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Ld(n),this.isVariantNode=pI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const I=_[E];f[E]!==void 0&&Jt(I)&&I.set(f[E])}}mount(e){this.current=e,n6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PI.current||t6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),mi(this.notifyUpdate),mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Na){const n=Na[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gx.length;r++){const i=gx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=r6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ka(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xS(r)||TS(r))?r=parseFloat(r):!dL(r)&&gi.test(n)&&(r=sI(e,n)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Cy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_y.render(this.render)}}class RI extends s6{constructor(){super(...arguments),this.KeyframeResolver=eL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kI(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function i6(t){return window.getComputedStyle(t)}class o6 extends RI{constructor(){super(...arguments),this.type="html",this.renderInstance=kI}readValueFromInstance(e,n){if(Ka.has(n))return this.projection?.isProjecting?Sm(n):wj(e,n);{const r=i6(e),i=(ly(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CI(e,n)}build(e,n,r){Iy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Py(e,n,r)}}const NI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a6(t,e,n,r){kI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NI.has(i)?i:Ry(i),e.attrs[i])}class l6 extends RI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ka.has(n)){const r=rI(n);return r&&r.default||0}return n=NI.has(n)?n:Ry(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xI(e,n,r)}build(e,n,r){yI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){a6(e,n,r,i)}mount(e){this.isSVGTag=wI(e.tagName),super.mount(e)}}const u6=(t,e)=>Ay(t)?new l6(e):new o6(e,{allowProjection:t!==P.Fragment});function Ta(t,e,n){const r=t.getProps();return Cy(r,e,n!==void 0?n:r.custom,t)}const Vm=t=>Array.isArray(t);function c6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ka(n))}function h6(t){return Vm(t)?t[t.length-1]||0:t}function d6(t,e){const n=Ta(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=h6(a[l]);c6(t,l,h)}}function f6(t){return!!(Jt(t)&&t.add)}function jm(t,e){const n=t.getValue("willChange");if(f6(n))return n.add(e);if(!n&&vs.WillChange){const r=new vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DI(t){return t.props[EI]}const p6=t=>t!==null;function m6(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(p6),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const g6={type:"spring",stiffness:500,damping:25,restSpeed:10},y6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v6={type:"keyframes",duration:.8},w6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_6=(t,{keyframes:e})=>e.length>2?v6:Ka.has(t)?t.startsWith("scale")?y6(e[1]):g6:w6;function x6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const ky=(t,e,n,r={},i,a)=>l=>{const h=vy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Dr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};x6(h)||Object.assign(y,_6(t,y)),y.duration&&(y.duration=Dr(y.duration)),y.repeatDelay&&(y.repeatDelay=Dr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Pm(y),y.delay===0&&(_=!0)),(vs.instantAnimations||vs.skipAnimations)&&(_=!0,Pm(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=m6(y.keyframes,h);if(E!==void 0){tt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new gy(y):new zj(y)};function E6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&E6(p,y))continue;const I={delay:n,...vy(a||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===D&&!I.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const O=DI(t);if(O){const U=window.MotionHandoffAnimation(O,y,tt);U!==null&&(I.startTime=U,V=!0)}}jm(t,y),_.start(ky(y,_,E,t.shouldReduceMotion&&eI.has(y)?{type:!1}:I,t,V));const A=_.animation;A&&f.push(A)}return l&&Promise.all(f).then(()=>{tt.update(()=>{l&&d6(t,l)})}),f}function jI(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}function Lm(t,e,n={}){const r=Ta(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(VI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=i;return T6(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function T6(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Lm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+jI(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function S6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Lm(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Lm(t,e,n);else{const i=typeof e=="function"?Ta(t,e,n.custom):e;r=Promise.all(VI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const I6=Sy.length;function MI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<I6;n++){const r=Sy[n],i=t.props[r];(Iu(i)||i===!1)&&(e[r]=i)}return e}const b6=[...Ty].reverse(),A6=Ty.length;function C6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>S6(t,n,r)))}function P6(t){let e=C6(t),n=yx(),r=!0;const i=f=>(p,y)=>{const _=Ta(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:I,...D}=_;p={...p,...D,...I}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,y=MI(t.parent)||{},_=[],E=new Set;let I={},D=1/0;for(let A=0;A<A6;A++){const O=b6[A],U=n[O],K=p[O]!==void 0?p[O]:y[O],ne=Iu(K),re=O===f?U.isActive:null;re===!1&&(D=A);let X=K===y[O]&&K!==p[O]&&ne;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),U.protectedKeys={...I},!U.isActive&&re===null||!K&&!U.prevProp||jd(K)||typeof K=="boolean")continue;const C=R6(U.prevProp,K);let b=C||O===f&&U.isActive&&!X&&ne||A>D&&ne,R=!1;const j=Array.isArray(K)?K:[K];let L=j.reduce(i(O),{});re===!1&&(L={});const{prevResolvedValues:z={}}=U,N={...z,...L},We=be=>{b=!0,E.has(be)&&(R=!0,E.delete(be)),U.needsAnimating[be]=!0;const se=t.getValue(be);se&&(se.liveStyle=!1)};for(const be in N){const se=L[be],fe=z[be];if(I.hasOwnProperty(be))continue;let ae=!1;Vm(se)&&Vm(fe)?ae=!LI(se,fe):ae=se!==fe,ae?se!=null?We(be):E.add(be):se!==void 0&&E.has(be)?We(be):U.protectedKeys[be]=!0}U.prevProp=K,U.prevResolvedValues=L,U.isActive&&(I={...I,...L}),r&&t.blockInitialAnimation&&(b=!1);const dt=X&&C;b&&(!dt||R)&&_.push(...j.map(be=>{const se={type:O};if(typeof be=="string"&&r&&!dt&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=Ta(fe,be);if(fe.enteringChildren&&ae){const{delayChildren:B}=ae.transition||{};se.delay=jI(fe.enteringChildren,t,B)}}return{animation:be,options:se}}))}if(E.size){const A={};if(typeof p.initial!="boolean"){const O=Ta(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(A.transition=O.transition)}E.forEach(O=>{const U=t.getBaseTarget(O),K=t.getValue(O);K&&(K.liveStyle=!0),A[O]=U??null}),_.push({animation:A})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=l(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=yx()}}}function R6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LI(e,t):!1}function Qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yx(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k6 extends xi{constructor(e){super(e),e.animationState||(e.animationState=P6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N6=0;class D6 extends xi{constructor(){super(...arguments),this.id=N6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const V6={animation:{Feature:k6},exit:{Feature:D6}};function Au(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const j6=t=>e=>xy(e)&&t(e,Wu(e));function ou(t,e,n,r){return Au(t,e,j6(n),r)}const OI=1e-4,L6=1-OI,M6=1+OI,FI=.01,O6=0-FI,F6=0+FI;function rn(t){return t.max-t.min}function U6(t,e,n){return Math.abs(t-e)<=n}function vx(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=L6&&t.scale<=M6||isNaN(t.scale))&&(t.scale=1),(t.translate>=O6&&t.translate<=F6||isNaN(t.translate))&&(t.translate=0)}function au(t,e,n,r){vx(t.x,e.x,n.x,r?r.originX:void 0),vx(t.y,e.y,n.y,r?r.originY:void 0)}function wx(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function B6(t,e,n){wx(t.x,e.x,n.x),wx(t.y,e.y,n.y)}function _x(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function lu(t,e,n){_x(t.x,e.x,n.x),_x(t.y,e.y,n.y)}function jn(t){return[t("x"),t("y")]}const UI=({current:t})=>t?t.ownerDocument.defaultView:null,xx=(t,e)=>Math.abs(t-e);function z6(t,e){const n=xx(t.x,e.x),r=xx(t.y,e.y);return Math.sqrt(n**2+r**2)}class BI{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Op(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,D=z6(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!D)return;const{point:V}=E,{timestamp:A}=Ft;this.history.push({...V,timestamp:A});const{onStart:O,onMove:U}=this.handlers;I||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Mp(I,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:D,onSessionEnd:V,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Op(E.type==="pointercancel"?this.lastMoveEventInfo:Mp(I,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,O),V&&V(E,O)},!xy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=Wu(e),f=Mp(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Ft;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Op(f,this.history)),this.removeListeners=Bu(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mi(this.updatePoint)}}function Mp(t,e){return e?{point:e(t.point)}:t}function Ex(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Op({point:t},e){return{point:t,delta:Ex(t,zI(e)),offset:Ex(t,$6(e)),velocity:W6(e,.1)}}function $6(t){return t[0]}function zI(t){return t[t.length-1]}function W6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=zI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const a=On(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function H6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function Tx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function q6(t,{top:e,left:n,bottom:r,right:i}){return{x:Tx(t.x,n,i),y:Tx(t.y,e,r)}}function Sx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function K6(t,e){return{x:Sx(t.x,e.x),y:Sx(t.y,e.y)}}function G6(t,e){let n=.5;const r=rn(t),i=rn(e);return i>r?n=Eu(e.min,e.max-r,t.min):r>i&&(n=Eu(t.min,t.max-i,e.min)),ys(0,1,n)}function Q6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mm=.35;function Y6(t=Mm){return t===!1?t=0:t===!0&&(t=Mm),{x:Ix(t,"left","right"),y:Ix(t,"top","bottom")}}function Ix(t,e,n){return{min:bx(t,e),max:bx(t,n)}}function bx(t,e){return typeof t=="number"?t:t[e]||0}const X6=new WeakMap;class J6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(_).point)},l=(_,E)=>{const{drag:I,dragPropagation:D,onDragStart:V}=this.getProps();if(I&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sL(I),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(O=>{let U=this.getAxisMotionValue(O).get()||0;if(Vr.test(U)){const{projection:K}=this.visualElement;if(K&&K.layout){const ne=K.layout.layoutBox[O];ne&&(U=rn(ne)*(parseFloat(U)/100))}}this.originPoint[O]=U}),V&&tt.postRender(()=>V(_,E)),jm(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:D,onDirectionLock:V,onDrag:A}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:O}=E;if(D&&this.currentDirection===null){this.currentDirection=Z6(O),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),A&&A(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>jn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new BI(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:UI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&tt.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=H6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&fa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=q6(r.layoutBox,e):this.constraints=!1,this.elastic=Y6(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Q6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=e6(r,i.root,this.visualElement.getTransformPagePoint());let l=K6(i.layout.layoutBox,a);if(n){const h=n(XL(l));this.hasMutatedConstraints=!!h,h&&(l=II(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=jn(y=>{if(!yh(y,n,this.currentDirection))return;let _=f&&f[y]||{};l&&(_={min:0,max:0});const E=i?200:1e6,I=i?40:1e7,D={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jm(this.visualElement,e),r.start(ky(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!yh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-it(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=G6({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(l=>{if(!yh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(it(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;X6.set(this.visualElement,this);const e=this.visualElement.current,n=ou(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();fa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tt.read(r);const l=Au(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Mm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function yh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eM extends xi{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new J6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ax=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class tM extends xi{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new BI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ax(e),onStart:Ax(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=Cx(t,e.target.x),r=Cx(t,e.target.y);return`${n}% ${r}%`}},nM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=gi.parse(t);if(i.length>5)return r;const a=gi.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=it(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let Fp=!1;class rM extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;IL(sM),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Fp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Fp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Fp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $I(t){const[e,n]=hI(),r=P.useContext(Jg);return m.jsx(rM,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(TI),isPresent:e,safeToRemove:n})}const sM={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:nM};function iM(t,e,n){const r=Jt(t)?t:ka(t);return r.start(ky("",r,e,n)),r.animation}const oM=(t,e)=>t.depth-e.depth;class aM{constructor(){this.children=[],this.isDirty=!1}add(e){ty(this.children,e),this.isDirty=!0}remove(e){ny(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oM),this.isDirty=!1,this.children.forEach(e)}}function lM(t,e){const n=fn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(mi(r),t(a-e))};return tt.setup(r,!0),()=>mi(r)}const WI=["TopLeft","TopRight","BottomLeft","BottomRight"],uM=WI.length,Px=t=>typeof t=="string"?parseFloat(t):t,Rx=t=>typeof t=="number"||xe.test(t);function cM(t,e,n,r,i,a){i?(t.opacity=it(0,n.opacity??1,hM(r)),t.opacityExit=it(e.opacity??1,0,dM(r))):a&&(t.opacity=it(e.opacity??1,n.opacity??1,r));for(let l=0;l<uM;l++){const h=`border${WI[l]}Radius`;let f=kx(e,h),p=kx(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Rx(f)===Rx(p)?(t[h]=Math.max(it(Px(f),Px(p),r),0),(Vr.test(p)||Vr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function kx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hM=HI(0,.5,kS),dM=HI(.5,.95,Un);function HI(t,e,n){return r=>r<t?0:r>e?1:n(Eu(t,e,r))}function Nx(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){Nx(t.x,e.x),Nx(t.y,e.y)}function Dx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vx(t,e,n,r,i){return t-=e,t=od(t,1/n,r),i!==void 0&&(t=od(t,1/i,r)),t}function fM(t,e=0,n=1,r=.5,i,a=t,l=t){if(Vr.test(e)&&(e=parseFloat(e),e=it(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=it(a.min,a.max,r);t===a&&(h-=e),t.min=Vx(t.min,e,n,h,i),t.max=Vx(t.max,e,n,h,i)}function jx(t,e,[n,r,i],a,l){fM(t,e[n],e[r],e[i],e.scale,a,l)}const pM=["x","scaleX","originX"],mM=["y","scaleY","originY"];function Lx(t,e,n,r){jx(t.x,e,pM,n?n.x:void 0,r?r.x:void 0),jx(t.y,e,mM,n?n.y:void 0,r?r.y:void 0)}function Mx(t){return t.translate===0&&t.scale===1}function qI(t){return Mx(t.x)&&Mx(t.y)}function Ox(t,e){return t.min===e.min&&t.max===e.max}function gM(t,e){return Ox(t.x,e.x)&&Ox(t.y,e.y)}function Fx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KI(t,e){return Fx(t.x,e.x)&&Fx(t.y,e.y)}function Ux(t){return rn(t.x)/rn(t.y)}function Bx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yM{constructor(){this.members=[]}add(e){ty(this.members,e),e.scheduleRender()}remove(e){if(ny(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vM(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:I,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),D&&(r+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Up=["","X","Y","Z"],wM=1e3;let _M=0;function Bp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GI(r)}function QI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=_M++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TM),this.nodes.forEach(AM),this.nodes.forEach(CM),this.nodes.forEach(SM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new aM)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new iy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=cI(l)&&!cL(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{_=window.innerWidth}),t(l,()=>{const I=window.innerWidth;I!==_&&(_=I,this.root.updateBlockedByResize=!0,y&&y(),y=lM(E,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(Wx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||DM,{onLayoutAnimationStart:V,onLayoutAnimationComplete:A}=p.getProps(),O=!this.targetLayout||!KI(this.targetLayout,I),U=!_&&E;if(this.options.layoutRoot||this.resumeFrom||U||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...vy(D,"layout"),onPlay:V,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,U)}else _||Wx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($x);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bM),this.nodes.forEach(xM),this.nodes.forEach(EM)):this.nodes.forEach($x),this.clearAllSnapshots();const h=fn.now();Ft.delta=ys(0,1e3/60,h-Ft.timestamp),Ft.timestamp=h,Ft.isProcessing=!0,Pp.update.process(Ft),Pp.preRender.process(Ft),Pp.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IM),this.sharedNodes.forEach(RM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!qI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||Xi(this.latestValues)||y)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),VM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return gt();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jM))){const{scroll:p}=this.root;p&&(pa(h.x,p.offset.x),pa(h.y,p.offset.y))}return h}removeElementScroll(l){const h=gt();if(Vn(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Vn(h,l),pa(h.x,y.offset.x),pa(h.y,y.offset.y))}return h}applyTransform(l,h=!1){const f=gt();Vn(f,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ma(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xi(y.latestValues)&&ma(f,y.latestValues)}return Xi(this.latestValues)&&ma(f,this.latestValues),f}removeTransform(l){const h=gt();Vn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Xi(p.latestValues))continue;km(p.latestValues)&&p.updateSnapshot();const y=gt(),_=p.measurePageBox();Vn(y,_),Lx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Xi(this.latestValues)&&Lx(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),lu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),AI(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),lu(this.relativeTargetOrigin,this.target,E.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||km(this.parent.latestValues)||bI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Vn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;ZL(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gt());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dx(this.prevProjectionDelta.x,this.projectionDelta.x),Dx(this.prevProjectionDelta.y,this.projectionDelta.y)),au(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Bx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ga(),this.projectionDelta=ga(),this.projectionDeltaWithTransform=ga()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=ga();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=gt(),I=f?f.source:void 0,D=this.layout?this.layout.source:void 0,V=I!==D,A=this.getStack(),O=!A||A.members.length<=1,U=!!(V&&!O&&this.options.crossfade===!0&&!this.path.some(NM));this.animationProgress=0;let K;this.mixTargetDelta=ne=>{const re=ne/1e3;Hx(_.x,l.x,re),Hx(_.y,l.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kM(this.relativeTarget,this.relativeTargetOrigin,E,re),K&&gM(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=gt()),Vn(K,this.relativeTarget)),V&&(this.animationValues=y,cM(y,p,this.latestValues,re,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ka(0)),this.currentAnimation=iM(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&YI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||gt();const _=rn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=rn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Vn(h,f),ma(h,y),au(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new yM),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Bp("z",l,p,this.animationValues);for(let y=0;y<Up.length;y++)Bp(`rotate${Up[y]}`,l,p,this.animationValues),Bp(`skew${Up[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Dh(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Dh(h?.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=vM(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),l.transform=_;const{x:E,y:I}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?l.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in bu){if(y[D]===void 0)continue;const{correct:V,applyTo:A,isCSSVariable:O}=bu[D],U=_==="none"?y[D]:V(y[D],p);if(A){const K=A.length;for(let ne=0;ne<K;ne++)l[A[ne]]=U}else O?this.options.visualElement.renderState.vars[D]=U:l[D]=U}this.options.layoutId&&(l.pointerEvents=p===this?Dh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(zx),this.root.sharedNodes.clear()}}}function xM(t){t.updateLayout()}function EM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?jn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=rn(_);_.min=n[y].min,_.max=_.min+E}):YI(i,e.layoutBox,n)&&jn(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=rn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const l=ga();au(l,n,e.layoutBox);const h=ga();a?au(h,t.applyTransform(r,!0),e.measuredBox):au(h,n,e.layoutBox);const f=!qI(l);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const I=gt();lu(I,e.layoutBox,_.layoutBox);const D=gt();lu(D,n,E.layoutBox),KI(I,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function TM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IM(t){t.clearSnapshot()}function zx(t){t.clearMeasurements()}function $x(t){t.isLayoutDirty=!1}function bM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Wx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AM(t){t.resolveTargetDelta()}function CM(t){t.calcProjection()}function PM(t){t.resetSkewAndRotation()}function RM(t){t.removeLeadSnapshot()}function Hx(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qx(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function kM(t,e,n,r){qx(t.x,e.x,n.x,r),qx(t.y,e.y,n.y,r)}function NM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DM={duration:.45,ease:[.4,0,.1,1]},Kx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gx=Kx("applewebkit/")&&!Kx("chrome/")?Math.round:Un;function Qx(t){t.min=Gx(t.min),t.max=Gx(t.max)}function VM(t){Qx(t.x),Qx(t.y)}function YI(t,e,n){return t==="position"||t==="preserve-aspect"&&!U6(Ux(e),Ux(n),.2)}function jM(t){return t!==t.root&&t.scroll?.wasRoot}const LM=QI({attachResizeListener:(t,e)=>Au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zp={current:void 0},XI=QI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zp.current){const t=new LM({});t.mount(window),t.setOptions({layoutScroll:!0}),zp.current=t}return zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MM={pan:{Feature:tM},drag:{Feature:eM,ProjectionNode:XI,MeasureLayout:$I}};function Yx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&tt.postRender(()=>a(e,Wu(e)))}class OM extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=iL(e,(n,r)=>(Yx(this.node,r,"Start"),i=>Yx(this.node,i,"End"))))}unmount(){}}class FM extends xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bu(Au(this.node.current,"focus",()=>this.onFocus()),Au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&tt.postRender(()=>a(e,Wu(e)))}class UM extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=uL(e,(n,r)=>(Xx(this.node,r,"Start"),(i,{success:a})=>Xx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Om=new WeakMap,$p=new WeakMap,BM=t=>{const e=Om.get(t.target);e&&e(t)},zM=t=>{t.forEach(BM)};function $M({root:t,...e}){const n=t||document;$p.has(n)||$p.set(n,{});const r=$p.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zM,{root:t,...e})),r[i]}function WM(t,e,n){const r=$M(e);return Om.set(t,n),r.observe(t),()=>{Om.delete(t),r.unobserve(t)}}const HM={some:0,all:1};class qM extends xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:HM[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return WM(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KM(e,n))&&this.startObserver()}unmount(){}}function KM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GM={inView:{Feature:qM},tap:{Feature:UM},focus:{Feature:FM},hover:{Feature:OM}},QM={layout:{ProjectionNode:XI,MeasureLayout:$I}},YM={...V6,...GM,...MM,...QM},Pe=YL(YM,u6),JI=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,i]=P.useState(n==="login"),[a,l]=P.useState(""),[h,f]=P.useState(""),[p,y]=P.useState(!1),[_,E]=P.useState(""),[I,D]=P.useState(""),V=async O=>{O.preventDefault(),y(!0),E(""),D("");try{r?(await EE(ot,a,h),e()):(await xE(ot,a,h),D("Account created successfully! You can now sign in."),i(!0))}catch(U){U instanceof Error?E(U.message):E("An unexpected error occurred")}finally{y(!1)}},A=async()=>{try{await DE(ot,wS),e()}catch(O){O instanceof Error?E(O.message):E("An unexpected error occurred")}};return m.jsx(Dd,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),m.jsxs("form",{onSubmit:V,className:"space-y-4",children:[m.jsxs("button",{type:"button",onClick:A,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),m.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[m.jsx("div",{className:"border-t border-gray-200 w-full"}),m.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",required:!0,value:a,onChange:O=>l(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:h,onChange:O=>f(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),_&&m.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),I&&m.jsx("p",{className:"text-green-500 text-sm text-center",children:I}),m.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>i(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},ZI=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(!1),[i,a]=P.useState(!1),[l,h]=P.useState(null),f=Or();P.useEffect(()=>{const _=()=>{e(window.scrollY>20)};window.addEventListener("scroll",_);const E=Vu(ot,I=>{h(I)});return()=>{window.removeEventListener("scroll",_),E()}},[]);const p=async()=>{await Kk(ot),r(!1)},y=[{name:"Roadmaps",path:"/#roadmaps",isHash:!0},{name:"Projects",path:"/#projects",isHash:!0},{name:"Resources",path:"/#resources",isHash:!0},{name:"Students",path:"/students",isHash:!1}];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[m.jsxs(Ut,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),m.jsx("div",{className:"hidden md:flex items-center gap-8",children:y.map(_=>_.isHash?m.jsx(Ut,{to:_.path,className:`text-sm font-medium transition-colors ${f.pathname==="/"&&f.hash===_.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name):m.jsx(Ut,{to:_.path,className:`text-sm font-medium transition-colors ${f.pathname===_.path?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:_.name},_.name))}),m.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ut,{to:"/profile",className:"flex items-center gap-2",children:m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),m.jsx("button",{onClick:p,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ut,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),m.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),m.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&m.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[y.map(_=>_.isHash?m.jsx(Ut,{to:_.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:_.name},_.name):m.jsx(Ut,{to:_.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:_.name},_.name)),m.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?m.jsxs(m.Fragment,{children:[m.jsx(Ut,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),m.jsx("button",{onClick:p,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ut,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),m.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),m.jsx(JI,{isOpen:i,onClose:()=>a(!1)})]})},XM=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return m.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:m.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[m.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:m.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),m.jsxs(Pe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",m.jsx("br",{}),m.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),m.jsx(Pe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),m.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("div",{className:"absolute left-4 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),m.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[m.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),m.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),m.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[m.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),m.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>m.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},JM=()=>{const t=ws(),[e,n]=P.useState([]),[r,i]=P.useState(null),[a,l]=P.useState(!1),[h,f]=P.useState(""),[p,y]=P.useState({title:"",description:"",category:"General",link:""});P.useEffect(()=>{const A=Vu(ot,O=>{i(O)});return _(),()=>A()},[]);const _=async()=>{try{const A=In(ht,"roadmaps"),O=pi(A,fS("created_at","desc")),K=(await gs(O)).docs.map(ne=>({id:ne.id,...ne.data()}));n(K)}catch(A){console.error("Error fetching roadmaps:",A)}},E=async A=>{if(A.preventDefault(),!!r)try{await Wa(In(ht,"roadmaps"),{...p,is_official:!0,created_at:qe.now().toDate().toISOString()}),l(!1),y({title:"",description:"",category:"General",link:""}),_()}catch(O){console.error("Error adding roadmap:",O),alert("Failed to add roadmap.")}},I=async(A,O)=>{if(O.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await vS(Mr(ht,"roadmaps",A)),_()}catch(U){console.error("Error deleting roadmap:",U),alert("Failed to delete roadmap.")}},D=A=>{A.link&&(A.link.startsWith("http")||A.link.startsWith("https"))?window.open(A.link,"_blank"):(t(`/roadmap/${A.id}`),window.scrollTo(0,0))},V=e.filter(A=>A.title.toLowerCase().includes(h.toLowerCase())||A.description.toLowerCase().includes(h.toLowerCase()));return m.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),m.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),m.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:h,onChange:A=>f(A.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),r&&m.jsx("div",{className:"mt-8 flex justify-center",children:m.jsx("button",{onClick:()=>l(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:V.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):V.map((A,O)=>m.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:O*.1},onClick:()=>D(A),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[r&&m.jsx("button",{onClick:U=>I(A.id,U),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:A.title}),m.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:A.description})]},A.id))})]}),a&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",required:!0,value:p.title,onChange:A=>y({...p,title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:p.description,onChange:A=>y({...p,description:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),m.jsx("input",{type:"text",placeholder:"https://...",value:p.link,onChange:A=>y({...p,link:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},ZM=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=P.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=P.useState(!1),[h,f]=P.useState(""),[p,y]=P.useState(!1);P.useEffect(()=>{if(t&&ot.currentUser){const E=ot.currentUser;E.email&&i(I=>({...I,author:E.email.split("@")[0]}))}},[t]);const _=async E=>{E.preventDefault(),l(!0),f("");try{await Wa(In(ht,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(I=>I.trim()),author:r.author,author_avatar:ot.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:qe.now().toDate().toISOString(),user_id:ot.currentUser?.uid}),y(!0),n&&n(),setTimeout(()=>{e(),y(!1),i({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(I){console.error("Error submitting project:",I),f("Failed to submit project. Please try again.")}finally{l(!1)}};return m.jsx(Dd,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-5xl mb-4",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),m.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),m.jsx("input",{type:"text",required:!0,value:r.title,onChange:E=>i({...r,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:r.description,onChange:E=>i({...r,description:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),m.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:E=>i({...r,githubUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),m.jsx("input",{type:"url",value:r.liveUrl,onChange:E=>i({...r,liveUrl:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),m.jsx("input",{type:"text",required:!0,value:r.author,onChange:E=>i({...r,author:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),m.jsxs("select",{value:r.language,onChange:E=>i({...r,language:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{children:"JavaScript"}),m.jsx("option",{children:"TypeScript"}),m.jsx("option",{children:"Python"}),m.jsx("option",{children:"Java"}),m.jsx("option",{children:"C++"}),m.jsx("option",{children:"Rust"}),m.jsx("option",{children:"Go"}),m.jsx("option",{children:"Swift"}),m.jsx("option",{children:"Other"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",value:r.tags,onChange:E=>i({...r,tags:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),h&&m.jsx("p",{className:"text-red-500 text-sm",children:h}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},e3=()=>{const[t,e]=P.useState("All"),[n,r]=P.useState(""),[i,a]=P.useState([]),[l,h]=P.useState(!0),[f,p]=P.useState(null),[y,_]=P.useState(!1),[E,I]=P.useState(!1),[D,V]=P.useState(""),[A,O]=P.useState(!1);P.useEffect(()=>{U();const C=Vu(ot,b=>{p(b)});return()=>C()},[]);const U=async()=>{try{const C=In(ht,"projects"),b=pi(C,fS("created_at","desc")),j=(await gs(b)).docs.map(L=>({id:L.id,...L.data()}));a(j)}catch(C){console.error("Error fetching projects:",C)}finally{h(!1)}},K=async C=>{if(C.preventDefault(),!!D)try{await Wa(In(ht,"newsletter_subscribers"),{email:D,created_at:qe.now()}),O(!0),V(""),setTimeout(()=>O(!1),3e3)}catch(b){console.error("Error subscribing:",b)}},ne=()=>{f?I(!0):_(!0)},re=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],X=i.filter(C=>{const b=t==="All"||C.category===t,R=C.title.toLowerCase().includes(n.toLowerCase())||C.description.toLowerCase().includes(n.toLowerCase())||C.tags.some(j=>j.toLowerCase().includes(n.toLowerCase()));return b&&R});return m.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[m.jsxs("div",{children:[m.jsx(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),m.jsx(Pe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),m.jsx(Pe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),m.jsxs(Pe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:C=>r(C.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),m.jsxs("button",{onClick:ne,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsxs("div",{className:"lg:w-3/4",children:[m.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:re.map(C=>m.jsx("button",{onClick:()=>e(C),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===C?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:C},C))}),l?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(C=>m.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("img",{src:C.image_url,alt:C.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-4 left-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:C.category})})]}),m.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("img",{src:C.author_avatar,alt:C.author,className:"w-8 h-8 rounded-full border border-gray-100"}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.author}),m.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(C.created_at).toLocaleDateString()]})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:C.title}),m.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:C.description}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:C.tags.map(b=>m.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",b]},b))}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),C.likes]}),m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),C.comments]})]}),m.jsxs("a",{href:C.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},C.id))}),!l&&X.length===0&&m.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),m.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),m.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>m.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:m.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${C}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),m.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},C))}),m.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),m.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),m.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),m.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),m.jsxs("form",{onSubmit:K,className:"relative z-10",children:[m.jsx("input",{type:"email",placeholder:"Your email",value:D,onChange:C=>V(C.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),m.jsx("button",{type:"submit",disabled:A,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:A?"Subscribed!":"Subscribe"})]})]})]})]})]}),m.jsx(JI,{isOpen:y,onClose:()=>_(!1)}),m.jsx(ZM,{isOpen:E,onClose:()=>I(!1),onSuccess:U})]})},t3=()=>{const t=ws(),[e,n]=P.useState([]),[r,i]=P.useState(!0),[a,l]=P.useState(!1),[h,f]=P.useState(!1),[p,y]=P.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});P.useEffect(()=>{_();const A=Vu(ot,O=>{l(!!O)});return()=>A()},[]);const _=async()=>{try{const A=In(ht,"resources"),O=pi(A),K=(await gs(O)).docs.map(ne=>({id:ne.id,...ne.data()}));K.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(K)}catch(A){console.error("Error fetching resources:",A)}finally{i(!1)}},E=async A=>{if(A.preventDefault(),!(!p.title||!p.description))try{await Wa(In(ht,"resources"),p),f(!1),y({title:"",description:"",icon:"",color:"badge-blue",link:""}),_()}catch(O){console.error("Error adding resource:",O)}},I=async(A,O)=>{if(O.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await vS(Mr(ht,"resources",A)),_()}catch(U){console.error("Error deleting resource:",U)}},D={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},V={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return m.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"container-custom relative z-10",children:[m.jsxs(Pe.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),m.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&m.jsx("div",{className:"mb-8 flex justify-center",children:m.jsx("button",{onClick:()=>f(!h),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:h?"Cancel":"+ Add Resource"})}),h&&m.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:A=>y({...p,title:A.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsx("textarea",{placeholder:"Description",value:p.description,onChange:A=>y({...p,description:A.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:A=>y({...p,icon:A.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),m.jsxs("select",{value:p.color,onChange:A=>y({...p,color:A.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[m.jsx("option",{value:"badge-blue",children:"Blue"}),m.jsx("option",{value:"badge-yellow",children:"Yellow"}),m.jsx("option",{value:"badge-green",children:"Green"}),m.jsx("option",{value:"badge-purple",children:"Purple"}),m.jsx("option",{value:"badge-red",children:"Red"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx(Pe.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:D,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(A=>m.jsxs(Pe.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:V,whileHover:{scale:1.03},onClick:()=>t(`/resource/${A.id}`),children:[a&&m.jsx("button",{onClick:O=>I(A.id,O),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),m.jsx("div",{className:"mb-6 flex justify-center",children:m.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:A.icon})}),m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:A.title}),m.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:A.description}),m.jsx("div",{className:"mt-auto text-center",children:m.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",m.jsx("span",{children:""})]})})]},A.id))})]})]})},n3=()=>{const[t,e]=P.useState([]);return P.useEffect(()=>{(async()=>{try{const r=In(ht,"users"),i=pi(r,hV(8)),l=(await gs(i)).docs.map(h=>({id:h.id,...h.data()}));e(l)}catch(r){console.error("Error fetching profiles:",r)}})()},[]),m.jsx("section",{id:"community",className:"py-24 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),m.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):t.map((n,r)=>m.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"group relative bg-white rounded-2xl p-6 border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:[m.jsx("div",{className:"absolute top-4 right-4 text-gray-300 group-hover:text-[#0066FF] transition-colors",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})}),m.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 mb-6 overflow-hidden border-2 border-white shadow-md group-hover:scale-105 transition-transform duration-300",children:m.jsx("img",{src:n.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.full_name}`,alt:n.full_name,className:"w-full h-full object-cover"})}),m.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-1",children:n.full_name}),m.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-4",children:n.role||"Student"}),m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-6",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),n.university||"University"]}),m.jsxs("div",{className:"border-t border-gray-50 pt-4",children:[m.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-3",children:"Skills"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills&&n.skills.map(i=>m.jsx("span",{className:"px-2.5 py-1 rounded-md bg-gray-50 text-gray-600 text-xs font-medium border border-gray-100",children:i},i))})]}),m.jsx("button",{className:"w-full mt-6 py-2.5 rounded-xl border border-gray-200 text-gray-600 font-medium text-sm hover:bg-gray-50 hover:text-[#0f172a] transition-colors",children:"View Profile"})]},n.id))})]})})},Jx=20,e2=async(t,e)=>{const n=ot.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],i=Mr(ht,"userActivity",`${n.uid}_${r}`),a=await Ra(i);if(a.exists()&&a.data().connectionRequestsSent>=Jx)throw new Error(`Daily limit of ${Jx} requests reached.`);const l=Mr(ht,"blocks",`${t}_${n.uid}`);if((await Ra(l)).exists())throw new Error("This user has blocked you.");const f=In(ht,"connections"),p=pi(f,ni("requesterId","==",n.uid),ni("recipientId","==",t));if(!(await gs(p)).empty)throw new Error("Connection request already exists.");await Wa(f,{requesterId:n.uid,recipientId:t,status:"pending",note:"",createdAt:O_(),updatedAt:O_()}),await yS(i,{userId:n.uid,date:r,connectionRequestsSent:mV(1)},{merge:!0})},r3=async t=>{const e=ot.currentUser;if(!e)return"none";const n=In(ht,"connections"),r=pi(n,ni("requesterId","==",e.uid),ni("recipientId","==",t)),i=await gs(r);if(!i.empty)return i.docs[0].data().status==="accepted"?"connected":"pending";const a=pi(n,ni("requesterId","==",t),ni("recipientId","==",e.uid)),l=await gs(a);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},Zx=()=>{const t=ws(),{userId:e}=a1(),[n,r]=P.useState(!0),[i,a]=P.useState(null),[l,h]=P.useState(!1),[f,p]=P.useState("none"),[y,_]=P.useState(!1);Um.useEffect(()=>{(async()=>{try{const V=ot.currentUser;if(!V){t("/login");return}const A=e||V.uid;h(A===V.uid);const O=Mr(ht,"users",A),U=await Ra(O);if(U.exists()){if(a(U.data()),A!==V.uid){const K=In(ht,"connections"),ne=pi(K,ni("requesterId","==",V.uid),ni("recipientId","==",A));(await gs(ne)).empty||p("pending")}}else e||t("/onboarding")}catch(V){console.error("Error fetching user data:",V)}finally{r(!1)}})()},[t,e]);const E=async()=>{if(!(!ot.currentUser||!e)){_(!0);try{await e2(e),p("pending")}catch(D){const V=D;console.error("Error sending connection request:",V),alert(V.message)}finally{_(!1)}}},I=[{id:1,title:"CollabX",description:"A platform for students to collaborate on projects and find learning resources.",stars:124,language:"TypeScript"},{id:2,title:"AI Note Taker",description:"An AI-powered tool that summarizes lecture notes and generates quizzes.",stars:89,language:"Python"}];return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):i?m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsx("div",{className:"h-48 md:h-64 bg-gradient-to-r from-[#0066FF] to-[#5865F2] w-full"}),m.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-32",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:m.jsxs("div",{className:"p-6 md:p-8 flex flex-col md:flex-row gap-6 items-start md:items-end",children:[m.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white shadow-lg overflow-hidden bg-white -mt-16 md:-mt-24",children:m.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#0f172a] mb-1",children:i.name}),m.jsx("p",{className:"text-gray-600 text-lg mb-2",children:i.role}),m.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-gray-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),i.institution]}),m.jsx("span",{className:"text-[#0066FF] font-semibold cursor-pointer hover:underline",children:"500+ connections"})]})]}),m.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l?m.jsx("button",{onClick:()=>t("/onboarding"),className:"px-6 py-2 bg-[#0066FF] text-white rounded-full font-bold text-sm hover:bg-blue-700 transition-all shadow-md shadow-blue-500/20",children:"Edit Profile"}):m.jsx("button",{onClick:E,disabled:f!=="none"||y,className:`px-8 py-2 rounded-full font-bold text-sm transition-all shadow-md ${f==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20":"bg-gray-100 text-gray-500 cursor-not-allowed shadow-none"}`,children:y?"Sending...":f==="pending"?"Pending":"Connect"}),!l&&m.jsx("button",{className:"px-6 py-2 border border-[#0066FF] text-[#0066FF] rounded-full font-bold text-sm hover:bg-blue-50 transition-all",children:"Message"})]})]})}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-4",children:"About"}),m.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:i.bio})]}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-[#0f172a]",children:"Featured Projects"}),m.jsx("button",{className:"text-sm text-[#0066FF] font-bold hover:underline",children:"View All"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(D=>m.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all cursor-pointer group",children:[m.jsx("h4",{className:"font-bold text-[#0f172a] group-hover:text-[#0066FF] mb-2",children:D.title}),m.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:D.description}),m.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[m.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-md font-medium",children:D.language}),m.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 text-yellow-400",children:m.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),D.stars]})]})]},D.id))})]})]}),m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-hidden",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Social Links"}),m.jsxs("div",{className:"space-y-4",children:[i.socials?.linkedin&&m.jsxs("a",{href:`https://${i.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-xl bg-blue-50/50 text-[#0077b5] hover:bg-blue-50 transition-all border border-blue-100/50",children:[m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),m.jsx("span",{className:"font-bold text-sm",children:"LinkedIn Profile"})]}),i.socials?.github&&m.jsxs("a",{href:`https://${i.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-xl bg-gray-50 text-gray-900 border border-gray-200 hover:bg-gray-100 transition-all",children:[m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),m.jsx("span",{className:"font-bold text-sm",children:"GitHub Repository"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 md:p-8",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Skills"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:i.skills.map(D=>m.jsx("span",{className:"px-4 py-1.5 bg-gray-50 text-gray-700 text-xs font-bold rounded-full border border-gray-100 hover:border-[#0066FF] transition-all cursor-default",children:D},D))})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-hidden",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] mb-6",children:"Network"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[m.jsx("p",{className:"font-bold text-2xl text-[#0066FF]",children:i.stats?.followers||0}),m.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Founders"})]}),m.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[m.jsx("p",{className:"font-bold text-2xl text-[#0066FF]",children:i.stats?.projects||0}),m.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Collabs"})]})]})]})]})]})})]}):null};function s3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const i3=P.forwardRef(s3);function o3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const a3=P.forwardRef(o3);function l3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const u3=P.forwardRef(l3);function c3({title:t,titleId:e,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?P.createElement("title",{id:e},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const h3=P.forwardRef(c3),d3=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=P.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:h,type:f,checked:p}=a.target;n(y=>({...y,[l]:f==="checkbox"?p:h}))},i=a=>{a.preventDefault(),console.log("Form submitted:",e)};return m.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[m.jsx(Ut,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-900",children:"Executive Education"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:t.title})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[m.jsx("div",{className:"flex items-center gap-4 mb-4",children:m.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:m.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),m.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),m.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),m.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(h3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),m.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(a3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(i3,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[m.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[m.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),m.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),m.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),m.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>m.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[m.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),m.jsx(u3,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),m.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsx("div",{className:"sticky top-24",children:m.jsxs(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),m.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),m.jsxs("form",{onSubmit:i,className:"space-y-4",children:[m.jsx("div",{children:m.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsxs("div",{className:"space-y-3 pt-2",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),m.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},f3=()=>{const{resourceId:t}=a1(),e=ws(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},i=n(),a=r(t||"");return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsx(ZI,{}),m.jsx("main",{className:"pt-32 pb-20 px-6",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs(Pe.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[m.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),m.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,h)=>m.jsxs(Pe.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),m.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),m.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),m.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:f=>f.preventDefault(),children:["Access Resource ",m.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},p3=()=>{const t=ws(),[e,n]=P.useState(!0),[r,i]=P.useState(""),[a,l]=P.useState(""),[h,f]=P.useState(!1),[p,y]=P.useState(""),[_,E]=P.useState(""),I=async()=>{try{const A=(await DE(ot,wS)).user,O=Mr(ht,"users",A.uid);(await Ra(O)).exists()?t("/"):t("/onboarding")}catch(V){V instanceof Error?y(V.message):y("An unexpected error occurred")}},D=async V=>{V.preventDefault(),f(!0),y(""),E("");try{if(e){const A=await EE(ot,r,a),O=Mr(ht,"users",A.user.uid);(await Ra(O)).exists()?t("/"):t("/onboarding")}else await xE(ot,r,a),t("/onboarding")}catch(A){A instanceof Error?y(A.message):y("An unexpected error occurred")}finally{f(!1)}};return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),m.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),m.jsxs(Pe.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:I,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),m.jsx("span",{children:"Continue with Google"})]}),m.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[m.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),m.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),m.jsxs("form",{onSubmit:D,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),m.jsx("input",{type:"email",required:!0,value:r,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),m.jsx("input",{type:"password",required:!0,value:a,onChange:V=>l(V.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),m.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),m.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),m.jsxs(Dd,{children:[p&&m.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),_&&m.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:_})]}),m.jsx(Pe.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:h,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${h?"opacity-70 cursor-not-allowed":""}`,children:h?"Processing...":e?"Sign in":"Sign up"})]}),m.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:m.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},m3=()=>{const t=ws(),[e,n]=P.useState(!1),[r,i]=P.useState(""),[a,l]=P.useState(""),[h,f]=P.useState(""),[p,y]=P.useState(""),[_,E]=P.useState(""),[I,D]=P.useState([]),[V,A]=P.useState(""),[O,U]=P.useState("");Um.useEffect(()=>{(async()=>{const C=ot.currentUser;if(C){const b=Mr(ht,"users",C.uid),R=await Ra(b);if(R.exists()){const j=R.data();i(j.name||""),l(j.role||""),f(j.institution||""),y(j.bio||""),D(j.skills||[]),A(j.socials?.github||""),U(j.socials?.linkedin||"")}}})()},[]);const K=X=>{X.key==="Enter"&&_.trim()&&(X.preventDefault(),I.length<5&&!I.includes(_.trim())&&(D([...I,_.trim()]),E("")))},ne=X=>{D(I.filter(C=>C!==X))},re=async X=>{X.preventDefault(),n(!0);try{const C=ot.currentUser;if(!C)throw new Error("No user logged in");await yS(Mr(ht,"users",C.uid),{name:r,role:a,institution:h,bio:p,skills:I,socials:{github:V,linkedin:O},stats:{projects:0,stars:0,followers:0,following:0},avatar:C.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:C.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(C){console.error("Error saving profile:",C),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),m.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),m.jsxs("form",{onSubmit:re,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:X=>i(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),m.jsx("input",{type:"text",required:!0,value:a,onChange:X=>l(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),m.jsx("input",{type:"text",required:!0,value:h,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),m.jsx("textarea",{required:!0,value:p,onChange:X=>y(X.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",m.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:I.map(X=>m.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[X,m.jsx("button",{type:"button",onClick:()=>ne(X),className:"hover:text-red-500",children:""})]},X))}),m.jsx("input",{type:"text",value:_,onChange:X=>E(X.target.value),onKeyDown:K,disabled:I.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:I.length>=5?"Max skills reached":"Type skill and press Enter"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),m.jsx("input",{type:"text",value:V,onChange:X=>A(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),m.jsx("input",{type:"text",value:O,onChange:X=>U(X.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),m.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},g3=({student:t,onClick:e})=>{const[n,r]=P.useState("none"),[i,a]=P.useState(!1),l=ot.currentUser;P.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const _=await r3(t.uid);r(_)}catch(_){console.error("Error fetching status:",_)}})()},[t.uid,l]);const h=async y=>{if(y.stopPropagation(),!!l){a(!0);try{await e2(t.uid),r("pending")}catch(_){const E=_;console.error("Error connecting:",E),alert(E.message)}finally{a(!1)}}},f=()=>{if(i)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},p=n==="pending"||n==="connected"||t.uid===l?.uid;return m.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[m.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:m.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:m.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:m.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),m.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),m.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),m.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),t.mutualConnectionsCount!==void 0&&t.mutualConnectionsCount>0&&m.jsxs("div",{className:"text-[10px] text-gray-400 mb-4 flex items-center gap-1",children:[m.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(y=>m.jsx("div",{className:"w-4 h-4 rounded-full border border-white bg-gray-200 overflow-hidden",children:m.jsx("img",{src:`https://i.pravatar.cc/150?u=${t.uid}${y}`,alt:"",className:"w-full h-full"})},y))}),m.jsxs("span",{children:[t.mutualConnectionsCount," mutual connections"]})]}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((y,_)=>m.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:y},_)),t.skills?.length>3&&m.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),m.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[m.jsx("button",{onClick:h,disabled:p||i,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:f()}),m.jsx("button",{className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"View Profile"})]})]})]})},y3=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>m.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[m.jsx("div",{className:"flex-grow",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"",children:"University (All)"}),m.jsx("option",{value:"Stanford University",children:"Stanford"}),m.jsx("option",{value:"MIT",children:"MIT"}),m.jsx("option",{value:"Harvard University",children:"Harvard"}),m.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),m.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"recent",children:"Recently Active"}),m.jsx("option",{value:"connections",children:"Most Connections"}),m.jsx("option",{value:"university",children:"Same University"})]})]})]})}),v3=()=>{const t=ws(),[e,n]=P.useState([]),[r,i]=P.useState(!0),[a,l]=P.useState(""),[h,f]=P.useState({institution:""}),[p,y]=P.useState("recent");P.useEffect(()=>{(async()=>{try{const D=await gs(In(ht,"users")),V=[];D.forEach(A=>{V.push({uid:A.id,...A.data()})}),n(V)}catch(D){console.error("Error fetching students:",D)}finally{i(!1)}})()},[]);const _=P.useMemo(()=>e.filter(I=>{const D=I.name.toLowerCase().includes(a.toLowerCase())||I.role.toLowerCase().includes(a.toLowerCase())||I.headline&&I.headline.toLowerCase().includes(a.toLowerCase())||I.skills.some(A=>A.toLowerCase().includes(a.toLowerCase())),V=!h.institution||I.institution===h.institution;return D&&V}).sort((I,D)=>p==="connections"?(D.connectionCount||0)-(I.connectionCount||0):0),[e,a,h,p]),E=()=>m.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm p-4 h-[320px] animate-pulse",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),m.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),m.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return m.jsx("div",{className:"min-h-screen bg-[#F8FAFC] pt-24 pb-20",children:m.jsxs("div",{className:"container-custom mx-auto px-4",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#0f172a] mb-4",children:"Network & Collaborate"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Connect with ambitious students from top universities and build your community."})]}),m.jsx(y3,{onSearchChange:l,onFilterChange:(I,D)=>f(V=>({...V,[I]:D})),onSortChange:y}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r?Array.from({length:8}).map((I,D)=>m.jsx(E,{},D)):m.jsx(Dd,{children:_.length>0?_.map(I=>m.jsx(g3,{student:I,onClick:()=>t(`/profile/${I.uid}`)},I.uid)):m.jsxs("div",{className:"col-span-full py-20 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),m.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search query."})]})})})]})})},w3=()=>m.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[m.jsxs("div",{className:"col-span-1 md:col-span-1",children:[m.jsxs(Ut,{to:"/",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx(Ut,{to:"/#resources",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),m.jsx("li",{children:m.jsx(Ut,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),m.jsx("li",{children:m.jsx(Ut,{to:"/students",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),m.jsx("li",{children:m.jsx(Ut,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),m.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[m.jsx("span",{children:" 2025 CollabX. All rights reserved."}),m.jsx("span",{className:"hidden md:inline",children:"|"}),m.jsx("span",{children:"Powered by Google Cloud"})]}),m.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),_3=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,a]=P.useState(""),[l,h]=P.useState("idle"),f=async p=>{p.preventDefault(),h("submitting");try{await Wa(In(ht,"feedback"),{name:t,email:n,message:i,created_at:qe.now()}),h("success"),e(""),r(""),a(""),setTimeout(()=>h("idle"),3e3)}catch(y){console.error("Error submitting feedback:",y),h("error"),setTimeout(()=>h("idle"),3e3)}};return m.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:m.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:m.jsxs("form",{onSubmit:f,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),m.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),m.jsx("textarea",{id:"message",value:i,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),m.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&m.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&m.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},vh=({children:t})=>{const[e,n]=P.useState(!0),[r,i]=P.useState(!1);return P.useEffect(()=>{const a=Vu(ot,l=>{i(!!l),n(!1)});return()=>a()},[]),e?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?m.jsx(m.Fragment,{children:t}):m.jsx(iA,{to:"/login"})},x3=()=>{const t=Or();return Um.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),m.jsxs("main",{className:"bg-white min-h-screen",children:[m.jsx(XM,{}),m.jsx(JM,{}),m.jsx(e3,{}),m.jsx(t3,{}),m.jsx(n3,{}),m.jsx(_3,{})]})},E3=()=>m.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[m.jsx(ZI,{}),m.jsxs(aA,{children:[m.jsx(rs,{path:"/",element:m.jsx(x3,{})}),m.jsx(rs,{path:"/profile",element:m.jsx(vh,{children:m.jsx(Zx,{})})}),m.jsx(rs,{path:"/profile/:userId",element:m.jsx(vh,{children:m.jsx(Zx,{})})}),m.jsx(rs,{path:"/students",element:m.jsx(vh,{children:m.jsx(v3,{})})}),m.jsx(rs,{path:"/onboarding",element:m.jsx(vh,{children:m.jsx(m3,{})})}),m.jsx(rs,{path:"/roadmap/:roadmapId",element:m.jsx(d3,{})}),m.jsx(rs,{path:"/resource/:resourceId",element:m.jsx(f3,{})}),m.jsx(rs,{path:"/login",element:m.jsx(p3,{})})]}),m.jsx(w3,{})]});gb.createRoot(document.getElementById("root")).render(m.jsx(P.StrictMode,{children:m.jsx(RA,{children:m.jsx(E3,{})})}));
