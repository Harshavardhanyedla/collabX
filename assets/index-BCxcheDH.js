(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function h2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},Lc={},Lm={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function gk(){if(i1)return Ue;i1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function T(q,G,oe){this.props=q,this.context=G,this.refs=A,this.updater=oe||S}T.prototype.isReactComponent={},T.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=T.prototype;function j(q,G,oe){this.props=q,this.context=G,this.refs=A,this.updater=oe||S}var F=j.prototype=new D;F.constructor=j,k(F,T.prototype),F.isPureReactComponent=!0;var W=Array.isArray,H=Object.prototype.hasOwnProperty,U={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(q,G,oe){var ge,Le={},Ce=null,Be=null;if(G!=null)for(ge in G.ref!==void 0&&(Be=G.ref),G.key!==void 0&&(Ce=""+G.key),G)H.call(G,ge)&&!I.hasOwnProperty(ge)&&(Le[ge]=G[ge]);var De=arguments.length-2;if(De===1)Le.children=oe;else if(1<De){for(var Ve=Array(De),je=0;je<De;je++)Ve[je]=arguments[je+2];Le.children=Ve}if(q&&q.defaultProps)for(ge in De=q.defaultProps,De)Le[ge]===void 0&&(Le[ge]=De[ge]);return{$$typeof:t,type:q,key:Ce,ref:Be,props:Le,_owner:U.current}}function N(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(oe){return G[oe]})}var $=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):G.toString(36)}function ee(q,G,oe,ge,Le){var Ce=typeof q;(Ce==="undefined"||Ce==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(Ce){case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case t:case e:Be=!0}}if(Be)return Be=q,Le=Le(Be),q=ge===""?"."+L(Be,0):ge,W(Le)?(oe="",q!=null&&(oe=q.replace($,"$&/")+"/"),ee(Le,G,oe,"",function(je){return je})):Le!=null&&(M(Le)&&(Le=N(Le,oe+(!Le.key||Be&&Be.key===Le.key?"":(""+Le.key).replace($,"$&/")+"/")+q)),G.push(Le)),1;if(Be=0,ge=ge===""?".":ge+":",W(q))for(var De=0;De<q.length;De++){Ce=q[De];var Ve=ge+L(Ce,De);Be+=ee(Ce,G,oe,Ve,Le)}else if(Ve=w(q),typeof Ve=="function")for(q=Ve.call(q),De=0;!(Ce=q.next()).done;)Ce=Ce.value,Ve=ge+L(Ce,De++),Be+=ee(Ce,G,oe,Ve,Le);else if(Ce==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Be}function _e(q,G,oe){if(q==null)return q;var ge=[],Le=0;return ee(q,ge,"","",function(Ce){return G.call(oe,Ce,Le++)}),ge}function ze(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(oe){(q._status===0||q._status===-1)&&(q._status=1,q._result=oe)},function(oe){(q._status===0||q._status===-1)&&(q._status=2,q._result=oe)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var he={current:null},ne={transition:null},ce={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ne,ReactCurrentOwner:U};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:_e,forEach:function(q,G,oe){_e(q,function(){G.apply(this,arguments)},oe)},count:function(q){var G=0;return _e(q,function(){G++}),G},toArray:function(q){return _e(q,function(G){return G})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ue.Component=T,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=j,Ue.StrictMode=r,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ue.act=le,Ue.cloneElement=function(q,G,oe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ge=k({},q.props),Le=q.key,Ce=q.ref,Be=q._owner;if(G!=null){if(G.ref!==void 0&&(Ce=G.ref,Be=U.current),G.key!==void 0&&(Le=""+G.key),q.type&&q.type.defaultProps)var De=q.type.defaultProps;for(Ve in G)H.call(G,Ve)&&!I.hasOwnProperty(Ve)&&(ge[Ve]=G[Ve]===void 0&&De!==void 0?De[Ve]:G[Ve])}var Ve=arguments.length-2;if(Ve===1)ge.children=oe;else if(1<Ve){De=Array(Ve);for(var je=0;je<Ve;je++)De[je]=arguments[je+2];ge.children=De}return{$$typeof:t,type:q.type,key:Le,ref:Ce,props:ge,_owner:Be}},Ue.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Ue.createElement=R,Ue.createFactory=function(q){var G=R.bind(null,q);return G.type=q,G},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(q){return{$$typeof:u,render:q}},Ue.isValidElement=M,Ue.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ze}},Ue.memo=function(q,G){return{$$typeof:p,type:q,compare:G===void 0?null:G}},Ue.startTransition=function(q){var G=ne.transition;ne.transition={};try{q()}finally{ne.transition=G}},Ue.unstable_act=le,Ue.useCallback=function(q,G){return he.current.useCallback(q,G)},Ue.useContext=function(q){return he.current.useContext(q)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(q){return he.current.useDeferredValue(q)},Ue.useEffect=function(q,G){return he.current.useEffect(q,G)},Ue.useId=function(){return he.current.useId()},Ue.useImperativeHandle=function(q,G,oe){return he.current.useImperativeHandle(q,G,oe)},Ue.useInsertionEffect=function(q,G){return he.current.useInsertionEffect(q,G)},Ue.useLayoutEffect=function(q,G){return he.current.useLayoutEffect(q,G)},Ue.useMemo=function(q,G){return he.current.useMemo(q,G)},Ue.useReducer=function(q,G,oe){return he.current.useReducer(q,G,oe)},Ue.useRef=function(q){return he.current.useRef(q)},Ue.useState=function(q){return he.current.useState(q)},Ue.useSyncExternalStore=function(q,G,oe){return he.current.useSyncExternalStore(q,G,oe)},Ue.useTransition=function(){return he.current.useTransition()},Ue.version="18.3.1",Ue}var o1;function jy(){return o1||(o1=1,Lm.exports=gk()),Lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function yk(){if(a1)return Lc;a1=1;var t=jy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,v={},w=null,S=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:w,ref:S,props:v,_owner:s.current}}return Lc.Fragment=n,Lc.jsx=l,Lc.jsxs=l,Lc}var l1;function vk(){return l1||(l1=1,Dm.exports=yk()),Dm.exports}var h=vk(),x=jy();const nn=h2(x);var lh={},Mm={exports:{}},Jn={},Vm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function wk(){return c1||(c1=1,(function(t){function e(ne,ce){var le=ne.length;ne.push(ce);e:for(;0<le;){var q=le-1>>>1,G=ne[q];if(0<s(G,ce))ne[q]=ce,ne[le]=G,le=q;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ce=ne[0],le=ne.pop();if(le!==ce){ne[0]=le;e:for(var q=0,G=ne.length,oe=G>>>1;q<oe;){var ge=2*(q+1)-1,Le=ne[ge],Ce=ge+1,Be=ne[Ce];if(0>s(Le,le))Ce<G&&0>s(Be,Le)?(ne[q]=Be,ne[Ce]=le,q=Ce):(ne[q]=Le,ne[ge]=le,q=ge);else if(Ce<G&&0>s(Be,le))ne[q]=Be,ne[Ce]=le,q=Ce;else break e}}return ce}function s(ne,ce){var le=ne.sortIndex-ce.sortIndex;return le!==0?le:ne.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,v=null,w=3,S=!1,k=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ne){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=ne)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(p)}}function W(ne){if(A=!1,F(ne),!k)if(n(d)!==null)k=!0,ze(H);else{var ce=n(p);ce!==null&&he(W,ce.startTime-ne)}}function H(ne,ce){k=!1,A&&(A=!1,D(R),R=-1),S=!0;var le=w;try{for(F(ce),v=n(d);v!==null&&(!(v.expirationTime>ce)||ne&&!V());){var q=v.callback;if(typeof q=="function"){v.callback=null,w=v.priorityLevel;var G=q(v.expirationTime<=ce);ce=t.unstable_now(),typeof G=="function"?v.callback=G:v===n(d)&&r(d),F(ce)}else r(d);v=n(d)}if(v!==null)var oe=!0;else{var ge=n(p);ge!==null&&he(W,ge.startTime-ce),oe=!1}return oe}finally{v=null,w=le,S=!1}}var U=!1,I=null,R=-1,N=5,M=-1;function V(){return!(t.unstable_now()-M<N)}function $(){if(I!==null){var ne=t.unstable_now();M=ne;var ce=!0;try{ce=I(!0,ne)}finally{ce?L():(U=!1,I=null)}}else U=!1}var L;if(typeof j=="function")L=function(){j($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,_e=ee.port2;ee.port1.onmessage=$,L=function(){_e.postMessage(null)}}else L=function(){T($,0)};function ze(ne){I=ne,U||(U=!0,L())}function he(ne,ce){R=T(function(){ne(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,ze(H))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var le=w;w=ce;try{return ne()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ce){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=w;w=ne;try{return ce()}finally{w=le}},t.unstable_scheduleCallback=function(ne,ce,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ne={id:g++,callback:ce,priorityLevel:ne,startTime:le,expirationTime:G,sortIndex:-1},le>q?(ne.sortIndex=le,e(p,ne),n(d)===null&&ne===n(p)&&(A?(D(R),R=-1):A=!0,he(W,le-q))):(ne.sortIndex=G,e(d,ne),k||S||(k=!0,ze(H))),ne},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ne){var ce=w;return function(){var le=w;w=ce;try{return ne.apply(this,arguments)}finally{w=le}}}})(Om)),Om}var u1;function xk(){return u1||(u1=1,Vm.exports=wk()),Vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function bk(){if(d1)return Jn;d1=1;var t=jy(),e=xk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(i){return d.call(v,i)?!0:d.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function S(i,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,a,c,m){if(a===null||typeof a>"u"||S(i,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,c,m,y,b,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=b,this.removeEmptyString=C}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];T[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,j);T[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,j);T[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,j);T[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,c,m){var y=T.hasOwnProperty(a)?T[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,y,m)&&(c=null),m||y===null?w(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,m=y.attributeNamespace,c===null?i.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?i.setAttributeNS(m,a,c):i.setAttribute(a,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),U=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,q;function G(i){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+i}var oe=!1;function ge(i,a){if(!i||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var m=X}Reflect.construct(i,[],a)}else{try{a.call()}catch(X){m=X}i.call(a.prototype)}else{try{throw Error()}catch(X){m=X}i()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),b=m.stack.split(`
`),C=y.length-1,O=b.length-1;1<=C&&0<=O&&y[C]!==b[O];)O--;for(;1<=C&&0<=O;C--,O--)if(y[C]!==b[O]){if(C!==1||O!==1)do if(C--,O--,0>O||y[C]!==b[O]){var B=`
`+y[C].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=C&&0<=O);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?G(i):""}function Le(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function Ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case U:return"Portal";case N:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return a=i.displayName||null,a!==null?a:Ce(i.type)||"Memo";case ze:a=i._payload,i=i._init;try{return Ce(i(a))}catch{}}return null}function Be(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ve(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function je(i){var a=Ve(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){m=""+C,b.call(this,C)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function xn(i){i._valueTracker||(i._valueTracker=je(i))}function Dt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return i&&(m=Ve(i)?i.checked?"true":"false":i.value),i=m,i!==c?(a.setValue(i),!0):!1}function Rt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function bn(i,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Vr(i,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=De(a.value!=null?a.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function sr(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function as(i,a){sr(i,a);var c=De(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ft(i,a.type,c):a.hasOwnProperty("defaultValue")&&ft(i,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function vi(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ft(i,a,c){(a!=="number"||Rt(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ze=Array.isArray;function _n(i,a,c,m){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&m&&(i[c].defaultSelected=!0)}else{for(c=""+De(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ls(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wi(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Ze(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:De(c)}}function So(i,a){var c=De(a.value),m=De(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function cs(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function To(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?To(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ln,us=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,c,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ln.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ds(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Co=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(i){Co.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),on[a]=on[i]})});function hs(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||on.hasOwnProperty(i)&&on[i]?(""+a).trim():a+"px"}function xi(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=hs(c,a[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,y):i[c]=y}}var Bs=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(i,a){if(a){if(Bs[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function bi(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function _i(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fr=null,Ur=null,Oe=null;function zt(i){if(i=xc(i)){if(typeof Fr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Ed(a),Fr(i.stateNode,i.type,a))}}function Et(i){Ur?Oe?Oe.push(i):Oe=[i]:Ur=i}function an(){if(Ur){var i=Ur,a=Oe;if(Oe=Ur=null,zt(i),a)for(i=0;i<a.length;i++)zt(a[i])}}function ln(i,a){return i(a)}function Kt(){}var At=!1;function Br(i,a,c){if(At)return i(a,c);At=!0;try{return ln(i,a,c)}finally{At=!1,(Ur!==null||Oe!==null)&&(Kt(),an())}}function ct(i,a){var c=i.stateNode;if(c===null)return null;var m=Ed(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var cn=!1;if(u)try{var $t={};Object.defineProperty($t,"passive",{get:function(){cn=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{cn=!1}function Hn(i,a,c,m,y,b,C,O,B){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(se){this.onError(se)}}var Mn=!1,En=null,Vn=!1,Qt=null,Ei={onError:function(i){Mn=!0,En=i}};function nd(i,a,c,m,y,b,C,O,B){Mn=!1,En=null,Hn.apply(Ei,arguments)}function Kl(i,a,c,m,y,b,C,O,B){if(nd.apply(this,arguments),Mn){if(Mn){var X=En;Mn=!1,En=null}else throw Error(n(198));Vn||(Vn=!0,Qt=X)}}function zr(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Ql(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function rd(i){if(zr(i)!==i)throw Error(n(188))}function sd(i){var a=i.alternate;if(!a){if(a=zr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,m=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return rd(y),i;if(b===m)return rd(y),a;b=b.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=b;else{for(var C=!1,O=y.child;O;){if(O===c){C=!0,c=y,m=b;break}if(O===m){C=!0,m=y,c=b;break}O=O.sibling}if(!C){for(O=b.child;O;){if(O===c){C=!0,c=b,m=y;break}if(O===m){C=!0,m=b,c=y;break}O=O.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function id(i){return i=sd(i),i!==null?Io(i):null}function Io(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Io(i);if(a!==null)return a;i=i.sibling}return null}var Yl=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,Ro=e.unstable_shouldYield,zs=e.unstable_requestPaint,ut=e.unstable_now,dp=e.unstable_getCurrentPriorityLevel,_a=e.unstable_ImmediatePriority,Xl=e.unstable_UserBlockingPriority,Ao=e.unstable_NormalPriority,Jl=e.unstable_LowPriority,Ea=e.unstable_IdlePriority,ko=null,or=null;function od(i){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(ko,i,void 0,(i.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:Po,fs=Math.log,br=Math.LN2;function Po(i){return i>>>=0,i===0?32:31-(fs(i)/br|0)|0}var ps=64,Si=4194304;function Je(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $s(i,a){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,b=i.pingedLanes,C=c&268435455;if(C!==0){var O=C&~y;O!==0?m=Je(O):(b&=C,b!==0&&(m=Je(b)))}else C=c&~y,C!==0?m=Je(C):b!==0&&(m=Je(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)c=31-ar(a),y=1<<c,m|=i[c],a&=~y;return m}function No(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(i,a){for(var c=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes;0<b;){var C=31-ar(b),O=1<<C,B=y[C];B===-1?((O&c)===0||(O&m)!==0)&&(y[C]=No(O,a)):B<=a&&(i.expiredLanes|=O),b&=~O}}function Zl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ec(){var i=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),i}function tc(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Do(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ar(a),i[a]=c}function hp(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-ar(c),b=1<<y;a[y]=0,m[y]=-1,i[y]=-1,c&=~b}}function nc(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var m=31-ar(c),y=1<<m;y&a|i[m]&a&&(i[m]|=a),c&=~y}}var He=0;function ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var rc,Sa,sc,ic,oc,gs=!1,Ta=[],ys=null,vs=null,un=null,Lo=new Map,Ws=new Map,lr=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ti(i,a){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Lo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(a.pointerId)}}function $r(i,a,c,m,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},a!==null&&(a=xc(a),a!==null&&Sa(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function ld(i,a,c,m,y){switch(a){case"focusin":return ys=$r(ys,i,a,c,m,y),!0;case"dragenter":return vs=$r(vs,i,a,c,m,y),!0;case"mouseover":return un=$r(un,i,a,c,m,y),!0;case"pointerover":var b=y.pointerId;return Lo.set(b,$r(Lo.get(b)||null,i,a,c,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Ws.set(b,$r(Ws.get(b)||null,i,a,c,m,y)),!0}return!1}function Ca(i){var a=Fo(i.target);if(a!==null){var c=zr(a);if(c!==null){if(a=c.tag,a===13){if(a=Ql(c),a!==null){i.blockedOn=a,oc(i.priority,function(){sc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function st(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Ia(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Or=m,c.target.dispatchEvent(m),Or=null}else return a=xc(c),a!==null&&Sa(a),i.blockedOn=c,!1;a.shift()}return!0}function cd(i,a,c){st(i)&&c.delete(a)}function fp(){gs=!1,ys!==null&&st(ys)&&(ys=null),vs!==null&&st(vs)&&(vs=null),un!==null&&st(un)&&(un=null),Lo.forEach(cd),Ws.forEach(cd)}function Ci(i,a){i.blockedOn===a&&(i.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fp)))}function Ii(i){function a(y){return Ci(y,i)}if(0<Ta.length){Ci(Ta[0],i);for(var c=1;c<Ta.length;c++){var m=Ta[c];m.blockedOn===i&&(m.blockedOn=null)}}for(ys!==null&&Ci(ys,i),vs!==null&&Ci(vs,i),un!==null&&Ci(un,i),Lo.forEach(a),Ws.forEach(a),c=0;c<lr.length;c++)m=lr[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<lr.length&&(c=lr[0],c.blockedOn===null);)Ca(c),c.blockedOn===null&&lr.shift()}var qs=W.ReactCurrentBatchConfig,Hs=!0;function ws(i,a,c,m){var y=He,b=qs.transition;qs.transition=null;try{He=1,ac(i,a,c,m)}finally{He=y,qs.transition=b}}function ud(i,a,c,m){var y=He,b=qs.transition;qs.transition=null;try{He=4,ac(i,a,c,m)}finally{He=y,qs.transition=b}}function ac(i,a,c,m){if(Hs){var y=Ia(i,a,c,m);if(y===null)Sp(i,a,m,xs,c),Ti(i,m);else if(ld(y,i,a,c,m))m.stopPropagation();else if(Ti(i,m),a&4&&-1<ad.indexOf(i)){for(;y!==null;){var b=xc(y);if(b!==null&&rc(b),b=Ia(i,a,c,m),b===null&&Sp(i,a,m,xs,c),b===y)break;y=b}y!==null&&m.stopPropagation()}else Sp(i,a,m,null,c)}}var xs=null;function Ia(i,a,c,m){if(xs=null,i=_i(m),i=Fo(i),i!==null)if(a=zr(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Ql(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return xs=i,null}function Ra(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dp()){case _a:return 1;case Xl:return 4;case Ao:case Jl:return 16;case Ea:return 536870912;default:return 16}default:return 16}}var cr=null,Aa=null,Gs=null;function dd(){if(Gs)return Gs;var i,a=Aa,c=a.length,m,y="value"in cr?cr.value:cr.textContent,b=y.length;for(i=0;i<c&&a[i]===y[i];i++);var C=c-i;for(m=1;m<=C&&a[c-m]===y[b-m];m++);return Gs=y.slice(i,1<m?1-m:void 0)}function Mo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function lc(){return!1}function Sn(i){function a(c,m,y,b,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bs:lc,this.isPropagationStopped=lc,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Sn(_s),Ri=le({},_s,{view:0,detail:0}),ka=Sn(Ri),Pa,Na,ur,Oo=le({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Me,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ur&&(ur&&i.type==="mousemove"?(Pa=i.screenX-ur.screenX,Na=i.screenY-ur.screenY):Na=Pa=0,ur=i),Pa)},movementY:function(i){return"movementY"in i?i.movementY:Na}}),cc=Sn(Oo),hd=le({},Oo,{dataTransfer:0}),fd=Sn(hd),ja=le({},Ri,{relatedTarget:0}),dn=Sn(ja),pd=le({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),md=Sn(pd),Ai=le({},_s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Sn(Ai),_=le({},_s,{data:0}),E=Sn(_),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=J[i])?!!a[i]:!1}function Me(){return ue}var kt=le({},Ri,{key:function(i){if(i.key){var a=P[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Mo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Q[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Me,charCode:function(i){return i.type==="keypress"?Mo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),et=Sn(kt),Lt=le({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Sn(Lt),Ks=le({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Me}),Es=Sn(Ks),Ss=le({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=Sn(Ss),uc=le({},Oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uA=Sn(uc),dA=[9,13,27,32],pp=u&&"CompositionEvent"in window,dc=null;u&&"documentMode"in document&&(dc=document.documentMode);var hA=u&&"TextEvent"in window&&!dc,Xv=u&&(!pp||dc&&8<dc&&11>=dc),Jv=" ",Zv=!1;function ew(i,a){switch(i){case"keyup":return dA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var La=!1;function fA(i,a){switch(i){case"compositionend":return tw(a);case"keypress":return a.which!==32?null:(Zv=!0,Jv);case"textInput":return i=a.data,i===Jv&&Zv?null:i;default:return null}}function pA(i,a){if(La)return i==="compositionend"||!pp&&ew(i,a)?(i=dd(),Gs=Aa=cr=null,La=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xv&&a.locale!=="ko"?null:a.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!mA[i.type]:a==="textarea"}function rw(i,a,c,m){Et(m),a=xd(a,"onChange"),0<a.length&&(c=new Vo("onChange","change",null,c,m),i.push({event:c,listeners:a}))}var hc=null,fc=null;function gA(i){bw(i,0)}function gd(i){var a=Ua(i);if(Dt(a))return i}function yA(i,a){if(i==="change")return a}var sw=!1;if(u){var mp;if(u){var gp="oninput"in document;if(!gp){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),gp=typeof iw.oninput=="function"}mp=gp}else mp=!1;sw=mp&&(!document.documentMode||9<document.documentMode)}function ow(){hc&&(hc.detachEvent("onpropertychange",aw),fc=hc=null)}function aw(i){if(i.propertyName==="value"&&gd(fc)){var a=[];rw(a,fc,i,_i(i)),Br(gA,a)}}function vA(i,a,c){i==="focusin"?(ow(),hc=a,fc=c,hc.attachEvent("onpropertychange",aw)):i==="focusout"&&ow()}function wA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gd(fc)}function xA(i,a){if(i==="click")return gd(a)}function bA(i,a){if(i==="input"||i==="change")return gd(a)}function _A(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wr=typeof Object.is=="function"?Object.is:_A;function pc(i,a){if(Wr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!d.call(a,y)||!Wr(i[y],a[y]))return!1}return!0}function lw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cw(i,a){var c=lw(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=a&&m>=a)return{node:c,offset:a-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lw(c)}}function uw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?uw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function dw(){for(var i=window,a=Rt();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Rt(i.document)}return a}function yp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function EA(i){var a=dw(),c=i.focusedElem,m=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&uw(c.ownerDocument.documentElement,c)){if(m!==null&&yp(c)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,b=Math.min(m.start,y);m=m.end===void 0?b:Math.min(m.end,y),!i.extend&&b>m&&(y=m,m=b,b=y),y=cw(c,b);var C=cw(c,m);y&&C&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),b>m?(i.addRange(a),i.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var SA=u&&"documentMode"in document&&11>=document.documentMode,Ma=null,vp=null,mc=null,wp=!1;function hw(i,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wp||Ma==null||Ma!==Rt(m)||(m=Ma,"selectionStart"in m&&yp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mc&&pc(mc,m)||(mc=m,m=xd(vp,"onSelect"),0<m.length&&(a=new Vo("onSelect","select",null,a,c),i.push({event:a,listeners:m}),a.target=Ma)))}function yd(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Va={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},xp={},fw={};u&&(fw=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function vd(i){if(xp[i])return xp[i];if(!Va[i])return i;var a=Va[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in fw)return xp[i]=a[c];return i}var pw=vd("animationend"),mw=vd("animationiteration"),gw=vd("animationstart"),yw=vd("transitionend"),vw=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(i,a){vw.set(i,a),o(a,[i])}for(var bp=0;bp<ww.length;bp++){var _p=ww[bp],TA=_p.toLowerCase(),CA=_p[0].toUpperCase()+_p.slice(1);ki(TA,"on"+CA)}ki(pw,"onAnimationEnd"),ki(mw,"onAnimationIteration"),ki(gw,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(yw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function xw(i,a,c){var m=i.type||"unknown-event";i.currentTarget=c,Kl(m,a,void 0,i),i.currentTarget=null}function bw(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],y=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var C=m.length-1;0<=C;C--){var O=m[C],B=O.instance,X=O.currentTarget;if(O=O.listener,B!==b&&y.isPropagationStopped())break e;xw(y,O,X),b=B}else for(C=0;C<m.length;C++){if(O=m[C],B=O.instance,X=O.currentTarget,O=O.listener,B!==b&&y.isPropagationStopped())break e;xw(y,O,X),b=B}}}if(Vn)throw i=Qt,Vn=!1,Qt=null,i}function dt(i,a){var c=a[kp];c===void 0&&(c=a[kp]=new Set);var m=i+"__bubble";c.has(m)||(_w(a,i,2,!1),c.add(m))}function Ep(i,a,c){var m=0;a&&(m|=4),_w(c,i,m,a)}var wd="_reactListening"+Math.random().toString(36).slice(2);function yc(i){if(!i[wd]){i[wd]=!0,r.forEach(function(c){c!=="selectionchange"&&(IA.has(c)||Ep(c,!1,i),Ep(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[wd]||(a[wd]=!0,Ep("selectionchange",!1,a))}}function _w(i,a,c,m){switch(Ra(a)){case 1:var y=ws;break;case 4:y=ud;break;default:y=ac}c=y.bind(null,a,c,i),y=void 0,!cn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function Sp(i,a,c,m,y){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(C===4)for(C=m.return;C!==null;){var B=C.tag;if((B===3||B===4)&&(B=C.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;C=C.return}for(;O!==null;){if(C=Fo(O),C===null)return;if(B=C.tag,B===5||B===6){m=b=C;continue e}O=O.parentNode}}m=m.return}Br(function(){var X=b,se=_i(c),ie=[];e:{var re=vw.get(i);if(re!==void 0){var fe=Vo,ye=i;switch(i){case"keypress":if(Mo(c)===0)break e;case"keydown":case"keyup":fe=et;break;case"focusin":ye="focus",fe=dn;break;case"focusout":ye="blur",fe=dn;break;case"beforeblur":case"afterblur":fe=dn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Es;break;case pw:case mw:case gw:fe=md;break;case yw:fe=Da;break;case"scroll":fe=ka;break;case"wheel":fe=uA;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=dr}var ve=(a&4)!==0,Pt=!ve&&i==="scroll",K=ve?re!==null?re+"Capture":null:re;ve=[];for(var z=X,Y;z!==null;){Y=z;var ae=Y.stateNode;if(Y.tag===5&&ae!==null&&(Y=ae,K!==null&&(ae=ct(z,K),ae!=null&&ve.push(vc(z,ae,Y)))),Pt)break;z=z.return}0<ve.length&&(re=new fe(re,ye,null,c,se),ie.push({event:re,listeners:ve}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",re&&c!==Or&&(ye=c.relatedTarget||c.fromElement)&&(Fo(ye)||ye[Qs]))break e;if((fe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(ye=c.relatedTarget||c.toElement,fe=X,ye=ye?Fo(ye):null,ye!==null&&(Pt=zr(ye),ye!==Pt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=X),fe!==ye)){if(ve=cc,ae="onMouseLeave",K="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ve=dr,ae="onPointerLeave",K="onPointerEnter",z="pointer"),Pt=fe==null?re:Ua(fe),Y=ye==null?re:Ua(ye),re=new ve(ae,z+"leave",fe,c,se),re.target=Pt,re.relatedTarget=Y,ae=null,Fo(se)===X&&(ve=new ve(K,z+"enter",ye,c,se),ve.target=Y,ve.relatedTarget=Pt,ae=ve),Pt=ae,fe&&ye)t:{for(ve=fe,K=ye,z=0,Y=ve;Y;Y=Oa(Y))z++;for(Y=0,ae=K;ae;ae=Oa(ae))Y++;for(;0<z-Y;)ve=Oa(ve),z--;for(;0<Y-z;)K=Oa(K),Y--;for(;z--;){if(ve===K||K!==null&&ve===K.alternate)break t;ve=Oa(ve),K=Oa(K)}ve=null}else ve=null;fe!==null&&Ew(ie,re,fe,ve,!1),ye!==null&&Pt!==null&&Ew(ie,Pt,ye,ve,!0)}}e:{if(re=X?Ua(X):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var we=yA;else if(nw(re))if(sw)we=bA;else{we=wA;var Se=vA}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(we=xA);if(we&&(we=we(i,X))){rw(ie,we,c,se);break e}Se&&Se(i,re,X),i==="focusout"&&(Se=re._wrapperState)&&Se.controlled&&re.type==="number"&&ft(re,"number",re.value)}switch(Se=X?Ua(X):window,i){case"focusin":(nw(Se)||Se.contentEditable==="true")&&(Ma=Se,vp=X,mc=null);break;case"focusout":mc=vp=Ma=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,hw(ie,c,se);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":hw(ie,c,se)}var Te;if(pp)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else La?ew(i,c)&&(Ne="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(Xv&&c.locale!=="ko"&&(La||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&La&&(Te=dd()):(cr=se,Aa="value"in cr?cr.value:cr.textContent,La=!0)),Se=xd(X,Ne),0<Se.length&&(Ne=new E(Ne,i,null,c,se),ie.push({event:Ne,listeners:Se}),Te?Ne.data=Te:(Te=tw(c),Te!==null&&(Ne.data=Te)))),(Te=hA?fA(i,c):pA(i,c))&&(X=xd(X,"onBeforeInput"),0<X.length&&(se=new E("onBeforeInput","beforeinput",null,c,se),ie.push({event:se,listeners:X}),se.data=Te))}bw(ie,a)})}function vc(i,a,c){return{instance:i,listener:a,currentTarget:c}}function xd(i,a){for(var c=a+"Capture",m=[];i!==null;){var y=i,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=ct(i,c),b!=null&&m.unshift(vc(i,b,y)),b=ct(i,a),b!=null&&m.push(vc(i,b,y))),i=i.return}return m}function Oa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ew(i,a,c,m,y){for(var b=a._reactName,C=[];c!==null&&c!==m;){var O=c,B=O.alternate,X=O.stateNode;if(B!==null&&B===m)break;O.tag===5&&X!==null&&(O=X,y?(B=ct(c,b),B!=null&&C.unshift(vc(c,B,O))):y||(B=ct(c,b),B!=null&&C.push(vc(c,B,O)))),c=c.return}C.length!==0&&i.push({event:a,listeners:C})}var RA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function Sw(i){return(typeof i=="string"?i:""+i).replace(RA,`
`).replace(AA,"")}function bd(i,a,c){if(a=Sw(a),Sw(i)!==a&&c)throw Error(n(425))}function _d(){}var Tp=null,Cp=null;function Ip(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(i){return Tw.resolve(null).then(i).catch(NA)}:Rp;function NA(i){setTimeout(function(){throw i})}function Ap(i,a){var c=a,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){i.removeChild(y),Ii(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);Ii(a)}function Pi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Cw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Fa,wc="__reactProps$"+Fa,Qs="__reactContainer$"+Fa,kp="__reactEvents$"+Fa,jA="__reactListeners$"+Fa,DA="__reactHandles$"+Fa;function Fo(i){var a=i[Ts];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Qs]||c[Ts]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Cw(i);i!==null;){if(c=i[Ts])return c;i=Cw(i)}return a}i=c,c=i.parentNode}return null}function xc(i){return i=i[Ts]||i[Qs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ua(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ed(i){return i[wc]||null}var Pp=[],Ba=-1;function Ni(i){return{current:i}}function ht(i){0>Ba||(i.current=Pp[Ba],Pp[Ba]=null,Ba--)}function lt(i,a){Ba++,Pp[Ba]=i.current,i.current=a}var ji={},Tn=Ni(ji),Gn=Ni(!1),Uo=ji;function za(i,a){var c=i.type.contextTypes;if(!c)return ji;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in c)y[b]=a[b];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Kn(i){return i=i.childContextTypes,i!=null}function Sd(){ht(Gn),ht(Tn)}function Iw(i,a,c){if(Tn.current!==ji)throw Error(n(168));lt(Tn,a),lt(Gn,c)}function Rw(i,a,c){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Be(i)||"Unknown",y));return le({},c,m)}function Td(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ji,Uo=Tn.current,lt(Tn,i),lt(Gn,Gn.current),!0}function Aw(i,a,c){var m=i.stateNode;if(!m)throw Error(n(169));c?(i=Rw(i,a,Uo),m.__reactInternalMemoizedMergedChildContext=i,ht(Gn),ht(Tn),lt(Tn,i)):ht(Gn),lt(Gn,c)}var Ys=null,Cd=!1,Np=!1;function kw(i){Ys===null?Ys=[i]:Ys.push(i)}function LA(i){Cd=!0,kw(i)}function Di(){if(!Np&&Ys!==null){Np=!0;var i=0,a=He;try{var c=Ys;for(He=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Ys=null,Cd=!1}catch(y){throw Ys!==null&&(Ys=Ys.slice(i+1)),Yl(_a,Di),y}finally{He=a,Np=!1}}return null}var $a=[],Wa=0,Id=null,Rd=0,_r=[],Er=0,Bo=null,Xs=1,Js="";function zo(i,a){$a[Wa++]=Rd,$a[Wa++]=Id,Id=i,Rd=a}function Pw(i,a,c){_r[Er++]=Xs,_r[Er++]=Js,_r[Er++]=Bo,Bo=i;var m=Xs;i=Js;var y=32-ar(m)-1;m&=~(1<<y),c+=1;var b=32-ar(a)+y;if(30<b){var C=y-y%5;b=(m&(1<<C)-1).toString(32),m>>=C,y-=C,Xs=1<<32-ar(a)+y|c<<y|m,Js=b+i}else Xs=1<<b|c<<y|m,Js=i}function jp(i){i.return!==null&&(zo(i,1),Pw(i,1,0))}function Dp(i){for(;i===Id;)Id=$a[--Wa],$a[Wa]=null,Rd=$a[--Wa],$a[Wa]=null;for(;i===Bo;)Bo=_r[--Er],_r[Er]=null,Js=_r[--Er],_r[Er]=null,Xs=_r[--Er],_r[Er]=null}var hr=null,fr=null,pt=!1,qr=null;function Nw(i,a){var c=Ir(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function jw(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,hr=i,fr=Pi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,hr=i,fr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Bo!==null?{id:Xs,overflow:Js}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ir(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,hr=i,fr=null,!0):!1;default:return!1}}function Lp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Mp(i){if(pt){var a=fr;if(a){var c=a;if(!jw(i,a)){if(Lp(i))throw Error(n(418));a=Pi(c.nextSibling);var m=hr;a&&jw(i,a)?Nw(m,c):(i.flags=i.flags&-4097|2,pt=!1,hr=i)}}else{if(Lp(i))throw Error(n(418));i.flags=i.flags&-4097|2,pt=!1,hr=i}}}function Dw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;hr=i}function Ad(i){if(i!==hr)return!1;if(!pt)return Dw(i),pt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Ip(i.type,i.memoizedProps)),a&&(a=fr)){if(Lp(i))throw Lw(),Error(n(418));for(;a;)Nw(i,a),a=Pi(a.nextSibling)}if(Dw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){fr=Pi(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}fr=null}}else fr=hr?Pi(i.stateNode.nextSibling):null;return!0}function Lw(){for(var i=fr;i;)i=Pi(i.nextSibling)}function qa(){fr=hr=null,pt=!1}function Vp(i){qr===null?qr=[i]:qr.push(i)}var MA=W.ReactCurrentBatchConfig;function bc(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,i));var y=m,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(C){var O=y.refs;C===null?delete O[b]:O[b]=C},a._stringRef=b,a)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function kd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Mw(i){var a=i._init;return a(i._payload)}function Vw(i){function a(K,z){if(i){var Y=K.deletions;Y===null?(K.deletions=[z],K.flags|=16):Y.push(z)}}function c(K,z){if(!i)return null;for(;z!==null;)a(K,z),z=z.sibling;return null}function m(K,z){for(K=new Map;z!==null;)z.key!==null?K.set(z.key,z):K.set(z.index,z),z=z.sibling;return K}function y(K,z){return K=zi(K,z),K.index=0,K.sibling=null,K}function b(K,z,Y){return K.index=Y,i?(Y=K.alternate,Y!==null?(Y=Y.index,Y<z?(K.flags|=2,z):Y):(K.flags|=2,z)):(K.flags|=1048576,z)}function C(K){return i&&K.alternate===null&&(K.flags|=2),K}function O(K,z,Y,ae){return z===null||z.tag!==6?(z=Rm(Y,K.mode,ae),z.return=K,z):(z=y(z,Y),z.return=K,z)}function B(K,z,Y,ae){var we=Y.type;return we===I?se(K,z,Y.props.children,ae,Y.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ze&&Mw(we)===z.type)?(ae=y(z,Y.props),ae.ref=bc(K,z,Y),ae.return=K,ae):(ae=eh(Y.type,Y.key,Y.props,null,K.mode,ae),ae.ref=bc(K,z,Y),ae.return=K,ae)}function X(K,z,Y,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Am(Y,K.mode,ae),z.return=K,z):(z=y(z,Y.children||[]),z.return=K,z)}function se(K,z,Y,ae,we){return z===null||z.tag!==7?(z=Yo(Y,K.mode,ae,we),z.return=K,z):(z=y(z,Y),z.return=K,z)}function ie(K,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Rm(""+z,K.mode,Y),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return Y=eh(z.type,z.key,z.props,null,K.mode,Y),Y.ref=bc(K,null,z),Y.return=K,Y;case U:return z=Am(z,K.mode,Y),z.return=K,z;case ze:var ae=z._init;return ie(K,ae(z._payload),Y)}if(Ze(z)||ce(z))return z=Yo(z,K.mode,Y,null),z.return=K,z;kd(K,z)}return null}function re(K,z,Y,ae){var we=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return we!==null?null:O(K,z,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return Y.key===we?B(K,z,Y,ae):null;case U:return Y.key===we?X(K,z,Y,ae):null;case ze:return we=Y._init,re(K,z,we(Y._payload),ae)}if(Ze(Y)||ce(Y))return we!==null?null:se(K,z,Y,ae,null);kd(K,Y)}return null}function fe(K,z,Y,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return K=K.get(Y)||null,O(z,K,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case H:return K=K.get(ae.key===null?Y:ae.key)||null,B(z,K,ae,we);case U:return K=K.get(ae.key===null?Y:ae.key)||null,X(z,K,ae,we);case ze:var Se=ae._init;return fe(K,z,Y,Se(ae._payload),we)}if(Ze(ae)||ce(ae))return K=K.get(Y)||null,se(z,K,ae,we,null);kd(z,ae)}return null}function ye(K,z,Y,ae){for(var we=null,Se=null,Te=z,Ne=z=0,Jt=null;Te!==null&&Ne<Y.length;Ne++){Te.index>Ne?(Jt=Te,Te=null):Jt=Te.sibling;var Xe=re(K,Te,Y[Ne],ae);if(Xe===null){Te===null&&(Te=Jt);break}i&&Te&&Xe.alternate===null&&a(K,Te),z=b(Xe,z,Ne),Se===null?we=Xe:Se.sibling=Xe,Se=Xe,Te=Jt}if(Ne===Y.length)return c(K,Te),pt&&zo(K,Ne),we;if(Te===null){for(;Ne<Y.length;Ne++)Te=ie(K,Y[Ne],ae),Te!==null&&(z=b(Te,z,Ne),Se===null?we=Te:Se.sibling=Te,Se=Te);return pt&&zo(K,Ne),we}for(Te=m(K,Te);Ne<Y.length;Ne++)Jt=fe(Te,K,Ne,Y[Ne],ae),Jt!==null&&(i&&Jt.alternate!==null&&Te.delete(Jt.key===null?Ne:Jt.key),z=b(Jt,z,Ne),Se===null?we=Jt:Se.sibling=Jt,Se=Jt);return i&&Te.forEach(function($i){return a(K,$i)}),pt&&zo(K,Ne),we}function ve(K,z,Y,ae){var we=ce(Y);if(typeof we!="function")throw Error(n(150));if(Y=we.call(Y),Y==null)throw Error(n(151));for(var Se=we=null,Te=z,Ne=z=0,Jt=null,Xe=Y.next();Te!==null&&!Xe.done;Ne++,Xe=Y.next()){Te.index>Ne?(Jt=Te,Te=null):Jt=Te.sibling;var $i=re(K,Te,Xe.value,ae);if($i===null){Te===null&&(Te=Jt);break}i&&Te&&$i.alternate===null&&a(K,Te),z=b($i,z,Ne),Se===null?we=$i:Se.sibling=$i,Se=$i,Te=Jt}if(Xe.done)return c(K,Te),pt&&zo(K,Ne),we;if(Te===null){for(;!Xe.done;Ne++,Xe=Y.next())Xe=ie(K,Xe.value,ae),Xe!==null&&(z=b(Xe,z,Ne),Se===null?we=Xe:Se.sibling=Xe,Se=Xe);return pt&&zo(K,Ne),we}for(Te=m(K,Te);!Xe.done;Ne++,Xe=Y.next())Xe=fe(Te,K,Ne,Xe.value,ae),Xe!==null&&(i&&Xe.alternate!==null&&Te.delete(Xe.key===null?Ne:Xe.key),z=b(Xe,z,Ne),Se===null?we=Xe:Se.sibling=Xe,Se=Xe);return i&&Te.forEach(function(mk){return a(K,mk)}),pt&&zo(K,Ne),we}function Pt(K,z,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===I&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:e:{for(var we=Y.key,Se=z;Se!==null;){if(Se.key===we){if(we=Y.type,we===I){if(Se.tag===7){c(K,Se.sibling),z=y(Se,Y.props.children),z.return=K,K=z;break e}}else if(Se.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ze&&Mw(we)===Se.type){c(K,Se.sibling),z=y(Se,Y.props),z.ref=bc(K,Se,Y),z.return=K,K=z;break e}c(K,Se);break}else a(K,Se);Se=Se.sibling}Y.type===I?(z=Yo(Y.props.children,K.mode,ae,Y.key),z.return=K,K=z):(ae=eh(Y.type,Y.key,Y.props,null,K.mode,ae),ae.ref=bc(K,z,Y),ae.return=K,K=ae)}return C(K);case U:e:{for(Se=Y.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){c(K,z.sibling),z=y(z,Y.children||[]),z.return=K,K=z;break e}else{c(K,z);break}else a(K,z);z=z.sibling}z=Am(Y,K.mode,ae),z.return=K,K=z}return C(K);case ze:return Se=Y._init,Pt(K,z,Se(Y._payload),ae)}if(Ze(Y))return ye(K,z,Y,ae);if(ce(Y))return ve(K,z,Y,ae);kd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,z!==null&&z.tag===6?(c(K,z.sibling),z=y(z,Y),z.return=K,K=z):(c(K,z),z=Rm(Y,K.mode,ae),z.return=K,K=z),C(K)):c(K,z)}return Pt}var Ha=Vw(!0),Ow=Vw(!1),Pd=Ni(null),Nd=null,Ga=null,Op=null;function Fp(){Op=Ga=Nd=null}function Up(i){var a=Pd.current;ht(Pd),i._currentValue=a}function Bp(i,a,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===c)break;i=i.return}}function Ka(i,a){Nd=i,Op=Ga=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Qn=!0),i.firstContext=null)}function Sr(i){var a=i._currentValue;if(Op!==i)if(i={context:i,memoizedValue:a,next:null},Ga===null){if(Nd===null)throw Error(n(308));Ga=i,Nd.dependencies={lanes:0,firstContext:i}}else Ga=Ga.next=i;return a}var $o=null;function zp(i){$o===null?$o=[i]:$o.push(i)}function Fw(i,a,c,m){var y=a.interleaved;return y===null?(c.next=c,zp(a)):(c.next=y.next,y.next=c),a.interleaved=c,Zs(i,m)}function Zs(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Li=!1;function $p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ei(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Mi(i,a,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ye&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Zs(i,c)}return y=m.interleaved,y===null?(a.next=a,zp(m)):(a.next=y.next,y.next=a),m.interleaved=a,Zs(i,c)}function jd(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,nc(i,c)}}function Bw(i,a){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?y=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Dd(i,a,c,m){var y=i.updateQueue;Li=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var B=O,X=B.next;B.next=null,C===null?b=X:C.next=X,C=B;var se=i.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==C&&(O===null?se.firstBaseUpdate=X:O.next=X,se.lastBaseUpdate=B))}if(b!==null){var ie=y.baseState;C=0,se=X=B=null,O=b;do{var re=O.lane,fe=O.eventTime;if((m&re)===re){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ye=i,ve=O;switch(re=a,fe=c,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ie=ye.call(fe,ie,re);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,re=typeof ye=="function"?ye.call(fe,ie,re):ye,re==null)break e;ie=le({},ie,re);break e;case 2:Li=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,re=y.effects,re===null?y.effects=[O]:re.push(O))}else fe={eventTime:fe,lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(X=se=fe,B=ie):se=se.next=fe,C|=re;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;re=O,O=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(se===null&&(B=ie),y.baseState=B,y.firstBaseUpdate=X,y.lastBaseUpdate=se,a=y.shared.interleaved,a!==null){y=a;do C|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);Ho|=C,i.lanes=C,i.memoizedState=ie}}function zw(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var _c={},Cs=Ni(_c),Ec=Ni(_c),Sc=Ni(_c);function Wo(i){if(i===_c)throw Error(n(174));return i}function Wp(i,a){switch(lt(Sc,a),lt(Ec,i),lt(Cs,_c),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ir(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ir(a,i)}ht(Cs),lt(Cs,a)}function Qa(){ht(Cs),ht(Ec),ht(Sc)}function $w(i){Wo(Sc.current);var a=Wo(Cs.current),c=ir(a,i.type);a!==c&&(lt(Ec,i),lt(Cs,c))}function qp(i){Ec.current===i&&(ht(Cs),ht(Ec))}var vt=Ni(0);function Ld(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hp=[];function Gp(){for(var i=0;i<Hp.length;i++)Hp[i]._workInProgressVersionPrimary=null;Hp.length=0}var Md=W.ReactCurrentDispatcher,Kp=W.ReactCurrentBatchConfig,qo=0,wt=null,Wt=null,Yt=null,Vd=!1,Tc=!1,Cc=0,VA=0;function Cn(){throw Error(n(321))}function Qp(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Wr(i[c],a[c]))return!1;return!0}function Yp(i,a,c,m,y,b){if(qo=b,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Md.current=i===null||i.memoizedState===null?BA:zA,i=c(m,y),Tc){b=0;do{if(Tc=!1,Cc=0,25<=b)throw Error(n(301));b+=1,Yt=Wt=null,a.updateQueue=null,Md.current=$A,i=c(m,y)}while(Tc)}if(Md.current=Ud,a=Wt!==null&&Wt.next!==null,qo=0,Yt=Wt=wt=null,Vd=!1,a)throw Error(n(300));return i}function Xp(){var i=Cc!==0;return Cc=0,i}function Is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?wt.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function Tr(){if(Wt===null){var i=wt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Yt===null?wt.memoizedState:Yt.next;if(a!==null)Yt=a,Wt=i;else{if(i===null)throw Error(n(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?wt.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function Ic(i,a){return typeof a=="function"?a(i):a}function Jp(i){var a=Tr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=Wt,y=m.baseQueue,b=c.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}m.baseQueue=y=b,c.pending=null}if(y!==null){b=y.next,m=m.baseState;var O=C=null,B=null,X=b;do{var se=X.lane;if((qo&se)===se)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:i(m,X.action);else{var ie={lane:se,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(O=B=ie,C=m):B=B.next=ie,wt.lanes|=se,Ho|=se}X=X.next}while(X!==null&&X!==b);B===null?C=m:B.next=O,Wr(m,a.memoizedState)||(Qn=!0),a.memoizedState=m,a.baseState=C,a.baseQueue=B,c.lastRenderedState=m}if(i=c.interleaved,i!==null){y=i;do b=y.lane,wt.lanes|=b,Ho|=b,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Zp(i){var a=Tr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do b=i(b,C.action),C=C.next;while(C!==y);Wr(b,a.memoizedState)||(Qn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,m]}function Ww(){}function qw(i,a){var c=wt,m=Tr(),y=a(),b=!Wr(m.memoizedState,y);if(b&&(m.memoizedState=y,Qn=!0),m=m.queue,em(Kw.bind(null,c,m,i),[i]),m.getSnapshot!==a||b||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,Rc(9,Gw.bind(null,c,m,y,a),void 0,null),Xt===null)throw Error(n(349));(qo&30)!==0||Hw(c,a,y)}return y}function Hw(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Gw(i,a,c,m){a.value=c,a.getSnapshot=m,Qw(a)&&Yw(i)}function Kw(i,a,c){return c(function(){Qw(a)&&Yw(i)})}function Qw(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Wr(i,c)}catch{return!0}}function Yw(i){var a=Zs(i,1);a!==null&&Qr(a,i,1,-1)}function Xw(i){var a=Is();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:i},a.queue=i,i=i.dispatch=UA.bind(null,wt,i),[a.memoizedState,i]}function Rc(i,a,c,m){return i={tag:i,create:a,destroy:c,deps:m,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,a.lastEffect=i)),i}function Jw(){return Tr().memoizedState}function Od(i,a,c,m){var y=Is();wt.flags|=i,y.memoizedState=Rc(1|a,c,void 0,m===void 0?null:m)}function Fd(i,a,c,m){var y=Tr();m=m===void 0?null:m;var b=void 0;if(Wt!==null){var C=Wt.memoizedState;if(b=C.destroy,m!==null&&Qp(m,C.deps)){y.memoizedState=Rc(a,c,b,m);return}}wt.flags|=i,y.memoizedState=Rc(1|a,c,b,m)}function Zw(i,a){return Od(8390656,8,i,a)}function em(i,a){return Fd(2048,8,i,a)}function ex(i,a){return Fd(4,2,i,a)}function tx(i,a){return Fd(4,4,i,a)}function nx(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function rx(i,a,c){return c=c!=null?c.concat([i]):null,Fd(4,4,nx.bind(null,a,i),c)}function tm(){}function sx(i,a){var c=Tr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Qp(a,m[1])?m[0]:(c.memoizedState=[i,a],i)}function ix(i,a){var c=Tr();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Qp(a,m[1])?m[0]:(i=i(),c.memoizedState=[i,a],i)}function ox(i,a,c){return(qo&21)===0?(i.baseState&&(i.baseState=!1,Qn=!0),i.memoizedState=c):(Wr(c,a)||(c=ec(),wt.lanes|=c,Ho|=c,i.baseState=!0),a)}function OA(i,a){var c=He;He=c!==0&&4>c?c:4,i(!0);var m=Kp.transition;Kp.transition={};try{i(!1),a()}finally{He=c,Kp.transition=m}}function ax(){return Tr().memoizedState}function FA(i,a,c){var m=Ui(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},lx(i))cx(a,c);else if(c=Fw(i,a,c,m),c!==null){var y=Fn();Qr(c,i,m,y),ux(c,a,m)}}function UA(i,a,c){var m=Ui(i),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(lx(i))cx(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,O=b(C,c);if(y.hasEagerState=!0,y.eagerState=O,Wr(O,C)){var B=a.interleaved;B===null?(y.next=y,zp(a)):(y.next=B.next,B.next=y),a.interleaved=y;return}}catch{}finally{}c=Fw(i,a,y,m),c!==null&&(y=Fn(),Qr(c,i,m,y),ux(c,a,m))}}function lx(i){var a=i.alternate;return i===wt||a!==null&&a===wt}function cx(i,a){Tc=Vd=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function ux(i,a,c){if((c&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,nc(i,c)}}var Ud={readContext:Sr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},BA={readContext:Sr,useCallback:function(i,a){return Is().memoizedState=[i,a===void 0?null:a],i},useContext:Sr,useEffect:Zw,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Od(4194308,4,nx.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Od(4194308,4,i,a)},useInsertionEffect:function(i,a){return Od(4,2,i,a)},useMemo:function(i,a){var c=Is();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var m=Is();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=FA.bind(null,wt,i),[m.memoizedState,i]},useRef:function(i){var a=Is();return i={current:i},a.memoizedState=i},useState:Xw,useDebugValue:tm,useDeferredValue:function(i){return Is().memoizedState=i},useTransition:function(){var i=Xw(!1),a=i[0];return i=OA.bind(null,i[1]),Is().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var m=wt,y=Is();if(pt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Xt===null)throw Error(n(349));(qo&30)!==0||Hw(m,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,Zw(Kw.bind(null,m,b,i),[i]),m.flags|=2048,Rc(9,Gw.bind(null,m,b,c,a),void 0,null),c},useId:function(){var i=Is(),a=Xt.identifierPrefix;if(pt){var c=Js,m=Xs;c=(m&~(1<<32-ar(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Cc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=VA++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},zA={readContext:Sr,useCallback:sx,useContext:Sr,useEffect:em,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ix,useReducer:Jp,useRef:Jw,useState:function(){return Jp(Ic)},useDebugValue:tm,useDeferredValue:function(i){var a=Tr();return ox(a,Wt.memoizedState,i)},useTransition:function(){var i=Jp(Ic)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:Ww,useSyncExternalStore:qw,useId:ax,unstable_isNewReconciler:!1},$A={readContext:Sr,useCallback:sx,useContext:Sr,useEffect:em,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ix,useReducer:Zp,useRef:Jw,useState:function(){return Zp(Ic)},useDebugValue:tm,useDeferredValue:function(i){var a=Tr();return Wt===null?a.memoizedState=i:ox(a,Wt.memoizedState,i)},useTransition:function(){var i=Zp(Ic)[0],a=Tr().memoizedState;return[i,a]},useMutableSource:Ww,useSyncExternalStore:qw,useId:ax,unstable_isNewReconciler:!1};function Hr(i,a){if(i&&i.defaultProps){a=le({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function nm(i,a,c,m){a=i.memoizedState,c=c(m,a),c=c==null?a:le({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Bd={isMounted:function(i){return(i=i._reactInternals)?zr(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var m=Fn(),y=Ui(i),b=ei(m,y);b.payload=a,c!=null&&(b.callback=c),a=Mi(i,b,y),a!==null&&(Qr(a,i,y,m),jd(a,i,y))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var m=Fn(),y=Ui(i),b=ei(m,y);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Mi(i,b,y),a!==null&&(Qr(a,i,y,m),jd(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Fn(),m=Ui(i),y=ei(c,m);y.tag=2,a!=null&&(y.callback=a),a=Mi(i,y,m),a!==null&&(Qr(a,i,m,c),jd(a,i,m))}};function dx(i,a,c,m,y,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,C):a.prototype&&a.prototype.isPureReactComponent?!pc(c,m)||!pc(y,b):!0}function hx(i,a,c){var m=!1,y=ji,b=a.contextType;return typeof b=="object"&&b!==null?b=Sr(b):(y=Kn(a)?Uo:Tn.current,m=a.contextTypes,b=(m=m!=null)?za(i,y):ji),a=new a(c,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=b),a}function fx(i,a,c,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==i&&Bd.enqueueReplaceState(a,a.state,null)}function rm(i,a,c,m){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},$p(i);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Sr(b):(b=Kn(a)?Uo:Tn.current,y.context=za(i,b)),y.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(nm(i,a,b,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Bd.enqueueReplaceState(y,y.state,null),Dd(i,c,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Ya(i,a){try{var c="",m=a;do c+=Le(m),m=m.return;while(m);var y=c}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:y,digest:null}}function sm(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function im(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var WA=typeof WeakMap=="function"?WeakMap:Map;function px(i,a,c){c=ei(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){Kd||(Kd=!0,xm=m),im(i,a)},c}function mx(i,a,c){c=ei(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;c.payload=function(){return m(y)},c.callback=function(){im(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){im(i,a),typeof m!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function gx(i,a,c){var m=i.pingCache;if(m===null){m=i.pingCache=new WA;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(c)||(y.add(c),i=sk.bind(null,i,a,c),a.then(i,i))}function yx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function vx(i,a,c,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ei(-1,1),a.tag=2,Mi(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var qA=W.ReactCurrentOwner,Qn=!1;function On(i,a,c,m){a.child=i===null?Ow(a,null,c,m):Ha(a,i.child,c,m)}function wx(i,a,c,m,y){c=c.render;var b=a.ref;return Ka(a,y),m=Yp(i,a,c,m,b,y),c=Xp(),i!==null&&!Qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(pt&&c&&jp(a),a.flags|=1,On(i,a,m,y),a.child)}function xx(i,a,c,m,y){if(i===null){var b=c.type;return typeof b=="function"&&!Im(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=b,bx(i,a,b,m,y)):(i=eh(c.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,(i.lanes&y)===0){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:pc,c(C,m)&&i.ref===a.ref)return ti(i,a,y)}return a.flags|=1,i=zi(b,m),i.ref=a.ref,i.return=a,a.child=i}function bx(i,a,c,m,y){if(i!==null){var b=i.memoizedProps;if(pc(b,m)&&i.ref===a.ref)if(Qn=!1,a.pendingProps=m=b,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Qn=!0);else return a.lanes=i.lanes,ti(i,a,y)}return om(i,a,c,m,y)}function _x(i,a,c){var m=a.pendingProps,y=m.children,b=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ja,pr),pr|=c;else{if((c&1073741824)===0)return i=b!==null?b.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,lt(Ja,pr),pr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:c,lt(Ja,pr),pr|=m}else b!==null?(m=b.baseLanes|c,a.memoizedState=null):m=c,lt(Ja,pr),pr|=m;return On(i,a,y,c),a.child}function Ex(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function om(i,a,c,m,y){var b=Kn(c)?Uo:Tn.current;return b=za(a,b),Ka(a,y),c=Yp(i,a,c,m,b,y),m=Xp(),i!==null&&!Qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ti(i,a,y)):(pt&&m&&jp(a),a.flags|=1,On(i,a,c,y),a.child)}function Sx(i,a,c,m,y){if(Kn(c)){var b=!0;Td(a)}else b=!1;if(Ka(a,y),a.stateNode===null)$d(i,a),hx(a,c,m),rm(a,c,m,y),m=!0;else if(i===null){var C=a.stateNode,O=a.memoizedProps;C.props=O;var B=C.context,X=c.contextType;typeof X=="object"&&X!==null?X=Sr(X):(X=Kn(c)?Uo:Tn.current,X=za(a,X));var se=c.getDerivedStateFromProps,ie=typeof se=="function"||typeof C.getSnapshotBeforeUpdate=="function";ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==m||B!==X)&&fx(a,C,m,X),Li=!1;var re=a.memoizedState;C.state=re,Dd(a,m,C,y),B=a.memoizedState,O!==m||re!==B||Gn.current||Li?(typeof se=="function"&&(nm(a,c,se,m),B=a.memoizedState),(O=Li||dx(a,c,O,m,re,B,X))?(ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=B),C.props=m,C.state=B,C.context=X,m=O):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,Uw(i,a),O=a.memoizedProps,X=a.type===a.elementType?O:Hr(a.type,O),C.props=X,ie=a.pendingProps,re=C.context,B=c.contextType,typeof B=="object"&&B!==null?B=Sr(B):(B=Kn(c)?Uo:Tn.current,B=za(a,B));var fe=c.getDerivedStateFromProps;(se=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ie||re!==B)&&fx(a,C,m,B),Li=!1,re=a.memoizedState,C.state=re,Dd(a,m,C,y);var ye=a.memoizedState;O!==ie||re!==ye||Gn.current||Li?(typeof fe=="function"&&(nm(a,c,fe,m),ye=a.memoizedState),(X=Li||dx(a,c,X,m,re,ye,B)||!1)?(se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,ye,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,ye,B)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ye),C.props=m,C.state=ye,C.context=B,m=X):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),m=!1)}return am(i,a,c,m,b,y)}function am(i,a,c,m,y,b){Ex(i,a);var C=(a.flags&128)!==0;if(!m&&!C)return y&&Aw(a,c,!1),ti(i,a,b);m=a.stateNode,qA.current=a;var O=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&C?(a.child=Ha(a,i.child,null,b),a.child=Ha(a,null,O,b)):On(i,a,O,b),a.memoizedState=m.state,y&&Aw(a,c,!0),a.child}function Tx(i){var a=i.stateNode;a.pendingContext?Iw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Iw(i,a.context,!1),Wp(i,a.containerInfo)}function Cx(i,a,c,m,y){return qa(),Vp(y),a.flags|=256,On(i,a,c,m),a.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ix(i,a,c){var m=a.pendingProps,y=vt.current,b=!1,C=(a.flags&128)!==0,O;if((O=C)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),lt(vt,y&1),i===null)return Mp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=m.children,i=m.fallback,b?(m=a.mode,b=a.child,C={mode:"hidden",children:C},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=C):b=th(C,m,0,null),i=Yo(i,m,c,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=cm(c),a.memoizedState=lm,i):um(a,C));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return HA(i,a,C,m,O,y,c);if(b){b=m.fallback,C=a.mode,y=i.child,O=y.sibling;var B={mode:"hidden",children:m.children};return(C&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=B,a.deletions=null):(m=zi(y,B),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?b=zi(O,b):(b=Yo(b,C,c,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,C=i.child.memoizedState,C=C===null?cm(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},b.memoizedState=C,b.childLanes=i.childLanes&~c,a.memoizedState=lm,m}return b=i.child,i=b.sibling,m=zi(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=m,a.memoizedState=null,m}function um(i,a){return a=th({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function zd(i,a,c,m){return m!==null&&Vp(m),Ha(a,i.child,null,c),i=um(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function HA(i,a,c,m,y,b,C){if(c)return a.flags&256?(a.flags&=-257,m=sm(Error(n(422))),zd(i,a,C,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=m.fallback,y=a.mode,m=th({mode:"visible",children:m.children},y,0,null),b=Yo(b,y,C,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Ha(a,i.child,null,C),a.child.memoizedState=cm(C),a.memoizedState=lm,b);if((a.mode&1)===0)return zd(i,a,C,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,b=Error(n(419)),m=sm(b,m,void 0),zd(i,a,C,m)}if(O=(C&i.childLanes)!==0,Qn||O){if(m=Xt,m!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|C))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Zs(i,y),Qr(m,i,y,-1))}return Cm(),m=sm(Error(n(421))),zd(i,a,C,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=ik.bind(null,i),y._reactRetry=a,null):(i=b.treeContext,fr=Pi(y.nextSibling),hr=a,pt=!0,qr=null,i!==null&&(_r[Er++]=Xs,_r[Er++]=Js,_r[Er++]=Bo,Xs=i.id,Js=i.overflow,Bo=a),a=um(a,m.children),a.flags|=4096,a)}function Rx(i,a,c){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Bp(i.return,a,c)}function dm(i,a,c,m,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=c,b.tailMode=y)}function Ax(i,a,c){var m=a.pendingProps,y=m.revealOrder,b=m.tail;if(On(i,a,m.children,c),m=vt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rx(i,c,a);else if(i.tag===19)Rx(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(lt(vt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&Ld(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),dm(a,!1,y,c,b);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Ld(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}dm(a,!0,c,null,b);break;case"together":dm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $d(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ti(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Ho|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=zi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=zi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function GA(i,a,c){switch(a.tag){case 3:Tx(a),qa();break;case 5:$w(a);break;case 1:Kn(a.type)&&Td(a);break;case 4:Wp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;lt(Pd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(lt(vt,vt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Ix(i,a,c):(lt(vt,vt.current&1),i=ti(i,a,c),i!==null?i.sibling:null);lt(vt,vt.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(i.flags&128)!==0){if(m)return Ax(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),lt(vt,vt.current),m)break;return null;case 22:case 23:return a.lanes=0,_x(i,a,c)}return ti(i,a,c)}var kx,hm,Px,Nx;kx=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hm=function(){},Px=function(i,a,c,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,Wo(Cs.current);var b=null;switch(c){case"input":y=bn(i,y),m=bn(i,m),b=[];break;case"select":y=le({},y,{value:void 0}),m=le({},m,{value:void 0}),b=[];break;case"textarea":y=ls(i,y),m=ls(i,m),b=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=_d)}qn(c,m);var C;c=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var O=y[X];for(C in O)O.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?b||(b=[]):(b=b||[]).push(X,null));for(X in m){var B=m[X];if(O=y?.[X],m.hasOwnProperty(X)&&B!==O&&(B!=null||O!=null))if(X==="style")if(O){for(C in O)!O.hasOwnProperty(C)||B&&B.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in B)B.hasOwnProperty(C)&&O[C]!==B[C]&&(c||(c={}),c[C]=B[C])}else c||(b||(b=[]),b.push(X,c)),c=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(b=b||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(b=b||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&dt("scroll",i),b||O===B||(b=[])):(b=b||[]).push(X,B))}c&&(b=b||[]).push("style",c);var X=b;(a.updateQueue=X)&&(a.flags|=4)}},Nx=function(i,a,c,m){c!==m&&(a.flags|=4)};function Ac(i,a){if(!pt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function In(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=c,a}function KA(i,a,c){var m=a.pendingProps;switch(Dp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(a),null;case 1:return Kn(a.type)&&Sd(),In(a),null;case 3:return m=a.stateNode,Qa(),ht(Gn),ht(Tn),Gp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ad(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qr!==null&&(Em(qr),qr=null))),hm(i,a),In(a),null;case 5:qp(a);var y=Wo(Sc.current);if(c=a.type,i!==null&&a.stateNode!=null)Px(i,a,c,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return In(a),null}if(i=Wo(Cs.current),Ad(a)){m=a.stateNode,c=a.type;var b=a.memoizedProps;switch(m[Ts]=a,m[wc]=b,i=(a.mode&1)!==0,c){case"dialog":dt("cancel",m),dt("close",m);break;case"iframe":case"object":case"embed":dt("load",m);break;case"video":case"audio":for(y=0;y<gc.length;y++)dt(gc[y],m);break;case"source":dt("error",m);break;case"img":case"image":case"link":dt("error",m),dt("load",m);break;case"details":dt("toggle",m);break;case"input":Vr(m,b),dt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},dt("invalid",m);break;case"textarea":wi(m,b),dt("invalid",m)}qn(c,b),y=null;for(var C in b)if(b.hasOwnProperty(C)){var O=b[C];C==="children"?typeof O=="string"?m.textContent!==O&&(b.suppressHydrationWarning!==!0&&bd(m.textContent,O,i),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(b.suppressHydrationWarning!==!0&&bd(m.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&dt("scroll",m)}switch(c){case"input":xn(m),vi(m,b,!0);break;case"textarea":xn(m),cs(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=_d)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=To(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=C.createElement(c,{is:m.is}):(i=C.createElement(c),c==="select"&&(C=i,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):i=C.createElementNS(i,c),i[Ts]=a,i[wc]=m,kx(i,a,!1,!1),a.stateNode=i;e:{switch(C=bi(c,m),c){case"dialog":dt("cancel",i),dt("close",i),y=m;break;case"iframe":case"object":case"embed":dt("load",i),y=m;break;case"video":case"audio":for(y=0;y<gc.length;y++)dt(gc[y],i);y=m;break;case"source":dt("error",i),y=m;break;case"img":case"image":case"link":dt("error",i),dt("load",i),y=m;break;case"details":dt("toggle",i),y=m;break;case"input":Vr(i,m),y=bn(i,m),dt("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=le({},m,{value:void 0}),dt("invalid",i);break;case"textarea":wi(i,m),y=ls(i,m),dt("invalid",i);break;default:y=m}qn(c,y),O=y;for(b in O)if(O.hasOwnProperty(b)){var B=O[b];b==="style"?xi(i,B):b==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&us(i,B)):b==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&ds(i,B):typeof B=="number"&&ds(i,""+B):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?B!=null&&b==="onScroll"&&dt("scroll",i):B!=null&&F(i,b,B,C))}switch(c){case"input":xn(i),vi(i,m,!1);break;case"textarea":xn(i),cs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+De(m.value));break;case"select":i.multiple=!!m.multiple,b=m.value,b!=null?_n(i,!!m.multiple,b,!1):m.defaultValue!=null&&_n(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=_d)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return In(a),null;case 6:if(i&&a.stateNode!=null)Nx(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=Wo(Sc.current),Wo(Cs.current),Ad(a)){if(m=a.stateNode,c=a.memoizedProps,m[Ts]=a,(b=m.nodeValue!==c)&&(i=hr,i!==null))switch(i.tag){case 3:bd(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bd(m.nodeValue,c,(i.mode&1)!==0)}b&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Ts]=a,a.stateNode=m}return In(a),null;case 13:if(ht(vt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(pt&&fr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Lw(),qa(),a.flags|=98560,b=!1;else if(b=Ad(a),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ts]=a}else qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;In(a),b=!1}else qr!==null&&(Em(qr),qr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(vt.current&1)!==0?qt===0&&(qt=3):Cm())),a.updateQueue!==null&&(a.flags|=4),In(a),null);case 4:return Qa(),hm(i,a),i===null&&yc(a.stateNode.containerInfo),In(a),null;case 10:return Up(a.type._context),In(a),null;case 17:return Kn(a.type)&&Sd(),In(a),null;case 19:if(ht(vt),b=a.memoizedState,b===null)return In(a),null;if(m=(a.flags&128)!==0,C=b.rendering,C===null)if(m)Ac(b,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(C=Ld(i),C!==null){for(a.flags|=128,Ac(b,!1),m=C.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)b=c,i=m,b.flags&=14680066,C=b.alternate,C===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=C.childLanes,b.lanes=C.lanes,b.child=C.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=C.memoizedProps,b.memoizedState=C.memoizedState,b.updateQueue=C.updateQueue,b.type=C.type,i=C.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return lt(vt,vt.current&1|2),a.child}i=i.sibling}b.tail!==null&&ut()>Za&&(a.flags|=128,m=!0,Ac(b,!1),a.lanes=4194304)}else{if(!m)if(i=Ld(C),i!==null){if(a.flags|=128,m=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Ac(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!pt)return In(a),null}else 2*ut()-b.renderingStartTime>Za&&c!==1073741824&&(a.flags|=128,m=!0,Ac(b,!1),a.lanes=4194304);b.isBackwards?(C.sibling=a.child,a.child=C):(c=b.last,c!==null?c.sibling=C:a.child=C,b.last=C)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ut(),a.sibling=null,c=vt.current,lt(vt,m?c&1|2:c&1),a):(In(a),null);case 22:case 23:return Tm(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(pr&1073741824)!==0&&(In(a),a.subtreeFlags&6&&(a.flags|=8192)):In(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function QA(i,a){switch(Dp(a),a.tag){case 1:return Kn(a.type)&&Sd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Qa(),ht(Gn),ht(Tn),Gp(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return qp(a),null;case 13:if(ht(vt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));qa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ht(vt),null;case 4:return Qa(),null;case 10:return Up(a.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var Wd=!1,Rn=!1,YA=typeof WeakSet=="function"?WeakSet:Set,me=null;function Xa(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){St(i,a,m)}else c.current=null}function fm(i,a,c){try{c()}catch(m){St(i,a,m)}}var jx=!1;function XA(i,a){if(Tp=Hs,i=dw(),yp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,O=-1,B=-1,X=0,se=0,ie=i,re=null;t:for(;;){for(var fe;ie!==c||y!==0&&ie.nodeType!==3||(O=C+y),ie!==b||m!==0&&ie.nodeType!==3||(B=C+m),ie.nodeType===3&&(C+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)re=ie,ie=fe;for(;;){if(ie===i)break t;if(re===c&&++X===y&&(O=C),re===b&&++se===m&&(B=C),(fe=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=fe}c=O===-1||B===-1?null:{start:O,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cp={focusedElem:i,selectionRange:c},Hs=!1,me=a;me!==null;)if(a=me,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,me=i;else for(;me!==null;){a=me;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Pt=ye.memoizedState,K=a.stateNode,z=K.getSnapshotBeforeUpdate(a.elementType===a.type?ve:Hr(a.type,ve),Pt);K.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){St(a,a.return,ae)}if(i=a.sibling,i!==null){i.return=a.return,me=i;break}me=a.return}return ye=jx,jx=!1,ye}function kc(i,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var b=y.destroy;y.destroy=void 0,b!==void 0&&fm(a,c,b)}y=y.next}while(y!==m)}}function qd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function pm(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function Dx(i){var a=i.alternate;a!==null&&(i.alternate=null,Dx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ts],delete a[wc],delete a[kp],delete a[jA],delete a[DA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lx(i){return i.tag===5||i.tag===3||i.tag===4}function Mx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=_d));else if(m!==4&&(i=i.child,i!==null))for(mm(i,a,c),i=i.sibling;i!==null;)mm(i,a,c),i=i.sibling}function gm(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(gm(i,a,c),i=i.sibling;i!==null;)gm(i,a,c),i=i.sibling}var hn=null,Gr=!1;function Vi(i,a,c){for(c=c.child;c!==null;)Vx(i,a,c),c=c.sibling}function Vx(i,a,c){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(ko,c)}catch{}switch(c.tag){case 5:Rn||Xa(c,a);case 6:var m=hn,y=Gr;hn=null,Vi(i,a,c),hn=m,Gr=y,hn!==null&&(Gr?(i=hn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):hn.removeChild(c.stateNode));break;case 18:hn!==null&&(Gr?(i=hn,c=c.stateNode,i.nodeType===8?Ap(i.parentNode,c):i.nodeType===1&&Ap(i,c),Ii(i)):Ap(hn,c.stateNode));break;case 4:m=hn,y=Gr,hn=c.stateNode.containerInfo,Gr=!0,Vi(i,a,c),hn=m,Gr=y;break;case 0:case 11:case 14:case 15:if(!Rn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var b=y,C=b.destroy;b=b.tag,C!==void 0&&((b&2)!==0||(b&4)!==0)&&fm(c,a,C),y=y.next}while(y!==m)}Vi(i,a,c);break;case 1:if(!Rn&&(Xa(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(O){St(c,a,O)}Vi(i,a,c);break;case 21:Vi(i,a,c);break;case 22:c.mode&1?(Rn=(m=Rn)||c.memoizedState!==null,Vi(i,a,c),Rn=m):Vi(i,a,c);break;default:Vi(i,a,c)}}function Ox(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new YA),a.forEach(function(m){var y=ok.bind(null,i,m);c.has(m)||(c.add(m),m.then(y,y))})}}function Kr(i,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var b=i,C=a,O=C;e:for(;O!==null;){switch(O.tag){case 5:hn=O.stateNode,Gr=!1;break e;case 3:hn=O.stateNode.containerInfo,Gr=!0;break e;case 4:hn=O.stateNode.containerInfo,Gr=!0;break e}O=O.return}if(hn===null)throw Error(n(160));Vx(b,C,y),hn=null,Gr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(X){St(y,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Fx(a,i),a=a.sibling}function Fx(i,a){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(a,i),Rs(i),m&4){try{kc(3,i,i.return),qd(3,i)}catch(ve){St(i,i.return,ve)}try{kc(5,i,i.return)}catch(ve){St(i,i.return,ve)}}break;case 1:Kr(a,i),Rs(i),m&512&&c!==null&&Xa(c,c.return);break;case 5:if(Kr(a,i),Rs(i),m&512&&c!==null&&Xa(c,c.return),i.flags&32){var y=i.stateNode;try{ds(y,"")}catch(ve){St(i,i.return,ve)}}if(m&4&&(y=i.stateNode,y!=null)){var b=i.memoizedProps,C=c!==null?c.memoizedProps:b,O=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{O==="input"&&b.type==="radio"&&b.name!=null&&sr(y,b),bi(O,C);var X=bi(O,b);for(C=0;C<B.length;C+=2){var se=B[C],ie=B[C+1];se==="style"?xi(y,ie):se==="dangerouslySetInnerHTML"?us(y,ie):se==="children"?ds(y,ie):F(y,se,ie,X)}switch(O){case"input":as(y,b);break;case"textarea":So(y,b);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var fe=b.value;fe!=null?_n(y,!!b.multiple,fe,!1):re!==!!b.multiple&&(b.defaultValue!=null?_n(y,!!b.multiple,b.defaultValue,!0):_n(y,!!b.multiple,b.multiple?[]:"",!1))}y[wc]=b}catch(ve){St(i,i.return,ve)}}break;case 6:if(Kr(a,i),Rs(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,b=i.memoizedProps;try{y.nodeValue=b}catch(ve){St(i,i.return,ve)}}break;case 3:if(Kr(a,i),Rs(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ii(a.containerInfo)}catch(ve){St(i,i.return,ve)}break;case 4:Kr(a,i),Rs(i);break;case 13:Kr(a,i),Rs(i),y=i.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(wm=ut())),m&4&&Ox(i);break;case 22:if(se=c!==null&&c.memoizedState!==null,i.mode&1?(Rn=(X=Rn)||se,Kr(a,i),Rn=X):Kr(a,i),Rs(i),m&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!se&&(i.mode&1)!==0)for(me=i,se=i.child;se!==null;){for(ie=me=se;me!==null;){switch(re=me,fe=re.child,re.tag){case 0:case 11:case 14:case 15:kc(4,re,re.return);break;case 1:Xa(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){m=re,c=re.return;try{a=m,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(ve){St(m,c,ve)}}break;case 5:Xa(re,re.return);break;case 22:if(re.memoizedState!==null){zx(ie);continue}}fe!==null?(fe.return=re,me=fe):zx(ie)}se=se.sibling}e:for(se=null,ie=i;;){if(ie.tag===5){if(se===null){se=ie;try{y=ie.stateNode,X?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(O=ie.stateNode,B=ie.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=hs("display",C))}catch(ve){St(i,i.return,ve)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(ve){St(i,i.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Kr(a,i),Rs(i),m&4&&Ox(i);break;case 21:break;default:Kr(a,i),Rs(i)}}function Rs(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Lx(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ds(y,""),m.flags&=-33);var b=Mx(i);gm(i,b,y);break;case 3:case 4:var C=m.stateNode.containerInfo,O=Mx(i);mm(i,O,C);break;default:throw Error(n(161))}}catch(B){St(i,i.return,B)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function JA(i,a,c){me=i,Ux(i)}function Ux(i,a,c){for(var m=(i.mode&1)!==0;me!==null;){var y=me,b=y.child;if(y.tag===22&&m){var C=y.memoizedState!==null||Wd;if(!C){var O=y.alternate,B=O!==null&&O.memoizedState!==null||Rn;O=Wd;var X=Rn;if(Wd=C,(Rn=B)&&!X)for(me=y;me!==null;)C=me,B=C.child,C.tag===22&&C.memoizedState!==null?$x(y):B!==null?(B.return=C,me=B):$x(y);for(;b!==null;)me=b,Ux(b),b=b.sibling;me=y,Wd=O,Rn=X}Bx(i)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,me=b):Bx(i)}}function Bx(i){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rn||qd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Rn)if(c===null)m.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Hr(a.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&zw(a,b,m);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}zw(a,C,c)}break;case 5:var O=a.stateNode;if(c===null&&a.flags&4){c=O;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var se=X.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Ii(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||a.flags&512&&pm(a)}catch(re){St(a,a.return,re)}}if(a===i){me=null;break}if(c=a.sibling,c!==null){c.return=a.return,me=c;break}me=a.return}}function zx(i){for(;me!==null;){var a=me;if(a===i){me=null;break}var c=a.sibling;if(c!==null){c.return=a.return,me=c;break}me=a.return}}function $x(i){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{qd(4,a)}catch(B){St(a,c,B)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(B){St(a,y,B)}}var b=a.return;try{pm(a)}catch(B){St(a,b,B)}break;case 5:var C=a.return;try{pm(a)}catch(B){St(a,C,B)}}}catch(B){St(a,a.return,B)}if(a===i){me=null;break}var O=a.sibling;if(O!==null){O.return=a.return,me=O;break}me=a.return}}var ZA=Math.ceil,Hd=W.ReactCurrentDispatcher,ym=W.ReactCurrentOwner,Cr=W.ReactCurrentBatchConfig,Ye=0,Xt=null,Mt=null,fn=0,pr=0,Ja=Ni(0),qt=0,Pc=null,Ho=0,Gd=0,vm=0,Nc=null,Yn=null,wm=0,Za=1/0,ni=null,Kd=!1,xm=null,Oi=null,Qd=!1,Fi=null,Yd=0,jc=0,bm=null,Xd=-1,Jd=0;function Fn(){return(Ye&6)!==0?ut():Xd!==-1?Xd:Xd=ut()}function Ui(i){return(i.mode&1)===0?1:(Ye&2)!==0&&fn!==0?fn&-fn:MA.transition!==null?(Jd===0&&(Jd=ec()),Jd):(i=He,i!==0||(i=window.event,i=i===void 0?16:Ra(i.type)),i)}function Qr(i,a,c,m){if(50<jc)throw jc=0,bm=null,Error(n(185));Do(i,c,m),((Ye&2)===0||i!==Xt)&&(i===Xt&&((Ye&2)===0&&(Gd|=c),qt===4&&Bi(i,fn)),Xn(i,m),c===1&&Ye===0&&(a.mode&1)===0&&(Za=ut()+500,Cd&&Di()))}function Xn(i,a){var c=i.callbackNode;jo(i,a);var m=$s(i,i===Xt?fn:0);if(m===0)c!==null&&ba(c),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(c!=null&&ba(c),a===1)i.tag===0?LA(qx.bind(null,i)):kw(qx.bind(null,i)),PA(function(){(Ye&6)===0&&Di()}),c=null;else{switch(ms(m)){case 1:c=_a;break;case 4:c=Xl;break;case 16:c=Ao;break;case 536870912:c=Ea;break;default:c=Ao}c=Zx(c,Wx.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Wx(i,a){if(Xd=-1,Jd=0,(Ye&6)!==0)throw Error(n(327));var c=i.callbackNode;if(el()&&i.callbackNode!==c)return null;var m=$s(i,i===Xt?fn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Zd(i,m);else{a=m;var y=Ye;Ye|=2;var b=Gx();(Xt!==i||fn!==a)&&(ni=null,Za=ut()+500,Ko(i,a));do try{nk();break}catch(O){Hx(i,O)}while(!0);Fp(),Hd.current=b,Ye=y,Mt!==null?a=0:(Xt=null,fn=0,a=qt)}if(a!==0){if(a===2&&(y=Zl(i),y!==0&&(m=y,a=_m(i,y))),a===1)throw c=Pc,Ko(i,0),Bi(i,m),Xn(i,ut()),c;if(a===6)Bi(i,m);else{if(y=i.current.alternate,(m&30)===0&&!ek(y)&&(a=Zd(i,m),a===2&&(b=Zl(i),b!==0&&(m=b,a=_m(i,b))),a===1))throw c=Pc,Ko(i,0),Bi(i,m),Xn(i,ut()),c;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Qo(i,Yn,ni);break;case 3:if(Bi(i,m),(m&130023424)===m&&(a=wm+500-ut(),10<a)){if($s(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Fn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Rp(Qo.bind(null,i,Yn,ni),a);break}Qo(i,Yn,ni);break;case 4:if(Bi(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var C=31-ar(m);b=1<<C,C=a[C],C>y&&(y=C),m&=~b}if(m=y,m=ut()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*ZA(m/1960))-m,10<m){i.timeoutHandle=Rp(Qo.bind(null,i,Yn,ni),m);break}Qo(i,Yn,ni);break;case 5:Qo(i,Yn,ni);break;default:throw Error(n(329))}}}return Xn(i,ut()),i.callbackNode===c?Wx.bind(null,i):null}function _m(i,a){var c=Nc;return i.current.memoizedState.isDehydrated&&(Ko(i,a).flags|=256),i=Zd(i,a),i!==2&&(a=Yn,Yn=c,a!==null&&Em(a)),i}function Em(i){Yn===null?Yn=i:Yn.push.apply(Yn,i)}function ek(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],b=y.getSnapshot;y=y.value;try{if(!Wr(b(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(i,a){for(a&=~vm,a&=~Gd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-ar(a),m=1<<c;i[c]=-1,a&=~m}}function qx(i){if((Ye&6)!==0)throw Error(n(327));el();var a=$s(i,0);if((a&1)===0)return Xn(i,ut()),null;var c=Zd(i,a);if(i.tag!==0&&c===2){var m=Zl(i);m!==0&&(a=m,c=_m(i,m))}if(c===1)throw c=Pc,Ko(i,0),Bi(i,a),Xn(i,ut()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Qo(i,Yn,ni),Xn(i,ut()),null}function Sm(i,a){var c=Ye;Ye|=1;try{return i(a)}finally{Ye=c,Ye===0&&(Za=ut()+500,Cd&&Di())}}function Go(i){Fi!==null&&Fi.tag===0&&(Ye&6)===0&&el();var a=Ye;Ye|=1;var c=Cr.transition,m=He;try{if(Cr.transition=null,He=1,i)return i()}finally{He=m,Cr.transition=c,Ye=a,(Ye&6)===0&&Di()}}function Tm(){pr=Ja.current,ht(Ja)}function Ko(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,kA(c)),Mt!==null)for(c=Mt.return;c!==null;){var m=c;switch(Dp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Sd();break;case 3:Qa(),ht(Gn),ht(Tn),Gp();break;case 5:qp(m);break;case 4:Qa();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:Up(m.type._context);break;case 22:case 23:Tm()}c=c.return}if(Xt=i,Mt=i=zi(i.current,null),fn=pr=a,qt=0,Pc=null,vm=Gd=Ho=0,Yn=Nc=null,$o!==null){for(a=0;a<$o.length;a++)if(c=$o[a],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,b=c.pending;if(b!==null){var C=b.next;b.next=y,m.next=C}c.pending=m}$o=null}return i}function Hx(i,a){do{var c=Mt;try{if(Fp(),Md.current=Ud,Vd){for(var m=wt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Vd=!1}if(qo=0,Yt=Wt=wt=null,Tc=!1,Cc=0,ym.current=null,c===null||c.return===null){qt=1,Pc=a,Mt=null;break}e:{var b=i,C=c.return,O=c,B=a;if(a=fn,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,se=O,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=yx(C);if(fe!==null){fe.flags&=-257,vx(fe,C,O,b,a),fe.mode&1&&gx(b,X,a),a=fe,B=X;var ye=a.updateQueue;if(ye===null){var ve=new Set;ve.add(B),a.updateQueue=ve}else ye.add(B);break e}else{if((a&1)===0){gx(b,X,a),Cm();break e}B=Error(n(426))}}else if(pt&&O.mode&1){var Pt=yx(C);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),vx(Pt,C,O,b,a),Vp(Ya(B,O));break e}}b=B=Ya(B,O),qt!==4&&(qt=2),Nc===null?Nc=[b]:Nc.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var K=px(b,B,a);Bw(b,K);break e;case 1:O=B;var z=b.type,Y=b.stateNode;if((b.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Oi===null||!Oi.has(Y)))){b.flags|=65536,a&=-a,b.lanes|=a;var ae=mx(b,O,a);Bw(b,ae);break e}}b=b.return}while(b!==null)}Qx(c)}catch(we){a=we,Mt===c&&c!==null&&(Mt=c=c.return);continue}break}while(!0)}function Gx(){var i=Hd.current;return Hd.current=Ud,i===null?Ud:i}function Cm(){(qt===0||qt===3||qt===2)&&(qt=4),Xt===null||(Ho&268435455)===0&&(Gd&268435455)===0||Bi(Xt,fn)}function Zd(i,a){var c=Ye;Ye|=2;var m=Gx();(Xt!==i||fn!==a)&&(ni=null,Ko(i,a));do try{tk();break}catch(y){Hx(i,y)}while(!0);if(Fp(),Ye=c,Hd.current=m,Mt!==null)throw Error(n(261));return Xt=null,fn=0,qt}function tk(){for(;Mt!==null;)Kx(Mt)}function nk(){for(;Mt!==null&&!Ro();)Kx(Mt)}function Kx(i){var a=Jx(i.alternate,i,pr);i.memoizedProps=i.pendingProps,a===null?Qx(i):Mt=a,ym.current=null}function Qx(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=KA(c,a,pr),c!==null){Mt=c;return}}else{if(c=QA(c,a),c!==null){c.flags&=32767,Mt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,Mt=null;return}}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=i}while(a!==null);qt===0&&(qt=5)}function Qo(i,a,c){var m=He,y=Cr.transition;try{Cr.transition=null,He=1,rk(i,a,c,m)}finally{Cr.transition=y,He=m}return null}function rk(i,a,c,m){do el();while(Fi!==null);if((Ye&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var b=c.lanes|c.childLanes;if(hp(i,b),i===Xt&&(Mt=Xt=null,fn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Qd||(Qd=!0,Zx(Ao,function(){return el(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=Cr.transition,Cr.transition=null;var C=He;He=1;var O=Ye;Ye|=4,ym.current=null,XA(i,c),Fx(c,i),EA(Cp),Hs=!!Tp,Cp=Tp=null,i.current=c,JA(c),zs(),Ye=O,He=C,Cr.transition=b}else i.current=c;if(Qd&&(Qd=!1,Fi=i,Yd=y),b=i.pendingLanes,b===0&&(Oi=null),od(c.stateNode),Xn(i,ut()),a!==null)for(m=i.onRecoverableError,c=0;c<a.length;c++)y=a[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(Kd)throw Kd=!1,i=xm,xm=null,i;return(Yd&1)!==0&&i.tag!==0&&el(),b=i.pendingLanes,(b&1)!==0?i===bm?jc++:(jc=0,bm=i):jc=0,Di(),null}function el(){if(Fi!==null){var i=ms(Yd),a=Cr.transition,c=He;try{if(Cr.transition=null,He=16>i?16:i,Fi===null)var m=!1;else{if(i=Fi,Fi=null,Yd=0,(Ye&6)!==0)throw Error(n(331));var y=Ye;for(Ye|=4,me=i.current;me!==null;){var b=me,C=b.child;if((me.flags&16)!==0){var O=b.deletions;if(O!==null){for(var B=0;B<O.length;B++){var X=O[B];for(me=X;me!==null;){var se=me;switch(se.tag){case 0:case 11:case 15:kc(8,se,b)}var ie=se.child;if(ie!==null)ie.return=se,me=ie;else for(;me!==null;){se=me;var re=se.sibling,fe=se.return;if(Dx(se),se===X){me=null;break}if(re!==null){re.return=fe,me=re;break}me=fe}}}var ye=b.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Pt=ve.sibling;ve.sibling=null,ve=Pt}while(ve!==null)}}me=b}}if((b.subtreeFlags&2064)!==0&&C!==null)C.return=b,me=C;else e:for(;me!==null;){if(b=me,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:kc(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,me=K;break e}me=b.return}}var z=i.current;for(me=z;me!==null;){C=me;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,me=Y;else e:for(C=z;me!==null;){if(O=me,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:qd(9,O)}}catch(we){St(O,O.return,we)}if(O===C){me=null;break e}var ae=O.sibling;if(ae!==null){ae.return=O.return,me=ae;break e}me=O.return}}if(Ye=y,Di(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(ko,i)}catch{}m=!0}return m}finally{He=c,Cr.transition=a}}return!1}function Yx(i,a,c){a=Ya(c,a),a=px(i,a,1),i=Mi(i,a,1),a=Fn(),i!==null&&(Do(i,1,a),Xn(i,a))}function St(i,a,c){if(i.tag===3)Yx(i,i,c);else for(;a!==null;){if(a.tag===3){Yx(a,i,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oi===null||!Oi.has(m))){i=Ya(c,i),i=mx(a,i,1),a=Mi(a,i,1),i=Fn(),a!==null&&(Do(a,1,i),Xn(a,i));break}}a=a.return}}function sk(i,a,c){var m=i.pingCache;m!==null&&m.delete(a),a=Fn(),i.pingedLanes|=i.suspendedLanes&c,Xt===i&&(fn&c)===c&&(qt===4||qt===3&&(fn&130023424)===fn&&500>ut()-wm?Ko(i,0):vm|=c),Xn(i,a)}function Xx(i,a){a===0&&((i.mode&1)===0?a=1:(a=Si,Si<<=1,(Si&130023424)===0&&(Si=4194304)));var c=Fn();i=Zs(i,a),i!==null&&(Do(i,a,c),Xn(i,c))}function ik(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Xx(i,c)}function ok(i,a){var c=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Xx(i,c)}var Jx;Jx=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Gn.current)Qn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return Qn=!1,GA(i,a,c);Qn=(i.flags&131072)!==0}else Qn=!1,pt&&(a.flags&1048576)!==0&&Pw(a,Rd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;$d(i,a),i=a.pendingProps;var y=za(a,Tn.current);Ka(a,c),y=Yp(null,a,m,i,y,c);var b=Xp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Kn(m)?(b=!0,Td(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,$p(a),y.updater=Bd,a.stateNode=y,y._reactInternals=a,rm(a,m,i,c),a=am(null,a,m,!0,b,c)):(a.tag=0,pt&&b&&jp(a),On(null,a,y,c),a=a.child),a;case 16:m=a.elementType;e:{switch($d(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=lk(m),i=Hr(m,i),y){case 0:a=om(null,a,m,i,c);break e;case 1:a=Sx(null,a,m,i,c);break e;case 11:a=wx(null,a,m,i,c);break e;case 14:a=xx(null,a,m,Hr(m.type,i),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),om(i,a,m,y,c);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),Sx(i,a,m,y,c);case 3:e:{if(Tx(a),i===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,y=b.element,Uw(i,a),Dd(a,m,null,c);var C=a.memoizedState;if(m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=Ya(Error(n(423)),a),a=Cx(i,a,m,c,y);break e}else if(m!==y){y=Ya(Error(n(424)),a),a=Cx(i,a,m,c,y);break e}else for(fr=Pi(a.stateNode.containerInfo.firstChild),hr=a,pt=!0,qr=null,c=Ow(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qa(),m===y){a=ti(i,a,c);break e}On(i,a,m,c)}a=a.child}return a;case 5:return $w(a),i===null&&Mp(a),m=a.type,y=a.pendingProps,b=i!==null?i.memoizedProps:null,C=y.children,Ip(m,y)?C=null:b!==null&&Ip(m,b)&&(a.flags|=32),Ex(i,a),On(i,a,C,c),a.child;case 6:return i===null&&Mp(a),null;case 13:return Ix(i,a,c);case 4:return Wp(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=Ha(a,null,m,c):On(i,a,m,c),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),wx(i,a,m,y,c);case 7:return On(i,a,a.pendingProps,c),a.child;case 8:return On(i,a,a.pendingProps.children,c),a.child;case 12:return On(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,b=a.memoizedProps,C=y.value,lt(Pd,m._currentValue),m._currentValue=C,b!==null)if(Wr(b.value,C)){if(b.children===y.children&&!Gn.current){a=ti(i,a,c);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var O=b.dependencies;if(O!==null){C=b.child;for(var B=O.firstContext;B!==null;){if(B.context===m){if(b.tag===1){B=ei(-1,c&-c),B.tag=2;var X=b.updateQueue;if(X!==null){X=X.shared;var se=X.pending;se===null?B.next=B:(B.next=se.next,se.next=B),X.pending=B}}b.lanes|=c,B=b.alternate,B!==null&&(B.lanes|=c),Bp(b.return,c,a),O.lanes|=c;break}B=B.next}}else if(b.tag===10)C=b.type===a.type?null:b.child;else if(b.tag===18){if(C=b.return,C===null)throw Error(n(341));C.lanes|=c,O=C.alternate,O!==null&&(O.lanes|=c),Bp(C,c,a),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===a){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}On(i,a,y.children,c),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ka(a,c),y=Sr(y),m=m(y),a.flags|=1,On(i,a,m,c),a.child;case 14:return m=a.type,y=Hr(m,a.pendingProps),y=Hr(m.type,y),xx(i,a,m,y,c);case 15:return bx(i,a,a.type,a.pendingProps,c);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Hr(m,y),$d(i,a),a.tag=1,Kn(m)?(i=!0,Td(a)):i=!1,Ka(a,c),hx(a,m,y),rm(a,m,y,c),am(null,a,m,!0,i,c);case 19:return Ax(i,a,c);case 22:return _x(i,a,c)}throw Error(n(156,a.tag))};function Zx(i,a){return Yl(i,a)}function ak(i,a,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,c,m){return new ak(i,a,c,m)}function Im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lk(i){if(typeof i=="function")return Im(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===_e)return 14}return 2}function zi(i,a){var c=i.alternate;return c===null?(c=Ir(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function eh(i,a,c,m,y,b){var C=2;if(m=i,typeof i=="function")Im(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case I:return Yo(c.children,y,b,a);case R:C=8,y|=8;break;case N:return i=Ir(12,c,a,y|2),i.elementType=N,i.lanes=b,i;case L:return i=Ir(13,c,a,y),i.elementType=L,i.lanes=b,i;case ee:return i=Ir(19,c,a,y),i.elementType=ee,i.lanes=b,i;case he:return th(c,y,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:C=10;break e;case V:C=9;break e;case $:C=11;break e;case _e:C=14;break e;case ze:C=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Ir(C,c,a,y),a.elementType=i,a.type=m,a.lanes=b,a}function Yo(i,a,c,m){return i=Ir(7,i,m,a),i.lanes=c,i}function th(i,a,c,m){return i=Ir(22,i,m,a),i.elementType=he,i.lanes=c,i.stateNode={isHidden:!1},i}function Rm(i,a,c){return i=Ir(6,i,null,a),i.lanes=c,i}function Am(i,a,c){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function ck(i,a,c,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function km(i,a,c,m,y,b,C,O,B){return i=new ck(i,a,c,O,B),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Ir(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(b),i}function uk(i,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:m==null?null:""+m,children:i,containerInfo:a,implementation:c}}function e1(i){if(!i)return ji;i=i._reactInternals;e:{if(zr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Kn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Kn(c))return Rw(i,c,a)}return a}function t1(i,a,c,m,y,b,C,O,B){return i=km(c,m,!0,i,y,b,C,O,B),i.context=e1(null),c=i.current,m=Fn(),y=Ui(c),b=ei(m,y),b.callback=a??null,Mi(c,b,y),i.current.lanes=y,Do(i,y,m),Xn(i,m),i}function nh(i,a,c,m){var y=a.current,b=Fn(),C=Ui(y);return c=e1(c),a.context===null?a.context=c:a.pendingContext=c,a=ei(b,C),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Mi(y,a,C),i!==null&&(Qr(i,y,C,b),jd(i,y,C)),C}function rh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function n1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Pm(i,a){n1(i,a),(i=i.alternate)&&n1(i,a)}function dk(){return null}var r1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Nm(i){this._internalRoot=i}sh.prototype.render=Nm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));nh(i,a,null,null)},sh.prototype.unmount=Nm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Go(function(){nh(null,i,null,null)}),a[Qs]=null}};function sh(i){this._internalRoot=i}sh.prototype.unstable_scheduleHydration=function(i){if(i){var a=ic();i={blockedOn:null,target:i,priority:a};for(var c=0;c<lr.length&&a!==0&&a<lr[c].priority;c++);lr.splice(c,0,i),c===0&&Ca(i)}};function jm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ih(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function s1(){}function hk(i,a,c,m,y){if(y){if(typeof m=="function"){var b=m;m=function(){var X=rh(C);b.call(X)}}var C=t1(a,m,i,0,null,!1,!1,"",s1);return i._reactRootContainer=C,i[Qs]=C.current,yc(i.nodeType===8?i.parentNode:i),Go(),C}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var X=rh(B);O.call(X)}}var B=km(i,0,!1,null,null,!1,!1,"",s1);return i._reactRootContainer=B,i[Qs]=B.current,yc(i.nodeType===8?i.parentNode:i),Go(function(){nh(a,B,c,m)}),B}function oh(i,a,c,m,y){var b=c._reactRootContainer;if(b){var C=b;if(typeof y=="function"){var O=y;y=function(){var B=rh(C);O.call(B)}}nh(a,C,i,y)}else C=hk(c,a,i,y,m);return rh(C)}rc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Je(a.pendingLanes);c!==0&&(nc(a,c|1),Xn(a,ut()),(Ye&6)===0&&(Za=ut()+500,Di()))}break;case 13:Go(function(){var m=Zs(i,1);if(m!==null){var y=Fn();Qr(m,i,1,y)}}),Pm(i,1)}},Sa=function(i){if(i.tag===13){var a=Zs(i,134217728);if(a!==null){var c=Fn();Qr(a,i,134217728,c)}Pm(i,134217728)}},sc=function(i){if(i.tag===13){var a=Ui(i),c=Zs(i,a);if(c!==null){var m=Fn();Qr(c,i,a,m)}Pm(i,a)}},ic=function(){return He},oc=function(i,a){var c=He;try{return He=i,a()}finally{He=c}},Fr=function(i,a,c){switch(a){case"input":if(as(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==i&&m.form===i.form){var y=Ed(m);if(!y)throw Error(n(90));Dt(m),as(m,y)}}}break;case"textarea":So(i,c);break;case"select":a=c.value,a!=null&&_n(i,!!c.multiple,a,!1)}},ln=Sm,Kt=Go;var fk={usingClientEntryPoint:!1,Events:[xc,Ua,Ed,Et,an,Sm]},Dc={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=id(i),i===null?null:i.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ko=ah.inject(pk),or=ah}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk,Jn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(a))throw Error(n(200));return uk(i,a,null,c)},Jn.createRoot=function(i,a){if(!jm(i))throw Error(n(299));var c=!1,m="",y=r1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=km(i,1,!1,null,null,c,!1,m,y),i[Qs]=a.current,yc(i.nodeType===8?i.parentNode:i),new Nm(a)},Jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=id(a),i=i===null?null:i.stateNode,i},Jn.flushSync=function(i){return Go(i)},Jn.hydrate=function(i,a,c){if(!ih(a))throw Error(n(200));return oh(null,i,a,!0,c)},Jn.hydrateRoot=function(i,a,c){if(!jm(i))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,b="",C=r1;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=t1(a,null,i,1,c??null,y,!1,b,C),i[Qs]=a.current,yc(i),m)for(i=0;i<m.length;i++)c=m[i],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new sh(a)},Jn.render=function(i,a,c){if(!ih(a))throw Error(n(200));return oh(null,i,a,!1,c)},Jn.unmountComponentAtNode=function(i){if(!ih(i))throw Error(n(40));return i._reactRootContainer?(Go(function(){oh(null,null,i,!1,function(){i._reactRootContainer=null,i[Qs]=null})}),!0):!1},Jn.unstable_batchedUpdates=Sm,Jn.unstable_renderSubtreeIntoContainer=function(i,a,c,m){if(!ih(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return oh(i,a,c,!1,m)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var h1;function f2(){if(h1)return Mm.exports;h1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mm.exports=bk(),Mm.exports}var f1;function _k(){if(f1)return lh;f1=1;var t=f2();return lh.createRoot=t.createRoot,lh.hydrateRoot=t.hydrateRoot,lh}var Ek=_k();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p1="popstate";function Sk(t={}){function e(s,o){let{pathname:l="/",search:u="",hash:d=""}=ga(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ig("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof o=="string"?o:uu(o))}function r(s,o){xr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Ck(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tk(){return Math.random().toString(36).substring(2,10)}function m1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||r||Tk()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ck(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let T=g(),D=T==null?null:T-p;p=T,d&&d({action:u,location:A.location,delta:D})}function w(T,D){u="PUSH";let j=Ig(A.location,T,D);n&&n(j,T),p=g()+1;let F=m1(j,p),W=A.createHref(j);try{l.pushState(F,"",W)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(W)}o&&d&&d({action:u,location:A.location,delta:1})}function S(T,D){u="REPLACE";let j=Ig(A.location,T,D);n&&n(j,T),p=g();let F=m1(j,p),W=A.createHref(j);l.replaceState(F,"",W),o&&d&&d({action:u,location:A.location,delta:0})}function k(T){return Ik(T)}let A={get action(){return u},get location(){return t(s,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(p1,v),d=T,()=>{s.removeEventListener(p1,v),d=null}},createHref(T){return e(s,T)},createURL:k,encodeLocation(T){let D=k(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:S,go(T){return l.go(T)}};return A}function Ik(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function p2(t,e,n="/"){return Rk(t,e,n,!1)}function Rk(t,e,n,r){let s=typeof e=="string"?ga(e):e,o=li(s.pathname||"/",n);if(o==null)return null;let l=m2(t);Ak(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=Uk(o);u=Ok(l[d],p,r)}return u}function m2(t,e=[],n=[],r="",s=!1){let o=(l,u,d=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;gt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=oi([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),m2(l.children,e,w,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:Mk(v,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of g2(l.path))o(l,u,!0,d)}),e}function g2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=g2(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ak(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kk=/^:[\w-]+$/,Pk=3,Nk=2,jk=1,Dk=10,Lk=-2,g1=t=>t==="*";function Mk(t,e){let n=t.split("/"),r=n.length;return n.some(g1)&&(r+=Lk),e&&(r+=Nk),n.filter(s=>!g1(s)).reduce((s,o)=>s+(kk.test(o)?Pk:o===""?jk:Dk),r)}function Vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ok(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=$h({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=$h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:oi([o,v.pathname]),pathnameBase:Wk(oi([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=oi([o,v.pathnameBase]))}return l}function $h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let k=u[w]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const S=u[w];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function Fk(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Uk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bk(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:zk(n,e):e,search:qk(r),hash:Hk(s)}}function zk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $k(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dy(t){let e=$k(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ly(t,e,n,r=!1){let s;typeof t=="string"?s=ga(t):(s={...t},gt(!s.pathname||!s.pathname.includes("?"),Fm("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Fm("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Fm("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}u=v>=0?e[v]:"/"}let d=Bk(s,u),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),Wk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y2=["POST","PUT","PATCH","DELETE"];new Set(y2);var Kk=["GET",...y2];new Set(Kk);var kl=x.createContext(null);kl.displayName="DataRouter";var Ef=x.createContext(null);Ef.displayName="DataRouterState";x.createContext(!1);var v2=x.createContext({isTransitioning:!1});v2.displayName="ViewTransition";var Qk=x.createContext(new Map);Qk.displayName="Fetchers";var Yk=x.createContext(null);Yk.displayName="Await";var is=x.createContext(null);is.displayName="Navigation";var ju=x.createContext(null);ju.displayName="Location";var os=x.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var My=x.createContext(null);My.displayName="RouteError";function Xk(t,{relative:e}={}){gt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(is),{hash:s,pathname:o,search:l}=Du(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:oi([n,o])),r.createHref({pathname:u,search:l,hash:s})}function Pl(){return x.useContext(ju)!=null}function Lr(){return gt(Pl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(ju).location}var w2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x2(t){x.useContext(is).static||x.useLayoutEffect(t)}function Dn(){let{isDataRoute:t}=x.useContext(os);return t?uP():Jk()}function Jk(){gt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(kl),{basename:e,navigator:n}=x.useContext(is),{matches:r}=x.useContext(os),{pathname:s}=Lr(),o=JSON.stringify(Dy(r)),l=x.useRef(!1);return x2(()=>{l.current=!0}),x.useCallback((d,p={})=>{if(xr(l.current,w2),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Ly(d,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:oi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}x.createContext(null);function Vy(){let{matches:t}=x.useContext(os),e=t[t.length-1];return e?e.params:{}}function Du(t,{relative:e}={}){let{matches:n}=x.useContext(os),{pathname:r}=Lr(),s=JSON.stringify(Dy(n));return x.useMemo(()=>Ly(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Zk(t,e){return b2(t,e)}function b2(t,e,n,r,s){gt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(is),{matches:l}=x.useContext(os),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";_2(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Lr(),S;if(e){let j=typeof e=="string"?ga(e):e;gt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=w;let k=S.pathname||"/",A=k;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=p2(t,{pathname:A});xr(v||T!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=sP(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,s);return e&&D?x.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function eP(){let t=cP(),e=Gk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,l)}var tP=x.createElement(eP,null),nP=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(os.Provider,{value:this.props.routeContext},x.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rP({routeContext:t,match:e,children:n}){let r=x.useContext(kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(os.Provider,{value:t},n)}function sP(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:w}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let w,S=!1,k=null,A=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||tP,u&&(d<0&&v===0?(_2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===v&&(S=!0,A=g.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),D=()=>{let j;return w?j=k:S?j=A:g.route.Component?j=x.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,x.createElement(rP,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(nP,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):D()},null)}function Oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iP(t){let e=x.useContext(kl);return gt(e,Oy(t)),e}function oP(t){let e=x.useContext(Ef);return gt(e,Oy(t)),e}function aP(t){let e=x.useContext(os);return gt(e,Oy(t)),e}function Fy(t){let e=aP(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lP(){return Fy("useRouteId")}function cP(){let t=x.useContext(My),e=oP("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:e.errors?.[n]}function uP(){let{router:t}=iP("useNavigate"),e=Fy("useNavigate"),n=x.useRef(!1);return x2(()=>{n.current=!0}),x.useCallback(async(s,o={})=>{xr(n.current,w2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var y1={};function _2(t,e,n){!e&&!y1[t]&&(y1[t]=!0,xr(!1,n))}x.memo(dP);function dP({routes:t,future:e,state:n,unstable_onError:r}){return b2(t,void 0,n,r,e)}function hP({to:t,replace:e,state:n,relative:r}){gt(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(is);xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(os),{pathname:l}=Lr(),u=Dn(),d=Ly(t,Dy(o),l,r==="path"),p=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function Bn(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){gt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=ga(n));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,S=x.useMemo(()=>{let k=li(d,l);return k==null?null:{location:{pathname:k,search:p,hash:g,state:v,key:w},navigationType:r}},[l,d,p,g,v,w,r]);return xr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:x.createElement(is.Provider,{value:u},x.createElement(ju.Provider,{children:e,value:S}))}function pP({children:t,location:e}){return Zk(Rg(t),e)}function Rg(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let o=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Rg(r.props.children,o));return}gt(r.type===Bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Rg(r.props.children,o)),n.push(l)}),n}var Ch="get",Ih="application/x-www-form-urlencoded";function Sf(t){return t!=null&&typeof t.tagName=="string"}function mP(t){return Sf(t)&&t.tagName.toLowerCase()==="button"}function gP(t){return Sf(t)&&t.tagName.toLowerCase()==="form"}function yP(t){return Sf(t)&&t.tagName.toLowerCase()==="input"}function vP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wP(t,e){return t.button===0&&(!e||e==="_self")&&!vP(t)}function Ag(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function xP(t,e){let n=Ag(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var ch=null;function bP(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var _P=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(t){return t!=null&&!_P.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):t}function EP(t,e){let n,r,s,o,l;if(gP(t)){let u=t.getAttribute("action");r=u?li(u,e):null,n=t.getAttribute("method")||Ch,s=Um(t.getAttribute("enctype"))||Ih,o=new FormData(t)}else if(mP(t)||yP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?li(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ch,s=Um(t.getAttribute("formenctype"))||Um(u.getAttribute("enctype"))||Ih,o=new FormData(u,t),!bP()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(Sf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,s=Ih,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function TP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IP(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await TP(o,n);return l.links?l.links():[]}return[]}));return PP(r.flat(1).filter(CP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function v1(t,e,n,r,s,o){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,u=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RP(t,e,{includeHydrateFallback:n}={}){return AP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function AP(t){return[...new Set(t)]}function kP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(kP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function E2(){let t=x.useContext(kl);return Uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NP(){let t=x.useContext(Ef);return Uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var By=x.createContext(void 0);By.displayName="FrameworkContext";function S2(){let t=x.useContext(By);return Uy(t,"You must render this element inside a <HydratedRouter> element"),t}function jP(t,e){let n=x.useContext(By),[r,s]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=D=>{D.forEach(j=>{l(j.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[t]),x.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Mc(u,S),onBlur:Mc(d,k),onMouseEnter:Mc(p,S),onMouseLeave:Mc(g,k),onTouchStart:Mc(v,S)}]:[!1,w,{}]}function Mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DP({page:t,...e}){let{router:n}=E2(),r=x.useMemo(()=>p2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(MP,{page:t,matches:r,...e}):null}function LP(t){let{manifest:e,routeModules:n}=S2(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return IP(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function MP({page:t,matches:e,...n}){let r=Lr(),{manifest:s,routeModules:o}=S2(),{basename:l}=E2(),{loaderData:u,matches:d}=NP(),p=x.useMemo(()=>v1(t,e,d,s,r,"data"),[t,e,d,s,r]),g=x.useMemo(()=>v1(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,A=!1;if(e.forEach(D=>{let j=s.routes[D.route.id];!j||!j.hasLoader||(!p.some(F=>F.route.id===D.route.id)&&D.route.id in u&&o[D.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:k.add(D.route.id))}),k.size===0)return[];let T=SP(t,l,"data");return A&&k.size>0&&T.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[l,u,r,s,p,e,t,o]),w=x.useMemo(()=>RP(g,s),[g,s]),S=LP(g);return x.createElement(x.Fragment,null,v.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),S.map(({key:k,link:A})=>x.createElement("link",{key:k,nonce:n.nonce,...A})))}function VP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T2&&(window.__reactRouterVersion="7.9.4")}catch{}function OP({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=Sk({window:n,v5Compat:!0}));let s=r.current,[o,l]=x.useState({action:s.action,location:s.location}),u=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(fP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:v,...w},S){let{basename:k}=x.useContext(is),A=typeof p=="string"&&C2.test(p),T,D=!1;if(typeof p=="string"&&A&&(T=p,T2))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),V=li(M.pathname,k);M.origin===N.origin&&V!=null?p=V+M.search+M.hash:D=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Xk(p,{relative:s}),[F,W,H]=jP(r,w),U=zP(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function I(N){e&&e(N),N.defaultPrevented||U(N)}let R=x.createElement("a",{...w,...H,href:T||j,onClick:D||o?e:I,ref:VP(S,W),target:d,"data-discover":!A&&n==="render"?"true":void 0});return F&&!A?x.createElement(x.Fragment,null,R,x.createElement(DP,{page:j})):R});Ot.displayName="Link";var FP=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...p},g){let v=Du(l,{relative:p.relative}),w=Lr(),S=x.useContext(Ef),{navigator:k,basename:A}=x.useContext(is),T=S!=null&&GP(v)&&u===!0,D=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,j=w.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&A&&(F=li(F,A)||F);const W=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=j===D||!s&&j.startsWith(D)&&j.charAt(W)==="/",U=F!=null&&(F===D||!s&&F.startsWith(D)&&F.charAt(D.length)==="/"),I={isActive:H,isPending:U,isTransitioning:T},R=H?e:void 0,N;typeof r=="function"?N=r(I):N=[r,H?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(I):o;return x.createElement(Ot,{...p,"aria-current":R,className:N,ref:g,style:M,to:l,viewTransition:u},typeof d=="function"?d(I):d)});FP.displayName="NavLink";var UP=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=Ch,action:u,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,...w},S)=>{let k=qP(),A=HP(u,{relative:p}),T=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&C2.test(u),j=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,H=W?.getAttribute("formmethod")||l;k(W||F.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:S,method:T,action:A,onSubmit:r?d:j,...w,"data-discover":!D&&t==="render"?"true":void 0})});UP.displayName="Form";function BP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I2(t){let e=x.useContext(kl);return gt(e,BP(t)),e}function zP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Dn(),d=Lr(),p=Du(t,{relative:o});return x.useCallback(g=>{if(wP(g,e)){g.preventDefault();let v=n!==void 0?n:uu(d)===uu(p);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,p,n,r,e,t,s,o,l])}function N$(t){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(Ag(t)),n=x.useRef(!1),r=Lr(),s=x.useMemo(()=>xP(r.search,n.current?null:e.current),[r.search]),o=Dn(),l=x.useCallback((u,d)=>{const p=Ag(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,o("?"+p,d)},[o,s]);return[s,l]}var $P=0,WP=()=>`__${String(++$P)}__`;function qP(){let{router:t}=I2("useSubmit"),{basename:e}=x.useContext(is),n=lP();return x.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:d,body:p}=EP(r,e);if(s.navigate===!1){let g=s.fetcherKey||WP();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function HP(t,{relative:e}={}){let{basename:n}=x.useContext(is),r=x.useContext(os);gt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Du(t||".",{relative:e})},l=Lr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:oi([n,o.pathname])),uu(o)}function GP(t,{relative:e}={}){let n=x.useContext(v2);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I2("useViewTransitionState"),s=Du(t,{relative:e});if(!n.isTransitioning)return!1;let o=li(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $h(s.pathname,l)!=null||$h(s.pathname,o)!=null}var Uc=f2();const KP="modulepreload",QP=function(t){return"/"+t},w1={},Tf=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(p=>{if(p=QP(p),p in w1)return;w1[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":KP,g||(w.as="script"),w.crossOrigin="",w.href=p,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((S,k)=>{w.addEventListener("load",S),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var x1={},YP="@vercel/analytics",XP="1.6.1",JP=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function R2(){return typeof window<"u"}function A2(){try{const t="production"}catch{}return"production"}function ZP(t="auto"){if(t==="auto"){window.vam=A2();return}window.vam=t}function eN(){return(R2()?window.vam:A2())||"production"}function kg(){return eN()==="development"}function tN(t){return t.scriptSrc?t.scriptSrc:kg()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function nN(t={debug:!0}){var e;if(!R2())return;ZP(t.mode),JP(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=tN(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=YP+(t.framework?`/${t.framework}`:""),r.dataset.sdkv=XP,t.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),t.endpoint?r.dataset.endpoint=t.endpoint:t.basePath&&(r.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(r.dataset.dsn=t.dsn),r.onerror=()=>{const s=kg()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${s}`)},kg()&&t.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function rN({route:t,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:t,path:e})}function sN(){if(!(typeof process>"u"||typeof x1>"u"))return x1.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function iN(t){return x.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),x.useEffect(()=>{nN({framework:t.framework||"react",basePath:t.basePath??sN(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),x.useEffect(()=>{t.route&&t.path&&rN({route:t.route,path:t.path})},[t.route,t.path]),null}const oN=()=>{};var b1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},P2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|p>>6,S=p&63;d||(S=64,l||(w=64)),r.push(n[g],n[v],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||p==null||v==null)throw new lN;const w=o<<2|u>>4;if(r.push(w),p!==64){const S=u<<4&240|p>>2;if(r.push(S),v!==64){const k=p<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cN=function(t){const e=k2(t);return P2.encodeByteArray(e,!0)},Wh=function(t){return cN(t).replace(/\./g,"")},N2=function(t){try{return P2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=()=>uN().__FIREBASE_DEFAULTS__,hN=()=>{if(typeof process>"u"||typeof b1>"u")return;const t=b1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N2(t[1]);return e&&JSON.parse(e)},Cf=()=>{try{return oN()||dN()||hN()||fN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j2=t=>Cf()?.emulatorHosts?.[t],D2=t=>{const e=j2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L2=()=>Cf()?.config,M2=t=>Cf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(l)),""].join(".")}const Kc={};function mN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function gN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _1=!1;function $y(t,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Kc[t]===e||Kc[t]||_1)return;Kc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=mN().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_1=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=gN(r),S=n("text"),k=document.getElementById(S)||document.createElement("span"),A=n("learnmore"),T=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;u(F),g(T,A);const W=p();d(j,D),F.append(j,k,T,W),document.body.appendChild(F)}o?(k.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function vN(){const t=Cf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bN(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _N(){return!vN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function EN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SN,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?TN(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Mr(s,u,r)}}function TN(t,e){return t.replace(CN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CN=/\{\$([^}]+)}/g;function IN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(E1(o)&&E1(l)){if(!ci(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RN(t,e){const n=new AN(t,e);return n.subscribe.bind(n)}class AN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bm),s.error===void 0&&(s.error=Bm),s.complete===void 0&&(s.complete=Bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1e3,NN=2,jN=14400*1e3,DN=.5;function S1(t,e=PN,n=NN){const r=e*Math.pow(n,t),s=Math.round(DN*r*(Math.random()-.5)*2);return Math.min(jN,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VN(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MN(t){return t===Jo?void 0:t}function VN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const FN={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},UN=$e.INFO,BN={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},zN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=BN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=UN,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const $N=(t,e)=>e.some(n=>t instanceof n);let T1,C1;function WN(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qN(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B2=new WeakMap,Pg=new WeakMap,z2=new WeakMap,zm=new WeakMap,Wy=new WeakMap;function HN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(to(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&B2.set(n,t)}).catch(()=>{}),Wy.set(e,t),e}function GN(t){if(Pg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Pg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KN(t){Ng=t(Ng)}function QN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($m(this),e,...n);return z2.set(r,e.sort?e.sort():[e]),to(r)}:qN().includes(t)?function(...e){return t.apply($m(this),e),to(B2.get(this))}:function(...e){return to(t.apply($m(this),e))}}function YN(t){return typeof t=="function"?QN(t):(t instanceof IDBTransaction&&GN(t),$N(t,WN())?new Proxy(t,Ng):t)}function to(t){if(t instanceof IDBRequest)return HN(t);if(zm.has(t))return zm.get(t);const e=YN(t);return e!==t&&(zm.set(t,e),Wy.set(e,t)),e}const $m=t=>Wy.get(t);function $2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=to(l);return r&&l.addEventListener("upgradeneeded",d=>{r(to(l.result),d.oldVersion,d.newVersion,to(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Wm=new Map;function I1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XN.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&d.done]))[0]};return Wm.set(e,o),o}KN(t=>({...t,get:(e,n,r)=>I1(e,n)||t.get(e,n,r),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e5(t){return t.getComponent()?.type==="VERSION"}const jg="@firebase/app",R1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new If("@firebase/app"),t5="@firebase/app-compat",n5="@firebase/analytics-compat",r5="@firebase/analytics",s5="@firebase/app-check-compat",i5="@firebase/app-check",o5="@firebase/auth",a5="@firebase/auth-compat",l5="@firebase/database",c5="@firebase/data-connect",u5="@firebase/database-compat",d5="@firebase/functions",h5="@firebase/functions-compat",f5="@firebase/installations",p5="@firebase/installations-compat",m5="@firebase/messaging",g5="@firebase/messaging-compat",y5="@firebase/performance",v5="@firebase/performance-compat",w5="@firebase/remote-config",x5="@firebase/remote-config-compat",b5="@firebase/storage",_5="@firebase/storage-compat",E5="@firebase/firestore",S5="@firebase/ai",T5="@firebase/firestore-compat",C5="firebase",I5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",R5={[jg]:"fire-core",[t5]:"fire-core-compat",[r5]:"fire-analytics",[n5]:"fire-analytics-compat",[i5]:"fire-app-check",[s5]:"fire-app-check-compat",[o5]:"fire-auth",[a5]:"fire-auth-compat",[l5]:"fire-rtdb",[c5]:"fire-data-connect",[u5]:"fire-rtdb-compat",[d5]:"fire-fn",[h5]:"fire-fn-compat",[f5]:"fire-iid",[p5]:"fire-iid-compat",[m5]:"fire-fcm",[g5]:"fire-fcm-compat",[y5]:"fire-perf",[v5]:"fire-perf-compat",[w5]:"fire-rc",[x5]:"fire-rc-compat",[b5]:"fire-gcs",[_5]:"fire-gcs-compat",[E5]:"fire-fst",[T5]:"fire-fst-compat",[S5]:"fire-vertex","fire-js":"fire-js",[C5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,A5=new Map,Lg=new Map;function A1(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(Lg.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of qh.values())A1(n,t);for(const n of A5.values())A1(n,t);return!0}function go(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new ya("app","Firebase",k5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=I5;function W2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw no.create("bad-app-name",{appName:String(s)});if(n||(n=L2()),!n)throw no.create("no-options");const o=qh.get(s);if(o){if(ci(n,o.options)&&ci(r,o.config))return o;throw no.create("duplicate-app",{appName:s})}const l=new ON(s);for(const d of Lg.values())l.addComponent(d);const u=new P5(n,r,l);return qh.set(s,u),u}function Rf(t=Dg){const e=qh.get(t);if(!e&&t===Dg&&L2())return W2();if(!e)throw no.create("no-app",{appName:t});return e}function nr(t,e,n){let r=R5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(l.join(" "));return}es(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="firebase-heartbeat-database",j5=1,du="firebase-heartbeat-store";let qm=null;function q2(){return qm||(qm=$2(N5,j5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw no.create("idb-open",{originalErrorMessage:t.message})})),qm}async function D5(t){try{const n=(await q2()).transaction(du),r=await n.objectStore(du).get(H2(t));return await n.done,r}catch(e){if(e instanceof Mr)ui.warn(e.message);else{const n=no.create("idb-get",{originalErrorMessage:e?.message});ui.warn(n.message)}}}async function k1(t,e){try{const r=(await q2()).transaction(du,"readwrite");await r.objectStore(du).put(e,H2(t)),await r.done}catch(n){if(n instanceof Mr)ui.warn(n.message);else{const r=no.create("idb-set",{originalErrorMessage:n?.message});ui.warn(r.message)}}}function H2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1024,M5=30;class V5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=P1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>M5){const s=U5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P1(),{heartbeatsToSend:n,unsentEntries:r}=O5(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function P1(){return new Date().toISOString().substring(0,10)}function O5(t,e=L5){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),N1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N1(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function U5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){es(new jr("platform-logger",e=>new ZN(e),"PRIVATE")),es(new jr("heartbeat",e=>new V5(e),"PRIVATE")),nr(jg,R1,t),nr(jg,R1,"esm2020"),nr("fire-js","")}B5("");var z5="firebase",$5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(z5,$5,"app");const G2="@firebase/installations",qy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1e4,Q2=`w:${qy}`,Y2="FIS_v2",W5="https://firebaseinstallations.googleapis.com/v1",q5=3600*1e3,H5="installations",G5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new ya(H5,G5,K5);function X2(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2({projectId:t}){return`${W5}/projects/${t}/installations`}function Z2(t){return{token:t.token,requestStatus:2,expiresIn:Y5(t.expiresIn),creationTime:Date.now()}}async function eS(t,e){const r=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q5(t,{refreshToken:e}){const n=tS(t);return n.append("Authorization",X5(e)),n}async function nS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y5(t){return Number(t.replace("s","000"))}function X5(t){return`${Y2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=J2(t),s=tS(t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:Y2,appId:t.appId,sdkVersion:Q2},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await nS(()=>fetch(r,u));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Z2(p.authToken)}}else throw await eS("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=/^[cdef][\w-]{21}$/,Mg="";function tj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nj(t);return ej.test(n)?n:Mg}catch{return Mg}}function nj(t){return Z5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function iS(t,e){const n=Af(t);oS(n,e),rj(n,e)}function oS(t,e){const n=sS.get(t);if(n)for(const r of n)r(e)}function rj(t,e){const n=sj();n&&n.postMessage({key:t,fid:e}),ij()}let ea=null;function sj(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=t=>{oS(t.data.key,t.data.fid)}),ea}function ij(){sS.size===0&&ea&&(ea.close(),ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="firebase-installations-database",aj=1,ua="firebase-installations-store";let Hm=null;function Hy(){return Hm||(Hm=$2(oj,aj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}})),Hm}async function Hh(t,e){const n=Af(t),s=(await Hy()).transaction(ua,"readwrite"),o=s.objectStore(ua),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&iS(t,e.fid),e}async function aS(t){const e=Af(t),r=(await Hy()).transaction(ua,"readwrite");await r.objectStore(ua).delete(e),await r.done}async function kf(t,e){const n=Af(t),s=(await Hy()).transaction(ua,"readwrite"),o=s.objectStore(ua),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&iS(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(t){let e;const n=await kf(t.appConfig,r=>{const s=lj(r),o=cj(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lj(t){const e=t||{fid:tj(),registrationStatus:0};return lS(e)}function cj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dj(t)}:{installationEntry:e}}async function uj(t,e){try{const n=await J5(t,e);return Hh(t.appConfig,n)}catch(n){throw X2(n)&&n.customData.serverCode===409?await aS(t.appConfig):await Hh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dj(t){let e=await j1(t.appConfig);for(;e.registrationStatus===1;)await rS(100),e=await j1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gy(t);return r||n}return e}function j1(t){return kf(t,e=>{if(!e)throw ca.create("installation-not-found");return lS(e)})}function lS(t){return hj(t)?{fid:t.fid,registrationStatus:0}:t}function hj(t){return t.registrationStatus===1&&t.registrationTime+K2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj({appConfig:t,heartbeatServiceProvider:e},n){const r=pj(t,n),s=Q5(t,n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:Q2,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await nS(()=>fetch(r,u));if(d.ok){const p=await d.json();return Z2(p)}else throw await eS("Generate Auth Token",d)}function pj(t,{fid:e}){return`${J2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(t,e=!1){let n;const r=await kf(t.appConfig,o=>{if(!cS(o))throw ca.create("not-registered");const l=o.authToken;if(!e&&yj(l))return o;if(l.requestStatus===1)return n=mj(t,e),o;{if(!navigator.onLine)throw ca.create("app-offline");const u=wj(o);return n=gj(t,u),u}});return n?await n:r.authToken}async function mj(t,e){let n=await D1(t.appConfig);for(;n.authToken.requestStatus===1;)await rS(100),n=await D1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ky(t,e):r}function D1(t){return kf(t,e=>{if(!cS(e))throw ca.create("not-registered");const n=e.authToken;return xj(n)?{...e,authToken:{requestStatus:0}}:e})}async function gj(t,e){try{const n=await fj(t,e),r={...e,authToken:n};return await Hh(t.appConfig,r),n}catch(n){if(X2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await aS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hh(t.appConfig,r)}throw n}}function cS(t){return t!==void 0&&t.registrationStatus===2}function yj(t){return t.requestStatus===2&&!vj(t)}function vj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+q5}function wj(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function xj(t){return t.requestStatus===1&&t.requestTime+K2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gy(e);return r?r.catch(console.error):Ky(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e=!1){const n=t;return await Ej(n),(await Ky(n,e)).token}async function Ej(t){const{registrationPromise:e}=await Gy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(!t||!t.options)throw Gm("App Configuration");if(!t.name)throw Gm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gm(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="installations",Tj="installations-internal",Cj=t=>{const e=t.getProvider("app").getImmediate(),n=Sj(e),r=go(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ij=t=>{const e=t.getProvider("app").getImmediate(),n=go(e,uS).getImmediate();return{getId:()=>bj(n),getToken:s=>_j(n,s)}};function Rj(){es(new jr(uS,Cj,"PUBLIC")),es(new jr(Tj,Ij,"PRIVATE"))}Rj();nr(G2,qy);nr(G2,qy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="analytics",Aj="firebase_id",kj="origin",Pj=60*1e3,Nj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new If("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vr=new ya("analytics","Analytics",jj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){if(!t.startsWith(Qy)){const e=vr.create("invalid-gtag-resource",{gtagURL:t});return Wn.warn(e.message),""}return t}function dS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Lj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Mj(t,e){const n=Lj("firebase-js-sdk-policy",{createScriptURL:Dj}),r=document.createElement("script"),s=`${Qy}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Vj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Oj(t,e,n,r,s,o){const l=r[s];try{if(l)await e[l];else{const d=(await dS(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(u){Wn.error(u)}t("config",s,o)}async function Fj(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await dS(n);for(const d of l){const p=u.find(v=>v.measurementId===d),g=p&&e[p.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){Wn.error(o)}}function Uj(t,e,n,r){async function s(o,...l){try{if(o==="event"){const[u,d]=l;await Fj(t,e,n,u,d)}else if(o==="config"){const[u,d]=l;await Oj(t,e,n,r,u,d)}else if(o==="consent"){const[u,d]=l;t("consent",u,d)}else if(o==="get"){const[u,d,p]=l;t("get",u,d,p)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){Wn.error(u)}}return s}function Bj(t,e,n,r,s){let o=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=Uj(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function zj(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=30,Wj=1e3;class qj{constructor(e={},n=Wj){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hS=new qj;function Hj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Gj(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Hj(n)},s=Nj.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();u.error?.message&&(l=u.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Kj(t,e=hS,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw vr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw vr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Xj;return setTimeout(async()=>{u.abort()},Pj),fS({appId:r,apiKey:s,measurementId:o},l,u,e)}async function fS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=hS){const{appId:o,measurementId:l}=t;try{await Qj(r,e)}catch(u){if(l)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:l};throw u}try{const u=await Gj(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!Yj(d)){if(s.deleteThrottleMetadata(o),l)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:l};throw u}const p=Number(d?.customData?.httpStatus)===503?S1(n,s.intervalMillis,$j):S1(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(o,g),Wn.debug(`Calling attemptFetch again in ${p} millis`),fS(t,g,r,s)}}function Qj(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yj(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Xj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Jj(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,l={...r,send_to:o};t("event",n,l)}}async function Zj(t,e,n,r){if(r&&r.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(){if(F2())try{await U2()}catch(t){return Wn.warn(vr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Wn.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t4(t,e,n,r,s,o,l){const u=Kj(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Wn.error(w)),e.push(u);const d=e4().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([u,d]);zj(o)||Mj(o,p.measurementId),s("js",new Date);const v=l?.config??{};return v[kj]="firebase",v.update=!0,g!=null&&(v[Aj]=g),s("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.app=e}_delete(){return delete ul[this.app.options.appId],Promise.resolve()}}let ul={},L1=[];const M1={};let Km="dataLayer",r4="gtag",V1,Yy,O1=!1;function s4(){const t=[];if(O2()&&t.push("This is a browser extension environment."),EN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:e});Wn.warn(n.message)}}function i4(t,e,n){s4();const r=t.options.appId;if(!r)throw vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vr.create("no-api-key");if(ul[r]!=null)throw vr.create("already-exists",{id:r});if(!O1){Vj(Km);const{wrappedGtag:o,gtagCore:l}=Bj(ul,L1,M1,Km,r4);Yy=o,V1=l,O1=!0}return ul[r]=t4(t,L1,M1,e,V1,Km,n),new n4(t)}function o4(t=Rf()){t=rt(t);const e=go(t,Gh);return e.isInitialized()?e.getImmediate():a4(t)}function a4(t,e={}){const n=go(t,Gh);if(n.isInitialized()){const s=n.getImmediate();if(ci(e,n.getOptions()))return s;throw vr.create("already-initialized")}return n.initialize({options:e})}function l4(t,e,n){t=rt(t),Zj(Yy,ul[t.app.options.appId],e,n).catch(r=>Wn.error(r))}function c4(t,e,n,r){t=rt(t),Jj(Yy,ul[t.app.options.appId],e,n,r).catch(s=>Wn.error(s))}const F1="@firebase/analytics",U1="0.10.19";function u4(){es(new jr(Gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return i4(r,s,n)},"PUBLIC")),es(new jr("analytics-internal",t,"PRIVATE")),nr(F1,U1),nr(F1,U1,"esm2020");function t(e){try{const n=e.getProvider(Gh).getImmediate();return{logEvent:(r,s,o)=>c4(n,r,s,o),setUserProperties:(r,s)=>l4(n,r,s)}}catch(n){throw vr.create("interop-component-reg-failed",{reason:n})}}}u4();function pS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d4=pS,mS=new ya("auth","Firebase",pS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new If("@firebase/auth");function h4(t,...e){Kh.logLevel<=$e.WARN&&Kh.warn(`Auth (${va}): ${t}`,...e)}function Rh(t,...e){Kh.logLevel<=$e.ERROR&&Kh.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Jy(t,...e)}function Jr(t,...e){return Jy(t,...e)}function Xy(t,e,n){const r={...d4(),[e]:n};return new ya("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),Xy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mS.create(t,...e)}function Ae(t,e,...n){if(!t)throw Jy(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function di(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){return typeof self<"u"&&self.location?.href||""}function p4(){return B1()==="http:"||B1()==="https:"}function B1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p4()||O2()||"connection"in navigator)?navigator.onLine:!0}function g4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=yN()||xN()}get(){return m4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w4=new Mu(3e4,6e4);function yo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vo(t,e,n,r,s={}){return yS(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Lu({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return wN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&mo(t.emulatorConfig.host)&&(p.credentials="include"),gS.fetch()(await vS(t,t.config.apiHost,n,u),p)})}async function yS(t,e,n){t._canInitEmulator=!1;const r={...y4,...e};try{const s=new b4(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw uh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw uh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xy(t,g,p);Dr(t,g)}}catch(s){if(s instanceof Mr)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function Vu(t,e,n,r,s={}){const o=await vo(t,e,n,r,s);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vS(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Zy(t.config,s):`${t.config.apiScheme}://${s}`;return v4.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),w4.get())})}}function uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function z1(t){return t!==void 0&&t.enterprise!==void 0}class _4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E4(t,e){return vo(t,"GET","/v2/recaptchaConfig",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return vo(t,"POST","/v1/accounts:delete",e)}async function Qh(t,e){return vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T4(t,e=!1){const n=rt(t),r=await n.getIdToken(e),s=e0(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Qc(Qm(s.auth_time)),issuedAtTime:Qc(Qm(s.iat)),expirationTime:Qc(Qm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Qm(t){return Number(t)*1e3}function e0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=N2(n);return s?JSON.parse(s):(Rh("Failed to decode base64 JWT payload"),null)}catch(s){return Rh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $1(t){const e=e0(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&C4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){const e=t.auth,n=await t.getIdToken(),r=await hu(t,Qh(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?wS(s.providerUserInfo):[],l=A4(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function R4(t){const e=rt(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function wS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){const n=await yS(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await vS(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&mo(t.emulatorConfig.host)&&(d.credentials="include"),gS.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P4(t,e){return vo(t,"POST","/v2/accounts:revokeToken",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=$1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await k4(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new dl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T4(this,e)}reload(){return R4(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await hu(this,S4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:k,stsTokenManager:A}=n;Ae(v&&A,e,"internal-error");const T=dl.fromJSON(this.name,A);Ae(typeof v=="string",e,"internal-error"),Wi(r,e.name),Wi(s,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof S=="boolean",e,"internal-error"),Wi(o,e.name),Wi(l,e.name),Wi(u,e.name),Wi(d,e.name),Wi(p,e.name),Wi(g,e.name);const D=new Xr({uid:v,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:T,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(D.providerData=k.map(j=>({...j}))),d&&(D._redirectEventId=d),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new dl;s.updateFromServerResponse(n);const o=new Xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?wS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new dl;u.updateFromIdToken(r);const d=new Xr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;function ii(t){di(t instanceof Function,"Expected a class definition");let e=W1.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xS.type="NONE";const q1=xS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ah("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(ii(q1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||ii(q1);const l=Ah(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const w=await Qh(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Xr._fromGetAccountInfoResponse(e,w,g)}else v=Xr._fromJSON(e,g);p!==o&&(u=v),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new hl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CS(e))return"Blackberry";if(IS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||ES(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bS(t=jn()){return/firefox\//i.test(t)}function _S(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ES(t=jn()){return/crios\//i.test(t)}function SS(t=jn()){return/iemobile/i.test(t)}function TS(t=jn()){return/android/i.test(t)}function CS(t=jn()){return/blackberry/i.test(t)}function IS(t=jn()){return/webos/i.test(t)}function t0(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N4(t=jn()){return t0(t)&&!!window.navigator?.standalone}function j4(){return bN()&&document.documentMode===10}function RS(t=jn()){return t0(t)||TS(t)||IS(t)||CS(t)||/windows phone/i.test(t)||SS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let n;switch(t){case"Browser":n=H1(jn());break;case"Worker":n=`${H1(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e={}){return vo(t,"GET","/v2/passwordPolicy",yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=6;class V4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??M4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G1(this),this.idTokenSubscription=new G1(this),this.beforeStateQueue=new D4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(ai(this));const n=e?rt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L4(this),n=new V4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&h4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wo(t){return rt(t)}class G1{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F4(t){Pf=t}function kS(t){return Pf.loadJS(t)}function U4(){return Pf.recaptchaEnterpriseScript}function B4(){return Pf.gapiScript}function z4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $4{constructor(){this.enterprise=new W4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class W4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q4="recaptcha-enterprise",PS="NO_RECAPTCHA";class H4{constructor(e){this.type=q4,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{E4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new _4(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;z1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(PS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&z1(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=U4();d.length!==0&&(d+=u),kS(d).then(()=>{s(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function K1(t,e,n,r=!1,s=!1){const o=new H4(t);let l;if(s)l=PS;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Fg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await K1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await K1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){const n=go(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ci(o,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function K4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Q4(t,e,n){const r=wo(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=NS(e),{host:l,port:u}=Y4(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(ci(p,r.config.emulator)&&ci(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,mo(l)?(zy(`${o}//${l}${d}`),$y("Auth",!0)):X4()}function NS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y4(t){const e=NS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Q1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Q1(l)}}}function Q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function J4(t,e){return vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}async function tD(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends n0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,n,"signInWithPassword",Z4);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,r,"signUpPassword",J4);case"emailLink":return tD(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class da extends n0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new da(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sD(t){const e=Bc(zc(t)).link,n=e?Bc(zc(e)).deep_link_id:null,r=Bc(zc(t)).deep_link_id;return(r?Bc(zc(r)).link:null)||r||n||e||t}class r0{constructor(e){const n=Bc(zc(e)),r=n.apiKey??null,s=n.oobCode??null,o=rD(n.mode??null);Ae(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sD(e);try{return new r0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r0.parseLink(n);return Ae(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ou{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ou{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ou{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return Vu(t,"POST","/v1/accounts:signUp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Xr._fromIdTokenResponse(e,r,s),l=Y1(r);return new ha({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y1(r);return new ha({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xh(e,n,r,s)}}function jS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(t,o,e,r):o})}async function oD(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const o=await hu(t,jS(r,s,e,t),n);Ae(o.idToken,r,"internal-error");const l=e0(o.idToken);Ae(l,r,"internal-error");const{sub:u}=l;return Ae(t.uid===u,r,"user-mismatch"),ha._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e,n=!1){if(er(t.app))return Promise.reject(ai(t));const r="signIn",s=await jS(t,r,e),o=await ha._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function lD(t,e){return DS(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MS(t,e,n){if(er(t.app))return Promise.reject(ai(t));const r=wo(t),l=await Fg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&LS(t),d}),u=await ha._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function VS(t,e,n){return er(t.app)?Promise.reject(ai(t)):lD(rt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LS(t),r})}function cD(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function uD(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function jl(t,e,n,r){return rt(t).onAuthStateChanged(e,n,r)}function dD(t){return rt(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=1e3,fD=10;class FS extends OS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);j4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FS.type="LOCAL";const pD=FS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends OS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}US.type="SESSION";const BS=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,o)),d=await mD(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=i0("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function yD(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function vD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wD(){return navigator?.serviceWorker?.controller||null}function xD(){return zS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",bD=1,Zh="firebaseLocalStorage",WS="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function _D(){const t=indexedDB.deleteDatabase($S);return new Fu(t).toPromise()}function Ug(){const t=indexedDB.open($S,bD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:WS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await _D(),e(await Ug()))})})}async function X1(t,e,n){const r=jf(t,!0).put({[WS]:e,value:n});return new Fu(r).toPromise()}async function ED(t,e){const n=jf(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function J1(t,e){const n=jf(t,!0).delete(e);return new Fu(n).toPromise()}const SD=800,TD=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vD(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await X1(e,Jh,"1"),await J1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ED(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=jf(s,!1).getAll();return new Fu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const CD=qS;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){return e?ii(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends n0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ID(t){return DS(t.auth,new o0(t),t.bypassAuthState)}function RD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),aD(n,new o0(t),t.bypassAuthState)}async function AD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),oD(n,new o0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return AD;case"reauthViaPopup":case"reauthViaRedirect":return RD;default:Dr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Mu(2e3,1e4);async function KS(t,e,n){if(er(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=wo(t);f4(t,e,s0);const s=HS(r,n);return new ta(r,"signInViaPopup",e,s).executeNotNull()}class ta extends GS{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",kh=new Map;class ND extends GS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(t,e){const n=MD(e),r=LD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DD(t,e){kh.set(t._key(),e)}function LD(t){return ii(t._redirectPersistence)}function MD(t){return Ah(PD,t.config.apiKey,t.name)}async function VD(t,e,n=!1){if(er(t.app))return Promise.reject(ai(t));const r=wo(t),s=HS(r,e),l=await new ND(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=600*1e3;class FD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z1(e))}saveEventToCache(e){this.cachedEventUids.add(Z1(e)),this.lastProcessedEventTime=Date.now()}}function Z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e={}){return vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function WD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BD(t);for(const n of e)try{if(qD(n))return}catch{}Dr(t,"unauthorized-domain")}function qD(t){const e=Vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!$D.test(n))return!1;if(zD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Mu(3e4,6e4);function eb(){const t=Ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GD(t){return new Promise((e,n)=>{function r(){eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(Jr(t,"network-request-failed"))},timeout:HD.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const s=z4("iframefcb");return Ps()[s]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},kS(`${B4()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function KD(t){return Ph=Ph||GD(t),Ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Mu(5e3,15e3),YD="__/auth/iframe",XD="emulator/auth/iframe",JD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e6(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zy(e,XD):`https://${t.config.authDomain}/${YD}`,r={apiKey:e.apiKey,appName:t.name,v:va},s=ZD.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Lu(r).slice(1)}`}async function t6(t){const e=await KD(t),n=Ps().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:e6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JD,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Jr(t,"network-request-failed"),u=Ps().setTimeout(()=>{o(l)},QD.get());function d(){Ps().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r6=500,s6=600,i6="_blank",o6="http://localhost";class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a6(t,e,n,r=r6,s=s6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...n6,width:r.toString(),height:s.toString(),top:o,left:l},p=jn().toLowerCase();n&&(u=ES(p)?i6:n),bS(p)&&(e=e||o6,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[S,k])=>`${w}${S}=${k},`,"");if(N4(p)&&u!=="_self")return l6(e||"",u),new tb(null);const v=window.open(e||"",u,g);Ae(v,t,"popup-blocked");try{v.focus()}catch{}return new tb(v)}function l6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="__/auth/handler",u6="emulator/auth/handler",d6=encodeURIComponent("fac");async function nb(t,e,n,r,s,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:s};if(e instanceof s0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",IN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Ou){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),p=d?`#${d6}=${encodeURIComponent(d)}`:"";return`${h6(t)}?${Lu(u).slice(1)}${p}`}function h6({config:t}){return t.emulator?Zy(t,u6):`https://${t.authDomain}/${c6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class f6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=VD,this._overrideRedirectResult=DD}async _openPopup(e,n,r,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await nb(e,n,r,Vg(),s);return a6(e,o,i0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await nb(e,n,r,Vg(),s);return yD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t6(e),r=new FD(e);return n.register("authEvent",s=>(Ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},s=>{const o=s?.[0]?.[Ym];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RS()||_S()||t0()}}const p6=f6;var rb="@firebase/auth",sb="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y6(t){es(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},p=new O4(r,s,o,d);return K4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),es(new jr("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new m6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(rb,sb,g6(t)),nr(rb,sb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=300,w6=M2("authIdTokenMaxAge")||v6;let ib=null;const x6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w6)return;const s=n?.token;ib!==s&&(ib=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b6(t=Rf()){const e=go(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G4(t,{popupRedirectResolver:p6,persistence:[CD,pD,BS]}),r=M2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=x6(o.toString());uD(n,l,()=>l(n.currentUser)),cD(n,u=>l(u))}}const s=j2("auth");return s&&Q4(n,`http://${s}`),n}function _6(){return document.getElementsByTagName("head")?.[0]??document}F4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Jr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",_6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y6("Browser");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,YS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(M,V,$){for(var L=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)L[ee-2]=arguments[ee];return R.prototype[V].apply(M,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,N){N||(N=0);const M=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)M[V]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(V=0;V<16;++V)M[V]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],V=I.g[2];let $=I.g[3],L;L=R+($^N&(V^$))+M[0]+3614090360&4294967295,R=N+(L<<7&4294967295|L>>>25),L=$+(V^R&(N^V))+M[1]+3905402710&4294967295,$=R+(L<<12&4294967295|L>>>20),L=V+(N^$&(R^N))+M[2]+606105819&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(R^V&($^R))+M[3]+3250441966&4294967295,N=V+(L<<22&4294967295|L>>>10),L=R+($^N&(V^$))+M[4]+4118548399&4294967295,R=N+(L<<7&4294967295|L>>>25),L=$+(V^R&(N^V))+M[5]+1200080426&4294967295,$=R+(L<<12&4294967295|L>>>20),L=V+(N^$&(R^N))+M[6]+2821735955&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(R^V&($^R))+M[7]+4249261313&4294967295,N=V+(L<<22&4294967295|L>>>10),L=R+($^N&(V^$))+M[8]+1770035416&4294967295,R=N+(L<<7&4294967295|L>>>25),L=$+(V^R&(N^V))+M[9]+2336552879&4294967295,$=R+(L<<12&4294967295|L>>>20),L=V+(N^$&(R^N))+M[10]+4294925233&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(R^V&($^R))+M[11]+2304563134&4294967295,N=V+(L<<22&4294967295|L>>>10),L=R+($^N&(V^$))+M[12]+1804603682&4294967295,R=N+(L<<7&4294967295|L>>>25),L=$+(V^R&(N^V))+M[13]+4254626195&4294967295,$=R+(L<<12&4294967295|L>>>20),L=V+(N^$&(R^N))+M[14]+2792965006&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(R^V&($^R))+M[15]+1236535329&4294967295,N=V+(L<<22&4294967295|L>>>10),L=R+(V^$&(N^V))+M[1]+4129170786&4294967295,R=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(R^N))+M[6]+3225465664&4294967295,$=R+(L<<9&4294967295|L>>>23),L=V+(R^N&($^R))+M[11]+643717713&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^R&(V^$))+M[0]+3921069994&4294967295,N=V+(L<<20&4294967295|L>>>12),L=R+(V^$&(N^V))+M[5]+3593408605&4294967295,R=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(R^N))+M[10]+38016083&4294967295,$=R+(L<<9&4294967295|L>>>23),L=V+(R^N&($^R))+M[15]+3634488961&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^R&(V^$))+M[4]+3889429448&4294967295,N=V+(L<<20&4294967295|L>>>12),L=R+(V^$&(N^V))+M[9]+568446438&4294967295,R=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(R^N))+M[14]+3275163606&4294967295,$=R+(L<<9&4294967295|L>>>23),L=V+(R^N&($^R))+M[3]+4107603335&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^R&(V^$))+M[8]+1163531501&4294967295,N=V+(L<<20&4294967295|L>>>12),L=R+(V^$&(N^V))+M[13]+2850285829&4294967295,R=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(R^N))+M[2]+4243563512&4294967295,$=R+(L<<9&4294967295|L>>>23),L=V+(R^N&($^R))+M[7]+1735328473&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^R&(V^$))+M[12]+2368359562&4294967295,N=V+(L<<20&4294967295|L>>>12),L=R+(N^V^$)+M[5]+4294588738&4294967295,R=N+(L<<4&4294967295|L>>>28),L=$+(R^N^V)+M[8]+2272392833&4294967295,$=R+(L<<11&4294967295|L>>>21),L=V+($^R^N)+M[11]+1839030562&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^R)+M[14]+4259657740&4294967295,N=V+(L<<23&4294967295|L>>>9),L=R+(N^V^$)+M[1]+2763975236&4294967295,R=N+(L<<4&4294967295|L>>>28),L=$+(R^N^V)+M[4]+1272893353&4294967295,$=R+(L<<11&4294967295|L>>>21),L=V+($^R^N)+M[7]+4139469664&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^R)+M[10]+3200236656&4294967295,N=V+(L<<23&4294967295|L>>>9),L=R+(N^V^$)+M[13]+681279174&4294967295,R=N+(L<<4&4294967295|L>>>28),L=$+(R^N^V)+M[0]+3936430074&4294967295,$=R+(L<<11&4294967295|L>>>21),L=V+($^R^N)+M[3]+3572445317&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^R)+M[6]+76029189&4294967295,N=V+(L<<23&4294967295|L>>>9),L=R+(N^V^$)+M[9]+3654602809&4294967295,R=N+(L<<4&4294967295|L>>>28),L=$+(R^N^V)+M[12]+3873151461&4294967295,$=R+(L<<11&4294967295|L>>>21),L=V+($^R^N)+M[15]+530742520&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^R)+M[2]+3299628645&4294967295,N=V+(L<<23&4294967295|L>>>9),L=R+(V^(N|~$))+M[0]+4096336452&4294967295,R=N+(L<<6&4294967295|L>>>26),L=$+(N^(R|~V))+M[7]+1126891415&4294967295,$=R+(L<<10&4294967295|L>>>22),L=V+(R^($|~N))+M[14]+2878612391&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~R))+M[5]+4237533241&4294967295,N=V+(L<<21&4294967295|L>>>11),L=R+(V^(N|~$))+M[12]+1700485571&4294967295,R=N+(L<<6&4294967295|L>>>26),L=$+(N^(R|~V))+M[3]+2399980690&4294967295,$=R+(L<<10&4294967295|L>>>22),L=V+(R^($|~N))+M[10]+4293915773&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~R))+M[1]+2240044497&4294967295,N=V+(L<<21&4294967295|L>>>11),L=R+(V^(N|~$))+M[8]+1873313359&4294967295,R=N+(L<<6&4294967295|L>>>26),L=$+(N^(R|~V))+M[15]+4264355552&4294967295,$=R+(L<<10&4294967295|L>>>22),L=V+(R^($|~N))+M[6]+2734768916&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~R))+M[13]+1309151649&4294967295,N=V+(L<<21&4294967295|L>>>11),L=R+(V^(N|~$))+M[4]+4149444226&4294967295,R=N+(L<<6&4294967295|L>>>26),L=$+(N^(R|~V))+M[11]+3174756917&4294967295,$=R+(L<<10&4294967295|L>>>22),L=V+(R^($|~N))+M[2]+718787259&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+$&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,M=this.C;let V=this.h,$=0;for(;$<R;){if(V==0)for(;$<=N;)s(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<R;)if(M[V++]=I.charCodeAt($++),V==this.blockSize){s(this,M),V=0;break}}else for(;$<R;)if(M[V++]=I[$++],V==this.blockSize){s(this,M),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)I[R++]=this.g[N]>>>M&255;return I};function o(I,R){var N=u;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function l(I,R){this.h=R;const N=[];let M=!0;for(let V=I.length-1;V>=0;V--){const $=I[V]|0;M&&$==R||(N[V]=$,M=!1)}this.g=N}var u={};function d(I){return-128<=I&&I<128?o(I,function(R){return new l([R|0],R<0?-1:0)}):new l([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return T(p(-I));const R=[];let N=1;for(let M=0;I>=N;M++)R[M]=I/N|0,N*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return T(g(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(R,8));let M=v;for(let $=0;$<I.length;$+=8){var V=Math.min(8,I.length-$);const L=parseInt(I.substring($,$+V),R);V<8?(V=p(Math.pow(R,V)),M=M.j(V).add(p(L))):(M=M.j(N),M=M.add(p(L)))}return M}var v=d(0),w=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-T(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);I+=(M>=0?M:4294967296+M)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(A(this))return"-"+T(this).toString(I);const R=p(Math.pow(I,6));var N=this;let M="";for(;;){const V=W(N,R).g;N=D(N,V.j(R));let $=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=V,k(N))return $+M;for(;$.length<6;)$="0"+$;M=$+M}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=D(this,I),A(I)?-1:k(I)?0:1};function T(I){const R=I.g.length,N=[];for(let M=0;M<R;M++)N[M]=~I.g[M];return new l(N,~I.h).add(w)}t.abs=function(){return A(this)?T(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let M=0;for(let V=0;V<=R;V++){let $=M+(this.i(V)&65535)+(I.i(V)&65535),L=($>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=L>>>16,$&=65535,L&=65535,N[V]=L<<16|$}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(I,R){return I.add(T(R))}t.j=function(I){if(k(this)||k(I))return v;if(A(this))return A(I)?T(this).j(T(I)):T(T(this).j(I));if(A(I))return T(this.j(T(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const $=this.i(M)>>>16,L=this.i(M)&65535,ee=I.i(V)>>>16,_e=I.i(V)&65535;N[2*M+2*V]+=L*_e,j(N,2*M+2*V),N[2*M+2*V+1]+=$*_e,j(N,2*M+2*V+1),N[2*M+2*V+1]+=L*ee,j(N,2*M+2*V+1),N[2*M+2*V+2]+=$*ee,j(N,2*M+2*V+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new l(N,0)};function j(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function F(I,R){this.g=I,this.h=R}function W(I,R){if(k(R))throw Error("division by zero");if(k(I))return new F(v,v);if(A(I))return R=W(T(I),R),new F(T(R.g),T(R.h));if(A(R))return R=W(I,T(R)),new F(T(R.g),R.h);if(I.g.length>30){if(A(I)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=R;M.l(I)<=0;)N=H(N),M=H(M);var V=U(N,1),$=U(M,1);for(M=U(M,2),N=U(N,2);!k(M);){var L=$.add(M);L.l(I)<=0&&(V=V.add(N),$=L),M=U(M,1),N=U(N,1)}return R=D(I,V.j(R)),new F(V,R)}for(V=v;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),$=p(N),L=$.j(R);A(L)||L.l(I)>0;)N-=M,$=p(N),L=$.j(R);k($)&&($=w),V=V.add($),I=D(I,L)}return new F(V,I)}t.B=function(I){return W(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<R;M++)N[M]=this.i(M)&I.i(M);return new l(N,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<R;M++)N[M]=this.i(M)|I.i(M);return new l(N,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<R;M++)N[M]=this.i(M)^I.i(M);return new l(N,this.h^I.h)};function H(I){const R=I.g.length+1,N=[];for(let M=0;M<R;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new l(N,I.h)}function U(I,R){const N=R>>5;R%=32;const M=I.g.length-N,V=[];for(let $=0;$<M;$++)V[$]=R>0?I.i($+N)>>>R|I.i($+N+1)<<32-R:I.i($+N);return new l(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ro=l}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XS,$c,JS,Nh,Bg,ZS,eT,tT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var E=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var Q=f[P];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],P=E[f],_=_(P),_!=P&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var E=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&E.push([P,_[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(P,Q,J){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return _.prototype[Q].apply(P,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const E=Array(_);for(let P=0;P<_;P++)E[P]=f[P];return E}return[]}function k(f,_){for(let P=1;P<arguments.length;P++){const Q=arguments[P];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=f.length||0;const J=Q.length||0;f.length=E+J;for(let ue=0;ue<J;ue++)f[E+ue]=Q[ue]}else f.push(Q)}}class A{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function T(f){l.setTimeout(()=>{throw f},0)}function D(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const P=F.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var F=new A(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,U=!1,I=new j,R=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(N)}};function N(){for(var f;f=D();){try{f.h.call(f.g)}catch(E){T(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}U=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function ee(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ee,V),ee.prototype.init=function(f,_){const E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),ze=0;function he(f,_,E,P,Q){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=Q,this.key=++ze,this.da=this.fa=!1}function ne(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,_,E){for(const P in f)_.call(E,f[P],P,f)}function le(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function q(f){const _={};for(const E in f)_[E]=f[E];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(f,_){let E,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(E in P)f[E]=P[E];for(let J=0;J<G.length;J++)E=G[J],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,_,E,P,Q){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const ue=Ce(f,_,P,Q);return ue>-1?(_=f[ue],E||(_.fa=!1)):(_=new he(_,this.src,J,!!P,Q),_.fa=E,f.push(_)),_};function Le(f,_){const E=_.type;if(E in f.g){var P=f.g[E],Q=Array.prototype.indexOf.call(P,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(P,Q,1),J&&(ne(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ce(f,_,E,P){for(let Q=0;Q<f.length;++Q){const J=f[Q];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==P)return Q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),De={};function Ve(f,_,E,P,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Ve(f,_[J],E,P,Q);return null}return E=vi(E),f&&f[_e]?f.J(_,E,u(P)?!!P.capture:!1,Q):je(f,_,E,!1,P,Q)}function je(f,_,E,P,Q,J){if(!_)throw Error("Invalid event type");const ue=u(Q)?!!Q.capture:!!Q;let Me=sr(f);if(Me||(f[Be]=Me=new ge(f)),E=Me.add(_,E,P,ue,J),E.proxy)return E;if(P=xn(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)$||(Q=ue),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),P,Q);else if(f.attachEvent)f.attachEvent(bn(_.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xn(){function f(E){return _.call(f.src,f.listener,E)}const _=Vr;return f}function Dt(f,_,E,P,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Dt(f,_[J],E,P,Q);else P=u(P)?!!P.capture:!!P,E=vi(E),f&&f[_e]?(f=f.i,J=String(_).toString(),J in f.g&&(_=f.g[J],E=Ce(_,E,P,Q),E>-1&&(ne(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[J],f.h--)))):f&&(f=sr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ce(_,E,P,Q)),(E=f>-1?_[f]:null)&&Rt(E))}function Rt(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[_e])Le(_.i,f);else{var E=f.type,P=f.proxy;_.removeEventListener?_.removeEventListener(E,P,f.capture):_.detachEvent?_.detachEvent(bn(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=sr(_))?(Le(E,f),E.h==0&&(E.src=null,_[Be]=null)):ne(f)}}}function bn(f){return f in De?De[f]:De[f]="on"+f}function Vr(f,_){if(f.da)f=!0;else{_=new ee(_,this);const E=f.listener,P=f.ha||f.src;f.fa&&Rt(f),f=E.call(P,_)}return f}function sr(f){return f=f[Be],f instanceof ge?f:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function vi(f){return typeof f=="function"?f:(f[as]||(f[as]=function(_){return f.handleEvent(_)}),f[as])}function ft(){M.call(this),this.i=new ge(this),this.M=this,this.G=null}v(ft,M),ft.prototype[_e]=!0,ft.prototype.removeEventListener=function(f,_,E,P){Dt(this,f,_,E,P)};function Ze(f,_){var E,P=f.G;if(P)for(E=[];P;P=P.G)E.push(P);if(f=f.M,P=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var Q=_;_=new V(P,f),oe(_,Q)}Q=!0;let J,ue;if(E)for(ue=E.length-1;ue>=0;ue--)J=_.g=E[ue],Q=_n(J,P,!0,_)&&Q;if(J=_.g=f,Q=_n(J,P,!0,_)&&Q,Q=_n(J,P,!1,_)&&Q,E)for(ue=0;ue<E.length;ue++)J=_.g=E[ue],Q=_n(J,P,!1,_)&&Q}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let P=0;P<E.length;P++)ne(E[P]);delete f.g[_],f.h--}}this.G=null},ft.prototype.J=function(f,_,E,P){return this.i.add(String(f),_,!1,E,P)},ft.prototype.K=function(f,_,E,P){return this.i.add(String(f),_,!0,E,P)};function _n(f,_,E,P){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const ue=_[J];if(ue&&!ue.da&&ue.capture==E){const Me=ue.listener,kt=ue.ha||ue.src;ue.fa&&Le(f.i,ue),Q=Me.call(kt,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function ls(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(f,_||0)}function wi(f){f.g=ls(()=>{f.g=null,f.i&&(f.i=!1,wi(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class So extends M{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(f){M.call(this),this.h=f,this.g={}}v(cs,M);var To=[];function ir(f){ce(f.g,function(_,E){this.g.hasOwnProperty(E)&&Rt(_)},f),f.g={}}cs.prototype.N=function(){cs.Z.N.call(this),ir(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=l.JSON.stringify,us=l.JSON.parse,ds=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function on(){}function Co(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){V.call(this,"d")}v(xi,V);function Bs(){V.call(this,"c")}v(Bs,V);var qn={},bi=null;function Or(){return bi=bi||new ft}qn.Ia="serverreachability";function _i(f){V.call(this,qn.Ia,f)}v(_i,V);function Fr(f){const _=Or();Ze(_,new _i(_))}qn.STAT_EVENT="statevent";function Ur(f,_){V.call(this,qn.STAT_EVENT,f),this.stat=_}v(Ur,V);function Oe(f){const _=Or();Ze(_,new Ur(_,f))}qn.Ja="timingevent";function zt(f,_){V.call(this,qn.Ja,f),this.size=_}v(zt,V);function Et(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function an(){this.g=!0}an.prototype.ua=function(){this.g=!1};function ln(f,_,E,P,Q,J){f.info(function(){if(f.g)if(J){var ue="",Me=J.split("&");for(let et=0;et<Me.length;et++){var kt=Me[et].split("=");if(kt.length>1){const Lt=kt[0];kt=kt[1];const dr=Lt.split("_");ue=dr.length>=2&&dr[1]=="type"?ue+(Lt+"="+kt+"&"):ue+(Lt+"=redacted&")}}}else ue=null;else ue=J;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+_+`
`+E+`
`+ue})}function Kt(f,_,E,P,Q,J,ue){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+_+`
`+E+`
`+J+" "+ue})}function At(f,_,E,P){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ct(f,E)+(P?" "+P:"")})}function Br(f,_){f.info(function(){return"TIMEOUT: "+_})}an.prototype.info=function(){};function ct(f,_){if(!f.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var E=J[f];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ue=1;ue<P.length;ue++)P[ue]=""}}}}return Ln(J)}catch{return _}}var cn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hn;function Mn(){}v(Mn,on),Mn.prototype.g=function(){return new XMLHttpRequest},Hn=new Mn;function En(f){return encodeURIComponent(String(f))}function Vn(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Qt(f,_,E,P){this.j=f,this.i=_,this.l=E,this.S=P||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var nd={},Kl={};function zr(f,_,E){f.M=1,f.A=$s(br(_)),f.u=E,f.R=!0,Ql(f,null)}function Ql(f,_){f.F=Date.now(),Io(f),f.B=br(f.A);var E=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),ic(E.i,"t",P),f.C=0,E=f.j.L,f.h=new Ei,f.g=hd(f.j,E?_:null,!f.u),f.P>0&&(f.O=new So(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,P=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(To[0]=Q.toString()),Q=To);for(let J=0;J<Q.length;J++){const ue=Ve(E,Q[J],P||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fr(),ln(f.i,f.v,f.B,f.l,f.S,f.u)}Qt.prototype.ba=function(f){f=f.target;const _=this.O;_&&ws(f)==3?_.j():this.Y(f)},Qt.prototype.Y=function(f){try{if(f==this.g)e:{const Me=ws(this.g),kt=this.g.ya(),et=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||ud(this.g)))){this.K||Me!=4||kt==7||(kt==8||et<=0?Fr(3):Fr(2)),ba(this);var _=this.g.ca();this.X=_;var E=rd(this);if(this.o=_==200,Kt(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(P)){var J=P;break t}}J=null}if(f=J)At(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ut(this,f);else{this.o=!1,this.m=3,Oe(12),zs(this),Ro(this);break e}}if(this.R){f=!0;let Lt;for(;!this.K&&this.C<E.length;)if(Lt=id(this,E),Lt==Kl){Me==4&&(this.m=4,Oe(14),f=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==nd){this.m=4,Oe(15),At(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else At(this.i,this.l,Lt,null),ut(this,Lt);if(sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,Oe(16),f=!1),this.o=this.o&&f,!f)At(this.i,this.l,E,"[Invalid Chunked Response]"),zs(this),Ro(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vo(ue),ue.P=!0,Oe(11))}}else At(this.i,this.l,E,null),ut(this,E);Me==4&&zs(this),this.o&&!this.K&&(Me==4?Pa(this.j,this):(this.o=!1,Io(this)))}else ac(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),zs(this),Ro(this)}}}catch{}finally{}};function rd(f){if(!sd(f))return f.g.la();const _=ud(f.g);if(_==="")return"";let E="";const P=_.length,Q=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return zs(f),Ro(f),"";f.h.i=new l.TextDecoder}for(let J=0;J<P;J++)f.h.h=!0,E+=f.h.i.decode(_[J],{stream:!(Q&&J==P-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function sd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function id(f,_){var E=f.C,P=_.indexOf(`
`,E);return P==-1?Kl:(E=Number(_.substring(E,P)),isNaN(E)?nd:(P+=1,P+E>_.length?Kl:(_=_.slice(P,P+E),f.C=P+E,_)))}Qt.prototype.cancel=function(){this.K=!0,zs(this)};function Io(f){f.T=Date.now()+f.H,Yl(f,f.H)}function Yl(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Et(p(f.aa,f),_)}function ba(f){f.D&&(l.clearTimeout(f.D),f.D=null)}Qt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Fr(),Oe(17)),zs(this),this.m=2,Ro(this)):Yl(this,this.T-f)};function Ro(f){f.j.I==0||f.K||Pa(f.j,f)}function zs(f){ba(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,ir(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ut(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Jl(E.h,f))){if(!f.L&&Jl(E.h,f)&&E.I==3){try{var P=E.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)ka(E),cr(E);else break e;_s(E),Oe(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Et(p(E.Va,E),6e3));Ao(E.h)<=1&&E.ta&&(E.ta=void 0)}else ur(E,11)}else if((f.L||E.g==f)&&ka(E),!L(_))for(Q=E.Ba.g.parse(_),_=0;_<Q.length;_++){let et=Q[_];const Lt=et[0];if(!(Lt<=E.K))if(E.K=Lt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const dr=et[3];dr!=null&&(E.ka=dr,E.j.info("VER="+E.ka));const Ks=et[4];Ks!=null&&(E.za=Ks,E.j.info("SVER="+E.za));const Es=et[5];Es!=null&&typeof Es=="number"&&Es>0&&(P=1.5*Es,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ss=f.g;if(Ss){const Da=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var J=P.h;J.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ea(J,J.h),J.h=null))}if(P.G){const uc=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(P.wa=uc,Je(P.J,P.G,uc))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var ue=f;if(P.na=cc(P,P.L?P.ba:null,P.W),ue.L){ko(P.h,ue);var Me=ue,kt=P.O;kt&&(Me.H=kt),Me.D&&(ba(Me),Io(Me)),P.g=ue}else Sn(P);E.i.length>0&&Gs(E)}else et[0]!="stop"&&et[0]!="close"||ur(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ur(E,7):Ra(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}Fr(4)}catch{}}var dp=class{constructor(f,_){this.g=f,this.map=_}};function _a(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ao(f){return f.h?1:f.g?f.g.size:0}function Jl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ea(f,_){f.g?f.g.add(_):f.h=_}function ko(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}_a.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function or(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return S(f.i)}var od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const P=f[E].indexOf("=");let Q,J=null;P>=0?(Q=f[E].substring(0,P),J=f[E].substring(P+1)):Q=f[E],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function fs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof fs?(this.l=f.l,Po(this,f.j),this.o=f.o,this.g=f.g,ps(this,f.u),this.h=f.h,Si(this,oc(f.i)),this.m=f.m):f&&(_=String(f).match(od))?(this.l=!1,Po(this,_[1]||"",!0),this.o=No(_[2]||""),this.g=No(_[3]||"",!0),ps(this,_[4]),this.h=No(_[5]||"",!0),Si(this,_[6]||"",!0),this.m=No(_[7]||"")):(this.l=!1,this.i=new He(null,this.l))}fs.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(jo(_,ec,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(jo(_,ec,!0),"@"),f.push(En(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(jo(E,E.charAt(0)=="/"?Do:tc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",jo(E,nc)),f.join("")},fs.prototype.resolve=function(f){const _=br(this);let E=!!f.j;E?Po(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var P=f.h;if(E)ps(_,f.u);else if(E=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(P=_.h.slice(0,Q+1)+P)}if(Q=P,Q==".."||Q==".")P="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){P=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let ue=0;ue<Q.length;){const Me=Q[ue++];Me=="."?P&&ue==Q.length&&J.push(""):Me==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),P&&ue==Q.length&&J.push("")):(J.push(Me),P=!0)}P=J.join("/")}else P=Q}return E?_.h=P:E=f.i.toString()!=="",E?Si(_,oc(f.i)):E=!!f.m,E&&(_.m=f.m),_};function br(f){return new fs(f)}function Po(f,_,E){f.j=E?No(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ps(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Si(f,_,E){_ instanceof He?(f.i=_,Ta(f.i,f.l)):(E||(_=jo(_,hp)),f.i=new He(_,f.l))}function Je(f,_,E){f.i.set(_,E)}function $s(f){return Je(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function No(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function jo(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Zl),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Zl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ec=/[#\/\?@]/g,tc=/[#\?:]/g,Do=/[#\?]/g,hp=/[#\?@]/g,nc=/#/g;function He(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function ms(f){f.g||(f.g=new Map,f.h=0,f.i&&ar(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=He.prototype,t.add=function(f,_){ms(this),this.i=null,f=gs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function rc(f,_){ms(f),_=gs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Sa(f,_){return ms(f),_=gs(f,_),f.g.has(_)}t.forEach=function(f,_){ms(this),this.g.forEach(function(E,P){E.forEach(function(Q){f.call(_,Q,P,this)},this)},this)};function sc(f,_){ms(f);let E=[];if(typeof _=="string")Sa(f,_)&&(E=E.concat(f.g.get(gs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return ms(this),this.i=null,f=gs(this,f),Sa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=sc(this,f),f.length>0?String(f[0]):_):_};function ic(f,_,E){rc(f,_),E.length>0&&(f.i=null,f.g.set(gs(f,_),S(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var E=_[P];const Q=En(E);E=sc(this,E);for(let J=0;J<E.length;J++){let ue=Q;E[J]!==""&&(ue+="="+En(E[J])),f.push(ue)}}return this.i=f.join("&")};function oc(f){const _=new He;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function gs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ta(f,_){_&&!f.j&&(ms(f),f.i=null,f.g.forEach(function(E,P){const Q=P.toLowerCase();P!=Q&&(rc(this,P),ic(this,Q,E))},f)),f.j=_}function ys(f,_){const E=new an;if(l.Image){const P=new Image;P.onload=g(un,E,"TestLoadImage: loaded",!0,_,P),P.onerror=g(un,E,"TestLoadImage: error",!1,_,P),P.onabort=g(un,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=g(un,E,"TestLoadImage: timeout",!1,_,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else _(!1)}function vs(f,_){const E=new an,P=new AbortController,Q=setTimeout(()=>{P.abort(),un(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:P.signal}).then(J=>{clearTimeout(Q),J.ok?un(E,"TestPingServer: ok",!0,_):un(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),un(E,"TestPingServer: error",!1,_)})}function un(f,_,E,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(E)}catch{}}function Lo(){this.g=new ds}function Ws(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ws,on),Ws.prototype.g=function(){return new lr(this.i,this.h)};function lr(f,_){ft.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(lr,ft),t=lr.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,$r(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ad(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ad(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ti(this):$r(this),this.readyState==3&&ad(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Ti(this))},t.Na=function(f){this.g&&(this.response=f,Ti(this))},t.ga=function(){this.g&&Ti(this)};function Ti(f){f.readyState=4,f.l=null,f.j=null,f.B=null,$r(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ld(f){let _="";return ce(f,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function Ca(f,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=ld(E),typeof f=="string"?E!=null&&En(E):Je(f,_,E))}function st(f){ft.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(st,ft);var cd=/^https?$/i,fp=["POST","PUT"];t=st.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){Ci(this,J);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)E.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const J of P.keys())E.set(J,P.get(J));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Q=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(fp,_,void 0)>=0)||P||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of E)this.g.setRequestHeader(J,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Ci(this,J)}};function Ci(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ii(f),Hs(f)}function Ii(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),st.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},t.Xa=function(){qs(this)};function qs(f){if(f.h&&typeof o<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),ws(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=J===0){let ue=String(f.D).match(od)[1]||null;!ue&&l.self&&l.self.location&&(ue=l.self.location.protocol.slice(0,-1)),P=!cd.test(ue?ue.toLowerCase():"")}E=P}if(E)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var Q=ws(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Ii(f)}}finally{Hs(f)}}}}function Hs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Ze(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),us(_)}};function ud(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ac(f){const _={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(L(f[P]))continue;var E=Vn(f[P]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[Q]||[];_[Q]=J,J.push(E)}le(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ia(f){this.za=0,this.i=[],this.j=new an,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _a(f&&f.concurrentRequestLimit),this.Ba=new Lo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ia.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,P){Oe(0),this.W=f,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=cc(this,null,this.W),Gs(this)};function Ra(f){if(Aa(f),f.I==3){var _=f.V++,E=br(f.J);if(Je(E,"SID",f.M),Je(E,"RID",_),Je(E,"TYPE","terminate"),bs(f,E),_=new Qt(f,f.j,_),_.M=2,_.A=$s(br(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=hd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Io(_)}Oo(f)}function cr(f){f.g&&(Vo(f),f.g.cancel(),f.g=null)}function Aa(f){cr(f),f.v&&(l.clearTimeout(f.v),f.v=null),ka(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Gs(f){if(!Xl(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||R(),U||(H(),U=!0),I.add(_,f),f.D=0}}function dd(f,_){return Ao(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Et(p(f.Ea,f,_),Na(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new Qt(this,this.j,f);let J=this.o;if(this.U&&(J?(J=q(J),oe(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=lc(this,Q,_),E=br(this.J),Je(E,"RID",f),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),bs(this,E),J&&(this.R?_="headers="+En(ld(J))+"&"+_:this.u&&Ca(E,this.u,J)),Ea(this.h,Q),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",_),Je(E,"SID","null"),Q.U=!0,zr(Q,E,null)):zr(Q,E,_),this.I=2}}else this.I==3&&(f?Mo(this,f):this.i.length==0||Xl(this.h)||Mo(this))};function Mo(f,_){var E;_?E=_.l:E=f.V++;const P=br(f.J);Je(P,"SID",f.M),Je(P,"RID",E),Je(P,"AID",f.K),bs(f,P),f.u&&f.o&&Ca(P,f.u,f.o),E=new Qt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=lc(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ea(f.h,E),zr(E,P,_)}function bs(f,_){f.H&&ce(f.H,function(E,P){Je(_,P,E)}),f.l&&ce({},function(E,P){Je(_,P,E)})}function lc(f,_,E){E=Math.min(f.i.length,E);const P=f.l?p(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Me=-1;for(;;){const kt=["count="+E];Me==-1?E>0?(Me=Q[0].g,kt.push("ofs="+Me)):Me=0:kt.push("ofs="+Me);let et=!0;for(let Lt=0;Lt<E;Lt++){var J=Q[Lt].g;const dr=Q[Lt].map;if(J-=Me,J<0)Me=Math.max(0,Q[Lt].g-100),et=!1;else try{J="req"+J+"_"||"";try{var ue=dr instanceof Map?dr:Object.entries(dr);for(const[Ks,Es]of ue){let Ss=Es;u(Es)&&(Ss=Ln(Es)),kt.push(J+Ks+"="+encodeURIComponent(Ss))}}catch(Ks){throw kt.push(J+"type="+encodeURIComponent("_badmap")),Ks}}catch{P&&P(dr)}}if(et){ue=kt.join("&");break e}}ue=void 0}return f=f.i.splice(0,E),_.G=f,ue}function Sn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||R(),U||(H(),U=!0),I.add(_,f),f.A=0}}function _s(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Et(p(f.Da,f),Na(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Et(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),cr(this),Ri(this))};function Vo(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Ri(f){f.g=new Qt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=br(f.na);Je(_,"RID","rpc"),Je(_,"SID",f.M),Je(_,"AID",f.K),Je(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Je(_,"TO",f.ia),Je(_,"TYPE","xmlhttp"),bs(f,_),f.u&&f.o&&Ca(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=$s(br(_)),E.u=null,E.R=!0,Ql(E,f)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),_s(this),Oe(19))};function ka(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Pa(f,_){var E=null;if(f.g==_){ka(f),Vo(f),f.g=null;var P=2}else if(Jl(f.h,_))E=_.G,ko(f.h,_),P=1;else return;if(f.I!=0){if(_.o)if(P==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Q=f.D;P=Or(),Ze(P,new zt(P,E)),Gs(f)}else Sn(f);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(P==1&&dd(f,_)||P==2&&_s(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),Q){case 1:ur(f,5);break;case 4:ur(f,10);break;case 3:ur(f,6);break;default:ur(f,2)}}}function Na(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function ur(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),P=f.Ua;const Q=!P;P=new fs(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Po(P,"https"),$s(P),Q?ys(P.toString(),E):vs(P.toString(),E)}else Oe(2);f.I=0,f.l&&f.l.pa(_),Oo(f),Aa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Oo(f){if(f.I=0,f.ja=[],f.l){const _=or(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ja,_),k(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function cc(f,_,E){var P=E instanceof fs?br(E):new fs(E);if(P.g!="")_&&(P.g=_+"."+P.g),ps(P,P.u);else{var Q=l.location;P=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new fs(null);P&&Po(J,P),_&&(J.g=_),Q&&ps(J,Q),E&&(J.h=E),P=J}return E=f.G,_=f.wa,E&&_&&Je(P,E,_),Je(P,"VER",f.ka),bs(f,P),P}function hd(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new st(new Ws({ab:E})):new st(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fd(){}t=fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ja(){}ja.prototype.g=function(f,_){return new dn(f,_)};function dn(f,_){ft.call(this),this.g=new Ia(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!L(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ai(this)}v(dn,ft),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ra(this.g)},dn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Ln(f),f=E);_.i.push(new dp(_.Ya++,f)),_.I==3&&Gs(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ra(this.g),delete this.g,dn.Z.N.call(this)};function pd(f){xi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(pd,xi);function md(){Bs.call(this),this.status=1}v(md,Bs);function Ai(f){this.g=f}v(Ai,fd),Ai.prototype.ra=function(){Ze(this.g,"a")},Ai.prototype.qa=function(f){Ze(this.g,new pd(f))},Ai.prototype.pa=function(f){Ze(this.g,new md)},Ai.prototype.oa=function(){Ze(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,tT=function(){return new ja},eT=function(){return Or()},ZS=qn,Bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,Nh=cn,$t.COMPLETE="complete",JS=$t,Co.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",ft.prototype.listen=ft.prototype.J,$c=Co,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,XS=st}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",lb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new If("@firebase/firestore");function tl(){return fa.logLevel}function pe(t,...e){if(fa.logLevel<=$e.DEBUG){const n=e.map(a0);fa.debug(`Firestore (${Dl}): ${t}`,...n)}}function hi(t,...e){if(fa.logLevel<=$e.ERROR){const n=e.map(a0);fa.error(`Firestore (${Dl}): ${t}`,...n)}}function wl(t,...e){if(fa.logLevel<=$e.WARN){const n=e.map(a0);fa.warn(`Firestore (${Dl}): ${t}`,...n)}}function a0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nT(t,r,n)}function nT(t,e,n){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function Ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nT(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class S6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T6{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new rT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class C6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=A6(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function zg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Xm(s)===Xm(o)?We(s,o):Xm(s)?1:-1}return We(t.length,e.length)}const k6=55296,P6=57343;function Xm(t){const e=t.charCodeAt(0);return e>=k6&&e<=P6}function xl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=As.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),s=As.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(n)):zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class nt extends As{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends As{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return N6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ub}static keyField(){return new gn([ub])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e,n){if(!n)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j6(t,e,n,r){if(e===!0&&r===!0)throw new de(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function db(t){if(!xe.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hb(t){if(xe.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(t);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D6(t,e){if(e<=0)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uu(t,e){if(!iT(t))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-62135596800,pb=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pb);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fb)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pb}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Bt("string",it._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new it(0,0))}static max(){return new Re(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function L6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new oo(s,xe.empty(),e)}function M6(t){return new oo(t.readTime,t.key,pu)}class oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oo(Re.min(),xe.empty(),pu)}static max(){return new oo(Re.max(),xe.empty(),pu)}}function V6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==O6)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(d=>r(d)))})),l=!0,o===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((g=>{l[p]=g,++u,u===o&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function U6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-1;function Bu(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function B6(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="";function z6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mb(e)),e=$6(t.get(n),e);return mb(e)}function $6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case oT:n+="";break;default:n+=o}}return n}function mb(t){return t+oT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W6(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function aT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??mn.RED,this.left=s??mn.EMPTY,this.right=o??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new mn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Gt(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lT("Invalid base64 string: "+o):o}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const q6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=q6.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="server_timestamp",uT="__type__",dT="__previous_value__",hT="__local_write_time__";function u0(t){return(t?.mapValue?.fields||{})[uT]?.stringValue===cT}function Mf(t){const e=t.mapValue.fields[dT];return u0(e)?Mf(e):e}function mu(t){const e=ao(t.mapValue.fields[hT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s,o,l,u,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const tf="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__type__",G6="__max__",fh={mapValue:{}},pT="__vector__",nf="value";function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u0(t)?4:Q6(t)?9007199254740991:K6(t)?10:11:Ee(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ao(s.timestampValue),u=ao(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return lo(s.bytesValue).isEqual(lo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=jt(s.doubleValue),u=jt(o.doubleValue);return l===u?ef(l)===ef(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(gb(l)!==gb(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Vs(l[d],u[d])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=jt(o.integerValue||o.doubleValue),d=jt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return vb(t.timestampValue,e.timestampValue);case 4:return vb(mu(t),mu(e));case 5:return zg(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=lo(o),d=lo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const g=We(u[p],d[p]);if(g!==0)return g}return We(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=We(jt(o.latitude),jt(l.latitude));return u!==0?u:We(jt(o.longitude),jt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wb(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},p=u[nf]?.arrayValue,g=d[nf]?.arrayValue,v=We(p?.values?.length||0,g?.values?.length||0);return v!==0?v:wb(p,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===fh.mapValue&&l===fh.mapValue)return 0;if(o===fh.mapValue)return 1;if(l===fh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=zg(d[v],g[v]);if(w!==0)return w;const S=bl(u[d[v]],p[g[v]]);if(S!==0)return S}return We(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function vb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ao(t),r=ao(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function wb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=bl(n[s],r[s]);if(o)return o}return We(n.length,r.length)}function _l(t){return $g(t)}function $g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ao(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return lo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=$g(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${$g(n.fields[l])}`;return s+"}"})(t.mapValue):Ee(61005,{value:t})}function jh(t){switch(co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(t);return e?16+jh(e):16;case 5:return 2*t.stringValue.length;case 6:return lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+jh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return xo(r.fields,((o,l)=>{s+=o.length+jh(l)})),s})(t.mapValue);default:throw Ee(13486,{value:t})}}function xb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function d0(t){return!!t&&"arrayValue"in t}function bb(t){return!!t&&"nullValue"in t}function _b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dh(t){return!!t&&"mapValue"in t}function K6(t){return(t?.mapValue?.fields||{})[fT]?.stringValue===pT}function Yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return{...t}}function Q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===G6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=gn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Yc(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){xo(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new zn(Yc(this.value))}}function mT(t){const e=[];return xo(t.fields,((n,r)=>{const s=new gn([n]);if(Dh(r)){const o=mT(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rn(e,0,Re.min(),Re.min(),Re.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,Re.min(),Re.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Re.min(),Re.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function Eb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=bl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class Ut extends gT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J6(e,n,r):n==="array-contains"?new t3(e,r):n==="in"?new n3(e,r):n==="not-in"?new r3(e,r):n==="array-contains-any"?new s3(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Z6(e,r):new e3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends gT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return yT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yT(t){return t.op==="and"}function vT(t){return X6(t)&&yT(t)}function X6(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function qg(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(vT(t))return t.filters.map((e=>qg(e))).join(",");{const e=t.filters.map((n=>qg(n))).join(",");return`${t.op}(${e})`}}function wT(t,e){return t instanceof Ut?(function(r,s){return s instanceof Ut&&r.op===s.op&&r.field.isEqual(s.field)&&Vs(r.value,s.value)})(t,e):t instanceof ts?(function(r,s){return s instanceof ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&wT(l,s.filters[u])),!0):!1})(t,e):void Ee(19439)}function xT(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(xT).join(" ,")+"}"})(t):"Filter"}class J6 extends Ut{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z6 extends Ut{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class e3 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bT(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class t3 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d0(n)&&yu(n.arrayValue,this.value)}}class n3 extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class r3 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class s3 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>yu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function Tb(t,e=null,n=[],r=[],s=null,o=null,l=null){return new i3(t,e,n,r,s,o,l)}function h0(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_l(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_l(r))).join(",")),e.Te=n}return e.Te}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sb(t.startAt,e.startAt)&&Sb(t.endAt,e.endAt)}function Hg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o3(t,e,n,r,s,o,l,u){return new Vl(t,e,n,r,s,o,l,u)}function Vf(t){return new Vl(t)}function Cb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _T(t){return t.collectionGroup!==null}function Xc(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Gt(gn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new vu(o,r))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new vu(gn.keyField(),r))}return e.Ie}function Ns(t){const e=Pe(t);return e.Ee||(e.Ee=ET(e,Xc(t))),e.Ee}function a3(t){const e=Pe(t);return e.de||(e.de=ET(e,t.explicitOrderBy)),e.de}function ET(t,e){if(t.limitType==="F")return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new vu(s.field,o)}));const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gg(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sf(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Of(t,e){return f0(Ns(t),Ns(e))&&t.limitType===e.limitType}function ST(t){return`${h0(Ns(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>xT(s))).join(", ")}]`),Bu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>_l(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>_l(s))).join(",")),`Target(${r})`})(Ns(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Xc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const p=Eb(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,Xc(r),s)||r.endAt&&!(function(l,u,d){const p=Eb(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,Xc(r),s))})(t,e)}function l3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TT(t){return(e,n)=>{let r=!1;for(const s of Xc(t)){const o=c3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function c3(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?bl(d,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new _t(xe.comparator);function fi(){return u3}const CT=new _t(xe.comparator);function Wc(...t){let e=CT;for(const n of t)e=e.insert(n.key,n);return e}function IT(t){let e=CT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return Jc()}function RT(){return Jc()}function Jc(){return new wa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const d3=new _t(xe.comparator),h3=new Gt(xe.comparator);function qe(...t){let e=h3;for(const n of t)e=e.add(n);return e}const f3=new Gt(We);function p3(){return f3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function AT(t){return{integerValue:""+t}}function kT(t,e){return B6(e)?AT(e):p0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function m3(t,e,n){return t instanceof wu?(function(s,o){const l={fields:{[uT]:{stringValue:cT},[hT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&u0(o)&&(o=Mf(o)),o&&(l.fields[dT]=o),{mapValue:l}})(n,e):t instanceof El?NT(t,e):t instanceof xu?jT(t,e):(function(s,o){const l=PT(s,o),u=Ib(l)+Ib(s.Ae);return Wg(l)&&Wg(s.Ae)?AT(u):p0(s.serializer,u)})(t,e)}function g3(t,e,n){return t instanceof El?NT(t,e):t instanceof xu?jT(t,e):n}function PT(t,e){return t instanceof bu?(function(r){return Wg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class wu extends Uf{}class El extends Uf{constructor(e){super(),this.elements=e}}function NT(t,e){const n=DT(e);for(const r of t.elements)n.some((s=>Vs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class xu extends Uf{constructor(e){super(),this.elements=e}}function jT(t,e){let n=DT(e);for(const r of t.elements)n=n.filter((s=>!Vs(s,r)));return{arrayValue:{values:n}}}class bu extends Uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ib(t){return jt(t.integerValue||t.doubleValue)}function DT(t){return d0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.field=e,this.transform=n}}function y3(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof El&&s instanceof El||r instanceof xu&&s instanceof xu?xl(r.elements,s.elements,Vs):r instanceof bu&&s instanceof bu?Vs(r.Ae,s.Ae):r instanceof wu&&s instanceof wu})(t.transform,e.transform)}class v3{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zf(t.key,yn.none()):new zu(t.key,t.data,yn.none());{const n=t.data,r=zn.empty();let s=new Gt(gn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new bo(t.key,r,new gr(s.toArray()),yn.none())}}function w3(t,e,n){t instanceof zu?(function(s,o,l){const u=s.value.clone(),d=Ab(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof bo?(function(s,o,l){if(!Lh(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Ab(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(MT(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Zc(t,e,n,r){return t instanceof zu?(function(o,l,u,d){if(!Lh(o.precondition,l))return u;const p=o.value.clone(),g=kb(o.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof bo?(function(o,l,u,d){if(!Lh(o.precondition,l))return u;const p=kb(o.fieldTransforms,d,l),g=l.data;return g.setAll(MT(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,l,u){return Lh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function x3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=PT(r.transform,s||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function Rb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xl(r,s,((o,l)=>y3(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends Bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bo extends Bf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Ab(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,g3(l,u,n[s]))}return r}function kb(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,m3(o,l,e))}return r}class zf extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VT extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&w3(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RT();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const d=LT(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,r)=>Rb(n,r)))&&xl(this.baseMutations,e.baseMutations,((n,r)=>Rb(n,r)))}}class g0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return d3})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new g0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Qe;function OT(t){switch(t){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function FT(t){if(t===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:t})}}(Qe=Vt||(Vt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new ro([4294967295,4294967295],0);function Pb(t){const e=T3().encode(t),n=new YS;return n.update(e),new Uint8Array(n.digest())}function Nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ro([n,r],0),new ro([s,o],0)]}class y0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ro.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ro.fromNumber(r)));return s.compare(C3)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pb(e),[r,s]=Nb(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new y0(o,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Pb(e),[r,s]=Nb(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $f(Re.min(),s,new _t(We),fi(),qe())}}class $u{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $u(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class UT{constructor(e,n){this.targetId=e,this.Ce=n}}class BT{constructor(e,n,r=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jb{constructor(){this.ve=0,this.Fe=Db(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:o})}})),new $u(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Db()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new _t(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Hg(o))if(r===0){const l=new xe(o.path);this.et(n,l,rn.newNoDocument(l,Re.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=lo(r).toUint8Array()}catch(d){if(d instanceof lT)return wl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new y0(l,s,o)}catch(d){return wl(d instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Hg(u.target)){const d=new xe(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,rn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=qe();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new $f(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new _t(We),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new _t(xe.comparator)}function Db(){return new _t(xe.comparator)}const R3={asc:"ASCENDING",desc:"DESCENDING"},A3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k3={and:"AND",or:"OR"};class P3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||Bu(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N3(t,e){return of(t,e.toTimestamp())}function wr(t){return Ke(!!t,49232),Re.fromTimestamp((function(n){const r=ao(n);return new it(r.seconds,r.nanos)})(t))}function v0(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){const n=(function(s){return new nt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $T(t){const e=nt.fromString(t);return Ke(YT(e),10190,{key:e.toString()}),e}function af(t,e){return v0(t.databaseId,e.path)}function eu(t,e){const n=$T(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(qT(n))}function WT(t,e){return v0(t.databaseId,e)}function j3(t){const e=$T(t);return e.length===4?nt.emptyPath():qT(e)}function Yg(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lb(t,e,n){return{name:af(t,e),fields:n.value.mapValue.fields}}function D3(t,e){return"found"in e?(function(r,s){Ke(!!s.found,43571),s.found.name,s.found.updateTime;const o=eu(r,s.found.name),l=wr(s.found.updateTime),u=s.found.createTime?wr(s.found.createTime):Re.min(),d=new zn({mapValue:{fields:s.found.fields}});return rn.newFoundDocument(o,l,u,d)})(t,e):"missing"in e?(function(r,s){Ke(!!s.missing,3894),Ke(!!s.readTime,22933);const o=eu(r,s.missing),l=wr(s.readTime);return rn.newNoDocument(o,l)})(t,e):Ee(7234,{result:e})}function L3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),vn.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?Z.UNKNOWN:FT(p.code);return new de(g,p.message||"")})(l);n=new BT(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=eu(t,r.document.name),o=wr(r.document.updateTime),l=r.document.createTime?wr(r.document.createTime):Re.min(),u=new zn({mapValue:{fields:r.document.fields}}),d=rn.newFoundDocument(s,o,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Mh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=eu(t,r.document),o=r.readTime?wr(r.readTime):Re.min(),l=rn.newNoDocument(s,o),u=r.removedTargetIds||[];n=new Mh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=eu(t,r.document),o=r.removedTargetIds||[];n=new Mh([],o,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new S3(s,o),u=r.targetId;n=new UT(u,l)}}return n}function HT(t,e){let n;if(e instanceof zu)n={update:Lb(t,e.key,e.value)};else if(e instanceof zf)n={delete:af(t,e.key)};else if(e instanceof bo)n={update:Lb(t,e.key,e.data),updateMask:W3(e.fieldMask)};else{if(!(e instanceof VT))return Ee(16599,{Vt:e.type});n={verify:af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof wu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof El)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:N3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(t,e.precondition)),n}function M3(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?wr(s.updateTime):wr(o);return l.isEqual(Re.min())&&(l=wr(o)),new v3(l,s.transformResults||[])})(n,e)))):[]}function V3(t,e){return{documents:[WT(t,e.path)]}}function GT(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WT(t,s);const o=(function(p){if(p.length!==0)return QT(ts.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Xi(w.field),direction:B3(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Kg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function O3(t,e,n,r){const{ft:s,parent:o}=GT(t,e),l={},u=[];let d=0;return n.forEach((p=>{const g="aggregate_"+d++;l[g]=p.alias,p.aggregateType==="count"?u.push({alias:g,count:{}}):p.aggregateType==="avg"?u.push({alias:g,avg:{field:Xi(p.fieldPath)}}):p.aggregateType==="sum"&&u.push({alias:g,sum:{field:Xi(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:o}}function F3(t){let e=j3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const w=KT(v);return w instanceof ts&&vT(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((w=>(function(k){return new vu(rl(k.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Bu(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,S=v.values||[];return new rf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,S=v.values||[];return new rf(S,w)})(n.endAt)),o3(e,s,l,o,u,"F",d,p)}function U3(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rl(n.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rl(n.unaryFilter.field);return Ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rl(n.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(rl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((r=>KT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function B3(t){return R3[t]}function z3(t){return A3[t]}function $3(t){return k3[t]}function Xi(t){return{fieldPath:t.canonicalString()}}function rl(t){return gn.fromServerFormat(t.fieldPath)}function QT(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(_b(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NAN"}};if(bb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_b(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NAN"}};if(bb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(n.field),op:z3(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const r=n.getFilters().map((s=>QT(s)));return r.length===1?r[0]:{compositeFilter:{op:$3(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function W3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,o=Re.min(),l=Re.min(),u=vn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.yt=e}}function H3(t){const e=F3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.Cn=new K3}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(oo.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class K3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Gt(nt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Gt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(XT,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",Q3=1048576;function Ob([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class Y3{constructor(e){this.Ir=e,this.buffer=new Gt(Ob),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ob(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(Vb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?pe(Vb,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class J3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Lf.ce);const r=new Y3(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Mb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,u,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),tl()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function Z3(t,e){return new J3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Zc(r.mutation,s,gr.empty(),it.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Wc();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let o=fi();const l=Jc(),u=(function(){return Jc()})();return n.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof bo)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Zc(g.mutation,p,g.mutation.getFieldMask(),it.now())):l.set(p.key,gr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>u.set(p,new tL(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Jc();let s=new _t(((l,u)=>l-u)),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||gr.empty();g=u.applyToLocalView(p,g),r.set(d,g);const v=(s.get(u.batchId)||qe()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,g=d.value,v=RT();g.forEach((w=>{if(!o.has(w)){const S=LT(n.get(w),r.get(w));S!==null&&v.set(w,S),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):te.resolve(na());let u=pu,d=o;return l.next((p=>te.forEach(p,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,qe()))).next((g=>({batchId:u,changes:IT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let s=Wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Wc();return this.indexManager.getCollectionParents(e,o).next((u=>te.forEach(u,(d=>{const p=(function(v,w){return new Vl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,w)=>{l=l.insert(v,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,rn.newInvalidDocument(g)))}));let u=Wc();return l.forEach(((d,p)=>{const g=o.get(d);g!==void 0&&Zc(g.mutation,p,gr.empty(),it.now()),Ff(n,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:H3(s.bundledQuery),readTime:wr(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new _t(xe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return te.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=na(),o=n.length+1,l=new xe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new _t(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=na(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=na(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _3(n,r));let o=this.qr.get(n);o===void 0&&(o=qe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Qr=new Gt(en.$r),this.Ur=new Gt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new nt([])),r=new en(n,e),s=new en(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new nt([])),r=new en(n,e),s=new en(n,e+1);let o=qe();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new en(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(en.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new b3(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new en(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?c0:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(We);return n.forEach((s=>{const o=new en(s,0),l=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const l=new en(new xe(o),0);let u=new Gt(We);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(d.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const o=new en(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new en(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.ri=e,this.docs=(function(){return new _t(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():rn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fi();const l=n.path,u=new xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||V6(M6(g),r)<=0||(s.has(g.key)||Ff(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ee(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new lL(this)}getSize(e){return te.resolve(this.size)}}class lL extends eL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.persistence=e,this.si=new wa((n=>h0(n)),f0),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new w0,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(o).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new iL,this.referenceDelegate=e(this),this.Pi=new cL(this),this.indexManager=new G3,this.remoteDocumentCache=(function(s){return new aL(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new q3(n),this.Ii=new rL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new oL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new uL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class uL extends F6{constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Ri=new w0,this.Vi=null}static mi(e){return new x0(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=xe.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new wa((r=>z6(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Z3(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,Re.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=qe(),s=qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new b0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _N()?8:U6(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new dL;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(tl()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(tl()<=$e.DEBUG&&pe("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(tl()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):te.resolve())}ys(e,n){if(Cb(n))return te.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=sf(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=qe(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,u);return this.Cs(n,p,l,d.readTime)?this.ys(e,sf(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,s){return Cb(n)||s.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?te.resolve(null):(tl()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nl(n)),this.vs(e,l,n,L6(s,pu)).next((u=>u)))}))}Ds(e,n){let r=new Gt(TT(e));return n.forEach(((s,o)=>{Ff(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return tl()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,oo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LocalStore",fL=3e8;class pL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new _t(We),this.xs=new wa((o=>h0(o)),f0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function ZT(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let d=qe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function gL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,g){const v=p.batch,w=v.keys();let S=te.resolve();return w.forEach((k=>{S=S.next((()=>g.getEntry(d,k))).next((A=>{const T=p.docVersions.get(k);Ke(T!==null,48541),A.version.compareTo(T)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=qe();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function eC(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yL(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;u.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(vn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(v,S),(function(A,T,D){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=fL?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,S,g)&&u.push(n.Pi.updateTargetData(o,S))}));let d=fi(),p=qe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(vL(o,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(Re.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=s,o)))}function vL(t,e,n){let r=qe(),s=qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=fi();return n.forEach(((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):pe(_0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function wL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=c0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Xg(t,e,n){const r=Pe(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ml(l))throw l;pe(_0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Fb(t,e,n){const r=Pe(t);let s=Re.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const v=Pe(d),w=v.xs.get(g);return w!==void 0?te.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,g)})(r,l,Ns(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Re.min(),n?o:qe()))).next((u=>(bL(r,l3(e),u),{documents:u,Qs:o})))))}function bL(t,e,n){let r=t.Os.get(e)||Re.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class Ub{constructor(){this.activeTargetIds=p3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _L{constructor(){this.Mo=new Ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ub,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Jg(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===tf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=Jg(),u=this.zo(e,n.toUriEncodedString());pe(Jm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:p}=new URL(u),g=mo(p);return this.Jo(e,u,d,r,g).then((v=>(pe(Jm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw wl(Jm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=SL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class IL extends TL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Jg();return new Promise(((u,d)=>{const p=new XS;p.setWithCredentials(!0),p.listenOnce(JS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const v=p.getResponseJson();pe(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Nh.TIMEOUT:pe(An,`RPC '${e}' ${l} timed out`),d(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const w=p.getStatus();if(pe(An,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const A=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN})(k.status);d(new de(A,k.message))}else d(new de(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(An,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);pe(An,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Jg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=tT(),u=eT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(An,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let w=!1,S=!1;const k=new CL({Yo:T=>{S?pe(An,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(w||(pe(An,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),pe(An,`RPC '${e}' stream ${s} sending:`,T),v.send(T))},Zo:()=>v.close()}),A=(T,D,j)=>{T.listen(D,(F=>{try{j(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return A(v,$c.EventType.OPEN,(()=>{S||(pe(An,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),A(v,$c.EventType.CLOSE,(()=>{S||(S=!0,pe(An,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(v))})),A(v,$c.EventType.ERROR,(T=>{S||(S=!0,wl(An,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),k.a_(new de(Z.UNAVAILABLE,"The operation could not be completed")))})),A(v,$c.EventType.MESSAGE,(T=>{if(!S){const D=T.data[0];Ke(!!D,16349);const j=D,F=j?.error||j[0]?.error;if(F){pe(An,`RPC '${e}' stream ${s} received error:`,F);const W=F.status;let H=(function(R){const N=Vt[R];if(N!==void 0)return FT(N)})(W),U=F.message;H===void 0&&(H=Z.INTERNAL,U="Unknown error status: "+W+" with message "+F.message),S=!0,k.a_(new de(H,U)),v.close()}else pe(An,`RPC '${e}' stream ${s} received:`,D),k.u_(D)}})),A(u,ZS.STAT_EVENT,(T=>{T.stat===Bg.PROXY?pe(An,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Bg.NOPROXY&&pe(An,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return new P3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="PersistentStream";class tC{constructor(e,n,r,s,o,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe($b,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe($b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RL extends tC{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=L3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Re.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?wr(l.readTime):Re.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Yg(this.serializer),n.addTarget=(function(o,l){let u;const d=l.target;if(u=Hg(d)?{documents:V3(o,d)}:{query:GT(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=zT(o,l.resumeToken);const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){u.readTime=of(o,l.snapshotVersion.toTimestamp());const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=U3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Yg(this.serializer),n.removeTarget=e,this.q_(n)}}class AL extends tC{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=M3(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Yg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>HT(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{}class PL extends kL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Qg(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Z.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Qg(n,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class jL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{xa(this)&&(pe(pa,"Restarting streams for network reachability change."),await(async function(d){const p=Pe(d);p.Ea.add(4),await Wu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qf(p)})(this))}))})),this.Ra=new NL(r,s)}}async function qf(t){if(xa(t))for(const e of t.da)await e(!0)}async function Wu(t){for(const e of t.da)await e(!1)}function nC(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I0(n)?C0(n):Ol(n).O_()&&T0(n,e))}function S0(t,e){const n=Pe(t),r=Ol(n);n.Ia.delete(e),r.O_()&&rC(n,e),n.Ia.size===0&&(r.O_()?r.L_():xa(n)&&n.Ra.set("Unknown"))}function T0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).Y_(e)}function rC(t,e){t.Va.Ue(e),Ol(t).Z_(e)}function C0(t){t.Va=new I3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.Ra.ua()}function I0(t){return xa(t)&&!Ol(t).x_()&&t.Ia.size>0}function xa(t){return Pe(t).Ea.size===0}function sC(t){t.Va=void 0}async function DL(t){t.Ra.set("Online")}async function LL(t){t.Ia.forEach(((e,n)=>{T0(t,e)}))}async function ML(t,e){sC(t),I0(t)?(t.Ra.ha(e),C0(t)):t.Ra.set("Unknown")}async function VL(t,e,n){if(t.Ra.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){pe(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof Mh?t.Va.Ze(e):e instanceof UT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const r=await eC(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(vn.EMPTY_BYTE_STRING,g.snapshotVersion)),rC(o,d);const v=new Zi(g.target,d,p,g.sequenceNumber);T0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){pe(pa,"Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await Wu(t),t.Ra.set("Offline"),n||(n=()=>eC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qf(t)}))}function iC(t,e){return e().catch((n=>cf(t,n,e)))}async function Hf(t){const e=Pe(t),n=uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:c0;for(;OL(e);)try{const s=await wL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,FL(e,s)}catch(s){await cf(e,s)}oC(e)&&aC(e)}function OL(t){return xa(t)&&t.Ta.length<10}function FL(t,e){t.Ta.push(e);const n=uo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oC(t){return xa(t)&&!uo(t).x_()&&t.Ta.length>0}function aC(t){uo(t).start()}async function UL(t){uo(t).ra()}async function BL(t){const e=uo(t);for(const n of t.Ta)e.ea(n.mutations)}async function zL(t,e,n){const r=t.Ta.shift(),s=g0.from(r,e,n);await iC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Hf(t)}async function $L(t,e){e&&uo(t).X_&&await(async function(r,s){if((function(l){return OT(l)&&l!==Z.ABORTED})(s.code)){const o=r.Ta.shift();uo(r).B_(),await iC(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Hf(r)}})(t,e),oC(t)&&aC(t)}async function Wb(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),pe(pa,"RemoteStore received new credentials");const r=xa(n);n.Ea.add(3),await Wu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qf(n)}async function WL(t,e){const n=Pe(t);e?(n.Ea.delete(2),await qf(n)):e||(n.Ea.add(2),await Wu(n),n.Ra.set("Unknown"))}function Ol(t){return t.ma||(t.ma=(function(n,r,s){const o=Pe(n);return o.sa(),new RL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:DL.bind(null,t),t_:LL.bind(null,t),r_:ML.bind(null,t),H_:VL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),I0(t)?C0(t):t.Ra.set("Unknown")):(await t.ma.stop(),sC(t))}))),t.ma}function uo(t){return t.fa||(t.fa=(function(n,r,s){const o=Pe(n);return o.sa(),new AL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UL.bind(null,t),r_:$L.bind(null,t),ta:BL.bind(null,t),na:zL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new R0(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A0(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Ml(t))return new de(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.ga=new _t(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tl{constructor(e,n,r,s,o,l,u,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Tl(e,n,pl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HL{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),o=s.queries;s.queries=Hb(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function Hb(){return new wa((t=>ST(t)),Of)}async function k0(t,e){const n=Pe(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new qL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=A0(l,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&N0(n)}async function P0(t,e){const n=Pe(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GL(t,e){const n=Pe(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&N0(n)}function KL(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function N0(t){t.Ca.forEach((e=>{e.next()}))}var Zg,Gb;(Gb=Zg||(Zg={})).Ma="default",Gb.Cache="cache";class j0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class cC{constructor(e){this.key=e}}class QL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=TT(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qb,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),S=Ff(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let T=!1;w&&S?w.data.isEqual(S.data)?k!==A&&(r.track({type:3,doc:S}),T=!0):this.su(w,S)||(r.track({type:2,doc:S}),T=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(u=!0)):!w&&S?(r.track({type:0,doc:S}),T=!0):w&&!S&&(r.track({type:1,doc:w}),T=!0,(d||p)&&(u=!0)),T&&(S?(l=l.add(S),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(S,k){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:T})}};return A(S)-A(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Tl(this.query,e.tu,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D0="SyncEngine";class YL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.hu=!1}}class JL{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wa((u=>ST(u)),Of),this.Iu=new Map,this.Eu=new Set,this.du=new _t(xe.comparator),this.Au=new Map,this.Ru=new w0,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZL(t,e,n=!0){const r=mC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await uC(r,e,n,!0),s}async function eM(t,e){const n=mC(t);await uC(n,e,!0,!1)}async function uC(t,e,n,r){const s=await xL(t.localStore,Ns(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await tM(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&nC(t.remoteStore,s),u}async function tM(t,e,n,r,s){t.pu=(v,w,S)=>(async function(A,T,D,j){let F=T.view.ru(D);F.Cs&&(F=await Fb(A.localStore,T.query,!1).then((({documents:I})=>T.view.ru(I,F))));const W=j&&j.targetChanges.get(T.targetId),H=j&&j.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(F,A.isPrimaryClient,W,H);return Qb(A,T.targetId,U.au),U.snapshot})(t,v,w,S);const o=await Fb(t.localStore,e,!0),l=new QL(e,o.Qs),u=l.ru(o.documents),d=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,d);Qb(t,n,p.au);const g=new YL(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function nM(t,e,n){const r=Pe(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Of(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&S0(r.remoteStore,s.targetId),ey(r,s.targetId)})).catch(Ll)):(ey(r,s.targetId),await Xg(r.localStore,s.targetId,!0))}async function rM(t,e){const n=Pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S0(n.remoteStore,r.targetId))}async function sM(t,e,n){const r=dM(t);try{const s=await(function(l,u){const d=Pe(l),p=it.now(),g=u.reduce(((S,k)=>S.add(k.key)),qe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=fi(),A=qe();return d.Ns.getEntries(S,g).next((T=>{k=T,k.forEach(((D,j)=>{j.isValidDocument()||(A=A.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,k))).next((T=>{v=T;const D=[];for(const j of u){const F=x3(j,v.get(j.key).overlayedDocument);F!=null&&D.push(new bo(j.key,F,mT(F.value.mapValue),yn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,D,u)})).next((T=>{w=T;const D=T.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(S,T.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:IT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new _t(We)),p=p.insert(u,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await qu(r,s.changes),await Hf(r.remoteStore)}catch(s){const o=A0(s,"Failed to persist write");n.reject(o)}}async function dC(t,e){const n=Pe(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await qu(n,r,e)}catch(r){await Ll(r)}}function Kb(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Pe(l);d.onlineState=u;let p=!1;d.queries.forEach(((g,v)=>{for(const w of v.Sa)w.va(u)&&(p=!0)})),p&&N0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iM(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new _t(xe.comparator);l=l.insert(o,rn.newNoDocument(o,Re.min()));const u=qe().add(o),d=new $f(Re.min(),new Map,new _t(We),l,u);await dC(r,d),r.du=r.du.remove(o),r.Au.delete(e),L0(r)}else await Xg(r.localStore,e,!1).then((()=>ey(r,e,n))).catch(Ll)}async function oM(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await gL(n.localStore,e);fC(n,r,null),hC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qu(n,s)}catch(s){await Ll(s)}}async function aM(t,e,n){const r=Pe(t);try{const s=await(function(l,u){const d=Pe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,u).next((v=>(Ke(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);fC(r,e,n),hC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qu(r,s)}catch(s){await Ll(s)}}function hC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fC(t,e,n){const r=Pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||pC(t,r)}))}function pC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(S0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),L0(t))}function Qb(t,e,n){for(const r of n)r instanceof lC?(t.Ru.addReference(r.key,e),lM(t,r)):r instanceof cC?(pe(D0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pC(t,r.key)):Ee(19791,{wu:r})}function lM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(D0,"New document in limbo: "+n),t.Eu.add(r),L0(t))}function L0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(nt.fromString(e)),r=t.fu.next();t.Au.set(r,new XL(n)),t.du=t.du.insert(n,r),nC(t.remoteStore,new Zi(Ns(Vf(n.path)),r,"TargetPurposeLimboResolution",Lf.ce))}}async function qu(t,e,n){const r=Pe(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=b0.As(d.targetId,p);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=Pe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(w=>te.forEach(w.Es,(S=>g.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>te.forEach(w.ds,(S=>g.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!Ml(v))throw v;pe(_0,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=g.Ms.get(w),k=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(w,A)}}})(r.localStore,o))}async function cM(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){pe(D0,"User change. New user:",e.toKey());const r=await ZT(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new de(Z.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qu(n,r.Ls)}}function uM(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let s=qe();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function mC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.Pu.H_=GL.bind(null,e.eventManager),e.Pu.yu=KL.bind(null,e.eventManager),e}function dM(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mL(this.persistence,new hL,e.initialUser,this.serializer)}Cu(e){return new JT(x0.mi,this.serializer)}Du(e){return new _L}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class hM extends uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new JT((r=>lf.mi(r,n)),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await WL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HL})()}createDatastore(e){const n=Wf(e.databaseInfo.databaseId),r=(function(o){return new IL(o)})(e.databaseInfo);return(function(o,l,u,d){return new PL(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,u){return new jL(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kb(this.syncEngine,n,0)),(function(){return zb.v()?new zb:new EL})())}createSyncEngine(e,n){return(function(s,o,l,u,d,p,g){const v=new JL(s,o,l,u,d,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pe(n);pe(pa,"RemoteStore shutting down."),r.Ea.add(5),await Wu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,o){const l=Pe(s),u={documents:o.map((v=>af(l.serializer,v)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,nt.emptyPath(),u,o.length),p=new Map;d.forEach((v=>{const w=D3(l.serializer,v);p.set(w.key.toString(),w)}));const g=[];return o.forEach((v=>{const w=p.get(v.toString());Ke(!!w,55234,{key:v}),g.push(w)})),g})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=xe.fromPath(r);this.mutations.push(new VT(s,this.precondition(s)))})),await(async function(r,s){const o=Pe(r),l={writes:s.map((u=>HT(o.serializer,u)))};await o.Go("Commit",o.serializer.databaseId,nt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});n=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Re.min())?yn.exists(!1):yn.updateTime(n):yn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Re.min()))throw new de(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(n)}return yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new E0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new fM(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Bu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!OT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class mM{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=l0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{pe(ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function eg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await ZT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Yb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gM(t);pe(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Wb(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Wb(e.remoteStore,s))),t._onlineComponents=e}async function gM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ho,"Using user provided OfflineComponentProvider");try{await eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await eg(t,new uf)}}else pe(ho,"Using default OfflineComponentProvider"),await eg(t,new hM(void 0));return t._offlineComponents}async function V0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ho,"Using user provided OnlineComponentProvider"),await Yb(t,t._uninitializedComponentsProvider._online)):(pe(ho,"Using default OnlineComponentProvider"),await Yb(t,new ty))),t._onlineComponents}function yM(t){return V0(t).then((e=>e.syncEngine))}function gC(t){return V0(t).then((e=>e.datastore))}async function df(t){const e=await V0(t),n=e.eventManager;return n.onListen=ZL.bind(null,e.syncEngine),n.onUnlisten=nM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rM.bind(null,e.syncEngine),n}function vM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const g=new M0({next:w=>{g.Nu(),l.enqueueAndForget((()=>P0(o,v)));const S=w.docs.has(u);!S&&w.fromCache?p.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&d&&d.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new j0(Vf(u.path),g,{includeMetadataChanges:!0,qa:!0});return k0(o,v)})(await df(t),t.asyncQueue,e,n,r))),r.promise}function wM(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const g=new M0({next:w=>{g.Nu(),l.enqueueAndForget((()=>P0(o,v))),w.fromCache&&d.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new j0(u,g,{includeMetadataChanges:!0,qa:!0});return k0(o,v)})(await df(t),t.asyncQueue,e,n,r))),r.promise}function xM(t,e,n){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await gC(t);r.resolve((async function(l,u,d){const p=Pe(l),{request:g,gt:v,parent:w}=O3(p.serializer,a3(u),d);p.connection.$o||delete g.parent;const S=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,g,1)).filter((A=>!!A.result));Ke(S.length===1,64727);const k=S[0].result?.aggregateFields;return Object.keys(k).reduce(((A,T)=>(A[v[T]]=k[T],A)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firestore.googleapis.com",Jb=!0;class Zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vC,this.ssl=Jb}else this.host=e.host,this.ssl=e.ssl??Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q3)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E6;switch(r.type){case"firstParty":return new I6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Xb.get(n);r&&(pe("ComponentProvider","Removing Datastore"),Xb.delete(n),r.terminate())})(this),Promise.resolve()}}function bM(t,e,n,r={}){t=Nn(t,Gf);const s=mo(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(zy(`https://${u}`),$y("Firestore",!0)),o.host!==vC&&o.host!==u&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:s,emulatorOptions:r};if(!ci(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=kn.MOCK_USER;else{p=V2(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kn(v)}t._authCredentials=new S6(new rT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uu(n,bt._jsonSchema))return new bt(e,r||null,new xe(nt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Bt("string",bt._jsonSchemaVersion),referencePath:Bt("string")};class so extends gi{constructor(e,n,r){super(e,n,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new xe(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function tt(t,e,...n){if(t=rt(t),sT("collection","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return hb(r),new so(t,null,r)}{if(!(t instanceof bt||t instanceof so))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return hb(r),new so(t.firestore,null,r)}}function at(t,e,...n){if(t=rt(t),arguments.length===1&&(e=l0.newId()),sT("doc","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return db(r),new bt(t,null,new xe(r))}{if(!(t instanceof bt||t instanceof so))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return db(r),new bt(t.firestore,t instanceof so?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="AsyncQueue";class t_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E0(this,"async_queue_retry"),this._c=()=>{const r=Zm();r&&pe(e_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;pe(e_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",n_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=R0.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:n_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ns extends Gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new t_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function _M(t,e){const n=typeof t=="object"?t:Rf(),r=typeof t=="string"?t:tf,s=go(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=D2("firestore");o&&bM(s,...o)}return s}function Fl(t){if(t._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EM(t),t._firestoreClient}function EM(t){const e=t._freezeSettings(),n=(function(s,o,l,u){return new H6(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class TM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(vn.fromBase64String(e))}catch(n){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mr(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Bt("string",mr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Bt("string",js._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Bt("string",Ds._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class IM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class Kf{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xC(this.Ac)&&CM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wf(e)}Cc(e,n,r,s=!1){return new Kf({Ac:e,methodName:n,Dc:r,path:gn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(t){const e=t._freezeSettings(),n=Wf(t._databaseId);return new RM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O0(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);z0("Data must be an object, but it was:",l,r);const u=EC(r,l);let d,p;if(o.merge)d=new gr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=ny(e,v,n);if(!l.contains(w))throw new de(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TC(g,w)||g.push(w)}d=new gr(g),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new IM(new zn(u),d,p)}class Qf extends Ul{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function AM(t,e,n){return new Kf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class F0 extends Ul{_toFieldTransform(e){return new m0(e.path,new wu)}isEqual(e){return e instanceof F0}}class U0 extends Ul{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=AM(this,e,!0),r=this.vc.map((o=>Bl(o,n))),s=new El(r);return new m0(e.path,s)}isEqual(e){return e instanceof U0&&ci(this.vc,e.vc)}}class B0 extends Ul{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bu(e.serializer,kT(e.serializer,this.Fc));return new m0(e.path,n)}isEqual(e){return e instanceof B0&&this.Fc===e.Fc}}function bC(t,e,n,r){const s=t.Cc(1,e,n);z0("Data must be an object, but it was:",s,r);const o=[],l=zn.empty();xo(r,((d,p)=>{const g=$0(e,d,n);p=rt(p);const v=s.yc(g);if(p instanceof Qf)o.push(g);else{const w=Bl(p,v);w!=null&&(o.push(g),l.set(g,w))}}));const u=new gr(o);return new wC(l,u,s.fieldTransforms)}function _C(t,e,n,r,s,o){const l=t.Cc(1,e,n),u=[ny(e,r,n)],d=[s];if(o.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(ny(e,o[w])),d.push(o[w+1]);const p=[],g=zn.empty();for(let w=u.length-1;w>=0;--w)if(!TC(p,u[w])){const S=u[w];let k=d[w];k=rt(k);const A=l.yc(S);if(k instanceof Qf)p.push(S);else{const T=Bl(k,A);T!=null&&(p.push(S),g.set(S,T))}}const v=new gr(p);return new wC(g,v,l.fieldTransforms)}function kM(t,e,n,r=!1){return Bl(n,t.Cc(r?4:3,e))}function Bl(t,e){if(SC(t=rt(t)))return z0("Unsupported field value:",e,t),EC(t,e);if(t instanceof Ul)return(function(r,s){if(!xC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const u of r){let d=Bl(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:of(s.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(s.serializer,o)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:zT(s.serializer,r._byteString)};if(r instanceof bt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ds)return(function(l,u){return{mapValue:{fields:{[fT]:{stringValue:pT},[nf]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return p0(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Df(r)}`)})(t,e)}function EC(t,e){const n={};return aT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,((r,s)=>{const o=Bl(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function SC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof js||t instanceof mr||t instanceof bt||t instanceof Ul||t instanceof Ds)}function z0(t,e,n){if(!SC(n)||!iT(n)){const r=Df(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ny(t,e,n){if((e=rt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return $0(t,e);throw hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const PM=new RegExp("[~\\*/\\[\\]]");function $0(t,e,n){if(e.search(PM)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hf(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new de(Z.INVALID_ARGUMENT,u+t+d)}function TC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NM extends ff{data(){return super.data()}}function Yf(t,e){return typeof e=="string"?$0(t,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}class q0 extends W0{}function yt(t,e,...n){let r=[];e instanceof W0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof H0)).length,u=o.filter((d=>d instanceof Xf)).length;if(l>1||l>0&&u>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Xf extends q0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xf(e,n,r)}_apply(e){const n=this._parse(e);return IC(e._query,n),new gi(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=Gu(e.firestore);return(function(o,l,u,d,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){i_(v,g);const k=[];for(const A of v)k.push(s_(d,o,A));w={arrayValue:{values:k}}}else w=s_(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||i_(v,g),w=kM(u,l,v,g==="in"||g==="not-in");return Ut.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ot(t,e,n){const r=e,s=Yf("where",t);return Xf._create(s,r,n)}class H0 extends W0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)IC(l,d),l=Gg(l,d)})(e._query,n),new gi(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends q0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(o,l)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Vl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function _o(t,e="asc"){const n=e,r=Yf("orderBy",t);return G0._create(r,n)}class K0 extends q0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new K0(e,n,r)}_apply(e){return new gi(e.firestore,e.converter,sf(e._query,this._limit,this._limitType))}}function Jf(t){return D6("limit",t),K0._create("limit",t,"F")}function s_(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_T(e)&&n.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!xe.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xb(t,new xe(r))}if(n instanceof bt)return xb(t,n._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function i_(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(t,e){const n=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RC{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new js(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=ao(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ke(YT(r),9688,{name:e});const s=new gu(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return s.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jM extends RC{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function DM(){return new SM("count")}class sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class io extends ff{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}io._jsonSchemaVersion="firestore/documentSnapshot/1.0",io._jsonSchema={type:Bt("string",io._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Vh extends io{data(e={}){return super.data(e)}}class ia{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new sl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new sl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:LM(u.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){t=Nn(t,bt);const e=Nn(t.firestore,ns);return vM(Fl(e),t._key).then((n=>kC(e,t,n)))}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Bt("string",ia._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Ku extends RC{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function wn(t){t=Nn(t,gi);const e=Nn(t.firestore,ns),n=Fl(e),r=new Ku(e);return CC(t._query),wM(n,t._query).then((s=>new ia(e,r,t,s)))}function Zf(t,e,n){t=Nn(t,bt);const r=Nn(t.firestore,ns),s=Q0(t.converter,e,n);return ep(r,[O0(Gu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yn.none())])}function Us(t,e,n,...r){t=Nn(t,bt);const s=Nn(t.firestore,ns),o=Gu(s);let l;return l=typeof(e=rt(e))=="string"||e instanceof Hu?_C(o,"updateDoc",t._key,e,n,r):bC(o,"updateDoc",t._key,e),ep(s,[l.toMutation(t._key,yn.exists(!0))])}function AC(t){return ep(Nn(t.firestore,ns),[new zf(t._key,yn.none())])}function yi(t,e){const n=Nn(t.firestore,ns),r=at(t),s=Q0(t.converter,e);return ep(n,[O0(Gu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then((()=>r))}function Cl(t,...e){t=rt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||r_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(r_(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,l,u;if(t instanceof bt)l=Nn(t.firestore,ns),u=Vf(t._key.path),o={next:d=>{e[r]&&e[r](kC(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Nn(t,gi);l=Nn(d.firestore,ns),u=d._query;const p=new Ku(l);o={next:g=>{e[r]&&e[r](new ia(l,p,d,g))},error:e[r+1],complete:e[r+2]},CC(t._query)}return(function(p,g,v,w){const S=new M0(w),k=new j0(g,S,v);return p.asyncQueue.enqueueAndForget((async()=>k0(await df(p),k))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>P0(await df(p),k)))}})(Fl(l),u,s,o)}function ep(t,e){return(function(r,s){const o=new Zr;return r.asyncQueue.enqueueAndForget((async()=>sM(await yM(r),s,o))),o.promise})(Fl(t),e)}function kC(t,e,n){const r=n.docs.get(e._key),s=new Ku(t);return new io(t,s,e._key,r,new sl(n.hasPendingWrites,n.fromCache),e.converter)}function o_(t){return MM(t,{count:DM()})}function MM(t,e){const n=Nn(t.firestore,ns),r=Fl(n),s=W6(e,((o,l)=>new E3(l,o.aggregateType,o._internalFieldPath)));return xM(r,t._query,s).then((o=>(function(u,d,p){const g=new Ku(u);return new TM(d,g,p)})(n,t,o)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={maxAttempts:5};function Hc(t,e){if((t=rt(t)).firestore!==e)throw new de(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gu(e)}get(e){const n=Hc(e,this._firestore),r=new jM(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return Ee(24041);const o=s[0];if(o.isFoundDocument())return new ff(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new ff(this._firestore,r,n._key,null,n.converter);throw Ee(18433,{doc:o})}))}set(e,n,r){const s=Hc(e,this._firestore),o=Q0(s.converter,n,r),l=O0(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const o=Hc(e,this._firestore);let l;return l=typeof(n=rt(n))=="string"||n instanceof Hu?_C(this._dataReader,"Transaction.update",o._key,n,r,s):bC(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,l),this}delete(e){const n=Hc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM extends OM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hc(e,this._firestore),r=new Ku(this._firestore);return super.get(e).then((s=>new io(this._firestore,r,n._key,s._document,new sl(!1,!1),n.converter)))}}function UM(t,e,n){t=Nn(t,ns);const r={...VM,...n};return(function(o){if(o.maxAttempts<1)throw new de(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,l,u){const d=new Zr;return o.asyncQueue.enqueueAndForget((async()=>{const p=await gC(o);new pM(o.asyncQueue,p,u,l,d).ju()})),d.promise})(Fl(t),(s=>e(new FM(t,s))),r)}function sn(){return new F0("serverTimestamp")}function BM(...t){return new U0("arrayUnion",t)}function PC(t){return new B0("increment",t)}(function(e,n=!0){(function(s){Dl=s})(va),es(new jr("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new ns(new T6(r.getProvider("auth-internal")),new R6(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(p.options.projectId,g)})(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),nr(ab,lb,e),nr(ab,lb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebasestorage.googleapis.com",jC="storageBucket",zM=120*1e3,$M=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Mr{constructor(e,n,r=0){super(tg(e),`Firebase Storage: ${n} (${tg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function tg(t){return"storage/"+t}function Y0(){const t="An unknown error occurred, please check the error payload for server response.";return new It(Ct.UNKNOWN,t)}function WM(t){return new It(Ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qM(t){return new It(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Ct.UNAUTHENTICATED,t)}function GM(){return new It(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KM(t){return new It(Ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QM(){return new It(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YM(){return new It(Ct.CANCELED,"User canceled the upload/download.")}function XM(t){return new It(Ct.INVALID_URL,"Invalid URL '"+t+"'.")}function JM(t){return new It(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZM(){return new It(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jC+"' property when initializing the app?")}function eV(){return new It(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tV(){return new It(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nV(t){return new It(Ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ry(t){return new It(Ct.INVALID_ARGUMENT,t)}function DC(){return new It(Ct.APP_DELETED,"The Firebase app was deleted.")}function rV(t){return new It(Ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tu(t,e){return new It(Ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new It(Ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw JM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(W){W.path_=decodeURIComponent(W.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),k={bucket:1,path:3},A=n===NC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",D=new RegExp(`^https?://${A}/${s}/${T}`,"i"),F=[{regex:u,indices:d,postModify:o},{regex:S,indices:k,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let W=0;W<F.length;W++){const H=F[W],U=H.regex.exec(e);if(U){const I=U[H.indices.bucket];let R=U[H.indices.path];R||(R=""),r=new yr(I,R),H.postModify(r);break}}if(r==null)throw XM(e);return r}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let p=!1;function g(...T){p||(p=!0,e.apply(null,T))}function v(T){s=setTimeout(()=>{s=null,t(S,d())},T)}function w(){o&&clearTimeout(o)}function S(T,...D){if(p){w();return}if(T){w(),g.call(null,T,...D);return}if(d()||l){w(),g.call(null,T,...D);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let k=!1;function A(T){k||(k=!0,w(),!p&&(s!==null?(T||(u=2),clearTimeout(s),v(0)):T||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},n),A}function oV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return t!==void 0}function lV(t){return typeof t=="object"&&!Array.isArray(t)}function X0(t){return typeof t=="string"||t instanceof String}function a_(t){return J0()&&t instanceof Blob}function J0(){return typeof Blob<"u"}function l_(t,e,n,r){if(r<e)throw ry(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ry(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var oa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oa||(oa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,s,o,l,u,d,p,g,v,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,A)=>{this.resolve_=k,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===oa.NO_ERROR,d=o.getStatus();if(!u||cV(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===oa.ABORT;r(!1,new gh(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new gh(p,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());aV(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=Y0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?DC():YM();l(d)}else{const d=QM();l(d)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=iV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mV(t,e,n,r,s,o,l=!0,u=!1){const d=LC(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return fV(g,e),dV(g,n),hV(g,o),pV(g,r),new uV(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yV(...t){const e=gV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(J0())return new Blob(t);throw new It(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){if(typeof atob>"u")throw nV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ng{constructor(e,n){this.data=e,this.contentType=n||null}}function xV(t,e){switch(t){case ks.RAW:return new ng(MC(e));case ks.BASE64:case ks.BASE64URL:return new ng(VC(t,e));case ks.DATA_URL:return new ng(_V(e),EV(e))}throw Y0()}function MC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bV(t){let e;try{e=decodeURIComponent(t)}catch{throw tu(ks.DATA_URL,"Malformed data URL.")}return MC(e)}function VC(t,e){switch(t){case ks.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw tu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw tu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wV(e)}catch(s){throw s.message.includes("polyfill")?s:tu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class OC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tu(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=SV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _V(t){const e=new OC(t);return e.base64?VC(ks.BASE64,e.rest):bV(e.rest)}function EV(t){return new OC(t).contentType}function SV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,s="";a_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(a_(this.data_)){const r=this.data_,s=vV(r,e,n);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(J0()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(yV.apply(null,n))}else{const n=e.map(l=>X0(l)?xV(ks.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[o++]=l[u]}),new Ji(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){let e;try{e=JSON.parse(t)}catch{return null}return lV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function UC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e){return e}class Un{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||IV}}let yh=null;function RV(t){return!X0(t)||t.length<2?t:UC(t)}function BC(){if(yh)return yh;const t=[];t.push(new Un("bucket")),t.push(new Un("generation")),t.push(new Un("metageneration")),t.push(new Un("name","fullPath",!0));function e(o,l){return RV(l)}const n=new Un("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new Un("size");return s.xform=r,t.push(s),t.push(new Un("timeCreated")),t.push(new Un("updated")),t.push(new Un("md5Hash",null,!0)),t.push(new Un("cacheControl",null,!0)),t.push(new Un("contentDisposition",null,!0)),t.push(new Un("contentEncoding",null,!0)),t.push(new Un("contentLanguage",null,!0)),t.push(new Un("contentType",null,!0)),t.push(new Un("metadata","customMetadata",!0)),yh=t,yh}function AV(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new yr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function kV(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return AV(r,t),r}function zC(t,e,n){const r=FC(e);return r===null?null:kV(t,r,n)}function PV(t,e,n,r){const s=FC(e);if(s===null||!X0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const g=t.bucket,v=t.fullPath,w="/b/"+l(g)+"/o/"+l(v),S=Z0(w,n,r),k=LC({alt:"media",token:p});return S+k})[0]}function NV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class $C{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){if(!t)throw Y0()}function jV(t,e){function n(r,s){const o=zC(t,s,e);return WC(o!==null),o}return n}function DV(t,e){function n(r,s){const o=zC(t,s,e);return WC(o!==null),PV(o,s,t.host,t._protocol)}return n}function qC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=GM():s=HM():n.getStatus()===402?s=qM(t.bucket):n.getStatus()===403?s=KM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function LV(t){const e=qC(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=WM(t.path)),o.serverResponse=s.serverResponse,o}return n}function MV(t,e,n){const r=e.fullServerUrl(),s=Z0(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new $C(s,o,DV(t,n),l);return u.errorHandler=LV(e),u}function VV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=VV(null,e)),r}function FV(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let W=0;W<2;W++)F=F+Math.random().toString().slice(2);return F}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const p=OV(e,r,s),g=NV(p,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",S=Ji.getBlob(v,r,w);if(S===null)throw eV();const k={name:p.fullPath},A=Z0(o,t.host,t._protocol),T="POST",D=t.maxUploadRetryTime,j=new $C(A,T,jV(t,n),D);return j.urlParams=k,j.headers=l,j.body=S.uploadData(),j.errorHandler=qC(e),j}class UV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Vc("cannot .send() more than once");if(mo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BV extends UV{initXhr(){this.xhr_.responseType="text"}}function HC(){return new BV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UC(this._location.path)}get storage(){return this._service}get parent(){const e=TV(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rV(e)}}function zV(t,e,n){t._throwIfRoot("uploadBytes");const r=FV(t.storage,t._location,BC(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,HC).then(s=>({metadata:s,ref:t}))}function $V(t){t._throwIfRoot("getDownloadURL");const e=MV(t.storage,t._location,BC());return t.storage.makeRequestWithTokens(e,HC).then(n=>{if(n===null)throw tV();return n})}function WV(t,e){const n=CV(t._location.path,e),r=new yr(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return/^[A-Za-z]+:\/\//.test(t)}function HV(t,e){return new ma(t,e)}function GC(t,e){if(t instanceof ev){const n=t;if(n._bucket==null)throw ZM();const r=new ma(n,n._bucket);return e!=null?GC(r,e):r}else return e!==void 0?WV(t,e):t}function GV(t,e){if(e&&qV(e)){if(t instanceof ev)return HV(t,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}else return GC(t,e)}function c_(t,e){const n=e?.[jC];return n==null?null:yr.makeFromBucketSpec(n,t)}function KV(t,e,n,r={}){t.host=`${e}:${n}`;const s=mo(e);s&&(zy(`https://${t.host}/b`),$y("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:V2(o,t.app.options.projectId))}class ev{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=NC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zM,this._maxUploadRetryTime=$M,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=c_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=c_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new sV(DC());{const l=mV(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const u_="@firebase/storage",d_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="storage";function QV(t,e,n){return t=rt(t),zV(t,e,n)}function YV(t){return t=rt(t),$V(t)}function XV(t,e){return t=rt(t),GV(t,e)}function JV(t=Rf(),e){t=rt(t);const r=go(t,KC).getImmediate({identifier:e}),s=D2("storage");return s&&ZV(r,...s),r}function ZV(t,e,n,r={}){KV(t,e,n,r)}function eO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ev(n,r,s,e,va)}function tO(){es(new jr(KC,eO,"PUBLIC").setMultipleInstances(!0)),nr(u_,d_,""),nr(u_,d_,"esm2020")}tO();const nO={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},tp=W2(nO);o4(tp);const Fe=b6(tp),be=_M(tp),rO=JV(tp),QC=new ri,tv=x.createContext({});function nv(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const rv=typeof window<"u",YC=rv?x.useLayoutEffect:x.useEffect,np=x.createContext(null);function sv(t,e){t.indexOf(e)===-1&&t.push(e)}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pi=(t,e,n)=>n>e?e:n<t?t:n;let ov=()=>{};const mi={},XC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JC(t){return typeof t=="object"&&t!==null}const ZC=t=>/^0[^.\s]+$/u.test(t);function av(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nr=t=>t,sO=(t,e)=>n=>e(t(n)),Qu=(...t)=>t.reduce(sO),_u=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lv{constructor(){this.subscriptions=[]}add(e){return sv(this.subscriptions,e),()=>iv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,Pr=t=>t/1e3;function eI(t,e){return e?t*(1e3/e):0}const tI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iO=1e-7,oO=12;function aO(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=tI(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>iO&&++u<oO);return l}function Yu(t,e,n,r){if(t===e&&n===r)return Nr;const s=o=>aO(o,0,1,t,n);return o=>o===0||o===1?o:tI(s(o),e,r)}const nI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rI=t=>e=>1-t(1-e),sI=Yu(.33,1.53,.69,.99),cv=rI(sI),iI=nI(cv),oI=t=>(t*=2)<1?.5*cv(t):.5*(2-Math.pow(2,-10*(t-1))),uv=t=>1-Math.sin(Math.acos(t)),aI=rI(uv),lI=nI(uv),lO=Yu(.42,0,1,1),cO=Yu(0,0,.58,1),cI=Yu(.42,0,.58,1),uO=t=>Array.isArray(t)&&typeof t[0]!="number",uI=t=>Array.isArray(t)&&typeof t[0]=="number",dO={linear:Nr,easeIn:lO,easeInOut:cI,easeOut:cO,circIn:uv,circInOut:lI,circOut:aI,backIn:cv,backInOut:iI,backOut:sI,anticipate:oI},hO=t=>typeof t=="string",h_=t=>{if(uI(t)){ov(t.length===4);const[e,n,r,s]=t;return Yu(e,n,r,s)}else if(hO(t))return dO[t];return t},vh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fO(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(p.schedule(g),t()),g(u)}const p={schedule:(g,v=!1,w=!1)=>{const k=w&&s?n:r;return v&&l.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,p.process(g))}};return p}const pO=40;function dI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=vh.reduce((F,W)=>(F[W]=fO(o),F),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:S,postRender:k}=l,A=()=>{const F=mi.useManualTiming?s.timestamp:performance.now();n=!1,mi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,pO),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),d.process(s),p.process(s),g.process(s),v.process(s),w.process(s),S.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},T=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:vh.reduce((F,W)=>{const H=l[W];return F[W]=(U,I=!1,R=!1)=>(n||T(),H.schedule(U,I,R)),F},{}),cancel:F=>{for(let W=0;W<vh.length;W++)l[vh[W]].cancel(F)},state:s,steps:l}}const{schedule:mt,cancel:fo,state:pn,steps:rg}=dI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nr,!0);let Oh;function mO(){Oh=void 0}const tr={now:()=>(Oh===void 0&&tr.set(pn.isProcessing||mi.useManualTiming?pn.timestamp:performance.now()),Oh),set:t=>{Oh=t,queueMicrotask(mO)}},hI=t=>e=>typeof e=="string"&&e.startsWith(t),dv=hI("--"),gO=hI("var(--"),hv=t=>gO(t)?yO.test(t.split("/*")[0].trim()):!1,yO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eu={...zl,transform:t=>pi(0,1,t)},wh={...zl,default:1},nu=t=>Math.round(t*1e5)/1e5,fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vO(t){return t==null}const wO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pv=(t,e)=>n=>!!(typeof n=="string"&&wO.test(n)&&n.startsWith(t)||e&&!vO(n)&&Object.prototype.hasOwnProperty.call(n,e)),fI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(fv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},xO=t=>pi(0,255,t),sg={...zl,transform:t=>Math.round(xO(t))},ra={test:pv("rgb","red"),parse:fI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sg.transform(t)+", "+sg.transform(e)+", "+sg.transform(n)+", "+nu(Eu.transform(r))+")"};function bO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sy={test:pv("#"),parse:bO,transform:ra.transform},Xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=Xu("deg"),Ms=Xu("%"),ke=Xu("px"),_O=Xu("vh"),EO=Xu("vw"),f_={...Ms,parse:t=>Ms.parse(t)/100,transform:t=>Ms.transform(t*100)},il={test:pv("hsl","hue"),parse:fI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ms.transform(nu(e))+", "+Ms.transform(nu(n))+", "+nu(Eu.transform(r))+")"},Ft={test:t=>ra.test(t)||sy.test(t)||il.test(t),parse:t=>ra.test(t)?ra.parse(t):il.test(t)?il.parse(t):sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ra.transform(t):il.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},SO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TO(t){return isNaN(t)&&typeof t=="string"&&(t.match(fv)?.length||0)+(t.match(SO)?.length||0)>0}const pI="number",mI="color",CO="var",IO="var(",p_="${}",RO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(RO,d=>(Ft.test(d)?(r.color.push(o),s.push(mI),n.push(Ft.parse(d))):d.startsWith(IO)?(r.var.push(o),s.push(CO),n.push(d)):(r.number.push(o),s.push(pI),n.push(parseFloat(d))),++o,p_)).split(p_);return{values:n,split:u,indexes:r,types:s}}function gI(t){return Su(t).values}function yI(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===pI?o+=nu(s[l]):u===mI?o+=Ft.transform(s[l]):o+=s[l]}return o}}const AO=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function kO(t){const e=gI(t);return yI(t)(e.map(AO))}const po={test:TO,parse:gI,createTransformer:yI,getAnimatableNone:kO};function ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=ig(d,u,t+1/3),o=ig(d,u,t),l=ig(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function pf(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,og=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},NO=[sy,ra,il],jO=t=>NO.find(e=>e.test(t));function m_(t){const e=jO(t);if(!e)return!1;let n=e.parse(t);return e===il&&(n=PO(n)),n}const g_=(t,e)=>{const n=m_(t),r=m_(e);if(!n||!r)return pf(t,e);const s={...n};return o=>(s.red=og(n.red,r.red,o),s.green=og(n.green,r.green,o),s.blue=og(n.blue,r.blue,o),s.alpha=xt(n.alpha,r.alpha,o),ra.transform(s))},iy=new Set(["none","hidden"]);function DO(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function LO(t,e){return n=>xt(t,e,n)}function mv(t){return typeof t=="number"?LO:typeof t=="string"?hv(t)?pf:Ft.test(t)?g_:OO:Array.isArray(t)?vI:typeof t=="object"?Ft.test(t)?g_:MO:pf}function vI(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>mv(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function MO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=mv(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function VO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const OO=(t,e)=>{const n=po.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?iy.has(t)&&!s.values.length||iy.has(e)&&!r.values.length?DO(t,e):Qu(vI(VO(r,s),s.values),n):pf(t,e)};function wI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):mv(t)(t,e)}const FO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>fo(e),now:()=>pn.isProcessing?pn.timestamp:tr.now()}},xI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mf=2e4;function gv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mf;)e+=n,r=t.next(e);return e>=mf?1/0:e}function UO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(gv(r),mf);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Pr(s)}}const BO=5;function bI(t,e,n){const r=Math.max(e-BO,0);return eI(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ag=.001;function zO({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let s,o,l=1-e;l=pi(Tt.minDamping,Tt.maxDamping,l),t=pi(Tt.minDuration,Tt.maxDuration,Pr(t)),l<1?(s=p=>{const g=p*l,v=g*t,w=g-n,S=oy(p,l),k=Math.exp(-v);return ag-w/S*k},o=p=>{const v=p*l*t,w=v*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-v),A=oy(Math.pow(p,2),l);return(-s(p)+ag>0?-1:1)*((w-S)*k)/A}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-ag+g*v},o=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const u=5/t,d=WO(s,o,u);if(t=Ls(t),isNaN(d))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const $O=12;function WO(t,e,n){let r=n;for(let s=1;s<$O;s++)r=r-t(r)/e(r);return r}function oy(t,e){return t*Math.sqrt(1-e*e)}const qO=["duration","bounce"],HO=["stiffness","damping","mass"];function y_(t,e){return e.some(n=>t[n]!==void 0)}function GO(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!y_(t,HO)&&y_(t,qO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Tt.mass,stiffness:s,damping:o}}else{const n=zO(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function gf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:S}=GO({...n,velocity:-Pr(n.velocity||0)}),k=w||0,A=p/(2*Math.sqrt(d*g)),T=l-o,D=Pr(Math.sqrt(d/g)),j=Math.abs(T)<5;r||(r=j?Tt.restSpeed.granular:Tt.restSpeed.default),s||(s=j?Tt.restDelta.granular:Tt.restDelta.default);let F;if(A<1){const H=oy(D,A);F=U=>{const I=Math.exp(-A*D*U);return l-I*((k+A*D*T)/H*Math.sin(H*U)+T*Math.cos(H*U))}}else if(A===1)F=H=>l-Math.exp(-D*H)*(T+(k+D*T)*H);else{const H=D*Math.sqrt(A*A-1);F=U=>{const I=Math.exp(-A*D*U),R=Math.min(H*U,300);return l-I*((k+A*D*T)*Math.sinh(R)+H*T*Math.cosh(R))/H}}const W={calculatedDuration:S&&v||null,next:H=>{const U=F(H);if(S)u.done=H>=v;else{let I=H===0?k:0;A<1&&(I=H===0?Ls(k):bI(F,H,U));const R=Math.abs(I)<=r,N=Math.abs(l-U)<=s;u.done=R&&N}return u.value=u.done?l:U,u},toString:()=>{const H=Math.min(gv(W),mf),U=xI(I=>W.next(H*I).value,H,30);return H+"ms "+U},toTransition:()=>{}};return W}gf.applyToOptions=t=>{const e=UO(t,100,gf);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function ay({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},S=R=>u!==void 0&&R<u||d!==void 0&&R>d,k=R=>u===void 0?d:d===void 0||Math.abs(u-R)<Math.abs(d-R)?u:d;let A=n*e;const T=v+A,D=l===void 0?T:l(T);D!==T&&(A=D-v);const j=R=>-A*Math.exp(-R/r),F=R=>D+j(R),W=R=>{const N=j(R),M=F(R);w.done=Math.abs(N)<=p,w.value=w.done?D:M};let H,U;const I=R=>{S(w.value)&&(H=R,U=gf({keyframes:[w.value,k(w.value)],velocity:bI(F,R,w.value),damping:s,stiffness:o,restDelta:p,restSpeed:g}))};return I(0),{calculatedDuration:null,next:R=>{let N=!1;return!U&&H===void 0&&(N=!0,W(R),I(R)),H!==void 0&&R>=H?U.next(R-H):(!N&&W(R),w)}}}function KO(t,e,n){const r=[],s=n||mi.mix||wI,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Nr:e;u=Qu(d,u)}r.push(u)}return r}function QO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(ov(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=KO(e,r,s),d=u.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=_u(t[v],t[v+1],g);return u[v](w)};return n?g=>p(pi(t[0],t[o-1],g)):p}function YO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=_u(0,e,r);t.push(xt(n,1,s))}}function XO(t){const e=[0];return YO(e,t.length-1),e}function JO(t,e){return t.map(n=>n*e)}function ZO(t,e){return t.map(()=>e||cI).splice(0,t.length-1)}function ru({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uO(r)?r.map(h_):h_(r),o={done:!1,value:e[0]},l=JO(n&&n.length===e.length?n:XO(e),t),u=QO(l,e,{ease:Array.isArray(s)?s:ZO(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const eF=t=>t!==null;function yv(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(eF),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const tF={decay:ay,inertia:ay,tween:ru,keyframes:ru,spring:gf};function _I(t){typeof t.type=="string"&&(t.type=tF[t.type])}class vv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nF=t=>t/100;class wv extends vv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==tr.now()&&this.tick(tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_I(e);const{type:n=ru,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||ru;d!==ru&&typeof u[0]!="number"&&(this.mixKeyframes=Qu(nF,wI(u[0],u[1])),u=[0,100]);const p=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=gv(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:S,type:k,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,W=r;if(v){const R=Math.min(this.currentTime,s)/u;let N=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(w==="reverse"?(M=1-M,S&&(M-=S/u)):w==="mirror"&&(W=l)),F=pi(0,1,M)*u}const H=j?{done:!1,value:g[0]}:W.next(F);o&&(H.value=o(H.value));let{done:U}=H;!j&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return I&&k!==ay&&(H.value=yv(g,this.options,T,this.speed)),A&&A(H.value),I&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=FO,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const sa=t=>t*180/Math.PI,ly=t=>{const e=sa(Math.atan2(t[1],t[0]));return cy(e)},sF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ly,rotateZ:ly,skewX:t=>sa(Math.atan(t[1])),skewY:t=>sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cy=t=>(t=t%360,t<0&&(t+=360),t),v_=ly,w_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),x_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w_,scaleY:x_,scale:t=>(w_(t)+x_(t))/2,rotateX:t=>cy(sa(Math.atan2(t[6],t[5]))),rotateY:t=>cy(sa(Math.atan2(-t[2],t[0]))),rotateZ:v_,rotate:v_,skewX:t=>sa(Math.atan(t[4])),skewY:t=>sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function uy(t){return t.includes("scale")?1:0}function dy(t,e){if(!t||t==="none")return uy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iF,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sF,s=u}if(!s)return uy(e);const o=r[e],l=s[1].split(",").map(aF);return typeof o=="function"?o(l):l[o]}const oF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dy(n,e)};function aF(t){return parseFloat(t.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set($l),b_=t=>t===zl||t===ke,lF=new Set(["x","y","z"]),cF=$l.filter(t=>!lF.has(t));function uF(t){const e=[];return cF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dy(e,"x"),y:(t,{transform:e})=>dy(e,"y")};aa.translateX=aa.x;aa.translateY=aa.y;const la=new Set;let hy=!1,fy=!1,py=!1;function EI(){if(fy){const t=Array.from(la).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=uF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fy=!1,hy=!1,la.forEach(t=>t.complete(py)),la.clear()}function SI(){la.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fy=!0)})}function dF(){py=!0,SI(),EI(),py=!1}class xv{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(la.add(this),hy||(hy=!0,mt.read(SI),mt.resolveKeyframes(EI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}rF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),la.delete(this)}cancel(){this.state==="scheduled"&&(la.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hF=t=>t.startsWith("--");function fF(t,e,n){hF(e)?t.style.setProperty(e,n):t.style[e]=n}const pF=av(()=>window.ScrollTimeline!==void 0),mF={};function gF(t,e){const n=av(t);return()=>mF[e]??n()}const TI=gF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,__={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function CI(t,e){if(t)return typeof t=="function"?TI()?xI(t,e):"ease-out":uI(t)?Gc(t):Array.isArray(t)?t.map(n=>CI(n,e)||__.easeOut):__[t]}function yF(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const v=CI(u,s);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function II(t){return typeof t=="function"&&"applyToOptions"in t}function vF({type:t,...e}){return II(t)&&TI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wF extends vv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ov(typeof e.type!="string");const p=vF(e);this.animation=yF(n,r,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=yv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):fF(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&pF()?(this.animation.timeline=e,Nr):n(this)}}const RI={anticipate:oI,backInOut:iI,circInOut:lI};function xF(t){return t in RI}function bF(t){typeof t.ease=="string"&&xF(t.ease)&&(t.ease=RI[t.ease])}const E_=10;class _F extends wF{constructor(e){bF(e),_I(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new wv({...l,autoplay:!1}),d=Ls(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-E_).value,u.sample(d).value,E_),u.stop()}}const S_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(po.test(t)||t==="0")&&!t.startsWith("url("));function EF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=S_(s,e),u=S_(o,e);return!l||!u?!1:EF(t)||(n==="spring"||II(n))&&r}function my(t){t.duration=0,t.type="keyframes"}const TF=new Set(["opacity","clipPath","filter","transform"]),CF=av(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return CF()&&n&&TF.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const RF=40;class AF extends vv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tr.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:p,element:g,...v},S=g?.KeyframeResolver||xv;this.keyframeResolver=new S(u,(k,A,T)=>this.onKeyframesResolved(k,A,w,!T),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=tr.now(),SF(e,o,l,u)||((mi.instantAnimations||!d)&&g?.(yv(e,r,n)),e[0]=e[e.length-1],my(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>RF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&IF(w)?new _F({...w,element:w.motionValue.owner.current}):new wv(w);S.finished.then(()=>this.notifyFinished()).catch(Nr),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const kF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PF(t){const e=kF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function AI(t,e,n=1){const[r,s]=PF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return XC(l)?parseFloat(l):l}return hv(s)?AI(s,e,n+1):s}function bv(t,e){return t?.[e]??t?.default??t}const kI=new Set(["width","height","top","left","right","bottom",...$l]),NF={test:t=>t==="auto",parse:t=>t},PI=t=>e=>e.test(t),NI=[zl,ke,Ms,Hi,EO,_O,NF],T_=t=>NI.find(PI(t));function jF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZC(t):!0}const DF=new Set(["brightness","contrast","saturate","opacity"]);function LF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fv)||[];if(!r)return t;const s=n.replace(r,"");let o=DF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const MF=/\b([a-z-]*)\(.*?\)/gu,gy={...po,getAnimatableNone:t=>{const e=t.match(MF);return e?e.map(LF).join(" "):t}},C_={...zl,transform:Math.round},VF={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:Hi,skewX:Hi,skewY:Hi,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Eu,originX:f_,originY:f_,originZ:ke},_v={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...VF,zIndex:C_,fillOpacity:Eu,strokeOpacity:Eu,numOctaves:C_},OF={..._v,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:gy,WebkitFilter:gy},jI=t=>OF[t];function DI(t,e){let n=jI(t);return n!==gy&&(n=po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FF=new Set(["auto","none","0"]);function UF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!FF.has(o)&&Su(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=DI(n,s)}class BF extends xv{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),hv(p))){const g=AI(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kI.has(r)||e.length!==2)return;const[s,o]=e,l=T_(s),u=T_(o);if(l!==u)if(b_(l)&&b_(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else aa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||jF(e[s]))&&r.push(s);r.length&&UF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=aa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function zF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const LI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function MI(t){return JC(t)&&"offsetHeight"in t}const I_=30,$F=t=>!isNaN(parseFloat(t));class WF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=tr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$F(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lv);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,I_);return eI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new WF(t,e)}const{schedule:Ev}=dI(queueMicrotask,!1),Yr={x:!1,y:!1};function VI(){return Yr.x||Yr.y}function qF(t){return t==="x"||t==="y"?Yr[t]?null:(Yr[t]=!0,()=>{Yr[t]=!1}):Yr.x||Yr.y?null:(Yr.x=Yr.y=!0,()=>{Yr.x=Yr.y=!1})}function OI(t,e){const n=zF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function R_(t){return!(t.pointerType==="touch"||VI())}function HF(t,e,n={}){const[r,s,o]=OI(t,n),l=u=>{if(!R_(u))return;const{target:d}=u,p=e(d,u);if(typeof p!="function"||!d)return;const g=v=>{R_(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const FI=(t,e)=>e?t===e?!0:FI(t,e.parentElement):!1,Sv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KF(t){return GF.has(t.tagName)||t.tabIndex!==-1}const Fh=new WeakSet;function A_(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=A_(()=>{if(Fh.has(n))return;lg(n,"down");const s=A_(()=>{lg(n,"up")}),o=()=>lg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function k_(t){return Sv(t)&&!VI()}function YF(t,e,n={}){const[r,s,o]=OI(t,n),l=u=>{const d=u.currentTarget;if(!k_(u))return;Fh.add(d);const p=e(d,u),g=(S,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Fh.has(d)&&Fh.delete(d),k_(S)&&typeof p=="function"&&p(S,{success:k})},v=S=>{g(S,d===window||d===document||n.useGlobalTarget||FI(d,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),MI(u)&&(u.addEventListener("focus",p=>QF(p,s)),!KF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function UI(t){return JC(t)&&"ownerSVGElement"in t}function XF(t){return UI(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),JF=[...NI,Ft,po],ZF=t=>JF.find(PI(t)),Tv=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function P_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function e7(...t){return e=>{let n=!1;const r=t.map(s=>{const o=P_(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():P_(t[s],null)}}}}function t7(...t){return x.useCallback(e7(...t),t)}class n7 extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=MI(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function r7({children:t,isPresent:e,anchorX:n,root:r}){const s=x.useId(),o=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Tv),d=t7(o,t?.ref);return x.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:w,right:S}=l.current;if(e||!o.current||!p||!g)return;const k=n==="left"?`left: ${w}`:`right: ${S}`;o.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const T=r??document.head;return T.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(A)&&T.removeChild(A)}},[e]),h.jsx(n7,{isPresent:e,childRef:o,sizeRef:l,children:x.cloneElement(t,{ref:d})})}const s7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const p=nv(i7),g=x.useId();let v=!0,w=x.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:S=>{p.set(S,!0);for(const k of p.values())if(!k)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return o&&v&&(w={...w}),x.useMemo(()=>{p.forEach((S,k)=>p.set(k,!1))},[n]),x.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(r7,{isPresent:n,anchorX:u,root:d,children:t})),h.jsx(np.Provider,{value:w,children:t})};function i7(){return new Map}function BI(t=!0){const e=x.useContext(np);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=x.useId();x.useEffect(()=>{if(t)return s(o)},[t]);const l=x.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const xh=t=>t.key||"";function N_(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Os=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[p,g]=BI(l),v=x.useMemo(()=>N_(t),[t]),w=l&&!p?[]:v.map(xh),S=x.useRef(!0),k=x.useRef(v),A=nv(()=>new Map),[T,D]=x.useState(v),[j,F]=x.useState(v);YC(()=>{S.current=!1,k.current=v;for(let U=0;U<j.length;U++){const I=xh(j[U]);w.includes(I)?A.delete(I):A.get(I)!==!0&&A.set(I,!1)}},[j,w.length,w.join("-")]);const W=[];if(v!==T){let U=[...v];for(let I=0;I<j.length;I++){const R=j[I],N=xh(R);w.includes(N)||(U.splice(I,0,R),W.push(R))}return o==="wait"&&W.length&&(U=W),F(N_(U)),D(v),null}const{forceRender:H}=x.useContext(tv);return h.jsx(h.Fragment,{children:j.map(U=>{const I=xh(U),R=l&&!p?!1:v===j||w.includes(I),N=()=>{if(A.has(I))A.set(I,!0);else return;let M=!0;A.forEach(V=>{V||(M=!1)}),M&&(H?.(),F(k.current),l&&g?.(),r&&r())};return h.jsx(s7,{isPresent:R,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:R?void 0:N,anchorX:u,children:U},I)})})},zI=x.createContext({strict:!1}),j_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in j_)Rl[t]={isEnabled:e=>j_[t].some(n=>!!e[n])};function o7(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const a7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a7.has(t)}let $I=t=>!yf(t);function l7(t){typeof t=="function"&&($I=e=>e.startsWith("on")?!yf(e):t(e))}try{l7(require("@emotion/is-prop-valid").default)}catch{}function c7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||($I(s)||n===!0&&yf(s)||!e&&!yf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const rp=x.createContext({});function sp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tu(t){return typeof t=="string"||Array.isArray(t)}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Cv];function ip(t){return sp(t.animate)||Iv.some(e=>Tu(t[e]))}function WI(t){return!!(ip(t)||t.variants)}function u7(t,e){if(ip(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function d7(t){const{initial:e,animate:n}=u7(t,x.useContext(rp));return x.useMemo(()=>({initial:e,animate:n}),[D_(e),D_(n)])}function D_(t){return Array.isArray(t)?t.join(" "):t}const Cu={};function h7(t){for(const e in t)Cu[e]=t[e],dv(e)&&(Cu[e].isCSSVariable=!0)}function qI(t,{layout:e,layoutId:n}){return Wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cu[t]||t==="opacity")}const f7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p7=$l.length;function m7(t,e,n){let r="",s=!0;for(let o=0;o<p7;o++){const l=$l[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const p=LI(u,_v[l]);if(!d){s=!1;const g=f7[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Rv(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const p=e[d];if(Wl.has(d)){l=!0;continue}else if(dv(d)){s[d]=p;continue}else{const g=LI(p,_v[d]);d.startsWith("origin")?(u=!0,o[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=m7(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:g=0}=o;r.transformOrigin=`${d} ${p} ${g}`}}const Av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HI(t,e,n){for(const r in e)!Pn(e[r])&&!qI(r,n)&&(t[r]=e[r])}function g7({transformTemplate:t},e){return x.useMemo(()=>{const n=Av();return Rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y7(t,e){const n=t.style||{},r={};return HI(r,n,t),Object.assign(r,g7(t,e)),r}function v7(t,e){const n={},r=y7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const w7={offset:"stroke-dashoffset",array:"stroke-dasharray"},x7={offset:"strokeDashoffset",array:"strokeDasharray"};function b7(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?w7:x7;t[o.offset]=ke.transform(-r);const l=ke.transform(e),u=ke.transform(n);t[o.array]=`${l} ${u}`}function GI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,p,g){if(Rv(t,u,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&b7(v,s,o,l,!1)}const KI=()=>({...Av(),attrs:{}}),QI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _7(t,e,n,r){const s=x.useMemo(()=>{const o=KI();return GI(o,e,QI(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};HI(o,t.style,t),s.style={...o,...s.style}}return s}const E7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kv(t){return typeof t!="string"||t.includes("-")?!1:!!(E7.indexOf(t)>-1||/[A-Z]/u.test(t))}function S7(t,e,n,{latestValues:r},s,o=!1){const u=(kv(t)?_7:v7)(e,r,s,t),d=c7(e,typeof t=="string",o),p=t!==x.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=x.useMemo(()=>Pn(g)?g.get():g,[g]);return x.createElement(t,{...p,children:v})}function L_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Pv(t,e,n,r){if(typeof e=="function"){const[s,o]=L_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=L_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Uh(t){return Pn(t)?t.get():t}function T7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:C7(n,r,s,t),renderState:e()}}function C7(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=Uh(o[w]);let{initial:l,animate:u}=t;const d=ip(t),p=WI(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!sp(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const k=Pv(t,w[S]);if(k){const{transitionEnd:A,transition:T,...D}=k;for(const j in D){let F=D[j];if(Array.isArray(F)){const W=g?F.length-1:0;F=F[W]}F!==null&&(s[j]=F)}for(const j in A)s[j]=A[j]}}}return s}const YI=t=>(e,n)=>{const r=x.useContext(rp),s=x.useContext(np),o=()=>T7(t,e,r,s);return n?o():nv(o)};function Nv(t,e,n){const{style:r}=t,s={};for(const o in r)(Pn(r[o])||e.style&&Pn(e.style[o])||qI(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const I7=YI({scrapeMotionValuesFromProps:Nv,createRenderState:Av});function XI(t,e,n){const r=Nv(t,e,n);for(const s in t)if(Pn(t[s])||Pn(e[s])){const o=$l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const R7=YI({scrapeMotionValuesFromProps:XI,createRenderState:KI}),A7=Symbol.for("motionComponentSymbol");function ol(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function k7(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ol(n)&&(n.current=r))},[e])}const jv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P7="framerAppearId",JI="data-"+jv(P7),ZI=x.createContext({});function N7(t,e,n,r,s){const{visualElement:o}=x.useContext(rp),l=x.useContext(zI),u=x.useContext(np),d=x.useContext(Tv).reducedMotion,p=x.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,v=x.useContext(ZI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&j7(p.current,n,s,v);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const S=n[JI],k=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return YC(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),k.current=!1),g.enteringChildren=void 0)}),g}function j7(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eR(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&ol(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function eR(t){if(t)return t.options.allowProjection!==!1?t.projection:eR(t.parent)}function cg(t,{forwardMotionProps:e=!1}={},n,r){n&&o7(n);const s=kv(t)?R7:I7;function o(u,d){let p;const g={...x.useContext(Tv),...u,layoutId:D7(u)},{isStatic:v}=g,w=d7(u),S=s(u,v);if(!v&&rv){L7();const k=M7(g);p=k.MeasureLayout,w.visualElement=N7(t,S,g,r,k.ProjectionNode)}return h.jsxs(rp.Provider,{value:w,children:[p&&w.visualElement?h.jsx(p,{visualElement:w.visualElement,...g}):null,S7(t,u,k7(S,w.visualElement,d),S,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(o);return l[A7]=t,l}function D7({layoutId:t}){const e=x.useContext(tv).id;return e&&t!==void 0?e+"-"+t:t}function L7(t,e){x.useContext(zI).strict}function M7(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V7(t,e){if(typeof Proxy>"u")return cg;const n=new Map,r=(o,l)=>cg(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,cg(l,void 0,t,e)),n.get(l))})}function tR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function O7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ug(t){return t===void 0||t===1}function yy({scale:t,scaleX:e,scaleY:n}){return!ug(t)||!ug(e)||!ug(n)}function Zo(t){return yy(t)||nR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nR(t){return M_(t.x)||M_(t.y)}function M_(t){return t&&t!=="0%"}function vf(t,e,n){const r=t-n,s=e*r;return n+s}function V_(t,e,n,r,s){return s!==void 0&&(t=vf(t,s,r)),vf(t,n,r)+e}function vy(t,e=0,n=1,r,s){t.min=V_(t.min,e,n,r,s),t.max=V_(t.max,e,n,r,s)}function rR(t,{x:e,y:n}){vy(t.x,e.translate,e.scale,e.originPoint),vy(t.y,n.translate,n.scale,n.originPoint)}const O_=.999999999999,F_=1.0000000000001;function U7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ll(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,rR(t,l)),r&&Zo(o.latestValues)&&ll(t,o.latestValues))}e.x<F_&&e.x>O_&&(e.x=1),e.y<F_&&e.y>O_&&(e.y=1)}function al(t,e){t.min=t.min+e,t.max=t.max+e}function U_(t,e,n,r,s=.5){const o=xt(t.min,t.max,s);vy(t,e,n,o,r)}function ll(t,e){U_(t.x,e.x,e.scaleX,e.scale,e.originX),U_(t.y,e.y,e.scaleY,e.scale,e.originY)}function sR(t,e){return tR(F7(t.getBoundingClientRect(),e))}function B7(t,e,n){const r=sR(t,n),{scroll:s}=e;return s&&(al(r.x,s.offset.x),al(r.y,s.offset.y)),r}const B_=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:B_(),y:B_()}),z_=()=>({min:0,max:0}),Nt=()=>({x:z_(),y:z_()}),wy={current:null},iR={current:!1};function z7(){if(iR.current=!0,!!rv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wy.current=t.matches;t.addEventListener("change",e),e()}else wy.current=!1}const $7=new WeakMap;function W7(t,e,n){for(const r in e){const s=e[r],o=n[r];if(Pn(s))t.addValue(r,s);else if(Pn(o))t.addValue(r,Il(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Il(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=tr.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,mt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=ip(n),this.isVariantNode=WI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];d[w]!==void 0&&Pn(S)&&S.set(d[w])}}mount(e){this.current=e,$7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iR.current||z7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fo(this.notifyUpdate),fo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$_.length;r++){const s=$_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=W7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Il(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(XC(r)||ZC(r))?r=parseFloat(r):!ZF(r)&&po.test(n)&&(r=DI(e,n)),this.setBaseTarget(e,Pn(r)?r.get():r)),Pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Pv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ev.render(this.render)}}class oR extends q7{constructor(){super(...arguments),this.KeyframeResolver=BF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aR(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function H7(t){return window.getComputedStyle(t)}class G7 extends oR{constructor(){super(...arguments),this.type="html",this.renderInstance=aR}readValueFromInstance(e,n){if(Wl.has(n))return this.projection?.isProjecting?uy(n):oF(e,n);{const r=H7(e),s=(dv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sR(e,n)}build(e,n,r){Rv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Nv(e,n,r)}}const lR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K7(t,e,n,r){aR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(lR.has(s)?s:jv(s),e.attrs[s])}class Q7 extends oR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wl.has(n)){const r=jI(n);return r&&r.default||0}return n=lR.has(n)?n:jv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return XI(e,n,r)}build(e,n,r){GI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){K7(e,n,r,s)}mount(e){this.isSVGTag=QI(e.tagName),super.mount(e)}}const Y7=(t,e)=>kv(t)?new Q7(e):new G7(e,{allowProjection:t!==x.Fragment});function ml(t,e,n){const r=t.getProps();return Pv(r,e,n!==void 0?n:r.custom,t)}const xy=t=>Array.isArray(t);function X7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function J7(t){return xy(t)?t[t.length-1]||0:t}function Z7(t,e){const n=ml(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=J7(o[l]);X7(t,l,u)}}function e9(t){return!!(Pn(t)&&t.add)}function by(t,e){const n=t.getValue("willChange");if(e9(n))return n.add(e);if(!n&&mi.WillChange){const r=new mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cR(t){return t.props[JI]}const t9=t=>t!==null;function n9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(t9),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const r9={type:"spring",stiffness:500,damping:25,restSpeed:10},s9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i9={type:"keyframes",duration:.8},o9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a9=(t,{keyframes:e})=>e.length>2?i9:Wl.has(t)?t.startsWith("scale")?s9(e[1]):r9:o9;function l9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Dv=(t,e,n,r={},s,o)=>l=>{const u=bv(r,t)||{},d=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ls(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};l9(u)||Object.assign(g,a9(t,g)),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(my(g),g.delay===0&&(v=!0)),(mi.instantAnimations||mi.skipAnimations)&&(v=!0,my(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const w=n9(g.keyframes,u);if(w!==void 0){mt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new wv(g):new AF(g)};function c9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),w=u[g];if(w===void 0||p&&c9(p,g))continue;const S={delay:n,...bv(o||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const D=cR(t);if(D){const j=window.MotionHandoffAnimation(D,g,mt);j!==null&&(S.startTime=j,A=!0)}}by(t,g),v.start(Dv(g,v,w,t.shouldReduceMotion&&kI.has(g)?{type:!1}:S,t,A));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{mt.update(()=>{l&&Z7(t,l)})}),d}function dR(t,e,n,r=0,s=1){const o=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:u-o*r}function _y(t,e,n={}){const r=ml(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(uR(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return u9(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,p]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function u9(t,e,n=0,r=0,s=0,o=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(_y(d,e,{...l,delay:n+(typeof r=="function"?0:r)+dR(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function d9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>_y(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=_y(t,e,n);else{const s=typeof e=="function"?ml(t,e,n.custom):e;r=Promise.all(uR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function hR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const h9=Iv.length;function fR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<h9;n++){const r=Iv[n],s=t.props[r];(Tu(s)||s===!1)&&(e[r]=s)}return e}const f9=[...Cv].reverse(),p9=Cv.length;function m9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>d9(t,n,r)))}function g9(t){let e=m9(t),n=W_(),r=!0;const s=d=>(p,g)=>{const v=ml(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...k}=v;p={...p,...k,...S}}return p};function o(d){e=d(t)}function l(d){const{props:p}=t,g=fR(t.parent)||{},v=[],w=new Set;let S={},k=1/0;for(let T=0;T<p9;T++){const D=f9[T],j=n[D],F=p[D]!==void 0?p[D]:g[D],W=Tu(F),H=D===d?j.isActive:null;H===!1&&(k=T);let U=F===g[D]&&F!==p[D]&&W;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),j.protectedKeys={...S},!j.isActive&&H===null||!F&&!j.prevProp||sp(F)||typeof F=="boolean")continue;const I=y9(j.prevProp,F);let R=I||D===d&&j.isActive&&!U&&W||T>k&&W,N=!1;const M=Array.isArray(F)?F:[F];let V=M.reduce(s(D),{});H===!1&&(V={});const{prevResolvedValues:$={}}=j,L={...$,...V},ee=he=>{R=!0,w.has(he)&&(N=!0,w.delete(he)),j.needsAnimating[he]=!0;const ne=t.getValue(he);ne&&(ne.liveStyle=!1)};for(const he in L){const ne=V[he],ce=$[he];if(S.hasOwnProperty(he))continue;let le=!1;xy(ne)&&xy(ce)?le=!hR(ne,ce):le=ne!==ce,le?ne!=null?ee(he):w.add(he):ne!==void 0&&w.has(he)?ee(he):j.protectedKeys[he]=!0}j.prevProp=F,j.prevResolvedValues=V,j.isActive&&(S={...S,...V}),r&&t.blockInitialAnimation&&(R=!1);const _e=U&&I;R&&(!_e||N)&&v.push(...M.map(he=>{const ne={type:D};if(typeof he=="string"&&r&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,le=ml(ce,he);if(ce.enteringChildren&&le){const{delayChildren:q}=le.transition||{};ne.delay=dR(ce.enteringChildren,t,q)}}return{animation:he,options:ne}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const D=ml(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(T.transition=D.transition)}w.forEach(D=>{const j=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),T[D]=j??null}),v.push({animation:T})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=W_()}}}function y9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hR(e,t):!1}function Xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:Xo(!0),whileInView:Xo(),whileHover:Xo(),whileTap:Xo(),whileDrag:Xo(),whileFocus:Xo(),exit:Xo()}}class Eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class v9 extends Eo{constructor(e){super(e),e.animationState||(e.animationState=g9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let w9=0;class x9 extends Eo{constructor(){super(...arguments),this.id=w9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const b9={animation:{Feature:v9},exit:{Feature:x9}};function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ju(t){return{point:{x:t.pageX,y:t.pageY}}}const _9=t=>e=>Sv(e)&&t(e,Ju(e));function su(t,e,n,r){return Iu(t,e,_9(n),r)}const pR=1e-4,E9=1-pR,S9=1+pR,mR=.01,T9=0-mR,C9=0+mR;function $n(t){return t.max-t.min}function I9(t,e,n){return Math.abs(t-e)<=n}function q_(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=E9&&t.scale<=S9||isNaN(t.scale))&&(t.scale=1),(t.translate>=T9&&t.translate<=C9||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,r){q_(t.x,e.x,n.x,r?r.originX:void 0),q_(t.y,e.y,n.y,r?r.originY:void 0)}function H_(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function R9(t,e,n){H_(t.x,e.x,n.x),H_(t.y,e.y,n.y)}function G_(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function ou(t,e,n){G_(t.x,e.x,n.x),G_(t.y,e.y,n.y)}function Ar(t){return[t("x"),t("y")]}const gR=({current:t})=>t?t.ownerDocument.defaultView:null,K_=(t,e)=>Math.abs(t-e);function A9(t,e){const n=K_(t.x,e.x),r=K_(t.y,e.y);return Math.sqrt(n**2+r**2)}class yR{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=hg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,k=A9(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!k)return;const{point:A}=w,{timestamp:T}=pn;this.history.push({...A,timestamp:T});const{onStart:D,onMove:j}=this.handlers;S||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=dg(S,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:k,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=hg(w.type==="pointercancel"?this.lastMoveEventInfo:dg(S,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,D),A&&A(w,D)},!Sv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Ju(e),d=dg(u,this.transformPagePoint),{point:p}=d,{timestamp:g}=pn;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,hg(d,this.history)),this.removeListeners=Qu(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fo(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Q_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:Q_(t,vR(e)),offset:Q_(t,k9(e)),velocity:P9(e,.1)}}function k9(t){return t[0]}function vR(t){return t[t.length-1]}function P9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=vR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const o=Pr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function N9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function Y_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j9(t,{top:e,left:n,bottom:r,right:s}){return{x:Y_(t.x,n,s),y:Y_(t.y,e,r)}}function X_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function D9(t,e){return{x:X_(t.x,e.x),y:X_(t.y,e.y)}}function L9(t,e){let n=.5;const r=$n(t),s=$n(e);return s>r?n=_u(e.min,e.max-r,t.min):r>s&&(n=_u(t.min,t.max-s,e.min)),pi(0,1,n)}function M9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ey=.35;function V9(t=Ey){return t===!1?t=0:t===!0&&(t=Ey),{x:J_(t,"left","right"),y:J_(t,"top","bottom")}}function J_(t,e,n){return{min:Z_(t,e),max:Z_(t,n)}}function Z_(t,e){return typeof t=="number"?t:t[e]||0}const O9=new WeakMap;class F9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(v).point)},l=(v,w)=>{const{drag:S,dragPropagation:k,onDragStart:A}=this.getProps();if(S&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qF(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(D=>{let j=this.getAxisMotionValue(D).get()||0;if(Ms.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[D];W&&(j=$n(W)*(parseFloat(j)/100))}}this.originPoint[D]=j}),A&&mt.postRender(()=>A(v,w)),by(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:k,onDirectionLock:A,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=w;if(k&&this.currentDirection===null){this.currentDirection=U9(D),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),T&&T(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ar(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new yR(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:gR(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&mt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!bh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=N9(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ol(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=j9(r.layoutBox,e):this.constraints=!1,this.elastic=V9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ar(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=M9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ol(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=B7(r,s.root,this.visualElement.getTransformPagePoint());let l=D9(s.layout.layoutBox,o);if(n){const u=n(O7(l));this.hasMutatedConstraints=!!u,u&&(l=tR(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Ar(g=>{if(!bh(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const w=s?200:1e6,S=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return by(this.visualElement,e),r.start(Dv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!bh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-xt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ol(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=L9({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(l=>{if(!bh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(xt(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;O9.set(this.visualElement,this);const e=this.visualElement.current,n=su(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ol(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const l=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ar(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Ey,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function U9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class B9 extends Eo{constructor(e){super(e),this.removeGroupControls=Nr,this.removeListeners=Nr,this.controls=new F9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const eE=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class z9 extends Eo{constructor(){super(...arguments),this.removePointerDownListener=Nr}onPointerDown(e){this.session=new yR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:eE(e),onStart:eE(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&mt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=tE(t,e.target.x),r=tE(t,e.target.y);return`${n}% ${r}%`}},$9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=po.parse(t);if(s.length>5)return r;const o=po.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const p=xt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),o(s)}};let fg=!1;class W9 extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;h7(q9),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),fg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,fg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||mt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;fg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wR(t){const[e,n]=BI(),r=x.useContext(tv);return h.jsx(W9,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(ZI),isPresent:e,safeToRemove:n})}const q9={borderRadius:{...Oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oc,borderTopRightRadius:Oc,borderBottomLeftRadius:Oc,borderBottomRightRadius:Oc,boxShadow:$9};function H9(t,e,n){const r=Pn(t)?t:Il(t);return r.start(Dv("",r,e,n)),r.animation}const G9=(t,e)=>t.depth-e.depth;class K9{constructor(){this.children=[],this.isDirty=!1}add(e){sv(this.children,e),this.isDirty=!0}remove(e){iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G9),this.isDirty=!1,this.children.forEach(e)}}function Q9(t,e){const n=tr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(fo(r),t(o-e))};return mt.setup(r,!0),()=>fo(r)}const xR=["TopLeft","TopRight","BottomLeft","BottomRight"],Y9=xR.length,nE=t=>typeof t=="string"?parseFloat(t):t,rE=t=>typeof t=="number"||ke.test(t);function X9(t,e,n,r,s,o){s?(t.opacity=xt(0,n.opacity??1,J9(r)),t.opacityExit=xt(e.opacity??1,0,Z9(r))):o&&(t.opacity=xt(e.opacity??1,n.opacity??1,r));for(let l=0;l<Y9;l++){const u=`border${xR[l]}Radius`;let d=sE(e,u),p=sE(n,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||rE(d)===rE(p)?(t[u]=Math.max(xt(nE(d),nE(p),r),0),(Ms.test(p)||Ms.test(d))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function sE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J9=bR(0,.5,aI),Z9=bR(.5,.95,Nr);function bR(t,e,n){return r=>r<t?0:r>e?1:n(_u(t,e,r))}function iE(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){iE(t.x,e.x),iE(t.y,e.y)}function oE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aE(t,e,n,r,s){return t-=e,t=vf(t,1/n,r),s!==void 0&&(t=vf(t,1/s,r)),t}function e8(t,e=0,n=1,r=.5,s,o=t,l=t){if(Ms.test(e)&&(e=parseFloat(e),e=xt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=xt(o.min,o.max,r);t===o&&(u-=e),t.min=aE(t.min,e,n,u,s),t.max=aE(t.max,e,n,u,s)}function lE(t,e,[n,r,s],o,l){e8(t,e[n],e[r],e[s],e.scale,o,l)}const t8=["x","scaleX","originX"],n8=["y","scaleY","originY"];function cE(t,e,n,r){lE(t.x,e,t8,n?n.x:void 0,r?r.x:void 0),lE(t.y,e,n8,n?n.y:void 0,r?r.y:void 0)}function uE(t){return t.translate===0&&t.scale===1}function _R(t){return uE(t.x)&&uE(t.y)}function dE(t,e){return t.min===e.min&&t.max===e.max}function r8(t,e){return dE(t.x,e.x)&&dE(t.y,e.y)}function hE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ER(t,e){return hE(t.x,e.x)&&hE(t.y,e.y)}function fE(t){return $n(t.x)/$n(t.y)}function pE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class s8{constructor(){this.members=[]}add(e){sv(this.members,e),e.scheduleRender()}remove(e){if(iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i8(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:S,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),k&&(r+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const pg=["","X","Y","Z"],o8=1e3;let a8=0;function mg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SR(r)}function TR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=a8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u8),this.nodes.forEach(p8),this.nodes.forEach(m8),this.nodes.forEach(d8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new K9)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new lv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=UI(l)&&!XF(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{v=window.innerWidth}),t(l,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=Q9(w,250),Bh.hasAnimatedSinceResize&&(Bh.hasAnimatedSinceResize=!1,this.nodes.forEach(yE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||x8,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=p.getProps(),D=!this.targetLayout||!ER(this.targetLayout,S),j=!v&&w;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...bv(k,"layout"),onPlay:A,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||yE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f8),this.nodes.forEach(l8),this.nodes.forEach(c8)):this.nodes.forEach(gE),this.clearAllSnapshots();const u=tr.now();pn.delta=pi(0,1e3/60,u-pn.timestamp),pn.timestamp=u,pn.isProcessing=!0,rg.update.process(pn),rg.preRender.process(pn),rg.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h8),this.sharedNodes.forEach(y8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$n(this.snapshot.measuredBox.x)&&!$n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_R(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Zo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),b8(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_8))){const{scroll:p}=this.root;p&&(al(u.x,p.offset.x),al(u.y,p.offset.y))}return u}removeElementScroll(l){const u=Nt();if(Rr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Rr(u,l),al(u.x,g.offset.x),al(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=Nt();Rr(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ll(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Zo(g.latestValues)&&ll(d,g.latestValues)}return Zo(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(l){const u=Nt();Rr(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Zo(p.latestValues))continue;yy(p.latestValues)&&p.updateSnapshot();const g=Nt(),v=p.measurePageBox();Rr(g,v),cE(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Zo(this.latestValues)&&cE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),ou(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),rR(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),ou(this.relativeTargetOrigin,this.target,w.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yy(this.parent.latestValues)||nR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Rr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;U7(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oE(this.prevProjectionDelta.x,this.projectionDelta.x),oE(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!pE(this.projectionDelta.x,this.prevProjectionDelta.x)||!pE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cl(),this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=Nt(),S=d?d.source:void 0,k=this.layout?this.layout.source:void 0,A=S!==k,T=this.getStack(),D=!T||T.members.length<=1,j=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(w8));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const H=W/1e3;vE(v.x,l.x,H),vE(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ou(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v8(this.relativeTarget,this.relativeTargetOrigin,w,H),F&&r8(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Nt()),Rr(F,this.relativeTarget)),A&&(this.animationValues=g,X9(g,p,this.latestValues,H,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Bh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=H9(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:g}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&CR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Nt();const v=$n(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=$n(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Rr(u,d),ll(u,g),iu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new s8),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&mg("z",l,p,this.animationValues);for(let g=0;g<pg.length;g++)mg(`rotate${pg[g]}`,l,p,this.animationValues),mg(`skew${pg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Uh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Uh(u?.pointerEvents)||""),this.hasProjected&&!Zo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=i8(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:w,y:S}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Cu){if(g[k]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:D}=Cu[k],j=v==="none"?g[k]:A(g[k],p);if(T){const F=T.length;for(let W=0;W<F;W++)l[T[W]]=j}else D?this.options.visualElement.renderState.vars[k]=j:l[k]=j}this.options.layoutId&&(l.pointerEvents=p===this?Uh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function l8(t){t.updateLayout()}function c8(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ar(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=$n(v);v.min=n[g].min,v.max=v.min+w}):CR(s,e.layoutBox,n)&&Ar(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=$n(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=cl();iu(l,n,e.layoutBox);const u=cl();o?iu(u,t.applyTransform(r,!0),e.measuredBox):iu(u,n,e.layoutBox);const d=!_R(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const S=Nt();ou(S,e.layoutBox,v.layoutBox);const k=Nt();ou(k,n,w.layoutBox),ER(S,k)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function u8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h8(t){t.clearSnapshot()}function mE(t){t.clearMeasurements()}function gE(t){t.isLayoutDirty=!1}function f8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p8(t){t.resolveTargetDelta()}function m8(t){t.calcProjection()}function g8(t){t.resetSkewAndRotation()}function y8(t){t.removeLeadSnapshot()}function vE(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wE(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function v8(t,e,n,r){wE(t.x,e.x,n.x,r),wE(t.y,e.y,n.y,r)}function w8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x8={duration:.45,ease:[.4,0,.1,1]},xE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bE=xE("applewebkit/")&&!xE("chrome/")?Math.round:Nr;function _E(t){t.min=bE(t.min),t.max=bE(t.max)}function b8(t){_E(t.x),_E(t.y)}function CR(t,e,n){return t==="position"||t==="preserve-aspect"&&!I9(fE(e),fE(n),.2)}function _8(t){return t!==t.root&&t.scroll?.wasRoot}const E8=TR({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},IR=TR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new E8({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S8={pan:{Feature:z9},drag:{Feature:B9,ProjectionNode:IR,MeasureLayout:wR}};function EE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&mt.postRender(()=>o(e,Ju(e)))}class T8 extends Eo{mount(){const{current:e}=this.node;e&&(this.unmount=HF(e,(n,r)=>(EE(this.node,r,"Start"),s=>EE(this.node,s,"End"))))}unmount(){}}class C8 extends Eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&mt.postRender(()=>o(e,Ju(e)))}class I8 extends Eo{mount(){const{current:e}=this.node;e&&(this.unmount=YF(e,(n,r)=>(SE(this.node,r,"Start"),(s,{success:o})=>SE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sy=new WeakMap,yg=new WeakMap,R8=t=>{const e=Sy.get(t.target);e&&e(t)},A8=t=>{t.forEach(R8)};function k8({root:t,...e}){const n=t||document;yg.has(n)||yg.set(n,{});const r=yg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(A8,{root:t,...e})),r[s]}function P8(t,e,n){const r=k8(e);return Sy.set(t,n),r.observe(t),()=>{Sy.delete(t),r.unobserve(t)}}const N8={some:0,all:1};class j8 extends Eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:N8[s]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(d)};return P8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(D8(e,n))&&this.startObserver()}unmount(){}}function D8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L8={inView:{Feature:j8},tap:{Feature:I8},focus:{Feature:C8},hover:{Feature:T8}},M8={layout:{ProjectionNode:IR,MeasureLayout:wR}},V8={...b9,...L8,...S8,...M8},Ie=V7(V8,Y7),Lv=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=x.useState(n==="login"),[o,l]=x.useState(""),[u,d]=x.useState(""),[p,g]=x.useState(!1),[v,w]=x.useState(""),[S,k]=x.useState(""),A=async D=>{D.preventDefault(),g(!0),w(""),k("");try{r?(await VS(Fe,o,u),e()):(await MS(Fe,o,u),k("Account created successfully! You can now sign in."),s(!0))}catch(j){j instanceof Error?w(j.message):w("An unexpected error occurred")}finally{g(!1)}},T=async()=>{try{await KS(Fe,QC),e()}catch(D){D instanceof Error?w(D.message):w("An unexpected error occurred")}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:h.jsxs("div",{className:"p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),h.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h.jsxs("button",{type:"button",onClick:T,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),h.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[h.jsx("div",{className:"border-t border-gray-200 w-full"}),h.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:o,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",required:!0,value:u,onChange:D=>d(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&h.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),S&&h.jsx("p",{className:"text-green-500 text-sm text-center",children:S}),h.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})};function O8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Mv=x.forwardRef(O8);function F8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const U8=x.forwardRef(F8);function B8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const TE=x.forwardRef(B8);function z8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const CE=x.forwardRef(z8);function $8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Ty=x.forwardRef($8);function W8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const q8=x.forwardRef(W8);function H8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const gl=x.forwardRef(H8);function G8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const K8=x.forwardRef(G8);function Q8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const IE=x.forwardRef(Q8);function Y8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const X8=x.forwardRef(Y8);function J8({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Z8=x.forwardRef(J8);function eU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tU=x.forwardRef(eU);function nU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const rU=x.forwardRef(nU);function sU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const iU=x.forwardRef(sU);function oU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const aU=x.forwardRef(oU);function lU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const RE=x.forwardRef(lU);function cU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const uU=x.forwardRef(cU);function dU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const AE=x.forwardRef(dU);function hU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const kE=x.forwardRef(hU);function fU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ru=x.forwardRef(fU);function pU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const mU=x.forwardRef(pU);function gU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const yU=x.forwardRef(gU);function vU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const RR=x.forwardRef(vU);function wU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const AR=x.forwardRef(wU);function xU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const PE=x.forwardRef(xU);function bU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const NE=x.forwardRef(bU);function _U({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const EU=x.forwardRef(_U);function SU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const jE=x.forwardRef(SU);function TU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const DE=x.forwardRef(TU);function CU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const LE=x.forwardRef(CU);function IU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M7.5 5.25a3 3 0 0 1 3-3h3a3 3 0 0 1 3 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v3.033c0 1.211-.734 2.352-1.936 2.752A24.726 24.726 0 0 1 12 15.75c-2.73 0-5.357-.442-7.814-1.259-1.202-.4-1.936-1.541-1.936-2.752V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 0 1 7.5 5.455V5.25Zm7.5 0v.09a49.488 49.488 0 0 0-6 0v-.09a1.5 1.5 0 0 1 1.5-1.5h3a1.5 1.5 0 0 1 1.5 1.5Zm-3 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}),x.createElement("path",{d:"M3 18.4v-2.796a4.3 4.3 0 0 0 .713.31A26.226 26.226 0 0 0 12 17.25c2.892 0 5.68-.468 8.287-1.335.252-.084.49-.189.713-.311V18.4c0 1.452-1.047 2.728-2.523 2.923-2.12.282-4.282.427-6.477.427a49.19 49.19 0 0 1-6.477-.427C4.047 21.128 3 19.852 3 18.4Z"}))}const ME=x.forwardRef(IU);function RU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const VE=x.forwardRef(RU);function AU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),x.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const OE=x.forwardRef(AU);function kU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const FE=x.forwardRef(kU);function PU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const NU=x.forwardRef(PU);function jU({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const UE=x.forwardRef(jU),kR=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(null),[s,o]=x.useState(""),[l,u]=x.useState(0),[d,p]=x.useState(0),g=Lr(),v=Dn();x.useEffect(()=>{const j=jl(Fe,F=>{r(F)});return()=>j()},[]),x.useEffect(()=>{if(!n){u(0);return}const j=yt(tt(be,"notifications"),ot("recipientId","==",n.uid),ot("read","==",!1)),F=Cl(j,W=>{u(W.size)});return()=>F()},[n]),x.useEffect(()=>{if(!n){p(0);return}const j=yt(tt(be,"conversations"),ot("participants","array-contains",n.uid)),F=Cl(j,W=>{let H=0;W.docs.forEach(U=>{const I=U.data();I.lastMessage&&I.lastMessage.senderId!==n.uid&&I.lastMessage.read===!1&&H++}),p(H)});return()=>F()},[n]);const w=async()=>{try{await dD(Fe)}catch(j){console.error("Error signing out:",j)}},S=()=>{window.innerWidth<1024&&v("/explore")},k=[{name:"Home",path:"/",icon:AE,activeIcon:OE},{name:"Projects",path:"/projects",icon:gl,activeIcon:ME},{name:"Students",path:"/students",icon:PE,activeIcon:UE},{name:"Resources",path:"/resources",icon:Ty,activeIcon:LE},{name:"Notifications",path:"/notifications",icon:CE,activeIcon:DE}],A=j=>j==="/"&&g.pathname!=="/"?!1:g.pathname.startsWith(j),T=()=>h.jsxs("div",{className:"lg:hidden fixed top-0 w-full bg-white border-b border-gray-200 z-50 h-16 px-4 flex items-center justify-between gap-3",children:[h.jsx(Ot,{to:"/",className:"shrink-0",children:h.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"})}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ru,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:j=>o(j.target.value),onClick:S,className:"block w-full pl-9 pr-3 py-2 bg-[#edf3f8] border-transparent rounded-full text-sm transition-all focus:bg-white focus:ring-1 focus:ring-blue-100 focus:w-full border"})]}),h.jsxs("div",{className:"shrink-0 flex items-center gap-3",children:[h.jsxs(Ot,{to:"/messages",className:"relative text-gray-500",children:[h.jsx(IE,{className:"h-7 w-7"}),d>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),n?h.jsx(Ot,{to:"/profile",className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-xs overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}):h.jsx("button",{onClick:()=>e(!0),className:"text-sm font-bold text-[#0066FF]",children:"Join"})]})]}),D=()=>h.jsx("div",{className:"lg:hidden fixed bottom-0 w-full bg-white border-t border-gray-200 z-50 h-16 pb-safe flex items-center justify-around px-2",children:k.map(j=>{const F=A(j.path),W=F?j.activeIcon:j.icon;return h.jsxs(Ot,{to:j.path,className:`flex flex-col items-center justify-center w-full h-full transition-colors ${F?"text-[#0066FF]":"text-gray-500"}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx(W,{className:"h-7 w-7"}),j.name==="Notifications"&&l>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:l})]}),h.jsx("span",{className:"text-[10px] font-medium mt-1",children:j.name})]},j.name)})});return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden lg:block fixed top-0 left-0 w-full h-16 bg-white border-b border-gray-200 z-50 transition-all duration-300",children:h.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md",children:[h.jsxs(Ot,{to:"/",className:"shrink-0 flex items-center gap-1",children:[h.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"}),h.jsx("span",{className:"text-xl font-black text-[#0066FF] tracking-tighter",children:"CollabX"})]}),h.jsxs("div",{className:"relative flex-1 ml-4",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ru,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:j=>o(j.target.value),className:"block w-full pl-9 pr-3 py-1.5 bg-[#edf3f8] border-transparent rounded-md text-sm transition-all focus:bg-white focus:ring-1 focus:ring-gray-300 focus:w-full border"})]})]}),h.jsxs("div",{className:"flex items-center h-full ml-auto",children:[h.jsxs(Ot,{to:"/",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/")?h.jsx(OE,{className:"h-6 w-6"}):h.jsx(AE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Home"})]}),h.jsxs(Ot,{to:"/projects",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/projects")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/projects")?h.jsx(ME,{className:"h-6 w-6"}):h.jsx(gl,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Projects"})]}),h.jsxs(Ot,{to:"/students",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/students")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/students")?h.jsx(UE,{className:"h-6 w-6"}):h.jsx(PE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Students"})]}),h.jsxs(Ot,{to:"/resources",className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${A("/resources")?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[A("/resources")?h.jsx(LE,{className:"h-6 w-6"}):h.jsx(Ty,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Resources"})]}),h.jsx("div",{className:"h-8 w-[1px] bg-gray-200 mx-2"}),h.jsxs(Ot,{to:"/messages",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[h.jsx(IE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Messaging"}),d>0&&h.jsx("span",{className:"absolute top-2 right-6 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:d})]}),h.jsxs(Ot,{to:"/notifications",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[A("/notifications")?h.jsx(DE,{className:"h-6 w-6"}):h.jsx(CE,{className:"h-6 w-6"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Notifications"}),l>0&&h.jsx("span",{className:"absolute top-2 right-5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:l})]}),n?h.jsxs("div",{className:"relative group ml-4",children:[h.jsxs("button",{className:"flex flex-col items-center justify-center w-16 h-full text-gray-500 hover:text-gray-900 transition-all",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-[#0066FF] overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium flex items-center gap-0.5",children:"Me"})]}),h.jsxs("div",{className:"absolute right-0 top-16 w-64 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all py-2 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-lg font-bold text-[#0066FF] overflow-hidden",children:n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Me",className:"w-full h-full object-cover"}):n.displayName?.[0]||n.email?.[0]||"U"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-sm font-bold text-gray-900",children:n.displayName||"Contributor"}),h.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:n.email})]})]}),h.jsx(Ot,{to:"/profile",className:"mt-3 block w-full text-center py-1 border border-[#0066FF] text-[#0066FF] rounded-full text-sm font-bold hover:bg-blue-50 transition-all",children:"View Profile"})]}),h.jsx("button",{onClick:w,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-100",children:"Sign Out"})]})]}):h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Log in"}),h.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Join Now"})]})]})]})}),h.jsx(T,{}),h.jsx(D,{}),h.jsx(Lv,{isOpen:t,onClose:()=>e(!1)})]})},DU=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return h.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:h.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[h.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:h.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),h.jsxs(Ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",h.jsx("br",{}),h.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),h.jsx(Ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),h.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:h.jsxs("div",{className:"relative flex items-center",children:[h.jsx("div",{className:"absolute left-4 text-gray-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),h.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[h.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),h.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),h.jsxs(Ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>h.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},PR=async(t,e)=>{try{return(await yi(tt(be,"projects"),{...e,ownerId:t,members:[t],pendingRequests:[],createdAt:sn(),updatedAt:sn()})).id}catch(n){throw console.error("Error adding project:",n),n}},LU=async(t,e)=>{try{const n=at(be,"projects",t);await Us(n,{...e,updatedAt:sn()})}catch(n){throw console.error("Error updating project:",n),n}},MU=async t=>{try{await AC(at(be,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},VU=async t=>{const e=Fe.currentUser;if(!e)throw new Error("Must be logged in to join projects");try{const n=at(be,"projects",t);await Us(n,{pendingRequests:BM(e.uid)});const s=(await rs(n)).data();s&&await yi(tt(be,"notifications"),{recipientId:s.ownerId,senderId:e.uid,type:"project_request",projectId:t,projectName:s.title,read:!1,createdAt:sn()})}catch(n){throw console.error("Error requesting to join project:",n),n}},OU=async()=>{try{const t=yt(tt(be,"projects"),_o("createdAt","desc"));return(await wn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching projects:",t),t}},FU=async t=>{try{const e=yt(tt(be,"projects"),ot("members","array-contains",t),_o("createdAt","desc"));return(await wn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching user projects:",e),[]}},NR=["fuck","fucker","fucking","fucked","fck","fuk","fuking","fuckin","fuckoff","motherfucker","motherfucking","shit","shitting","shitty","bullshit","sh1t","shiit","ass","asshole","asses","arsehole","arse","bitch","bitches","bitchy","b1tch","cunt","cunts","dick","dicks","dickhead","piss","pissed","pissing","pussy","pussies","whore","wh0re","nigger","nigga","n1gger","n1gga","faggot","fag","faggots","retard","retarded","cock","cocks","cocksucker","bastard","bastards","damn","damned","dammit","crap","crappy","slut","sluts","slutty","wanker","wankers","twat","twats","bollocks","bloody","prick","pricks","jackass","dumbass","douche","douchebag","a$$","a$$hole","b!tch","sh!t","f*ck","p*ssy"],jR=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),yl=t=>{if(!t||typeof t!="string")return{hasProfanity:!1,foundWords:[]};const e=t.toLowerCase(),n=[];for(const r of NR){const s=jR(r);new RegExp(`\\b${s}\\b`,"gi").test(e)&&n.push(r)}return{hasProfanity:n.length>0,foundWords:[...new Set(n)]}},_h=t=>{if(!t||typeof t!="string")return t;let e=t;for(const n of NR){const r=jR(n),s=new RegExp(`\\b${r}\\b`,"gi");e=e.replace(s,"*".repeat(n.length))}return e},Vv=t=>"Your content contains inappropriate language. Please remove offensive words and try again.",DR=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=x.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"}),[o,l]=x.useState(!1),[u,d]=x.useState(""),[p,g]=x.useState(!1),v=async w=>{if(w.preventDefault(),!Fe.currentUser)return;const S=yl(r.title),k=yl(r.description);if(S.hasProfanity||k.hasProfanity){d(Vv());return}l(!0),d("");try{await PR(Fe.currentUser.uid,{title:r.title,description:r.description,category:r.category,ownerName:Fe.currentUser.displayName||"Anonymous",ownerAvatar:Fe.currentUser.photoURL||"",githubUrl:r.githubUrl,liveUrl:r.liveUrl,techStack:r.tags.split(",").map(A=>A.trim()),rolesNeeded:r.rolesNeeded.split(",").map(A=>A.trim()),status:"Open",thumbnailUrl:`https://source.unsplash.com/random/800x600?tech,${r.category}`,updatedAt:null}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",rolesNeeded:"",category:"Web Dev"})},2e3)}catch(A){console.error("Error submitting project:",A),d("Failed to submit project. Please try again.")}finally{l(!1)}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),h.jsx(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:h.jsxs("div",{className:"p-6 md:p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-5xl mb-4",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),h.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),h.jsx("input",{type:"text",required:!0,value:r.title,onChange:w=>s({...r,title:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{required:!0,value:r.description,onChange:w=>s({...r,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),h.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:w=>s({...r,githubUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),h.jsx("input",{type:"url",value:r.liveUrl,onChange:w=>s({...r,liveUrl:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{value:r.category,onChange:w=>s({...r,category:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{children:"AI/ML"}),h.jsx("option",{children:"Web Dev"}),h.jsx("option",{children:"Mobile"}),h.jsx("option",{children:"Blockchain"}),h.jsx("option",{children:"Design"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles Needed"}),h.jsx("input",{type:"text",value:r.rolesNeeded,onChange:w=>s({...r,rolesNeeded:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Frontend, Designer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tech Stack (comma separated)"}),h.jsx("input",{type:"text",value:r.tags,onChange:w=>s({...r,tags:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, tailwind, firebase"})]}),u&&h.jsx("p",{className:"text-red-500 text-sm",children:u}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Submitting...":"Submit Project"})]})]})]})})]})})},UU=()=>{const[t,e]=x.useState("All"),[n,r]=x.useState(""),[s,o]=x.useState([]),[l,u]=x.useState(!0),[d,p]=x.useState(null),[g,v]=x.useState(!1),[w,S]=x.useState(!1),[k,A]=x.useState(""),[T,D]=x.useState(!1);x.useEffect(()=>{j();const I=jl(Fe,R=>{p(R)});return()=>I()},[]);const j=async()=>{try{const I=tt(be,"projects"),R=yt(I,_o("created_at","desc")),M=(await wn(R)).docs.map(V=>({id:V.id,...V.data()}));o(M)}catch(I){console.error("Error fetching projects:",I)}finally{u(!1)}},F=async I=>{if(I.preventDefault(),!!k)try{await yi(tt(be,"newsletter_subscribers"),{email:k,created_at:it.now()}),D(!0),A(""),setTimeout(()=>D(!1),3e3)}catch(R){console.error("Error subscribing:",R)}},W=()=>{d?S(!0):v(!0)},H=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],U=s.filter(I=>{const R=t==="All"||I.category===t,N=I.title.toLowerCase().includes(n.toLowerCase())||I.description.toLowerCase().includes(n.toLowerCase())||I.tags.some(M=>M.toLowerCase().includes(n.toLowerCase()));return R&&N});return h.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[h.jsxs("div",{children:[h.jsx(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),h.jsx(Ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),h.jsx(Ie.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),h.jsxs(Ie.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:I=>r(I.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),h.jsxs("button",{onClick:W,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsxs("div",{className:"lg:w-3/4",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:H.map(I=>h.jsx("button",{onClick:()=>e(I),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===I?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:I},I))}),l?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:U.map(I=>h.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden",children:[h.jsx("img",{src:I.image_url,alt:I.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-4 left-4",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:I.category})})]}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("img",{src:I.author_avatar,alt:I.author,className:"w-8 h-8 rounded-full border border-gray-100"}),h.jsx("span",{className:"text-sm font-medium text-gray-600",children:I.author}),h.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(I.created_at).toLocaleDateString()]})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:I.title}),h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:I.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:I.tags.map(R=>h.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",R]},R))}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),I.likes]}),h.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),I.comments]})]}),h.jsxs("a",{href:I.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},I.id))}),!l&&U.length===0&&h.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),h.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>h.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${I}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),h.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},I))}),h.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),h.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),h.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),h.jsxs("form",{onSubmit:F,className:"relative z-10",children:[h.jsx("input",{type:"email",placeholder:"Your email",value:k,onChange:I=>A(I.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),h.jsx("button",{type:"submit",disabled:T,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:T?"Subscribed!":"Subscribe"})]})]})]})]})]}),h.jsx(Lv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(DR,{isOpen:w,onClose:()=>S(!1),onSuccess:j})]})},BU=()=>{const t=Dn(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(!1),[u,d]=x.useState(!1),[p,g]=x.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});x.useEffect(()=>{v();const T=jl(Fe,async D=>{if(D)try{const j=await rs(at(be,"users",D.uid));j.exists()&&l(j.data().role==="admin"||j.data().isAdmin===!0)}catch(j){console.error("Error checking admin status:",j),l(!1)}else l(!1)});return()=>T()},[]);const v=async()=>{try{const T=tt(be,"resources"),D=yt(T),F=(await wn(D)).docs.map(W=>({id:W.id,...W.data()}));F.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(F)}catch(T){console.error("Error fetching resources:",T)}finally{s(!1)}},w=async T=>{if(T.preventDefault(),!(!p.title||!p.description))try{await yi(tt(be,"resources"),p),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(D){console.error("Error adding resource:",D)}},S=async(T,D)=>{if(D.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await AC(at(be,"resources",T)),v()}catch(j){console.error("Error deleting resource:",j)}},k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},A={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return h.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),h.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),h.jsxs("div",{className:"container-custom relative z-10",children:[h.jsxs(Ie.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),o&&h.jsx("div",{className:"mb-8 flex justify-center",children:h.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&h.jsx(Ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:T=>g({...p,title:T.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsx("textarea",{placeholder:"Description",value:p.description,onChange:T=>g({...p,description:T.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:T=>g({...p,icon:T.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),h.jsxs("select",{value:p.color,onChange:T=>g({...p,color:T.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[h.jsx("option",{value:"badge-blue",children:"Blue"}),h.jsx("option",{value:"badge-yellow",children:"Yellow"}),h.jsx("option",{value:"badge-green",children:"Green"}),h.jsx("option",{value:"badge-purple",children:"Purple"}),h.jsx("option",{value:"badge-red",children:"Red"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?h.jsx("div",{className:"flex justify-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):h.jsx(Ie.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:k,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(T=>h.jsxs(Ie.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:A,whileHover:{scale:1.03},onClick:()=>t(`/resource/${T.id}`),children:[o&&h.jsx("button",{onClick:D=>S(T.id,D),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:T.icon})}),h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:T.title}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:T.description}),h.jsx("div",{className:"mt-auto text-center",children:h.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",h.jsx("span",{children:""})]})})]},T.id))})]})]})},Ov=async t=>{const e=Fe.currentUser;if(!e)throw new Error("User not authenticated");const n=[e.uid,t].sort(),r=n.join("_"),s=at(be,"conversations",r);return(await rs(s)).exists()||await Zf(s,{id:r,participants:n,createdAt:sn(),updatedAt:sn(),createdBy:e.uid,isTyping:{}}),r},zU=async(t,e,n="text",r)=>{const s=Fe.currentUser;if(!s)throw new Error("User not authenticated");const o=tt(be,"conversations",t,"messages"),l=at(be,"conversations",t);await yi(o,{conversationId:t,senderId:s.uid,content:e,type:n,attachments:[],createdAt:sn(),read:!1}),await Us(l,{lastMessage:{content:e,senderId:s.uid,createdAt:sn(),type:n,read:!1},updatedAt:sn()})},L$=t=>{const e=Fe.currentUser;if(!e)return()=>{};const n=yt(tt(be,"conversations"),ot("participants","array-contains",e.uid),_o("updatedAt","desc"));return Cl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));t(s)})},M$=(t,e)=>{const n=yt(tt(be,"conversations",t,"messages"),_o("createdAt","asc"),Jf(100));return Cl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},V$=async(t,e)=>{const n=at(be,"conversations",t,"messages",e);await Us(n,{read:!0,readAt:sn()})},O$=(t,e)=>{const n=yt(tt(be,"notifications"),ot("recipientId","==",t),_o("createdAt","desc"),Jf(20));return Cl(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)})},F$=async t=>{try{await Us(at(be,"notifications",t),{read:!0})}catch(e){console.error("Error marking notification as read:",e)}},LR=async t=>{try{await yi(tt(be,"notifications"),{...t,read:!1,createdAt:sn()})}catch(e){console.error("Error creating notification:",e)}},BE=20,Fv=async(t,e)=>{const n=Fe.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=at(be,"userActivity",`${n.uid}_${r}`),o=await rs(s);if(o.exists()&&o.data().connectionRequestsSent>=BE)throw new Error(`Daily limit of ${BE} requests reached.`);const l=at(be,"blocks",`${t}_${n.uid}`);if((await rs(l)).exists())throw new Error("This user has blocked you.");const d=tt(be,"connections"),p=yt(d,ot("requesterId","==",n.uid),ot("recipientId","==",t));if(!(await wn(p)).empty)throw new Error("Connection request already exists.");await yi(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:sn(),updatedAt:sn()}),await LR({recipientId:t,senderId:n.uid,senderName:n.displayName||"User",senderAvatar:n.photoURL||void 0,type:"connection_request",message:"sent you a connection request."}),await Zf(s,{userId:n.uid,date:r,connectionRequestsSent:PC(1)},{merge:!0})},Uv=async(t,e)=>{const n=at(be,"connections",t);await Us(n,{status:"accepted",updatedAt:sn()});const r=Fe.currentUser;r&&await LR({recipientId:e,senderId:r.uid,senderName:r.displayName||"User",senderAvatar:r.photoURL||void 0,type:"connection_accepted",message:"accepted your connection request."})},$U=async t=>{const e=at(be,"connections",t);await Us(e,{status:"ignored",updatedAt:sn()})},WU=async()=>{const t=Fe.currentUser;if(!t)return[];const e=tt(be,"connections"),n=yt(e,ot("recipientId","==",t.uid),ot("status","==","pending"),_o("createdAt","desc"));return(await wn(n)).docs.map(s=>({id:s.id,...s.data()}))},MR=async t=>{const e=Fe.currentUser;if(!e)return{status:"none",requestId:null};const n=tt(be,"connections"),r=yt(n,ot("requesterId","==",e.uid),ot("recipientId","==",t)),s=await wn(r);if(!s.empty)return{status:s.docs[0].data().status==="accepted"?"connected":"pending",requestId:s.docs[0].id};const o=yt(n,ot("requesterId","==",t),ot("recipientId","==",e.uid)),l=await wn(o);return l.empty?{status:"none",requestId:null}:{status:l.docs[0].data().status==="accepted"?"connected":"received",requestId:l.docs[0].id}},qU=async t=>{const e=tt(be,"connections"),n=yt(e,ot("requesterId","==",t),ot("status","==","accepted")),r=yt(e,ot("recipientId","==",t),ot("status","==","accepted")),[s,o]=await Promise.all([o_(n),o_(r)]);return s.data().count+o.data().count},HU=async t=>{const e=tt(be,"connections"),n=yt(e,ot("requesterId","==",t),ot("status","==","accepted")),r=yt(e,ot("recipientId","==",t),ot("status","==","accepted")),[s,o]=await Promise.all([wn(n),wn(r)]),l=new Set;if(s.docs.forEach(p=>l.add(p.data().recipientId)),o.docs.forEach(p=>l.add(p.data().requesterId)),l.size===0)return[];const{getUserProfile:u}=await Tf(async()=>{const{getUserProfile:p}=await Promise.resolve().then(()=>lA);return{getUserProfile:p}},[]);return(await Promise.all(Array.from(l).map(p=>u(p)))).filter(p=>p!==null)},VR=({student:t,onClick:e})=>{const[n,r]=x.useState("none"),[s,o]=x.useState(null),[l,u]=x.useState(!1),d=Fe.currentUser,p=Dn(),g=async k=>{if(k.stopPropagation(),!!d)try{const A=await Ov(t.uid);p(`/messages?conversationId=${A}`)}catch(A){console.error("Error starting conversation:",A)}};x.useEffect(()=>{(async()=>{if(d&&d.uid!==t.uid)try{const{status:A,requestId:T}=await MR(t.uid);r(A),o(T)}catch(A){console.error("Error fetching status:",A)}})()},[t.uid,d]);const v=async k=>{if(k.stopPropagation(),!!d){u(!0);try{n==="received"&&s?(await Uv(s,t.uid),r("connected")):n==="none"&&(await Fv(t.uid),r("pending"))}catch(A){const T=A;console.error("Error connecting:",T),alert(T.message)}finally{u(!1)}}},w=()=>{if(l)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},S=n==="pending"||n==="connected"||t.uid===d?.uid;return h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[h.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:h.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:h.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:h.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),h.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[h.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((k,A)=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:k},A)),t.skills?.length>3&&h.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),h.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[h.jsx("button",{onClick:v,disabled:S||l,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:w()}),h.jsx("button",{onClick:g,className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"Message"})]})]})]})},GU=()=>{const t=Dn(),[e,n]=x.useState([]);return x.useEffect(()=>{(async()=>{try{const s=tt(be,"users"),o=yt(s,Jf(8)),u=(await wn(o)).docs.map(d=>{const p=d.data();return{uid:d.id,...p,name:p.name||p.full_name||"Anonymous",avatar:p.avatar||p.avatar_url||"",institution:p.institution||p.university||"University",skills:p.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),h.jsx("section",{id:"community",className:"py-24 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[h.jsxs("div",{className:"max-w-2xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),h.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?h.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>h.jsx(VR,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})};var Cy=function(t,e){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Cy(t,e)};function KU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zt=function(){return Zt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zt.apply(this,arguments)};var vg,zE;function QU(){if(zE)return vg;zE=1;var t=!1,e,n,r,s,o,l,u,d,p,g,v,w,S,k,A;function T(){if(!t){t=!0;var j=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),W=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(w=/\b(iPhone|iP[ao]d)/.exec(j),S=/\b(iP[ao]d)/.exec(j),g=/Android/i.exec(j),k=/FBAN\/\w+;/i.exec(j),A=/Mobile/i.exec(j),v=!!/Win64/.exec(j),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var H=/(?:Trident\/(\d+.\d+))/.exec(j);l=H?parseFloat(H[1])+4:e,n=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,s=F[4]?parseFloat(F[4]):NaN,s?(F=/(?:Chrome\/(\d+\.\d+))/.exec(j),o=F&&F[1]?parseFloat(F[1]):NaN):o=NaN}else e=n=r=o=s=NaN;if(W){if(W[1]){var U=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=U?parseFloat(U[1].replace("_",".")):!0}else u=!1;d=!!W[2],p=!!W[3]}else u=d=p=!1}}var D={ie:function(){return T()||e},ieCompatibilityMode:function(){return T()||l>e},ie64:function(){return D.ie()&&v},firefox:function(){return T()||n},opera:function(){return T()||r},webkit:function(){return T()||s},safari:function(){return D.webkit()},chrome:function(){return T()||o},windows:function(){return T()||d},osx:function(){return T()||u},linux:function(){return T()||p},iphone:function(){return T()||w},mobile:function(){return T()||w||S||g||A},nativeApp:function(){return T()||k},android:function(){return T()||g},ipad:function(){return T()||S}};return vg=D,vg}var wg,$E;function YU(){if($E)return wg;$E=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return wg=e,wg}var xg,WE;function XU(){if(WE)return xg;WE=1;var t=YU(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var o="on"+r,l=o in document;if(!l){var u=document.createElement("div");u.setAttribute(o,"return;"),l=typeof u[o]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return xg=n,xg}var bg,qE;function JU(){if(qE)return bg;qE=1;var t=QU(),e=XU(),n=10,r=40,s=800;function o(l){var u=0,d=0,p=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),p=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||g)&&l.deltaMode&&(l.deltaMode==1?(p*=r,g*=r):(p*=s,g*=s)),p&&!u&&(u=p<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:p,pixelY:g}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},bg=o,bg}var _g,HE;function ZU(){return HE||(HE=1,_g=JU()),_g}var eB=ZU();const tB=h2(eB);function nB(t,e,n,r,s,o){o===void 0&&(o=0);var l=Al(t,e,o),u=l.width,d=l.height,p=Math.min(u,n),g=Math.min(d,r);return p>g*s?{width:g*s,height:g}:{width:p,height:p/s}}function rB(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Fc(t,e,n,r,s){s===void 0&&(s=0);var o=Al(e.width,e.height,s),l=o.width,u=o.height;return{x:GE(t.x,l,n.width,r),y:GE(t.y,u,n.height,r)}}function GE(t,e,n,r){var s=e*r/2-n/2;return op(t,-s,s)}function KE(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function QE(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function sB(t,e,n,r,s,o,l){o===void 0&&(o=0),l===void 0&&(l=!0);var u=l?iB:oB,d=Al(e.width,e.height,o),p=Al(e.naturalWidth,e.naturalHeight,o),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(p.width,g.width*p.width/100)),w=Math.round(u(p.height,g.height*p.height/100)),S=p.width>=p.height*r,k=S?{width:Math.round(w*r),height:w}:{width:v,height:Math.round(v/r)},A=Zt(Zt({},k),{x:Math.round(u(p.width-k.width,g.x*p.width/100)),y:Math.round(u(p.height-k.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:A}}function iB(t,e){return Math.min(t,Math.max(0,e))}function oB(t,e){return e}function aB(t,e,n,r,s,o){var l=Al(e.width,e.height,n),u=op(r.width/l.width*(100/t.width),s,o),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function lB(t,e,n){var r=rB(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function cB(t,e,n,r,s,o){n===void 0&&(n=0);var l=Al(e.naturalWidth,e.naturalHeight,n),u=op(lB(t,e,r),s,o),d=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:p,zoom:u}}function YE(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function uB(t){return t*Math.PI/180}function Al(t,e,n){var r=uB(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function op(t,e,n){return Math.min(Math.max(t,e),n)}function Eh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var dB=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,hB=1,fB=3,pB=1,mB=(function(t){KU(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=x.createRef(),n.imageRef=x.createRef(),n.videoRef=x.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=aB(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=s.crop,l=s.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=cB(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=u.crop,l=u.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,o,l,u,d,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,w=((o=n.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,S=p.offsetWidth<v||p.offsetHeight<w,k=v/w,A=void 0;if(S)switch(n.state.mediaObjectFit){default:case"contain":A=g>k?{width:n.containerRect.height*k,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/k};break;case"horizontal-cover":A={width:n.containerRect.width,height:n.containerRect.width/k};break;case"vertical-cover":A={width:n.containerRect.height*k,height:n.containerRect.height};break}else A={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Zt(Zt({},A),{naturalWidth:v,naturalHeight:w}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var T=n.props.cropSize?n.props.cropSize:nB(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==T.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==T.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(T),n.setState({cropSize:T},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(T),T}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),o=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,o,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Zt({},n.props.crop),(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s)},n.onDrag=function(r){var s=r.x,o=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||o===void 0)){var l=s-n.dragStartPosition.x,u=o-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},p=n.props.restrictPosition?Fc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),o=tB(r).pixelY,l=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var o=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(o-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,o=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(o+u.y)/d}},n.setNewZoom=function(r,s,o){var l=o===void 0?{}:o,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=op(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),w={x:v.x*p-g.x,y:v.y*p-g.y},S=n.props.restrictPosition?Fc(w,n.mediaSize,n.state.cropSize,p,n.props.rotation):w;n.props.onCropChange(S)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Fc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return sB(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,o),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,o)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var o=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;o={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var p=n.props.restrictPosition?Fc(o,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):o;n.previousCropSize=n.state.cropSize,n.props.onCropChange(p),n.emitCropData()}},n.onKeyDown=function(r){var s,o,l=n.props,u=l.crop,d=l.onCropChange,p=l.keyboardStep,g=l.zoom,v=l.rotation,w=p;if(n.state.cropSize){r.shiftKey&&(w*=.2);var S=Zt({},u);switch(r.key){case"ArrowUp":S.y-=w,r.preventDefault();break;case"ArrowDown":S.y+=w,r.preventDefault();break;case"ArrowLeft":S.x-=w,r.preventDefault();break;case"ArrowRight":S.x+=w,r.preventDefault();break;default:return}n.props.restrictPosition&&(S=Fc(S,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(o=(s=n.props).onInteractionStart)===null||o===void 0||o.call(s),d(S)}},n.onKeyUp=function(r){var s,o;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(o=(s=n.props).onInteractionEnd)===null||o===void 0||o.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=dB,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,o,l,u,d,p,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((o=n.cropSize)===null||o===void 0?void 0:o.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,o;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=d/p;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=KE(r,s),this.lastPinchRotation=QE(r,s),this.onDragStart(YE(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),o=e.getTouchPoint(n.touches[1]),l=YE(s,o);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=KE(s,o),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=QE(s,o),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},e.prototype.render=function(){var n=this,r,s=this.props,o=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,p=s.transform,g=s.crop,v=g.x,w=g.y,S=s.rotation,k=s.zoom,A=s.cropShape,T=s.showGrid,D=s.roundCropAreaPixels,j=s.style,F=j.containerStyle,W=j.cropAreaStyle,H=j.mediaStyle,U=s.classes,I=U.containerClassName,R=U.cropAreaClassName,N=U.mediaClassName,M=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return n.containerRef=$},"data-testid":"container",style:F,className:Eh("reactEasyCrop_Container",I)},o?x.createElement("img",Zt({alt:"",className:Eh("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{src:o,ref:this.imageRef,style:Zt(Zt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(S,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):l&&x.createElement("video",Zt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Eh("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Zt(Zt({},H),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(S,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(V){return x.createElement("source",Zt({key:V.src},V))})),this.state.cropSize&&x.createElement("div",Zt({ref:this.cropperRef,style:Zt(Zt({},W),{width:D?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:D?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Eh("reactEasyCrop_CropArea",A==="round"&&"reactEasyCrop_CropAreaRound",T&&"reactEasyCrop_CropAreaGrid",R)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:fB,minZoom:hB,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:pB},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(x.Component);const gB=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=x.useState(null),[o,l]=x.useState({x:0,y:0}),[u,d]=x.useState(1),[p,g]=x.useState(null),[v,w]=x.useState(!1),[S,k]=x.useState(!1),A=x.useCallback((W,H)=>{g(H)},[]),T=async W=>{if(W.target.files&&W.target.files.length>0){const H=W.target.files[0],U=new FileReader;U.addEventListener("load",()=>{s(U.result),k(!0)}),U.readAsDataURL(H)}},D=W=>new Promise((H,U)=>{const I=new Image;I.addEventListener("load",()=>H(I)),I.addEventListener("error",R=>U(R)),I.setAttribute("crossOrigin","anonymous"),I.src=W}),j=async(W,H)=>{const U=await D(W),I=document.createElement("canvas"),R=I.getContext("2d");if(!R)throw new Error("No 2d context");return I.width=H.width,I.height=H.height,R.drawImage(U,H.x,H.y,H.width,H.height,0,0,H.width,H.height),new Promise((N,M)=>{I.toBlob(V=>{if(!V){M(new Error("Canvas is empty"));return}N(V)},"image/jpeg")})},F=async()=>{if(!(!r||!p)){w(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const W=await j(r,p);console.log("Image cropped successfully");const H=`avatars/${t}_${Date.now()}.jpg`,U=XV(rO,H);console.log("Uploading to Storage:",H);const I=await QV(U,W);console.log("Upload complete");const R=await YV(I.ref);console.log("Download URL obtained:",R),console.log("Updating Firestore..."),await Us(at(be,"users",t),{avatar:R}),console.log("Firestore updated"),n(R),k(!1),s(null)}catch(W){console.error("Detailed upload error:",W),alert("Failed to save image. Please check your internet connection or try again.")}finally{w(!1)}}};return h.jsxs("div",{className:"relative group",children:[h.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[h.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),h.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden"}),h.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),h.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),h.jsx(Os,{children:S&&r&&h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),h.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),h.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),h.jsx("div",{className:"relative h-96 bg-gray-900",children:h.jsx(mB,{image:r,crop:o,zoom:u,aspect:1,onCropChange:l,onCropComplete:A,onZoomChange:d})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),h.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:W=>d(Number(W.target.value)),className:"flex-grow accent-[#0066FF]"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),h.jsx("button",{onClick:F,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function yB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ql(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Bv(t){return"nodeType"in t}function rr(t){var e,n;return t?ql(t)?t:Bv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function zv(t){const{Document:e}=rr(t);return t instanceof e}function Zu(t){return ql(t)?!1:t instanceof rr(t).HTMLElement}function OR(t){return t instanceof rr(t).SVGElement}function Hl(t){return t?ql(t)?t.document:Bv(t)?zv(t)?t:Zu(t)||OR(t)?t.ownerDocument:document:document:document}const Fs=ap?x.useLayoutEffect:x.useEffect;function $v(t){const e=x.useRef(t);return Fs(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function vB(){const t=x.useRef(null),e=x.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Au(t,e){e===void 0&&(e=[t]);const n=x.useRef(t);return Fs(()=>{n.current!==t&&(n.current=t)},e),n}function ed(t,e){const n=x.useRef();return x.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function wf(t){const e=$v(t),n=x.useRef(null),r=x.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function Iy(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let Eg={};function td(t,e){return x.useMemo(()=>{if(e)return e;const n=Eg[t]==null?0:Eg[t]+1;return Eg[t]=n,t+"-"+n},[t,e])}function FR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[d,p]of u){const g=o[d];g!=null&&(o[d]=g+t*p)}return o},{...e})}}const vl=FR(1),ku=FR(-1);function wB(t){return"clientX"in t&&"clientY"in t}function Wv(t){if(!t)return!1;const{KeyboardEvent:e}=rr(t.target);return e&&t instanceof e}function xB(t){if(!t)return!1;const{TouchEvent:e}=rr(t.target);return e&&t instanceof e}function Ry(t){if(xB(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return wB(t)?{x:t.clientX,y:t.clientY}:null}const Pu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Pu.Translate.toString(t),Pu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),XE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bB(t){return t.matches(XE)?t:t.querySelector(XE)}const _B={display:"none"};function EB(t){let{id:e,value:n}=t;return nn.createElement("div",{id:e,style:_B},n)}function SB(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nn.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function TB(){const[t,e]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const UR=x.createContext(null);function CB(t){const e=x.useContext(UR);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function IB(){const[t]=x.useState(()=>new Set),e=x.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[x.useCallback(r=>{let{type:s,event:o}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,o)})},[t]),e]}const RB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},AB={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function kB(t){let{announcements:e=AB,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=RB}=t;const{announce:o,announcement:l}=TB(),u=td("DndLiveRegion"),[d,p]=x.useState(!1);if(x.useEffect(()=>{p(!0)},[]),CB(x.useMemo(()=>({onDragStart(v){let{active:w}=v;o(e.onDragStart({active:w}))},onDragMove(v){let{active:w,over:S}=v;e.onDragMove&&o(e.onDragMove({active:w,over:S}))},onDragOver(v){let{active:w,over:S}=v;o(e.onDragOver({active:w,over:S}))},onDragEnd(v){let{active:w,over:S}=v;o(e.onDragEnd({active:w,over:S}))},onDragCancel(v){let{active:w,over:S}=v;o(e.onDragCancel({active:w,over:S}))}}),[o,e])),!d)return null;const g=nn.createElement(nn.Fragment,null,nn.createElement(EB,{id:r,value:s.draggable}),nn.createElement(SB,{id:u,announcement:l}));return n?Uc.createPortal(g,n):g}var Ht;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ht||(Ht={}));function xf(){}function JE(t,e){return x.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function PB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ss=Object.freeze({x:0,y:0});function BR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zR(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function NB(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function ZE(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function $R(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function e2(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const jB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=e2(e,e.left,e.top),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=BR(e2(d),s);o.push({id:u,data:{droppableContainer:l,value:p}})}}return o.sort(zR)},DB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=ZE(e),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const p=ZE(d),g=s.reduce((w,S,k)=>w+BR(p[k],S),0),v=Number((g/4).toFixed(4));o.push({id:u,data:{droppableContainer:l,value:v}})}}return o.sort(zR)};function LB(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=o-n;if(r<s&&n<o){const d=e.width*e.height,p=t.width*t.height,g=l*u,v=g/(d+p-g);return Number(v.toFixed(4))}return 0}const MB=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=LB(u,e);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(NB)};function VB(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function WR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ss}function OB(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const FB=OB(1);function UB(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function BB(t,e,n){const r=UB(e);if(!r)return t;const{scaleX:s,scaleY:o,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),p=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=o?t.height/o:t.height;return{width:g,height:v,top:p,right:d+g,bottom:p+v,left:d}}const zB={ignoreTransform:!1};function Gl(t,e){e===void 0&&(e=zB);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=rr(t).getComputedStyle(t);p&&(n=BB(n,p,g))}const{top:r,left:s,width:o,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:o,height:l,bottom:u,right:d}}function t2(t){return Gl(t,{ignoreTransform:!0})}function $B(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function WB(t,e){return e===void 0&&(e=rr(t).getComputedStyle(t)),e.position==="fixed"}function qB(t,e){e===void 0&&(e=rr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function lp(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(zv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Zu(s)||OR(s)||n.includes(s))return n;const o=rr(t).getComputedStyle(s);return s!==t&&qB(s,o)&&n.push(s),WB(s,o)?n:r(s.parentNode)}return t?r(t):n}function qR(t){const[e]=lp(t,1);return e??null}function Sg(t){return!ap||!t?null:ql(t)?t:Bv(t)?zv(t)||t===Hl(t).scrollingElement?window:Zu(t)?t:null:null}function HR(t){return ql(t)?t.scrollX:t.scrollLeft}function GR(t){return ql(t)?t.scrollY:t.scrollTop}function Ay(t){return{x:HR(t),y:GR(t)}}var tn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(tn||(tn={}));function KR(t){return!ap||!t?!1:t===document.scrollingElement}function QR(t){const e={x:0,y:0},n=KR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const HB={x:.2,y:.2};function GB(t,e,n,r,s){let{top:o,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=HB);const{isTop:p,isBottom:g,isLeft:v,isRight:w}=QR(t),S={x:0,y:0},k={x:0,y:0},A={height:e.height*s.y,width:e.width*s.x};return!p&&o<=e.top+A.height?(S.y=tn.Backward,k.y=r*Math.abs((e.top+A.height-o)/A.height)):!g&&d>=e.bottom-A.height&&(S.y=tn.Forward,k.y=r*Math.abs((e.bottom-A.height-d)/A.height)),!w&&u>=e.right-A.width?(S.x=tn.Forward,k.x=r*Math.abs((e.right-A.width-u)/A.width)):!v&&l<=e.left+A.width&&(S.x=tn.Backward,k.x=r*Math.abs((e.left+A.width-l)/A.width)),{direction:S,speed:k}}function KB(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function YR(t){return t.reduce((e,n)=>vl(e,Ay(n)),ss)}function QB(t){return t.reduce((e,n)=>e+HR(n),0)}function YB(t){return t.reduce((e,n)=>e+GR(n),0)}function XB(t,e){if(e===void 0&&(e=Gl),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);qR(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const JB=[["x",["left","right"],QB],["y",["top","bottom"],YB]];class qv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=lp(n),s=YR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,l,u]of JB)for(const d of l)Object.defineProperty(this,d,{get:()=>{const p=u(r),g=s[o]-p;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class au{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function ZB(t){const{EventTarget:e}=rr(t);return t instanceof e?t:Hl(t)}function Tg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var kr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(kr||(kr={}));function n2(t){t.preventDefault()}function ez(t){t.stopPropagation()}var Ge;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ge||(Ge={}));const XR={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},tz=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ge.Right:return{...n,x:n.x+25};case Ge.Left:return{...n,x:n.x-25};case Ge.Down:return{...n,y:n.y+25};case Ge.Up:return{...n,y:n.y-25}}};class Hv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new au(Hl(n)),this.windowListeners=new au(rr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kr.Resize,this.handleCancel),this.windowListeners.add(kr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&XB(r),n(ss)}handleKeyDown(e){if(Wv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=XR,coordinateGetter:l=tz,scrollBehavior:u="smooth"}=s,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:ss;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const w=ku(v,g),S={x:0,y:0},{scrollableAncestors:k}=r.current;for(const A of k){const T=e.code,{isTop:D,isRight:j,isLeft:F,isBottom:W,maxScroll:H,minScroll:U}=QR(A),I=KB(A),R={x:Math.min(T===Ge.Right?I.right-I.width/2:I.right,Math.max(T===Ge.Right?I.left:I.left+I.width/2,v.x)),y:Math.min(T===Ge.Down?I.bottom-I.height/2:I.bottom,Math.max(T===Ge.Down?I.top:I.top+I.height/2,v.y))},N=T===Ge.Right&&!j||T===Ge.Left&&!F,M=T===Ge.Down&&!W||T===Ge.Up&&!D;if(N&&R.x!==v.x){const V=A.scrollLeft+w.x,$=T===Ge.Right&&V<=H.x||T===Ge.Left&&V>=U.x;if($&&!w.y){A.scrollTo({left:V,behavior:u});return}$?S.x=A.scrollLeft-V:S.x=T===Ge.Right?A.scrollLeft-H.x:A.scrollLeft-U.x,S.x&&A.scrollBy({left:-S.x,behavior:u});break}else if(M&&R.y!==v.y){const V=A.scrollTop+w.y,$=T===Ge.Down&&V<=H.y||T===Ge.Up&&V>=U.y;if($&&!w.x){A.scrollTo({top:V,behavior:u});return}$?S.y=A.scrollTop-V:S.y=T===Ge.Down?A.scrollTop-H.y:A.scrollTop-U.y,S.y&&A.scrollBy({top:-S.y,behavior:u});break}}this.handleMove(e,vl(ku(v,this.referenceCoordinates),S))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Hv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=XR,onActivation:s}=e,{active:o}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function r2(t){return!!(t&&"distance"in t)}function s2(t){return!!(t&&"delay"in t)}class Gv{constructor(e,n,r){var s;r===void 0&&(r=ZB(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:l}=o;this.props=e,this.events=n,this.document=Hl(l),this.documentListeners=new au(this.document),this.listeners=new au(r),this.windowListeners=new au(rr(l)),this.initialCoordinates=(s=Ry(o))!=null?s:ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(kr.Resize,this.handleCancel),this.windowListeners.add(kr.DragStart,n2),this.windowListeners.add(kr.VisibilityChange,this.handleCancel),this.windowListeners.add(kr.ContextMenu,n2),this.documentListeners.add(kr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(s2(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(r2(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(kr.Click,ez,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!s)return;const d=(n=Ry(e))!=null?n:ss,p=ku(s,d);if(!r&&u){if(r2(u)){if(u.tolerance!=null&&Tg(p,u.tolerance))return this.handleCancel();if(Tg(p,u.distance))return this.handleStart()}if(s2(u)&&Tg(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const nz={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kv extends Gv{constructor(e){const{event:n}=e,r=Hl(n.target);super(e,nz,r)}}Kv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const rz={move:{name:"mousemove"},end:{name:"mouseup"}};var ky;(function(t){t[t.RightClick=2]="RightClick"})(ky||(ky={}));class sz extends Gv{constructor(e){super(e,rz,Hl(e.event.target))}}sz.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===ky.RightClick?!1:(r?.({event:n}),!0)}}];const Cg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iz extends Gv{constructor(e){super(e,Cg)}static setup(){return window.addEventListener(Cg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Cg.move.name,e)};function e(){}}}iz.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var lu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(lu||(lu={}));var bf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(bf||(bf={}));function oz(t){let{acceleration:e,activator:n=lu.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:l=5,order:u=bf.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:w}=t;const S=lz({delta:v,disabled:!o}),[k,A]=vB(),T=x.useRef({x:0,y:0}),D=x.useRef({x:0,y:0}),j=x.useMemo(()=>{switch(n){case lu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case lu.DraggableRect:return s}},[n,s,d]),F=x.useRef(null),W=x.useCallback(()=>{const U=F.current;if(!U)return;const I=T.current.x*D.current.x,R=T.current.y*D.current.y;U.scrollBy(I,R)},[]),H=x.useMemo(()=>u===bf.TreeOrder?[...p].reverse():p,[u,p]);x.useEffect(()=>{if(!o||!p.length||!j){A();return}for(const U of H){if(r?.(U)===!1)continue;const I=p.indexOf(U),R=g[I];if(!R)continue;const{direction:N,speed:M}=GB(U,R,j,e,w);for(const V of["x","y"])S[V][N[V]]||(M[V]=0,N[V]=0);if(M.x>0||M.y>0){A(),F.current=U,k(W,l),T.current=M,D.current=N;return}}T.current={x:0,y:0},D.current={x:0,y:0},A()},[e,W,r,A,o,l,JSON.stringify(j),JSON.stringify(S),k,p,H,g,JSON.stringify(w)])}const az={x:{[tn.Backward]:!1,[tn.Forward]:!1},y:{[tn.Backward]:!1,[tn.Forward]:!1}};function lz(t){let{delta:e,disabled:n}=t;const r=Iy(e);return ed(s=>{if(n||!r||!s)return az;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[tn.Backward]:s.x[tn.Backward]||o.x===-1,[tn.Forward]:s.x[tn.Forward]||o.x===1},y:{[tn.Backward]:s.y[tn.Backward]||o.y===-1,[tn.Forward]:s.y[tn.Forward]||o.y===1}}},[n,e,r])}function cz(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return ed(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function uz(t,e){return x.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...o]},[]),[t,e])}var Nu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Nu||(Nu={}));var Py;(function(t){t.Optimized="optimized"})(Py||(Py={}));const i2=new Map;function dz(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,l]=x.useState(null),{frequency:u,measure:d,strategy:p}=s,g=x.useRef(t),v=T(),w=Au(v),S=x.useCallback(function(D){D===void 0&&(D=[]),!w.current&&l(j=>j===null?D:j.concat(D.filter(F=>!j.includes(F))))},[w]),k=x.useRef(null),A=ed(D=>{if(v&&!n)return i2;if(!D||D===i2||g.current!==t||o!=null){const j=new Map;for(let F of t){if(!F)continue;if(o&&o.length>0&&!o.includes(F.id)&&F.rect.current){j.set(F.id,F.rect.current);continue}const W=F.node.current,H=W?new qv(d(W),W):null;F.rect.current=H,H&&j.set(F.id,H)}return j}return D},[t,o,n,v,d]);return x.useEffect(()=>{g.current=t},[t]),x.useEffect(()=>{v||S()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{S(),k.current=null},u))},[u,v,S,...r]),{droppableRects:A,measureDroppableContainers:S,measuringScheduled:o!=null};function T(){switch(p){case Nu.Always:return!1;case Nu.BeforeDragging:return n;default:return!n}}}function JR(t,e){return ed(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function hz(t,e){return JR(t,e)}function fz(t){let{callback:e,disabled:n}=t;const r=$v(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function cp(t){let{callback:e,disabled:n}=t;const r=$v(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function pz(t){return new qv(Gl(t),t)}function o2(t,e,n){e===void 0&&(e=pz);const[r,s]=x.useState(null);function o(){s(d=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=d??n)!=null?p:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=fz({callback(d){if(t)for(const p of d){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){o();break}}}}),u=cp({callback:o});return Fs(()=>{o(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function mz(t){const e=JR(t);return WR(t,e)}const a2=[];function gz(t){const e=x.useRef(t),n=ed(r=>t?r&&r!==a2&&t&&e.current&&t.parentNode===e.current.parentNode?r:lp(t):a2,[t]);return x.useEffect(()=>{e.current=t},[t]),n}function yz(t){const[e,n]=x.useState(null),r=x.useRef(t),s=x.useCallback(o=>{const l=Sg(o.target);l&&n(u=>u?(u.set(l,Ay(l)),new Map(u)):null)},[]);return x.useEffect(()=>{const o=r.current;if(t!==o){l(o);const u=t.map(d=>{const p=Sg(d);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,Ay(p)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(o)};function l(u){u.forEach(d=>{const p=Sg(d);p?.removeEventListener("scroll",s)})}},[s,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,l)=>vl(o,l),ss):YR(t):ss,[t,e])}function l2(t,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const r=t!==ss;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ku(t,n.current):ss}function vz(t){x.useEffect(()=>{if(!ap)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function wz(t,e){return x.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=l=>{o(l,e)},n},{}),[t,e])}function ZR(t){return x.useMemo(()=>t?$B(t):null,[t])}const c2=[];function xz(t,e){e===void 0&&(e=Gl);const[n]=t,r=ZR(n?rr(n):null),[s,o]=x.useState(c2);function l(){o(()=>t.length?t.map(d=>KR(d)?r:new qv(e(d),d)):c2)}const u=cp({callback:l});return Fs(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function bz(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zu(e)?e:t}function _z(t){let{measure:e}=t;const[n,r]=x.useState(null),s=x.useCallback(p=>{for(const{target:g}of p)if(Zu(g)){r(v=>{const w=e(g);return v?{...v,width:w.width,height:w.height}:w});break}},[e]),o=cp({callback:s}),l=x.useCallback(p=>{const g=bz(p);o?.disconnect(),g&&o?.observe(g),r(g?e(g):null)},[e,o]),[u,d]=wf(l);return x.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const Ez=[{sensor:Kv,options:{}},{sensor:Hv,options:{}}],Sz={current:{}},zh={draggable:{measure:t2},droppable:{measure:t2,strategy:Nu.WhileDragging,frequency:Py.Optimized},dragOverlay:{measure:Gl}};class cu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Tz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zh,measureDroppableContainers:xf,windowRect:null,measuringScheduled:!1},Cz={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xf,draggableNodes:new Map,over:null,measureDroppableContainers:xf},up=x.createContext(Cz),eA=x.createContext(Tz);function Iz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cu}}}function Rz(t,e){switch(e.type){case Ht.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ht.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ht.DragEnd:case Ht.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ht.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new cu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Ht.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const l=new cu(t.droppable.containers);return l.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case Ht.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new cu(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function Az(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=x.useContext(up),o=Iy(r),l=Iy(n?.id);return x.useEffect(()=>{if(!e&&!r&&o&&l!=null){if(!Wv(o)||document.activeElement===o.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:p}=u;if(!d.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[d.current,p.current]){if(!g)continue;const v=bB(g);if(v){v.focus();break}}})}},[r,e,s,l,o]),null}function kz(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function Pz(t){return x.useMemo(()=>({draggable:{...zh.draggable,...t?.draggable},droppable:{...zh.droppable,...t?.droppable},dragOverlay:{...zh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Nz(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=x.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Fs(()=>{if(!l&&!u||!e){o.current=!1;return}if(o.current||!r)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=WR(g,r);if(l||(v.x=0),u||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=qR(p);w&&w.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const tA=x.createContext({...ss,scaleX:1,scaleY:1});var Gi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Gi||(Gi={}));const jz=x.memo(function(e){var n,r,s,o;let{id:l,accessibility:u,autoScroll:d=!0,children:p,sensors:g=Ez,collisionDetection:v=MB,measuring:w,modifiers:S,...k}=e;const A=x.useReducer(Rz,void 0,Iz),[T,D]=A,[j,F]=IB(),[W,H]=x.useState(Gi.Uninitialized),U=W===Gi.Initialized,{draggable:{active:I,nodes:R,translate:N},droppable:{containers:M}}=T,V=I!=null?R.get(I):null,$=x.useRef({initial:null,translated:null}),L=x.useMemo(()=>{var Oe;return I!=null?{id:I,data:(Oe=V?.data)!=null?Oe:Sz,rect:$}:null},[I,V]),ee=x.useRef(null),[_e,ze]=x.useState(null),[he,ne]=x.useState(null),ce=Au(k,Object.values(k)),le=td("DndDescribedBy",l),q=x.useMemo(()=>M.getEnabled(),[M]),G=Pz(w),{droppableRects:oe,measureDroppableContainers:ge,measuringScheduled:Le}=dz(q,{dragging:U,dependencies:[N.x,N.y],config:G.droppable}),Ce=cz(R,I),Be=x.useMemo(()=>he?Ry(he):null,[he]),De=Ur(),Ve=hz(Ce,G.draggable.measure);Nz({activeNode:I!=null?R.get(I):null,config:De.layoutShiftCompensation,initialRect:Ve,measure:G.draggable.measure});const je=o2(Ce,G.draggable.measure,Ve),xn=o2(Ce?Ce.parentElement:null),Dt=x.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Rt=M.getNodeFor((n=Dt.current.over)==null?void 0:n.id),bn=_z({measure:G.dragOverlay.measure}),Vr=(r=bn.nodeRef.current)!=null?r:Ce,sr=U?(s=bn.rect)!=null?s:je:null,as=!!(bn.nodeRef.current&&bn.rect),vi=mz(as?null:je),ft=ZR(Vr?rr(Vr):null),Ze=gz(U?Rt??Ce:null),_n=xz(Ze),ls=kz(S,{transform:{x:N.x-vi.x,y:N.y-vi.y,scaleX:1,scaleY:1},activatorEvent:he,active:L,activeNodeRect:je,containerNodeRect:xn,draggingNodeRect:sr,over:Dt.current.over,overlayNodeRect:bn.rect,scrollableAncestors:Ze,scrollableAncestorRects:_n,windowRect:ft}),wi=Be?vl(Be,N):null,So=yz(Ze),cs=l2(So),To=l2(So,[je]),ir=vl(ls,cs),Ln=sr?FB(sr,ls):null,us=L&&Ln?v({active:L,collisionRect:Ln,droppableRects:oe,droppableContainers:q,pointerCoordinates:wi}):null,ds=$R(us,"id"),[on,Co]=x.useState(null),hs=as?ls:vl(ls,To),xi=VB(hs,(o=on?.rect)!=null?o:null,je),Bs=x.useRef(null),qn=x.useCallback((Oe,zt)=>{let{sensor:Et,options:an}=zt;if(ee.current==null)return;const ln=R.get(ee.current);if(!ln)return;const Kt=Oe.nativeEvent,At=new Et({active:ee.current,activeNode:ln,event:Kt,options:an,context:Dt,onAbort(ct){if(!R.get(ct))return;const{onDragAbort:$t}=ce.current,Hn={id:ct};$t?.(Hn),j({type:"onDragAbort",event:Hn})},onPending(ct,cn,$t,Hn){if(!R.get(ct))return;const{onDragPending:En}=ce.current,Vn={id:ct,constraint:cn,initialCoordinates:$t,offset:Hn};En?.(Vn),j({type:"onDragPending",event:Vn})},onStart(ct){const cn=ee.current;if(cn==null)return;const $t=R.get(cn);if(!$t)return;const{onDragStart:Hn}=ce.current,Mn={activatorEvent:Kt,active:{id:cn,data:$t.data,rect:$}};Uc.unstable_batchedUpdates(()=>{Hn?.(Mn),H(Gi.Initializing),D({type:Ht.DragStart,initialCoordinates:ct,active:cn}),j({type:"onDragStart",event:Mn}),ze(Bs.current),ne(Kt)})},onMove(ct){D({type:Ht.DragMove,coordinates:ct})},onEnd:Br(Ht.DragEnd),onCancel:Br(Ht.DragCancel)});Bs.current=At;function Br(ct){return async function(){const{active:$t,collisions:Hn,over:Mn,scrollAdjustedTranslate:En}=Dt.current;let Vn=null;if($t&&En){const{cancelDrop:Qt}=ce.current;Vn={activatorEvent:Kt,active:$t,collisions:Hn,delta:En,over:Mn},ct===Ht.DragEnd&&typeof Qt=="function"&&await Promise.resolve(Qt(Vn))&&(ct=Ht.DragCancel)}ee.current=null,Uc.unstable_batchedUpdates(()=>{D({type:ct}),H(Gi.Uninitialized),Co(null),ze(null),ne(null),Bs.current=null;const Qt=ct===Ht.DragEnd?"onDragEnd":"onDragCancel";if(Vn){const Ei=ce.current[Qt];Ei?.(Vn),j({type:Qt,event:Vn})}})}}},[R]),bi=x.useCallback((Oe,zt)=>(Et,an)=>{const ln=Et.nativeEvent,Kt=R.get(an);if(ee.current!==null||!Kt||ln.dndKit||ln.defaultPrevented)return;const At={active:Kt};Oe(Et,zt.options,At)===!0&&(ln.dndKit={capturedBy:zt.sensor},ee.current=an,qn(Et,zt))},[R,qn]),Or=uz(g,bi);vz(g),Fs(()=>{je&&W===Gi.Initializing&&H(Gi.Initialized)},[je,W]),x.useEffect(()=>{const{onDragMove:Oe}=ce.current,{active:zt,activatorEvent:Et,collisions:an,over:ln}=Dt.current;if(!zt||!Et)return;const Kt={active:zt,activatorEvent:Et,collisions:an,delta:{x:ir.x,y:ir.y},over:ln};Uc.unstable_batchedUpdates(()=>{Oe?.(Kt),j({type:"onDragMove",event:Kt})})},[ir.x,ir.y]),x.useEffect(()=>{const{active:Oe,activatorEvent:zt,collisions:Et,droppableContainers:an,scrollAdjustedTranslate:ln}=Dt.current;if(!Oe||ee.current==null||!zt||!ln)return;const{onDragOver:Kt}=ce.current,At=an.get(ds),Br=At&&At.rect.current?{id:At.id,rect:At.rect.current,data:At.data,disabled:At.disabled}:null,ct={active:Oe,activatorEvent:zt,collisions:Et,delta:{x:ln.x,y:ln.y},over:Br};Uc.unstable_batchedUpdates(()=>{Co(Br),Kt?.(ct),j({type:"onDragOver",event:ct})})},[ds]),Fs(()=>{Dt.current={activatorEvent:he,active:L,activeNode:Ce,collisionRect:Ln,collisions:us,droppableRects:oe,draggableNodes:R,draggingNode:Vr,draggingNodeRect:sr,droppableContainers:M,over:on,scrollableAncestors:Ze,scrollAdjustedTranslate:ir},$.current={initial:sr,translated:Ln}},[L,Ce,us,Ln,R,Vr,sr,oe,M,on,Ze,ir]),oz({...De,delta:N,draggingRect:Ln,pointerCoordinates:wi,scrollableAncestors:Ze,scrollableAncestorRects:_n});const _i=x.useMemo(()=>({active:L,activeNode:Ce,activeNodeRect:je,activatorEvent:he,collisions:us,containerNodeRect:xn,dragOverlay:bn,draggableNodes:R,droppableContainers:M,droppableRects:oe,over:on,measureDroppableContainers:ge,scrollableAncestors:Ze,scrollableAncestorRects:_n,measuringConfiguration:G,measuringScheduled:Le,windowRect:ft}),[L,Ce,je,he,us,xn,bn,R,M,oe,on,ge,Ze,_n,G,Le,ft]),Fr=x.useMemo(()=>({activatorEvent:he,activators:Or,active:L,activeNodeRect:je,ariaDescribedById:{draggable:le},dispatch:D,draggableNodes:R,over:on,measureDroppableContainers:ge}),[he,Or,L,je,D,le,R,on,ge]);return nn.createElement(UR.Provider,{value:F},nn.createElement(up.Provider,{value:Fr},nn.createElement(eA.Provider,{value:_i},nn.createElement(tA.Provider,{value:xi},p)),nn.createElement(Az,{disabled:u?.restoreFocus===!1})),nn.createElement(kB,{...u,hiddenTextDescribedById:le}));function Ur(){const Oe=_e?.autoScrollEnabled===!1,zt=typeof d=="object"?d.enabled===!1:d===!1,Et=U&&!Oe&&!zt;return typeof d=="object"?{...d,enabled:Et}:{enabled:Et}}}),Dz=x.createContext(null),u2="button",Lz="Draggable";function Mz(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=td(Lz),{activators:l,activatorEvent:u,active:d,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:w}=x.useContext(up),{role:S=u2,roleDescription:k="draggable",tabIndex:A=0}=s??{},T=d?.id===e,D=x.useContext(T?tA:Dz),[j,F]=wf(),[W,H]=wf(),U=wz(l,e),I=Au(n);Fs(()=>(v.set(e,{id:e,key:o,node:j,activatorNode:W,data:I}),()=>{const N=v.get(e);N&&N.key===o&&v.delete(e)}),[v,e]);const R=x.useMemo(()=>({role:S,tabIndex:A,"aria-disabled":r,"aria-pressed":T&&S===u2?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[r,S,A,T,k,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:p,attributes:R,isDragging:T,listeners:r?void 0:U,node:j,over:w,setNodeRef:F,setActivatorNodeRef:H,transform:D}}function Vz(){return x.useContext(eA)}const Oz="Droppable",Fz={timeout:25};function Uz(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=td(Oz),{active:l,dispatch:u,over:d,measureDroppableContainers:p}=x.useContext(up),g=x.useRef({disabled:n}),v=x.useRef(!1),w=x.useRef(null),S=x.useRef(null),{disabled:k,updateMeasurementsFor:A,timeout:T}={...Fz,...s},D=Au(A??r),j=x.useCallback(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{p(Array.isArray(D.current)?D.current:[D.current]),S.current=null},T)},[T]),F=cp({callback:j,disabled:k||!l}),W=x.useCallback((R,N)=>{F&&(N&&(F.unobserve(N),v.current=!1),R&&F.observe(R))},[F]),[H,U]=wf(W),I=Au(e);return x.useEffect(()=>{!F||!H.current||(F.disconnect(),v.current=!1,F.observe(H.current))},[H,F]),x.useEffect(()=>(u({type:Ht.RegisterDroppable,element:{id:r,key:o,disabled:n,node:H,rect:w,data:I}}),()=>u({type:Ht.UnregisterDroppable,key:o,id:r})),[r]),x.useEffect(()=>{n!==g.current.disabled&&(u({type:Ht.SetDroppableDisabled,id:r,key:o,disabled:n}),g.current.disabled=n)},[r,o,n,u]),{active:l,rect:w,isOver:d?.id===r,node:H,over:d,setNodeRef:U}}function Qv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Bz(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function Sh(t){return t!==null&&t>=0}function zz(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $z(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const nA=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=Qv(e,r,n),l=e[s],u=o[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},Th={scaleX:1,scaleY:1},Wz=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:l}=t;const u=(e=o[n])!=null?e:r;if(!u)return null;if(s===n){const p=o[l];return p?{x:0,y:n<l?p.top+p.height-(u.top+u.height):p.top-u.top,...Th}:null}const d=qz(o,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,...Th}:s<n&&s>=l?{x:0,y:u.height+d,...Th}:{x:0,y:0,...Th}};function qz(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const rA="Sortable",sA=nn.createContext({activeIndex:-1,containerId:rA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nA,disabled:{draggable:!1,droppable:!1}});function Hz(t){let{children:e,id:n,items:r,strategy:s=nA,disabled:o=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:p,measureDroppableContainers:g}=Vz(),v=td(rA,n),w=u.rect!==null,S=x.useMemo(()=>r.map(U=>typeof U=="object"&&"id"in U?U.id:U),[r]),k=l!=null,A=l?S.indexOf(l.id):-1,T=p?S.indexOf(p.id):-1,D=x.useRef(S),j=!zz(S,D.current),F=T!==-1&&A===-1||j,W=$z(o);Fs(()=>{j&&k&&g(S)},[j,S,k,g]),x.useEffect(()=>{D.current=S},[S]);const H=x.useMemo(()=>({activeIndex:A,containerId:v,disabled:W,disableTransforms:F,items:S,overIndex:T,useDragOverlay:w,sortedRects:Bz(S,d),strategy:s}),[A,v,W.draggable,W.droppable,F,S,T,d,w,s]);return nn.createElement(sA.Provider,{value:H},e)}const Gz=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Qv(n,r,s).indexOf(e)},Kz=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:l,previousItems:u,previousContainerId:d,transition:p}=t;return!p||!r||u!==o&&s===l?!1:n?!0:l!==s&&e===d},Qz={duration:200,easing:"ease"},iA="transform",Yz=Pu.Transition.toString({property:iA,duration:0,easing:"linear"}),Xz={roleDescription:"sortable"};function Jz(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,l]=x.useState(null),u=x.useRef(n);return Fs(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const p=Gl(r.current,{ignoreTransform:!0}),g={x:d.left-p.left,y:d.top-p.top,scaleX:d.width/p.width,scaleY:d.height/p.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function Zz(t){let{animateLayoutChanges:e=Kz,attributes:n,disabled:r,data:s,getNewIndex:o=Gz,id:l,strategy:u,resizeObserverConfig:d,transition:p=Qz}=t;const{items:g,containerId:v,activeIndex:w,disabled:S,disableTransforms:k,sortedRects:A,overIndex:T,useDragOverlay:D,strategy:j}=x.useContext(sA),F=e$(r,S),W=g.indexOf(l),H=x.useMemo(()=>({sortable:{containerId:v,index:W,items:g},...s}),[v,s,W,g]),U=x.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:I,node:R,isOver:N,setNodeRef:M}=Uz({id:l,data:H,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...d}}),{active:V,activatorEvent:$,activeNodeRect:L,attributes:ee,setNodeRef:_e,listeners:ze,isDragging:he,over:ne,setActivatorNodeRef:ce,transform:le}=Mz({id:l,data:H,attributes:{...Xz,...n},disabled:F.draggable}),q=yB(M,_e),G=!!V,oe=G&&!k&&Sh(w)&&Sh(T),ge=!D&&he,Le=ge&&oe?le:null,Be=oe?Le??(u??j)({rects:A,activeNodeRect:L,activeIndex:w,overIndex:T,index:W}):null,De=Sh(w)&&Sh(T)?o({id:l,items:g,activeIndex:w,overIndex:T}):W,Ve=V?.id,je=x.useRef({activeId:Ve,items:g,newIndex:De,containerId:v}),xn=g!==je.current.items,Dt=e({active:V,containerId:v,isDragging:he,isSorting:G,id:l,index:W,items:g,newIndex:je.current.newIndex,previousItems:je.current.items,previousContainerId:je.current.containerId,transition:p,wasDragging:je.current.activeId!=null}),Rt=Jz({disabled:!Dt,index:W,node:R,rect:I});return x.useEffect(()=>{G&&je.current.newIndex!==De&&(je.current.newIndex=De),v!==je.current.containerId&&(je.current.containerId=v),g!==je.current.items&&(je.current.items=g)},[G,De,v,g]),x.useEffect(()=>{if(Ve===je.current.activeId)return;if(Ve!=null&&je.current.activeId==null){je.current.activeId=Ve;return}const Vr=setTimeout(()=>{je.current.activeId=Ve},50);return()=>clearTimeout(Vr)},[Ve]),{active:V,activeIndex:w,attributes:ee,data:H,rect:I,index:W,newIndex:De,items:g,isOver:N,isSorting:G,isDragging:he,listeners:ze,node:R,overIndex:T,over:ne,setNodeRef:q,setActivatorNodeRef:ce,setDroppableNodeRef:M,setDraggableNodeRef:_e,transform:Rt??Be,transition:bn()};function bn(){if(Rt||xn&&je.current.newIndex===W)return Yz;if(!(ge&&!Wv($)||!p)&&(G||Dt))return Pu.Transition.toString({...p,property:iA})}}function e$(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function _f(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const t$=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],n$=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:l,scrollableAncestors:u}}=e;if(t$.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const w=s.get(v.id);if(w)switch(t.code){case Ge.Down:r.top<w.top&&d.push(v);break;case Ge.Up:r.top>w.top&&d.push(v);break;case Ge.Left:r.left>w.left&&d.push(v);break;case Ge.Right:r.left<w.left&&d.push(v);break}});const p=DB({collisionRect:r,droppableRects:s,droppableContainers:d});let g=$R(p,"id");if(g===l?.id&&p.length>1&&(g=p[1].id),g!=null){const v=o.get(n.id),w=o.get(g),S=w?s.get(w.id):null,k=w?.node.current;if(k&&S&&v&&w){const T=lp(k).some((U,I)=>u[I]!==U),D=oA(v,w),j=r$(v,w),F=T||!D?{x:0,y:0}:{x:j?r.width-S.width:0,y:j?r.height-S.height:0},W={x:S.left,y:S.top};return F.x&&F.y?W:ku(W,F)}}}};function oA(t,e){return!_f(t)||!_f(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function r$(t,e){return!_f(t)||!_f(e)||!oA(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const s$=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:o,setNodeRef:l,transform:u,transition:d,isDragging:p}=Zz({id:t}),g={transform:Pu.Transform.toString(u),transition:d,zIndex:p?50:"auto"};return h.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${p?"shadow-lg ring-2 ring-blue-100":""}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n&&h.jsx("button",{...s,...o,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),h.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&h.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},i$=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],o$=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=x.useState(""),[o,l]=x.useState(!1),u=PB(JE(Kv),JE(Hv,{coordinateGetter:n$})),d=w=>{const{active:S,over:k}=w;if(k&&S.id!==k.id){const A=t.indexOf(S.id),T=t.indexOf(k.id);n(Qv(t,A,T))}},p=w=>{const S=w.trim();S&&!t.includes(S)&&n([...t,S]),s(""),l(!1)},g=w=>{n(t.filter(S=>S!==w))},v=i$.filter(w=>w.toLowerCase().includes(r.toLowerCase())&&!t.includes(w));return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:r,onChange:w=>{s(w.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:w=>{w.key==="Enter"&&p(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),o&&r&&v.length>0&&h.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(w=>h.jsx("button",{onClick:()=>p(w),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:w},w))})]}),h.jsx(jz,{sensors:u,collisionDetection:jB,onDragEnd:d,children:h.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.jsx(Hz,{items:t,strategy:Wz,children:t.map(w=>h.jsx(s$,{id:w,skill:w,isOwnProfile:e,onRemove:g},w))})})}),t.length===0&&h.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:h.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},a$=({onActionComplete:t})=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(null),u=async()=>{s(!0);try{const g=await WU(),v=await Promise.all(g.map(async w=>{const S=await rs(at(be,"users",w.requesterId));if(S.exists()){const k=S.data();return{...w,requesterName:k.name,requesterAvatar:k.avatar}}return w}));n(v)}catch(g){console.error("Error loading incoming requests:",g)}finally{s(!1)}};x.useEffect(()=>{u()},[]);const d=async(g,v)=>{l(g);try{await Uv(g,v),n(w=>w.filter(S=>S.id!==g)),t()}catch(w){console.error(w)}finally{l(null)}},p=async g=>{l(g);try{await $U(g),n(v=>v.filter(w=>w.id!==g)),t()}catch(v){console.error("Error ignoring request:",v)}};return r||e.length===0?null:h.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",h.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),h.jsx("div",{className:"space-y-4",children:e.map(g=>h.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[h.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:h.jsx("img",{src:g.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${g.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-grow text-center md:text-left",children:[h.jsx("h4",{className:"font-bold text-gray-900",children:g.requesterName||"Anonymous Student"}),g.note&&h.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',g.note,'"']})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>p(g.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),h.jsx("button",{onClick:()=>d(g.id,g.requesterId),disabled:o===g.id,className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 disabled:opacity-50",children:"                          Accept"})]})]},g.id))})]})},Yv=async t=>{try{const e=at(be,"users",t),n=await rs(e);return n.exists()?{uid:t,...n.data()}:null}catch(e){return console.error("Error fetching profile:",e),null}},l$=async t=>{try{const e=at(be,"users",t);await Us(e,{"stats.profileViews":PC(1)})}catch(e){console.error("Error incrementing profile views:",e)}},aA=async(t,e)=>{try{const n=at(be,"users",t);await Zf(n,{...e,lastActive:sn()},{merge:!0})}catch(n){throw console.error("Error updating profile:",n),n}},lA=Object.freeze(Object.defineProperty({__proto__:null,getUserProfile:Yv,incrementProfileViews:l$,updateProfile:aA},Symbol.toStringTag,{value:"Module"})),c$=({isOpen:t,onClose:e,userId:n,onSuccess:r})=>{const[s,o]=x.useState({name:"",headline:"",bio:"",college:"",skills:[]}),[l,u]=x.useState(""),[d,p]=x.useState(!0),[g,v]=x.useState(!1),[w,S]=x.useState("");x.useEffect(()=>{t&&n&&k()},[t,n]);const k=async()=>{p(!0);const T=await Yv(n);T&&(o(T),u(T.skills.join(", "))),p(!1)},A=async T=>{T.preventDefault();const D=yl(s.name||""),j=yl(s.headline||""),F=yl(s.bio||"");if(D.hasProfanity||j.hasProfanity||F.hasProfanity){S(Vv());return}S(""),v(!0);try{const W={...s,skills:l.split(",").map(H=>H.trim()).filter(Boolean)};await aA(n,W),r&&r(),e()}catch(W){console.error("Failed to update profile:",W)}finally{v(!1)}};return h.jsx(Os,{children:t&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Ie.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(EU,{className:"h-6 w-6 text-gray-500"})})]}),d?h.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading profile..."}):h.jsxs("form",{onSubmit:A,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:w}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:s.name,onChange:T=>{o({...s,name:T.target.value}),w&&S("")},className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Headline"}),h.jsx("input",{type:"text",value:s.headline,onChange:T=>o({...s,headline:T.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"e.g. Full Stack Developer | Student at MIT"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"College / Institution"}),h.jsx("input",{type:"text",value:s.college,onChange:T=>o({...s,college:T.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Skills (comma separated)"}),h.jsx("input",{type:"text",value:l,onChange:T=>u(T.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none",placeholder:"React, Python, UI Design"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Bio"}),h.jsx("textarea",{value:s.bio,onChange:T=>o({...s,bio:T.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all outline-none resize-none",rows:4,placeholder:"Tell us about yourself..."})]}),h.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-500 font-bold hover:bg-gray-50 rounded-full transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:g,className:"px-8 py-2 bg-[#0066FF] text-white font-bold rounded-full hover:bg-blue-600 shadow-lg shadow-blue-500/20 disabled:opacity-50 transition-all",children:g?"Saving...":"Save Profile"})]})]})]})]})})},d2=()=>{const t=Dn(),{userId:e}=Vy(),[n,r]=x.useState(!0),[s,o]=x.useState(null),[l,u]=x.useState(!1),[d,p]=x.useState(!1),[g,v]=x.useState(0),[w,S]=x.useState("none"),[k,A]=x.useState(null),[T,D]=x.useState(!1),[j,F]=x.useState([]),[W,H]=x.useState(!1),[U,I]=x.useState(null),[R,N]=x.useState(""),[M,V]=x.useState(!1),[$,L]=x.useState(!1),[ee,_e]=x.useState(""),ze=async()=>{try{const G=Fe.currentUser,oe=e||G?.uid;if(!oe){t("/login");return}u(oe===G?.uid);const ge=await Yv(oe);if(ge){if(o(ge),G&&oe!==G.uid){const{incrementProfileViews:Be}=await Tf(async()=>{const{incrementProfileViews:Rt}=await Promise.resolve().then(()=>lA);return{incrementProfileViews:Rt}},void 0);Be(oe);const De=tt(be,"connections"),Ve=yt(De,ot("requesterId","==",G.uid),ot("recipientId","==",oe)),je=yt(De,ot("requesterId","==",oe),ot("recipientId","==",G.uid)),[xn,Dt]=await Promise.all([wn(Ve),wn(je)]);if(xn.empty)if(Dt.empty)S("none"),A(null);else{const Rt=Dt.docs[0].data();S(Rt.status==="accepted"?"connected":"received"),A(Dt.docs[0].id)}else{const Rt=xn.docs[0].data();S(Rt.status==="accepted"?"connected":"pending"),A(xn.docs[0].id)}}}else e||t("/onboarding");const Le=await FU(oe);F(Le);const Ce=await qU(oe);v(Ce)}catch(G){console.error("Error fetching user data:",G)}finally{r(!1)}};x.useEffect(()=>{ze()},[t,e]);const he=async()=>{const G=e||s?.uid;if(!(!Fe.currentUser||!G)){if(w==="received"){if(k){D(!0);try{await Uv(k,G),S("connected"),v(oe=>oe+1)}catch(oe){console.error("Error accepting request:",oe)}finally{D(!1)}}return}if(!$){L(!0);return}D(!0);try{await Fv(G,ee),S("pending"),L(!1),_e("")}catch(oe){const ge=oe;console.error("Error sending connection request:",ge),alert(ge.message)}finally{D(!1)}}},ne=async G=>{if(G.preventDefault(),!Fe.currentUser||!U)return;const oe=R.split(",").map(ge=>ge.trim()).filter(Boolean);if(oe.length===0){alert("Please add at least one technology to the Tech Stack.");return}V(!0);try{U.id?await LU(U.id,{...U,techStack:oe}):await PR(Fe.currentUser.uid,{title:U.title||"",description:U.description||"",techStack:oe,rolesNeeded:[],category:"Development",ownerName:s?.name||"Anonymous",ownerAvatar:s?.avatar||"",githubUrl:U.githubUrl,liveUrl:U.liveUrl,status:"Open",thumbnailUrl:"",updatedAt:null}),ze(),H(!1),I(null)}catch(ge){console.error("Error saving project:",ge),alert("Failed to save project.")}finally{V(!1)}},ce=async G=>{if(window.confirm("Are you sure you want to delete this project?"))try{await MU(G),F(oe=>oe.filter(ge=>ge.id!==G))}catch(oe){console.error("Error deleting project:",oe),alert("Failed to delete project.")}},le=async G=>{if(!(!Fe.currentUser||!s))try{const oe=at(be,"users",s.uid||Fe.currentUser.uid);await Us(oe,{skills:G}),o(ge=>ge?{...ge,skills:G}:null)}catch(oe){console.error("Error updating skills:",oe),alert("Failed to update skills.")}},q=async()=>{if(s?.uid)try{const G=await Ov(s.uid);t(`/messages?conversationId=${G}`)}catch(G){console.error("Error starting conversation:",G)}};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),h.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?h.jsxs("div",{className:"min-h-screen bg-[#F4F6F8] pb-20",children:[h.jsxs("div",{className:"relative h-32 md:h-48 w-full overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})]}),h.jsxs("div",{className:"container mx-auto px-4 -mt-16 md:-mt-24 relative z-10 max-w-6xl",children:[l&&h.jsx(a$,{onActionComplete:ze}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[h.jsx("div",{className:"lg:w-80 flex-shrink-0",children:h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsxs("div",{className:"p-6 text-center border-b border-gray-100",children:[h.jsx("div",{className:"relative inline-block mb-4",children:l?h.jsx(gB,{userId:Fe.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:G=>o(oe=>oe?{...oe,avatar:G}:null)}):h.jsx("div",{className:"w-28 h-28 rounded-full border-4 border-white shadow-lg overflow-hidden bg-white mx-auto",children:h.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})}),h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx("h1",{className:"text-xl font-bold text-[#0f172a]",children:s.name}),s.isAdmin&&h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[9px] font-bold uppercase rounded",children:"Admin"})]}),h.jsx("p",{className:"text-[#0066FF] font-medium text-sm mb-2",children:s.role}),h.jsx("p",{className:"text-gray-500 text-xs mb-3",children:s.college||s.institution||"Student"}),h.jsxs("div",{className:"flex items-center justify-center gap-1 text-[#0066FF] font-semibold text-sm",children:[h.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),g," connections"]})]}),h.jsx("div",{className:"p-4 space-y-3",children:l?h.jsx("button",{onClick:()=>p(!0),className:"w-full py-3 bg-[#0066FF] text-white rounded-xl font-semibold text-sm hover:bg-blue-700 transition-all shadow-sm",children:"Edit Profile"}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:he,disabled:w!=="none"||T,className:`w-full py-3 rounded-xl font-semibold text-sm transition-all ${w==="none"?"bg-[#0066FF] text-white hover:bg-blue-700":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:T?"...":w==="pending"?"Pending":w==="connected"?"Connected":w==="received"?"Accept Request":"Connect"}),h.jsx("button",{onClick:q,className:"w-full py-3 border-2 border-gray-200 text-[#0f172a] rounded-xl font-semibold text-sm hover:bg-gray-50 transition-all",children:"Message"})]})}),(s.socials?.github||s.socials?.linkedin)&&h.jsxs("div",{className:"px-4 pb-4",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Social Links"}),h.jsxs("div",{className:"space-y-2",children:[s.socials?.github&&h.jsxs("a",{href:s.socials.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"GitHub"})]}),s.socials?.linkedin&&h.jsxs("a",{href:s.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 text-[#0066FF]",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),h.jsx("span",{className:"text-sm font-medium text-[#0066FF]",children:"LinkedIn"})]})]})]}),h.jsx("div",{className:"px-4 pb-6",children:h.jsx(o$,{skills:s.skills||[],isOwnProfile:l,onUpdate:le})})]})}),h.jsxs("div",{className:"flex-1 space-y-6",children:[h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"w-1 h-5 bg-[#0066FF] rounded-full"}),"About"]}),h.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] flex items-center gap-2",children:[h.jsx("span",{className:"w-1 h-5 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),l&&h.jsx("button",{onClick:()=>{I({title:"",description:"",techStack:[],githubUrl:"",liveUrl:""}),N(""),H(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-semibold rounded-lg hover:bg-blue-100 transition-all",children:"+ Add Project"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.length>0?j.map(G=>h.jsxs("div",{className:"p-5 rounded-xl border border-gray-100 hover:border-[#0066FF]/30 hover:shadow-sm transition-all flex flex-col h-full relative group",children:[l&&h.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:oe=>{oe.stopPropagation(),I(G),N(G.techStack?.join(", ")||""),H(!0)},className:"p-1.5 bg-white rounded-md shadow-sm border border-gray-100 text-gray-400 hover:text-blue-600 text-xs",children:"Edit"}),h.jsx("button",{onClick:oe=>{oe.stopPropagation(),ce(G.id)},className:"p-1.5 bg-white rounded-md shadow-sm border border-gray-100 text-gray-400 hover:text-red-600 text-xs",children:"Del"})]}),h.jsx("h4",{className:"font-semibold text-[#0f172a] group-hover:text-[#0066FF] mb-2",children:G.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2 flex-grow",children:G.description}),h.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-auto",children:[G.techStack?.slice(0,4).map(oe=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-500 rounded text-[10px] font-medium border border-gray-100",children:oe},oe)),G.techStack&&G.techStack.length>4&&h.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[10px] font-medium",children:["+",G.techStack.length-4]})]})]},G.id)):h.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:h.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."})})})]})]})]})]}),h.jsx(Os,{children:W&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-2xl p-6 overflow-hidden",children:[h.jsx("h3",{className:"text-xl font-bold mb-5",children:U?.id?"Edit Project":"Add Project"}),h.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[h.jsx("input",{required:!0,placeholder:"Project Title",value:U?.title||"",onChange:G=>I(oe=>({...oe,title:G.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] text-sm"}),h.jsx("textarea",{required:!0,rows:3,placeholder:"Description",value:U?.description||"",onChange:G=>I(oe=>({...oe,description:G.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] resize-none text-sm"}),h.jsx("input",{required:!0,placeholder:"Tech Stack (comma separated)",value:R,onChange:G=>N(G.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] text-sm"}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>H(!1),className:"flex-1 py-3 font-semibold text-gray-400 hover:text-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:M,className:"flex-[2] py-3 bg-[#0066FF] text-white font-semibold rounded-xl shadow-sm disabled:opacity-50",children:"Save Project"})]})]})]})]})}),h.jsx(Os,{children:$&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>L(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),h.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-white rounded-2xl p-6",children:[h.jsx("h3",{className:"text-xl font-bold mb-4",children:"Send Connection Request"}),h.jsx("textarea",{rows:3,placeholder:"Add a personalized note (optional)",value:ee,onChange:G=>_e(G.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 outline-none focus:border-[#0066FF] mb-4 text-sm"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>L(!1),className:"flex-1 font-semibold text-gray-400 hover:text-gray-600",children:"Cancel"}),h.jsx("button",{onClick:he,disabled:T,className:"flex-[2] py-3 bg-[#0066FF] text-white font-semibold rounded-xl disabled:opacity-50",children:"Send"})]})]})]})}),s&&h.jsx(c$,{isOpen:d,onClose:()=>p(!1),userId:s.uid,onSuccess:ze})]}):null},u$=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=x.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=o=>{const{name:l,value:u,type:d,checked:p}=o.target;n(g=>({...g,[l]:d==="checkbox"?p:u}))},s=o=>{o.preventDefault(),console.log("Form submitted:",e)};return h.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[h.jsx(Ot,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-900",children:"Executive Education"}),h.jsx("span",{children:""}),h.jsx("span",{className:"text-gray-400",children:t.title})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4 mb-4",children:h.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:h.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),h.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),h.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),h.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(tU,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),h.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(K8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Mv,{className:"w-6 h-6 text-[#5865F2] mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[h.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((o,l)=>h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:o.value}),h.jsx("p",{className:"text-gray-600 font-medium",children:o.label}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:o.source})]},l))]})]}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),h.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),h.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((o,l)=>h.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[h.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:o.title}),h.jsx(Z8,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),h.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"sticky top-24",children:h.jsxs(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[h.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),h.jsxs("form",{onSubmit:s,className:"space-y-4",children:[h.jsx("div",{children:h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),h.jsxs("div",{className:"space-y-3 pt-2",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(o=>({...o,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(o=>({...o,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),h.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},Ny={java:{id:"java",name:"Java",icon:"",description:"Robust, object-oriented programming language used for enterprise applications and Android development.",about:"Java is a high-level, class-based, object-oriented programming language that is designed to have as few implementation dependencies as possible. It is a general-purpose programming language intended to let application developers write once, run anywhere (WORA).",uses:["Enterprise Software","Android Mobile Apps","Backend Web Development","Big Data Technologies"],features:["Object-Oriented","Platform Independent","Secure","Multi-threaded"],careerScope:"High demand in large corporations, banking sectors, and Android app development firms.",whoShouldLearn:"Anyone interested in building large-scale backend systems or Android applications.",youtubeCourses:[{id:"1",title:"Java Full Course 2024",channel:"CodeWithHarry",duration:"12h 30m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"},{id:"2",title:"Java for Beginners",channel:"Telusko",duration:"15h 45m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},python:{id:"python",name:"Python",icon:"",description:"High-level, versatile language known for its readability and extensive libraries in AI and data science.",about:"Python is an interpreted, high-level and general-purpose programming language. Its design philosophy emphasizes code readability with its notable use of significant whitespace.",uses:["Data Science","Machine Learning","Artificial Intelligence","Web Development (Django/Flask)","Automation Scripts"],features:["Simple Syntax","Interpreted Language","Extensive Standard Library","Dynamically Typed"],careerScope:"Explosive growth due to AI/ML revolution; widely used in startups and researchers.",whoShouldLearn:"Beginners, future data scientists, and AI engineers.",youtubeCourses:[{id:"1",title:"Python for Beginners",channel:"Programming with Mosh",duration:"6h 14m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"},{id:"2",title:"100 Days of Python Code",channel:"Angela Yu",duration:"60h+",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},cpp:{id:"cpp",name:"C++",icon:"",description:"Powerful, performance-oriented language ideal for systems programming and competitive coding.",about:'C++ is a general-purpose programming language created by Bjarne Stroustrup as an extension of the C programming language, or "C with Classes".',uses:["Systems Programming","Game Development","Financial Systems","Competitive Programming"],features:["High Performance","Low-level Memory Manipulation","Multi-paradigm Support","Large Library Support"],careerScope:"Crucial for performance-critical industries like gaming, fintech, and OS development.",whoShouldLearn:"Students interested in low-level systems, game engines, or competitive programming.",youtubeCourses:[{id:"1",title:"C++ Tutorial for Beginners",channel:"FreeCodeCamp",duration:"31h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},javascript:{id:"javascript",name:"JavaScript",icon:"",description:"The language of the web, essential for frontend and backend development with Node.js.",about:"JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.",uses:["Web Frontend","Backend with Node.js","Mobile Apps (React Native)","Game Development"],features:["Lightweight","Asynchronous","Prototypal Inheritance","Event-Driven"],careerScope:"Universal demand; essential for every full-stack developer.",whoShouldLearn:"Aspiring web developers and software engineers.",youtubeCourses:[{id:"1",title:"JavaScript Mastery",channel:"Clever Programmer",duration:"10h 25m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},typescript:{id:"typescript",name:"TypeScript",icon:"",description:"Superset of JavaScript that adds static types, improving developer productivity and code quality.",about:"TypeScript is a strongly typed programming language that builds on JavaScript, giving you better tooling at any scale.",uses:["Large Scale Web Apps","Strictly Typed Projects","Frontend Frameworks (React/Angular)"],features:["Static Typing","IDE Support","Object-Oriented Features","Readable Code"],careerScope:"Increasingly preferred by top tech companies for web development over plain JS.",whoShouldLearn:"JavaScript developers looking to build more reliable and scalable applications.",youtubeCourses:[{id:"1",title:"TypeScript Full Course",channel:"Web Dev Simplified",duration:"2h 15m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},golang:{id:"golang",name:"Go",icon:"",description:"Statically typed language by Google, built for modern cloud infrastructure and concurrency.",about:"Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.",uses:["Cloud Native Development","Cloud Computing","Microservices","DevOps Tools"],features:["Concurrency Support","Fast Compilation","Simple Syntax","Garbage Collected"],careerScope:"Excellent scope in infrastructure-heavy companies and modern backend development.",whoShouldLearn:"Backend engineers and developers interested in cloud infrastructure.",youtubeCourses:[{id:"1",title:"Go / Golang Tutorial",channel:"CodeAcademy",duration:"4h 30m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},rust:{id:"rust",name:"Rust",icon:"",description:"Memory-safe systems programming language that provides high performance without a garbage collector.",about:"Rust is a multi-paradigm, general-purpose programming language designed for performance and safety, especially safe concurrency.",uses:["Systems Infrastructure","WebAssembly","Cryptocurrency Platforms","Embedded Systems"],features:["Memory Safety","Concurrency without Races","Zero-cost Abstractions","Efficient C Integration"],careerScope:"Highly paid niche; rapidly growing in popularity for safety-critical systems.",whoShouldLearn:"Systems programmers and anyone interested in high-performance, safe software.",youtubeCourses:[{id:"1",title:"Rust Programming Course",channel:"No Boilerplate",duration:"5h 10m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},swift:{id:"swift",name:"Swift",icon:"",description:"Powerful and intuitive programming language for iOS, iPadOS, macOS, tvOS, and watchOS.",about:"Swift is a robust and intuitive programming language created by Apple for building apps for iOS, Mac, Apple TV, and Apple Watch.",uses:["iOS App Development","macOS Applications","Server-side with Vapor"],features:["Safe","Fast","Expressive","Modern Syntax"],careerScope:"Strong demand in companies building high-quality Apple ecosystem products.",whoShouldLearn:"Aspiring mobile developers focused on the Apple ecosystem.",youtubeCourses:[{id:"1",title:"SwiftUI for Beginners",channel:"Design+Code",duration:"8h 20m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},kotlin:{id:"kotlin",name:"Kotlin",icon:"",description:"Modern, concise language fully interoperable with Java, and used for Android development.",about:"Kotlin is a cross-platform, statically typed, general-purpose programming language with type inference.",uses:["Android Mobile Apps","Backend Web Development","Multiplatform Mobile Development"],features:["Concise Code","Null Safety","Java Interoperability","Coroutines"],careerScope:"Standard for modern Android development; growing adoption in backend.",whoShouldLearn:"Android developers and Java developers looking for a modern alternative.",youtubeCourses:[{id:"1",title:"Kotlin Full Course",channel:"SmartHerd",duration:"12h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},php:{id:"php",name:"PHP",icon:"",description:"Server-side scripting language primarily used for web development and creating dynamic websites.",about:"PHP is a popular general-purpose scripting language that is especially suited to web development.",uses:["Server-side Web Apps","CMS (WordPress/Drupal)","E-commerce Platforms"],features:["Open Source","Easy Database Integration","Large Ecosystem","Flexible"],careerScope:"Powers a massive portion of the web; steady demand in web agencies.",whoShouldLearn:"Aspiring web developers and CMS enthusiasts.",youtubeCourses:[{id:"1",title:"PHP for Beginners",channel:"Dani Krossing",duration:"7h 45m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},ruby:{id:"ruby",name:"Ruby",icon:"",description:"Dynamic, open source programming language with a focus on simplicity and productivity.",about:"Ruby is a dynamic, interpreted, reflective, object-oriented, general-purpose programming language.",uses:["Web Development (Ruby on Rails)","Prototyping","Static Site Generators"],features:["Elegant Syntax","Object-Oriented","Highly Productive","Developer Friendly"],careerScope:"Strong niche in startups and companies valuing rapid development speed.",whoShouldLearn:"Developers who value code elegance and developer happiness.",youtubeCourses:[{id:"1",title:"Ruby Programming Course",channel:"Giraffe Academy",duration:"4h 15m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"},sql:{id:"sql",name:"SQL",icon:"",description:"Standard language for accessing and manipulating databases, essential for any data-related role.",about:"SQL (Structured Query Language) is a domain-specific language used in programming and designed for managing data held in a relational database management system.",uses:["Database Management","Data Analysis","Backend Development"],features:["Declarative","Standard-driven","Powerful Querying","Set-based Logic"],careerScope:"Essential for every backend developer, data analyst, and database administrator.",whoShouldLearn:"Anyone working with data or building web backends.",youtubeCourses:[{id:"1",title:"SQL Full Course for Beginners",channel:"Alex The Analyst",duration:"4h 0m",thumbnail:"https://img.youtube.com/vi/placeholder/hqdefault.jpg",url:"#"}],notesLink:"#"}},d$=()=>{const{resourceId:t}=Vy(),e=Dn(),n=()=>t==="programming-languages"?Object.values(Ny).map(u=>({id:u.id,title:u.name,type:"PDF",url:`/resource/programming-languages/${u.id}`,description:u.description})):t==="roadmaps-merged"?[{id:"rm-1",title:"Frontend Developer Roadmap",type:"Link",url:"https://roadmap.sh/frontend",description:"Step-by-step path to becoming a frontend engineer."},{id:"rm-2",title:"Backend Developer Roadmap",type:"Link",url:"https://roadmap.sh/backend",description:"Server-side technologies and architecture path."},{id:"rm-3",title:"DevOps Roadmap",type:"Link",url:"https://roadmap.sh/devops",description:"Infrastructure and automation learning path."},{id:"rm-4",title:"AI/ML Roadmap",type:"Link",url:"https://roadmap.sh/ai-data-scientist",description:"Data science and artificial intelligence path."}]:t==="cybersecurity"?[{id:"cs-1",title:"Ethical Hacking",type:"Video",url:"#",description:"Learn the fundamentals of penetration testing and ethical hacking."},{id:"cs-2",title:"Web Security",type:"Video",url:"#",description:"Secure web applications against common vulnerabilities like XSS and SQLi."},{id:"cs-3",title:"Network Security",type:"Video",url:"#",description:"Protect network infrastructure and data from unauthorized access."},{id:"cs-4",title:"OSINT",type:"Video",url:"#",description:"Open Source Intelligence gathering techniques and tools."},{id:"cs-5",title:"Cloud Security",type:"Video",url:"#",description:"Securing cloud environments and native applications."}]:t==="data-ai"?[{id:"da-1",title:"Data Structures & Algorithms",type:"Video",url:"#",description:"Core computer science concepts for efficient problem solving."},{id:"da-2",title:"Machine Learning",type:"Video",url:"#",description:"Supervised, unsupervised, and reinforcement learning algorithms."},{id:"da-3",title:"Deep Learning",type:"Video",url:"#",description:"Neural networks, computer vision, and NLP foundations."},{id:"da-4",title:"Data Science",type:"Video",url:"#",description:"Data analysis, visualization, and statistical modeling."},{id:"da-5",title:"MLOps",type:"Video",url:"#",description:"Deploying, monitoring, and maintaining ML models in production."}]:t==="web-app-dev"?[{id:"wd-1",title:"Frontend Development",type:"Video",url:"#",description:"Building responsive and interactive user interfaces."},{id:"wd-2",title:"Backend Development",type:"Video",url:"#",description:"Server-side logic, databases, and API development."},{id:"wd-3",title:"Full Stack Development",type:"Video",url:"#",description:"Mastering both client and server-side technologies."},{id:"wd-4",title:"Mobile App Development",type:"Video",url:"#",description:"Creating native and cross-platform mobile applications."}]:t==="cloud-devops"?[{id:"cd-1",title:"AWS, Azure, GCP",type:"Video",url:"#",description:"Mastering major public cloud platforms and services."},{id:"cd-2",title:"Docker & Kubernetes",type:"Video",url:"#",description:"Containerization and orchestration for scalable applications."},{id:"cd-3",title:"CI/CD Pipelines",type:"Video",url:"#",description:"Automating software delivery and deployment workflows."},{id:"cd-4",title:"Linux & SysAdmin",type:"Video",url:"#",description:"Essential Linux skills for server management and operations."}]:t==="career-prep"?[{id:"cp-1",title:"Interview Preparation",type:"Link",url:"#",description:"Technical and behavioral interview guides and tips."},{id:"cp-2",title:"Resume Building",type:"Link",url:"#",description:"Crafting effective resumes and cover letters."},{id:"cp-3",title:"System Design",type:"Link",url:"#",description:"Designing scalable and reliable software systems."},{id:"cp-4",title:"Internship Preparation",type:"Link",url:"#",description:"Guide to landing and succeeding in internships."}]:t==="competitive-prep"?[{id:"cmp-1",title:"Placement Aptitude",type:"Link",url:"#",description:"Quantitative, logical reasoning, and verbal ability practice."},{id:"cmp-2",title:"Coding Practice",type:"Link",url:"#",description:"Platform links and problem sets for coding interviews."},{id:"cmp-3",title:"CS Fundamentals",type:"Link",url:"#",description:"OS, DBMS, Networks, and OOPS core concepts."}]:[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"programming-languages":return"Programming Languages";case"roadmaps-merged":return"Learning Roadmaps";case"cybersecurity":return"Cybersecurity";case"data-ai":return"Data & AI";case"web-app-dev":return"Web & App Development";case"cloud-devops":return"Cloud & DevOps";case"career-prep":return"Career Preparation";case"competitive-prep":return"Competitive & Exam Prep";case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),o=r(t||"");return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(kR,{}),h.jsx("main",{className:"pt-32 pb-20 px-6",children:h.jsxs("div",{className:"container-custom mx-auto",children:[h.jsxs(Ie.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back"]}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:o}),h.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>h.jsxs(Ie.div,{onClick:()=>e(l.url),className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300 group cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide ${t==="programming-languages"?"bg-blue-50 text-blue-600":l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:t==="programming-languages"?"Full Course":l.type}),h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:t==="programming-languages"?Ny[l.id]?.icon||"":l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),h.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:l.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed line-clamp-2",children:l.description}),h.jsxs("div",{className:"inline-flex items-center text-[#0066FF] font-bold group-hover:translate-x-1 transition-transform text-sm",children:["Access Resource ",h.jsx("span",{className:"ml-1",children:""})]})]},l.id))})]})})]})},h$=()=>{const t=Dn(),[e,n]=x.useState(!0),[r,s]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(!1),[p,g]=x.useState(""),[v,w]=x.useState(""),S=async()=>{try{const T=(await KS(Fe,QC)).user,D=at(be,"users",T.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}catch(A){A instanceof Error?g(A.message):g("An unexpected error occurred")}},k=async A=>{A.preventDefault(),d(!0),g(""),w("");try{if(e){const T=await VS(Fe,r,o),D=at(be,"users",T.user.uid);(await rs(D)).exists()?t("/"):t("/onboarding")}else await MS(Fe,r,o),t("/onboarding")}catch(T){T instanceof Error?g(T.message):g("An unexpected error occurred")}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),h.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),h.jsxs(Ie.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:S,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[h.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),h.jsx("span",{children:"Continue with Google"})]}),h.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[h.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),h.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),h.jsx("input",{type:"email",required:!0,value:r,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),h.jsx("input",{type:"password",required:!0,value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),h.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),h.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),h.jsxs(Os,{children:[p&&h.jsx(Ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),v&&h.jsx(Ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),h.jsx(Ie.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),h.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:h.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",h.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},f$=()=>{const t=Dn(),[e,n]=x.useState(!1),[r,s]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(""),[p,g]=x.useState(""),[v,w]=x.useState(""),[S,k]=x.useState([]),[A,T]=x.useState(""),[D,j]=x.useState("");nn.useEffect(()=>{(async()=>{const I=Fe.currentUser;if(I){const R=at(be,"users",I.uid),N=await rs(R);if(N.exists()){const M=N.data();s(M.name||""),l(M.role||""),d(M.institution||""),g(M.bio||""),k(M.skills||[]),T(M.socials?.github||""),j(M.socials?.linkedin||"")}}})()},[]);const F=U=>{U.key==="Enter"&&v.trim()&&(U.preventDefault(),S.length<5&&!S.includes(v.trim())&&(k([...S,v.trim()]),w("")))},W=U=>{k(S.filter(I=>I!==U))},H=async U=>{U.preventDefault(),n(!0);try{const I=Fe.currentUser;if(!I)throw new Error("No user logged in");await Zf(at(be,"users",I.uid),{name:r,role:o,institution:u,bio:p,skills:S,socials:{github:A,linkedin:D},stats:{projects:0,stars:0,followers:0,following:0},avatar:I.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:I.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(I){console.error("Error saving profile:",I),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return h.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:h.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),h.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),h.jsxs("form",{onSubmit:H,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),h.jsx("input",{type:"text",required:!0,value:r,onChange:U=>s(U.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),h.jsx("input",{type:"text",required:!0,value:o,onChange:U=>l(U.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),h.jsx("input",{type:"text",required:!0,value:u,onChange:U=>d(U.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),h.jsx("textarea",{required:!0,value:p,onChange:U=>g(U.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:S.map(U=>h.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[U,h.jsx("button",{type:"button",onClick:()=>W(U),className:"hover:text-red-500",children:""})]},U))}),h.jsx("input",{type:"text",value:v,onChange:U=>w(U.target.value),onKeyDown:F,disabled:S.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:S.length>=5?"Max skills reached":"Type skill and press Enter"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),h.jsx("input",{type:"text",value:A,onChange:U=>T(U.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),h.jsx("input",{type:"text",value:D,onChange:U=>j(U.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},p$=()=>{const{languageId:t}=Vy(),e=Dn(),n=t?Ny[t]:null;return x.useEffect(()=>{window.scrollTo(0,0)},[]),n?h.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx(Ie.button,{onClick:()=>e("/resource/programming-languages"),className:"mb-8 px-4 py-2 rounded-lg bg-white hover:bg-gray-100 border border-gray-200 text-gray-600 transition-all flex items-center gap-2 text-sm font-medium shadow-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:" Back to Languages"}),h.jsxs(Ie.div,{className:"bg-white rounded-3xl p-8 mb-8 border border-gray-100 shadow-sm relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform duration-300",children:n.icon}),h.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:n.name}),h.jsx("p",{className:"text-lg text-gray-600 leading-relaxed max-w-3xl",children:n.description})]}),h.jsx("div",{className:"absolute top-1/2 right-[-20px] -translate-y-1/2 text-[180px] opacity-[0.03] select-none pointer-events-none",children:n.icon})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[h.jsx(NE,{className:"h-6 w-6 text-[#FF0000]"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Best Free Full Courses"})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.youtubeCourses.map(r=>h.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow group flex flex-col",children:[h.jsxs("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:h.jsx(yU,{className:"h-12 w-12 text-white drop-shadow-lg"})}),h.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-[10px] font-bold rounded",children:r.duration}),h.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:h.jsx(NE,{className:"h-8 w-8"})})]}),h.jsxs("div",{className:"p-4 flex-1",children:[h.jsx("h3",{className:"font-bold text-gray-900 mb-1 line-clamp-2 leading-snug",children:r.title}),h.jsx("p",{className:"text-xs text-gray-500 mb-4 font-medium",children:r.channel}),h.jsxs("a",{href:r.url,className:"mt-auto inline-flex items-center gap-2 text-sm font-bold text-[#0066FF] hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors w-fit",children:["Start Learning ",h.jsx(TE,{className:"h-3 w-3"})]})]})]},r.id))})]}),h.jsxs("section",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm space-y-10",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(kE,{className:"h-6 w-6 text-[#0066FF]"}),h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["About ",n.name]})]}),h.jsx("p",{className:"text-gray-600 leading-relaxed italic border-l-4 border-blue-50 pl-4",children:n.about})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Main Uses"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.uses.map((r,s)=>h.jsx("span",{className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl border border-blue-100",children:r},s))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Key Features"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.features.map((r,s)=>h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[h.jsx(X8,{className:"h-5 w-5 text-green-500 shrink-0"}),h.jsx("span",{className:"text-sm font-bold text-gray-800",children:r})]},s))})]}),"sections"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-[#0066FF] to-blue-700 rounded-3xl p-6 text-white shadow-xl shadow-blue-500/20",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:h.jsx(rU,{className:"h-6 w-6 text-white"})}),h.jsx("h2",{className:"text-xl font-bold",children:"Language Notes"})]}),h.jsxs("p",{className:"text-blue-50 text-sm mb-6 leading-relaxed",children:["Access comprehensive study notes, cheat sheets, and interview questions for ",n.name,"."]}),h.jsxs("a",{href:n.notesLink,className:"w-full flex items-center justify-center gap-2 py-3 bg-white text-[#0066FF] rounded-2xl font-bold text-sm hover:bg-blue-50 transition-colors shadow-lg",children:["Get Drive Notes ",h.jsx(TE,{className:"h-4 w-4"})]})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"flex items-center gap-2 text-md font-bold text-gray-900 mb-4",children:[h.jsx(Mv,{className:"h-5 w-5 text-orange-500"}),"Career Scope"]}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-semibold",children:n.careerScope})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-100 shadow-sm",children:[h.jsxs("h3",{className:"flex items-center gap-2 text-md font-bold text-gray-900 mb-4",children:[h.jsx(kE,{className:"h-5 w-5 text-indigo-500"}),"Who should learn?"]}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-semibold",children:n.whoShouldLearn})]})]})]})]})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Language not found"}),h.jsx("button",{onClick:()=>e("/resource/programming-languages"),className:"text-[#0066FF] font-bold hover:underline",children:"Return to Languages"})]})})},m$=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsx("div",{className:"flex-grow",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"University (All)"}),h.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),h.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"",children:"Role (All)"}),h.jsx("option",{value:"Frontend",children:"Frontend"}),h.jsx("option",{value:"Backend",children:"Backend"}),h.jsx("option",{value:"Fullstack",children:"Fullstack"}),h.jsx("option",{value:"Designer",children:"Designer"}),h.jsx("option",{value:"Researcher",children:"Researcher"})]}),h.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[h.jsx("option",{value:"recent",children:"Recently Active"}),h.jsx("option",{value:"connections",children:"Most Connections"}),h.jsx("option",{value:"university",children:"Same University"})]})]})]})}),g$=()=>{const[t,e]=x.useState(null);return x.useEffect(()=>{const n=jl(Fe,r=>{e(r)});return()=>n()},[]),t?h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-8 text-center border-b border-gray-100",children:[h.jsx(Ot,{to:"/profile",children:h.jsx("div",{className:"w-17 h-17 rounded-full border-2 border-white bg-blue-100 mx-auto flex items-center justify-center text-[#0066FF] font-bold text-2xl overflow-hidden hover:opacity-90 transition-opacity",children:t.email?.[0].toUpperCase()})}),h.jsxs("div",{className:"mt-4",children:[h.jsx(Ot,{to:"/profile",className:"font-bold text-gray-900 hover:underline",children:t.displayName||t.email?.split("@")[0]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:t.role||"Student & Aspiring Developer at CollabX"})]})]}),h.jsxs("div",{className:"py-3",children:[h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Profile viewers"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.profileViews||0})]})}),h.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Project views"}),h.jsx("span",{className:"text-[#0066FF] font-bold",children:t.stats?.projectViews||0})]})})]}),h.jsxs(Ot,{to:"/saved",className:"px-4 py-3 border-t border-gray-100 flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[h.jsx(q8,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-xs font-bold text-gray-800",children:"My Items"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm sticky top-20",children:[h.jsxs("div",{className:"p-3",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Recent"})}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs(Ot,{to:"/projects",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(gl,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Popular Projects"})]}),h.jsxs(Ot,{to:"/students",className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[h.jsx(AR,{className:"h-4 w-4"}),h.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"Student Network"})]})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Groups"})}),h.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-between font-bold text-[#0066FF] hover:underline cursor-pointer",children:[h.jsx("span",{className:"text-xs",children:"Events"}),h.jsx(RR,{className:"h-4 w-4 text-gray-600 hover:bg-gray-100 rounded p-0.5"})]}),h.jsx("div",{className:"mt-4 mb-2",children:h.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Followed Hashtags"})})]}),h.jsx("div",{className:"border-t border-gray-100 p-3 text-center hover:bg-gray-100 cursor-pointer transition-colors",children:h.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Discover more"})})]})]}):h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),h.jsxs("div",{className:"px-4 pb-4 -mt-7 text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-blue-50 mx-auto flex items-center justify-center text-blue-500 font-bold text-xl",children:"?"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"font-bold text-gray-900",children:"Welcome to CollabX!"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sign in to start collaborating"})]}),h.jsx("button",{className:"w-full mt-4 py-2 border-2 border-[#0066FF] text-[#0066FF] rounded-full text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})},cA=()=>{const t=Dn(),[e,n]=x.useState([]),[r,s]=x.useState({});x.useEffect(()=>{(async()=>{try{const d=Fe.currentUser,p=tt(be,"users"),g=yt(p,Jf(5)),v=await wn(g),w=[];for(const S of v.docs){const k=S.data();d&&k.uid===d.uid||k.name&&w.push(k)}if(n(w.slice(0,3)),d){const S={};for(const k of w.slice(0,3)){const{status:A}=await MR(k.uid);S[k.uid]=A}s(S)}}catch(d){console.error("Error fetching suggestions:",d)}})()},[]);const o=async u=>{if(!Fe.currentUser)return t("/login");if(r[u]==="none")try{await Fv(u),s(d=>({...d,[u]:"pending"}))}catch(d){console.error("Connection request failed:",d)}},l=[{title:"Cybersecurity",icon:"",desc:"Ethical Hacking, Web Security"},{title:"Data & AI",icon:"",desc:"ML, Deep Learning, MLOps"},{title:"Web Development",icon:"",desc:"Frontend, Backend, DevOps"}];return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Student Network"}),h.jsx(FE,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]}),h.jsx("div",{className:"flex flex-col gap-4",children:e.length>0?e.map(u=>h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 shrink-0 flex items-center justify-center text-[#0066FF] font-bold text-xs uppercase cursor-pointer",onClick:()=>t(`/profile/${u.uid}`),children:u.avatar?h.jsx("img",{src:u.avatar,alt:u.name,className:"w-full h-full object-cover rounded-full"}):u.name?.[0]||"U"}),h.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[h.jsx("div",{className:"flex items-center gap-1",children:h.jsx("span",{className:"font-bold text-sm text-gray-900 truncate hover:text-[#0066FF] hover:underline cursor-pointer",onClick:()=>t(`/profile/${u.uid}`),children:u.name})}),h.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[u.role||"Student"," ",u.college?`at ${u.college}`:""]}),h.jsx("button",{onClick:()=>o(u.uid),disabled:r[u.uid]!=="none"&&r[u.uid]!==void 0,className:`mt-1.5 flex items-center justify-center gap-1 px-3 py-1 border rounded-full text-sm font-bold transition-colors w-24 ${r[u.uid]==="pending"?"bg-gray-100 text-gray-500 border-gray-200 cursor-default":r[u.uid]==="connected"?"bg-green-50 text-green-600 border-green-200 cursor-default":"border-gray-500 text-gray-600 hover:bg-gray-50 hover:border-gray-800"}`,children:r[u.uid]==="pending"?h.jsx("span",{children:"Pending"}):r[u.uid]==="connected"?h.jsx("span",{children:"Friends"}):h.jsxs(h.Fragment,{children:[h.jsx(NU,{className:"h-4 w-4"}),h.jsx("span",{children:"Connect"})]})})]})]},u.uid)):h.jsx("div",{className:"text-center py-4 text-xs text-gray-500",children:"Loading suggestions..."})}),h.jsx("div",{className:"mt-4 pt-2 border-t border-gray-50",children:h.jsxs("button",{onClick:()=>t("/students"),className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[h.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"View all students"}),h.jsx(jE,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm sticky top-20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Learning Resources"}),h.jsx(FE,{className:"h-4 w-4 text-gray-400"})]}),h.jsx("div",{className:"flex flex-col gap-3",children:l.map((u,d)=>h.jsxs("div",{onClick:()=>t("/resources"),className:"group cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-lg",children:u.icon}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-800 group-hover:text-[#0066FF]",children:u.title}),h.jsx("span",{className:"text-[11px] text-gray-500",children:u.desc})]})]},d))}),h.jsx("div",{className:"mt-2 pt-2 border-t border-gray-50",children:h.jsxs("button",{onClick:()=>t("/resources"),className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[h.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"Explore all resources"}),h.jsx(jE,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),h.jsxs("div",{className:"mt-4 text-[11px] text-gray-400 flex flex-wrap justify-center gap-x-3 gap-y-1",children:[h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"About"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Privacy"}),h.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Terms"})]}),h.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded bg-[#0066FF] flex items-center justify-center text-white text-[8px] font-bold",children:"X"}),h.jsx("span",{className:"text-xs text-gray-500",children:"CollabX  2024"})]})]})]})},eo=({children:t})=>h.jsx("div",{className:"main-content pt-16 pb-32 lg:pt-20 lg:pb-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(g$,{})}),h.jsx("div",{className:"col-span-1 lg:col-span-6",children:t}),h.jsx("div",{className:"hidden lg:block lg:col-span-3",children:h.jsx(cA,{})})]})}),y$=()=>{const t=Dn(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState(""),[u,d]=x.useState({institution:"",role:""}),[p,g]=x.useState("recent"),[v,w]=x.useState(null);x.useEffect(()=>{(async()=>{try{const T=Fe.currentUser;if(T){const F=at(be,"users",T.uid),W=await rs(F);W.exists()&&w(W.data())}const D=await wn(tt(be,"users")),j=[];D.forEach(F=>{const W=F.data();F.id!==T?.uid&&j.push({...W,uid:F.id})}),n(j)}catch(T){console.error("Error fetching students:",T)}finally{s(!1)}})()},[]);const S=x.useMemo(()=>e.filter(A=>{const T=o.toLowerCase(),D=A.name.toLowerCase().includes(T)||A.role.toLowerCase().includes(T)||A.headline&&A.headline.toLowerCase().includes(T)||A.skills?.some(W=>W.toLowerCase().includes(T)),j=!u.institution||A.college===u.institution||A.institution===u.institution,F=!u.role||A.role.toLowerCase().includes(u.role.toLowerCase());return D&&j&&F}).sort((A,T)=>{if(p==="connections")return(T.stats?.connections||0)-(A.stats?.connections||0);if(p==="university"&&(v?.college||v?.institution)){const D=v?.college||v?.institution,j=A.college===D||A.institution===D?1:0;return(T.college===D||T.institution===D?1:0)-j}return 0}),[e,o,u,p,v]),k=()=>h.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm p-4 h-[320px] animate-pulse",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),h.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return h.jsx(eo,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(AR,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Network Discovery"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Connect with ambitious students from top universities and build your community."})]}),h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm lg:sticky lg:top-24 z-10",children:h.jsx(m$,{onSearchChange:l,onFilterChange:(A,T)=>d(D=>({...D,[A]:T})),onSortChange:g})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:6}).map((A,T)=>h.jsx(k,{},T)):h.jsx(Os,{children:S.length>0?S.map(A=>h.jsx(VR,{student:A,onClick:()=>t(`/profile/${A.uid}`)},A.uid)):h.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Ru,{className:"w-8 h-8 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search query."})]})})})]})})},v$=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,o]=x.useState(""),[l,u]=x.useState("idle"),d=async p=>{p.preventDefault(),u("submitting");try{await yi(tt(be,"feedback"),{name:t,email:n,message:s,created_at:it.now()}),u("success"),e(""),r(""),o(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return h.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:h.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),h.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),h.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),h.jsx("textarea",{id:"message",value:s,onChange:p=>o(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),h.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&h.jsx(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&h.jsx(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},qi=({children:t})=>{const[e,n]=x.useState(!0),[r,s]=x.useState(!1);return x.useEffect(()=>{const o=jl(Fe,l=>{s(!!l),n(!1)});return()=>o()},[]),e?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?h.jsx(h.Fragment,{children:t}):h.jsx(hP,{to:"/login"})},w$=()=>{const{pathname:t,hash:e}=Lr();return x.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},x$=async t=>{try{return(await yi(tt(be,"posts"),{...t,likesCount:0,commentsCount:0,repostsCount:0,createdAt:sn()})).id}catch(e){throw console.error("Error creating post:",e),e}},b$=t=>{const e=yt(tt(be,"posts"),_o("createdAt","desc"));return Cl(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));t(r)})},_$=async(t,e)=>{const n=at(be,"posts",t),r=`${e}_${t}`,s=at(be,"likes",r);try{await UM(be,async o=>{const l=await o.get(s),u=await o.get(n);if(!u.exists())throw new Error("Post does not exist!");const d=u.data().likesCount||0;l.exists()?(o.delete(s),o.update(n,{likesCount:Math.max(0,d-1)})):(o.set(s,{postId:t,userId:e,createdAt:sn()}),o.update(n,{likesCount:d+1}))})}catch(o){throw console.error("Error toggling like:",o),o}},E$=async t=>{try{const e=yt(tt(be,"likes"),ot("userId","==",t));return(await wn(e)).docs.map(r=>r.data().postId)}catch(e){return console.error("Error fetching user likes:",e),[]}},S$=()=>{const t=Dn(),[e,n]=x.useState([]),[r,s]=x.useState(""),[o,l]=x.useState(!1),[u,d]=x.useState(""),[p,g]=x.useState(new Set),[v,w]=x.useState({}),[S,k]=x.useState(!1),[A,T]=x.useState(null),[D,j]=x.useState([]),[F,W]=x.useState(!1),[H,U]=x.useState(new Set),I=Fe.currentUser;x.useEffect(()=>{const ee=b$(_e=>{n(_e)});return I&&E$(I.uid).then(_e=>{g(new Set(_e))}),()=>ee()},[I]);const R=async ee=>{if(ee.preventDefault(),!I||!r.trim()||o)return;const _e=yl(r);if(_e.hasProfanity){d(Vv(_e.foundWords));return}d(""),l(!0);try{await x$({userId:I.uid,authorName:I.displayName||"Anonymous User",authorAvatar:I.photoURL||"",authorRole:"Student",content:r,type:"post",tags:r.match(/#\w+/g)||[]}),s("")}catch(ze){console.error("Failed to create post:",ze)}finally{l(!1)}},N=async ee=>{if(!I||v[ee])return;const _e=p.has(ee),ze=[...e],he=new Set(p);g(ne=>{const ce=new Set(ne);return _e?ce.delete(ee):ce.add(ee),ce}),n(ne=>ne.map(ce=>{if(ce.id===ee){const le=ce.likesCount||0;return{...ce,likesCount:_e?Math.max(0,le-1):le+1}}return ce})),w(ne=>({...ne,[ee]:!0}));try{await _$(ee,I.uid)}catch(ne){console.error("Failed to toggle like:",ne),n(ze),g(he)}finally{w(ne=>({...ne,[ee]:!1}))}},M=ee=>{if(!ee)return"Just now";const _e=ee.toDate?ee.toDate():new Date(ee),he=Math.floor((new Date().getTime()-_e.getTime())/1e3);return he<60?`${he}s ago`:he<3600?`${Math.floor(he/60)}m ago`:he<86400?`${Math.floor(he/3600)}h ago`:`${Math.floor(he/86400)}d ago`},V=ee=>{t(`/profile/${ee}`)},$=async ee=>{if(I&&(T(ee),k(!0),D.length===0)){W(!0);try{const _e=await HU(I.uid);j(_e)}catch(_e){console.error("Failed to fetch connections:",_e)}finally{W(!1)}}},L=async ee=>{if(!(!I||!A)){U(_e=>new Set(_e).add(ee));try{const _e=await Ov(ee),ze=`Shared a post by ${A.authorName}:

${A.content.substring(0,100)}...`;await zU(_e,ze)}catch(_e){console.error("Failed to share post:",_e),U(ze=>{const he=new Set(ze);return he.delete(ee),he})}}};return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg shrink-0 overflow-hidden cursor-pointer",onClick:()=>I&&V(I.uid),children:I?.photoURL?h.jsx("img",{src:I.photoURL,alt:"Me",className:"w-full h-full object-cover"}):I?.displayName?.[0]||I?.email?.[0]||"U"}),h.jsxs("form",{onSubmit:R,className:"flex-1",children:[u&&h.jsx("div",{className:"mb-2 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:u}),h.jsx("textarea",{value:r,onChange:ee=>{s(ee.target.value),u&&d("")},placeholder:"Start a project or share an update...",className:"w-full text-left px-4 py-3 border border-gray-200 rounded-2xl text-gray-800 hover:bg-gray-50 transition-colors text-sm font-medium resize-none focus:outline-none focus:ring-1 focus:ring-blue-100",rows:2}),r.trim()&&h.jsx("div",{className:"flex justify-end mt-2",children:h.jsx("button",{type:"submit",disabled:o,className:"bg-[#0066FF] text-white px-4 py-1.5 rounded-full text-sm font-bold disabled:opacity-50 hover:bg-blue-600 transition-colors",children:o?"Posting...":"Post"})})]})]})}),e.map(ee=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 py-3 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between px-4 mb-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{onClick:()=>V(ee.userId),className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg overflow-hidden shrink-0 cursor-pointer hover:opacity-90 transition-opacity",children:ee.authorAvatar?h.jsx("img",{src:ee.authorAvatar,alt:_h(ee.authorName),className:"w-full h-full object-cover"}):_h(ee.authorName)[0]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{onClick:()=>V(ee.userId),className:"text-sm font-bold text-gray-900 flex items-center gap-1 hover:text-[#0066FF] hover:underline cursor-pointer",children:[_h(ee.authorName),h.jsx("span",{className:"text-xs font-normal text-gray-400",children:" 1st"})]}),h.jsx("span",{className:"text-[11px] text-gray-500 truncate w-48 sm:w-80",children:ee.authorRole||"Student"}),h.jsxs("span",{className:"text-[11px] text-gray-400 flex items-center gap-1",children:[M(ee.createdAt),"  ",h.jsx(RE,{className:"h-3 w-3"})]})]})]}),h.jsx("button",{className:"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8 flex items-center justify-center transition-colors",children:h.jsx(iU,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"px-4 mb-3",children:[h.jsx("p",{className:"text-sm text-gray-800 leading-normal whitespace-pre-wrap",children:_h(ee.content)}),ee.tags&&ee.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:ee.tags.map(_e=>h.jsx("span",{className:"text-sm font-bold text-[#0066FF] hover:underline cursor-pointer",children:_e},_e))})]}),ee.imageUrl&&h.jsx("div",{className:"mb-3",children:h.jsx("img",{src:ee.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[512px] object-cover"})}),h.jsxs("div",{className:"px-4 flex justify-between items-center pb-2 border-b border-gray-50",children:[h.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 hover:text-[#0066FF] cursor-pointer",children:[h.jsx("div",{className:"flex -space-x-1",children:h.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-white ${p.has(ee.id)?"bg-[#0066FF]":"bg-gray-400"}`,children:h.jsx(VE,{className:"h-2.5 w-2.5"})})}),h.jsx("span",{className:p.has(ee.id)?"text-[#0066FF] font-bold":"",children:ee.likesCount||0})]}),h.jsxs("div",{className:"flex gap-2 text-[11px] text-gray-500",children:[h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[ee.commentsCount||0," comments"]}),h.jsx("span",{children:""}),h.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[ee.repostsCount||0," shares"]})]})]}),h.jsxs("div",{className:"flex px-2 pt-1",children:[h.jsxs("button",{onClick:()=>N(ee.id),disabled:v[ee.id],className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded transition-colors group ${p.has(ee.id)?"text-[#0066FF] bg-blue-50/50":"text-gray-500 hover:bg-gray-100"}`,children:[p.has(ee.id)?h.jsx(VE,{className:`h-5 w-5 ${v[ee.id]?"animate-pulse":"group-hover:scale-110"}`}):h.jsx(uU,{className:`h-5 w-5 ${v[ee.id]?"animate-pulse":"group-hover:scale-110"}`}),h.jsx("span",{className:"text-sm font-bold",children:p.has(ee.id)?"Liked":"Like"})]}),h.jsxs("button",{onClick:()=>$(ee),className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[h.jsx(mU,{className:"h-5 w-5 -rotate-45 group-hover:scale-110 group-hover:text-[#0066FF]"}),h.jsx("span",{className:"text-sm font-bold group-hover:text-[#0066FF]",children:"Share"})]})]})]},ee.id)),S&&A&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>k(!1)}),h.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-2xl p-6 shadow-2xl overflow-hidden max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Share with Connections"}),h.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx("span",{className:"text-2xl",children:""})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto min-h-[200px]",children:F?h.jsx("div",{className:"flex justify-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):D.length>0?h.jsx("div",{className:"space-y-3",children:D.map(ee=>h.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 overflow-hidden",children:ee.avatar?h.jsx("img",{src:ee.avatar,alt:ee.name,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-blue-600 font-bold",children:ee.name[0]})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-sm text-gray-900",children:ee.name}),h.jsx("p",{className:"text-xs text-gray-500 truncate w-40",children:ee.role||"Student"})]})]}),h.jsx("button",{onClick:()=>L(ee.uid),disabled:H.has(ee.uid),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${H.has(ee.uid)?"bg-green-100 text-green-700":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,children:H.has(ee.uid)?"Sent":"Send"})]},ee.uid))}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx("p",{children:"No connections found."}),h.jsx("p",{className:"text-sm mt-1",children:"Connect with students to share posts!"})]})})]})]}),e.length===0&&h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500",children:[h.jsx(RE,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),h.jsx("p",{children:"No posts yet. Be the first to share something!"})]})]})},T$=()=>{const[t,e]=x.useState("All"),[n,r]=x.useState(""),[s,o]=x.useState([]),[l,u]=x.useState(!0),[d,p]=x.useState(null),[g,v]=x.useState(!1),[w,S]=x.useState(!1),[k,A]=x.useState(null);x.useEffect(()=>{T();const U=jl(Fe,I=>{p(I)});return()=>U()},[]);const T=async()=>{u(!0);const U=await OU();o(U),u(!1)},D=async U=>{if(!d){v(!0);return}A(U);try{await VU(U),await T()}catch(I){console.error("Failed to join project:",I)}finally{A(null)}},j=()=>{d?S(!0):v(!0)},F=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],W=s.filter(U=>{const I=t==="All"||U.category===t,R=U.title.toLowerCase().includes(n.toLowerCase())||U.description.toLowerCase().includes(n.toLowerCase())||U.techStack?.some(N=>N.toLowerCase().includes(n.toLowerCase()));return I&&R}),H=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm animate-pulse",children:[h.jsx("div",{className:"h-40 bg-gray-100"}),h.jsxs("div",{className:"p-4",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-4"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"}),h.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"})]})]})]});return h.jsxs(eo,{children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(gl,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Collaboration Projects"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Find projects to join and talented students to collaborate with."})]})]}),h.jsxs("button",{onClick:j,className:"bg-[#0066FF] text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[h.jsx(RR,{className:"h-5 w-5"}),"Post Project"]})]})}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm lg:sticky lg:top-24 z-10 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ru,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search by title, description, or stack...",value:n,onChange:U=>r(U.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white focus:border-transparent transition-all"})]}),h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[h.jsxs("div",{className:"flex items-center gap-1.5 mr-2 shrink-0 text-gray-500",children:[h.jsx(aU,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filters:"})]}),F.map(U=>h.jsx("button",{onClick:()=>e(U),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${t===U?"bg-[#0066FF] border-[#0066FF] text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:U},U))]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l?Array.from({length:4}).map((U,I)=>h.jsx(H,{},I)):h.jsx(Os,{children:W.length>0?W.map(U=>h.jsxs(Ie.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer",children:[h.jsxs("div",{className:"h-40 overflow-hidden relative",children:[h.jsx("img",{src:U.thumbnailUrl||`https://source.unsplash.com/random/800x600?tech,${U.category}`,alt:U.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-3 left-3",children:h.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-md text-[10px] font-bold text-[#0f172a] uppercase border border-white shadow-sm",children:U.category})})]}),h.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-[10px] overflow-hidden shrink-0",children:U.ownerAvatar?h.jsx("img",{src:U.ownerAvatar,alt:U.ownerName,className:"w-full h-full object-cover"}):U.ownerName[0]}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:U.ownerName})]}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:U.title}),h.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-4 h-8",children:U.description}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-4 h-6 overflow-hidden",children:U.techStack?.map(I=>h.jsxs("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2 py-0.5 rounded",children:["#",I]},I))}),h.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(gl,{className:"h-4 w-4"}),h.jsxs("span",{className:"text-[11px] font-medium",children:[U.members?.length||0," members"]})]}),h.jsx("button",{onClick:I=>{I.stopPropagation(),!U.members?.includes(d?.uid||"")&&(U.pendingRequests?.includes(d?.uid||"")||D(U.id))},disabled:k===U.id||U.members?.includes(d?.uid||"")||U.pendingRequests?.includes(d?.uid||""),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${U.members?.includes(d?.uid||"")?"bg-green-50 text-green-600 border border-green-100 cursor-default":U.pendingRequests?.includes(d?.uid||"")?"bg-yellow-50 text-yellow-600 border border-yellow-100 cursor-default":"bg-[#0066FF] text-white hover:bg-blue-600"}`,children:U.members?.includes(d?.uid||"")?"Joined":U.pendingRequests?.includes(d?.uid||"")?"Pending":k===U.id?"Joining...":"Join"})]})]})]},U.id)):h.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(gl,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Be the first to post a project in this category!"})]})})})]}),h.jsx(Lv,{isOpen:g,onClose:()=>v(!1)}),h.jsx(DR,{isOpen:w,onClose:()=>S(!1),onSuccess:T})]})},C$=()=>{const t=Dn(),[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,l]=x.useState("");x.useEffect(()=>{u()},[]);const u=async()=>{try{const g=tt(be,"resources"),v=yt(g),S=(await wn(v)).docs.map(k=>({id:k.id,...k.data()}));if(S.length===0)n([{id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"},{id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"},{id:"cybersecurity",title:"Cybersecurity",description:"Ethical Hacking, Web Security, Network Security, OSINT, Cloud Security.",icon:"",color:"badge-red"},{id:"data-ai",title:"Data & AI",description:"DSA, Machine Learning, Deep Learning, Data Science, MLOps.",icon:"",color:"badge-blue"},{id:"web-app-dev",title:"Web & App Development",description:"Frontend, Backend, Full Stack, Mobile App Development.",icon:"",color:"badge-purple"},{id:"cloud-devops",title:"Cloud & DevOps",description:"AWS, Azure, GCP, Docker, Kubernetes, CI/CD, Linux.",icon:"",color:"badge-blue"},{id:"career-prep",title:"Career Preparation",description:"Interview Prep, Resume Building, System Design, Internship Prep.",icon:"",color:"badge-yellow"},{id:"competitive-prep",title:"Competitive & Exam Prep",description:"Placement Aptitude, Coding Practice, CS Fundamentals.",icon:"",color:"badge-green"},{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]);else{const k=[{id:"programming-languages",title:"Programming Languages",description:"Detailed guides and resources for Java, Python, C++, JavaScript, and more.",icon:"",color:"badge-purple"},{id:"roadmaps-merged",title:"Learning Roadmaps",description:"Structured paths to help you master new skills and prepare for career goals.",icon:"",color:"badge-red"},{id:"cybersecurity",title:"Cybersecurity",description:"Ethical Hacking, Web Security, Network Security, OSINT, Cloud Security.",icon:"",color:"badge-red"},{id:"data-ai",title:"Data & AI",description:"DSA, Machine Learning, Deep Learning, Data Science, MLOps.",icon:"",color:"badge-blue"},{id:"web-app-dev",title:"Web & App Development",description:"Frontend, Backend, Full Stack, Mobile App Development.",icon:"",color:"badge-purple"},{id:"cloud-devops",title:"Cloud & DevOps",description:"AWS, Azure, GCP, Docker, Kubernetes, CI/CD, Linux.",icon:"",color:"badge-blue"},{id:"career-prep",title:"Career Preparation",description:"Interview Prep, Resume Building, System Design, Internship Prep.",icon:"",color:"badge-yellow"},{id:"competitive-prep",title:"Competitive & Exam Prep",description:"Placement Aptitude, Coding Practice, CS Fundamentals.",icon:"",color:"badge-green"}];let A=[...S];k.forEach(T=>{A.some(D=>D.id===T.id)||A.unshift(T)}),n(A)}}catch(g){console.error("Error fetching resources:",g)}finally{s(!1)}},d=e.filter(g=>g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())),p=()=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mb-4"}),h.jsx("div",{className:"h-5 bg-gray-100 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3"})]});return h.jsx(eo,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:h.jsx(Ty,{className:"h-6 w-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Resources"})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Curated study materials and exam preparation guides."})]}),h.jsxs("div",{className:"relative min-w-[300px]",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ru,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search resources...",value:o,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})]})}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?Array.from({length:3}).map((g,v)=>h.jsx(p,{},v)):h.jsx(Os,{children:d.length>0?d.map(g=>h.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/resource/${g.id}`),className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all cursor-pointer group flex items-start gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-xl flex items-center justify-center text-3xl shrink-0 group-hover:scale-110 transition-transform",children:g.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors",children:g.title}),h.jsx(U8,{className:"h-4 w-4 text-gray-300 group-hover:text-[#0066FF] group-hover:translate-x-1 transition-all"})]}),h.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed mb-3",children:g.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Study Guide"}),h.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Free Access"})]})]})]},g.id)):h.jsxs("div",{className:"py-16 text-center bg-white rounded-xl border border-gray-200",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:h.jsx(Mv,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No resources found"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Try different keywords or check back later."})]})})})]})})},I$=()=>h.jsxs("div",{className:"pb-20 pt-4 px-4 min-h-screen",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Explore"}),h.jsx("div",{className:"max-w-xl mx-auto",children:h.jsx(cA,{})})]}),R$=nn.lazy(()=>Tf(()=>import("./Messages-CuiDdCKt.js"),[])),A$=nn.lazy(()=>Tf(()=>import("./Notifications-Cicoydwj.js"),[])),k$=()=>{const t=Lr();return nn.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const o=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:o,behavior:"smooth"})}},100)}},[t.hash]),t.hash?h.jsxs("main",{className:"bg-white min-h-screen",children:[h.jsx(DU,{}),h.jsx("div",{id:"projects",children:h.jsx(UU,{})}),h.jsx("div",{id:"resources",children:h.jsx(BU,{})}),h.jsx(GU,{}),h.jsx(v$,{})]}):h.jsx(eo,{children:h.jsx(S$,{})})},P$=()=>h.jsxs("div",{className:"min-h-screen bg-[#f3f2ef] text-[#0f172a] font-sans",children:[h.jsx(w$,{}),h.jsx(kR,{}),h.jsxs(pP,{children:[h.jsx(Bn,{path:"/",element:h.jsx(k$,{})}),h.jsx(Bn,{path:"/profile",element:h.jsx(qi,{children:h.jsx(d2,{})})}),h.jsx(Bn,{path:"/profile/:userId",element:h.jsx(qi,{children:h.jsx(d2,{})})}),h.jsx(Bn,{path:"/students",element:h.jsx(qi,{children:h.jsx(eo,{children:h.jsx(y$,{})})})}),h.jsx(Bn,{path:"/projects",element:h.jsx(qi,{children:h.jsx(eo,{children:h.jsx(T$,{})})})}),h.jsx(Bn,{path:"/resources",element:h.jsx(qi,{children:h.jsx(eo,{children:h.jsx(C$,{})})})}),h.jsx(Bn,{path:"/explore",element:h.jsx(eo,{children:h.jsx(I$,{})})}),h.jsx(Bn,{path:"/onboarding",element:h.jsx(qi,{children:h.jsx(f$,{})})}),h.jsx(Bn,{path:"/messages",element:h.jsx(qi,{children:h.jsx(R$,{})})}),h.jsx(Bn,{path:"/notifications",element:h.jsx(qi,{children:h.jsx(A$,{})})}),h.jsx(Bn,{path:"/roadmap/:roadmapId",element:h.jsx(u$,{})}),h.jsx(Bn,{path:"/resource/:resourceId",element:h.jsx(d$,{})}),h.jsx(Bn,{path:"/resource/programming-languages/:languageId",element:h.jsx(p$,{})}),h.jsx(Bn,{path:"/login",element:h.jsx(h$,{})})]}),h.jsx(iN,{})]});Ek.createRoot(document.getElementById("root")).render(h.jsx(x.StrictMode,{children:h.jsx(OP,{children:h.jsx(P$,{})})}));export{mU as F,Fe as a,M$ as b,Dn as c,O$ as d,F$ as e,X8 as f,Yv as g,gl as h,h as j,L$ as l,V$ as m,x as r,zU as s,N$ as u};
